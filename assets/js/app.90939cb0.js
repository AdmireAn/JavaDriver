(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,o,l=e[0],s=e[1],c=e[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r]);for(d&&d(e);p.length;)p.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],r=!0,l=1;l<t.length;l++){var s=t[l];0!==a[s]&&(r=!1)}r&&(i.splice(e--,1),n=o(o.s=t[0]))}return n}var r={},a={1:0},i=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=a[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=a[n]=[e,r]}));e.push(t[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"8d23e9e5",3:"ac8e7f2b",4:"1be738b1",5:"a1f24142",6:"9b4da7fa",7:"d087188e",8:"c9b8a060",9:"0d1b917b",10:"1edb6dac",11:"06baedfc",12:"f630918a",13:"a35107d5",14:"4ee86474",15:"92d29b5e",16:"98bffc3b",17:"a8538471",18:"080f06c4",19:"3d0b2033",20:"561a0ed2",21:"420dd843",22:"98b908ab",23:"84d6cab1",24:"dbf6b50f",25:"4d483080",26:"c686e987",27:"9de53bd3",28:"9ba021c1",29:"f569f48b",30:"572c0ea8",31:"56979919",32:"abc7cf1b",33:"c8320ed6",34:"52928a22",35:"e6a425be",36:"7e6e2485",37:"edf87a13",38:"c47c2369",39:"9aaceb5c",40:"276a8da4",41:"a14cbeea",42:"865930a2",43:"285c2f43",44:"cc6f4789",45:"6e0506e9",46:"da5a18f8",47:"72808083",48:"3344f1f8",49:"23c17619",50:"4230b8a8",51:"a6eb687f",52:"c4502dea",53:"eba15757",54:"4b3ecb2b",55:"2dfeef15",56:"6cf927ae",57:"00621ad1",58:"4eb2acfb",59:"d84c66ff",60:"7de90538",61:"8ae7f9c6",62:"b9ecfb10",63:"46f48322",64:"b26606de",65:"4d7824c8",66:"986ba9c4",67:"958eb003",68:"a2b5629a",69:"1aec44ee",70:"7cd7b4e4",71:"c7b8deb0",72:"c9db6cf2",73:"5746737d",74:"bf9a945b",75:"04eaebc8",76:"8ac15c25",77:"a4e297af",78:"2d565948",79:"cc4189f4",80:"b711ac4f",81:"102f6e53",82:"87bcba98",83:"e64e025e",84:"a2a3695e",85:"a152164e",86:"dd920be9",87:"7b9fd336",88:"b1f3de32",89:"584649c5",90:"cecafbf6",91:"7b4c1cdc",92:"9b07fe88",93:"221fff07",94:"b7ad5ce6",95:"9608f6c5",96:"659db525",97:"2b2d3726",98:"5085b009",99:"9b605260",100:"b33f86ba",101:"0a94513e",102:"33e6a080",103:"232a13ca",104:"7ee6ced0",105:"7da3ff13",106:"4f67fbe0",107:"83ad896a",108:"acd73b33",109:"0c5a316f",110:"468674e0",111:"0884b25d",112:"14a4db1b",113:"3665d791",114:"a76daf3e",115:"fc50325c",116:"d878d354",117:"41111223",118:"2e33528d",119:"1c5c3ccd",120:"cf624d25",121:"dc9a84ed",122:"8cefab56",123:"93d23262",124:"1df41ca4",125:"a7953d41",126:"60e10f35",127:"dd1cb7a8",128:"243a5468",129:"5218fc77",130:"337ce8b9",131:"3ede4d10",132:"a0f7bf5f",133:"2b7b4e83",134:"22676154",135:"bd2ef845",136:"9ee85e23",137:"f4f86f41",138:"6ebed0f8",139:"d65c870e",140:"6c013524",141:"6bb0f0b2",142:"0dd7ee63",143:"1744f01b",144:"3e7af70b",145:"26c5f49a",146:"a843c882",147:"b9986ee3",148:"e233f6ad",149:"786ca846",150:"6b361d6c",151:"0c087956",152:"12e13429",153:"b75da292",154:"b47ad622",155:"8515b2fc",156:"7e86e112",157:"eb25995c",158:"460bdca5",159:"c844a271",160:"d3ef9371",161:"652a1055",162:"418b94d8",163:"bb566a17",164:"6b2ebfa9",165:"95392c30",166:"144c9c87",167:"058b2c31",168:"beb41dd9",169:"52df9915",170:"c34bbc93",171:"b2363da5",172:"2b2f8c5a",173:"da36aaa4",174:"71264f30",175:"611e943b",176:"7cfb044f",177:"15beef70",178:"79ff820c",179:"c08c74c3",180:"681ee059",181:"7102e101",182:"72203307",183:"e1fc959d",184:"65792811",185:"892e87d5",186:"b6b36b6b",187:"912699b1",188:"42fde07d",189:"6c294030",190:"b7427722",191:"0905ec2f",192:"d25b1912",193:"308f070f",194:"0aec45c8",195:"7b67c639",196:"38b72bcd",197:"42b37542",198:"5a0a06dd",199:"8d196f68",200:"019c8e76",201:"fd9e7b3e",202:"93342e23",203:"6a28f1ac",204:"6eaf6ea1",205:"abb6e9b0",206:"cd876280",207:"1c3edc66",208:"9d9a37b6",209:"45060ee6",210:"8ba5ce75",211:"aec9815a",212:"375fc6cb",213:"991a0661"}[n]+".js"}(n);var s=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(c);var t=a[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;s.message="Loading chunk "+n+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,t[1](s)}a[n]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},o.m=n,o.c=r,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/JavaDriver/",o.oe=function(n){throw console.error(n),n};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;i.push([246,0]),t()}([function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var r=t(0),a=t(37).f,i=t(28),o=t(14),l=t(117),s=t(123),c=t(110);n.exports=function(n,e){var t,d,u,p,h,f=n.target,m=n.global,g=n.stat;if(t=m?r:g?r[f]||l(f,{}):(r[f]||{}).prototype)for(d in e){if(p=e[d],u=n.noTargetGet?(h=a(t,d))&&h.value:t[d],!c(m?d:f+(g?".":"#")+d,n.forced)&&void 0!==u){if(typeof p==typeof u)continue;s(p,u)}(n.sham||u&&u.sham)&&i(p,"sham",!0),o(t,d,p,n)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(66),a=Function.prototype,i=a.bind,o=a.call,l=r&&i.bind(o,o);n.exports=r?function(n){return n&&l(n)}:function(n){return n&&function(){return o.apply(n,arguments)}}},function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){var r=t(127),a=t(14),i=t(266);r||a(Object.prototype,"toString",i,{unsafe:!0})},function(n,e,t){var r=t(0),a=t(51),i=t(9),o=t(86),l=t(52),s=t(160),c=a("wks"),d=r.Symbol,u=d&&d.for,p=s?d:d&&d.withoutSetter||o;n.exports=function(n){if(!i(c,n)||!l&&"string"!=typeof c[n]){var e="Symbol."+n;l&&i(d,n)?c[n]=d[n]:c[n]=s&&u?u(e):p(e)}return c[n]}},function(n,e,t){var r=t(2);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var r=t(66),a=Function.prototype.call;n.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},function(n,e,t){var r=t(3),a=t(17),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(a(n),e)}},function(n,e,t){var r=t(0),a=t(11),i=r.String,o=r.TypeError;n.exports=function(n){if(a(n))return n;throw o(i(n)+" is not an object")}},function(n,e,t){var r=t(4);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(0),a=t(83),i=r.String;n.exports=function(n){if("Symbol"===a(n))throw TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e,t){var r=t(0),a=t(7),i=t(162),o=t(161),l=t(10),s=t(88),c=r.TypeError,d=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=a?o?function(n,e,t){if(l(n),e=s(e),l(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=u(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return d(n,e,t)}:d:function(n,e,t){if(l(n),e=s(e),l(t),i)try{return d(n,e,t)}catch(n){}if("get"in t||"set"in t)throw c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(0),a=t(4),i=t(28),o=t(167),l=t(117);n.exports=function(n,e,t,s){var c=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,u=!!s&&!!s.noTargetGet,p=s&&void 0!==s.name?s.name:e;return a(t)&&o(t,p,s),n===r?(d?n[e]=t:l(e,t),n):(c?!u&&n[e]&&(d=!0):delete n[e],d?n[e]=t:i(n,e,t),n)}},function(n,e,t){var r=t(0),a=t(4),i=function(n){return a(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(r[n]):r[n]&&r[n][e]}},function(n,e){n.exports=!1},function(n,e,t){var r=t(0),a=t(19),i=r.Object;n.exports=function(n){return i(a(n))}},function(n,e,t){"use strict";var r=t(1),a=t(98);r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},function(n,e,t){var r=t(0).TypeError;n.exports=function(n){if(null==n)throw r("Can't call method on "+n);return n}},function(n,e,t){var r=t(65),a=t(19);n.exports=function(n){return r(a(n))}},function(n,e,t){"use strict";function r(n,e,t,r,a,i,o,l){var s,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(s=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=s):a&&(s=l?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),s)if(c.functional){c._injectStyles=s;var d=c.render;c.render=function(n,e){return s.call(e),d(n,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,s):[s]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(179).charAt,a=t(12),i=t(38),o=t(166),l=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(n){l(this,{type:"String Iterator",string:a(n),index:0})}),(function(){var n,e=s(this),t=e.string,a=e.index;return a>=t.length?{value:void 0,done:!0}:(n=r(t,a),e.index+=n.length,{value:n,done:!1})}))},function(n,e,t){var r=t(0),a=t(4),i=t(68),o=r.TypeError;n.exports=function(n){if(a(n))return n;throw o(i(n)+" is not a function")}},function(n,e,t){var r=t(54);n.exports=function(n){return r(n.length)}},function(n,e,t){"use strict";var r=t(1),a=t(60).filter;r({target:"Array",proto:!0,forced:!t(96)("filter")},{filter:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),a=t(180),i=t(181),o=t(149),l=t(28),s=t(6),c=s("iterator"),d=s("toStringTag"),u=o.values,p=function(n,e){if(n){if(n[c]!==u)try{l(n,c,u)}catch(e){n[c]=u}if(n[d]||l(n,d,e),a[e])for(var t in o)if(n[t]!==o[t])try{l(n,t,o[t])}catch(e){n[t]=o[t]}}};for(var h in a)p(r[h]&&r[h].prototype,h);p(i,"DOMTokenList")},function(n,e,t){var r=t(3),a=r({}.toString),i=r("".slice);n.exports=function(n){return i(a(n),8,-1)}},function(n,e,t){var r=t(7),a=t(13),i=t(48);n.exports=r?function(n,e,t){return a.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){"use strict";var r=t(1),a=t(187);r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},function(n,e,t){var r=t(0),a=t(180),i=t(181),o=t(187),l=t(28),s=function(n){if(n&&n.forEach!==o)try{l(n,"forEach",o)}catch(e){n.forEach=o}};for(var c in a)a[c]&&s(r[c]&&r[c].prototype);s(i)},function(n,e,t){var r=t(14),a=t(286),i=Error.prototype;i.toString!==a&&r(i,"toString",a)},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(15);n.exports=r("navigator","userAgent")||""},function(n,e,t){var r=t(198),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();n.exports=i},function(n,e,t){var r,a=t(10),i=t(118),o=t(121),l=t(69),s=t(165),c=t(87),d=t(90),u=d("IE_PROTO"),p=function(){},h=function(n){return"<script>"+n+"<\/script>"},f=function(n){n.write(h("")),n.close();var e=n.parentWindow.Object;return n=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}var n,e;m="undefined"!=typeof document?document.domain&&r?f(r):((e=c("iframe")).style.display="none",s.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(h("document.F=Object")),n.close(),n.F):f(r);for(var t=o.length;t--;)delete m.prototype[o[t]];return m()};l[u]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(p.prototype=a(n),t=new p,p.prototype=null,t[u]=n):t=m(),void 0===e?t:i.f(t,e)}},function(n,e,t){var r=t(3);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r=t(7),a=t(8),i=t(122),o=t(48),l=t(20),s=t(88),c=t(9),d=t(162),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(n,e){if(n=l(n),e=s(e),d)try{return u(n,e)}catch(n){}if(c(n,e))return o(!a(i.f,n,e),n[e])}},function(n,e,t){var r,a,i,o=t(248),l=t(0),s=t(3),c=t(11),d=t(28),u=t(9),p=t(116),h=t(90),f=t(69),m=l.TypeError,g=l.WeakMap;if(o||p.state){var v=p.state||(p.state=new g),b=s(v.get),y=s(v.has),E=s(v.set);r=function(n,e){if(y(v,n))throw new m("Object already initialized");return e.facade=n,E(v,n,e),e},a=function(n){return b(v,n)||{}},i=function(n){return y(v,n)}}else{var x=h("state");f[x]=!0,r=function(n,e){if(u(n,x))throw new m("Object already initialized");return e.facade=n,d(n,x,e),e},a=function(n){return u(n,x)?n[x]:{}},i=function(n){return u(n,x)}}n.exports={set:r,get:a,has:i,enforce:function(n){return i(n)?a(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=a(e)).type!==n)throw m("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){var r=t(66),a=Function.prototype,i=a.apply,o=a.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(i):function(){return o.apply(i,arguments)})},function(n,e,t){var r=t(1),a=t(0),i=t(39),o=t(282),l=a.WebAssembly,s=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,s),r({global:!0,constructor:!0,arity:1,forced:s},t)},d=function(n,e){if(l&&l[n]){var t={};t[n]=o("WebAssembly."+n,e,s),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:s},t)}};c("Error",(function(n){return function(e){return i(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),c("URIError",(function(n){return function(e){return i(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){var r=t(306),a=t(309);n.exports=function(n,e){var t=a(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";var r=t(1),a=t(0),i=t(63),o=t(94),l=t(11),s=t(120),c=t(24),d=t(20),u=t(76),p=t(6),h=t(96),f=t(73),m=h("slice"),g=p("species"),v=a.Array,b=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(n,e){var t,r,a,p=d(this),h=c(p),m=s(n,h),y=s(void 0===e?h:e,h);if(i(p)&&(t=p.constructor,(o(t)&&(t===v||i(t.prototype))||l(t)&&null===(t=t[g]))&&(t=void 0),t===v||void 0===t))return f(p,m,y);for(r=new(void 0===t?v:t)(b(y-m,0)),a=0;m<y;m++,a++)m in p&&u(r,a,p[m]);return r.length=a,r}})},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return s})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return h})),t.d(e,"m",(function(){return f})),t.d(e,"d",(function(){return g})),t.d(e,"k",(function(){return v})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return E}));t(18),t(45),t(145),t(81),t(109),t(115),t(44),t(29),t(5),t(30),t(25),t(84),t(108),t(159),t(56),t(219),t(31),t(148);var r=/#.*$/,a=/\.(md|html)$/,i=/\/$/,o=/^[a-z]+:/i;function l(n){return decodeURI(n).replace(r,"").replace(a,"")}function s(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function u(n){if(s(n))return n;if(!n)return"404";var e=n.match(r),t=e?e[0]:"",a=l(n);return i.test(a)?n:a+".html"+t}function p(n,e){var t=n.hash,a=function(n){var e=n&&n.match(r);if(e)return e[0]}(e);return(!a||t===a)&&l(n.path)===l(e)}function h(n,e,t){if(s(e))return{type:"external",path:e};t&&(e=function(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var a=e.split("/");t&&a[a.length-1]||a.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var l=i[o];".."===l?a.pop():"."!==l&&a.push(l)}""!==a[0]&&a.unshift("");return a.join("/")}(e,t));for(var r=l(e),a=0;a<n.length;a++)if(l(n[a].regularPath)===r)return Object.assign({},n[a],{type:"page",path:u(n[a].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(e,'"')),{}}function f(n,e,t,r){var a=t.pages,i=t.themeConfig,o=r&&i.locales&&i.locales[r]||i;if("auto"===(n.frontmatter.sidebar||o.sidebar||i.sidebar))return m(n);var l=o.sidebar||i.sidebar;if(l){var s=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(var t in e)if(0===(r=n,/(\.html|\/)$/.test(r)?r:r+"/").indexOf(encodeURI(t)))return{base:t,config:e[t]};var r;return{}}(e,l),c=s.base,d=s.config;return"auto"===d?m(n):d?d.map((function(n){return function n(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof e)return h(t,e,r);if(Array.isArray(e))return Object.assign(h(t,e[0],r),{title:e[1]});a>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var i=e.children||[];return 0===i.length&&e.path?Object.assign(h(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map((function(e){return n(e,t,r,a+1)})),collapsable:!1!==e.collapsable}}(n,a,c)})):[]}return[]}function m(n){var e=g(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map((function(e){return{type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}}))}]}function g(n){var e;return(n=n.map((function(n){return Object.assign({},n)}))).forEach((function(n){2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)})),n.filter((function(n){return 2===n.level}))}function v(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){var e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function E(n,e){return y(e)-y(n)}},function(n,e,t){"use strict";var r=t(1),a=t(60).map;r({target:"Array",proto:!0,forced:!t(96)("map")},{map:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(39),a=t(8),i=t(3),o=t(113),l=t(2),s=t(10),c=t(4),d=t(58),u=t(54),p=t(12),h=t(19),f=t(132),m=t(47),g=t(287),v=t(114),b=t(6)("replace"),y=Math.max,E=Math.min,x=i([].concat),k=i([].push),w=i("".indexOf),T=i("".slice),A="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(n,e,t){var i=S?"$":"$0";return[function(n,t){var r=h(this),i=null==n?void 0:m(n,b);return i?a(i,n,r,t):a(e,p(r),n,t)},function(n,a){var o=s(this),l=p(n);if("string"==typeof a&&-1===w(a,i)&&-1===w(a,"$<")){var h=t(e,o,l,a);if(h.done)return h.value}var m=c(a);m||(a=p(a));var b=o.global;if(b){var A=o.unicode;o.lastIndex=0}for(var S=[];;){var B=v(o,l);if(null===B)break;if(k(S,B),!b)break;""===p(B[0])&&(o.lastIndex=f(l,u(o.lastIndex),A))}for(var I,C="",_=0,P=0;P<S.length;P++){for(var z=p((B=S[P])[0]),j=y(E(d(B.index),l.length),0),L=[],O=1;O<B.length;O++)k(L,void 0===(I=B[O])?I:String(I));var D=B.groups;if(m){var M=x([z],L,j,l);void 0!==D&&k(M,D);var R=p(r(a,void 0,M))}else R=g(z,l,j,L,D,a);j>=_&&(C+=T(l,_,j)+R,_=j+z.length)}return C+T(l,_)}]}),!!l((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}))||!A||S)},function(n,e,t){"use strict";var r=t(2);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var r=t(23);n.exports=function(n,e){var t=n[e];return null==t?void 0:r(t)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(82),t(77),t(25),t(5),t(400),t(29),t(30),t(182),t(401),t(104);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}},function(n,e,t){var r=t(16),a=t(116);(n.exports=function(n,e){return a[n]||(a[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){var r=t(53),a=t(2);n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r,a,i=t(0),o=t(33),l=i.process,s=i.Deno,c=l&&l.versions||s&&s.version,d=c&&c.v8;d&&(a=(r=d.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=+r[1]),n.exports=a},function(n,e,t){var r=t(58),a=Math.min;n.exports=function(n){return n>0?a(r(n),9007199254740991):0}},function(n,e,t){var r=t(0);n.exports=r.Promise},function(n,e,t){"use strict";var r=t(1),a=t(0),i=t(2),o=t(63),l=t(11),s=t(17),c=t(24),d=t(76),u=t(152),p=t(96),h=t(6),f=t(53),m=h("isConcatSpreadable"),g=a.TypeError,v=f>=51||!i((function(){var n=[];return n[m]=!1,n.concat()[0]!==n})),b=p("concat"),y=function(n){if(!l(n))return!1;var e=n[m];return void 0!==e?!!e:o(n)};r({target:"Array",proto:!0,arity:1,forced:!v||!b},{concat:function(n){var e,t,r,a,i,o=s(this),l=u(o,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(y(i=-1===e?o:arguments[e])){if(p+(a=c(i))>9007199254740991)throw g("Maximum allowed index exceeded");for(t=0;t<a;t++,p++)t in i&&d(l,p,i[t])}else{if(p>=9007199254740991)throw g("Maximum allowed index exceeded");d(l,p++,i)}return l.length=p,l}})},function(n,e,t){t(382),t(383)},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=function(n){var e=+n;return e!=e||0===e?0:(e>0?r:t)(e)}},function(n,e,t){var r=t(3),a=t(23),i=t(66),o=r(r.bind);n.exports=function(n,e){return a(n),void 0===e?n:i?o(n,e):function(){return n.apply(e,arguments)}}},function(n,e,t){var r=t(59),a=t(3),i=t(65),o=t(17),l=t(24),s=t(152),c=a([].push),d=function(n){var e=1==n,t=2==n,a=3==n,d=4==n,u=6==n,p=7==n,h=5==n||u;return function(f,m,g,v){for(var b,y,E=o(f),x=i(E),k=r(m,g),w=l(x),T=0,A=v||s,S=e?A(f,w):t||p?A(f,0):void 0;w>T;T++)if((h||T in x)&&(y=k(b=x[T],T,E),n))if(e)S[T]=y;else if(y)switch(n){case 3:return!0;case 5:return b;case 6:return T;case 2:c(S,b)}else switch(n){case 4:return!1;case 7:c(S,b)}return u?-1:a||d?d:S}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},function(n,e,t){var r=t(164),a=t(121).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,a)}},function(n,e,t){var r=t(13).f,a=t(9),i=t(6)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!a(n,i)&&r(n,i,{configurable:!0,value:e})}},function(n,e,t){var r=t(27);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e,t){var r=t(78),a=t(291),i=t(292),o=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?a(n):i(n)}},function(n,e,t){var r=t(0),a=t(3),i=t(2),o=t(27),l=r.Object,s=a("".split);n.exports=i((function(){return!l("z").propertyIsEnumerable(0)}))?function(n){return"String"==o(n)?s(n,""):l(n)}:l},function(n,e,t){var r=t(2);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){var r=t(0),a=t(15),i=t(4),o=t(36),l=t(160),s=r.Object;n.exports=l?function(n){return"symbol"==typeof n}:function(n){var e=a("Symbol");return i(e)&&o(e.prototype,s(n))}},function(n,e,t){var r=t(0).String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e){n.exports={}},function(n,e){n.exports={}},function(n,e,t){var r=t(7),a=t(9),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,l=a(i,"name"),s=l&&"something"===function(){}.name,c=l&&(!r||r&&o(i,"name").configurable);n.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},function(n,e,t){var r=t(3),a=t(10),i=t(249);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return a(t),i(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e,t){var r=t(3);n.exports=r([].slice)},function(n,e,t){var r=t(0),a=t(55),i=t(4),o=t(110),l=t(91),s=t(6),c=t(257),d=t(16),u=t(53),p=a&&a.prototype,h=s("species"),f=!1,m=i(r.PromiseRejectionEvent),g=o("Promise",(function(){var n=l(a),e=n!==String(a);if(!e&&66===u)return!0;if(d&&(!p.catch||!p.finally))return!0;if(u>=51&&/native code/.test(n))return!1;var t=new a((function(n){n(1)})),r=function(n){n((function(){}),(function(){}))};return(t.constructor={})[h]=r,!(f=t.then((function(){}))instanceof r)||!e&&c&&!m}));n.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:f}},function(n,e,t){"use strict";var r=t(23),a=function(n){var e,t;this.promise=new n((function(n,r){if(void 0!==e||void 0!==t)throw TypeError("Bad Promise constructor");e=n,t=r})),this.resolve=r(e),this.reject=r(t)};n.exports.f=function(n){return new a(n)}},function(n,e,t){"use strict";var r=t(88),a=t(13),i=t(48);n.exports=function(n,e,t){var o=r(e);o in n?a.f(n,o,i(0,t)):n[o]=t}},function(n,e,t){t(274),t(277),t(278),t(130),t(279)},function(n,e,t){var r=t(34).Symbol;n.exports=r},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(84);var r=t(80);t(77),t(97),t(5),t(131),t(22),t(26),t(193);var a=t(105);t(40),t(31);function i(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Object(a.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";t(18);var r,a,i=t(1),o=t(0),l=t(8),s=t(3),c=t(4),d=t(11),u=(r=!1,(a=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===a.test("abc")&&r),p=o.Error,h=s(/./.test);i({target:"RegExp",proto:!0,forced:!u},{test:function(n){var e=this.exec;if(!c(e))return h(this,n);var t=l(e,this,n);if(null!==t&&!d(t))throw new p("RegExp exec method returned something other than an Object or null");return!!t}})},function(n,e,t){var r=t(1),a=t(17),i=t(89);r({target:"Object",stat:!0,forced:t(2)((function(){i(1)}))},{keys:function(n){return i(a(n))}})},function(n,e,t){var r=t(0),a=t(127),i=t(4),o=t(27),l=t(6)("toStringTag"),s=r.Object,c="Arguments"==o(function(){return arguments}());n.exports=a?o:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),l))?t:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},function(n,e,t){t(1)({target:"Array",stat:!0},{isArray:t(63)})},function(n,e,t){var r=t(7),a=t(71).EXISTS,i=t(3),o=t(13).f,l=Function.prototype,s=i(l.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=i(c.exec);r&&!a&&o(l,"name",{configurable:!0,get:function(){try{return d(c,s(this))[1]}catch(n){return""}}})},function(n,e,t){var r=t(3),a=0,i=Math.random(),o=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++a+i,36)}},function(n,e,t){var r=t(0),a=t(11),i=r.document,o=a(i)&&a(i.createElement);n.exports=function(n){return o?i.createElement(n):{}}},function(n,e,t){var r=t(163),a=t(67);n.exports=function(n){var e=r(n,"string");return a(e)?e:e+""}},function(n,e,t){var r=t(164),a=t(121);n.exports=Object.keys||function(n){return r(n,a)}},function(n,e,t){var r=t(51),a=t(86),i=r("keys");n.exports=function(n){return i[n]||(i[n]=a(n))}},function(n,e,t){var r=t(3),a=t(4),i=t(116),o=r(Function.toString);a(i.inspectSource)||(i.inspectSource=function(n){return o(n)}),n.exports=i.inspectSource},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(27),a=t(0);n.exports="process"==r(a.process)},function(n,e,t){var r=t(3),a=t(2),i=t(4),o=t(83),l=t(15),s=t(91),c=function(){},d=[],u=l("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=r(p.exec),f=!p.exec(c),m=function(n){if(!i(n))return!1;try{return u(c,d,n),!0}catch(n){return!1}},g=function(n){if(!i(n))return!1;switch(o(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,s(n))}catch(n){return!0}};g.sham=!0,n.exports=!u||a((function(){var n;return m(m.call)||!m(Object)||!m((function(){n=!0}))||n}))?g:m},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(5);function r(n,e,t,r,a,i,o){try{var l=n[i](o),s=l.value}catch(n){return void t(n)}l.done?e(s):Promise.resolve(s).then(r,a)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(a,i){var o=n.apply(e,t);function l(n){r(o,a,i,l,s,"next",n)}function s(n){r(o,a,i,l,s,"throw",n)}l(void 0)}))}}},function(n,e,t){var r=t(2),a=t(6),i=t(53),o=a("species");n.exports=function(n){return i>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[n](Boolean).foo}))}},function(n,e,t){"use strict";var r=t(1),a=t(7),i=t(0),o=t(3),l=t(9),s=t(4),c=t(36),d=t(12),u=t(13).f,p=t(123),h=i.Symbol,f=h&&h.prototype;if(a&&s(h)&&(!("description"in f)||void 0!==h().description)){var m={},g=function(){var n=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),e=c(f,this)?new h(n):void 0===n?h():h(n);return""===n&&(m[e]=!0),e};p(g,h),g.prototype=f,f.constructor=g;var v="Symbol(test)"==String(h("test")),b=o(f.toString),y=o(f.valueOf),E=/^Symbol\((.*)\)[^)]+$/,x=o("".replace),k=o("".slice);u(f,"description",{configurable:!0,get:function(){var n=y(this),e=b(n);if(l(m,n))return"";var t=v?k(e,7,-1):x(e,E,"$1");return""===t?void 0:t}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},function(n,e,t){"use strict";var r,a,i=t(8),o=t(3),l=t(12),s=t(194),c=t(112),d=t(51),u=t(35),p=t(38).get,h=t(232),f=t(236),m=d("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,b=o("".charAt),y=o("".indexOf),E=o("".replace),x=o("".slice),k=(a=/b*/g,i(g,r=/a/,"a"),i(g,a,"a"),0!==r.lastIndex||0!==a.lastIndex),w=c.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(k||T||w||h||f)&&(v=function(n){var e,t,r,a,o,c,d,h=this,f=p(h),A=l(n),S=f.raw;if(S)return S.lastIndex=h.lastIndex,e=i(v,S,A),h.lastIndex=S.lastIndex,e;var B=f.groups,I=w&&h.sticky,C=i(s,h),_=h.source,P=0,z=A;if(I&&(C=E(C,"y",""),-1===y(C,"g")&&(C+="g"),z=x(A,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b(A,h.lastIndex-1))&&(_="(?: "+_+")",z=" "+z,P++),t=new RegExp("^(?:"+_+")",C)),T&&(t=new RegExp("^"+_+"$(?!\\s)",C)),k&&(r=h.lastIndex),a=i(g,I?t:h,z),I?a?(a.input=x(a.input,P),a[0]=x(a[0],P),a.index=h.lastIndex,h.lastIndex+=a[0].length):h.lastIndex=0:k&&a&&(h.lastIndex=h.global?a.index+a[0].length:r),T&&a&&a.length>1&&i(m,a[0],t,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a&&B)for(a.groups=c=u(null),o=0;o<B.length;o++)c[(d=B[o])[0]]=a[d[1]];return a}),n.exports=v},function(n,e,t){var r=t(296),a=t(297),i=t(298),o=t(299),l=t(300);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e,t){var r=t(200);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(41)(Object,"create");n.exports=r},function(n,e,t){var r=t(318);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(140);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r=t(1),a=t(7),i=t(13).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!a},{defineProperty:i})},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(42),t(5),t(85),t(193),t(22),t(18),t(81);var r=t(80);function a(n,e){if(n){if("string"==typeof n)return Object(r.a)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(n,e):void 0}}},function(n,e,t){var r,a;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(a="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=a(n,r.minimum,1),t.status=1===n?null:n;var s=t.render(!e),c=s.querySelector(r.barSelector),d=r.speed,u=r.easing;return s.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),l(c,function(n,e,t){var a;return(a="translate3d"===r.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,a}(n,d,u)),1===n?(l(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout((function(){l(s,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*a(Math.random()*e,.1,.95)),e=a(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var a,o=e.querySelector(r.barSelector),s=n?"-100":i(t.status||0),d=document.querySelector(r.parent);return l(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),r.showSpinner||(a=e.querySelector(r.spinnerSelector))&&p(a),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),l=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,a=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);a--;)if((r=n[a]+i)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,a,i=arguments;if(2==i.length)for(t in e)void 0!==(a=e[t])&&e.hasOwnProperty(t)&&r(n,t,a);else r(n,i[1],i[2])}}();function s(n,e){return("string"==typeof n?n:u(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=u(n),r=t+e;s(t,e)||(n.className=r.substring(1))}function d(n,e){var t,r=u(n);s(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function u(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=a)},function(n){n.exports=JSON.parse('{"name":"vuepress-plugin-comment","version":"0.7.3","description":"Comment plugin in vuepress, such as Gitalk, Valine...","main":"index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"author":"dongyuanxin","license":"MIT","bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"}}')},function(n,e,t){"use strict";var r=t(1),a=t(3),i=t(119).indexOf,o=t(46),l=a([].indexOf),s=!!l&&1/l([1],1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:s||!c},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return s?l(this,n,e)||0:i(this,n,e)}})},function(n,e,t){"use strict";var r=t(39),a=t(8),i=t(3),o=t(113),l=t(153),s=t(10),c=t(19),d=t(126),u=t(132),p=t(54),h=t(12),f=t(47),m=t(129),g=t(114),v=t(98),b=t(112),y=t(2),E=b.UNSUPPORTED_Y,x=Math.min,k=[].push,w=i(/./.exec),T=i(k),A=i("".slice);o("split",(function(n,e,t){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(n,t){var i=h(c(this)),o=void 0===t?4294967295:t>>>0;if(0===o)return[];if(void 0===n)return[i];if(!l(n))return a(e,i,n,o);for(var s,d,u,p=[],f=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),g=0,b=new RegExp(n.source,f+"g");(s=a(v,b,i))&&!((d=b.lastIndex)>g&&(T(p,A(i,g,s.index)),s.length>1&&s.index<i.length&&r(k,p,m(s,1)),u=s[0].length,g=d,p.length>=o));)b.lastIndex===s.index&&b.lastIndex++;return g===i.length?!u&&w(b,"")||T(p,""):T(p,A(i,g)),p.length>o?m(p,0,o):p}:"0".split(void 0,0).length?function(n,t){return void 0===n&&0===t?[]:a(e,this,n,t)}:e,[function(e,t){var r=c(this),o=null==e?void 0:f(e,n);return o?a(o,e,r,t):a(i,h(r),e,t)},function(n,r){var a=s(this),o=h(n),l=t(i,a,o,r,i!==e);if(l.done)return l.value;var c=d(a,RegExp),f=a.unicode,m=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(E?"g":"y"),v=new c(E?"^(?:"+a.source+")":a,m),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===o.length)return null===g(v,o)?[o]:[];for(var y=0,k=0,w=[];k<o.length;){v.lastIndex=E?0:k;var S,B=g(v,E?A(o,k):o);if(null===B||(S=x(p(v.lastIndex+(E?k:0)),o.length))===y)k=u(o,k,f);else{if(T(w,A(o,y,k)),w.length===b)return w;for(var I=1;I<=B.length-1;I++)if(T(w,B[I]),w.length===b)return w;k=y=S}}return T(w,A(o,y)),w}]}),!!y((function(){var n=/(?:)/,e=n.exec;n.exec=function(){return e.apply(this,arguments)};var t="ab".split(n);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),E)},function(n,e,t){var r=t(2),a=t(4),i=/#|\.prototype\./,o=function(n,e){var t=s[l(n)];return t==d||t!=c&&(a(e)?r(e):!!e)},l=o.normalize=function(n){return String(n).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",d=o.POLYFILL="P";n.exports=o},function(n,e,t){var r=t(83),a=t(47),i=t(70),o=t(6)("iterator");n.exports=function(n){if(null!=n)return a(n,o)||a(n,"@@iterator")||i[r(n)]}},function(n,e,t){var r=t(2),a=t(0).RegExp,i=r((function(){var n=a("a","y");return n.lastIndex=2,null!=n.exec("abcd")})),o=i||r((function(){return!a("a","y").sticky})),l=i||r((function(){var n=a("^r","gy");return n.lastIndex=2,null!=n.exec("str")}));n.exports={BROKEN_CARET:l,MISSED_STICKY:o,UNSUPPORTED_Y:i}},function(n,e,t){"use strict";t(18);var r=t(3),a=t(14),i=t(98),o=t(2),l=t(6),s=t(28),c=l("species"),d=RegExp.prototype;n.exports=function(n,e,t,u){var p=l(n),h=!o((function(){var e={};return e[p]=function(){return 7},7!=""[n](e)})),f=h&&!o((function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[c]=function(){return t},t.flags="",t[p]=/./[p]),t.exec=function(){return e=!0,null},t[p](""),!e}));if(!h||!f||t){var m=r(/./[p]),g=e(p,""[n],(function(n,e,t,a,o){var l=r(n),s=e.exec;return s===i||s===d.exec?h&&!o?{done:!0,value:m(e,t,a)}:{done:!0,value:l(t,e,a)}:{done:!1}}));a(String.prototype,n,g[0]),a(d,p,g[1])}u&&s(d[p],"sham",!0)}},function(n,e,t){var r=t(0),a=t(8),i=t(10),o=t(4),l=t(27),s=t(98),c=r.TypeError;n.exports=function(n,e){var t=n.exec;if(o(t)){var r=a(t,n,e);return null!==r&&i(r),r}if("RegExp"===l(n))return a(s,n,e);throw c("RegExp#exec called on incompatible receiver")}},function(n,e,t){"use strict";var r=t(1),a=t(3),i=t(65),o=t(20),l=t(46),s=a([].join),c=i!=Object,d=l("join",",");r({target:"Array",proto:!0,forced:c||!d},{join:function(n){return s(o(this),void 0===n?",":n)}})},function(n,e,t){var r=t(0),a=t(117),i=r["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=i},function(n,e,t){var r=t(0),a=Object.defineProperty;n.exports=function(n,e){try{a(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(7),a=t(161),i=t(13),o=t(10),l=t(20),s=t(89);e.f=r&&!a?Object.defineProperties:function(n,e){o(n);for(var t,r=l(e),a=s(e),c=a.length,d=0;c>d;)i.f(n,t=a[d++],r[t]);return n}},function(n,e,t){var r=t(20),a=t(120),i=t(24),o=function(n){return function(e,t,o){var l,s=r(e),c=i(s),d=a(o,c);if(n&&t!=t){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((n||d in s)&&s[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){var r=t(58),a=Math.max,i=Math.min;n.exports=function(n,e){var t=r(n);return t<0?a(t+e,0):i(t,e)}},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);e.f=i?function(n){var e=a(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(9),a=t(124),i=t(37),o=t(13);n.exports=function(n,e,t){for(var l=a(e),s=o.f,c=i.f,d=0;d<l.length;d++){var u=l[d];r(n,u)||t&&r(t,u)||s(n,u,c(e,u))}}},function(n,e,t){var r=t(15),a=t(3),i=t(61),o=t(92),l=t(10),s=a([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=i.f(l(n)),t=o.f;return t?s(e,t(n)):e}},function(n,e,t){var r=t(0),a=t(9),i=t(4),o=t(17),l=t(90),s=t(169),c=l("IE_PROTO"),d=r.Object,u=d.prototype;n.exports=s?d.getPrototypeOf:function(n){var e=o(n);if(a(e,c))return e[c];var t=e.constructor;return i(t)&&e instanceof t?t.prototype:e instanceof d?u:null}},function(n,e,t){var r=t(10),a=t(170),i=t(6)("species");n.exports=function(n,e){var t,o=r(n).constructor;return void 0===o||null==(t=r(o)[i])?e:a(t)}},function(n,e,t){var r={};r[t(6)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e){n.exports=function(n){try{return{error:!1,value:n()}}catch(n){return{error:!0,value:n}}}},function(n,e,t){var r=t(0),a=t(120),i=t(24),o=t(76),l=r.Array,s=Math.max;n.exports=function(n,e,t){for(var r=i(n),c=a(e,r),d=a(void 0===t?r:t,r),u=l(s(d-c,0)),p=0;c<d;c++,p++)o(u,p,n[c]);return u.length=p,u}},function(n,e,t){var r=t(1),a=t(15),i=t(39),o=t(8),l=t(3),s=t(2),c=t(63),d=t(4),u=t(11),p=t(67),h=t(73),f=t(52),m=a("JSON","stringify"),g=l(/./.exec),v=l("".charAt),b=l("".charCodeAt),y=l("".replace),E=l(1..toString),x=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,T=!f||s((function(){var n=a("Symbol")();return"[null]"!=m([n])||"{}"!=m({a:n})||"{}"!=m(Object(n))})),A=s((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),S=function(n,e){var t=h(arguments),r=e;if((u(e)||void 0!==n)&&!p(n))return c(e)||(e=function(n,e){if(d(r)&&(e=o(r,this,n,e)),!p(e))return e}),t[1]=e,i(m,null,t)},B=function(n,e,t){var r=v(t,e-1),a=v(t,e+1);return g(k,n)&&!g(w,a)||g(w,n)&&!g(k,r)?"\\u"+E(b(n,0),16):n};m&&r({target:"JSON",stat:!0,arity:3,forced:T||A},{stringify:function(n,e,t){var r=h(arguments),a=i(T?S:m,null,r);return A&&"string"==typeof a?y(a,x,B):a}})},function(n,e,t){t(191)("iterator")},function(n,e,t){"use strict";var r=t(179).charAt;n.exports=function(n,e,t){return e+(t?r(n,e).length:1)}},function(n,e,t){var r=t(290),a=t(49),i=Object.prototype,o=i.hasOwnProperty,l=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(n){return a(n)&&o.call(n,"callee")&&!l.call(n,"callee")};n.exports=s},function(n,e,t){var r=t(41)(t(34),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(310),a=t(317),i=t(319),o=t(320),l=t(321);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(32),a=t(140),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!a(n))||(o.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(64),a=t(49);n.exports=function(n){return"symbol"==typeof n||a(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){var r=t(1),a=t(0),i=t(62);r({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(84);t(77),t(97),t(5),t(131),t(22),t(26);var r=t(105);t(40),t(31);function a(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,i=[],o=!0,l=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(n){l=!0,a=n}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";var r=t(1),a=t(60).some;r({target:"Array",proto:!0,forced:!t(46)("some")},{some:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(8),a=t(113),i=t(10),o=t(54),l=t(12),s=t(19),c=t(47),d=t(132),u=t(114);a("match",(function(n,e,t){return[function(e){var t=s(this),a=null==e?void 0:c(e,n);return a?r(a,e,t):new RegExp(e)[n](l(t))},function(n){var r=i(this),a=l(n),s=t(e,r,a);if(s.done)return s.value;if(!r.global)return u(r,a);var c=r.unicode;r.lastIndex=0;for(var p,h=[],f=0;null!==(p=u(r,a));){var m=l(p[0]);h[f]=m,""===m&&(r.lastIndex=d(a,o(r.lastIndex),c)),f++}return 0===f?null:h}]}))},function(n,e,t){var r=t(6),a=t(35),i=t(13),o=r("unscopables"),l=Array.prototype;null==l[o]&&i.f(l,o,{configurable:!0,value:a(null)}),n.exports=function(n){l[o][n]=!0}},function(n,e,t){var r=function(n){"use strict";var e=Object.prototype,t=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{l({},"")}catch(n){l=function(n,e,t){return n[e]=t}}function s(n,e,t,r){var a=e&&e.prototype instanceof u?e:u,i=Object.create(a.prototype),o=new w(r||[]);return i._invoke=function(n,e,t){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return A()}for(t.method=a,t.arg=i;;){var o=t.delegate;if(o){var l=E(o,t);if(l){if(l===d)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var s=c(n,e,t);if("normal"===s.type){if(r=t.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(r="completed",t.method="throw",t.arg=s.arg)}}}(n,t,o),i}function c(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=s;var d={};function u(){}function p(){}function h(){}var f={};l(f,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&t.call(g,a)&&(f=g);var v=h.prototype=u.prototype=Object.create(f);function b(n){["next","throw","return"].forEach((function(e){l(n,e,(function(n){return this._invoke(e,n)}))}))}function y(n,e){var r;this._invoke=function(a,i){function o(){return new e((function(r,o){!function r(a,i,o,l){var s=c(n[a],n,i);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==typeof u&&t.call(u,"__await")?e.resolve(u.__await).then((function(n){r("next",n,o,l)}),(function(n){r("throw",n,o,l)})):e.resolve(u).then((function(n){d.value=n,o(d)}),(function(n){return r("throw",n,o,l)}))}l(s.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}}function E(n,e){var t=n.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,E(n,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(t,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var a=r.arg;return a?a.done?(e[n.resultName]=a.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function x(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function k(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function w(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(x,this),this.reset(!0)}function T(n){if(n){var e=n[a];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function e(){for(;++r<n.length;)if(t.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=h,l(v,"constructor",h),l(h,"constructor",p),p.displayName=l(h,o,"GeneratorFunction"),n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,l(n,o,"GeneratorFunction")),n.prototype=Object.create(v),n},n.awrap=function(n){return{__await:n}},b(y.prototype),l(y.prototype,i,(function(){return this})),n.AsyncIterator=y,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var o=new y(s(e,t,r,a),i);return n.isGeneratorFunction(t)?o:o.next().then((function(n){return n.done?n.value:o.next()}))},b(v),l(v,o,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=T,w.prototype={constructor:w,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(t,r){return o.type="throw",o.arg=n,e.next=t,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),s=t.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=n,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),d},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),k(t),d}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var a=r.arg;k(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:T(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},n}(n.exports);try{regeneratorRuntime=r}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(n,e,t){"use strict";var r=t(71).PROPER,a=t(14),i=t(10),o=t(12),l=t(2),s=t(242),c=RegExp.prototype.toString,d=l((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=r&&"toString"!=c.name;(d||u)&&a(RegExp.prototype,"toString",(function(){var n=i(this);return"/"+o(n.source)+"/"+o(s(n))}),{unsafe:!0})},function(n,e,t){"use strict";var r=t(20),a=t(146),i=t(70),o=t(38),l=t(13).f,s=t(166),c=t(16),d=t(7),u=o.set,p=o.getterFor("Array Iterator");n.exports=s(Array,"Array",(function(n,e){u(this,{type:"Array Iterator",target:r(n),index:0,kind:e})}),(function(){var n=p(this),e=n.target,t=n.kind,r=n.index++;return!e||r>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:r,done:!1}:"values"==t?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var h=i.Arguments=i.Array;if(a("keys"),a("values"),a("entries"),!c&&d&&"values"!==h.name)try{l(h,"name",{value:"values"})}catch(n){}},function(n,e,t){var r=t(0).TypeError;n.exports=function(n,e){if(n<e)throw r("Not enough arguments");return n}},function(n,e,t){var r=t(0),a=t(8),i=t(23),o=t(10),l=t(68),s=t(111),c=r.TypeError;n.exports=function(n,e){var t=arguments.length<2?s(n):e;if(i(t))return o(a(t,n));throw c(l(n)+" is not iterable")}},function(n,e,t){var r=t(267);n.exports=function(n,e){return new(r(n))(0===e?0:e)}},function(n,e,t){var r=t(11),a=t(27),i=t(6)("match");n.exports=function(n){var e;return r(n)&&(void 0!==(e=n[i])?!!e:"RegExp"==a(n))}},function(n,e,t){var r=t(4),a=t(11),i=t(72);n.exports=function(n,e,t){var o,l;return i&&r(o=e.constructor)&&o!==t&&a(l=o.prototype)&&l!==t.prototype&&i(n,l),n}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,h=function(){return c.Date.now()};function f(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function m(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(f(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=f(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var l=a.test(n);return l||i.test(n)?o(n.slice(2),l?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,a,i,o,l,s,c=0,d=!1,g=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,i=a;return r=a=void 0,c=e,o=n.apply(i,t)}function y(n){return c=n,l=setTimeout(x,e),d?b(n):o}function E(n){var t=n-s;return void 0===s||t>=e||t<0||g&&n-c>=i}function x(){var n=h();if(E(n))return k(n);l=setTimeout(x,function(n){var t=e-(n-s);return g?p(t,i-(n-c)):t}(n))}function k(n){return l=void 0,v&&r?b(n):(r=a=void 0,o)}function w(){var n=h(),t=E(n);if(r=arguments,a=this,s=n,t){if(void 0===l)return y(s);if(g)return l=setTimeout(x,e),b(s)}return void 0===l&&(l=setTimeout(x,e)),o}return e=m(e)||0,f(t)&&(d=!!t.leading,i=(g="maxWait"in t)?u(m(t.maxWait)||0,e):i,v="trailing"in t?!!t.trailing:v),w.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=a=l=void 0},w.flush=function(){return void 0===l?o:k(h())},w}},function(n,e,t){var r=t(3),a=t(19),i=t(12),o=t(158),l=r("".replace),s="["+o+"]",c=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),u=function(n){return function(e){var t=i(a(e));return 1&n&&(t=l(t,c,"")),2&n&&(t=l(t,d,"")),t}};n.exports={start:u(1),end:u(2),trim:u(3)}},function(n,e){n.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(n,e,t){var r=t(3),a=t(14),i=Date.prototype,o=r(i.toString),l=r(i.getTime);"Invalid Date"!=String(new Date(NaN))&&a(i,"toString",(function(){var n=l(this);return n==n?o(this):"Invalid Date"}))},function(n,e,t){var r=t(52);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(7),a=t(2);n.exports=r&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(7),a=t(2),i=t(87);n.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(0),a=t(8),i=t(11),o=t(67),l=t(47),s=t(247),c=t(6),d=r.TypeError,u=c("toPrimitive");n.exports=function(n,e){if(!i(n)||o(n))return n;var t,r=l(n,u);if(r){if(void 0===e&&(e="default"),t=a(r,n,e),!i(t)||o(t))return t;throw d("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e,t){var r=t(3),a=t(9),i=t(20),o=t(119).indexOf,l=t(69),s=r([].push);n.exports=function(n,e){var t,r=i(n),c=0,d=[];for(t in r)!a(l,t)&&a(r,t)&&s(d,t);for(;e.length>c;)a(r,t=e[c++])&&(~o(d,t)||s(d,t));return d}},function(n,e,t){var r=t(15);n.exports=r("document","documentElement")},function(n,e,t){"use strict";var r=t(1),a=t(8),i=t(16),o=t(71),l=t(4),s=t(233),c=t(125),d=t(72),u=t(62),p=t(28),h=t(14),f=t(6),m=t(70),g=t(168),v=o.PROPER,b=o.CONFIGURABLE,y=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,x=f("iterator"),k=function(){return this};n.exports=function(n,e,t,o,f,g,w){s(t,e,o);var T,A,S,B=function(n){if(n===f&&z)return z;if(!E&&n in _)return _[n];switch(n){case"keys":case"values":case"entries":return function(){return new t(this,n)}}return function(){return new t(this)}},I=e+" Iterator",C=!1,_=n.prototype,P=_[x]||_["@@iterator"]||f&&_[f],z=!E&&P||B(f),j="Array"==e&&_.entries||P;if(j&&(T=c(j.call(new n)))!==Object.prototype&&T.next&&(i||c(T)===y||(d?d(T,y):l(T[x])||h(T,x,k)),u(T,I,!0,!0),i&&(m[I]=k)),v&&"values"==f&&P&&"values"!==P.name&&(!i&&b?p(_,"name","values"):(C=!0,z=function(){return a(P,this)})),f)if(A={values:B("values"),keys:g?z:B("keys"),entries:B("entries")},w)for(S in A)(E||C||!(S in _))&&h(_,S,A[S]);else r({target:e,proto:!0,forced:E||C},A);return i&&!w||_[x]===z||h(_,x,z,{name:f}),m[e]=z,A}},function(n,e,t){var r=t(2),a=t(4),i=t(9),o=t(7),l=t(71).CONFIGURABLE,s=t(91),c=t(38),d=c.enforce,u=c.get,p=Object.defineProperty,h=o&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=n.exports=function(n,e,t){if("Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!i(n,"name")||l&&n.name!==e)&&p(n,"name",{value:e,configurable:!0}),h&&t&&i(t,"arity")&&n.length!==t.arity&&p(n,"length",{value:t.arity}),t&&i(t,"constructor")&&t.constructor){if(o)try{p(n,"prototype",{writable:!1})}catch(n){}}else n.prototype=void 0;var r=d(n);return i(r,"source")||(r.source=f.join("string"==typeof e?e:"")),n};Function.prototype.toString=m((function(){return a(this)&&u(this).source||s(this)}),"toString")},function(n,e,t){"use strict";var r,a,i,o=t(2),l=t(4),s=t(35),c=t(125),d=t(14),u=t(6),p=t(16),h=u("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(a=c(c(i)))!==Object.prototype&&(r=a):f=!0),null==r||o((function(){var n={};return r[h].call(n)!==n}))?r={}:p&&(r=s(r)),l(r[h])||d(r,h,(function(){return this})),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(n,e,t){var r=t(2);n.exports=!r((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},function(n,e,t){var r=t(0),a=t(94),i=t(68),o=r.TypeError;n.exports=function(n){if(a(n))return n;throw o(i(n)+" is not a constructor")}},function(n,e,t){var r,a,i,o,l=t(0),s=t(39),c=t(59),d=t(4),u=t(9),p=t(2),h=t(165),f=t(73),m=t(87),g=t(150),v=t(172),b=t(93),y=l.setImmediate,E=l.clearImmediate,x=l.process,k=l.Dispatch,w=l.Function,T=l.MessageChannel,A=l.String,S=0,B={};try{r=l.location}catch(n){}var I=function(n){if(u(B,n)){var e=B[n];delete B[n],e()}},C=function(n){return function(){I(n)}},_=function(n){I(n.data)},P=function(n){l.postMessage(A(n),r.protocol+"//"+r.host)};y&&E||(y=function(n){g(arguments.length,1);var e=d(n)?n:w(n),t=f(arguments,1);return B[++S]=function(){s(e,void 0,t)},a(S),S},E=function(n){delete B[n]},b?a=function(n){x.nextTick(C(n))}:k&&k.now?a=function(n){k.now(C(n))}:T&&!v?(o=(i=new T).port2,i.port1.onmessage=_,a=c(o.postMessage,o)):l.addEventListener&&d(l.postMessage)&&!l.importScripts&&r&&"file:"!==r.protocol&&!p(P)?(a=P,l.addEventListener("message",_,!1)):a="onreadystatechange"in m("script")?function(n){h.appendChild(m("script")).onreadystatechange=function(){h.removeChild(this),I(n)}}:function(n){setTimeout(C(n),0)}),n.exports={set:y,clear:E}},function(n,e,t){var r=t(33);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(n,e,t){var r=t(0),a=t(59),i=t(8),o=t(10),l=t(68),s=t(174),c=t(24),d=t(36),u=t(151),p=t(111),h=t(175),f=r.TypeError,m=function(n,e){this.stopped=n,this.result=e},g=m.prototype;n.exports=function(n,e,t){var r,v,b,y,E,x,k,w=t&&t.that,T=!(!t||!t.AS_ENTRIES),A=!(!t||!t.IS_ITERATOR),S=!(!t||!t.INTERRUPTED),B=a(e,w),I=function(n){return r&&h(r,"normal",n),new m(!0,n)},C=function(n){return T?(o(n),S?B(n[0],n[1],I):B(n[0],n[1])):S?B(n,I):B(n)};if(A)r=n;else{if(!(v=p(n)))throw f(l(n)+" is not iterable");if(s(v)){for(b=0,y=c(n);y>b;b++)if((E=C(n[b]))&&d(g,E))return E;return new m(!1)}r=u(n,v)}for(x=r.next;!(k=i(x,r)).done;){try{E=C(k.value)}catch(n){h(r,"throw",n)}if("object"==typeof E&&E&&d(g,E))return E}return new m(!1)}},function(n,e,t){var r=t(6),a=t(70),i=r("iterator"),o=Array.prototype;n.exports=function(n){return void 0!==n&&(a.Array===n||o[i]===n)}},function(n,e,t){var r=t(8),a=t(10),i=t(47);n.exports=function(n,e,t){var o,l;a(n);try{if(!(o=i(n,"return"))){if("throw"===e)throw t;return t}o=r(o,n)}catch(n){l=!0,o=n}if("throw"===e)throw t;if(l)throw o;return a(o),t}},function(n,e,t){var r=t(55),a=t(177),i=t(74).CONSTRUCTOR;n.exports=i||!a((function(n){r.all(n).then(void 0,(function(){}))}))},function(n,e,t){var r=t(6)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(n){}n.exports=function(n,e){if(!e&&!a)return!1;var t=!1;try{var i={};i[r]=function(){return{next:function(){return{done:t=!0}}}},n(i)}catch(n){}return t}},function(n,e,t){var r=t(10),a=t(11),i=t(75);n.exports=function(n,e){if(r(n),a(e)&&e.constructor===n)return e;var t=i.f(n);return(0,t.resolve)(e),t.promise}},function(n,e,t){var r=t(3),a=t(58),i=t(12),o=t(19),l=r("".charAt),s=r("".charCodeAt),c=r("".slice),d=function(n){return function(e,t){var r,d,u=i(o(e)),p=a(t),h=u.length;return p<0||p>=h?n?"":void 0:(r=s(u,p))<55296||r>56319||p+1===h||(d=s(u,p+1))<56320||d>57343?n?l(u,p):r:n?c(u,p,p+2):d-56320+(r-55296<<10)+65536}};n.exports={codeAt:d(!1),charAt:d(!0)}},function(n,e){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,e,t){var r=t(87)("span").classList,a=r&&r.constructor&&r.constructor.prototype;n.exports=a===Object.prototype?void 0:a},function(n,e,t){var r=t(1),a=t(7),i=t(124),o=t(20),l=t(37),s=t(76);r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(n){for(var e,t,r=o(n),a=l.f,c=i(r),d={},u=0;c.length>u;)void 0!==(t=a(r,e=c[u++]))&&s(d,e,t);return d}})},function(n,e,t){var r=t(1),a=t(2),i=t(17),o=t(125),l=t(169);r({target:"Object",stat:!0,forced:a((function(){o(1)})),sham:!l},{getPrototypeOf:function(n){return o(i(n))}})},function(n,e,t){"use strict";var r,a=t(1),i=t(3),o=t(37).f,l=t(54),s=t(12),c=t(185),d=t(19),u=t(186),p=t(16),h=i("".startsWith),f=i("".slice),m=Math.min,g=u("startsWith");a({target:"String",proto:!0,forced:!!(p||g||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!g},{startsWith:function(n){var e=s(d(this));c(n);var t=l(m(arguments.length>1?arguments[1]:void 0,e.length)),r=s(n);return h?h(e,r,t):f(e,t,t+r.length)===r}})},function(n,e,t){var r=t(0),a=t(153),i=r.TypeError;n.exports=function(n){if(a(n))throw i("The method doesn't accept regular expressions");return n}},function(n,e,t){var r=t(6)("match");n.exports=function(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[r]=!1,"/./"[n](e)}catch(n){}}return!1}},function(n,e,t){"use strict";var r=t(60).forEach,a=t(46)("forEach");n.exports=a?[].forEach:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}},function(n,e,t){var r=t(2);n.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(n,e,t){var r=t(27),a=t(20),i=t(61).f,o=t(129),l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return l&&"Window"==r(n)?function(n){try{return i(n)}catch(n){return o(l)}}(n):i(a(n))}},function(n,e,t){var r=t(6);e.f=r},function(n,e,t){var r=t(275),a=t(9),i=t(190),o=t(13).f;n.exports=function(n){var e=r.Symbol||(r.Symbol={});a(e,n)||o(e,n,{value:i.f(n)})}},function(n,e,t){var r=t(52);n.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(n,e,t){var r=t(1),a=t(280);r({target:"Array",stat:!0,forced:!t(177)((function(n){Array.from(n)}))},{from:a})},function(n,e,t){"use strict";var r=t(10);n.exports=function(){var n=r(this),e="";return n.hasIndices&&(e+="d"),n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.dotAll&&(e+="s"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}},function(n,e,t){var r=t(12);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){t(1)({target:"Object",stat:!0,sham:!t(7)},{create:t(35)})},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(99),a=t(301),i=t(302),o=t(303),l=t(304),s=t(305);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=l,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(64),a=t(135);n.exports=function(n){if(!a(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(322),a=t(49);n.exports=function n(e,t,i,o,l){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:r(e,t,i,o,n,l))}},function(n,e,t){var r=t(205),a=t(325),i=t(206);n.exports=function(n,e,t,o,l,s){var c=1&t,d=n.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var p=s.get(n),h=s.get(e);if(p&&h)return p==e&&h==n;var f=-1,m=!0,g=2&t?new r:void 0;for(s.set(n,e),s.set(e,n);++f<d;){var v=n[f],b=e[f];if(o)var y=c?o(b,v,f,e,n,s):o(v,b,f,n,e,s);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!a(e,(function(n,e){if(!i(g,e)&&(v===n||l(v,n,t,o,s)))return g.push(e)}))){m=!1;break}}else if(v!==b&&!l(v,b,t,o,s)){m=!1;break}}return s.delete(n),s.delete(e),m}},function(n,e,t){var r=t(136),a=t(323),i=t(324);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(335),a=t(341),i=t(211);n.exports=function(n){return i(n)?r(n):a(n)}},function(n,e,t){(function(n){var r=t(34),a=t(337),i=e&&!e.nodeType&&e,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,l=o&&o.exports===i?r.Buffer:void 0,s=(l?l.isBuffer:void 0)||a;n.exports=s}).call(this,t(155)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(338),a=t(339),i=t(340),o=i&&i.isTypedArray,l=o?a(o):r;n.exports=l},function(n,e,t){var r=t(201),a=t(138);n.exports=function(n){return null!=n&&a(n.length)&&!r(n)}},function(n,e,t){var r=t(41)(t(34),"Set");n.exports=r},function(n,e,t){var r=t(135);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(216),a=t(103);n.exports=function(n,e){for(var t=0,i=(e=r(e,n)).length;null!=n&&t<i;)n=n[a(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var r=t(32),a=t(139),i=t(352),o=t(355);n.exports=function(n,e){return r(n)?n:a(n,e)?[n]:i(o(n))}},function(n,e,t){var r=t(0),a=t(39),i=t(4),o=t(33),l=t(73),s=t(150),c=/MSIE .\./.test(o),d=r.Function,u=function(n){return c?function(e,t){var r=s(arguments.length,1)>2,o=i(e)?e:d(e),c=r?l(arguments,2):void 0;return n(r?function(){a(o,this,c)}:o,t)}:n};n.exports={setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)}},function(n,e,t){"use strict";var r=t(0),a=t(3),i=t(23),o=t(11),l=t(9),s=t(73),c=t(66),d=r.Function,u=a([].concat),p=a([].join),h={},f=function(n,e,t){if(!l(h,e)){for(var r=[],a=0;a<e;a++)r[a]="a["+a+"]";h[e]=d("C,a","return new C("+p(r,",")+")")}return h[e](n,t)};n.exports=c?d.bind:function(n){var e=i(this),t=e.prototype,r=s(arguments,1),a=function(){var t=u(r,s(arguments));return this instanceof a?f(e,t.length,t):e.apply(n,t)};return o(t)&&(a.prototype=t),a}},function(n,e,t){"use strict";var r=t(1),a=t(389).start;r({target:"String",proto:!0,forced:t(391)},{padStart:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){},function(n,e,t){},function(n,e,t){t(1)({target:"Object",stat:!0},{setPrototypeOf:t(72)})},function(n,e,t){var r=t(1),a=t(15),i=t(39),o=t(218),l=t(170),s=t(10),c=t(11),d=t(35),u=t(2),p=a("Reflect","construct"),h=Object.prototype,f=[].push,m=u((function(){function n(){}return!(p((function(){}),[],n)instanceof n)})),g=!u((function(){p((function(){}))})),v=m||g;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(n,e){l(n),s(e);var t=arguments.length<3?n:l(arguments[2]);if(g&&!m)return p(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var r=[null];return i(f,r,e),new(i(o,n,r))}var a=t.prototype,u=d(c(a)?a:h),v=i(n,u,e);return c(v)?v:u}})},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(288),a=t(293),i=t(364),o=t(372),l=t(381),s=t(240),c=i((function(n){var e=s(n);return l(e)&&(e=void 0),o(r(n,1,l,!0),a(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,a=r.exec(t);if(!a)return t;var i="",o=0,l=0;for(o=a.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}l!==o&&(i+=t.substring(l,o)),l=o+1,i+=e}return l!==o?i+t.substring(l,o):i}},function(n,e,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=t(403),a=t(404),i=t(405),o=!1,l=t(406).version,s=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=s.concat("cache"),d=/^\uFEFF/;function u(n,t){var a,i,o=t.views,l=/^[A-Za-z]+:\\|^\//.exec(n);if(l&&l.length)a=e.resolveInclude(n.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(i=e.resolveInclude(n,t.filename),r.existsSync(i)&&(a=i)),a||Array.isArray(o)&&o.some((function(t){return i=e.resolveInclude(n,t,!0),r.existsSync(i)}))&&(a=i),!a)throw new Error('Could not find the include file "'+t.escapeFunction(n)+'"');return a}function p(n,t){var r,a=n.filename,i=arguments.length>1;if(n.cache){if(!a)throw new Error("cache option requires a filename");if(r=e.cache.get(a))return r;i||(t=f(a).toString().replace(d,""))}else if(!i){if(!a)throw new Error("Internal EJS error: no file name or template provided");t=f(a).toString().replace(d,"")}return r=e.compile(t,n),n.cache&&e.cache.set(a,r),r}function h(n,t,r){var a;if(!r){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,r){try{e(a=p(n)(t))}catch(n){r(n)}}));throw new Error("Please provide a callback function")}try{a=p(n)(t)}catch(n){return r(n)}r(null,a)}function f(n){return e.fileLoader(n)}function m(n,e,t,r,a){var i=e.split("\n"),o=Math.max(r-3,0),l=Math.min(i.length,r+3),s=a(t),c=i.slice(o,l).map((function(n,e){var t=e+o+1;return(t==r?" >> ":"    ")+t+"| "+n})).join("\n");throw n.path=s,n.message=(s||"ejs")+":"+r+"\n"+c+"\n\n"+n.message,n}function g(n){return n.replace(/;(\s*$)/,"$1")}function v(n,t){t=t||{};var r={};this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],r.client=t.client||!1,r.escapeFunction=t.escape||t.escapeFunction||i.escapeXML,r.compileDebug=!1!==t.compileDebug,r.debug=!!t.debug,r.filename=t.filename,r.openDelimiter=t.openDelimiter||e.openDelimiter||"<",r.closeDelimiter=t.closeDelimiter||e.closeDelimiter||">",r.delimiter=t.delimiter||e.delimiter||"%",r.strict=t.strict||!1,r.context=t.context,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,r.root=t.root,r.outputFunctionName=t.outputFunctionName,r.localsName=t.localsName||e.localsName||"locals",r.views=t.views,r.async=t.async,r.destructuredLocals=t.destructuredLocals,r.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,r.strict?r._with=!1:r._with=void 0===t._with||t._with,this.opts=r,this.regex=this.createRegex()}e.cache=i.cache,e.fileLoader=r.readFileSync,e.localsName="locals",e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,e,t){var r=a.dirname,i=a.extname,o=(0,a.resolve)(t?e:r(e),n);return i(n)||(o+=".ejs"),o},e.compile=function(n,e){return e&&e.scope&&(o||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),o=!0),e.context||(e.context=e.scope),delete e.scope),new v(n,e).compile()},e.render=function(n,e,t){var r=e||{},a=t||{};return 2==arguments.length&&i.shallowCopyFromList(a,r,s),p(a,n)(r)},e.renderFile=function(){var n,e,t,r=Array.prototype.slice.call(arguments),a=r.shift(),o={filename:a};return"function"==typeof arguments[arguments.length-1]&&(n=r.pop()),r.length?(e=r.shift(),r.length?i.shallowCopy(o,r.pop()):(e.settings&&(e.settings.views&&(o.views=e.settings.views),e.settings["view cache"]&&(o.cache=!0),(t=e.settings["view options"])&&i.shallowCopy(o,t)),i.shallowCopyFromList(o,e,c)),o.filename=a):e={},h(o,e,n)},e.Template=v,e.clearCache=function(){e.cache.reset()},v.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},v.prototype={createRegex:function(){var n="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=i.escapeRegExpChars(this.opts.delimiter),t=i.escapeRegExpChars(this.opts.openDelimiter),r=i.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,e).replace(/</g,t).replace(/>/g,r),new RegExp(n)},compile:function(){var n,e,t,r=this.opts,o="",l="",s=r.escapeFunction;if(!this.source){if(this.generateSource(),o+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName&&(o+="  var "+r.outputFunctionName+" = __append;\n"),r.destructuredLocals&&r.destructuredLocals.length){for(var c="  var __locals = ("+r.localsName+" || {}),\n",d=0;d<r.destructuredLocals.length;d++){var h=r.destructuredLocals[d];d>0&&(c+=",\n  "),c+=h+" = __locals."+h}o+=c+";\n"}!1!==r._with&&(o+="  with ("+r.localsName+" || {}) {\n",l+="  }\n"),l+="  return __output;\n",this.source=o+this.source+l}n=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(r.filename?JSON.stringify(r.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(n="escapeFn = escapeFn || "+s.toString()+";\n"+n,r.compileDebug&&(n="rethrow = rethrow || "+m.toString()+";\n"+n)),r.strict&&(n='"use strict";\n'+n),r.debug&&console.log(n),r.compileDebug&&r.filename&&(n=n+"\n//# sourceURL="+r.filename+"\n");try{if(r.async)try{t=new Function("return (async function(){}).constructor;")()}catch(n){throw n instanceof SyntaxError?new Error("This environment does not support async/await"):n}else t=Function;e=new t(r.localsName+", escapeFn, include, rethrow",n)}catch(n){throw n instanceof SyntaxError&&(r.filename&&(n.message+=" in "+r.filename),n.message+=" while compiling ejs\n\n",n.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",n.message+="https://github.com/RyanZim/EJS-Lint",r.async||(n.message+="\n",n.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),n}var f=r.client?e:function(n){return e.apply(r.context,[n||{},s,function(e,t){var a=i.shallowCopy({},n);return t&&(a=i.shallowCopy(a,t)),function(n,e){var t=i.shallowCopy({},e);return t.filename=u(n,t),p(t)}(e,r)(a)},m])};if(f.dependencies=this.dependencies,r.filename&&"function"==typeof Object.defineProperty){var g=r.filename,v=a.basename(g,a.extname(g));try{Object.defineProperty(f,"name",{value:v,writable:!1,enumerable:!1,configurable:!0})}catch(n){}}return f},generateSource:function(){var n=this.opts;n.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,r=this.parseTemplateText(),a=this.opts.delimiter,o=this.opts.openDelimiter,l=this.opts.closeDelimiter;r&&r.length&&r.forEach((function(s,c){var p,h,m,g,b,y;if(0===s.indexOf(o+a)&&0!==s.indexOf(o+a+a)&&(h=r[c+2])!=a+l&&h!="-"+a+l&&h!="_"+a+l)throw new Error('Could not find matching close tag for "'+s+'".');if(n.legacyInclude&&(m=s.match(/^\s*include\s+(\S+)/))&&(p=r[c-1])&&(p==o+a||p==o+a+"-"||p==o+a+"_"))return g=i.shallowCopy({},t.opts),b=function(n,e){var t,r,a=i.shallowCopy({},e);r=f(t=u(n,a)).toString().replace(d,""),a.filename=t;var o=new v(r,a);return o.generateSource(),{source:o.source,filename:t,template:r}}(m[1],g),y=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(b.template)+"\n      , __filename = "+JSON.stringify(b.filename)+";\n      try {\n"+b.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+b.source+"    ; }).call(this)\n",t.source+=y,void t.dependencies.push(e.resolveInclude(m[1],g.filename));t.scanLine(s)}))},parseTemplateText:function(){for(var n,e=this.templateText,t=this.regex,r=t.exec(e),a=[];r;)0!==(n=r.index)&&(a.push(e.substring(0,n)),e=e.slice(n)),a.push(r[0]),e=e.slice(r[0].length),r=t.exec(e);return e&&a.push(e),a},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+n+'")\n'},scanLine:function(n){var e,t=this.opts.delimiter,r=this.opts.openDelimiter,a=this.opts.closeDelimiter;switch(e=n.split("\n").length-1,n){case r+t:case r+t+"_":this.mode=v.modes.EVAL;break;case r+t+"=":this.mode=v.modes.ESCAPED;break;case r+t+"-":this.mode=v.modes.RAW;break;case r+t+"#":this.mode=v.modes.COMMENT;break;case r+t+t:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+n.replace(r+t+t,r+t)+'")\n';break;case t+t+a:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+a,t+a)+'")\n';break;case t+a:case"-"+t+a:case"_"+t+a:this.mode==v.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=0===n.indexOf("-")||0===n.indexOf("_");break;default:if(this.mode){switch(this.mode){case v.modes.EVAL:case v.modes.ESCAPED:case v.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf("\n")&&(n+="\n")}switch(this.mode){case v.modes.EVAL:this.source+="    ; "+n+"\n";break;case v.modes.ESCAPED:this.source+="    ; __append(escapeFn("+g(n)+"))\n";break;case v.modes.RAW:this.source+="    ; __append("+g(n)+")\n";break;case v.modes.COMMENT:break;case v.modes.LITERAL:this._addOutput(n)}}else this._addOutput(n)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=i.escapeXML,e.__express=e.renderFile,e.VERSION=l,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},a=(t(392),t(21)),i=Object(a.a)(r,(function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);t(29),t(5),t(30),t(44),t(25);var r={name:"CodeGroup",data:function(){return{codeTabs:[],activeCodeTabIndex:-1}},watch:{activeCodeTabIndex:function(n){this.codeTabs.forEach((function(n){n.elm.classList.remove("theme-code-block__active")})),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted:function(){var n=this;this.codeTabs=(this.$slots.default||[]).filter((function(n){return Boolean(n.componentOptions)})).map((function(e,t){return""===e.componentOptions.propsData.active&&(n.activeCodeTabIndex=t),{title:e.componentOptions.propsData.title,elm:e.elm}})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab:function(n){this.activeCodeTabIndex=n}}},a=(t(393),t(21)),i=Object(a.a)(r,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"theme-code-group"},[t("div",{staticClass:"theme-code-group__nav"},[t("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(e,r){return t("li",{key:e.title,staticClass:"theme-code-group__li"},[t("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(e.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?t("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e,t){"use strict";var r=t(7),a=t(0),i=t(3),o=t(110),l=t(14),s=t(9),c=t(154),d=t(36),u=t(67),p=t(163),h=t(2),f=t(61).f,m=t(37).f,g=t(13).f,v=t(388),b=t(157).trim,y=a.Number,E=y.prototype,x=a.TypeError,k=i("".slice),w=i("".charCodeAt),T=function(n){var e=p(n,"number");return"bigint"==typeof e?e:A(e)},A=function(n){var e,t,r,a,i,o,l,s,c=p(n,"number");if(u(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(e=w(c,0))||45===e){if(88===(t=w(c,2))||120===t)return NaN}else if(48===e){switch(w(c,1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(o=(i=k(c,2)).length,l=0;l<o;l++)if((s=w(i,l))<48||s>a)return NaN;return parseInt(i,r)}return+c};if(o("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,B=function(n){var e=arguments.length<1?0:y(T(n)),t=this;return d(E,t)&&h((function(){v(t)}))?c(Object(e),t,B):e},I=r?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;I.length>C;C++)s(y,S=I[C])&&!s(B,S)&&g(B,S,m(y,S));B.prototype=E,E.constructor=B,l(a,"Number",B,{constructor:!0})}},function(n,e,t){var r=t(2),a=t(0).RegExp;n.exports=r((function(){var n=a(".","s");return!(n.dotAll&&n.exec("\n")&&"s"===n.flags)}))},function(n,e,t){"use strict";var r=t(168).IteratorPrototype,a=t(35),i=t(48),o=t(62),l=t(70),s=function(){return this};n.exports=function(n,e,t,c){var d=e+" Iterator";return n.prototype=a(r,{next:i(+!c,t)}),o(n,d,!1,!0),l[d]=s,n}},function(n,e,t){"use strict";var r=t(15),a=t(13),i=t(6),o=t(7),l=i("species");n.exports=function(n){var e=r(n),t=a.f;o&&e&&!e[l]&&t(e,l,{configurable:!0,get:function(){return this}})}},function(n,e,t){var r=t(0),a=t(36),i=r.TypeError;n.exports=function(n,e){if(a(e,n))return n;throw i("Incorrect invocation")}},function(n,e,t){var r=t(2),a=t(0).RegExp;n.exports=r((function(){var n=a("(?<a>b)","g");return"b"!==n.exec("b").groups.a||"bc"!=="b".replace(n,"$<a>c")}))},function(n,e,t){var r=t(13).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(1),a=t(119).includes,i=t(2),o=t(146);r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(n,e,t){"use strict";var r=t(1),a=t(3),i=t(185),o=t(19),l=t(12),s=t(186),c=a("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(n){return!!~c(l(o(this)),l(i(n)),arguments.length>1?arguments[1]:void 0)}})},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){"use strict";var r=t(1),a=t(157).trim;r({target:"String",proto:!0,forced:t(386)("trim")},{trim:function(){return a(this)}})},function(n,e,t){var r=t(8),a=t(9),i=t(36),o=t(194),l=RegExp.prototype;n.exports=function(n){var e=n.flags;return void 0!==e||"flags"in l||a(n,"flags")||!i(l,n)?e:r(o,n)}},function(n,e,t){var r=t(129),a=Math.floor,i=function(n,e){var t=n.length,s=a(t/2);return t<8?o(n,e):l(n,i(r(n,0,s),e),i(r(n,s),e),e)},o=function(n,e){for(var t,r,a=n.length,i=1;i<a;){for(r=i,t=n[i];r&&e(n[r-1],t)>0;)n[r]=n[--r];r!==i++&&(n[r]=t)}return n},l=function(n,e,t,r){for(var a=e.length,i=t.length,o=0,l=0;o<a||l<i;)n[o+l]=o<a&&l<i?r(e[o],t[l])<=0?e[o++]:t[l++]:o<a?e[o++]:t[l++];return n};n.exports=i},function(n,e,t){var r=t(0),a=t(7),i=t(112).MISSED_STICKY,o=t(27),l=t(245),s=t(38).get,c=RegExp.prototype,d=r.TypeError;a&&i&&l(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!s(this).sticky;throw d("Incompatible receiver, RegExp required")}}})},function(n,e,t){var r=t(167),a=t(13);n.exports=function(n,e,t){return t.get&&r(t.get,e,{getter:!0}),t.set&&r(t.set,e,{setter:!0}),a.f(n,e,t)}},function(n,e,t){n.exports=t(409)},function(n,e,t){var r=t(0),a=t(8),i=t(4),o=t(11),l=r.TypeError;n.exports=function(n,e){var t,r;if("string"===e&&i(t=n.toString)&&!o(r=a(t,n)))return r;if(i(t=n.valueOf)&&!o(r=a(t,n)))return r;if("string"!==e&&i(t=n.toString)&&!o(r=a(t,n)))return r;throw l("Can't convert object to primitive value")}},function(n,e,t){var r=t(0),a=t(4),i=t(91),o=r.WeakMap;n.exports=a(o)&&/native code/.test(i(o))},function(n,e,t){var r=t(0),a=t(4),i=r.String,o=r.TypeError;n.exports=function(n){if("object"==typeof n||a(n))return n;throw o("Can't set "+i(n)+" as a prototype")}},function(n,e,t){t(251),t(258),t(259),t(260),t(261),t(262)},function(n,e,t){"use strict";var r,a,i,o=t(1),l=t(16),s=t(93),c=t(0),d=t(8),u=t(14),p=t(72),h=t(62),f=t(234),m=t(23),g=t(4),v=t(11),b=t(235),y=t(126),E=t(171).set,x=t(252),k=t(255),w=t(128),T=t(256),A=t(38),S=t(55),B=t(74),I=t(75),C=B.CONSTRUCTOR,_=B.REJECTION_EVENT,P=B.SUBCLASSING,z=A.getterFor("Promise"),j=A.set,L=S&&S.prototype,O=S,D=L,M=c.TypeError,R=c.document,F=c.process,N=I.f,q=N,U=!!(R&&R.createEvent&&c.dispatchEvent),J=function(n){var e;return!(!v(n)||!g(e=n.then))&&e},H=function(n,e){var t,r,a,i=e.value,o=1==e.state,l=o?n.ok:n.fail,s=n.resolve,c=n.reject,u=n.domain;try{l?(o||(2===e.rejection&&W(e),e.rejection=1),!0===l?t=i:(u&&u.enter(),t=l(i),u&&(u.exit(),a=!0)),t===n.promise?c(M("Promise-chain cycle")):(r=J(t))?d(r,t,s,c):s(t)):c(i)}catch(n){u&&!a&&u.exit(),c(n)}},K=function(n,e){n.notified||(n.notified=!0,x((function(){for(var t,r=n.reactions;t=r.get();)H(t,n);n.notified=!1,e&&!n.rejection&&G(n)})))},V=function(n,e,t){var r,a;U?((r=R.createEvent("Event")).promise=e,r.reason=t,r.initEvent(n,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:t},!_&&(a=c["on"+n])?a(r):"unhandledrejection"===n&&k("Unhandled promise rejection",t)},G=function(n){d(E,c,(function(){var e,t=n.facade,r=n.value;if($(n)&&(e=w((function(){s?F.emit("unhandledRejection",r,t):V("unhandledrejection",t,r)})),n.rejection=s||$(n)?2:1,e.error))throw e.value}))},$=function(n){return 1!==n.rejection&&!n.parent},W=function(n){d(E,c,(function(){var e=n.facade;s?F.emit("rejectionHandled",e):V("rejectionhandled",e,n.value)}))},Q=function(n,e,t){return function(r){n(e,r,t)}},Y=function(n,e,t){n.done||(n.done=!0,t&&(n=t),n.value=e,n.state=2,K(n,!0))},Z=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw M("Promise can't be resolved itself");var r=J(e);r?x((function(){var t={done:!1};try{d(r,e,Q(Z,t,n),Q(Y,t,n))}catch(e){Y(t,e,n)}})):(n.value=e,n.state=1,K(n,!1))}catch(e){Y({done:!1},e,n)}}};if(C&&(D=(O=function(n){b(this,D),m(n),d(r,this);var e=z(this);try{n(Q(Z,e),Q(Y,e))}catch(n){Y(e,n)}}).prototype,(r=function(n){j(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=u(D,"then",(function(n,e){var t=z(this),r=N(y(this,O));return t.parent=!0,r.ok=!g(n)||n,r.fail=g(e)&&e,r.domain=s?F.domain:void 0,0==t.state?t.reactions.add(r):x((function(){H(r,t)})),r.promise})),a=function(){var n=new r,e=z(n);this.promise=n,this.resolve=Q(Z,e),this.reject=Q(Y,e)},I.f=N=function(n){return n===O||void 0===n?new a(n):q(n)},!l&&g(S)&&L!==Object.prototype)){i=L.then,P||u(L,"then",(function(n,e){var t=this;return new O((function(n,e){d(i,t,n,e)})).then(n,e)}),{unsafe:!0});try{delete L.constructor}catch(n){}p&&p(L,D)}o({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:O}),h(O,"Promise",!1,!0),f("Promise")},function(n,e,t){var r,a,i,o,l,s,c,d,u=t(0),p=t(59),h=t(37).f,f=t(171).set,m=t(172),g=t(253),v=t(254),b=t(93),y=u.MutationObserver||u.WebKitMutationObserver,E=u.document,x=u.process,k=u.Promise,w=h(u,"queueMicrotask"),T=w&&w.value;T||(r=function(){var n,e;for(b&&(n=x.domain)&&n.exit();a;){e=a.fn,a=a.next;try{e()}catch(n){throw a?o():i=void 0,n}}i=void 0,n&&n.enter()},m||b||v||!y||!E?!g&&k&&k.resolve?((c=k.resolve(void 0)).constructor=k,d=p(c.then,c),o=function(){d(r)}):b?o=function(){x.nextTick(r)}:(f=p(f,u),o=function(){f(r)}):(l=!0,s=E.createTextNode(""),new y(r).observe(s,{characterData:!0}),o=function(){s.data=l=!l})),n.exports=T||function(n){var e={fn:n,next:void 0};i&&(i.next=e),a||(a=e,o()),i=e}},function(n,e,t){var r=t(33),a=t(0);n.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==a.Pebble},function(n,e,t){var r=t(33);n.exports=/web0s(?!.*chrome)/i.test(r)},function(n,e,t){var r=t(0);n.exports=function(n,e){var t=r.console;t&&t.error&&(1==arguments.length?t.error(n):t.error(n,e))}},function(n,e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(n){var e={item:n,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},n.exports=t},function(n,e){n.exports="object"==typeof window&&"object"!=typeof Deno},function(n,e,t){"use strict";var r=t(1),a=t(8),i=t(23),o=t(75),l=t(128),s=t(173);r({target:"Promise",stat:!0,forced:t(176)},{all:function(n){var e=this,t=o.f(e),r=t.resolve,c=t.reject,d=l((function(){var t=i(e.resolve),o=[],l=0,d=1;s(n,(function(n){var i=l++,s=!1;d++,a(t,e,n).then((function(n){s||(s=!0,o[i]=n,--d||r(o))}),c)})),--d||r(o)}));return d.error&&c(d.value),t.promise}})},function(n,e,t){"use strict";var r=t(1),a=t(16),i=t(74).CONSTRUCTOR,o=t(55),l=t(15),s=t(4),c=t(14),d=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(n){return this.then(void 0,n)}}),!a&&s(o)){var u=l("Promise").prototype.catch;d.catch!==u&&c(d,"catch",u,{unsafe:!0})}},function(n,e,t){"use strict";var r=t(1),a=t(8),i=t(23),o=t(75),l=t(128),s=t(173);r({target:"Promise",stat:!0,forced:t(176)},{race:function(n){var e=this,t=o.f(e),r=t.reject,c=l((function(){var o=i(e.resolve);s(n,(function(n){a(o,e,n).then(t.resolve,r)}))}));return c.error&&r(c.value),t.promise}})},function(n,e,t){"use strict";var r=t(1),a=t(8),i=t(75);r({target:"Promise",stat:!0,forced:t(74).CONSTRUCTOR},{reject:function(n){var e=i.f(this);return a(e.reject,void 0,n),e.promise}})},function(n,e,t){"use strict";var r=t(1),a=t(15),i=t(16),o=t(55),l=t(74).CONSTRUCTOR,s=t(178),c=a("Promise"),d=i&&!l;r({target:"Promise",stat:!0,forced:i||l},{resolve:function(n){return s(d&&this===c?o:this,n)}})},function(n,e,t){var r=t(1),a=t(264);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},function(n,e,t){"use strict";var r=t(7),a=t(3),i=t(8),o=t(2),l=t(89),s=t(92),c=t(122),d=t(17),u=t(65),p=Object.assign,h=Object.defineProperty,f=a([].concat);n.exports=!p||o((function(){if(r&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol();return n[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(n){e[n]=n})),7!=p({},n)[t]||"abcdefghijklmnopqrst"!=l(p({},e)).join("")}))?function(n,e){for(var t=d(n),a=arguments.length,o=1,p=s.f,h=c.f;a>o;)for(var m,g=u(arguments[o++]),v=p?f(l(g),p(g)):l(g),b=v.length,y=0;b>y;)m=v[y++],r&&!i(h,g,m)||(t[m]=g[m]);return t}:p},function(n,e,t){"use strict";var r=t(1),a=t(16),i=t(55),o=t(2),l=t(15),s=t(4),c=t(126),d=t(178),u=t(14),p=i&&i.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(n){var e=c(this,l("Promise")),t=s(n);return this.then(t?function(t){return d(e,n()).then((function(){return t}))}:n,t?function(t){return d(e,n()).then((function(){throw t}))}:n)}}),!a&&s(i)){var h=l("Promise").prototype.finally;p.finally!==h&&u(p,"finally",h,{unsafe:!0})}},function(n,e,t){"use strict";var r=t(127),a=t(83);n.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},function(n,e,t){var r=t(0),a=t(63),i=t(94),o=t(11),l=t(6)("species"),s=r.Array;n.exports=function(n){var e;return a(n)&&(e=n.constructor,(i(e)&&(e===s||a(e.prototype))||o(e)&&null===(e=e[l]))&&(e=void 0)),void 0===e?s:e}},function(n,e,t){"use strict";var r=t(1),a=t(269).left,i=t(46),o=t(53),l=t(93);r({target:"Array",proto:!0,forced:!i("reduce")||!l&&o>79&&o<83},{reduce:function(n){var e=arguments.length;return a(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),a=t(23),i=t(17),o=t(65),l=t(24),s=r.TypeError,c=function(n){return function(e,t,r,c){a(t);var d=i(e),u=o(d),p=l(d),h=n?p-1:0,f=n?-1:1;if(r<2)for(;;){if(h in u){c=u[h],h+=f;break}if(h+=f,n?h<0:p<=h)throw s("Reduce of empty array with no initial value")}for(;n?h>=0:p>h;h+=f)h in u&&(c=t(c,u[h],h,d));return c}};n.exports={left:c(!1),right:c(!0)}},function(n,e,t){var r=t(1),a=t(188),i=t(2),o=t(11),l=t(271).onFreeze,s=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{freeze:function(n){return s&&o(n)?s(l(n)):n}})},function(n,e,t){var r=t(1),a=t(3),i=t(69),o=t(11),l=t(9),s=t(13).f,c=t(61),d=t(189),u=t(272),p=t(86),h=t(188),f=!1,m=p("meta"),g=0,v=function(n){s(n,m,{value:{objectID:"O"+g++,weakData:{}}})},b=n.exports={enable:function(){b.enable=function(){},f=!0;var n=c.f,e=a([].splice),t={};t[m]=1,n(t).length&&(c.f=function(t){for(var r=n(t),a=0,i=r.length;a<i;a++)if(r[a]===m){e(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},fastKey:function(n,e){if(!o(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!l(n,m)){if(!u(n))return"F";if(!e)return"E";v(n)}return n[m].objectID},getWeakData:function(n,e){if(!l(n,m)){if(!u(n))return!0;if(!e)return!1;v(n)}return n[m].weakData},onFreeze:function(n){return h&&f&&u(n)&&!l(n,m)&&v(n),n}};i[m]=!0},function(n,e,t){var r=t(2),a=t(11),i=t(27),o=t(273),l=Object.isExtensible,s=r((function(){l(1)}));n.exports=s||o?function(n){return!!a(n)&&((!o||"ArrayBuffer"!=i(n))&&(!l||l(n)))}:l},function(n,e,t){var r=t(2);n.exports=r((function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}))},function(n,e,t){"use strict";var r=t(1),a=t(0),i=t(8),o=t(3),l=t(16),s=t(7),c=t(52),d=t(2),u=t(9),p=t(36),h=t(10),f=t(20),m=t(88),g=t(12),v=t(48),b=t(35),y=t(89),E=t(61),x=t(189),k=t(92),w=t(37),T=t(13),A=t(118),S=t(122),B=t(14),I=t(51),C=t(90),_=t(69),P=t(86),z=t(6),j=t(190),L=t(191),O=t(276),D=t(62),M=t(38),R=t(60).forEach,F=C("hidden"),N=M.set,q=M.getterFor("Symbol"),U=Object.prototype,J=a.Symbol,H=J&&J.prototype,K=a.TypeError,V=a.QObject,G=w.f,$=T.f,W=x.f,Q=S.f,Y=o([].push),Z=I("symbols"),X=I("op-symbols"),nn=I("wks"),en=!V||!V.prototype||!V.prototype.findChild,tn=s&&d((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(n,e,t){var r=G(U,e);r&&delete U[e],$(n,e,t),r&&n!==U&&$(U,e,r)}:$,rn=function(n,e){var t=Z[n]=b(H);return N(t,{type:"Symbol",tag:n,description:e}),s||(t.description=e),t},an=function(n,e,t){n===U&&an(X,e,t),h(n);var r=m(e);return h(t),u(Z,r)?(t.enumerable?(u(n,F)&&n[F][r]&&(n[F][r]=!1),t=b(t,{enumerable:v(0,!1)})):(u(n,F)||$(n,F,v(1,{})),n[F][r]=!0),tn(n,r,t)):$(n,r,t)},on=function(n,e){h(n);var t=f(e),r=y(t).concat(dn(t));return R(r,(function(e){s&&!i(ln,t,e)||an(n,e,t[e])})),n},ln=function(n){var e=m(n),t=i(Q,this,e);return!(this===U&&u(Z,e)&&!u(X,e))&&(!(t||!u(this,e)||!u(Z,e)||u(this,F)&&this[F][e])||t)},sn=function(n,e){var t=f(n),r=m(e);if(t!==U||!u(Z,r)||u(X,r)){var a=G(t,r);return!a||!u(Z,r)||u(t,F)&&t[F][r]||(a.enumerable=!0),a}},cn=function(n){var e=W(f(n)),t=[];return R(e,(function(n){u(Z,n)||u(_,n)||Y(t,n)})),t},dn=function(n){var e=n===U,t=W(e?X:f(n)),r=[];return R(t,(function(n){!u(Z,n)||e&&!u(U,n)||Y(r,Z[n])})),r};c||(B(H=(J=function(){if(p(H,this))throw K("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=P(n),t=function(n){this===U&&i(t,X,n),u(this,F)&&u(this[F],e)&&(this[F][e]=!1),tn(this,e,v(1,n))};return s&&en&&tn(U,e,{configurable:!0,set:t}),rn(e,n)}).prototype,"toString",(function(){return q(this).tag})),B(J,"withoutSetter",(function(n){return rn(P(n),n)})),S.f=ln,T.f=an,A.f=on,w.f=sn,E.f=x.f=cn,k.f=dn,j.f=function(n){return rn(z(n),n)},s&&($(H,"description",{configurable:!0,get:function(){return q(this).description}}),l||B(U,"propertyIsEnumerable",ln,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:J}),R(y(nn),(function(n){L(n)})),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){en=!0},useSimple:function(){en=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(n,e){return void 0===e?b(n):on(b(n),e)},defineProperty:an,defineProperties:on,getOwnPropertyDescriptor:sn}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:cn}),O(),D(J,"Symbol"),_[F]=!0},function(n,e,t){var r=t(0);n.exports=r},function(n,e,t){var r=t(8),a=t(15),i=t(6),o=t(14);n.exports=function(){var n=a("Symbol"),e=n&&n.prototype,t=e&&e.valueOf,l=i("toPrimitive");e&&!e[l]&&o(e,l,(function(n){return r(t,this)}),{arity:1})}},function(n,e,t){var r=t(1),a=t(15),i=t(9),o=t(12),l=t(51),s=t(192),c=l("string-to-symbol-registry"),d=l("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(n){var e=o(n);if(i(c,e))return c[e];var t=a("Symbol")(e);return c[e]=t,d[t]=e,t}})},function(n,e,t){var r=t(1),a=t(9),i=t(67),o=t(68),l=t(51),s=t(192),c=l("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(n){if(!i(n))throw TypeError(o(n)+" is not a symbol");if(a(c,n))return c[n]}})},function(n,e,t){var r=t(1),a=t(52),i=t(2),o=t(92),l=t(17);r({target:"Object",stat:!0,forced:!a||i((function(){o.f(1)}))},{getOwnPropertySymbols:function(n){var e=o.f;return e?e(l(n)):[]}})},function(n,e,t){"use strict";var r=t(0),a=t(59),i=t(8),o=t(17),l=t(281),s=t(174),c=t(94),d=t(24),u=t(76),p=t(151),h=t(111),f=r.Array;n.exports=function(n){var e=o(n),t=c(this),r=arguments.length,m=r>1?arguments[1]:void 0,g=void 0!==m;g&&(m=a(m,r>2?arguments[2]:void 0));var v,b,y,E,x,k,w=h(e),T=0;if(!w||this==f&&s(w))for(v=d(e),b=t?new this(v):f(v);v>T;T++)k=g?m(e[T],T):e[T],u(b,T,k);else for(x=(E=p(e,w)).next,b=t?new this:[];!(y=i(x,E)).done;T++)k=g?l(E,m,[y.value,T],!0):y.value,u(b,T,k);return b.length=T,b}},function(n,e,t){var r=t(10),a=t(175);n.exports=function(n,e,t,i){try{return i?e(r(t)[0],t[1]):e(t)}catch(e){a(n,"throw",e)}}},function(n,e,t){"use strict";var r=t(15),a=t(9),i=t(28),o=t(36),l=t(72),s=t(123),c=t(237),d=t(154),u=t(195),p=t(283),h=t(284),f=t(285),m=t(7),g=t(16);n.exports=function(n,e,t,v){var b=v?2:1,y=n.split("."),E=y[y.length-1],x=r.apply(null,y);if(x){var k=x.prototype;if(!g&&a(k,"cause")&&delete k.cause,!t)return x;var w=r("Error"),T=e((function(n,e){var t=u(v?e:n,void 0),r=v?new x(n):new x;return void 0!==t&&i(r,"message",t),f&&i(r,"stack",h(r.stack,2)),this&&o(k,this)&&d(r,this,T),arguments.length>b&&p(r,arguments[b]),r}));if(T.prototype=k,"Error"!==E?l?l(T,w):s(T,w,{name:!0}):m&&"stackTraceLimit"in x&&(c(T,x,"stackTraceLimit"),c(T,x,"prepareStackTrace")),s(T,x),!g)try{k.name!==E&&i(k,"name",E),k.constructor=T}catch(n){}return T}}},function(n,e,t){var r=t(11),a=t(28);n.exports=function(n,e){r(e)&&"cause"in e&&a(n,"cause",e.cause)}},function(n,e,t){var r=t(3),a=Error,i=r("".replace),o=String(a("zxcasd").stack),l=/\n\s*at [^:]*:[^\n]*/,s=l.test(o);n.exports=function(n,e){if(s&&"string"==typeof n&&!a.prepareStackTrace)for(;e--;)n=i(n,l,"");return n}},function(n,e,t){var r=t(2),a=t(48);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",a(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(7),a=t(2),i=t(10),o=t(35),l=t(195),s=Error.prototype.toString,c=a((function(){if(r){var n=o(Object.defineProperty({},"name",{get:function(){return this===n}}));if("true"!==s.call(n))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));n.exports=c?function(){var n=i(this),e=l(n.name,"Error"),t=l(n.message);return e?t?e+": "+t:e:t}:s},function(n,e,t){var r=t(3),a=t(17),i=Math.floor,o=r("".charAt),l=r("".replace),s=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;n.exports=function(n,e,t,r,u,p){var h=t+n.length,f=r.length,m=d;return void 0!==u&&(u=a(u),m=c),l(p,m,(function(a,l){var c;switch(o(l,0)){case"$":return"$";case"&":return n;case"`":return s(e,0,t);case"'":return s(e,h);case"<":c=u[s(l,1,-1)];break;default:var d=+l;if(0===d)return a;if(d>f){var p=i(d/10);return 0===p?a:p<=f?void 0===r[p-1]?o(l,1):r[p-1]+o(l,1):a}c=r[d-1]}return void 0===c?"":c}))}},function(n,e,t){var r=t(197),a=t(289);n.exports=function n(e,t,i,o,l){var s=-1,c=e.length;for(i||(i=a),l||(l=[]);++s<c;){var d=e[s];t>0&&i(d)?t>1?n(d,t-1,i,o,l):r(l,d):o||(l[l.length]=d)}return l}},function(n,e,t){var r=t(78),a=t(133),i=t(32),o=r?r.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||a(n)||!!(o&&n&&n[o])}},function(n,e,t){var r=t(64),a=t(49);n.exports=function(n){return a(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(78),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,l=r?r.toStringTag:void 0;n.exports=function(n){var e=i.call(n,l),t=n[l];try{n[l]=void 0;var r=!0}catch(n){}var a=o.call(n);return r&&(e?n[l]=t:delete n[l]),a}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(294),a=t(350),i=t(141),o=t(32),l=t(361);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?o(n)?a(n[0],n[1]):r(n):l(n)}},function(n,e,t){var r=t(295),a=t(349),i=t(214);n.exports=function(n){var e=a(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(199),a=t(203);n.exports=function(n,e,t,i){var o=t.length,l=o,s=!i;if(null==n)return!l;for(n=Object(n);o--;){var c=t[o];if(s&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<l;){var d=(c=t[o])[0],u=n[d],p=c[1];if(s&&c[2]){if(void 0===u&&!(d in n))return!1}else{var h=new r;if(i)var f=i(u,p,d,n,e,h);if(!(void 0===f?a(p,u,3,i,h):f))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(100),a=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():a.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(100);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(100);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(100);n.exports=function(n,e){var t=this.__data__,a=r(t,n);return a<0?(++this.size,t.push([n,e])):t[a][1]=e,this}},function(n,e,t){var r=t(99);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(99),a=t(134),i=t(136);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!a||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(201),a=t(307),i=t(135),o=t(202),l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||a(n))&&(r(n)?p:l).test(o(n))}},function(n,e,t){var r,a=t(308),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var r=t(34)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(311),a=t(99),i=t(134);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(n,e,t){var r=t(312),a=t(313),i=t(314),o=t(315),l=t(316);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e,t){var r=t(101);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(101),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return a.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(101),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:a.call(e,n)}},function(n,e,t){var r=t(101);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(102);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(102);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(102);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(102);n.exports=function(n,e){var t=r(this,n),a=t.size;return t.set(n,e),this.size+=t.size==a?0:1,this}},function(n,e,t){var r=t(199),a=t(204),i=t(326),o=t(329),l=t(345),s=t(32),c=t(208),d=t(210),u="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,h,f,m){var g=s(n),v=s(e),b=g?"[object Array]":l(n),y=v?"[object Array]":l(e),E=(b="[object Arguments]"==b?u:b)==u,x=(y="[object Arguments]"==y?u:y)==u,k=b==y;if(k&&c(n)){if(!c(e))return!1;g=!0,E=!1}if(k&&!E)return m||(m=new r),g||d(n)?a(n,e,t,h,f,m):i(n,e,b,t,h,f,m);if(!(1&t)){var w=E&&p.call(n,"__wrapped__"),T=x&&p.call(e,"__wrapped__");if(w||T){var A=w?n.value():n,S=T?e.value():e;return m||(m=new r),f(A,S,t,h,m)}}return!!k&&(m||(m=new r),o(n,e,t,h,f,m))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(78),a=t(327),i=t(200),o=t(204),l=t(328),s=t(137),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,u,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!u(new a(n),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var h=l;case"[object Set]":var f=1&r;if(h||(h=s),n.size!=e.size&&!f)return!1;var m=p.get(n);if(m)return m==e;r|=2,p.set(n,e);var g=o(h(n),h(e),r,c,u,p);return p.delete(n),g;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var r=t(34).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(330),a=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,o,l){var s=1&t,c=r(n),d=c.length;if(d!=r(e).length&&!s)return!1;for(var u=d;u--;){var p=c[u];if(!(s?p in e:a.call(e,p)))return!1}var h=l.get(n),f=l.get(e);if(h&&f)return h==e&&f==n;var m=!0;l.set(n,e),l.set(e,n);for(var g=s;++u<d;){var v=n[p=c[u]],b=e[p];if(i)var y=s?i(b,v,p,e,n,l):i(v,b,p,n,e,l);if(!(void 0===y?v===b||o(v,b,t,i,l):y)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var E=n.constructor,x=e.constructor;E==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof E&&E instanceof E&&"function"==typeof x&&x instanceof x||(m=!1)}return l.delete(n),l.delete(e),m}},function(n,e,t){var r=t(331),a=t(332),i=t(207);n.exports=function(n){return r(n,i,a)}},function(n,e,t){var r=t(197),a=t(32);n.exports=function(n,e,t){var i=e(n);return a(n)?i:r(i,t(n))}},function(n,e,t){var r=t(333),a=t(334),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(n){return null==n?[]:(n=Object(n),r(o(n),(function(e){return i.call(n,e)})))}:a;n.exports=l},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[a++]=o)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(336),a=t(133),i=t(32),o=t(208),l=t(209),s=t(210),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),d=!t&&a(n),u=!t&&!d&&o(n),p=!t&&!d&&!u&&s(n),h=t||d||u||p,f=h?r(n.length,String):[],m=f.length;for(var g in n)!e&&!c.call(n,g)||h&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||f.push(g);return f}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(64),a=t(138),i=t(49),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&a(n.length)&&!!o[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(198),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,o=i&&i.exports===a&&r.process,l=function(){try{var n=i&&i.require&&i.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=l}).call(this,t(155)(n))},function(n,e,t){var r=t(342),a=t(343),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return a(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(344)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(346),a=t(134),i=t(347),o=t(212),l=t(348),s=t(64),c=t(202),d=c(r),u=c(a),p=c(i),h=c(o),f=c(l),m=s;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||i&&"[object Promise]"!=m(i.resolve())||o&&"[object Set]"!=m(new o)||l&&"[object WeakMap]"!=m(new l))&&(m=function(n){var e=s(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case d:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return e}),n.exports=m},function(n,e,t){var r=t(41)(t(34),"DataView");n.exports=r},function(n,e,t){var r=t(41)(t(34),"Promise");n.exports=r},function(n,e,t){var r=t(41)(t(34),"WeakMap");n.exports=r},function(n,e,t){var r=t(213),a=t(207);n.exports=function(n){for(var e=a(n),t=e.length;t--;){var i=e[t],o=n[i];e[t]=[i,o,r(o)]}return e}},function(n,e,t){var r=t(203),a=t(351),i=t(358),o=t(139),l=t(213),s=t(214),c=t(103);n.exports=function(n,e){return o(n)&&l(e)?s(c(n),e):function(t){var o=a(t,n);return void 0===o&&o===e?i(t,n):r(e,o,3)}}},function(n,e,t){var r=t(215);n.exports=function(n,e,t){var a=null==n?void 0:r(n,e);return void 0===a?t:a}},function(n,e,t){var r=t(353),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(a,(function(n,t,r,a){e.push(r?a.replace(i,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var r=t(354);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(136);function a(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=t.cache;if(i.has(a))return i.get(a);var o=n.apply(this,r);return t.cache=i.set(a,o)||i,o};return t.cache=new(a.Cache||r),t}a.Cache=r,n.exports=a},function(n,e,t){var r=t(356);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(78),a=t(357),i=t(32),o=t(140),l=r?r.prototype:void 0,s=l?l.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return a(e,n)+"";if(o(e))return s?s.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=Array(r);++t<r;)a[t]=e(n[t],t,n);return a}},function(n,e,t){var r=t(359),a=t(360);n.exports=function(n,e){return null!=n&&a(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(216),a=t(133),i=t(32),o=t(209),l=t(138),s=t(103);n.exports=function(n,e,t){for(var c=-1,d=(e=r(e,n)).length,u=!1;++c<d;){var p=s(e[c]);if(!(u=null!=n&&t(n,p)))break;n=n[p]}return u||++c!=d?u:!!(d=null==n?0:n.length)&&l(d)&&o(p,d)&&(i(n)||a(n))}},function(n,e,t){var r=t(362),a=t(363),i=t(139),o=t(103);n.exports=function(n){return i(n)?r(o(n)):a(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(215);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(141),a=t(365),i=t(367);n.exports=function(n,e){return i(a(n,e,r),n+"")}},function(n,e,t){var r=t(366),a=Math.max;n.exports=function(n,e,t){return e=a(void 0===e?n.length-1:e,0),function(){for(var i=arguments,o=-1,l=a(i.length-e,0),s=Array(l);++o<l;)s[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=t(s),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(368),a=t(371)(r);n.exports=a},function(n,e,t){var r=t(369),a=t(370),i=t(141),o=a?function(n,e){return a(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(41),a=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=a},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(205),a=t(373),i=t(378),o=t(206),l=t(379),s=t(137);n.exports=function(n,e,t){var c=-1,d=a,u=n.length,p=!0,h=[],f=h;if(t)p=!1,d=i;else if(u>=200){var m=e?null:l(n);if(m)return s(m);p=!1,d=o,f=new r}else f=e?[]:h;n:for(;++c<u;){var g=n[c],v=e?e(g):g;if(g=t||0!==g?g:0,p&&v==v){for(var b=f.length;b--;)if(f[b]===v)continue n;e&&f.push(v),h.push(g)}else d(f,v,t)||(f!==h&&f.push(v),h.push(g))}return h}},function(n,e,t){var r=t(374);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(375),a=t(376),i=t(377);n.exports=function(n,e,t){return e==e?i(n,e,t):r(n,a,t)}},function(n,e){n.exports=function(n,e,t,r){for(var a=n.length,i=t+(r?1:-1);r?i--:++i<a;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,a=n.length;++r<a;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,a=null==n?0:n.length;++r<a;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(212),a=t(380),i=t(137),o=r&&1/i(new r([,-0]))[1]==1/0?function(n){return new r(n)}:a;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(211),a=t(49);n.exports=function(n){return a(n)&&r(n)}},function(n,e,t){var r=t(1),a=t(0),i=t(217).setInterval;r({global:!0,bind:!0,forced:a.setInterval!==i},{setInterval:i})},function(n,e,t){var r=t(1),a=t(0),i=t(217).setTimeout;r({global:!0,bind:!0,forced:a.setTimeout!==i},{setTimeout:i})},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(71).PROPER,a=t(2),i=t(158);n.exports=function(n){return a((function(){return!!i[n]()||"âÂá "!=="âÂá "[n]()||r&&i[n].name!==n}))}},function(n,e,t){var r=t(1),a=t(218);r({target:"Function",proto:!0,forced:Function.bind!==a},{bind:a})},function(n,e,t){var r=t(3);n.exports=r(1..valueOf)},function(n,e,t){var r=t(3),a=t(54),i=t(12),o=t(390),l=t(19),s=r(o),c=r("".slice),d=Math.ceil,u=function(n){return function(e,t,r){var o,u,p=i(l(e)),h=a(t),f=p.length,m=void 0===r?" ":i(r);return h<=f||""==m?p:((u=s(m,d((o=h-f)/m.length))).length>o&&(u=c(u,0,o)),n?p+u:u+p)}};n.exports={start:u(!1),end:u(!0)}},function(n,e,t){"use strict";var r=t(0),a=t(58),i=t(12),o=t(19),l=r.RangeError;n.exports=function(n){var e=i(o(this)),t="",r=a(n);if(r<0||r==1/0)throw l("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(t+=e);return t}},function(n,e,t){var r=t(33);n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(n,e,t){"use strict";t(220)},function(n,e,t){"use strict";t(221)},function(n,e,t){"use strict";var r=t(1),a=t(3),i=t(23),o=t(17),l=t(24),s=t(12),c=t(2),d=t(243),u=t(46),p=t(395),h=t(396),f=t(53),m=t(397),g=[],v=a(g.sort),b=a(g.push),y=c((function(){g.sort(void 0)})),E=c((function(){g.sort(null)})),x=u("sort"),k=!c((function(){if(f)return f<70;if(!(p&&p>3)){if(h)return!0;if(m)return m<603;var n,e,t,r,a="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)g.push({k:e+r,v:t})}for(g.sort((function(n,e){return e.v-n.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}}));r({target:"Array",proto:!0,forced:y||!E||!x||!k},{sort:function(n){void 0!==n&&i(n);var e=o(this);if(k)return void 0===n?v(e):v(e,n);var t,r,a=[],c=l(e);for(r=0;r<c;r++)r in e&&b(a,e[r]);for(d(a,function(n){return function(e,t){return void 0===t?-1:void 0===e?1:void 0!==n?+n(e,t)||0:s(e)>s(t)?1:-1}}(n)),t=a.length,r=0;r<t;)e[r]=a[r++];for(;r<c;)delete e[r++];return e}})},function(n,e,t){var r=t(33).match(/firefox\/(\d+)/i);n.exports=!!r&&+r[1]},function(n,e,t){var r=t(33);n.exports=/MSIE|Trident/.test(r)},function(n,e,t){var r=t(33).match(/AppleWebKit\/(\d+)\./);n.exports=!!r&&+r[1]},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(1),a=t(2),i=t(20),o=t(37).f,l=t(7),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:!l||s,sham:!l},{getOwnPropertyDescriptor:function(n,e){return o(i(n),e)}})},function(n,e,t){var r=t(1),a=t(7),i=t(118).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!a},{defineProperties:i})},function(n,e,t){t(1)({target:"Reflect",stat:!0},{ownKeys:t(124)})},function(n,e){},function(n,e){function t(n,e){for(var t=0,r=n.length-1;r>=0;r--){var a=n[r];"."===a?n.splice(r,1):".."===a?(n.splice(r,1),t++):t&&(n.splice(r,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function r(n,e){if(n.filter)return n.filter(e);for(var t=[],r=0;r<n.length;r++)e(n[r],r,n)&&t.push(n[r]);return t}e.resolve=function(){for(var n="",e=!1,a=arguments.length-1;a>=-1&&!e;a--){var i=a>=0?arguments[a]:process.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(n=i+"/"+n,e="/"===i.charAt(0))}return(e?"/":"")+(n=t(r(n.split("/"),(function(n){return!!n})),!e).join("/"))||"."},e.normalize=function(n){var i=e.isAbsolute(n),o="/"===a(n,-1);return(n=t(r(n.split("/"),(function(n){return!!n})),!i).join("/"))||i||(n="."),n&&o&&(n+="/"),(i?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,(function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n})).join("/"))},e.relative=function(n,t){function r(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var a=r(n.split("/")),i=r(t.split("/")),o=Math.min(a.length,i.length),l=o,s=0;s<o;s++)if(a[s]!==i[s]){l=s;break}var c=[];for(s=l;s<a.length;s++)c.push("..");return(c=c.concat(i.slice(l))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,r=-1,a=!0,i=n.length-1;i>=1;--i)if(47===(e=n.charCodeAt(i))){if(!a){r=i;break}}else a=!1;return-1===r?t?"/":".":t&&1===r?"/":n.slice(0,r)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,r=-1,a=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!a){t=e+1;break}}else-1===r&&(a=!1,r=e+1);return-1===r?"":n.slice(t,r)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,r=-1,a=!0,i=0,o=n.length-1;o>=0;--o){var l=n.charCodeAt(o);if(47!==l)-1===r&&(a=!1,r=o+1),46===l?-1===e?e=o:1!==i&&(i=1):-1!==e&&(i=-1);else if(!a){t=o+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===t+1?"":n.slice(e,r)};var a="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}},function(n,e,t){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(n){return n?String(n).replace(r,"\\$&"):""};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function o(n){return a[n]||n}e.escapeXML=function(n){return null==n?"":String(n).replace(i,o)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(n,e){for(var t in e=e||{})n[t]=e[t];return n},e.shallowCopyFromList=function(n,e,t){for(var r=0;r<t.length;r++){var a=t[r];void 0!==e[a]&&(n[a]=e[a])}return n},e.cache={_data:{},set:function(n,e){this._data[n]=e},get:function(n){return this._data[n]},remove:function(n){delete this._data[n]},reset:function(){this._data={}}}},function(n){n.exports=JSON.parse('{"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"2.7.4","author":"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)","license":"Apache-2.0","main":"./lib/ejs.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":"https://github.com/mde/ejs/issues","homepage":"https://github.com/mde/ejs","dependencies":{},"devDependencies":{"browserify":"^13.1.1","eslint":"^4.14.0","git-directory-deploy":"^1.5.1","jake":"^10.3.1","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^5.0.5","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","postinstall":"node ./postinstall.js"}}')},function(n,e,t){"use strict";t(224)},function(n,e,t){"use strict";t(225)},function(n,e,t){"use strict";t.r(e);t(149),t(250),t(263),t(265);var r=t(95),a=(t(147),t(42),t(5),t(22),t(26),t(44),t(25),Object.freeze({}));function i(n){return null==n}function o(n){return null!=n}function l(n){return!0===n}function s(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function u(n){return"[object Object]"===d.call(n)}function p(n){return"[object RegExp]"===d.call(n)}function h(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function f(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function m(n){return null==n?"":Array.isArray(n)||u(n)&&n.toString===d?JSON.stringify(n,null,2):String(n)}function g(n){var e=parseFloat(n);return isNaN(e)?n:e}function v(n,e){for(var t=Object.create(null),r=n.split(","),a=0;a<r.length;a++)t[r[a]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}v("slot,component",!0);var b=v("key,ref,slot,slot-scope,is");function y(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var E=Object.prototype.hasOwnProperty;function x(n,e){return E.call(n,e)}function k(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var w=/-(\w)/g,T=k((function(n){return n.replace(w,(function(n,e){return e?e.toUpperCase():""}))})),A=k((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),S=/\B([A-Z])/g,B=k((function(n){return n.replace(S,"-$1").toLowerCase()}));var I=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function C(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function _(n,e){for(var t in e)n[t]=e[t];return n}function P(n){for(var e={},t=0;t<n.length;t++)n[t]&&_(e,n[t]);return e}function z(n,e,t){}var j=function(n,e,t){return!1},L=function(n){return n};function O(n,e){if(n===e)return!0;var t=c(n),r=c(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var a=Array.isArray(n),i=Array.isArray(e);if(a&&i)return n.length===e.length&&n.every((function(n,t){return O(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(a||i)return!1;var o=Object.keys(n),l=Object.keys(e);return o.length===l.length&&o.every((function(t){return O(n[t],e[t])}))}catch(n){return!1}}function D(n,e){for(var t=0;t<n.length;t++)if(O(n[t],e))return t;return-1}function M(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}var R=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:z,parsePlatformTagName:L,mustUseProp:j,async:!0,_lifecycleHooks:F},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var J=new RegExp("[^"+q.source+".$_\\d]");var H,K="__proto__"in{},V="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,$=G&&WXEnvironment.platform.toLowerCase(),W=V&&window.navigator.userAgent.toLowerCase(),Q=W&&/msie|trident/.test(W),Y=W&&W.indexOf("msie 9.0")>0,Z=W&&W.indexOf("edge/")>0,X=(W&&W.indexOf("android"),W&&/iphone|ipad|ipod|ios/.test(W)||"ios"===$),nn=(W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W),W&&W.match(/firefox\/(\d+)/)),en={}.watch,tn=!1;if(V)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){tn=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var an=function(){return void 0===H&&(H=!V&&!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),H},on=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var sn,cn="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);sn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var dn=z,un=0,pn=function(){this.id=un++,this.subs=[]};pn.prototype.addSub=function(n){this.subs.push(n)},pn.prototype.removeSub=function(n){y(this.subs,n)},pn.prototype.depend=function(){pn.target&&pn.target.addDep(this)},pn.prototype.notify=function(){var n=this.subs.slice();for(var e=0,t=n.length;e<t;e++)n[e].update()},pn.target=null;var hn=[];function fn(n){hn.push(n),pn.target=n}function mn(){hn.pop(),pn.target=hn[hn.length-1]}var gn=function(n,e,t,r,a,i,o,l){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=a,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vn={child:{configurable:!0}};vn.child.get=function(){return this.componentInstance},Object.defineProperties(gn.prototype,vn);var bn=function(n){void 0===n&&(n="");var e=new gn;return e.text=n,e.isComment=!0,e};function yn(n){return new gn(void 0,void 0,void 0,String(n))}function En(n){var e=new gn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var xn=Array.prototype,kn=Object.create(xn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=xn[n];U(kn,n,(function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var a,i=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":a=t;break;case"splice":a=t.slice(2)}return a&&o.observeArray(a),o.dep.notify(),i}))}));var wn=Object.getOwnPropertyNames(kn),Tn=!0;function An(n){Tn=n}var Sn=function(n){this.value=n,this.dep=new pn,this.vmCount=0,U(n,"__ob__",this),Array.isArray(n)?(K?function(n,e){n.__proto__=e}(n,kn):function(n,e,t){for(var r=0,a=t.length;r<a;r++){var i=t[r];U(n,i,e[i])}}(n,kn,wn),this.observeArray(n)):this.walk(n)};function Bn(n,e){var t;if(c(n)&&!(n instanceof gn))return x(n,"__ob__")&&n.__ob__ instanceof Sn?t=n.__ob__:Tn&&!an()&&(Array.isArray(n)||u(n))&&Object.isExtensible(n)&&!n._isVue&&(t=new Sn(n)),e&&t&&t.vmCount++,t}function In(n,e,t,r,a){var i=new pn,o=Object.getOwnPropertyDescriptor(n,e);if(!o||!1!==o.configurable){var l=o&&o.get,s=o&&o.set;l&&!s||2!==arguments.length||(t=n[e]);var c=!a&&Bn(t);Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=l?l.call(n):t;return pn.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Pn(e))),e},set:function(e){var r=l?l.call(n):t;e===r||e!=e&&r!=r||l&&!s||(s?s.call(n,e):t=e,c=!a&&Bn(e),i.notify())}})}}function Cn(n,e,t){if(Array.isArray(n)&&h(e))return n.length=Math.max(n.length,e),n.splice(e,1,t),t;if(e in n&&!(e in Object.prototype))return n[e]=t,t;var r=n.__ob__;return n._isVue||r&&r.vmCount?t:r?(In(r.value,e,t),r.dep.notify(),t):(n[e]=t,t)}function _n(n,e){if(Array.isArray(n)&&h(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||x(n,e)&&(delete n[e],t&&t.dep.notify())}}function Pn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Pn(e)}Sn.prototype.walk=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)In(n,e[t])},Sn.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Bn(n[e])};var zn=N.optionMergeStrategies;function jn(n,e){if(!e)return n;for(var t,r,a,i=cn?Reflect.ownKeys(e):Object.keys(e),o=0;o<i.length;o++)"__ob__"!==(t=i[o])&&(r=n[t],a=e[t],x(n,t)?r!==a&&u(r)&&u(a)&&jn(r,a):Cn(n,t,a));return n}function Ln(n,e,t){return t?function(){var r="function"==typeof e?e.call(t,t):e,a="function"==typeof n?n.call(t,t):n;return r?jn(r,a):a}:e?n?function(){return jn("function"==typeof e?e.call(this,this):e,"function"==typeof n?n.call(this,this):n)}:e:n}function On(n,e){var t=e?n?n.concat(e):Array.isArray(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Dn(n,e,t,r){var a=Object.create(n||null);return e?_(a,e):a}zn.data=function(n,e,t){return t?Ln(n,e,t):e&&"function"!=typeof e?n:Ln(n,e)},F.forEach((function(n){zn[n]=On})),R.forEach((function(n){zn[n+"s"]=Dn})),zn.watch=function(n,e,t,r){if(n===en&&(n=void 0),e===en&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var a={};for(var i in _(a,n),e){var o=a[i],l=e[i];o&&!Array.isArray(o)&&(o=[o]),a[i]=o?o.concat(l):Array.isArray(l)?l:[l]}return a},zn.props=zn.methods=zn.inject=zn.computed=function(n,e,t,r){if(!n)return e;var a=Object.create(null);return _(a,n),e&&_(a,e),a},zn.provide=Ln;var Mn=function(n,e){return void 0===e?n:e};function Rn(n,e,t){if("function"==typeof e&&(e=e.options),function(n,e){var t=n.props;if(t){var r,a,i={};if(Array.isArray(t))for(r=t.length;r--;)"string"==typeof(a=t[r])&&(i[T(a)]={type:null});else if(u(t))for(var o in t)a=t[o],i[T(o)]=u(a)?a:{type:a};else 0;n.props=i}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(Array.isArray(t))for(var a=0;a<t.length;a++)r[t[a]]={from:t[a]};else if(u(t))for(var i in t){var o=t[i];r[i]=u(o)?_({from:i},o):{from:o}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];"function"==typeof r&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Rn(n,e.extends,t)),e.mixins))for(var r=0,a=e.mixins.length;r<a;r++)n=Rn(n,e.mixins[r],t);var i,o={};for(i in n)l(i);for(i in e)x(n,i)||l(i);function l(r){var a=zn[r]||Mn;o[r]=a(n[r],e[r],t,r)}return o}function Fn(n,e,t,r){if("string"==typeof t){var a=n[e];if(x(a,t))return a[t];var i=T(t);if(x(a,i))return a[i];var o=A(i);return x(a,o)?a[o]:a[t]||a[i]||a[o]}}function Nn(n,e,t,r){var a=e[n],i=!x(t,n),o=t[n],l=Hn(Boolean,a.type);if(l>-1)if(i&&!x(a,"default"))o=!1;else if(""===o||o===B(n)){var s=Hn(String,a.type);(s<0||l<s)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!x(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return"function"==typeof r&&"Function"!==Un(e.type)?r.call(n):r}(r,a,n);var c=Tn;An(!0),Bn(o),An(c)}return o}var qn=/^\s*function (\w+)/;function Un(n){var e=n&&n.toString().match(qn);return e?e[1]:""}function Jn(n,e){return Un(n)===Un(e)}function Hn(n,e){if(!Array.isArray(e))return Jn(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Jn(e[t],n))return t;return-1}function Kn(n,e,t){fn();try{if(e)for(var r=e;r=r.$parent;){var a=r.$options.errorCaptured;if(a)for(var i=0;i<a.length;i++)try{if(!1===a[i].call(r,n,e,t))return}catch(n){Gn(n,r,"errorCaptured hook")}}Gn(n,e,t)}finally{mn()}}function Vn(n,e,t,r,a){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&f(i)&&!i._handled&&(i.catch((function(n){return Kn(n,r,a+" (Promise/async)")})),i._handled=!0)}catch(n){Kn(n,r,a)}return i}function Gn(n,e,t){if(N.errorHandler)try{return N.errorHandler.call(null,n,e,t)}catch(e){e!==n&&$n(e,null,"config.errorHandler")}$n(n,e,t)}function $n(n,e,t){if(!V&&!G||"undefined"==typeof console)throw n;console.error(n)}var Wn,Qn=!1,Yn=[],Zn=!1;function Xn(){Zn=!1;var n=Yn.slice(0);Yn.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&ln(Promise)){var ne=Promise.resolve();Wn=function(){ne.then(Xn),X&&setTimeout(z)},Qn=!0}else if(Q||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Wn="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(Xn)}:function(){setTimeout(Xn,0)};else{var ee=1,te=new MutationObserver(Xn),re=document.createTextNode(String(ee));te.observe(re,{characterData:!0}),Wn=function(){ee=(ee+1)%2,re.data=String(ee)},Qn=!0}function ae(n,e){var t;if(Yn.push((function(){if(n)try{n.call(e)}catch(n){Kn(n,e,"nextTick")}else t&&t(e)})),Zn||(Zn=!0,Wn()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}var ie=new sn;function oe(n){!function n(e,t){var r,a,i=Array.isArray(e);if(!i&&!c(e)||Object.isFrozen(e)||e instanceof gn)return;if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(r=e.length;r--;)n(e[r],t);else for(a=Object.keys(e),r=a.length;r--;)n(e[a[r]],t)}(n,ie),ie.clear()}var le=k((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function se(n,e){function t(){var n=arguments,r=t.fns;if(!Array.isArray(r))return Vn(r,null,arguments,e,"v-on handler");for(var a=r.slice(),i=0;i<a.length;i++)Vn(a[i],null,n,e,"v-on handler")}return t.fns=n,t}function ce(n,e,t,r,a,o){var s,c,d,u;for(s in n)c=n[s],d=e[s],u=le(s),i(c)||(i(d)?(i(c.fns)&&(c=n[s]=se(c,o)),l(u.once)&&(c=n[s]=a(u.name,c,u.capture)),t(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,n[s]=d));for(s in e)i(n[s])&&r((u=le(s)).name,e[s],u.capture)}function de(n,e,t){var r;n instanceof gn&&(n=n.data.hook||(n.data.hook={}));var a=n[e];function s(){t.apply(this,arguments),y(r.fns,s)}i(a)?r=se([s]):o(a.fns)&&l(a.merged)?(r=a).fns.push(s):r=se([a,s]),r.merged=!0,n[e]=r}function ue(n,e,t,r,a){if(o(e)){if(x(e,t))return n[t]=e[t],a||delete e[t],!0;if(x(e,r))return n[t]=e[r],a||delete e[r],!0}return!1}function pe(n){return s(n)?[yn(n)]:Array.isArray(n)?function n(e,t){var r,a,c,d,u=[];for(r=0;r<e.length;r++)i(a=e[r])||"boolean"==typeof a||(c=u.length-1,d=u[c],Array.isArray(a)?a.length>0&&(he((a=n(a,(t||"")+"_"+r))[0])&&he(d)&&(u[c]=yn(d.text+a[0].text),a.shift()),u.push.apply(u,a)):s(a)?he(d)?u[c]=yn(d.text+a):""!==a&&u.push(yn(a)):he(a)&&he(d)?u[c]=yn(d.text+a.text):(l(e._isVList)&&o(a.tag)&&i(a.key)&&o(t)&&(a.key="__vlist"+t+"_"+r+"__"),u.push(a)));return u}(n):void 0}function he(n){return o(n)&&o(n.text)&&!1===n.isComment}function fe(n,e){if(n){for(var t=Object.create(null),r=cn?Reflect.ownKeys(n):Object.keys(n),a=0;a<r.length;a++){var i=r[a];if("__ob__"!==i){for(var o=n[i].from,l=e;l;){if(l._provided&&x(l._provided,o)){t[i]=l._provided[o];break}l=l.$parent}if(!l)if("default"in n[i]){var s=n[i].default;t[i]="function"==typeof s?s.call(e):s}else 0}}return t}}function me(n,e){if(!n||!n.length)return{};for(var t={},r=0,a=n.length;r<a;r++){var i=n[r],o=i.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,i.context!==e&&i.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(i);else{var l=o.slot,s=t[l]||(t[l]=[]);"template"===i.tag?s.push.apply(s,i.children||[]):s.push(i)}}for(var c in t)t[c].every(ge)&&delete t[c];return t}function ge(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ve(n){return n.isComment&&n.asyncFactory}function be(n,e,t){var r,i=Object.keys(e).length>0,o=n?!!n.$stable:!i,l=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(o&&t&&t!==a&&l===t.$key&&!i&&!t.$hasNormal)return t;for(var s in r={},n)n[s]&&"$"!==s[0]&&(r[s]=ye(e,s,n[s]))}else r={};for(var c in e)c in r||(r[c]=Ee(e,c));return n&&Object.isExtensible(n)&&(n._normalized=r),U(r,"$stable",o),U(r,"$key",l),U(r,"$hasNormal",i),r}function ye(n,e,t){var r=function(){var n=arguments.length?t.apply(null,arguments):t({}),e=(n=n&&"object"==typeof n&&!Array.isArray(n)?[n]:pe(n))&&n[0];return n&&(!e||1===n.length&&e.isComment&&!ve(e))?void 0:n};return t.proxy&&Object.defineProperty(n,e,{get:r,enumerable:!0,configurable:!0}),r}function Ee(n,e){return function(){return n[e]}}function xe(n,e){var t,r,a,i,l;if(Array.isArray(n)||"string"==typeof n)for(t=new Array(n.length),r=0,a=n.length;r<a;r++)t[r]=e(n[r],r);else if("number"==typeof n)for(t=new Array(n),r=0;r<n;r++)t[r]=e(r+1,r);else if(c(n))if(cn&&n[Symbol.iterator]){t=[];for(var s=n[Symbol.iterator](),d=s.next();!d.done;)t.push(e(d.value,t.length)),d=s.next()}else for(i=Object.keys(n),t=new Array(i.length),r=0,a=i.length;r<a;r++)l=i[r],t[r]=e(n[l],l,r);return o(t)||(t=[]),t._isVList=!0,t}function ke(n,e,t,r){var a,i=this.$scopedSlots[n];i?(t=t||{},r&&(t=_(_({},r),t)),a=i(t)||("function"==typeof e?e():e)):a=this.$slots[n]||("function"==typeof e?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},a):a}function we(n){return Fn(this.$options,"filters",n)||L}function Te(n,e){return Array.isArray(n)?-1===n.indexOf(e):n!==e}function Ae(n,e,t,r,a){var i=N.keyCodes[e]||t;return a&&r&&!N.keyCodes[e]?Te(a,r):i?Te(i,n):r?B(r)!==e:void 0===n}function Se(n,e,t,r,a){if(t)if(c(t)){var i;Array.isArray(t)&&(t=P(t));var o=function(o){if("class"===o||"style"===o||b(o))i=n;else{var l=n.attrs&&n.attrs.type;i=r||N.mustUseProp(e,l,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var s=T(o),c=B(o);s in i||c in i||(i[o]=t[o],a&&((n.on||(n.on={}))["update:"+o]=function(n){t[o]=n}))};for(var l in t)o(l)}else;return n}function Be(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||Ce(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,null,this),"__static__"+n,!1),r}function Ie(n,e,t){return Ce(n,"__once__"+e+(t?"_"+t:""),!0),n}function Ce(n,e,t){if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&_e(n[r],e+"_"+r,t);else _e(n,e,t)}function _e(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function Pe(n,e){if(e)if(u(e)){var t=n.on=n.on?_({},n.on):{};for(var r in e){var a=t[r],i=e[r];t[r]=a?[].concat(a,i):i}}else;return n}function ze(n,e,t,r){e=e||{$stable:!t};for(var a=0;a<n.length;a++){var i=n[a];Array.isArray(i)?ze(i,e,t):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function je(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function Le(n,e){return"string"==typeof n?e+n:n}function Oe(n){n._o=Ie,n._n=g,n._s=m,n._l=xe,n._t=ke,n._q=O,n._i=D,n._m=Be,n._f=we,n._k=Ae,n._b=Se,n._v=yn,n._e=bn,n._u=ze,n._g=Pe,n._d=je,n._p=Le}function De(n,e,t,r,i){var o,s=this,c=i.options;x(r,"_uid")?(o=Object.create(r))._original=r:(o=r,r=r._original);var d=l(c._compiled),u=!d;this.data=n,this.props=e,this.children=t,this.parent=r,this.listeners=n.on||a,this.injections=fe(c.inject,r),this.slots=function(){return s.$slots||be(n.scopedSlots,s.$slots=me(t,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(n.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=be(n.scopedSlots,this.$slots)),c._scopeId?this._c=function(n,e,t,a){var i=Je(o,n,e,t,a,u);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=r),i}:this._c=function(n,e,t,r){return Je(o,n,e,t,r,u)}}function Me(n,e,t,r,a){var i=En(n);return i.fnContext=t,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function Re(n,e){for(var t in e)n[T(t)]=e[t]}Oe(De.prototype);var Fe={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;Fe.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;o(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ze)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,r,i){0;var o=r.data.scopedSlots,l=n.$scopedSlots,s=!!(o&&!o.$stable||l!==a&&!l.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(i||n.$options._renderChildren||s);n.$options._parentVnode=r,n.$vnode=r,n._vnode&&(n._vnode.parent=r);if(n.$options._renderChildren=i,n.$attrs=r.data.attrs||a,n.$listeners=t||a,e&&n.$options.props){An(!1);for(var d=n._props,u=n.$options._propKeys||[],p=0;p<u.length;p++){var h=u[p],f=n.$options.props;d[h]=Nn(h,f,e,n)}An(!0),n.$options.propsData=e}t=t||a;var m=n.$options._parentListeners;n.$options._parentListeners=t,Ye(n,t,m),c&&(n.$slots=me(i,r.context),n.$forceUpdate());0}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,tt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,at.push(e)):et(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(t&&(e._directInactive=!0,nt(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);tt(e,"deactivated")}}(e,!0):e.$destroy())}},Ne=Object.keys(Fe);function qe(n,e,t,r,s){if(!i(n)){var d=t.$options._base;if(c(n)&&(n=d.extend(n)),"function"==typeof n){var u;if(i(n.cid)&&void 0===(n=function(n,e){if(l(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=Ke;t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t);if(l(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var r=n.owners=[t],a=!0,s=null,d=null;t.$on("hook:destroyed",(function(){return y(r,t)}));var u=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==s&&(clearTimeout(s),s=null),null!==d&&(clearTimeout(d),d=null))},p=M((function(t){n.resolved=Ve(t,e),a?r.length=0:u(!0)})),h=M((function(e){o(n.errorComp)&&(n.error=!0,u(!0))})),m=n(p,h);return c(m)&&(f(m)?i(n.resolved)&&m.then(p,h):f(m.component)&&(m.component.then(p,h),o(m.error)&&(n.errorComp=Ve(m.error,e)),o(m.loading)&&(n.loadingComp=Ve(m.loading,e),0===m.delay?n.loading=!0:s=setTimeout((function(){s=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,u(!1))}),m.delay||200)),o(m.timeout)&&(d=setTimeout((function(){d=null,i(n.resolved)&&h(null)}),m.timeout)))),a=!1,n.loading?n.loadingComp:n.resolved}}(u=n,d)))return function(n,e,t,r,a){var i=bn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:r,tag:a},i}(u,e,t,r,s);e=e||{},Tt(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var a=e.on||(e.on={}),i=a[r],l=e.model.callback;o(i)?(Array.isArray(i)?-1===i.indexOf(l):i!==l)&&(a[r]=[l].concat(i)):a[r]=l}(n.options,e);var p=function(n,e,t){var r=e.options.props;if(!i(r)){var a={},l=n.attrs,s=n.props;if(o(l)||o(s))for(var c in r){var d=B(c);ue(a,s,c,d,!0)||ue(a,l,c,d,!1)}return a}}(e,n);if(l(n.options.functional))return function(n,e,t,r,i){var l=n.options,s={},c=l.props;if(o(c))for(var d in c)s[d]=Nn(d,c,e||a);else o(t.attrs)&&Re(s,t.attrs),o(t.props)&&Re(s,t.props);var u=new De(t,s,i,r,n),p=l.render.call(null,u._c,u);if(p instanceof gn)return Me(p,t,u.parent,l,u);if(Array.isArray(p)){for(var h=pe(p)||[],f=new Array(h.length),m=0;m<h.length;m++)f[m]=Me(h[m],t,u.parent,l,u);return f}}(n,p,e,t,r);var h=e.on;if(e.on=e.nativeOn,l(n.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<Ne.length;t++){var r=Ne[t],a=e[r],i=Fe[r];a===i||a&&a._merged||(e[r]=a?Ue(i,a):i)}}(e);var g=n.options.name||s;return new gn("vue-component-"+n.cid+(g?"-"+g:""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:p,listeners:h,tag:s,children:r},u)}}}function Ue(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}function Je(n,e,t,r,a,d){return(Array.isArray(t)||s(t))&&(a=r,r=t,t=void 0),l(d)&&(a=2),function(n,e,t,r,a){if(o(t)&&o(t.__ob__))return bn();o(t)&&o(t.is)&&(e=t.is);if(!e)return bn();0;Array.isArray(r)&&"function"==typeof r[0]&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===a?r=pe(r):1===a&&(r=function(n){for(var e=0;e<n.length;e++)if(Array.isArray(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var s,d;if("string"==typeof e){var u;d=n.$vnode&&n.$vnode.ns||N.getTagNamespace(e),s=N.isReservedTag(e)?new gn(N.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!o(u=Fn(n.$options,"components",e))?new gn(e,t,r,void 0,void 0,n):qe(u,t,n,r,e)}else s=qe(e,t,n,r);return Array.isArray(s)?s:o(s)?(o(d)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(o(e.children))for(var a=0,s=e.children.length;a<s;a++){var c=e.children[a];o(c.tag)&&(i(c.ns)||l(r)&&"svg"!==c.tag)&&n(c,t,r)}}(s,d),o(t)&&function(n){c(n.style)&&oe(n.style);c(n.class)&&oe(n.class)}(t),s):bn()}(n,e,t,r,a)}var He,Ke=null;function Ve(n,e){return(n.__esModule||cn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),c(n)?e.extend(n):n}function Ge(n){if(Array.isArray(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||ve(t)))return t}}function $e(n,e){He.$on(n,e)}function We(n,e){He.$off(n,e)}function Qe(n,e){var t=He;return function r(){var a=e.apply(null,arguments);null!==a&&t.$off(n,r)}}function Ye(n,e,t){He=n,ce(e,t||{},$e,We,Qe,n),He=void 0}var Ze=null;function Xe(n){var e=Ze;return Ze=n,function(){Ze=e}}function nt(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function et(n,e){if(e){if(n._directInactive=!1,nt(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)et(n.$children[t]);tt(n,"activated")}}function tt(n,e){fn();var t=n.$options[e],r=e+" hook";if(t)for(var a=0,i=t.length;a<i;a++)Vn(t[a],n,null,n,r);n._hasHookEvent&&n.$emit("hook:"+e),mn()}var rt=[],at=[],it={},ot=!1,lt=!1,st=0;var ct=0,dt=Date.now;if(V&&!Q){var ut=window.performance;ut&&"function"==typeof ut.now&&dt()>document.createEvent("Event").timeStamp&&(dt=function(){return ut.now()})}function pt(){var n,e;for(ct=dt(),lt=!0,rt.sort((function(n,e){return n.id-e.id})),st=0;st<rt.length;st++)(n=rt[st]).before&&n.before(),e=n.id,it[e]=null,n.run();var t=at.slice(),r=rt.slice();st=rt.length=at.length=0,it={},ot=lt=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,et(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r._watcher===t&&r._isMounted&&!r._isDestroyed&&tt(r,"updated")}}(r),on&&N.devtools&&on.emit("flush")}var ht=0,ft=function(n,e,t,r,a){this.vm=n,a&&(n._watcher=this),n._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++ht,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new sn,this.newDepIds=new sn,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(n){if(!J.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=z)),this.value=this.lazy?void 0:this.get()};ft.prototype.get=function(){var n;fn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Kn(n,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&oe(n),mn(),this.cleanupDeps()}return n},ft.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},ft.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},ft.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(n){var e=n.id;if(null==it[e]){if(it[e]=!0,lt){for(var t=rt.length-1;t>st&&rt[t].id>n.id;)t--;rt.splice(t+1,0,n)}else rt.push(n);ot||(ot=!0,ae(pt))}}(this)},ft.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||c(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'+this.expression+'"';Vn(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},ft.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ft.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},ft.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1}};var mt={enumerable:!0,configurable:!0,get:z,set:z};function gt(n,e,t){mt.get=function(){return this[e][t]},mt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,mt)}function vt(n){n._watchers=[];var e=n.$options;e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props={},a=n.$options._propKeys=[];n.$parent&&An(!1);var i=function(i){a.push(i);var o=Nn(i,e,t,n);In(r,i,o),i in n||gt(n,"_props",i)};for(var o in e)i(o);An(!0)}(n,e.props),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?z:I(e[t],n)}(n,e.methods),e.data?function(n){var e=n.$options.data;u(e=n._data="function"==typeof e?function(n,e){fn();try{return n.call(e,e)}catch(n){return Kn(n,e,"data()"),{}}finally{mn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,a=(n.$options.methods,t.length);for(;a--;){var i=t[a];0,r&&x(r,i)||(o=void 0,36!==(o=(i+"").charCodeAt(0))&&95!==o&&gt(n,"_data",i))}var o;Bn(e,!0)}(n):Bn(n._data={},!0),e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=an();for(var a in e){var i=e[a],o="function"==typeof i?i:i.get;0,r||(t[a]=new ft(n,o||z,z,bt)),a in n||yt(n,a,i)}}(n,e.computed),e.watch&&e.watch!==en&&function(n,e){for(var t in e){var r=e[t];if(Array.isArray(r))for(var a=0;a<r.length;a++)kt(n,t,r[a]);else kt(n,t,r)}}(n,e.watch)}var bt={lazy:!0};function yt(n,e,t){var r=!an();"function"==typeof t?(mt.get=r?Et(e):xt(t),mt.set=z):(mt.get=t.get?r&&!1!==t.cache?Et(e):xt(t.get):z,mt.set=t.set||z),Object.defineProperty(n,e,mt)}function Et(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),pn.target&&e.depend(),e.value}}function xt(n){return function(){return n.call(this,this)}}function kt(n,e,t,r){return u(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var wt=0;function Tt(n){var e=n.options;if(n.super){var t=Tt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var a in t)t[a]!==r[a]&&(e||(e={}),e[a]=t[a]);return e}(n);r&&_(n.extendOptions,r),(e=n.options=Rn(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function At(n){this._init(n)}function St(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,a=n._Ctor||(n._Ctor={});if(a[r])return a[r];var i=n.name||t.options.name;var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=Rn(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)gt(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)yt(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,R.forEach((function(n){o[n]=t[n]})),i&&(o.options.components[i]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=_({},o.options),a[r]=o,o}}function Bt(n){return n&&(n.Ctor.options.name||n.tag)}function It(n,e){return Array.isArray(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!p(n)&&n.test(e)}function Ct(n,e){var t=n.cache,r=n.keys,a=n._vnode;for(var i in t){var o=t[i];if(o){var l=o.name;l&&!e(l)&&_t(t,i,r,a)}}}function _t(n,e,t,r){var a=n[e];!a||r&&a.tag===r.tag||a.componentInstance.$destroy(),n[e]=null,y(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=wt++,e._isVue=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var a=r.componentOptions;t.propsData=a.propsData,t._parentListeners=a.listeners,t._renderChildren=a.children,t._componentTag=a.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Rn(Tt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ye(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,r=t&&t.context;n.$slots=me(e._renderChildren,r),n.$scopedSlots=a,n._c=function(e,t,r,a){return Je(n,e,t,r,a,!1)},n.$createElement=function(e,t,r,a){return Je(n,e,t,r,a,!0)};var i=t&&t.data;In(n,"$attrs",i&&i.attrs||a,null,!0),In(n,"$listeners",e._parentListeners||a,null,!0)}(e),tt(e,"beforeCreate"),function(n){var e=fe(n.$options.inject,n);e&&(An(!1),Object.keys(e).forEach((function(t){In(n,t,e[t])})),An(!0))}(e),vt(e),function(n){var e=n.$options.provide;e&&(n._provided="function"==typeof e?e.call(n):e)}(e),tt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(At),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Cn,n.prototype.$delete=_n,n.prototype.$watch=function(n,e,t){if(u(e))return kt(this,n,e,t);(t=t||{}).user=!0;var r=new ft(this,n,e,t);if(t.immediate){var a='callback for immediate watcher "'+r.expression+'"';fn(),Vn(e,this,[r.value],this,a),mn()}return function(){r.teardown()}}}(At),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(Array.isArray(n))for(var a=0,i=n.length;a<i;a++)r.$on(n[a],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(n)){for(var r=0,a=n.length;r<a;r++)t.$off(n[r],e);return t}var i,o=t._events[n];if(!o)return t;if(!e)return t._events[n]=null,t;for(var l=o.length;l--;)if((i=o[l])===e||i.fn===e){o.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?C(t):t;for(var r=C(arguments,1),a='event handler for "'+n+'"',i=0,o=t.length;i<o;i++)Vn(t[i],e,r,e,a)}return e}}(At),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,a=t._vnode,i=Xe(t);t._vnode=n,t.$el=a?t.__patch__(a,n):t.__patch__(t.$el,n,e,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){tt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||y(e.$children,n),n._watcher&&n._watcher.teardown();for(var t=n._watchers.length;t--;)n._watchers[t].teardown();n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),tt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(At),function(n){Oe(n.prototype),n.prototype.$nextTick=function(n){return ae(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,a=t._parentVnode;a&&(e.$scopedSlots=be(a.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=a;try{Ke=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Kn(t,e,"render"),n=e._vnode}finally{Ke=null}return Array.isArray(n)&&1===n.length&&(n=n[0]),n instanceof gn||(n=bn()),n.parent=a,n}}(At);var Pt=[String,RegExp,Array],zt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Pt,exclude:Pt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var a=t.tag,i=t.componentInstance,o=t.componentOptions;n[r]={name:Bt(o),tag:a,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&_t(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)_t(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Ct(n,(function(n){return It(e,n)}))})),this.$watch("exclude",(function(e){Ct(n,(function(n){return!It(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ge(n),t=e&&e.componentOptions;if(t){var r=Bt(t),a=this.include,i=this.exclude;if(a&&(!r||!It(a,r))||i&&r&&It(i,r))return e;var o=this.cache,l=this.keys,s=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;o[s]?(e.componentInstance=o[s].componentInstance,y(l,s),l.push(s)):(this.vnodeToCache=e,this.keyToCache=s),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return N}};Object.defineProperty(n,"config",e),n.util={warn:dn,extend:_,mergeOptions:Rn,defineReactive:In},n.set=Cn,n.delete=_n,n.nextTick=ae,n.observable=function(n){return Bn(n),n},n.options=Object.create(null),R.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,_(n.options.components,zt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=C(arguments,1);return t.unshift(this),"function"==typeof n.install?n.install.apply(n,t):"function"==typeof n&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Rn(this.options,n),this}}(n),St(n),function(n){R.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&u(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&"function"==typeof t&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(At),Object.defineProperty(At.prototype,"$isServer",{get:an}),Object.defineProperty(At.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(At,"FunctionalRenderContext",{value:De}),At.version="2.6.14";var jt=v("style,class"),Lt=v("input,textarea,option,select,progress"),Ot=v("contenteditable,draggable,spellcheck"),Dt=v("events,caret,typing,plaintext-only"),Mt=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Rt="http://www.w3.org/1999/xlink",Ft=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},Nt=function(n){return Ft(n)?n.slice(6,n.length):""},qt=function(n){return null==n||!1===n};function Ut(n){for(var e=n.data,t=n,r=n;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Jt(r.data,e));for(;o(t=t.parent);)t&&t.data&&(e=Jt(e,t.data));return function(n,e){if(o(n)||o(e))return Ht(n,Kt(e));return""}(e.staticClass,e.class)}function Jt(n,e){return{staticClass:Ht(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function Ht(n,e){return n?e?n+" "+e:n:e||""}function Kt(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,a=n.length;r<a;r++)o(e=Kt(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):c(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var Vt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gt=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),$t=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wt=function(n){return Gt(n)||$t(n)};var Qt=Object.create(null);var Yt=v("text,number,password,search,email,tel,url");var Zt=Object.freeze({createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(Vt[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),Xt={create:function(n,e){nr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(nr(n,!0),nr(e))},destroy:function(n){nr(n,!0)}};function nr(n,e){var t=n.data.ref;if(o(t)){var r=n.context,a=n.componentInstance||n.elm,i=r.$refs;e?Array.isArray(i[t])?y(i[t],a):i[t]===a&&(i[t]=void 0):n.data.refInFor?Array.isArray(i[t])?i[t].indexOf(a)<0&&i[t].push(a):i[t]=[a]:i[t]=a}}var er=new gn("",{},[]),tr=["create","activate","update","remove","destroy"];function rr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=o(t=n.data)&&o(t=t.attrs)&&t.type,a=o(t=e.data)&&o(t=t.attrs)&&t.type;return r===a||Yt(r)&&Yt(a)}(n,e)||l(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function ar(n,e,t){var r,a,i={};for(r=e;r<=t;++r)o(a=n[r].key)&&(i[a]=r);return i}var ir={create:or,update:or,destroy:function(n){or(n,er)}};function or(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,a,i=n===er,o=e===er,l=sr(n.data.directives,n.context),s=sr(e.data.directives,e.context),c=[],d=[];for(t in s)r=l[t],a=s[t],r?(a.oldValue=r.value,a.oldArg=r.arg,dr(a,"update",e,n),a.def&&a.def.componentUpdated&&d.push(a)):(dr(a,"bind",e,n),a.def&&a.def.inserted&&c.push(a));if(c.length){var u=function(){for(var t=0;t<c.length;t++)dr(c[t],"inserted",e,n)};i?de(e,"insert",u):u()}d.length&&de(e,"postpatch",(function(){for(var t=0;t<d.length;t++)dr(d[t],"componentUpdated",e,n)}));if(!i)for(t in l)s[t]||dr(l[t],"unbind",n,n,o)}(n,e)}var lr=Object.create(null);function sr(n,e){var t,r,a=Object.create(null);if(!n)return a;for(t=0;t<n.length;t++)(r=n[t]).modifiers||(r.modifiers=lr),a[cr(r)]=r,r.def=Fn(e.$options,"directives",r.name);return a}function cr(n){return n.rawName||n.name+"."+Object.keys(n.modifiers||{}).join(".")}function dr(n,e,t,r,a){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,r,a)}catch(r){Kn(r,t.context,"directive "+n.name+" "+e+" hook")}}var ur=[Xt,ir];function pr(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var r,a,l=e.elm,s=n.data.attrs||{},c=e.data.attrs||{};for(r in o(c.__ob__)&&(c=e.data.attrs=_({},c)),c)a=c[r],s[r]!==a&&hr(l,r,a,e.data.pre);for(r in(Q||Z)&&c.value!==s.value&&hr(l,"value",c.value),s)i(c[r])&&(Ft(r)?l.removeAttributeNS(Rt,Nt(r)):Ot(r)||l.removeAttribute(r))}}function hr(n,e,t,r){r||n.tagName.indexOf("-")>-1?fr(n,e,t):Mt(e)?qt(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):Ot(e)?n.setAttribute(e,function(n,e){return qt(e)||"false"===e?"false":"contenteditable"===n&&Dt(e)?e:"true"}(e,t)):Ft(e)?qt(t)?n.removeAttributeNS(Rt,Nt(e)):n.setAttributeNS(Rt,e,t):fr(n,e,t)}function fr(n,e,t){if(qt(t))n.removeAttribute(e);else{if(Q&&!Y&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var mr={create:pr,update:pr};function gr(n,e){var t=e.elm,r=e.data,a=n.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var l=Ut(e),s=t._transitionClasses;o(s)&&(l=Ht(l,Kt(s))),l!==t._prevClass&&(t.setAttribute("class",l),t._prevClass=l)}}var vr,br={create:gr,update:gr};function yr(n,e,t){var r=vr;return function a(){var i=e.apply(null,arguments);null!==i&&kr(n,a,t,r)}}var Er=Qn&&!(nn&&Number(nn[1])<=53);function xr(n,e,t,r){if(Er){var a=ct,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=a||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}vr.addEventListener(n,e,tn?{capture:t,passive:r}:t)}function kr(n,e,t,r){(r||vr).removeEventListener(n,e._wrapper||e,t)}function wr(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},r=n.data.on||{};vr=e.elm,function(n){if(o(n.__r)){var e=Q?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),ce(t,r,xr,kr,yr,e.context),vr=void 0}}var Tr,Ar={create:wr,update:wr};function Sr(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,r,a=e.elm,l=n.data.domProps||{},s=e.data.domProps||{};for(t in o(s.__ob__)&&(s=e.data.domProps=_({},s)),l)t in s||(a[t]="");for(t in s){if(r=s[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===l[t])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===t&&"PROGRESS"!==a.tagName){a._value=r;var c=i(r)?"":String(r);Br(a,c)&&(a.value=c)}else if("innerHTML"===t&&$t(a.tagName)&&i(a.innerHTML)){(Tr=Tr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var d=Tr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}else if(r!==l[t])try{a[t]=r}catch(n){}}}}function Br(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(o(r)){if(r.number)return g(t)!==g(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Ir={create:Sr,update:Sr},Cr=k((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function _r(n){var e=Pr(n.style);return n.staticStyle?_(n.staticStyle,e):e}function Pr(n){return Array.isArray(n)?P(n):"string"==typeof n?Cr(n):n}var zr,jr=/^--/,Lr=/\s*!important$/,Or=function(n,e,t){if(jr.test(e))n.style.setProperty(e,t);else if(Lr.test(t))n.style.setProperty(B(e),t.replace(Lr,""),"important");else{var r=Mr(e);if(Array.isArray(t))for(var a=0,i=t.length;a<i;a++)n.style[r]=t[a];else n.style[r]=t}},Dr=["Webkit","Moz","ms"],Mr=k((function(n){if(zr=zr||document.createElement("div").style,"filter"!==(n=T(n))&&n in zr)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<Dr.length;t++){var r=Dr[t]+e;if(r in zr)return r}}));function Rr(n,e){var t=e.data,r=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(r.staticStyle)&&i(r.style))){var a,l,s=e.elm,c=r.staticStyle,d=r.normalizedStyle||r.style||{},u=c||d,p=Pr(e.data.style)||{};e.data.normalizedStyle=o(p.__ob__)?_({},p):p;var h=function(n,e){var t,r={};if(e)for(var a=n;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(t=_r(a.data))&&_(r,t);(t=_r(n.data))&&_(r,t);for(var i=n;i=i.parent;)i.data&&(t=_r(i.data))&&_(r,t);return r}(e,!0);for(l in u)i(h[l])&&Or(s,l,"");for(l in h)(a=h[l])!==u[l]&&Or(s,l,null==a?"":a)}}var Fr={create:Rr,update:Rr},Nr=/\s+/;function qr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Nr).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" "+(n.getAttribute("class")||"")+" ";t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function Ur(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Nr).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" "+(n.getAttribute("class")||"")+" ",r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function Jr(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&_(e,Hr(n.name||"v")),_(e,n),e}return"string"==typeof n?Hr(n):void 0}}var Hr=k((function(n){return{enterClass:n+"-enter",enterToClass:n+"-enter-to",enterActiveClass:n+"-enter-active",leaveClass:n+"-leave",leaveToClass:n+"-leave-to",leaveActiveClass:n+"-leave-active"}})),Kr=V&&!Y,Vr="transition",Gr="transitionend",$r="animation",Wr="animationend";Kr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Vr="WebkitTransition",Gr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&($r="WebkitAnimation",Wr="webkitAnimationEnd"));var Qr=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function Yr(n){Qr((function(){Qr(n)}))}function Zr(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),qr(n,e))}function Xr(n,e){n._transitionClasses&&y(n._transitionClasses,e),Ur(n,e)}function na(n,e,t){var r=ta(n,e),a=r.type,i=r.timeout,o=r.propCount;if(!a)return t();var l="transition"===a?Gr:Wr,s=0,c=function(){n.removeEventListener(l,d),t()},d=function(e){e.target===n&&++s>=o&&c()};setTimeout((function(){s<o&&c()}),i+1),n.addEventListener(l,d)}var ea=/\b(transform|all)(,|$)/;function ta(n,e){var t,r=window.getComputedStyle(n),a=(r[Vr+"Delay"]||"").split(", "),i=(r[Vr+"Duration"]||"").split(", "),o=ra(a,i),l=(r[$r+"Delay"]||"").split(", "),s=(r[$r+"Duration"]||"").split(", "),c=ra(l,s),d=0,u=0;return"transition"===e?o>0&&(t="transition",d=o,u=i.length):"animation"===e?c>0&&(t="animation",d=c,u=s.length):u=(t=(d=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?i.length:s.length:0,{type:t,timeout:d,propCount:u,hasTransform:"transition"===t&&ea.test(r[Vr+"Property"])}}function ra(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return aa(e)+aa(n[t])})))}function aa(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function ia(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=Jr(n.data.transition);if(!i(r)&&!o(t._enterCb)&&1===t.nodeType){for(var a=r.css,l=r.type,s=r.enterClass,d=r.enterToClass,u=r.enterActiveClass,p=r.appearClass,h=r.appearToClass,f=r.appearActiveClass,m=r.beforeEnter,v=r.enter,b=r.afterEnter,y=r.enterCancelled,E=r.beforeAppear,x=r.appear,k=r.afterAppear,w=r.appearCancelled,T=r.duration,A=Ze,S=Ze.$vnode;S&&S.parent;)A=S.context,S=S.parent;var B=!A._isMounted||!n.isRootInsert;if(!B||x||""===x){var I=B&&p?p:s,C=B&&f?f:u,_=B&&h?h:d,P=B&&E||m,z=B&&"function"==typeof x?x:v,j=B&&k||b,L=B&&w||y,O=g(c(T)?T.enter:T);0;var D=!1!==a&&!Y,R=sa(z),F=t._enterCb=M((function(){D&&(Xr(t,_),Xr(t,C)),F.cancelled?(D&&Xr(t,I),L&&L(t)):j&&j(t),t._enterCb=null}));n.data.show||de(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),z&&z(t,F)})),P&&P(t),D&&(Zr(t,I),Zr(t,C),Yr((function(){Xr(t,I),F.cancelled||(Zr(t,_),R||(la(O)?setTimeout(F,O):na(t,l,F)))}))),n.data.show&&(e&&e(),z&&z(t,F)),D||R||F()}}}function oa(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=Jr(n.data.transition);if(i(r)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var a=r.css,l=r.type,s=r.leaveClass,d=r.leaveToClass,u=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,f=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,b=r.duration,y=!1!==a&&!Y,E=sa(h),x=g(c(b)?b.leave:b);0;var k=t._leaveCb=M((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(Xr(t,d),Xr(t,u)),k.cancelled?(y&&Xr(t,s),m&&m(t)):(e(),f&&f(t)),t._leaveCb=null}));v?v(w):w()}function w(){k.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),y&&(Zr(t,s),Zr(t,u),Yr((function(){Xr(t,s),k.cancelled||(Zr(t,d),E||(la(x)?setTimeout(k,x):na(t,l,k)))}))),h&&h(t,k),y||E||k())}}function la(n){return"number"==typeof n&&!isNaN(n)}function sa(n){if(i(n))return!1;var e=n.fns;return o(e)?sa(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function ca(n,e){!0!==e.data.show&&ia(e)}var da=function(n){var e,t,r={},a=n.modules,c=n.nodeOps;for(e=0;e<tr.length;++e)for(r[tr[e]]=[],t=0;t<a.length;++t)o(a[t][tr[e]])&&r[tr[e]].push(a[t][tr[e]]);function d(n){var e=c.parentNode(n);o(e)&&c.removeChild(e,n)}function u(n,e,t,a,i,s,d){if(o(n.elm)&&o(s)&&(n=s[d]=En(n)),n.isRootInsert=!i,!function(n,e,t,a){var i=n.data;if(o(i)){var s=o(n.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(n,!1),o(n.componentInstance))return p(n,e),h(t,n.elm,a),l(s)&&function(n,e,t,a){var i,l=n;for(;l.componentInstance;)if(l=l.componentInstance._vnode,o(i=l.data)&&o(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](er,l);e.push(l);break}h(t,n.elm,a)}(n,e,t,a),!0}}(n,e,t,a)){var u=n.data,m=n.children,v=n.tag;o(v)?(n.elm=n.ns?c.createElementNS(n.ns,v):c.createElement(v,n),b(n),f(n,m,e),o(u)&&g(n,e),h(t,n.elm,a)):l(n.isComment)?(n.elm=c.createComment(n.text),h(t,n.elm,a)):(n.elm=c.createTextNode(n.text),h(t,n.elm,a))}}function p(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,m(n)?(g(n,e),b(n)):(nr(n),e.push(n))}function h(n,e,t){o(n)&&(o(t)?c.parentNode(t)===n&&c.insertBefore(n,e,t):c.appendChild(n,e))}function f(n,e,t){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)u(e[r],t,n.elm,null,!0,e,r)}else s(n.text)&&c.appendChild(n.elm,c.createTextNode(String(n.text)))}function m(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function g(n,t){for(var a=0;a<r.create.length;++a)r.create[a](er,n);o(e=n.data.hook)&&(o(e.create)&&e.create(er,n),o(e.insert)&&t.push(n))}function b(n){var e;if(o(e=n.fnScopeId))c.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e),t=t.parent;o(e=Ze)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e)}function y(n,e,t,r,a,i){for(;r<=a;++r)u(t[r],i,n,e,!1,t,r)}function E(n){var e,t,a=n.data;if(o(a))for(o(e=a.hook)&&o(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)E(n.children[t])}function x(n,e,t){for(;e<=t;++e){var r=n[e];o(r)&&(o(r.tag)?(k(r),E(r)):d(r.elm))}}function k(n,e){if(o(e)||o(n.data)){var t,a=r.remove.length+1;for(o(e)?e.listeners+=a:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,a),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&k(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else d(n.elm)}function w(n,e,t,r){for(var a=t;a<r;a++){var i=e[a];if(o(i)&&rr(n,i))return a}}function T(n,e,t,a,s,d){if(n!==e){o(e.elm)&&o(a)&&(e=a[s]=En(e));var p=e.elm=n.elm;if(l(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?B(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(l(e.isStatic)&&l(n.isStatic)&&e.key===n.key&&(l(e.isCloned)||l(e.isOnce)))e.componentInstance=n.componentInstance;else{var h,f=e.data;o(f)&&o(h=f.hook)&&o(h=h.prepatch)&&h(n,e);var g=n.children,v=e.children;if(o(f)&&m(e)){for(h=0;h<r.update.length;++h)r.update[h](n,e);o(h=f.hook)&&o(h=h.update)&&h(n,e)}i(e.text)?o(g)&&o(v)?g!==v&&function(n,e,t,r,a){var l,s,d,p=0,h=0,f=e.length-1,m=e[0],g=e[f],v=t.length-1,b=t[0],E=t[v],k=!a;for(0;p<=f&&h<=v;)i(m)?m=e[++p]:i(g)?g=e[--f]:rr(m,b)?(T(m,b,r,t,h),m=e[++p],b=t[++h]):rr(g,E)?(T(g,E,r,t,v),g=e[--f],E=t[--v]):rr(m,E)?(T(m,E,r,t,v),k&&c.insertBefore(n,m.elm,c.nextSibling(g.elm)),m=e[++p],E=t[--v]):rr(g,b)?(T(g,b,r,t,h),k&&c.insertBefore(n,g.elm,m.elm),g=e[--f],b=t[++h]):(i(l)&&(l=ar(e,p,f)),i(s=o(b.key)?l[b.key]:w(b,e,p,f))?u(b,r,n,m.elm,!1,t,h):rr(d=e[s],b)?(T(d,b,r,t,h),e[s]=void 0,k&&c.insertBefore(n,d.elm,m.elm)):u(b,r,n,m.elm,!1,t,h),b=t[++h]);p>f?y(n,i(t[v+1])?null:t[v+1].elm,t,h,v,r):h>v&&x(e,p,f)}(p,g,v,t,d):o(v)?(o(n.text)&&c.setTextContent(p,""),y(p,null,v,0,v.length-1,t)):o(g)?x(g,0,g.length-1):o(n.text)&&c.setTextContent(p,""):n.text!==e.text&&c.setTextContent(p,e.text),o(f)&&o(h=f.hook)&&o(h=h.postpatch)&&h(n,e)}}}function A(n,e,t){if(l(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var S=v("attrs,class,staticClass,staticStyle,key");function B(n,e,t,r){var a,i=e.tag,s=e.data,c=e.children;if(r=r||s&&s.pre,e.elm=n,l(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(s)&&(o(a=s.hook)&&o(a=a.init)&&a(e,!0),o(a=e.componentInstance)))return p(e,t),!0;if(o(i)){if(o(c))if(n.hasChildNodes())if(o(a=s)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==n.innerHTML)return!1}else{for(var d=!0,u=n.firstChild,h=0;h<c.length;h++){if(!u||!B(u,c[h],t,r)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else f(e,c,t);if(o(s)){var m=!1;for(var v in s)if(!S(v)){m=!0,g(e,t);break}!m&&s.class&&oe(s.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,a){if(!i(e)){var s,d=!1,p=[];if(i(n))d=!0,u(e,p);else{var h=o(n.nodeType);if(!h&&rr(n,e))T(n,e,p,null,null,a);else{if(h){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),l(t)&&B(n,e,p))return A(e,p,!0),n;s=n,n=new gn(c.tagName(s).toLowerCase(),{},[],void 0,s)}var f=n.elm,g=c.parentNode(f);if(u(e,p,f._leaveCb?null:g,c.nextSibling(f)),o(e.parent))for(var v=e.parent,b=m(e);v;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](v);if(v.elm=e.elm,b){for(var k=0;k<r.create.length;++k)r.create[k](er,v);var w=v.data.hook.insert;if(w.merged)for(var S=1;S<w.fns.length;S++)w.fns[S]()}else nr(v);v=v.parent}o(g)?x([n],0,0):o(n.tag)&&E(n)}}return A(e,p,d),e.elm}o(n)&&E(n)}}({nodeOps:Zt,modules:[mr,br,Ar,Ir,Fr,V?{create:ca,activate:ca,remove:function(n,e){!0!==n.data.show?oa(n,e):e()}}:{}].concat(ur)});Y&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&ba(n,"input")}));var ua={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?de(t,"postpatch",(function(){ua.componentUpdated(n,e,t)})):pa(n,e,t.context),n._vOptions=[].map.call(n.options,ma)):("textarea"===t.tag||Yt(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",ga),n.addEventListener("compositionend",va),n.addEventListener("change",va),Y&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){pa(n,e,t.context);var r=n._vOptions,a=n._vOptions=[].map.call(n.options,ma);if(a.some((function(n,e){return!O(n,r[e])})))(n.multiple?e.value.some((function(n){return fa(n,a)})):e.value!==e.oldValue&&fa(e.value,a))&&ba(n,"change")}}};function pa(n,e,t){ha(n,e,t),(Q||Z)&&setTimeout((function(){ha(n,e,t)}),0)}function ha(n,e,t){var r=e.value,a=n.multiple;if(!a||Array.isArray(r)){for(var i,o,l=0,s=n.options.length;l<s;l++)if(o=n.options[l],a)i=D(r,ma(o))>-1,o.selected!==i&&(o.selected=i);else if(O(ma(o),r))return void(n.selectedIndex!==l&&(n.selectedIndex=l));a||(n.selectedIndex=-1)}}function fa(n,e){return e.every((function(e){return!O(e,n)}))}function ma(n){return"_value"in n?n._value:n.value}function ga(n){n.target.composing=!0}function va(n){n.target.composing&&(n.target.composing=!1,ba(n.target,"input"))}function ba(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function ya(n){return!n.componentInstance||n.data&&n.data.transition?n:ya(n.componentInstance._vnode)}var Ea={model:ua,show:{bind:function(n,e,t){var r=e.value,a=(t=ya(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&a?(t.data.show=!0,ia(t,(function(){n.style.display=i}))):n.style.display=r?i:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=ya(t)).data&&t.data.transition?(t.data.show=!0,r?ia(t,(function(){n.style.display=n.__vOriginalDisplay})):oa(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,a){a||(n.style.display=n.__vOriginalDisplay)}}},xa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ka(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?ka(Ge(e.children)):n}function wa(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var a=t._parentListeners;for(var i in a)e[T(i)]=a[i];return e}function Ta(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Aa=function(n){return n.tag||ve(n)},Sa=function(n){return"show"===n.name},Ba={name:"transition",props:xa,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Aa)).length){0;var r=this.mode;0;var a=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return a;var i=ka(a);if(!i)return a;if(this._leaving)return Ta(n,a);var o="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?o+"comment":o+i.tag:s(i.key)?0===String(i.key).indexOf(o)?i.key:o+i.key:i.key;var l=(i.data||(i.data={})).transition=wa(this),c=this._vnode,d=ka(c);if(i.data.directives&&i.data.directives.some(Sa)&&(i.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,d)&&!ve(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=_({},l);if("out-in"===r)return this._leaving=!0,de(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ta(n,a);if("in-out"===r){if(ve(i))return c;var p,h=function(){p()};de(l,"afterEnter",h),de(l,"enterCancelled",h),de(u,"delayLeave",(function(n){p=n}))}}return a}}},Ia=_({tag:String,moveClass:String},xa);function Ca(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function _a(n){n.data.newPos=n.elm.getBoundingClientRect()}function Pa(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,a=e.top-t.top;if(r||a){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+a+"px)",i.transitionDuration="0s"}}delete Ia.mode;var za={Transition:Ba,TransitionGroup:{props:Ia,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var a=Xe(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,a(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,a=this.$slots.default||[],i=this.children=[],o=wa(this),l=0;l<a.length;l++){var s=a[l];if(s.tag)if(null!=s.key&&0!==String(s.key).indexOf("__vlist"))i.push(s),t[s.key]=s,(s.data||(s.data={})).transition=o;else;}if(r){for(var c=[],d=[],u=0;u<r.length;u++){var p=r[u];p.data.transition=o,p.data.pos=p.elm.getBoundingClientRect(),t[p.key]?c.push(p):d.push(p)}this.kept=n(e,null,c),this.removed=d}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Ca),n.forEach(_a),n.forEach(Pa),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;Zr(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(Gr,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(Gr,n),t._moveCb=null,Xr(t,e))})}})))},methods:{hasMove:function(n,e){if(!Kr)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){Ur(t,n)})),qr(t,e),t.style.display="none",this.$el.appendChild(t);var r=ta(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};At.config.mustUseProp=function(n,e,t){return"value"===t&&Lt(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},At.config.isReservedTag=Wt,At.config.isReservedAttr=jt,At.config.getTagNamespace=function(n){return $t(n)?"svg":"math"===n?"math":void 0},At.config.isUnknownElement=function(n){if(!V)return!0;if(Wt(n))return!1;if(n=n.toLowerCase(),null!=Qt[n])return Qt[n];var e=document.createElement(n);return n.indexOf("-")>-1?Qt[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Qt[n]=/HTMLUnknownElement/.test(e.toString())},_(At.options.directives,Ea),_(At.options.components,za),At.prototype.__patch__=V?da:z,At.prototype.$mount=function(n,e){return function(n,e,t){var r;return n.$el=e,n.$options.render||(n.$options.render=bn),tt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new ft(n,r,z,{before:function(){n._isMounted&&!n._isDestroyed&&tt(n,"beforeUpdate")}},!0),t=!1,null==n.$vnode&&(n._isMounted=!0,tt(n,"mounted")),n}(this,n=n&&V?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},V&&setTimeout((function(){N.devtools&&on&&on.emit("init",At)}),0);var ja=At;
/*!
  * vue-router v3.5.4
  * (c) 2022 Evan You
  * @license MIT
  */function La(n,e){for(var t in e)n[t]=e[t];return n}var Oa=/[!'()*]/g,Da=function(n){return"%"+n.charCodeAt(0).toString(16)},Ma=/%2C/g,Ra=function(n){return encodeURIComponent(n).replace(Oa,Da).replace(Ma,",")};function Fa(n){try{return decodeURIComponent(n)}catch(n){0}return n}var Na=function(n){return null==n||"object"==typeof n?n:String(n)};function qa(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=Fa(t.shift()),a=t.length>0?Fa(t.join("=")):null;void 0===e[r]?e[r]=a:Array.isArray(e[r])?e[r].push(a):e[r]=[e[r],a]})),e):e}function Ua(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return Ra(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(Ra(e)):r.push(Ra(e)+"="+Ra(n)))})),r.join("&")}return Ra(e)+"="+Ra(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var Ja=/\/?$/;function Ha(n,e,t,r){var a=r&&r.options.stringifyQuery,i=e.query||{};try{i=Ka(i)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:$a(e,a),matched:n?Ga(n):[]};return t&&(o.redirectedFrom=$a(t,a)),Object.freeze(o)}function Ka(n){if(Array.isArray(n))return n.map(Ka);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=Ka(n[t]);return e}return n}var Va=Ha(null,{path:"/"});function Ga(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function $a(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var a=n.hash;return void 0===a&&(a=""),(t||"/")+(e||Ua)(r)+a}function Wa(n,e,t){return e===Va?n===e:!!e&&(n.path&&e.path?n.path.replace(Ja,"")===e.path.replace(Ja,"")&&(t||n.hash===e.hash&&Qa(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&Qa(n.query,e.query)&&Qa(n.params,e.params))))}function Qa(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,a){var i=n[t];if(r[a]!==t)return!1;var o=e[t];return null==i||null==o?i===o:"object"==typeof i&&"object"==typeof o?Qa(i,o):String(i)===String(o)}))}function Ya(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var a=t.instances[r],i=t.enteredCbs[r];if(a&&i){delete t.enteredCbs[r];for(var o=0;o<i.length;o++)a._isBeingDestroyed||i[o](a)}}}}var Za={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,a=e.parent,i=e.data;i.routerView=!0;for(var o=a.$createElement,l=t.name,s=a.$route,c=a._routerViewCache||(a._routerViewCache={}),d=0,u=!1;a&&a._routerRoot!==a;){var p=a.$vnode?a.$vnode.data:{};p.routerView&&d++,p.keepAlive&&a._directInactive&&a._inactive&&(u=!0),a=a.$parent}if(i.routerViewDepth=d,u){var h=c[l],f=h&&h.component;return f?(h.configProps&&Xa(f,i,h.route,h.configProps),o(f,i,r)):o()}var m=s.matched[d],g=m&&m.components[l];if(!m||!g)return c[l]=null,o();c[l]={component:g},i.registerRouteInstance=function(n,e){var t=m.instances[l];(e&&t!==n||!e&&t===n)&&(m.instances[l]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){m.instances[l]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==m.instances[l]&&(m.instances[l]=n.componentInstance),Ya(s)};var v=m.props&&m.props[l];return v&&(La(c[l],{route:s,configProps:v}),Xa(g,i,s,v)),o(g,i,r)}};function Xa(n,e,t,r){var a=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(a){a=e.props=La({},a);var i=e.attrs=e.attrs||{};for(var o in a)n.props&&o in n.props||(i[o]=a[o],delete a[o])}}function ni(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var a=e.split("/");t&&a[a.length-1]||a.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var l=i[o];".."===l?a.pop():"."!==l&&a.push(l)}return""!==a[0]&&a.unshift(""),a.join("/")}function ei(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var ti=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},ri=vi,ai=ci,ii=function(n,e){return ui(ci(n,e),e)},oi=ui,li=gi,si=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ci(n,e){for(var t,r=[],a=0,i=0,o="",l=e&&e.delimiter||"/";null!=(t=si.exec(n));){var s=t[0],c=t[1],d=t.index;if(o+=n.slice(i,d),i=d+s.length,c)o+=c[1];else{var u=n[i],p=t[2],h=t[3],f=t[4],m=t[5],g=t[6],v=t[7];o&&(r.push(o),o="");var b=null!=p&&null!=u&&u!==p,y="+"===g||"*"===g,E="?"===g||"*"===g,x=t[2]||l,k=f||m;r.push({name:h||a++,prefix:p||"",delimiter:x,optional:E,repeat:y,partial:b,asterisk:!!v,pattern:k?hi(k):v?".*":"[^"+pi(x)+"]+?"})}}return i<n.length&&(o+=n.substr(i)),o&&r.push(o),r}function di(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function ui(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",mi(e)));return function(e,r){for(var a="",i=e||{},o=(r||{}).pretty?di:encodeURIComponent,l=0;l<n.length;l++){var s=n[l];if("string"!=typeof s){var c,d=i[s.name];if(null==d){if(s.optional){s.partial&&(a+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(ti(d)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=o(d[u]),!t[l].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(c)+"`");a+=(0===u?s.prefix:s.delimiter)+c}}else{if(c=s.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(d),!t[l].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');a+=s.prefix+c}}else a+=s}return a}}function pi(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function hi(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function fi(n,e){return n.keys=e,n}function mi(n){return n&&n.sensitive?"":"i"}function gi(n,e,t){ti(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,a=!1!==t.end,i="",o=0;o<n.length;o++){var l=n[o];if("string"==typeof l)i+=pi(l);else{var s=pi(l.prefix),c="(?:"+l.pattern+")";e.push(l),l.repeat&&(c+="(?:"+s+c+")*"),i+=c=l.optional?l.partial?s+"("+c+")?":"(?:"+s+"("+c+"))?":s+"("+c+")"}}var d=pi(t.delimiter||"/"),u=i.slice(-d.length)===d;return r||(i=(u?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=a?"$":r&&u?"":"(?="+d+"|$)",fi(new RegExp("^"+i,mi(t)),e)}function vi(n,e,t){return ti(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return fi(n,e)}(n,e):ti(n)?function(n,e,t){for(var r=[],a=0;a<n.length;a++)r.push(vi(n[a],e,t).source);return fi(new RegExp("(?:"+r.join("|")+")",mi(t)),e)}(n,e,t):function(n,e,t){return gi(ci(n,t),e,t)}(n,e,t)}ri.parse=ai,ri.compile=ii,ri.tokensToFunction=oi,ri.tokensToRegExp=li;var bi=Object.create(null);function yi(n,e,t){e=e||{};try{var r=bi[n]||(bi[n]=ri.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Ei(n,e,t,r){var a="string"==typeof n?{path:n}:n;if(a._normalized)return a;if(a.name){var i=(a=La({},n)).params;return i&&"object"==typeof i&&(a.params=La({},i)),a}if(!a.path&&a.params&&e){(a=La({},a))._normalized=!0;var o=La(La({},e.params),a.params);if(e.name)a.name=e.name,a.params=o;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;a.path=yi(l,o,e.path)}else 0;return a}var s=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var a=n.indexOf("?");return a>=0&&(t=n.slice(a+1),n=n.slice(0,a)),{path:n,query:t,hash:e}}(a.path||""),c=e&&e.path||"/",d=s.path?ni(s.path,c,t||a.append):c,u=function(n,e,t){void 0===e&&(e={});var r,a=t||qa;try{r=a(n||"")}catch(n){r={}}for(var i in e){var o=e[i];r[i]=Array.isArray(o)?o.map(Na):Na(o)}return r}(s.query,a.query,r&&r.options.parseQuery),p=a.hash||s.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:u,hash:p}}var xi,ki=function(){},wi={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,a=t.resolve(this.to,r,this.append),i=a.location,o=a.route,l=a.href,s={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,u=null==c?"router-link-active":c,p=null==d?"router-link-exact-active":d,h=null==this.activeClass?u:this.activeClass,f=null==this.exactActiveClass?p:this.exactActiveClass,m=o.redirectedFrom?Ha(null,Ei(o.redirectedFrom),null,t):o;s[f]=Wa(r,m,this.exactPath),s[h]=this.exact||this.exactPath?s[f]:function(n,e){return 0===n.path.replace(Ja,"/").indexOf(e.path.replace(Ja,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,m);var g=s[f]?this.ariaCurrentValue:null,v=function(n){Ti(n)&&(e.replace?t.replace(i,ki):t.push(i,ki))},b={click:Ti};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=v})):b[this.event]=v;var y={class:s},E=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:v,isActive:s[h],isExactActive:s[f]});if(E){if(1===E.length)return E[0];if(E.length>1||!E.length)return 0===E.length?n():n("span",{},E)}if("a"===this.tag)y.on=b,y.attrs={href:l,"aria-current":g};else{var x=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var k=x.data=La({},x.data);for(var w in k.on=k.on||{},k.on){var T=k.on[w];w in b&&(k.on[w]=Array.isArray(T)?T:[T])}for(var A in b)A in k.on?k.on[A].push(b[A]):k.on[A]=v;var S=x.data.attrs=La({},x.data.attrs);S.href=l,S["aria-current"]=g}else y.on=b}return n(this.tag,y,this.$slots.default)}};function Ti(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Ai="undefined"!=typeof window;function Si(n,e,t,r,a){var i=e||[],o=t||Object.create(null),l=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,a,i,o){var l=a.path,s=a.name;0;var c=a.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return ei(e.path+"/"+n)}(l,i,c.strict);"boolean"==typeof a.caseSensitive&&(c.sensitive=a.caseSensitive);var u={path:d,regex:Bi(d,c),components:a.components||{default:a.component},alias:a.alias?"string"==typeof a.alias?[a.alias]:a.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:a.redirect,beforeEnter:a.beforeEnter,meta:a.meta||{},props:null==a.props?{}:a.components?a.props:{default:a.props}};a.children&&a.children.forEach((function(a){var i=o?ei(o+"/"+a.path):void 0;n(e,t,r,a,u,i)}));t[u.path]||(e.push(u.path),t[u.path]=u);if(void 0!==a.alias)for(var p=Array.isArray(a.alias)?a.alias:[a.alias],h=0;h<p.length;++h){0;var f={path:p[h],children:a.children};n(e,t,r,f,i,u.path||"/")}s&&(r[s]||(r[s]=u))}(i,o,l,n,a)}));for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:l}}function Bi(n,e){return ri(n,[],e)}function Ii(n,e){var t=Si(n),r=t.pathList,a=t.pathMap,i=t.nameMap;function o(n,t,o){var l=Ei(n,t,!1,e),c=l.name;if(c){var d=i[c];if(!d)return s(null,l);var u=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof l.params&&(l.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in l.params)&&u.indexOf(p)>-1&&(l.params[p]=t.params[p]);return l.path=yi(d.path,l.params),s(d,l,o)}if(l.path){l.params={};for(var h=0;h<r.length;h++){var f=r[h],m=a[f];if(Ci(m.regex,l.path,l.params))return s(m,l,o)}}return s(null,l)}function l(n,t){var r=n.redirect,a="function"==typeof r?r(Ha(n,t,null,e)):r;if("string"==typeof a&&(a={path:a}),!a||"object"!=typeof a)return s(null,t);var l=a,c=l.name,d=l.path,u=t.query,p=t.hash,h=t.params;if(u=l.hasOwnProperty("query")?l.query:u,p=l.hasOwnProperty("hash")?l.hash:p,h=l.hasOwnProperty("params")?l.params:h,c){i[c];return o({_normalized:!0,name:c,query:u,hash:p,params:h},void 0,t)}if(d){var f=function(n,e){return ni(n,e.parent?e.parent.path:"/",!0)}(d,n);return o({_normalized:!0,path:yi(f,h),query:u,hash:p},void 0,t)}return s(null,t)}function s(n,t,r){return n&&n.redirect?l(n,r||t):n&&n.matchAs?function(n,e,t){var r=o({_normalized:!0,path:yi(t,e.params)});if(r){var a=r.matched,i=a[a.length-1];return e.params=r.params,s(i,e)}return s(null,e)}(0,t,n.matchAs):Ha(n,t,r,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Si([e||n],r,a,i,t),t&&t.alias.length&&Si(t.alias.map((function(n){return{path:n,children:[e]}})),r,a,i,t)},getRoutes:function(){return r.map((function(n){return a[n]}))},addRoutes:function(n){Si(n,r,a,i)}}}function Ci(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var a=1,i=r.length;a<i;++a){var o=n.keys[a-1];o&&(t[o.name||"pathMatch"]="string"==typeof r[a]?Fa(r[a]):r[a])}return!0}var _i=Ai&&window.performance&&window.performance.now?window.performance:Date;function Pi(){return _i.now().toFixed(3)}var zi=Pi();function ji(){return zi}function Li(n){return zi=n}var Oi=Object.create(null);function Di(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=La({},window.history.state);return t.key=ji(),window.history.replaceState(t,"",e),window.addEventListener("popstate",Fi),function(){window.removeEventListener("popstate",Fi)}}function Mi(n,e,t,r){if(n.app){var a=n.options.scrollBehavior;a&&n.app.$nextTick((function(){var i=function(){var n=ji();if(n)return Oi[n]}(),o=a.call(n,e,t,r?i:null);o&&("function"==typeof o.then?o.then((function(n){Hi(n,i)})).catch((function(n){0})):Hi(o,i))}))}}function Ri(){var n=ji();n&&(Oi[n]={x:window.pageXOffset,y:window.pageYOffset})}function Fi(n){Ri(),n.state&&n.state.key&&Li(n.state.key)}function Ni(n){return Ui(n.x)||Ui(n.y)}function qi(n){return{x:Ui(n.x)?n.x:window.pageXOffset,y:Ui(n.y)?n.y:window.pageYOffset}}function Ui(n){return"number"==typeof n}var Ji=/^#\d/;function Hi(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var a=Ji.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(a){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(a,i={x:Ui((t=i).x)?t.x:0,y:Ui(t.y)?t.y:0})}else Ni(n)&&(e=qi(n))}else r&&Ni(n)&&(e=qi(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var Ki,Vi=Ai&&((-1===(Ki=window.navigator.userAgent).indexOf("Android 2.")&&-1===Ki.indexOf("Android 4.0")||-1===Ki.indexOf("Mobile Safari")||-1!==Ki.indexOf("Chrome")||-1!==Ki.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function Gi(n,e){Ri();var t=window.history;try{if(e){var r=La({},t.state);r.key=ji(),t.replaceState(r,"",n)}else t.pushState({key:Li(Pi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function $i(n){Gi(n,!0)}function Wi(n,e,t){var r=function(a){a>=n.length?t():n[a]?e(n[a],(function(){r(a+1)})):r(a+1)};r(0)}var Qi={redirected:2,aborted:4,cancelled:8,duplicated:16};function Yi(n,e){return Xi(n,e,Qi.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return no.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function Zi(n,e){return Xi(n,e,Qi.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Xi(n,e,t,r){var a=new Error(r);return a._isRouter=!0,a.from=n,a.to=e,a.type=t,a}var no=["params","query","hash"];function eo(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function to(n,e){return eo(n)&&n._isRouter&&(null==e||n.type===e)}function ro(n){return function(e,t,r){var a=!1,i=0,o=null;ao(n,(function(n,e,t,l){if("function"==typeof n&&void 0===n.cid){a=!0,i++;var s,c=lo((function(e){var a;((a=e).__esModule||oo&&"Module"===a[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:xi.extend(e),t.components[l]=e,--i<=0&&r()})),d=lo((function(n){var e="Failed to resolve async component "+l+": "+n;o||(o=eo(n)?n:new Error(e),r(o))}));try{s=n(c,d)}catch(n){d(n)}if(s)if("function"==typeof s.then)s.then(c,d);else{var u=s.component;u&&"function"==typeof u.then&&u.then(c,d)}}})),a||r()}}function ao(n,e){return io(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function io(n){return Array.prototype.concat.apply([],n)}var oo="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function lo(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var so=function(n,e){this.router=n,this.base=function(n){if(!n)if(Ai){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=Va,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function co(n,e,t,r){var a=ao(n,(function(n,r,a,i){var o=function(n,e){"function"!=typeof n&&(n=xi.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,r,a,i)})):t(o,r,a,i)}));return io(r?a.reverse():a)}function uo(n,e){if(e)return function(){return n.apply(e,arguments)}}so.prototype.listen=function(n){this.cb=n},so.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},so.prototype.onError=function(n){this.errorCbs.push(n)},so.prototype.transitionTo=function(n,e,t){var r,a=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(r,(function(){a.updateRoute(r),e&&e(r),a.ensureURL(),a.router.afterHooks.forEach((function(n){n&&n(r,i)})),a.ready||(a.ready=!0,a.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!a.ready&&(to(n,Qi.redirected)&&i===Va||(a.ready=!0,a.readyErrorCbs.forEach((function(e){e(n)}))))}))},so.prototype.confirmTransition=function(n,e,t){var r=this,a=this.current;this.pending=n;var i,o,l=function(n){!to(n)&&eo(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},s=n.matched.length-1,c=a.matched.length-1;if(Wa(n,a)&&s===c&&n.matched[s]===a.matched[c])return this.ensureURL(),n.hash&&Mi(this.router,a,n,!1),l(((o=Xi(i=a,n,Qi.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",o));var d=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),u=d.updated,p=d.deactivated,h=d.activated,f=[].concat(function(n){return co(n,"beforeRouteLeave",uo,!0)}(p),this.router.beforeHooks,function(n){return co(n,"beforeRouteUpdate",uo)}(u),h.map((function(n){return n.beforeEnter})),ro(h)),m=function(e,t){if(r.pending!==n)return l(Zi(a,n));try{e(n,a,(function(e){!1===e?(r.ensureURL(!0),l(function(n,e){return Xi(n,e,Qi.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(a,n))):eo(e)?(r.ensureURL(!0),l(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(l(Yi(a,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){l(n)}};Wi(f,m,(function(){Wi(function(n){return co(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,a,i){return n(r,a,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,r)}))}(h).concat(r.router.resolveHooks),m,(function(){if(r.pending!==n)return l(Zi(a,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){Ya(n)}))}))}))},so.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},so.prototype.setupListeners=function(){},so.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=Va,this.pending=null};var po=function(n){function e(e,t){n.call(this,e,t),this._startLocation=ho(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=Vi&&t;r&&this.listeners.push(Di());var a=function(){var t=n.current,a=ho(n.base);n.current===Va&&a===n._startLocation||n.transitionTo(a,(function(n){r&&Mi(e,n,t,!0)}))};window.addEventListener("popstate",a),this.listeners.push((function(){window.removeEventListener("popstate",a)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){Gi(ei(r.base+n.fullPath)),Mi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){$i(ei(r.base+n.fullPath)),Mi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(ho(this.base)!==this.current.fullPath){var e=ei(this.base+this.current.fullPath);n?Gi(e):$i(e)}},e.prototype.getCurrentLocation=function(){return ho(this.base)},e}(so);function ho(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(ei(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var fo=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=ho(n);if(!/^\/#/.test(e))return window.location.replace(ei(n+"/#"+e)),!0}(this.base)||mo()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=Vi&&e;t&&this.listeners.push(Di());var r=function(){var e=n.current;mo()&&n.transitionTo(go(),(function(r){t&&Mi(n.router,r,e,!0),Vi||yo(r.fullPath)}))},a=Vi?"popstate":"hashchange";window.addEventListener(a,r),this.listeners.push((function(){window.removeEventListener(a,r)}))}},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){bo(n.fullPath),Mi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){yo(n.fullPath),Mi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;go()!==e&&(n?bo(e):yo(e))},e.prototype.getCurrentLocation=function(){return go()},e}(so);function mo(){var n=go();return"/"===n.charAt(0)||(yo("/"+n),!1)}function go(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function vo(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function bo(n){Vi?Gi(vo(n)):window.location.hash=n}function yo(n){Vi?$i(vo(n)):window.location.replace(vo(n))}var Eo=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){to(n,Qi.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(so),xo=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Ii(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!Vi&&!1!==n.fallback,this.fallback&&(e="hash"),Ai||(e="abstract"),this.mode=e,e){case"history":this.history=new po(this,n.base);break;case"hash":this.history=new fo(this,n.base,this.fallback);break;case"abstract":this.history=new Eo(this,n.base);break;default:0}},ko={currentRoute:{configurable:!0}};function wo(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}xo.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},ko.currentRoute.get=function(){return this.history&&this.history.current},xo.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof po||t instanceof fo){var r=function(n){t.setupListeners(),function(n){var r=t.current,a=e.options.scrollBehavior;Vi&&a&&"fullPath"in n&&Mi(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},xo.prototype.beforeEach=function(n){return wo(this.beforeHooks,n)},xo.prototype.beforeResolve=function(n){return wo(this.resolveHooks,n)},xo.prototype.afterEach=function(n){return wo(this.afterHooks,n)},xo.prototype.onReady=function(n,e){this.history.onReady(n,e)},xo.prototype.onError=function(n){this.history.onError(n)},xo.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},xo.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},xo.prototype.go=function(n){this.history.go(n)},xo.prototype.back=function(){this.go(-1)},xo.prototype.forward=function(){this.go(1)},xo.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},xo.prototype.resolve=function(n,e,t){var r=Ei(n,e=e||this.history.current,t,this),a=this.match(r,e),i=a.redirectedFrom||a.fullPath;return{location:r,route:a,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?ei(n+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:a}},xo.prototype.getRoutes=function(){return this.matcher.getRoutes()},xo.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==Va&&this.history.transitionTo(this.history.getCurrentLocation())},xo.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==Va&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xo.prototype,ko),xo.install=function n(e){if(!n.installed||xi!==e){n.installed=!0,xi=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Za),e.component("RouterLink",wi);var a=e.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}},xo.version="3.5.4",xo.isNavigationFailure=to,xo.NavigationFailureType=Qi,xo.START_LOCATION=Va,Ai&&window.Vue&&window.Vue.use(xo);var To=xo;t(182),t(183),t(268),t(82),t(184),t(29),t(30),t(270);function Ao(n){n.locales&&Object.keys(n.locales).forEach((function(e){n.locales[e].path=e})),Object.freeze(n)}t(77),t(97),t(131);function So(n){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var Bo=t(79),Io=(t(196),t(18),t(45),t(238),t(239),t(40),t(31),{NotFound:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,506))},Layout:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,505))}}),Co={"v-36edf5bb":function(){return t.e(6).then(t.bind(null,508))},"v-7abe58c4":function(){return t.e(9).then(t.bind(null,509))},"v-10f5d0e5":function(){return t.e(7).then(t.bind(null,510))},"v-a612ff08":function(){return t.e(8).then(t.bind(null,511))},"v-8bf153e4":function(){return t.e(10).then(t.bind(null,512))},"v-0734374b":function(){return t.e(11).then(t.bind(null,513))},"v-57012c44":function(){return t.e(13).then(t.bind(null,514))},"v-4e1fd39c":function(){return t.e(12).then(t.bind(null,515))},"v-57b2551a":function(){return t.e(16).then(t.bind(null,516))},"v-d8a2f15c":function(){return t.e(14).then(t.bind(null,517))},"v-7f48b402":function(){return t.e(15).then(t.bind(null,518))},"v-d4e20148":function(){return t.e(17).then(t.bind(null,519))},"v-d32e07ea":function(){return t.e(18).then(t.bind(null,520))},"v-85b06162":function(){return t.e(19).then(t.bind(null,521))},"v-7665e30e":function(){return t.e(21).then(t.bind(null,522))},"v-4c273a66":function(){return t.e(20).then(t.bind(null,523))},"v-6ff6e2f0":function(){return t.e(22).then(t.bind(null,524))},"v-620ebadc":function(){return t.e(23).then(t.bind(null,525))},"v-5290507e":function(){return t.e(24).then(t.bind(null,526))},"v-6f5c6512":function(){return t.e(25).then(t.bind(null,527))},"v-75844e97":function(){return t.e(26).then(t.bind(null,528))},"v-1218fa85":function(){return t.e(27).then(t.bind(null,529))},"v-b21bbc4c":function(){return t.e(28).then(t.bind(null,530))},"v-45fc1217":function(){return t.e(29).then(t.bind(null,531))},"v-5390e3d4":function(){return t.e(30).then(t.bind(null,532))},"v-352f36cc":function(){return t.e(32).then(t.bind(null,533))},"v-4927c049":function(){return t.e(33).then(t.bind(null,534))},"v-1065f7be":function(){return t.e(35).then(t.bind(null,535))},"v-f5bcd180":function(){return t.e(34).then(t.bind(null,536))},"v-35324a50":function(){return t.e(31).then(t.bind(null,537))},"v-134f28dc":function(){return t.e(37).then(t.bind(null,538))},"v-03e420c4":function(){return t.e(38).then(t.bind(null,539))},"v-2dbdb772":function(){return t.e(36).then(t.bind(null,540))},"v-9baaad8e":function(){return t.e(41).then(t.bind(null,541))},"v-625fbeda":function(){return t.e(39).then(t.bind(null,542))},"v-7b2a2ed4":function(){return t.e(40).then(t.bind(null,543))},"v-75c00225":function(){return t.e(42).then(t.bind(null,544))},"v-083aef82":function(){return t.e(43).then(t.bind(null,545))},"v-f406b4e6":function(){return t.e(44).then(t.bind(null,546))},"v-af821fc8":function(){return t.e(46).then(t.bind(null,547))},"v-7cd97c82":function(){return t.e(45).then(t.bind(null,548))},"v-5474bec0":function(){return t.e(47).then(t.bind(null,549))},"v-0970cd54":function(){return t.e(48).then(t.bind(null,550))},"v-2de19204":function(){return t.e(49).then(t.bind(null,551))},"v-37fcb440":function(){return t.e(50).then(t.bind(null,552))},"v-15fba8f1":function(){return t.e(51).then(t.bind(null,553))},"v-28c1d6d9":function(){return t.e(52).then(t.bind(null,554))},"v-ba94c306":function(){return t.e(53).then(t.bind(null,555))},"v-88b087a6":function(){return t.e(54).then(t.bind(null,556))},"v-2d6ed001":function(){return t.e(55).then(t.bind(null,557))},"v-22a9eaef":function(){return t.e(56).then(t.bind(null,558))},"v-31509c80":function(){return t.e(57).then(t.bind(null,559))},"v-0564ba27":function(){return t.e(58).then(t.bind(null,560))},"v-34f8aaa2":function(){return t.e(59).then(t.bind(null,561))},"v-28deb9da":function(){return t.e(60).then(t.bind(null,562))},"v-5b0157cf":function(){return t.e(61).then(t.bind(null,563))},"v-64f1031c":function(){return t.e(62).then(t.bind(null,564))},"v-0a1d1fb4":function(){return t.e(64).then(t.bind(null,565))},"v-470b2fce":function(){return t.e(63).then(t.bind(null,566))},"v-6602e3da":function(){return t.e(65).then(t.bind(null,567))},"v-12717373":function(){return t.e(66).then(t.bind(null,568))},"v-5047727f":function(){return t.e(67).then(t.bind(null,569))},"v-feb79e02":function(){return t.e(68).then(t.bind(null,570))},"v-3890e0b4":function(){return t.e(69).then(t.bind(null,571))},"v-c0c0e5c8":function(){return t.e(71).then(t.bind(null,572))},"v-aa8887a4":function(){return t.e(72).then(t.bind(null,573))},"v-eb417bbe":function(){return t.e(70).then(t.bind(null,574))},"v-f886ba80":function(){return t.e(73).then(t.bind(null,575))},"v-75f6731c":function(){return t.e(76).then(t.bind(null,576))},"v-f8f98912":function(){return t.e(77).then(t.bind(null,577))},"v-9aa2c788":function(){return t.e(75).then(t.bind(null,578))},"v-df71a6e0":function(){return t.e(74).then(t.bind(null,579))},"v-63453344":function(){return t.e(78).then(t.bind(null,580))},"v-93120d3a":function(){return t.e(79).then(t.bind(null,581))},"v-3e902cd4":function(){return t.e(80).then(t.bind(null,582))},"v-74475c54":function(){return t.e(82).then(t.bind(null,583))},"v-730f9a6a":function(){return t.e(84).then(t.bind(null,584))},"v-52edac80":function(){return t.e(81).then(t.bind(null,585))},"v-0e7ed85a":function(){return t.e(83).then(t.bind(null,586))},"v-15fe5424":function(){return t.e(85).then(t.bind(null,587))},"v-01df2b5d":function(){return t.e(87).then(t.bind(null,588))},"v-7370facf":function(){return t.e(88).then(t.bind(null,589))},"v-7fc8ca51":function(){return t.e(86).then(t.bind(null,590))},"v-15ca313a":function(){return t.e(89).then(t.bind(null,591))},"v-7707a260":function(){return t.e(90).then(t.bind(null,592))},"v-a9abf6a0":function(){return t.e(91).then(t.bind(null,593))},"v-693fb010":function(){return t.e(92).then(t.bind(null,594))},"v-51f24219":function(){return t.e(93).then(t.bind(null,595))},"v-fe1405b0":function(){return t.e(95).then(t.bind(null,596))},"v-18f7a69e":function(){return t.e(94).then(t.bind(null,597))},"v-a0ab5810":function(){return t.e(96).then(t.bind(null,598))},"v-5a37154c":function(){return t.e(99).then(t.bind(null,599))},"v-262f2c87":function(){return t.e(98).then(t.bind(null,600))},"v-05845816":function(){return t.e(100).then(t.bind(null,601))},"v-32c73af0":function(){return t.e(97).then(t.bind(null,602))},"v-303058be":function(){return t.e(101).then(t.bind(null,603))},"v-1f69ea23":function(){return t.e(102).then(t.bind(null,604))},"v-f6bafd34":function(){return t.e(103).then(t.bind(null,605))},"v-129dffb8":function(){return t.e(104).then(t.bind(null,606))},"v-c875c5a4":function(){return t.e(106).then(t.bind(null,607))},"v-7abb1115":function(){return t.e(105).then(t.bind(null,608))},"v-1a49912a":function(){return t.e(108).then(t.bind(null,609))},"v-63719191":function(){return t.e(107).then(t.bind(null,610))},"v-85af5b9e":function(){return t.e(109).then(t.bind(null,611))},"v-1ea2064a":function(){return t.e(111).then(t.bind(null,612))},"v-8c3da672":function(){return t.e(110).then(t.bind(null,613))},"v-db80e4da":function(){return t.e(112).then(t.bind(null,614))},"v-e048e838":function(){return t.e(113).then(t.bind(null,615))},"v-d41ba7ec":function(){return t.e(114).then(t.bind(null,616))},"v-0c4b3c8a":function(){return t.e(115).then(t.bind(null,617))},"v-a380136c":function(){return t.e(119).then(t.bind(null,618))},"v-e66c56a0":function(){return t.e(118).then(t.bind(null,619))},"v-7193df75":function(){return t.e(116).then(t.bind(null,620))},"v-8228d7f2":function(){return t.e(120).then(t.bind(null,621))},"v-774fbc7c":function(){return t.e(122).then(t.bind(null,622))},"v-2680fed9":function(){return t.e(117).then(t.bind(null,623))},"v-e8b2cf00":function(){return t.e(121).then(t.bind(null,624))},"v-016a9bfe":function(){return t.e(123).then(t.bind(null,625))},"v-57b9b0cf":function(){return t.e(124).then(t.bind(null,626))},"v-13949e6a":function(){return t.e(125).then(t.bind(null,627))},"v-a406533a":function(){return t.e(126).then(t.bind(null,628))},"v-3bb878ba":function(){return t.e(127).then(t.bind(null,629))},"v-5c643de7":function(){return t.e(128).then(t.bind(null,630))},"v-24153295":function(){return t.e(129).then(t.bind(null,631))},"v-ca8a5a42":function(){return t.e(130).then(t.bind(null,632))},"v-ccd01cc4":function(){return t.e(131).then(t.bind(null,633))},"v-1fc84936":function(){return t.e(132).then(t.bind(null,634))},"v-13bddd54":function(){return t.e(133).then(t.bind(null,635))},"v-c85da526":function(){return t.e(134).then(t.bind(null,636))},"v-311026d5":function(){return t.e(135).then(t.bind(null,637))},"v-25d809ae":function(){return t.e(136).then(t.bind(null,638))},"v-f0f711c4":function(){return t.e(138).then(t.bind(null,639))},"v-824b776c":function(){return t.e(139).then(t.bind(null,640))},"v-674454ac":function(){return t.e(137).then(t.bind(null,641))},"v-6c681639":function(){return t.e(142).then(t.bind(null,642))},"v-7e02c4a1":function(){return t.e(140).then(t.bind(null,643))},"v-5b0e09c6":function(){return t.e(141).then(t.bind(null,644))},"v-c39c4fe2":function(){return t.e(143).then(t.bind(null,645))},"v-4ecddbec":function(){return t.e(145).then(t.bind(null,646))},"v-689e142a":function(){return t.e(144).then(t.bind(null,647))},"v-505fbe2e":function(){return t.e(146).then(t.bind(null,648))},"v-0dd47f09":function(){return t.e(147).then(t.bind(null,649))},"v-53bcbb7a":function(){return t.e(148).then(t.bind(null,650))},"v-c383b96e":function(){return t.e(149).then(t.bind(null,651))},"v-4cef944a":function(){return t.e(150).then(t.bind(null,652))},"v-ed0c93b8":function(){return t.e(151).then(t.bind(null,653))},"v-f3acaa1a":function(){return t.e(153).then(t.bind(null,654))},"v-d6bc240a":function(){return t.e(152).then(t.bind(null,655))},"v-ceed6ba6":function(){return t.e(154).then(t.bind(null,656))},"v-77790024":function(){return t.e(155).then(t.bind(null,657))},"v-76f5e79a":function(){return t.e(156).then(t.bind(null,658))},"v-0a7e6416":function(){return t.e(157).then(t.bind(null,659))},"v-6b967a6e":function(){return t.e(158).then(t.bind(null,660))},"v-d804fba0":function(){return t.e(159).then(t.bind(null,661))},"v-cb742458":function(){return t.e(160).then(t.bind(null,662))},"v-3e917471":function(){return t.e(161).then(t.bind(null,663))},"v-2c6b511c":function(){return t.e(164).then(t.bind(null,664))},"v-3d2fdd6a":function(){return t.e(165).then(t.bind(null,665))},"v-18b427a0":function(){return t.e(166).then(t.bind(null,666))},"v-c0bc7b7a":function(){return t.e(162).then(t.bind(null,667))},"v-7c214d00":function(){return t.e(163).then(t.bind(null,668))},"v-c2fe5e1a":function(){return t.e(168).then(t.bind(null,669))},"v-35718f4e":function(){return t.e(169).then(t.bind(null,670))},"v-6a45f68d":function(){return t.e(167).then(t.bind(null,671))},"v-57957421":function(){return t.e(170).then(t.bind(null,672))},"v-37f158ba":function(){return t.e(171).then(t.bind(null,673))},"v-02ea33c3":function(){return t.e(172).then(t.bind(null,674))},"v-be02b3c0":function(){return t.e(173).then(t.bind(null,675))},"v-5acdab4d":function(){return t.e(174).then(t.bind(null,676))},"v-073f22cd":function(){return t.e(175).then(t.bind(null,677))},"v-5157927c":function(){return t.e(177).then(t.bind(null,678))},"v-62f3fa3e":function(){return t.e(178).then(t.bind(null,679))},"v-bbcf6e5a":function(){return t.e(176).then(t.bind(null,680))},"v-6b32ada0":function(){return t.e(179).then(t.bind(null,681))},"v-7c0136cf":function(){return t.e(181).then(t.bind(null,682))},"v-0df39df8":function(){return t.e(180).then(t.bind(null,683))},"v-04af9e42":function(){return t.e(182).then(t.bind(null,684))},"v-0c440466":function(){return t.e(183).then(t.bind(null,685))},"v-a9558ec0":function(){return t.e(185).then(t.bind(null,686))},"v-684c4815":function(){return t.e(184).then(t.bind(null,687))},"v-164d9a94":function(){return t.e(186).then(t.bind(null,688))},"v-00fb6429":function(){return t.e(187).then(t.bind(null,689))},"v-5675b06b":function(){return t.e(188).then(t.bind(null,690))},"v-1d6b51b7":function(){return t.e(190).then(t.bind(null,691))},"v-f88544f4":function(){return t.e(189).then(t.bind(null,692))},"v-dca272ea":function(){return t.e(191).then(t.bind(null,693))},"v-5afa53ed":function(){return t.e(193).then(t.bind(null,694))},"v-2a52a762":function(){return t.e(194).then(t.bind(null,695))},"v-00dfea7c":function(){return t.e(192).then(t.bind(null,696))},"v-70bb01cc":function(){return t.e(197).then(t.bind(null,697))},"v-534e5ed0":function(){return t.e(198).then(t.bind(null,698))},"v-bd4d3ab8":function(){return t.e(199).then(t.bind(null,699))},"v-37ecc426":function(){return t.e(196).then(t.bind(null,700))},"v-1130f268":function(){return t.e(195).then(t.bind(null,701))},"v-6bbf2d35":function(){return t.e(200).then(t.bind(null,702))},"v-918dfaf8":function(){return t.e(202).then(t.bind(null,507))},"v-286c1812":function(){return t.e(201).then(t.bind(null,703))},"v-7ab50b9f":function(){return t.e(203).then(t.bind(null,704))},"v-09c150e6":function(){return t.e(204).then(t.bind(null,705))},"v-2db11cb2":function(){return t.e(208).then(t.bind(null,706))},"v-a5c5f278":function(){return t.e(209).then(t.bind(null,707))},"v-7d77d69c":function(){return t.e(210).then(t.bind(null,708))},"v-48f7eec0":function(){return t.e(205).then(t.bind(null,709))},"v-5f8dfe80":function(){return t.e(206).then(t.bind(null,710))},"v-64f9b920":function(){return t.e(207).then(t.bind(null,711))},"v-2cf94a0e":function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,712))}};function _o(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var Po=/-(\w)/g,zo=_o((function(n){return n.replace(Po,(function(n,e){return e?e.toUpperCase():""}))})),jo=/\B([A-Z])/g,Lo=_o((function(n){return n.replace(jo,"-$1").toLowerCase()})),Oo=_o((function(n){return n.charAt(0).toUpperCase()+n.slice(1)}));function Do(n,e){if(e)return n(e)?n(e):e.includes("-")?n(Oo(zo(e))):n(Oo(e))||n(Lo(e))}var Mo=Object.assign({},Io,Co),Ro=function(n){return Mo[n]},Fo=function(n){return Co[n]},No=function(n){return Io[n]},qo=function(n){return ja.component(n)};function Uo(n){return Do(Fo,n)}function Jo(n){return Do(No,n)}function Ho(n){return Do(Ro,n)}function Ko(n){return Do(qo,n)}function Vo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Promise.all(e.filter((function(n){return n})).map(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ko(e)||!Ho(e)){n.next=5;break}return n.next=3,Ho(e)();case 3:t=n.sent,ja.component(e,t.default);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}function Go(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var $o=t(143),Wo=(t(130),t(115),t(56),t(226)),Qo=t.n(Wo),Yo=t(227),Zo=t.n(Yo),Xo={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(n){return"meta"===Object($o.a)(n,1)[0]})).map((function(n){var e=Object($o.a)(n,2);e[0];return e[1]})),this.$ssrContext){var n=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=n)?e.map((function(n){var e="<meta";return Object.keys(n).forEach((function(t){e+=" ".concat(t,'="').concat(Zo()(n[t]),'"')})),e+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=el(this.$canonicalUrl)}var e},mounted:function(){this.currentMetaTags=Object(Bo.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var n=this.getMergedMetaTags();this.currentMetaTags=tl(n,this.currentMetaTags)},getMergedMetaTags:function(){var n=this.$page.frontmatter.meta||[];return Qo()([{name:"description",content:this.$description}],n,this.siteMeta,rl)},updateCanonicalLink:function(){nl(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",el(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){tl(null,this.currentMetaTags),nl()}};function nl(){var n=document.querySelector("link[rel='canonical']");n&&n.remove()}function el(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n?'<link href="'.concat(n,'" rel="canonical" />'):""}function tl(n,e){if(e&&Object(Bo.a)(e).filter((function(n){return n.parentNode===document.head})).forEach((function(n){return document.head.removeChild(n)})),n)return n.map((function(n){var e=document.createElement("meta");return Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),document.head.appendChild(e),e}))}function rl(n){for(var e=0,t=["name","property","itemprop"];e<t.length;e++){var r=t[e];if(n.hasOwnProperty(r))return n[r]+r}return JSON.stringify(n)}t(144);var al=t(156),il={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(al)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var n=this,e=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(n){return e.some((function(e){return e.hash===n.hash}))})),r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+r,o=0;o<t.length;o++){var l=t[o],s=t[o+1],c=0===o&&0===r||r>=l.parentElement.offsetTop+10&&(!s||r<s.parentElement.offsetTop-10),d=decodeURIComponent(this.$route.hash);if(c&&d!==decodeURIComponent(l.hash)){var u=l;if(i===a)for(var p=o+1;p<t.length;p++)if(d===decodeURIComponent(t[p].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(u.hash),(function(){n.$nextTick((function(){n.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},ol=(t(85),t(106)),ll=t.n(ol),sl={mounted:function(){var n=this;ll.a.configure({showSpinner:!1}),this.$router.beforeEach((function(n,e,t){n.path===e.path||ja.component(n.name)||ll.a.start(),t()})),this.$router.afterEach((function(){ll.a.done(),n.isSidebarOpen=!1}))}};t(81),t(57),t(84),t(384);function cl(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}t(104);function dl(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ul(n,e,t){return e&&dl(n.prototype,e),t&&dl(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}t(385);var pl=function(){function n(){cl(this,n);this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}return ul(n,[{key:"show",value:function(n){var e=this,t=n.text,r=void 0===t?"":t,a=n.duration,i=void 0===a?3e3:a,o=document.createElement("div");o.className="message move-in",o.innerHTML='\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">'.concat(r,"</div>\n    "),this.containerEl.appendChild(o),i>0&&setTimeout((function(){e.close(o)}),i)}},{key:"close",value:function(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",(function(){n.remove()}))}}]),n}(),hl={mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var n=this;setTimeout((function(){(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach((function(e){document.querySelectorAll(e).forEach(n.generateCopyButton)}))}),1e3)},generateCopyButton:function(n){var e=this;if(!n.classList.contains("codecopy-enabled")){var t=document.createElement("i");t.className="code-copy",t.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',t.title="Copy to clipboard",t.addEventListener("click",(function(){e.copyToClipboard(n.innerText)})),n.appendChild(t),n.classList.add("codecopy-enabled")}},copyToClipboard:function(n){var e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),(new pl).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};t(241),t(108),t(109),t(145),t(387);!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var fl={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},ml={},gl=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},vl=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:fl[n]},bl=function n(e,t,r){var a=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))a[n]=t[n];else{var e=n.replace("data","");a.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,i=e.children;a.appendChild(n(t,r,i))})),a},yl=function(n,e,t){var r,a=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==a.length||t?a:a[0]},El=function(n,e){var t,r,a=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),l={css:a&&a[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};l.htmlTpl=gl(l.html),l.jsTpl=(t=l.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),l.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),a=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,i=[eval][0](a);return i.template=e,i}(l.js,l.html);var s=vl("vue");return l.jsLib.unshift(s),l},xl=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<html>([\s\S]+)<\/html>/),i=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},kl=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function wl(){var n=yl(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=yl(n,"vuepress-plugin-demo-block__code"),t=yl(n,"vuepress-plugin-demo-block__display"),r=yl(n,"vuepress-plugin-demo-block__footer"),a=yl(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),l=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var s=e.querySelector("div").clientHeight,c="react"===l?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),a=new Function("return ".concat(r))(),i={js:a,css:a.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:kl(n),htmlTpl:gl("")},o=vl("react"),l=vl("reactDOM");return i.jsLib.unshift(o,l),i}(i,o):"vanilla"===l?xl(i,o):El(i,o),d=bl("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(d),d.addEventListener("click",Tl.bind(null,d,s,e,r)),vl("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=a.concat(i).concat(vl("cssLib")).concat(vl("jsLib")).join(",");return bl("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),vl("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=JSON.stringify({css:e,html:t,js:r,js_external:a.concat(vl("jsLib")).join(";"),css_external:i.concat(vl("cssLib")).join(";"),layout:vl("codepenLayout"),js_pre_processor:vl("codepenJsProcessor"),editors:vl("codepenEditors")});return bl("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:vl("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var u=e.firstChild.cloneNode(!0);u.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(u)}if(c.css&&function(n){if(!ml[n]){var e=bl("style",{innerHTML:n});document.body.appendChild(e),ml[n]=!0}}(c.css),"react"===l)ReactDOM.render(React.createElement(c.js),a);else if("vue"===l){var p=(new(Vue.extend(c.script))).$mount();a.appendChild(p.$el)}else"vanilla"===l&&(a.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){wl()}),300)}function Tl(n,e,t,r){var a="1"!==n.dataset.isExpand;t.style.height=a?"".concat(e,"px"):0,a?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=a?"1":"0"}var Al={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},wl()},updated:function(){wl()}},Sl=(t(231),"auto"),Bl="zoom-in",Il="zoom-out",Cl="grab",_l="move";function Pl(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={passive:!1};r?n.addEventListener(e,t,a):n.removeEventListener(e,t,a)}function zl(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function jl(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Ll(n,e,t){!function(n){var e=Ol,t=Dl;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var a=n.transform;delete n.transform,n[t]=a}}(e);var r=n.style,a={};for(var i in e)t&&(a[i]=r[i]||""),r[i]=e[i];return a}var Ol="transition",Dl="transform",Ml="transform",Rl="transitionend";var Fl=function(){},Nl={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Fl,onClose:Fl,onGrab:Fl,onMove:Fl,onRelease:Fl,onBeforeOpen:Fl,onBeforeClose:Fl,onBeforeGrab:Fl,onBeforeRelease:Fl,onImageLoading:Fl,onImageLoaded:Fl},ql={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),Jl(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,a=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(a)>=i||Math.abs(r)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Ul(n)&&!Jl(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Ul(n)&&!Jl(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Ul(n){return 0===n.button}function Jl(n){return n.metaKey||n.ctrlKey}var Hl={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Ll(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Pl(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Ll(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vl=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Gl=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$l={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=jl(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,a=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Cl:Il,transition:Ml+"\n        "+r+"s\n        "+a,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Ll(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Ll(this.el,{transform:"none"})},grab:function(n,e,t){var r=Wl(),a=r.x-n,i=r.y-e;Ll(this.el,{cursor:_l,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=Wl(),a=r.x-n,i=r.y-e;Ll(this.el,{transition:Ml,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Ll(this.el,this.styleClose)},restoreOpenStyle:function(){Ll(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=Wl(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,a=r.customSize,i=r.scaleBase;if(!a&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(a&&"object"===(void 0===a?"undefined":Kl(a)))return{x:a.width/this.rect.width,y:a.height/this.rect.height};var o=this.rect.width/2,l=this.rect.height/2,s=Wl(),c={x:s.x-o,y:s.y-l},d=c.x/o,u=c.y/l,p=i+Math.min(d,u);if(a&&"string"==typeof a){var h=t||this.el.naturalWidth,f=e||this.el.naturalHeight,m=parseFloat(a)*h/(100*this.rect.width),g=parseFloat(a)*f/(100*this.rect.height);if(p>m||p>g)return{x:m,y:g}}return{x:p,y:p}}};function Wl(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Ql(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Pl(n,r,e[r],t)}))}var Yl=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create($l),this.overlay=Object.create(Hl),this.handler=Object.create(ql),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Gl({},Nl,e),this.overlay.init(this),this.handler.init(this)}return Vl(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Bl,Pl(n,"click",this.handler.click),this.options.preloadImage&&zl(jl(n)));return this}},{key:"config",value:function(n){return n?(Gl(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var a=this.target.srcOriginal;null!=a&&(this.options.onImageLoading(r),zl(a,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Pl(document,"scroll",this.handler.scroll),Pl(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Pl(window,"resize",this.handler.resizeWindow);var i=function n(){Pl(r,Rl,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Ql(document,e.handler,!0),t(r)};return Pl(r,Rl,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Sl,this.overlay.fadeOut(),this.target.zoomOut(),Pl(document,"scroll",this.handler.scroll,!1),Pl(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Pl(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Pl(t,Rl,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Ql(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Pl(t,Rl,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var a=this.target.el;this.options.onBeforeGrab(a),this.released=!1,this.target.grab(n,e,t);var i=function n(){Pl(a,Rl,n,!1),r(a)};return Pl(a,Rl,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=_l,this.target.move(n,e,t);var a=this.target.el,i=function n(){Pl(a,Rl,n,!1),r(a)};return Pl(a,Rl,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Sl,this.target.restoreOpenStyle();var r=function r(){Pl(t,Rl,r,!1),n.lock=!1,n.released=!0,e(t)};return Pl(t,Rl,r),this}}}]),n}(),Zl=".theme-vdoing-content img:not(.no-zoom)",Xl=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),ns=Number("500"),es=function(){function n(){cl(this,n),this.instance=new Yl(Xl)}return ul(n,[{key:"update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl;"undefined"!=typeof window&&this.instance.listen(n)}},{key:"updateDelay",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns;setTimeout((function(){return n.update(e)}),t)}}]),n}(),ts=[Xo,il,sl,hl,Al,{watch:{"$page.path":function(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted:function(){this.$vuepress.zooming=new es,this.$vuepress.zooming.updateDelay()}}],rs={name:"GlobalLayout",computed:{layout:function(){var n=this.getLayout();return Go("layout",n),ja.component(n)}},methods:{getLayout:function(){if(this.$page.path){var n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},as=t(21),is=Object(as.a)(rs,(function(){var n=this.$createElement;return(this._self._c||n)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){var r;switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),(r=n[e]).push.apply(r,Object(Bo.a)(t));break;default:throw new Error("Unknown option name.")}}(is,"mixins",ts);var os=[{name:"v-36edf5bb",path:"/java/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-36edf5bb").then(t)}},{path:"/java/index.html",redirect:"/java/"},{path:"/00.ç®å½é¡µ/01.Javaç¸å³.html",redirect:"/java/"},{name:"v-7abe58c4",path:"/middleware/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7abe58c4").then(t)}},{path:"/middleware/index.html",redirect:"/middleware/"},{path:"/00.ç®å½é¡µ/04.ä¸­é´ä»¶.html",redirect:"/middleware/"},{name:"v-10f5d0e5",path:"/basic/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-10f5d0e5").then(t)}},{path:"/basic/index.html",redirect:"/basic/"},{path:"/00.ç®å½é¡µ/02.è®¡ç®æºåºç¡.html",redirect:"/basic/"},{name:"v-a612ff08",path:"/database/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a612ff08").then(t)}},{path:"/database/index.html",redirect:"/database/"},{path:"/00.ç®å½é¡µ/03.æ°æ®åº.html",redirect:"/database/"},{name:"v-8bf153e4",path:"/pages/a030ff/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-8bf153e4").then(t)}},{path:"/pages/a030ff/index.html",redirect:"/pages/a030ff/"},{path:"/01.Javaç¸å³/10.åºç¡/001.Java å¼å¸¸æåªäºç±»åï¼.html",redirect:"/pages/a030ff/"},{name:"v-0734374b",path:"/pages/d1c564/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0734374b").then(t)}},{path:"/pages/d1c564/index.html",redirect:"/pages/d1c564/"},{path:"/01.Javaç¸å³/10.åºç¡/010.HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼.html",redirect:"/pages/d1c564/"},{name:"v-57012c44",path:"/pages/0d22ad/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-57012c44").then(t)}},{path:"/pages/0d22ad/index.html",redirect:"/pages/0d22ad/"},{path:"/01.Javaç¸å³/10.åºç¡/030.ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼.html",redirect:"/pages/0d22ad/"},{name:"v-4e1fd39c",path:"/pages/826c8b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-4e1fd39c").then(t)}},{path:"/pages/826c8b/index.html",redirect:"/pages/826c8b/"},{path:"/01.Javaç¸å³/10.åºç¡/020.Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«.html",redirect:"/pages/826c8b/"},{name:"v-57b2551a",path:"/pages/305919/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-57b2551a").then(t)}},{path:"/pages/305919/index.html",redirect:"/pages/305919/"},{path:"/01.Javaç¸å³/10.åºç¡/060.ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦.html",redirect:"/pages/305919/"},{name:"v-d8a2f15c",path:"/pages/06b28a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-d8a2f15c").then(t)}},{path:"/pages/06b28a/index.html",redirect:"/pages/06b28a/"},{path:"/01.Javaç¸å³/10.åºç¡/040.== å equals() çåºå«ï¼.html",redirect:"/pages/06b28a/"},{name:"v-7f48b402",path:"/pages/211d8c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7f48b402").then(t)}},{path:"/pages/211d8c/index.html",redirect:"/pages/211d8c/"},{path:"/01.Javaç¸å³/10.åºç¡/050.Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼.html",redirect:"/pages/211d8c/"},{name:"v-d4e20148",path:"/pages/276740/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-d4e20148").then(t)}},{path:"/pages/276740/index.html",redirect:"/pages/276740/"},{path:"/01.Javaç¸å³/10.åºç¡/070.ç®è¿° BIO, NIO, AIO çåºå«.html",redirect:"/pages/276740/"},{name:"v-d32e07ea",path:"/pages/56314c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-d32e07ea").then(t)}},{path:"/pages/56314c/index.html",redirect:"/pages/56314c/"},{path:"/01.Javaç¸å³/10.åºç¡/080.å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼.html",redirect:"/pages/56314c/"},{name:"v-85b06162",path:"/pages/fae5d5/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-85b06162").then(t)}},{path:"/pages/fae5d5/index.html",redirect:"/pages/fae5d5/"},{path:"/01.Javaç¸å³/10.åºç¡/090.ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯.html",redirect:"/pages/fae5d5/"},{name:"v-7665e30e",path:"/pages/38bcaf/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7665e30e").then(t)}},{path:"/pages/38bcaf/index.html",redirect:"/pages/38bcaf/"},{path:"/01.Javaç¸å³/10.åºç¡/110.ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼.html",redirect:"/pages/38bcaf/"},{name:"v-4c273a66",path:"/pages/33c5d6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-4c273a66").then(t)}},{path:"/pages/33c5d6/index.html",redirect:"/pages/33c5d6/"},{path:"/01.Javaç¸å³/10.åºç¡/100.Java ç±»çå è½½æµç¨æ¯ææ ·çï¼.html",redirect:"/pages/33c5d6/"},{name:"v-6ff6e2f0",path:"/pages/d69890/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6ff6e2f0").then(t)}},{path:"/pages/d69890/index.html",redirect:"/pages/d69890/"},{path:"/01.Javaç¸å³/10.åºç¡/120.Java ä¸­ sleep() ä¸ wait() çåºå« .html",redirect:"/pages/d69890/"},{name:"v-620ebadc",path:"/pages/2b00a3/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-620ebadc").then(t)}},{path:"/pages/2b00a3/index.html",redirect:"/pages/2b00a3/"},{path:"/01.Javaç¸å³/10.åºç¡/130.ç®è¿° Java ä¸­ final å³é®å­çä½ç¨.html",redirect:"/pages/2b00a3/"},{name:"v-5290507e",path:"/pages/73113f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5290507e").then(t)}},{path:"/pages/73113f/index.html",redirect:"/pages/73113f/"},{path:"/01.Javaç¸å³/10.åºç¡/140.String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼.html",redirect:"/pages/73113f/"},{name:"v-6f5c6512",path:"/pages/115772/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6f5c6512").then(t)}},{path:"/pages/115772/index.html",redirect:"/pages/115772/"},{path:"/01.Javaç¸å³/10.åºç¡/150.Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼.html",redirect:"/pages/115772/"},{name:"v-75844e97",path:"/pages/37dba4/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-75844e97").then(t)}},{path:"/pages/37dba4/index.html",redirect:"/pages/37dba4/"},{path:"/01.Javaç¸å³/10.åºç¡/160.ç®è¿°å¨æä»£çä¸éæä»£ç .html",redirect:"/pages/37dba4/"},{name:"v-1218fa85",path:"/pages/e9ce4e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1218fa85").then(t)}},{path:"/pages/e9ce4e/index.html",redirect:"/pages/e9ce4e/"},{path:"/01.Javaç¸å³/10.åºç¡/170.é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼.html",redirect:"/pages/e9ce4e/"},{name:"v-b21bbc4c",path:"/pages/75552c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-b21bbc4c").then(t)}},{path:"/pages/75552c/index.html",redirect:"/pages/75552c/"},{path:"/01.Javaç¸å³/10.åºç¡/180.ç®è¿° HashSet å®ç°åç.html",redirect:"/pages/75552c/"},{name:"v-45fc1217",path:"/pages/0da4b0/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-45fc1217").then(t)}},{path:"/pages/0da4b0/index.html",redirect:"/pages/0da4b0/"},{path:"/01.Javaç¸å³/20.å¹¶å/001.çº¿ç¨æ± æ¯å¦ä½å®ç°çï¼.html",redirect:"/pages/0da4b0/"},{name:"v-5390e3d4",path:"/pages/3356c6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5390e3d4").then(t)}},{path:"/pages/3356c6/index.html",redirect:"/pages/3356c6/"},{path:"/01.Javaç¸å³/20.å¹¶å/020.ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼.html",redirect:"/pages/3356c6/"},{name:"v-352f36cc",path:"/pages/d5d161/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-352f36cc").then(t)}},{path:"/pages/d5d161/index.html",redirect:"/pages/d5d161/"},{path:"/01.Javaç¸å³/20.å¹¶å/040.Synchronized å³é®å­åºå±æ¯å¦ä½å®ç°çï¼.html",redirect:"/pages/d5d161/"},{name:"v-4927c049",path:"/pages/9b59d1/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-4927c049").then(t)}},{path:"/pages/9b59d1/index.html",redirect:"/pages/9b59d1/"},{path:"/01.Javaç¸å³/20.å¹¶å/050.éå¥éæ¯å¦ä½å®ç°çï¼.html",redirect:"/pages/9b59d1/"},{name:"v-1065f7be",path:"/pages/ff0616/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1065f7be").then(t)}},{path:"/pages/ff0616/index.html",redirect:"/pages/ff0616/"},{path:"/01.Javaç¸å³/20.å¹¶å/070.ç®è¿° Java éåçº§çæºå¶.html",redirect:"/pages/ff0616/"},{name:"v-f5bcd180",path:"/pages/383264/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f5bcd180").then(t)}},{path:"/pages/383264/index.html",redirect:"/pages/383264/"},{path:"/01.Javaç¸å³/20.å¹¶å/060.volatile å³é®å­è§£å³äºä»ä¹é®é¢ï¼å®çå®ç°åçæ¯ä»ä¹ï¼.html",redirect:"/pages/383264/"},{name:"v-35324a50",path:"/pages/97245f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-35324a50").then(t)}},{path:"/pages/97245f/index.html",redirect:"/pages/97245f/"},{path:"/01.Javaç¸å³/20.å¹¶å/030.ç®è¿° Synchronizedï¼Volatileï¼å¯éå¥éçä¸åä½¿ç¨åºæ¯åä¼ç¼ºç¹.html",redirect:"/pages/97245f/"},{name:"v-134f28dc",path:"/pages/fd6a59/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-134f28dc").then(t)}},{path:"/pages/fd6a59/index.html",redirect:"/pages/fd6a59/"},{path:"/01.Javaç¸å³/20.å¹¶å/090.ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼.html",redirect:"/pages/fd6a59/"},{name:"v-03e420c4",path:"/pages/52483b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-03e420c4").then(t)}},{path:"/pages/52483b/index.html",redirect:"/pages/52483b/"},{path:"/01.Javaç¸å³/20.å¹¶å/100.Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼.html",redirect:"/pages/52483b/"},{name:"v-2dbdb772",path:"/pages/52a687/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2dbdb772").then(t)}},{path:"/pages/52a687/index.html",redirect:"/pages/52a687/"},{path:"/01.Javaç¸å³/20.å¹¶å/080.ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯.html",redirect:"/pages/52a687/"},{name:"v-9baaad8e",path:"/pages/13856f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-9baaad8e").then(t)}},{path:"/pages/13856f/index.html",redirect:"/pages/13856f/"},{path:"/01.Javaç¸å³/20.å¹¶å/120.ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼.html",redirect:"/pages/13856f/"},{name:"v-625fbeda",path:"/pages/c1f760/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-625fbeda").then(t)}},{path:"/pages/c1f760/index.html",redirect:"/pages/c1f760/"},{path:"/01.Javaç¸å³/20.å¹¶å/110.Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼.html",redirect:"/pages/c1f760/"},{name:"v-7b2a2ed4",path:"/pages/ce292c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7b2a2ed4").then(t)}},{path:"/pages/ce292c/index.html",redirect:"/pages/ce292c/"},{path:"/01.Javaç¸å³/20.å¹¶å/115.æåæ­»é.html",redirect:"/pages/ce292c/"},{name:"v-75c00225",path:"/pages/a6c84e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-75c00225").then(t)}},{path:"/pages/a6c84e/index.html",redirect:"/pages/a6c84e/"},{path:"/01.Javaç¸å³/20.å¹¶å/130.Java çº¿ç¨æåªäºå¸¸ç¨æ¹æ³ï¼.html",redirect:"/pages/a6c84e/"},{name:"v-083aef82",path:"/pages/2b8c6e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-083aef82").then(t)}},{path:"/pages/2b8c6e/index.html",redirect:"/pages/2b8c6e/"},{path:"/01.Javaç¸å³/20.å¹¶å/140.æåçäº§èæ¶è´¹èæ¨¡å.html",redirect:"/pages/2b8c6e/"},{name:"v-f406b4e6",path:"/pages/b3e720/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f406b4e6").then(t)}},{path:"/pages/b3e720/index.html",redirect:"/pages/b3e720/"},{path:"/01.Javaç¸å³/20.å¹¶å/150.ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼.html",redirect:"/pages/b3e720/"},{name:"v-af821fc8",path:"/pages/9b26e8/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-af821fc8").then(t)}},{path:"/pages/9b26e8/index.html",redirect:"/pages/9b26e8/"},{path:"/01.Javaç¸å³/30.JVM/010.å¸¸è§ç GC åæ¶ç®æ³æåªäºï¼.html",redirect:"/pages/9b26e8/"},{name:"v-7cd97c82",path:"/pages/948850/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7cd97c82").then(t)}},{path:"/pages/948850/index.html",redirect:"/pages/948850/"},{path:"/01.Javaç¸å³/30.JVM/001.Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼.html",redirect:"/pages/948850/"},{name:"v-5474bec0",path:"/pages/07a030/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5474bec0").then(t)}},{path:"/pages/07a030/index.html",redirect:"/pages/07a030/"},{path:"/01.Javaç¸å³/30.JVM/020.Java ä¸­å¦ä½è¿è¡ GC è°ä¼ï¼.html",redirect:"/pages/07a030/"},{name:"v-0970cd54",path:"/pages/c8e6cb/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0970cd54").then(t)}},{path:"/pages/c8e6cb/index.html",redirect:"/pages/c8e6cb/"},{path:"/01.Javaç¸å³/30.JVM/030.JMM ä¸­åå­æ¨¡åæ¯ææ ·çï¼ä»ä¹æ¯æä»¤åºåéæåºï¼.html",redirect:"/pages/c8e6cb/"},{name:"v-2de19204",path:"/pages/da65e7/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2de19204").then(t)}},{path:"/pages/da65e7/index.html",redirect:"/pages/da65e7/"},{path:"/01.Javaç¸å³/30.JVM/040.JVM åå­æ¯å¦ä½å¯¹åºå°æä½ç³»ç»åå­çï¼.html",redirect:"/pages/da65e7/"},{name:"v-37fcb440",path:"/pages/d730dd/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-37fcb440").then(t)}},{path:"/pages/d730dd/index.html",redirect:"/pages/d730dd/"},{path:"/01.Javaç¸å³/30.JVM/050.JVM æ¯æä¹å»è°ä¼çï¼äºè§£åªäºåæ°åæä»¤ï¼.html",redirect:"/pages/d730dd/"},{name:"v-15fba8f1",path:"/pages/3ab5f5/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-15fba8f1").then(t)}},{path:"/pages/3ab5f5/index.html",redirect:"/pages/3ab5f5/"},{path:"/01.Javaç¸å³/30.JVM/060.ä»ä¹æ¯åå­æ³æ¼ï¼æä¹ç¡®å®åå­æ³æ¼ï¼.html",redirect:"/pages/3ab5f5/"},{name:"v-28c1d6d9",path:"/pages/be69af/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-28c1d6d9").then(t)}},{path:"/pages/be69af/index.html",redirect:"/pages/be69af/"},{path:"/01.Javaç¸å³/30.JVM/070.ç®è¿° CMS ä¸ G1 æºå¶çåºå«.html",redirect:"/pages/be69af/"},{name:"v-ba94c306",path:"/pages/b37ad7/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-ba94c306").then(t)}},{path:"/pages/b37ad7/index.html",redirect:"/pages/b37ad7/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/002.å®ç°åä¾è®¾è®¡æ¨¡å¼ï¼ææ±ï¼é¥¿æ±ï¼.html",redirect:"/pages/b37ad7/"},{name:"v-88b087a6",path:"/pages/3d768c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-88b087a6").then(t)}},{path:"/pages/3d768c/index.html",redirect:"/pages/3d768c/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/003.ä»ä¹æ¯è®¾è®¡æ¨¡å¼ .html",redirect:"/pages/3d768c/"},{name:"v-2d6ed001",path:"/pages/f15489/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2d6ed001").then(t)}},{path:"/pages/f15489/index.html",redirect:"/pages/f15489/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/004.å·¥åæ¨¡å¼ä½¿ç¨åºæ¯ è½ä¸¾ä¸ªä¾å­å.html",redirect:"/pages/f15489/"},{name:"v-22a9eaef",path:"/pages/47a4e3/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-22a9eaef").then(t)}},{path:"/pages/47a4e3/index.html",redirect:"/pages/47a4e3/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/005.è£é¥°èæ¨¡å¼.html",redirect:"/pages/47a4e3/"},{name:"v-31509c80",path:"/pages/827fc4/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-31509c80").then(t)}},{path:"/pages/827fc4/index.html",redirect:"/pages/827fc4/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/010.ééå¨æ¨¡å¼.html",redirect:"/pages/827fc4/"},{name:"v-0564ba27",path:"/pages/dd3a6f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0564ba27").then(t)}},{path:"/pages/dd3a6f/index.html",redirect:"/pages/dd3a6f/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/020.ä»£çæ¨¡å¼.html",redirect:"/pages/dd3a6f/"},{name:"v-34f8aaa2",path:"/pages/d3ff35/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-34f8aaa2").then(t)}},{path:"/pages/d3ff35/index.html",redirect:"/pages/d3ff35/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/030.è´£ä»»é¾æ¨¡å¼.html",redirect:"/pages/d3ff35/"},{name:"v-28deb9da",path:"/pages/43b656/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-28deb9da").then(t)}},{path:"/pages/43b656/index.html",redirect:"/pages/43b656/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/040.æ¨¡æ¿æ¹æ³æ¨¡å¼.html",redirect:"/pages/43b656/"},{name:"v-5b0157cf",path:"/pages/78c7aa/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5b0157cf").then(t)}},{path:"/pages/78c7aa/index.html",redirect:"/pages/78c7aa/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/050.ç­ç¥æ¨¡å¼.html",redirect:"/pages/78c7aa/"},{name:"v-64f1031c",path:"/pages/cbff3c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-64f1031c").then(t)}},{path:"/pages/cbff3c/index.html",redirect:"/pages/cbff3c/"},{path:"/01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/060.è§å¯æ¨¡å¼.html",redirect:"/pages/cbff3c/"},{name:"v-0a1d1fb4",path:"/pages/f33310/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0a1d1fb4").then(t)}},{path:"/pages/f33310/index.html",redirect:"/pages/f33310/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/010.ç®è¿°å¸¸è§ç HTTP ç¶æç çå«ä¹.html",redirect:"/pages/f33310/"},{name:"v-470b2fce",path:"/pages/e00207/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-470b2fce").then(t)}},{path:"/pages/e00207/index.html",redirect:"/pages/e00207/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/01.ç®è¿° TCP ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æ.html",redirect:"/pages/e00207/"},{name:"v-6602e3da",path:"/pages/ab48ba/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6602e3da").then(t)}},{path:"/pages/ab48ba/index.html",redirect:"/pages/ab48ba/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/020.ä»è¾å¥ URL å°å±ç°é¡µé¢çå¨è¿ç¨.html",redirect:"/pages/ab48ba/"},{name:"v-12717373",path:"/pages/a0e400/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-12717373").then(t)}},{path:"/pages/a0e400/index.html",redirect:"/pages/a0e400/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/030.HTTP ä¸­ GET å POST åºå«.html",redirect:"/pages/a0e400/"},{name:"v-5047727f",path:"/pages/5fcc49/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5047727f").then(t)}},{path:"/pages/5fcc49/index.html",redirect:"/pages/5fcc49/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/040.TCP æä¹ä¿è¯å¯é ä¼ è¾.html",redirect:"/pages/5fcc49/"},{name:"v-feb79e02",path:"/pages/2822ac/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-feb79e02").then(t)}},{path:"/pages/2822ac/index.html",redirect:"/pages/2822ac/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/050.ä»ä¹æ¯ TCP ç²ååæåï¼.html",redirect:"/pages/2822ac/"},{name:"v-3890e0b4",path:"/pages/12c0cc/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-3890e0b4").then(t)}},{path:"/pages/12c0cc/index.html",redirect:"/pages/12c0cc/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/060.ç®è¿° HTTPS çå å¯ä¸è®¤è¯è¿ç¨.html",redirect:"/pages/12c0cc/"},{name:"v-c0c0e5c8",path:"/pages/cc4b24/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c0c0e5c8").then(t)}},{path:"/pages/cc4b24/index.html",redirect:"/pages/cc4b24/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/080.TCP ä¸ UDP å¨ç½ç»åè®®ä¸­çåªä¸å±ï¼ä»ä»¬ä¹é´æä»ä¹åºå«ï¼.html",redirect:"/pages/cc4b24/"},{name:"v-aa8887a4",path:"/pages/a656a9/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-aa8887a4").then(t)}},{path:"/pages/a656a9/index.html",redirect:"/pages/a656a9/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/090.å¦ä½è§£å³ TCP ä¼ è¾ä¸¢åé®é¢ï¼.html",redirect:"/pages/a656a9/"},{name:"v-eb417bbe",path:"/pages/057092/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-eb417bbe").then(t)}},{path:"/pages/057092/index.html",redirect:"/pages/057092/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/070.ç®è¿°å¯¹ç§°ä¸éå¯¹ç§°å å¯çæ¦å¿µ.html",redirect:"/pages/057092/"},{name:"v-f886ba80",path:"/pages/dda19e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f886ba80").then(t)}},{path:"/pages/dda19e/index.html",redirect:"/pages/dda19e/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/100.TCP é¿è¿æ¥åç­è¿æ¥æé£ä¹ä¸åçä½¿ç¨åºæ¯ï¼.html",redirect:"/pages/dda19e/"},{name:"v-75f6731c",path:"/pages/9ccc31/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-75f6731c").then(t)}},{path:"/pages/9ccc31/index.html",redirect:"/pages/9ccc31/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/130.TCP ä¸­å¸¸è§çæ¥å¡æ§å¶ç®æ³æåªäºï¼.html",redirect:"/pages/9ccc31/"},{name:"v-f8f98912",path:"/pages/f50b70/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f8f98912").then(t)}},{path:"/pages/f50b70/index.html",redirect:"/pages/f50b70/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/140.ç®è¿° HTTP 1.0ï¼1.1ï¼2.0 çä¸»è¦åºå« .html",redirect:"/pages/f50b70/"},{name:"v-9aa2c788",path:"/pages/253334/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-9aa2c788").then(t)}},{path:"/pages/253334/index.html",redirect:"/pages/253334/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/120.HTTP ä¸ HTTPS æåªäºåºå«ï¼.html",redirect:"/pages/253334/"},{name:"v-df71a6e0",path:"/pages/212438/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-df71a6e0").then(t)}},{path:"/pages/212438/index.html",redirect:"/pages/212438/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/110.TCP ç keepalive äºè§£åï¼è¯´ä¸è¯´å®å HTTP ç keepalive çåºå«ï¼.html",redirect:"/pages/212438/"},{name:"v-63453344",path:"/pages/e57cfe/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-63453344").then(t)}},{path:"/pages/e57cfe/index.html",redirect:"/pages/e57cfe/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/150.ä»ç³»ç»å±é¢ä¸ï¼UDPå¦ä½ä¿è¯å°½éå¯é ï¼.html",redirect:"/pages/e57cfe/"},{name:"v-93120d3a",path:"/pages/15d37a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-93120d3a").then(t)}},{path:"/pages/15d37a/index.html",redirect:"/pages/15d37a/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/160.TCP æ¥ææ¶åºç°å¤§é CLOSE_WAIT æ TIME_WAIT æä¹è§£å³ï¼.html",redirect:"/pages/15d37a/"},{name:"v-3e902cd4",path:"/pages/dae451/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-3e902cd4").then(t)}},{path:"/pages/dae451/index.html",redirect:"/pages/dae451/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/170.ç®è¿° TCP æ»å¨çªå£.html",redirect:"/pages/dae451/"},{name:"v-74475c54",path:"/pages/34d064/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-74475c54").then(t)}},{path:"/pages/34d064/index.html",redirect:"/pages/34d064/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/180.ç®è¿° JWT çåçåæ ¡éªæºå¶.html",redirect:"/pages/34d064/"},{name:"v-730f9a6a",path:"/pages/6a2e50/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-730f9a6a").then(t)}},{path:"/pages/6a2e50/index.html",redirect:"/pages/6a2e50/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/200.ç®è¿° iPv4 å iPv6 çåºå«.html",redirect:"/pages/6a2e50/"},{name:"v-52edac80",path:"/pages/a219df/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-52edac80").then(t)}},{path:"/pages/a219df/index.html",redirect:"/pages/a219df/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/171. ç®è¿°TCPéä¼ æºå¶.html",redirect:"/pages/a219df/"},{name:"v-0e7ed85a",path:"/pages/68d6c8/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0e7ed85a").then(t)}},{path:"/pages/68d6c8/index.html",redirect:"/pages/68d6c8/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/190.ä¸ºä»ä¹éè¦åºååï¼æä»ä¹åºååçæ¹å¼ï¼.html",redirect:"/pages/68d6c8/"},{name:"v-15fe5424",path:"/pages/d0c6d3/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-15fe5424").then(t)}},{path:"/pages/d0c6d3/index.html",redirect:"/pages/d0c6d3/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/210.TCP ä¸­ SYN æ»å»æ¯ä»ä¹ï¼å¦ä½é²æ­¢ï¼.html",redirect:"/pages/d0c6d3/"},{name:"v-01df2b5d",path:"/pages/665162/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-01df2b5d").then(t)}},{path:"/pages/665162/index.html",redirect:"/pages/665162/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/230.ä»ä¹æ¯ ARP åè®®ï¼ç®è¿°å¶ä½¿ç¨åºæ¯.html",redirect:"/pages/665162/"},{name:"v-7370facf",path:"/pages/eadd05/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7370facf").then(t)}},{path:"/pages/eadd05/index.html",redirect:"/pages/eadd05/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/240.ä»ä¹æ¯è·¨åï¼ä»ä¹æåµä¸ä¼åçè·¨åè¯·æ±ï¼.html",redirect:"/pages/eadd05/"},{name:"v-7fc8ca51",path:"/pages/056828/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7fc8ca51").then(t)}},{path:"/pages/056828/index.html",redirect:"/pages/056828/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/220.ç®è¿° DDOS æ»å»åçï¼å¦ä½é²èå®ï¼.html",redirect:"/pages/056828/"},{name:"v-15ca313a",path:"/pages/980cc7/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-15ca313a").then(t)}},{path:"/pages/980cc7/index.html",redirect:"/pages/980cc7/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/250.Cookie å Session çå³ç³»ååºå«æ¯ä»ä¹ï¼.html",redirect:"/pages/980cc7/"},{name:"v-7707a260",path:"/pages/172129/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7707a260").then(t)}},{path:"/pages/172129/index.html",redirect:"/pages/172129/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/260.ç®è¿° WebSocket æ¯å¦ä½è¿è¡ä¼ è¾ç.html",redirect:"/pages/172129/"},{name:"v-a9abf6a0",path:"/pages/017113/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a9abf6a0").then(t)}},{path:"/pages/017113/index.html",redirect:"/pages/017113/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/270.DNS æ¥è¯¢æå¡å¨çåºæ¬æµç¨æ¯ä»ä¹ï¼DNS å«ææ¯ä»ä¹ï¼.html",redirect:"/pages/017113/"},{name:"v-693fb010",path:"/pages/c08bb6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-693fb010").then(t)}},{path:"/pages/c08bb6/index.html",redirect:"/pages/c08bb6/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/280.RestFul æ¯ä»ä¹ï¼RestFul è¯·æ±ç URL æä»ä¹ç¹ç¹ï¼.html",redirect:"/pages/c08bb6/"},{name:"v-51f24219",path:"/pages/dfb780/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-51f24219").then(t)}},{path:"/pages/dfb780/index.html",redirect:"/pages/dfb780/"},{path:"/02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/290.ç®è¿° HTTP æ¥æå¤´é¨çç»æç»æ.html",redirect:"/pages/dfb780/"},{name:"v-fe1405b0",path:"/pages/9e6232/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-fe1405b0").then(t)}},{path:"/pages/9e6232/index.html",redirect:"/pages/9e6232/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/010.ç®è¿°èªæéä¸äºæ¥éçä½¿ç¨åºæ¯.html",redirect:"/pages/9e6232/"},{name:"v-18f7a69e",path:"/pages/e5f2d7/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-18f7a69e").then(t)}},{path:"/pages/e5f2d7/index.html",redirect:"/pages/e5f2d7/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/01.è¿ç¨é´æåªäºéä¿¡æ¹å¼ï¼.html",redirect:"/pages/e5f2d7/"},{name:"v-a0ab5810",path:"/pages/c2fd8a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a0ab5810").then(t)}},{path:"/pages/c2fd8a/index.html",redirect:"/pages/c2fd8a/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/020.è¿ç¨åçº¿ç¨ä¹é´æä»ä¹åºå«ï¼.html",redirect:"/pages/c2fd8a/"},{name:"v-5a37154c",path:"/pages/68ea00/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5a37154c").then(t)}},{path:"/pages/68ea00/index.html",redirect:"/pages/68ea00/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/070.ç®è¿° select, poll, epoll çä½¿ç¨åºæ¯ä»¥ååºå«.html",redirect:"/pages/68ea00/"},{name:"v-262f2c87",path:"/pages/165ea8/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-262f2c87").then(t)}},{path:"/pages/165ea8/index.html",redirect:"/pages/165ea8/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/060.è¿ç¨æå¤å°ç§ç¶æï¼.html",redirect:"/pages/165ea8/"},{name:"v-05845816",path:"/pages/b043a6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-05845816").then(t)}},{path:"/pages/b043a6/index.html",redirect:"/pages/b043a6/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/080.Linux ä¸å¦ä½ææ¥ CPU ä»¥å åå­å ç¨è¿å¤ï¼.html",redirect:"/pages/b043a6/"},{name:"v-32c73af0",path:"/pages/198887/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-32c73af0").then(t)}},{path:"/pages/198887/index.html",redirect:"/pages/198887/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/030.ç®è¿°å ä¸ªå¸¸ç¨ç Linux å½ä»¤ä»¥åä»ä»¬çåè½.html",redirect:"/pages/198887/"},{name:"v-303058be",path:"/pages/8e880a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-303058be").then(t)}},{path:"/pages/8e880a/index.html",redirect:"/pages/8e880a/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/090.è¿ç¨éä¿¡ä¸­çç®¡éå®ç°åçæ¯ä»ä¹ï¼.html",redirect:"/pages/8e880a/"},{name:"v-1f69ea23",path:"/pages/326cf9/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1f69ea23").then(t)}},{path:"/pages/326cf9/index.html",redirect:"/pages/326cf9/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/100.Linux ä¸å¦ä½æ¥ç CPU è·è½½ï¼æ­£å¨è¿è¡çè¿ç¨ï¼æä¸ªç«¯å£å¯¹åºçè¿ç¨ï¼.html",redirect:"/pages/326cf9/"},{name:"v-f6bafd34",path:"/pages/3653a2/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f6bafd34").then(t)}},{path:"/pages/3653a2/index.html",redirect:"/pages/3653a2/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/110.å¦ä½è°è¯æå¡å¨åå­å ç¨è¿é«çé®é¢ï¼.html",redirect:"/pages/3653a2/"},{name:"v-129dffb8",path:"/pages/f6e4d2/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-129dffb8").then(t)}},{path:"/pages/f6e4d2/index.html",redirect:"/pages/f6e4d2/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/120.Linux å¦ä½æ¥çå®æ¶çæ»å¨æ¥å¿ï¼.html",redirect:"/pages/f6e4d2/"},{name:"v-c875c5a4",path:"/pages/773d64/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c875c5a4").then(t)}},{path:"/pages/773d64/index.html",redirect:"/pages/773d64/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/140.ä¸ºä»ä¹è¿ç¨åæ¢æ¢ï¼çº¿ç¨åæ¢å¿«ï¼.html",redirect:"/pages/773d64/"},{name:"v-7abb1115",path:"/pages/b43547/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7abb1115").then(t)}},{path:"/pages/b43547/index.html",redirect:"/pages/b43547/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/130.ç®è¿° Linux é¶æ·è´çåç.html",redirect:"/pages/b43547/"},{name:"v-1a49912a",path:"/pages/93b870/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1a49912a").then(t)}},{path:"/pages/93b870/index.html",redirect:"/pages/93b870/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/160.ç®è¿° Linux èæåå­çé¡µé¢ç½®æ¢ç®æ³.html",redirect:"/pages/93b870/"},{name:"v-63719191",path:"/pages/c64d20/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-63719191").then(t)}},{path:"/pages/c64d20/index.html",redirect:"/pages/c64d20/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/150.ç®è¿°åå»ºè¿ç¨çæµç¨.html",redirect:"/pages/c64d20/"},{name:"v-85af5b9e",path:"/pages/36fd29/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-85af5b9e").then(t)}},{path:"/pages/36fd29/index.html",redirect:"/pages/36fd29/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/170.ç®è¿° Linux è¿ç¨è°åº¦çç®æ³.html",redirect:"/pages/36fd29/"},{name:"v-1ea2064a",path:"/pages/4c2d8e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1ea2064a").then(t)}},{path:"/pages/4c2d8e/index.html",redirect:"/pages/4c2d8e/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/190.Linux ä¸å¦ä½æ¥çç«¯å£è¢«åªä¸ªè¿ç¨å ç¨ï¼.html",redirect:"/pages/4c2d8e/"},{name:"v-8c3da672",path:"/pages/b84950/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-8c3da672").then(t)}},{path:"/pages/b84950/index.html",redirect:"/pages/b84950/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/180.ä»ä¹æ¶åä¼ç±ç¨æ·æé·å¥åæ ¸æï¼.html",redirect:"/pages/b84950/"},{name:"v-db80e4da",path:"/pages/3bab8c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-db80e4da").then(t)}},{path:"/pages/3bab8c/index.html",redirect:"/pages/3bab8c/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/200.Linux ä¸­èæåå­åç©çåå­æä»ä¹åºå«ï¼æä»ä¹ä¼ç¹ï¼.html",redirect:"/pages/3bab8c/"},{name:"v-e048e838",path:"/pages/655f8f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-e048e838").then(t)}},{path:"/pages/655f8f/index.html",redirect:"/pages/655f8f/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/210.ç®è¿° traceroute å½ä»¤çåç.html",redirect:"/pages/655f8f/"},{name:"v-d41ba7ec",path:"/pages/782c23/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-d41ba7ec").then(t)}},{path:"/pages/782c23/index.html",redirect:"/pages/782c23/"},{path:"/02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/220.ç®è¿°IOæ¨¡å.html",redirect:"/pages/782c23/"},{name:"v-0c4b3c8a",path:"/pages/a25c3a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0c4b3c8a").then(t)}},{path:"/pages/a25c3a/index.html",redirect:"/pages/a25c3a/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/01.æ°ç».html",redirect:"/pages/a25c3a/"},{name:"v-a380136c",path:"/pages/c29bff/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a380136c").then(t)}},{path:"/pages/c29bff/index.html",redirect:"/pages/c29bff/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/30.æ .html",redirect:"/pages/c29bff/"},{name:"v-e66c56a0",path:"/pages/308e3b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-e66c56a0").then(t)}},{path:"/pages/308e3b/index.html",redirect:"/pages/308e3b/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/20.éå.html",redirect:"/pages/308e3b/"},{name:"v-7193df75",path:"/pages/f376bd/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7193df75").then(t)}},{path:"/pages/f376bd/index.html",redirect:"/pages/f376bd/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/02.é¾è¡¨.html",redirect:"/pages/f376bd/"},{name:"v-8228d7f2",path:"/pages/83330c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-8228d7f2").then(t)}},{path:"/pages/83330c/index.html",redirect:"/pages/83330c/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/40.å¾.html",redirect:"/pages/83330c/"},{name:"v-774fbc7c",path:"/pages/92288a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-774fbc7c").then(t)}},{path:"/pages/92288a/index.html",redirect:"/pages/92288a/"},{path:"/02.è®¡ç®æºåºç¡/40.ç®æ³/01.éå½.html",redirect:"/pages/92288a/"},{name:"v-2680fed9",path:"/pages/f27af6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2680fed9").then(t)}},{path:"/pages/f27af6/index.html",redirect:"/pages/f27af6/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/10.æ .html",redirect:"/pages/f27af6/"},{name:"v-e8b2cf00",path:"/pages/6db356/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-e8b2cf00").then(t)}},{path:"/pages/6db356/index.html",redirect:"/pages/6db356/"},{path:"/02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/50å .html",redirect:"/pages/6db356/"},{name:"v-016a9bfe",path:"/pages/fd9be6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-016a9bfe").then(t)}},{path:"/pages/fd9be6/index.html",redirect:"/pages/fd9be6/"},{path:"/02.è®¡ç®æºåºç¡/40.ç®æ³/10.æ¶é´å¤æåº¦.html",redirect:"/pages/fd9be6/"},{name:"v-57b9b0cf",path:"/pages/3205b9/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-57b9b0cf").then(t)}},{path:"/pages/3205b9/index.html",redirect:"/pages/3205b9/"},{path:"/02.è®¡ç®æºåºç¡/40.ç®æ³/20.æåº.html",redirect:"/pages/3205b9/"},{name:"v-13949e6a",path:"/pages/e53094/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-13949e6a").then(t)}},{path:"/pages/e53094/index.html",redirect:"/pages/e53094/"},{path:"/02.è®¡ç®æºåºç¡/40.ç®æ³/30.äºåæ¥æ¾.html",redirect:"/pages/e53094/"},{name:"v-a406533a",path:"/pages/30153a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a406533a").then(t)}},{path:"/pages/30153a/index.html",redirect:"/pages/30153a/"},{path:"/02.è®¡ç®æºåºç¡/40.ç®æ³/40.åæé.html",redirect:"/pages/30153a/"},{name:"v-3bb878ba",path:"/pages/5fd35f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-3bb878ba").then(t)}},{path:"/pages/5fd35f/index.html",redirect:"/pages/5fd35f/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/01.æ°ç»ä¸ç©éµ.html",redirect:"/pages/5fd35f/"},{name:"v-5c643de7",path:"/pages/8d145e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5c643de7").then(t)}},{path:"/pages/8d145e/index.html",redirect:"/pages/8d145e/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/05.æ éåå .html",redirect:"/pages/8d145e/"},{name:"v-24153295",path:"/pages/4b7917/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-24153295").then(t)}},{path:"/pages/4b7917/index.html",redirect:"/pages/4b7917/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/06.åæé.html",redirect:"/pages/4b7917/"},{name:"v-ca8a5a42",path:"/pages/f55bff/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-ca8a5a42").then(t)}},{path:"/pages/f55bff/index.html",redirect:"/pages/f55bff/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/10.é¾è¡¨.html",redirect:"/pages/f55bff/"},{name:"v-ccd01cc4",path:"/pages/873a10/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-ccd01cc4").then(t)}},{path:"/pages/873a10/index.html",redirect:"/pages/873a10/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/15.æ .html",redirect:"/pages/873a10/"},{name:"v-1fc84936",path:"/pages/b54770/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1fc84936").then(t)}},{path:"/pages/b54770/index.html",redirect:"/pages/b54770/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/20.è´ªå¿.html",redirect:"/pages/b54770/"},{name:"v-13bddd54",path:"/pages/87a843/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-13bddd54").then(t)}},{path:"/pages/87a843/index.html",redirect:"/pages/87a843/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/25.åæ²».html",redirect:"/pages/87a843/"},{name:"v-c85da526",path:"/pages/d3dd7b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c85da526").then(t)}},{path:"/pages/d3dd7b/index.html",redirect:"/pages/d3dd7b/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/30.æåº.html",redirect:"/pages/d3dd7b/"},{name:"v-311026d5",path:"/pages/6546a2/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-311026d5").then(t)}},{path:"/pages/6546a2/index.html",redirect:"/pages/6546a2/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/35.å¨æè§å.html",redirect:"/pages/6546a2/"},{name:"v-25d809ae",path:"/pages/9c176f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-25d809ae").then(t)}},{path:"/pages/9c176f/index.html",redirect:"/pages/9c176f/"},{path:"/02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/40.æ°å­¦.html",redirect:"/pages/9c176f/"},{name:"v-f0f711c4",path:"/pages/a5adb0/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f0f711c4").then(t)}},{path:"/pages/a5adb0/index.html",redirect:"/pages/a5adb0/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/006.èç°ç´¢å¼åéèç°ç´¢å¼æä»ä¹åºå«ï¼.html",redirect:"/pages/a5adb0/"},{name:"v-824b776c",path:"/pages/17b014/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-824b776c").then(t)}},{path:"/pages/17b014/index.html",redirect:"/pages/17b014/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/007.ç®è¿° MySQL å¸¸è§ç´¢å¼ç±»åï¼ä»ç»ä¸ä¸è¦çç´¢å¼.html",redirect:"/pages/17b014/"},{name:"v-674454ac",path:"/pages/3a8659/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-674454ac").then(t)}},{path:"/pages/3a8659/index.html",redirect:"/pages/3a8659/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/001.MySQLä¸­ InnoDB å MylSAM çåºå«æ¯ä»ä¹ï¼.html",redirect:"/pages/3a8659/"},{name:"v-6c681639",path:"/pages/bc5538/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6c681639").then(t)}},{path:"/pages/bc5538/index.html",redirect:"/pages/bc5538/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/020.MySQL ä¸ºä»ä¹ä½¿ç¨ B+ æ æ¥ä½ç´¢å¼ï¼å¯¹æ¯ B æ å®çä¼ç¹åç¼ºç¹æ¯ä»ä¹.html",redirect:"/pages/bc5538/"},{name:"v-7e02c4a1",path:"/pages/9f2936/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7e02c4a1").then(t)}},{path:"/pages/9f2936/index.html",redirect:"/pages/9f2936/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/010.ç®è¿°Mysqlçäºå¡éç¦»çº§å«.html",redirect:"/pages/9f2936/"},{name:"v-5b0e09c6",path:"/pages/b17e88/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5b0e09c6").then(t)}},{path:"/pages/b17e88/index.html",redirect:"/pages/b17e88/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/015.è¯´ä¸ä¸Mysqlé.html",redirect:"/pages/b17e88/"},{name:"v-c39c4fe2",path:"/pages/57561d/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c39c4fe2").then(t)}},{path:"/pages/57561d/index.html",redirect:"/pages/57561d/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/030.ç®è¿°ä¹è§éä»¥åæ²è§éçåºå«ä»¥åä½¿ç¨åºæ¯.html",redirect:"/pages/57561d/"},{name:"v-4ecddbec",path:"/pages/7a1f1e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-4ecddbec").then(t)}},{path:"/pages/7a1f1e/index.html",redirect:"/pages/7a1f1e/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/050.ç®è¿°ä»ä¹æ¯æå·¦å¹éåå.html",redirect:"/pages/7a1f1e/"},{name:"v-689e142a",path:"/pages/36672c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-689e142a").then(t)}},{path:"/pages/36672c/index.html",redirect:"/pages/36672c/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/040.ç®è¿°èè¯»åå¹»è¯»çåçåºæ¯ï¼InnoDB æ¯å¦ä½è§£å³å¹»è¯»çï¼.html",redirect:"/pages/36672c/"},{name:"v-505fbe2e",path:"/pages/52773a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-505fbe2e").then(t)}},{path:"/pages/52773a/index.html",redirect:"/pages/52773a/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/060.MySQL èåç´¢å¼åºå±åçæ¯ä»ä¹ï¼.html",redirect:"/pages/52773a/"},{name:"v-0dd47f09",path:"/pages/f4cf50/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0dd47f09").then(t)}},{path:"/pages/f4cf50/index.html",redirect:"/pages/f4cf50/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/070.äº§çæ­»éçå¿è¦æ¡ä»¶æåªäºï¼å¦ä½è§£å³æ­»éï¼.html",redirect:"/pages/f4cf50/"},{name:"v-53bcbb7a",path:"/pages/f2dbbe/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-53bcbb7a").then(t)}},{path:"/pages/f2dbbe/index.html",redirect:"/pages/f2dbbe/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/080.ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³.html",redirect:"/pages/f2dbbe/"},{name:"v-c383b96e",path:"/pages/1ac30e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c383b96e").then(t)}},{path:"/pages/1ac30e/index.html",redirect:"/pages/1ac30e/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/090.ç®è¿° MySQL çä¸»ä»åæ­¥æºå¶ï¼å¦æåæ­¥å¤±è´¥ä¼æä¹æ ·ï¼.html",redirect:"/pages/1ac30e/"},{name:"v-4cef944a",path:"/pages/a8eb47/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-4cef944a").then(t)}},{path:"/pages/a8eb47/index.html",redirect:"/pages/a8eb47/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/100.å¦ä½è®¾è®¡æ°æ®åºåæµæ¹æ¡ï¼.html",redirect:"/pages/a8eb47/"},{name:"v-ed0c93b8",path:"/pages/ac0bb8/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-ed0c93b8").then(t)}},{path:"/pages/ac0bb8/index.html",redirect:"/pages/ac0bb8/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/110.ç®è¿°æ°æ®åºä¸­ä»ä¹æåµä¸è¿è¡ååºï¼ä»ä¹æåµä¸è¿è¡åè¡¨ï¼.html",redirect:"/pages/ac0bb8/"},{name:"v-f3acaa1a",path:"/pages/7bbbf6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f3acaa1a").then(t)}},{path:"/pages/7bbbf6/index.html",redirect:"/pages/7bbbf6/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/130.ç®è¿° undo log å redo log çä½ç¨.html",redirect:"/pages/7bbbf6/"},{name:"v-d6bc240a",path:"/pages/f62359/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-d6bc240a").then(t)}},{path:"/pages/f62359/index.html",redirect:"/pages/f62359/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/120.æ°æ®åºçè¯»ååç¦»çä½ç¨æ¯ä»ä¹ï¼å¦ä½å®ç°ï¼.html",redirect:"/pages/f62359/"},{name:"v-ceed6ba6",path:"/pages/b4338e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-ceed6ba6").then(t)}},{path:"/pages/b4338e/index.html",redirect:"/pages/b4338e/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/140.ä»ä¹æ¯ SQL æ³¨å¥æ»å»ï¼å¦ä½é²æ­¢è¿ç±»æ»å»ï¼.html",redirect:"/pages/b4338e/"},{name:"v-77790024",path:"/pages/429100/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-77790024").then(t)}},{path:"/pages/429100/index.html",redirect:"/pages/429100/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/150.MySQL ä¸­ join ä¸ left join çåºå«æ¯ä»ä¹ï¼.html",redirect:"/pages/429100/"},{name:"v-76f5e79a",path:"/pages/1656d8/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-76f5e79a").then(t)}},{path:"/pages/1656d8/index.html",redirect:"/pages/1656d8/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/160.ç®è¿° MySQL MVCC çå®ç°åç .html",redirect:"/pages/1656d8/"},{name:"v-0a7e6416",path:"/pages/d97948/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0a7e6416").then(t)}},{path:"/pages/d97948/index.html",redirect:"/pages/d97948/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/170.MySQL ä¸­ varchar å char çåºå«æ¯ä»ä¹ï¼.html",redirect:"/pages/d97948/"},{name:"v-6b967a6e",path:"/pages/32696d/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6b967a6e").then(t)}},{path:"/pages/32696d/index.html",redirect:"/pages/32696d/"},{path:"/03.æ°æ®åº/01.MYSQLç¸å³/180.æ¨¡ç³æ¥è¯¢æ¯å¦ä½å®ç°çï¼.html",redirect:"/pages/32696d/"},{name:"v-d804fba0",path:"/pages/d70c1f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-d804fba0").then(t)}},{path:"/pages/d70c1f/index.html",redirect:"/pages/d70c1f/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/001.Redis æå ç§æ°æ®ç»æï¼Zset æ¯å¦ä½å®ç°çï¼.html",redirect:"/pages/d70c1f/"},{name:"v-cb742458",path:"/pages/d66211/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-cb742458").then(t)}},{path:"/pages/d66211/index.html",redirect:"/pages/d66211/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/002.ä¸ºä»ä¹ Redis å¨åçº¿ç¨ä¸è½å¦æ­¤å¿«ï¼.html",redirect:"/pages/d66211/"},{name:"v-3e917471",path:"/pages/34aec2/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-3e917471").then(t)}},{path:"/pages/34aec2/index.html",redirect:"/pages/34aec2/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/005.ç®è¿° Redis å­ç¬¦ä¸²çåºå±ç»æ.html",redirect:"/pages/34aec2/"},{name:"v-2c6b511c",path:"/pages/656f46/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2c6b511c").then(t)}},{path:"/pages/656f46/index.html",redirect:"/pages/656f46/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/030.Redis å¦ä½å®ç°åå¸å¼éï¼.html",redirect:"/pages/656f46/"},{name:"v-3d2fdd6a",path:"/pages/338e30/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-3d2fdd6a").then(t)}},{path:"/pages/338e30/index.html",redirect:"/pages/338e30/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/040.ç®è¿° Redis éç¾¤éç½®ä»¥ååºç¡åç.html",redirect:"/pages/338e30/"},{name:"v-18b427a0",path:"/pages/a42826/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-18b427a0").then(t)}},{path:"/pages/a42826/index.html",redirect:"/pages/a42826/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/050.ç®è¿° Redis ä¸­è·³è¡¨çåºç¨ä»¥åä¼ç¼ºç¹.html",redirect:"/pages/a42826/"},{name:"v-c0bc7b7a",path:"/pages/9326cc/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c0bc7b7a").then(t)}},{path:"/pages/9326cc/index.html",redirect:"/pages/9326cc/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/010.Redisçç¼å­æ·æ±°ç­ç¥æåªäºï¼.html",redirect:"/pages/9326cc/"},{name:"v-7c214d00",path:"/pages/7e708d/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7c214d00").then(t)}},{path:"/pages/7e708d/index.html",redirect:"/pages/7e708d/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/020.ç®è¿° Redis æä¹åä¸­ RDB ä»¥å AOF æ¹æ¡çä¼ç¼ºç¹.html",redirect:"/pages/7e708d/"},{name:"v-c2fe5e1a",path:"/pages/03cd25/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-c2fe5e1a").then(t)}},{path:"/pages/03cd25/index.html",redirect:"/pages/03cd25/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/070.ç®è¿° Redis ä¸­å¦ä½é²æ­¢ç¼å­éªå´©åç¼å­å»ç©¿.html",redirect:"/pages/03cd25/"},{name:"v-35718f4e",path:"/pages/9c28c9/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-35718f4e").then(t)}},{path:"/pages/9c28c9/index.html",redirect:"/pages/9c28c9/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/080.ç®è¿° Redis ççº¿ç¨æ¨¡åä»¥ååºå±æ¶æè®¾è®¡.html",redirect:"/pages/9c28c9/"},{name:"v-6a45f68d",path:"/pages/e2e910/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6a45f68d").then(t)}},{path:"/pages/e2e910/index.html",redirect:"/pages/e2e910/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/060.Redis ä¸­ï¼sentinel å cluster çåºå«åéç¨åºæ¯æ¯ä»ä¹ï¼.html",redirect:"/pages/e2e910/"},{name:"v-57957421",path:"/pages/cc8507/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-57957421").then(t)}},{path:"/pages/cc8507/index.html",redirect:"/pages/cc8507/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/100.ç®è¿° Redis çå¨åµæºå¶.html",redirect:"/pages/cc8507/"},{name:"v-37f158ba",path:"/pages/795c09/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-37f158ba").then(t)}},{path:"/pages/795c09/index.html",redirect:"/pages/795c09/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/110.ç®è¿° Redis å¦ä½å¤çç­ç¹ key è®¿é®.html",redirect:"/pages/795c09/"},{name:"v-02ea33c3",path:"/pages/0d3c6b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-02ea33c3").then(t)}},{path:"/pages/0d3c6b/index.html",redirect:"/pages/0d3c6b/"},{path:"/03.æ°æ®åº/02.REDISç¸å³/120.Redis åºååæåªäºæ¹å¼ï¼.html",redirect:"/pages/0d3c6b/"},{name:"v-be02b3c0",path:"/pages/40f3c9/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-be02b3c0").then(t)}},{path:"/pages/40f3c9/index.html",redirect:"/pages/40f3c9/"},{path:"/04.ä¸­é´ä»¶/10.Netty/001.ä½ çæåªäºIOæ¨¡åï¼.html",redirect:"/pages/40f3c9/"},{name:"v-5acdab4d",path:"/pages/3db019/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5acdab4d").then(t)}},{path:"/pages/3db019/index.html",redirect:"/pages/3db019/"},{path:"/04.ä¸­é´ä»¶/10.Netty/010.TCPç²åæåé®é¢çè§£å³ä¹é.html",redirect:"/pages/3db019/"},{name:"v-073f22cd",path:"/pages/59089d/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-073f22cd").then(t)}},{path:"/pages/59089d/index.html",redirect:"/pages/59089d/"},{path:"/04.ä¸­é´ä»¶/10.Netty/015.Nettyä¸­æåªäºè§£ç å¨ï¼.html",redirect:"/pages/59089d/"},{name:"v-5157927c",path:"/pages/f851b6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5157927c").then(t)}},{path:"/pages/f851b6/index.html",redirect:"/pages/f851b6/"},{path:"/04.ä¸­é´ä»¶/10.Netty/030.ChannelPipelineåChannelHandler.html",redirect:"/pages/f851b6/"},{name:"v-62f3fa3e",path:"/pages/e7aa60/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-62f3fa3e").then(t)}},{path:"/pages/e7aa60/index.html",redirect:"/pages/e7aa60/"},{path:"/04.ä¸­é´ä»¶/10.Netty/040.EventLoopåEventLoopGroup.html",redirect:"/pages/e7aa60/"},{name:"v-bbcf6e5a",path:"/pages/ef17ee/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-bbcf6e5a").then(t)}},{path:"/pages/ef17ee/index.html",redirect:"/pages/ef17ee/"},{path:"/04.ä¸­é´ä»¶/10.Netty/020.ä¸ºä»ä¹Nettyè¦èªå·±åä¸ä¸ªByteBuf.html",redirect:"/pages/ef17ee/"},{name:"v-6b32ada0",path:"/pages/bfdcc8/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6b32ada0").then(t)}},{path:"/pages/bfdcc8/index.html",redirect:"/pages/bfdcc8/"},{path:"/04.ä¸­é´ä»¶/10.Netty/050.Java NIOäºè§£åï¼.html",redirect:"/pages/bfdcc8/"},{name:"v-7c0136cf",path:"/pages/fe7ca2/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7c0136cf").then(t)}},{path:"/pages/fe7ca2/index.html",redirect:"/pages/fe7ca2/"},{path:"/04.ä¸­é´ä»¶/40.Kafka/010.çäº§è.html",redirect:"/pages/fe7ca2/"},{name:"v-0df39df8",path:"/pages/561f34/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0df39df8").then(t)}},{path:"/pages/561f34/index.html",redirect:"/pages/561f34/"},{path:"/04.ä¸­é´ä»¶/40.Kafka/001.Kafkaåå«é£å é¨å.html",redirect:"/pages/561f34/"},{name:"v-04af9e42",path:"/pages/fed167/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-04af9e42").then(t)}},{path:"/pages/fed167/index.html",redirect:"/pages/fed167/"},{path:"/04.ä¸­é´ä»¶/40.Kafka/020.æ¶è´¹è.html",redirect:"/pages/fed167/"},{name:"v-0c440466",path:"/pages/8d1d04/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-0c440466").then(t)}},{path:"/pages/8d1d04/index.html",redirect:"/pages/8d1d04/"},{path:"/04.ä¸­é´ä»¶/40.Kafka/030.éç¾¤ä¸çKafkaè¦èèåªäºäºæ.html",redirect:"/pages/8d1d04/"},{name:"v-a9558ec0",path:"/pages/01b9b2/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a9558ec0").then(t)}},{path:"/pages/01b9b2/index.html",redirect:"/pages/01b9b2/"},{path:"/08.ç³»ç»è®¾è®¡/001.ç³»ç»è®¾è®¡.html",redirect:"/pages/01b9b2/"},{name:"v-684c4815",path:"/pages/76a94c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-684c4815").then(t)}},{path:"/pages/76a94c/index.html",redirect:"/pages/76a94c/"},{path:"/04.ä¸­é´ä»¶/40.Kafka/040.å¦ä½ä¿è¯Kafkaçå¯é æ§.html",redirect:"/pages/76a94c/"},{name:"v-164d9a94",path:"/pages/379160/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-164d9a94").then(t)}},{path:"/pages/379160/index.html",redirect:"/pages/379160/"},{path:"/08.ç³»ç»è®¾è®¡/005.çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼.html",redirect:"/pages/379160/"},{name:"v-00fb6429",path:"/pages/ac945d/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-00fb6429").then(t)}},{path:"/pages/ac945d/index.html",redirect:"/pages/ac945d/"},{path:"/08.ç³»ç»è®¾è®¡/006.å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼.html",redirect:"/pages/ac945d/"},{name:"v-5675b06b",path:"/pages/20c647/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5675b06b").then(t)}},{path:"/pages/20c647/index.html",redirect:"/pages/20c647/"},{path:"/08.ç³»ç»è®¾è®¡/010.ä»ä¹æ¯ CAP ï¼ä»ä¹æ¯æç»ä¸è´æ§ï¼ä»ä¹æ¯å¹ç­æä½ï¼.html",redirect:"/pages/20c647/"},{name:"v-1d6b51b7",path:"/pages/7c8753/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1d6b51b7").then(t)}},{path:"/pages/7c8753/index.html",redirect:"/pages/7c8753/"},{path:"/08.ç³»ç»è®¾è®¡/021.è®¾è®¡ Tiny URL ç³»ç».html",redirect:"/pages/7c8753/"},{name:"v-f88544f4",path:"/pages/4eae5b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-f88544f4").then(t)}},{path:"/pages/4eae5b/index.html",redirect:"/pages/4eae5b/"},{path:"/08.ç³»ç»è®¾è®¡/020.ç®è¿°ä»ä¹æ¯ä¸¤é¶æ®µæäº¤ï¼.html",redirect:"/pages/4eae5b/"},{name:"v-dca272ea",path:"/pages/e5252b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-dca272ea").then(t)}},{path:"/pages/e5252b/index.html",redirect:"/pages/e5252b/"},{path:"/08.ç³»ç»è®¾è®¡/022.å¦ä½å®ç°å¯ä¸çåå¸å¼ ID.html",redirect:"/pages/e5252b/"},{name:"v-5afa53ed",path:"/pages/bb7e83/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5afa53ed").then(t)}},{path:"/pages/bb7e83/index.html",redirect:"/pages/bb7e83/"},{path:"/08.ç³»ç»è®¾è®¡/024.çµå-ååç³»ç»è®¾è®¡.html",redirect:"/pages/bb7e83/"},{name:"v-2a52a762",path:"/pages/5e507a/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2a52a762").then(t)}},{path:"/pages/5e507a/index.html",redirect:"/pages/5e507a/"},{path:"/10.éææ¯/01.éææ¯é®é¢.html",redirect:"/pages/5e507a/"},{name:"v-00dfea7c",path:"/pages/d01475/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-00dfea7c").then(t)}},{path:"/pages/d01475/index.html",redirect:"/pages/d01475/"},{path:"/08.ç³»ç»è®¾è®¡/023.å¦ä½è®¾è®¡å®æ¶ä»»å¡ç³»ç».html",redirect:"/pages/d01475/"},{name:"v-70bb01cc",path:"/pages/c7084e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-70bb01cc").then(t)}},{path:"/pages/c7084e/index.html",redirect:"/pages/c7084e/"},{path:"/10.éææ¯/04.å¦ä½æåææ¯æ°´å¹³ï¼.html",redirect:"/pages/c7084e/"},{name:"v-534e5ed0",path:"/pages/83653c/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-534e5ed0").then(t)}},{path:"/pages/83653c/index.html",redirect:"/pages/83653c/"},{path:"/10.éææ¯/05.ä¸çº§è®©ä¸çº§å¹²æ´»ç4ä¸­æ¹å¼.html",redirect:"/pages/83653c/"},{name:"v-bd4d3ab8",path:"/pages/ea7ab6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-bd4d3ab8").then(t)}},{path:"/pages/ea7ab6/index.html",redirect:"/pages/ea7ab6/"},{path:"/10.éææ¯/06.æ­£ç¡®è®¤è¯Backup.html",redirect:"/pages/ea7ab6/"},{name:"v-37ecc426",path:"/pages/fe4651/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-37ecc426").then(t)}},{path:"/pages/fe4651/index.html",redirect:"/pages/fe4651/"},{path:"/10.éææ¯/03.è½åå·®çäººæ¯ä»ä¹æ ·çï¼.html",redirect:"/pages/fe4651/"},{name:"v-1130f268",path:"/pages/a734ce/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-1130f268").then(t)}},{path:"/pages/a734ce/index.html",redirect:"/pages/a734ce/"},{path:"/10.éææ¯/02.å³äºç©ºéåµçæè.html",redirect:"/pages/a734ce/"},{name:"v-6bbf2d35",path:"/pages/74395b/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-6bbf2d35").then(t)}},{path:"/pages/74395b/index.html",redirect:"/pages/74395b/"},{path:"/10.éææ¯/07.å¯¹äºä¸å¯¹äºº vs å¯¹äººä¸å¯¹äº.html",redirect:"/pages/74395b/"},{name:"v-918dfaf8",path:"/about/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-918dfaf8").then(t)}},{path:"/about/index.html",redirect:"/about/"},{path:"/15.å³äº/01.å³äº.html",redirect:"/about/"},{name:"v-286c1812",path:"/pages/6ac68e/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-286c1812").then(t)}},{path:"/pages/6ac68e/index.html",redirect:"/pages/6ac68e/"},{path:"/10.éææ¯/08.å³äºå¦ä½åOKR.html",redirect:"/pages/6ac68e/"},{name:"v-7ab50b9f",path:"/pages/beb6c0bd8a66cea6/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7ab50b9f").then(t)}},{path:"/pages/beb6c0bd8a66cea6/index.html",redirect:"/pages/beb6c0bd8a66cea6/"},{path:"/@pages/20.æ¶èå¤¹/01.ç½ç«.html",redirect:"/pages/beb6c0bd8a66cea6/"},{name:"v-09c150e6",path:"/pages/47cf96/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-09c150e6").then(t)}},{path:"/pages/47cf96/index.html",redirect:"/pages/47cf96/"},{path:"/@pages/20.æ¶èå¤¹/02.å¸¸ç¨çåç«¯è½®å­.html",redirect:"/pages/47cf96/"},{name:"v-2db11cb2",path:"/pages/f2e63f/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2db11cb2").then(t)}},{path:"/pages/f2e63f/index.html",redirect:"/pages/f2e63f/"},{path:"/_posts/éç¬/ä½ ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤.html",redirect:"/pages/f2e63f/"},{name:"v-a5c5f278",path:"/pages/829589/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-a5c5f278").then(t)}},{path:"/pages/829589/index.html",redirect:"/pages/829589/"},{path:"/_posts/éç¬/æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯.html",redirect:"/pages/829589/"},{name:"v-7d77d69c",path:"/pages/cd8bde/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-7d77d69c").then(t)}},{path:"/pages/cd8bde/index.html",redirect:"/pages/cd8bde/"},{path:"/_posts/éç¬/æ¥æ±çæ´»ï¼æ¥æ±å¿«ä¹.html",redirect:"/pages/cd8bde/"},{name:"v-48f7eec0",path:"/archives/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-48f7eec0").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-5f8dfe80",path:"/categories/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-5f8dfe80").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{name:"v-64f9b920",path:"/tags/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-64f9b920").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-2cf94a0e",path:"/",component:is,beforeEnter:function(n,e,t){Vo("Layout","v-2cf94a0e").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:is}],ls={title:"",description:"",base:"/JavaDriver/",headTags:[["link",{rel:"icon",href:"/JavaDriver/img/JAVADRIVER.png"}],["meta",{name:"keywords",content:"Javaç¸å³ææ¯"}],["meta",{name:"baidu-site-verification",content:"7F55weZDDc"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"Javaç¸å³",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"01.Javaç¸å³",imgUrl:"/img/web.png",description:"Javaåºç¡ãJVMãå¹¶åãè®¾è®¡æ¨¡å¼"}},title:"Javaç¸å³",date:"2020-03-11T21:50:53.000Z",permalink:"/java",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.Java%E7%9B%B8%E5%85%B3.html",relativePath:"00.ç®å½é¡µ/01.Javaç¸å³.md",key:"v-36edf5bb",path:"/java/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ä¸­é´ä»¶",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"04.ä¸­é´ä»¶",imgUrl:"/img/more.png",description:"DubboãMybatis"}},title:"ä¸­é´ä»¶",date:"2020-03-11T21:50:56.000Z",permalink:"/middleware",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/04.%E4%B8%AD%E9%97%B4%E4%BB%B6.html",relativePath:"00.ç®å½é¡µ/04.ä¸­é´ä»¶.md",key:"v-7abe58c4",path:"/middleware/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"è®¡ç®æºåºç¡",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"02.è®¡ç®æºåºç¡",imgUrl:"/img/ui.png",description:"è®¡ç®æºç½ç»ãæ°æ®ç»æã"}},title:"è®¡ç®æºåºç¡",date:"2020-03-11T21:50:54.000Z",permalink:"/basic",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80.html",relativePath:"00.ç®å½é¡µ/02.è®¡ç®æºåºç¡.md",key:"v-10f5d0e5",path:"/basic/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"æ°æ®åº",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"03.æ°æ®åº",imgUrl:"/img/other.png",description:"MysqlãRedis"}},title:"æ°æ®åº",date:"2020-03-11T21:50:55.000Z",permalink:"/database",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/03.%E6%95%B0%E6%8D%AE%E5%BA%93.html",relativePath:"00.ç®å½é¡µ/03.æ°æ®åº.md",key:"v-a612ff08",path:"/database/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java å¼å¸¸æåªäºç±»åï¼",frontmatter:{title:"Java å¼å¸¸æåªäºç±»åï¼",date:"2022-03-11T00:42:02.000Z",permalink:"/pages/a030ff/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/001.Java%20%E5%BC%82%E5%B8%B8%E6%9C%89%E5%93%AA%E4%BA%9B%E7%B1%BB%E5%9E%8B%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/001.Java å¼å¸¸æåªäºç±»åï¼.md",key:"v-8bf153e4",path:"/pages/a030ff/",headers:[{level:2,title:"Java å¼å¸¸æåªäºç±»åï¼",slug:"java-å¼å¸¸æåªäºç±»å",normalizedTitle:"java å¼å¸¸æåªäºç±»åï¼",charIndex:2}],headersStr:"Java å¼å¸¸æåªäºç±»åï¼",content:"# Java å¼å¸¸æåªäºç±»åï¼\n\n\n\nå¾çæ¥èªï¼https://chercher.tech/java-programming/exceptions-java\n\n\n\n * å¨ Java ä¸­ï¼ææçå¼å¸¸é½æä¸ä¸ªå±åçç¥å java.lang åä¸­ç Throwable ç±»ã\n * Exception è½è¢«ç¨åºæ¬èº«å¤ç(try-catch)ï¼ Error æ¯æ æ³å¤çç(åªè½å°½éé¿å)ã\n * Exceptionæåºåcheckedãuncheckedå¼å¸¸ï¼å¶ä¸­checkedç±»åçå¼å¸¸å¼ºå¶å¤çï¼try-catchæèthrowï¼",normalizedContent:"# java å¼å¸¸æåªäºç±»åï¼\n\n\n\nå¾çæ¥èªï¼https://chercher.tech/java-programming/exceptions-java\n\n\n\n * å¨ java ä¸­ï¼ææçå¼å¸¸é½æä¸ä¸ªå±åçç¥å java.lang åä¸­ç throwable ç±»ã\n * exception è½è¢«ç¨åºæ¬èº«å¤ç(try-catch)ï¼ error æ¯æ æ³å¤çç(åªè½å°½éé¿å)ã\n * exceptionæåºåcheckedãuncheckedå¼å¸¸ï¼å¶ä¸­checkedç±»åçå¼å¸¸å¼ºå¶å¤çï¼try-catchæèthrowï¼",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼",frontmatter:{title:"HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼",date:"2022-04-04T14:21:18.000Z",permalink:"/pages/d1c564/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/010.HashMap%20%E4%B8%8E%20ConcurrentHashMap%20%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/010.HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼.md",key:"v-0734374b",path:"/pages/d1c564/",headers:[{level:2,title:"HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼ConcurrentHashMap æ¯å¦ä½ä¿è¯çº¿ç¨å®å¨çï¼",slug:"hashmap-ä¸-concurrenthashmap-çå®ç°åçæ¯ææ ·ç-concurrenthashmap-æ¯å¦ä½ä¿è¯çº¿ç¨å®å¨ç",normalizedTitle:"hashmap ä¸ concurrenthashmap çå®ç°åçæ¯ææ ·çï¼concurrenthashmap æ¯å¦ä½ä¿è¯çº¿ç¨å®å¨çï¼",charIndex:2}],headersStr:"HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼ConcurrentHashMap æ¯å¦ä½ä¿è¯çº¿ç¨å®å¨çï¼",content:"# HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼ConcurrentHashMap æ¯å¦ä½ä¿è¯çº¿ç¨å®å¨çï¼\n\n                 HASHMAP     CONCURRENTHASHMAP\næ¯å¦çº¿ç¨å®å¨           ä¸å®å¨         å®å¨\nJDK1.7-æ°æ®ç»æ      æ°ç»+é¾è¡¨       æ°ç»+é¾è¡¨+Segment\nJDK1.7-æ°æ®ç»æ-å¾ç¤º               \néç²åº¦              ---         å¯¹segmentå éï¼æå¤§å¹¶åä¿®æ¹çº¿ç¨æ°=segmentæ°é\n---              ---         ---\nJDK1.8-æ°æ®ç»æ      æ°ç»+é¾è¡¨+çº¢é»æ    æ°ç»+é¾è¡¨+çº¢é»æ \nJDK1.8-æ°æ®ç»æ-å¾ç¤º               \néç²åº¦              ---         HashEntryï¼é¦èç¹ï¼ï¼æå¤§å¹¶åä¿®æ¹çº¿ç¨æ°=æ°ç».size\n\n> Q1ï¼ConcurrentHashMap ä¸­åéä½¿ç¨ final å volatile ä¿®é¥°æä»ä¹ç¨å¢ï¼\n> Aï¼Finalåä½¿å¾ç¡®ä¿åå§åå®å¨æ§ï¼initialization safetyï¼æä¸ºå¯è½ï¼åå§åå®å¨æ§è®©ä¸å¯åå½¢å¯¹è±¡ä¸éè¦åæ­¥å°±è½èªç±å°è¢«è®¿é®åå±äº«ã\n> Nodeçåç´ valåæénextæ¯ç¨ volatile ä¿®é¥°çï¼å¨å¤çº¿ç¨ç¯å¢ä¸çº¿ç¨Aä¿®æ¹ç»ç¹çvalæèæ°å¢èç¹çæ¶åæ¯å¯¹çº¿ç¨Bå¯è§çã\n\n> Q2ï¼ConcurrentHashMapå¨JDK 7å8ä¹é´çåºå«\n> A:å»æäºSegmentè¿ç§æ°æ®ç»æ\n> å¢å äºçº¢é»æ ç»ææ¥ä¼åé¾è¡¨ï¼è§£å³äºé¿é¾è¡¨éåæ¢çé®é¢",normalizedContent:"# hashmap ä¸ concurrenthashmap çå®ç°åçæ¯ææ ·çï¼concurrenthashmap æ¯å¦ä½ä¿è¯çº¿ç¨å®å¨çï¼\n\n                 hashmap     concurrenthashmap\næ¯å¦çº¿ç¨å®å¨           ä¸å®å¨         å®å¨\njdk1.7-æ°æ®ç»æ      æ°ç»+é¾è¡¨       æ°ç»+é¾è¡¨+segment\njdk1.7-æ°æ®ç»æ-å¾ç¤º               \néç²åº¦              ---         å¯¹segmentå éï¼æå¤§å¹¶åä¿®æ¹çº¿ç¨æ°=segmentæ°é\n---              ---         ---\njdk1.8-æ°æ®ç»æ      æ°ç»+é¾è¡¨+çº¢é»æ    æ°ç»+é¾è¡¨+çº¢é»æ \njdk1.8-æ°æ®ç»æ-å¾ç¤º               \néç²åº¦              ---         hashentryï¼é¦èç¹ï¼ï¼æå¤§å¹¶åä¿®æ¹çº¿ç¨æ°=æ°ç».size\n\n> q1ï¼concurrenthashmap ä¸­åéä½¿ç¨ final å volatile ä¿®é¥°æä»ä¹ç¨å¢ï¼\n> aï¼finalåä½¿å¾ç¡®ä¿åå§åå®å¨æ§ï¼initialization safetyï¼æä¸ºå¯è½ï¼åå§åå®å¨æ§è®©ä¸å¯åå½¢å¯¹è±¡ä¸éè¦åæ­¥å°±è½èªç±å°è¢«è®¿é®åå±äº«ã\n> nodeçåç´ valåæénextæ¯ç¨ volatile ä¿®é¥°çï¼å¨å¤çº¿ç¨ç¯å¢ä¸çº¿ç¨aä¿®æ¹ç»ç¹çvalæèæ°å¢èç¹çæ¶åæ¯å¯¹çº¿ç¨bå¯è§çã\n\n> q2ï¼concurrenthashmapå¨jdk 7å8ä¹é´çåºå«\n> a:å»æäºsegmentè¿ç§æ°æ®ç»æ\n> å¢å äºçº¢é»æ ç»ææ¥ä¼åé¾è¡¨ï¼è§£å³äºé¿é¾è¡¨éåæ¢çé®é¢",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼",frontmatter:{title:"ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼",date:"2022-04-04T14:23:08.000Z",permalink:"/pages/0d22ad/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/030.%E4%B8%BA%E4%BB%80%E4%B9%88%E9%87%8D%E5%86%99%20equals%20%E5%BF%85%E9%A1%BB%E9%87%8D%E5%86%99%20hashcode%20%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/030.ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼.md",key:"v-57012c44",path:"/pages/0d22ad/",headers:[{level:2,title:"ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼",slug:"ä¸ºä»ä¹éå-equals-å¿é¡»éå-hashcode",normalizedTitle:"ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼",charIndex:2}],headersStr:"ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼",content:"# ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼\n\nå¦æ æä»¬éåäº equals æ²¡æéå hashcode ä¼å¯¼è´HashSet éé¢å¯ä»¥å­å¨éå¤çåç´ ã\n\n\nä»¥ HashSet ä¸ºä¾æ¥è¯´\nHashSet åºå±æ¯æ°ç»ç»æ å­å¨çåç´ ä¸éå¤ï¼ O1åO2éå¤çæææ¯O1.equals(O2)==true ï¼\nadd ä¸ä¸ªåç´ è¿æ¥æ¾å¨åªéå¢ï¼\næ¯æ ¹æ®åç´ çhashå¼ï¼å³ hashcode ï¼æ¥ç¡®å®æ°ç»ä¸æ  å°åç´ æ¾å¨éé¢ã\nå¦æ æä»¬éåäº equals æ²¡æéå hashcode\né£ä¹ å¯è½ä¼äº§çè¿æ ·çæ°æ®ï¼ O1.equals(O2)==true ä½æ¯O1.hashcode()!=O2.hashcode()\nå¯¼è´ HashSet éé¢å¯ä»¥å­å¨éå¤çåç´ ã",normalizedContent:"# ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼\n\nå¦æ æä»¬éåäº equals æ²¡æéå hashcode ä¼å¯¼è´hashset éé¢å¯ä»¥å­å¨éå¤çåç´ ã\n\n\nä»¥ hashset ä¸ºä¾æ¥è¯´\nhashset åºå±æ¯æ°ç»ç»æ å­å¨çåç´ ä¸éå¤ï¼ o1åo2éå¤çæææ¯o1.equals(o2)==true ï¼\nadd ä¸ä¸ªåç´ è¿æ¥æ¾å¨åªéå¢ï¼\næ¯æ ¹æ®åç´ çhashå¼ï¼å³ hashcode ï¼æ¥ç¡®å®æ°ç»ä¸æ  å°åç´ æ¾å¨éé¢ã\nå¦æ æä»¬éåäº equals æ²¡æéå hashcode\né£ä¹ å¯è½ä¼äº§çè¿æ ·çæ°æ®ï¼ o1.equals(o2)==true ä½æ¯o1.hashcode()!=o2.hashcode()\nå¯¼è´ hashset éé¢å¯ä»¥å­å¨éå¤çåç´ ã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«",frontmatter:{title:"Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«",date:"2022-04-04T14:22:16.000Z",permalink:"/pages/826c8b/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/020.Java%20%E4%B8%AD%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB.html",relativePath:"01.Javaç¸å³/10.åºç¡/020.Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«.md",key:"v-4e1fd39c",path:"/pages/826c8b/",headers:[{level:2,title:"Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«",slug:"java-ä¸­æ¥å£åæ½è±¡ç±»çåºå«",normalizedTitle:"java ä¸­æ¥å£åæ½è±¡ç±»çåºå«",charIndex:2}],headersStr:"Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«",content:"# Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«\n\n          æ½è±¡ç±»                     æ¥å£\nä¿®é¥°ç¬¦       abstract                interface\nä»è®¾è®¡å±é¢æ¥è¯´   æ¯ä¸ç§æ¨¡æ¿è®¾è®¡,æ½è±¡ç±»è¦è¢«å­ç±»ç»§æ¿       æ¯ä¸ç§è¡ä¸ºçè§èï¼æ¥å£è¦è¢«ç±»å®ç°\nä½¿ç¨åºæ¯      å¨ä»£ç å®ç°æ¹é¢åæ¥ä½ç¨ï¼å¯ä»¥å®ç°ä»£ç çéç¨   å¨ç³»ç»æ¶æè®¾è®¡æ¹æ³åæ¥ä½ç¨ï¼ä¸»è¦ç¨äºå®ä¹æ¨¡åä¹é´çéä¿¡å¥çº¦\n\næ½è±¡ç±»-ç»å¸ä½¿ç¨åºæ¯: StringBuilder ä¸ StringBuffer é½ç»§æ¿èª AbstractStringBuilder ç±»\n\nabstract class AbstractStringBuilder implements Appendable, CharSequence {\n    /**\n     * The value is used for character storage.\n     */\n    char[] value;\n\n    /**\n     * The count is the number of characters used.\n     */\n    int count;\n\n    AbstractStringBuilder(int capacity) {\n        value = new char[capacity];\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",normalizedContent:"# java ä¸­æ¥å£åæ½è±¡ç±»çåºå«\n\n          æ½è±¡ç±»                     æ¥å£\nä¿®é¥°ç¬¦       abstract                interface\nä»è®¾è®¡å±é¢æ¥è¯´   æ¯ä¸ç§æ¨¡æ¿è®¾è®¡,æ½è±¡ç±»è¦è¢«å­ç±»ç»§æ¿       æ¯ä¸ç§è¡ä¸ºçè§èï¼æ¥å£è¦è¢«ç±»å®ç°\nä½¿ç¨åºæ¯      å¨ä»£ç å®ç°æ¹é¢åæ¥ä½ç¨ï¼å¯ä»¥å®ç°ä»£ç çéç¨   å¨ç³»ç»æ¶æè®¾è®¡æ¹æ³åæ¥ä½ç¨ï¼ä¸»è¦ç¨äºå®ä¹æ¨¡åä¹é´çéä¿¡å¥çº¦\n\næ½è±¡ç±»-ç»å¸ä½¿ç¨åºæ¯: stringbuilder ä¸ stringbuffer é½ç»§æ¿èª abstractstringbuilder ç±»\n\nabstract class abstractstringbuilder implements appendable, charsequence {\n    /**\n     * the value is used for character storage.\n     */\n    char[] value;\n\n    /**\n     * the count is the number of characters used.\n     */\n    int count;\n\n    abstractstringbuilder(int capacity) {\n        value = new char[capacity];\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦",frontmatter:{title:"ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦",date:"2022-04-04T14:24:34.000Z",permalink:"/pages/305919/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/060.%E7%AE%80%E8%BF%B0%20ArrayList%20%E4%B8%8E%20LinkedList%20%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html",relativePath:"01.Javaç¸å³/10.åºç¡/060.ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦.md",key:"v-57b2551a",path:"/pages/305919/",headers:[{level:2,title:"ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦",slug:"ç®è¿°-arraylist-ä¸-linkedlist-çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦",normalizedTitle:"ç®è¿° arraylist ä¸ linkedlist çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦",charIndex:2}],headersStr:"ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦",content:"# ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦\n\n        ARRAYLIST                                   LINKEDLIST\nçº¿ç¨å®å¨    ä¸å®å¨                                         ä¸å®å¨\nåºå±ç»æ    Object æ°ç»                                   ååé¾è¡¨\néç¨åºæ¯    æç§æ°ç»ä¸è¡¨å¿«éè®¿é®åç´  æ¶é´å¤æåº¦å°±æ¯ O(1)                   é¡ºåºè®¿é®åç´ \nä¸éç¨åºæ¯   å¨æå®ä½ç½®næå¥ãå é¤, ä¼å¯¼è´ä½ç½®nåé¢çåç´ ç§»å¨ æ¶é´å¤æåº¦å°±æ¯ O(n-1)   éæºè®¿é®åç´ ",normalizedContent:"# ç®è¿° arraylist ä¸ linkedlist çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦\n\n        arraylist                                   linkedlist\nçº¿ç¨å®å¨    ä¸å®å¨                                         ä¸å®å¨\nåºå±ç»æ    object æ°ç»                                   ååé¾è¡¨\néç¨åºæ¯    æç§æ°ç»ä¸è¡¨å¿«éè®¿é®åç´  æ¶é´å¤æåº¦å°±æ¯ o(1)                   é¡ºåºè®¿é®åç´ \nä¸éç¨åºæ¯   å¨æå®ä½ç½®næå¥ãå é¤, ä¼å¯¼è´ä½ç½®nåé¢çåç´ ç§»å¨ æ¶é´å¤æåº¦å°±æ¯ o(n-1)   éæºè®¿é®åç´ ",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"== å equals() çåºå«ï¼",frontmatter:{title:"== å equals() çåºå«ï¼",date:"2022-04-04T14:23:40.000Z",permalink:"/pages/06b28a/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/040.==%20%E5%92%8C%20equals()%20%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/040.== å equals() çåºå«ï¼.md",key:"v-d8a2f15c",path:"/pages/06b28a/",headers:[{level:2,title:"== å equals() çåºå«ï¼",slug:"å-equals-çåºå«",normalizedTitle:"== å equals() çåºå«ï¼",charIndex:2}],headersStr:"== å equals() çåºå«ï¼",content:'# == å equals() çåºå«ï¼\n\n * == : åºæ¬æ°æ®ç±»å==æ¯è¾çæ¯å¼ï¼å¼ç¨æ°æ®ç±»å==æ¯è¾çæ¯åå­å°åã\n * ç±»æ²¡æè¦ç equals() æ¹æ³ãåéè¿ equals() æ¯è¾è¯¥ç±»çä¸¤ä¸ªå¯¹è±¡æ¶ï¼ç­ä»·äºéè¿â==âæ¯è¾è¿ä¸¤ä¸ªå¯¹è±¡ã\n\npublic static void main(String[] args) {\n\t\tString s1 = new String("hello"); // s1 ä¸ºä¸ä¸ªå¼ç¨\n        String s2 = new String("hello"); // s2ås1åå®¹ä¸æ ·\n        String s3 = "world"; // æ¾å¨å¸¸éæ± ä¸­\n        String s4 = "world"; // ä»å¸¸éæ± ä¸­æ¥æ¾\n        String o1 = new Object(); // o1 ä¸ºä¸ä¸ªå¼ç¨\n        String o2 = new Object(); // o2 ä¸ºå¦ä¸ä¸ªå¼ç¨\n        if (aa == bb) // true é½æ¯å¸¸éæ± çå°å\n            System.out.println("aa==bb");\n        if (s1 == s2) // falseï¼æ¯è¾å°åï¼s1 s2æ¯ä¸¤æ¬¡newåºæ¥çå¯¹è±¡ï¼å°åè¯å®ä¸å\n            System.out.println("a==b");\n        if (s1.equals(s2)) // true Stringçequalsæ¹æ³è¢«éåäº æ¯è¾çæ¯åå®¹\n            System.out.println("aEQb");\n        if (o1 == o2) // false Objectæ²¡æéåequals æ¯è¾å°å\n            System.out.println("aa==bb");\n        if (o1.equals(o2)) // false æ¯è¾å°å Objectæ²¡æéåequals æ¯è¾å°å\n            System.out.println("a==b");\n        if (55 == 55L) { // true åºæ¬æ°æ®ç±»å  æ¯è¾çæ¯æ°å¼\n            System.out.println("true");\n        } \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n',normalizedContent:'# == å equals() çåºå«ï¼\n\n * == : åºæ¬æ°æ®ç±»å==æ¯è¾çæ¯å¼ï¼å¼ç¨æ°æ®ç±»å==æ¯è¾çæ¯åå­å°åã\n * ç±»æ²¡æè¦ç equals() æ¹æ³ãåéè¿ equals() æ¯è¾è¯¥ç±»çä¸¤ä¸ªå¯¹è±¡æ¶ï¼ç­ä»·äºéè¿â==âæ¯è¾è¿ä¸¤ä¸ªå¯¹è±¡ã\n\npublic static void main(string[] args) {\n\t\tstring s1 = new string("hello"); // s1 ä¸ºä¸ä¸ªå¼ç¨\n        string s2 = new string("hello"); // s2ås1åå®¹ä¸æ ·\n        string s3 = "world"; // æ¾å¨å¸¸éæ± ä¸­\n        string s4 = "world"; // ä»å¸¸éæ± ä¸­æ¥æ¾\n        string o1 = new object(); // o1 ä¸ºä¸ä¸ªå¼ç¨\n        string o2 = new object(); // o2 ä¸ºå¦ä¸ä¸ªå¼ç¨\n        if (aa == bb) // true é½æ¯å¸¸éæ± çå°å\n            system.out.println("aa==bb");\n        if (s1 == s2) // falseï¼æ¯è¾å°åï¼s1 s2æ¯ä¸¤æ¬¡newåºæ¥çå¯¹è±¡ï¼å°åè¯å®ä¸å\n            system.out.println("a==b");\n        if (s1.equals(s2)) // true stringçequalsæ¹æ³è¢«éåäº æ¯è¾çæ¯åå®¹\n            system.out.println("aeqb");\n        if (o1 == o2) // false objectæ²¡æéåequals æ¯è¾å°å\n            system.out.println("aa==bb");\n        if (o1.equals(o2)) // false æ¯è¾å°å objectæ²¡æéåequals æ¯è¾å°å\n            system.out.println("a==b");\n        if (55 == 55l) { // true åºæ¬æ°æ®ç±»å  æ¯è¾çæ¯æ°å¼\n            system.out.println("true");\n        } \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼",frontmatter:{title:"Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼",date:"2022-04-04T14:24:07.000Z",permalink:"/pages/211d8c/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/050.String%EF%BC%8CStringBuffer%EF%BC%8CStringBuilder%20%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/050.Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼.md",key:"v-7f48b402",path:"/pages/211d8c/",headers:[{level:2,title:"Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼",slug:"string-stringbuffer-stringbuilder-ä¹é´æä»ä¹åºå«",normalizedTitle:"stringï¼stringbufferï¼stringbuilder ä¹é´æä»ä¹åºå«ï¼",charIndex:2}],headersStr:"Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼",content:"# Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼\n\n * String å¯¹è±¡æ¯ä¸å¯åçãString ç±»ä¸­ä½¿ç¨ final å³é®å­ä¿®é¥°å­ç¬¦æ°ç»æ¥ä¿å­å­ç¬¦ä¸²ï¼private final char value[]ã\n * StringBufferï¼StringBuilderæ¯å¯åç\n * StringBuffer å¯¹æ¹æ³å äºåæ­¥éæèå¯¹è°ç¨çæ¹æ³å äºåæ­¥éï¼æä»¥æ¯çº¿ç¨å®å¨çãStringBuilder æ¯çº¿ç¨ä¸å®å¨çã\n\n        STRING   STRINGBUFFER         STRINGBUILDER\nå¯åæ§     ä¸å¯å      å¯å                   å¯å\nçº¿ç¨å®å¨æ§   å®å¨       å®å¨                   ä¸å®å¨\nä½¿ç¨åºæ¯    æä½å°éæ°æ®   å¤çº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®   åçº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®",normalizedContent:"# stringï¼stringbufferï¼stringbuilder ä¹é´æä»ä¹åºå«ï¼\n\n * string å¯¹è±¡æ¯ä¸å¯åçãstring ç±»ä¸­ä½¿ç¨ final å³é®å­ä¿®é¥°å­ç¬¦æ°ç»æ¥ä¿å­å­ç¬¦ä¸²ï¼private final char value[]ã\n * stringbufferï¼stringbuilderæ¯å¯åç\n * stringbuffer å¯¹æ¹æ³å äºåæ­¥éæèå¯¹è°ç¨çæ¹æ³å äºåæ­¥éï¼æä»¥æ¯çº¿ç¨å®å¨çãstringbuilder æ¯çº¿ç¨ä¸å®å¨çã\n\n        string   stringbuffer         stringbuilder\nå¯åæ§     ä¸å¯å      å¯å                   å¯å\nçº¿ç¨å®å¨æ§   å®å¨       å®å¨                   ä¸å®å¨\nä½¿ç¨åºæ¯    æä½å°éæ°æ®   å¤çº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®   åçº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° BIO, NIO, AIO çåºå«",frontmatter:{title:"ç®è¿° BIO, NIO, AIO çåºå«",date:"2022-04-04T14:25:08.000Z",permalink:"/pages/276740/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/070.%E7%AE%80%E8%BF%B0%20BIO,%20NIO,%20AIO%20%E7%9A%84%E5%8C%BA%E5%88%AB.html",relativePath:"01.Javaç¸å³/10.åºç¡/070.ç®è¿° BIO, NIO, AIO çåºå«.md",key:"v-d4e20148",path:"/pages/276740/",headers:[{level:2,title:"ç®è¿° BIO, NIO, AIO çåºå«",slug:"ç®è¿°-bio-nio-aio-çåºå«",normalizedTitle:"ç®è¿° bio, nio, aio çåºå«",charIndex:2}],headersStr:"ç®è¿° BIO, NIO, AIO çåºå«",content:"# ç®è¿° BIO, NIO, AIO çåºå«\n\nlinuxä¸­ææçå¤é¨è®¾å¤é½æ¯ä¸ä¸ªæä»¶ï¼socketä¹æ¯ä¸ä¸ªæä»¶ï¼ææä»¶æè¿°ç¬¦ï¼fdï¼æåå®ã\n\n       BIO (BLOCKING I/O)                NIO (NON-BLOCKING/NEW I/O)           AIO (ASYNCHRONOUS I/O)\næè¿°     å¨ç¨æ·è¿ç¨ç©ºé´è°ç¨recvfrom,ç´å°ææ°æ®æè¯»åæ°æ®å¹¶è¿å   è½®è®­è°ç¨recvfromï¼ç´å°ææ°æ®                   éç¥åæ ¸æ°æ®è¯»åæä½å³å¯ãç¨æ·è¿ç¨ä¸éè¦ç­å¾å¹¶è¯»åæ°æ®ã\nå¾ç¤º                                                                            \nä½¿ç¨åºæ¯   æ´»å¨è¿æ¥æ°ä¸æ¯ç¹å«é«ï¼å°äºåæº 1000ï¼çæåµ          å¯¹äºé«è´è½½ãé«å¹¶åçï¼ç½ç»ï¼åºç¨ï¼åºä½¿ç¨ NIO çéé»å¡æ¨¡å¼æ¥å¼å   æåç°å°±ç®åæ¥è¯´ AIO çåºç¨è¿ä¸æ¯å¾å¹¿æ³ï¼Netty ä¹åä¹å°è¯ä½¿ç¨è¿ AIOï¼ä¸è¿åæ¾å¼äºã",normalizedContent:"# ç®è¿° bio, nio, aio çåºå«\n\nlinuxä¸­ææçå¤é¨è®¾å¤é½æ¯ä¸ä¸ªæä»¶ï¼socketä¹æ¯ä¸ä¸ªæä»¶ï¼ææä»¶æè¿°ç¬¦ï¼fdï¼æåå®ã\n\n       bio (blocking i/o)                nio (non-blocking/new i/o)           aio (asynchronous i/o)\næè¿°     å¨ç¨æ·è¿ç¨ç©ºé´è°ç¨recvfrom,ç´å°ææ°æ®æè¯»åæ°æ®å¹¶è¿å   è½®è®­è°ç¨recvfromï¼ç´å°ææ°æ®                   éç¥åæ ¸æ°æ®è¯»åæä½å³å¯ãç¨æ·è¿ç¨ä¸éè¦ç­å¾å¹¶è¯»åæ°æ®ã\nå¾ç¤º                                                                            \nä½¿ç¨åºæ¯   æ´»å¨è¿æ¥æ°ä¸æ¯ç¹å«é«ï¼å°äºåæº 1000ï¼çæåµ          å¯¹äºé«è´è½½ãé«å¹¶åçï¼ç½ç»ï¼åºç¨ï¼åºä½¿ç¨ nio çéé»å¡æ¨¡å¼æ¥å¼å   æåç°å°±ç®åæ¥è¯´ aio çåºç¨è¿ä¸æ¯å¾å¹¿æ³ï¼netty ä¹åä¹å°è¯ä½¿ç¨è¿ aioï¼ä¸è¿åæ¾å¼äºã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼",frontmatter:{title:"å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼",date:"2022-04-04T14:25:35.000Z",permalink:"/pages/56314c/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/080.%E5%9C%A8%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E5%86%85%E8%B0%83%E7%94%A8%E4%B8%80%E4%B8%AA%E9%9D%9E%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E9%9D%9E%E6%B3%95%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/080.å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼.md",key:"v-d32e07ea",path:"/pages/56314c/",headers:[{level:2,title:"å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼",slug:"å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³ç",normalizedTitle:"å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼",charIndex:2}],headersStr:"å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼",content:"# å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼\n\nä»javaççå½å¨æè§åº¦æ¥è¯´ï¼éææ¹æ³çåå§åæ©äºééææ¹æ³ã\n\n        éææ¹æ³   ééææå\nåå§åé¶æ®µ   åå¤     ä½¿ç¨",normalizedContent:"# å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼\n\nä»javaççå½å¨æè§åº¦æ¥è¯´ï¼éææ¹æ³çåå§åæ©äºééææ¹æ³ã\n\n        éææ¹æ³   ééææå\nåå§åé¶æ®µ   åå¤     ä½¿ç¨",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯",frontmatter:{title:"ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯",date:"2022-04-04T14:25:59.000Z",permalink:"/pages/fae5d5/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/090.%E7%AE%80%E8%BF%B0%20Java%20%E7%9A%84%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.html",relativePath:"01.Javaç¸å³/10.åºç¡/090.ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯.md",key:"v-85b06162",path:"/pages/fae5d5/",headers:[{level:2,title:"ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯",slug:"ç®è¿°-java-çåå°æºå¶åå¶åºç¨åºæ¯",normalizedTitle:"ç®è¿° java çåå°æºå¶åå¶åºç¨åºæ¯",charIndex:2}],headersStr:"ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯",content:"# ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯\n\n*** Java çåå°æºå¶ ***\nè¿ä¸ªæºå¶åè®¸ç¨åºå¨è¿è¡æ¶éè¿Reflection APIsåå¾ä»»ä½ä¸ä¸ªå·²ç¥åç§°çclassçåé¨ä¿¡æ¯\nåæ¬å¶modifiers(è¯¸å¦public, static ç­)ãsuperclass(ä¾å¦Object)ãå®ç°ä¹interfaces(ä¾å¦Cloneable)ï¼ä¹åæ¬fieldsåmethodsçææä¿¡æ¯ï¼å¹¶å¯äºè¿è¡æ¶æ¹åfieldsåå®¹æå¤èµ·methodsã\nJavaåå°æºå¶å®¹è®¸ç¨åºå¨è¿è¡æ¶å è½½ãæ¢ç¥ãä½¿ç¨ç¼è¯æé´å®å¨æªç¥çclassesã\næ¢è¨ä¹ï¼Javaå¯ä»¥å è½½ä¸ä¸ªè¿è¡æ¶æå¾ç¥åç§°çclassï¼è·å¾å¶å®æ´ç»æã\n\n\n*** åºç¨åºæ¯ ***\nArthas\nRPCæ¡æ¶ä¸­ç å¨æä»£ç\nSpring å è½½ XML\nJava å¨æä»£ç\nJDBC é©±å¨å è½½\n",normalizedContent:"# ç®è¿° java çåå°æºå¶åå¶åºç¨åºæ¯\n\n*** java çåå°æºå¶ ***\nè¿ä¸ªæºå¶åè®¸ç¨åºå¨è¿è¡æ¶éè¿reflection apisåå¾ä»»ä½ä¸ä¸ªå·²ç¥åç§°çclassçåé¨ä¿¡æ¯\nåæ¬å¶modifiers(è¯¸å¦public, static ç­)ãsuperclass(ä¾å¦object)ãå®ç°ä¹interfaces(ä¾å¦cloneable)ï¼ä¹åæ¬fieldsåmethodsçææä¿¡æ¯ï¼å¹¶å¯äºè¿è¡æ¶æ¹åfieldsåå®¹æå¤èµ·methodsã\njavaåå°æºå¶å®¹è®¸ç¨åºå¨è¿è¡æ¶å è½½ãæ¢ç¥ãä½¿ç¨ç¼è¯æé´å®å¨æªç¥çclassesã\næ¢è¨ä¹ï¼javaå¯ä»¥å è½½ä¸ä¸ªè¿è¡æ¶æå¾ç¥åç§°çclassï¼è·å¾å¶å®æ´ç»æã\n\n\n*** åºç¨åºæ¯ ***\narthas\nrpcæ¡æ¶ä¸­ç å¨æä»£ç\nspring å è½½ xml\njava å¨æä»£ç\njdbc é©±å¨å è½½\n",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼",frontmatter:{title:"ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼",date:"2022-04-04T14:26:57.000Z",permalink:"/pages/38bcaf/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/110.%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/110.ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼.md",key:"v-7665e30e",path:"/pages/38bcaf/",headers:[{level:2,title:"ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼",slug:"ä»ä¹æ¯åäº²å§æ´¾æºå¶",normalizedTitle:"ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼",charIndex:2}],headersStr:"ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼",content:'# ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼\n\nåäº²å§æ´¾æºå¶æ¯æå½ä¸ä¸ªç±»å è½½å¨æ¶å°ä¸ä¸ªç±»å è½½è¯·æ±æ¶ï¼è¯¥ç±»å è½½å¨é¦åä¼æè¯·æ±å§æ´¾ç»ç¶ç±»å è½½å¨ã\n\n\n\nå è½½å¨                       å è½½åªäºç±»\nbootstrap classloader     å è½½jre/lib/rt.jar\nextension classloader     jre/lib/ext/*.jar\napplication classloader   å è½½åºç¨ç¨åºç®å½\nèªå®ä¹ClassLoader            å®å¶åå è½½\n\nåæ¥è¯»ä¸ä¸java.lang.ClassLoaderè¿æ®µä»£ç  æ¯ä¸æ¯ééäºè®¸å¤ï¼\n\n    public Class<?> loadClass(String name) throws ClassNotFoundException {\n        return loadClass(name, false);\n    }\n    //              -----??-----\n    protected Class<?> loadClass(String name, boolean resolve)\n        throws ClassNotFoundException\n    {\n            // é¦åï¼æ£æ¥æ¯å¦å·²ç»è¢«ç±»å è½½å¨å è½½è¿\n            Class<?> c = findLoadedClass(name);\n            if (c == null) {\n                try {\n                    // å­å¨ç¶å è½½å¨ï¼éå½çäº¤ç±ç¶å è½½å¨\n                    if (parent != null) {\n                        c = parent.loadClass(name, false);\n                    } else {\n                        // ç´å°æä¸é¢çBootstrapç±»å è½½å¨\n                        c = findBootstrapClassOrNull(name);\n                    }\n                } catch (ClassNotFoundException e) {\n                    // ClassNotFoundException thrown if class not found\n                    // from the non-null parent class loader\n                }\n \n                if (c == null) {\n                    // If still not found, then invoke findClass in order\n                    // to find the class.\n                    c = findClass(name);\n                }\n            }\n            return c;\n    }\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n> Q1ï¼ä½¿ç¨åäº²å§æ´¾æä»ä¹å¥½å¤ï¼\n> Aï¼åäº²å§æ´¾æºå¶è½ä¿è¯å¤å è½½å¨å è½½æä¸ªç±»æ¶ï¼æç»é½æ¯ç±ä¸ä¸ªå è½½å¨å è½½ï¼ç¡®ä¿æç»å è½½ç»æç¸åã\n> èèå°å®å¨å ç´ ã\n> åè®¾éè¿ç½ç»ä¼ éä¸ä¸ªåä¸ºjava.lang.Integerçç±»ï¼éè¿åäº²å§ææ¨¡å¼ä¼ éå°å¯å¨ç±»å è½½å¨ï¼èå¯å¨ç±»å è½½å¨å¨æ ¸å¿Java APIåç°è¿ä¸ªåå­çç±»ï¼åç°è¯¥ç±»å·²è¢«å è½½ï¼å¹¶ä¸ä¼éæ°å è½½ç½ç»ä¼ éçè¿æ¥çjava.lang.Integerï¼èç´æ¥è¿åå·²å è½½è¿çInteger.classï¼è¿æ ·ä¾¿å¯ä»¥é²æ­¢æ ¸å¿APIåºè¢«éæç¯¡æ¹ã\n\n> Q2ï¼ä»ä¹åºæ¯éè¦ç ´ååäº²å§æ´¾ï¼\n> åäº²å§æ´¾æ¨¡åå¾å¥½çè§£å³äºåä¸ªç±»å è½½å¨çåºç¡ç±»çç»ä¸é®é¢ï¼è¶åºç¡çç±»ç±è¶ä¸å±çå è½½å¨è¿è¡å è½½ï¼\n> åºç¡ç±»ä¹æä»¥ç§°ä¸ºâåºç¡âï¼æ¯å ä¸ºå®ä»¬æ»æ¯ä½ä¸ºè¢«ç¨æ·ä»£ç è°ç¨çAPI ä½æ²¡æç»å¯¹ï¼å¦æåºç¡ç±»è°ç¨ä¼ç¨æ·çä»£ç æä¹åå¢ï¼ æ¯å¦JDBCé©±å¨å è½½ã è¿ç§åºæ¯å°±éè¦ç¨å°SPIæºå¶ï¼æ¯ä¸ç¬¦ååäº²å§æ´¾çã\n\n> Q3ï¼JDBCãTomcatä¸­ä¸ºä»ä¹è¦ç ´ååäº²å§æ´¾æ¨¡å\n> Aï¼JDBC\n> åæ¥åé¡¾ä¸ä¸JDBCçç¨æ³\n\nString url = "jdbc:mysql:///consult?serverTimezone=UTC";\nString user = "root";\nString password = "root";\n\nClass.forName("com.mysql.jdbc.Driver");\nConnection connection = DriverManager.getConnection(url, user, password);\n\n\n1\n2\n3\n4\n5\n6\n\n\n> DriverManager ç±»ä¸­è¦å è½½åä¸ªå®ç°äºDriveræ¥å£çç±»ï¼ç¶åè¿è¡ç®¡çï¼DriverManagerä½äº JAVA_HOMEä¸­jre/lib/rt.jar åï¼ç±BootStrapç±»å è½½å¨å è½½.\n> JDBCçDriveræ¥å£å®ä¹å¨JDKä¸­ï¼å¶å®ç°ç±åä¸ªæ°æ®åºçæå¡åæ¥æä¾ï¼æ¯å¦MySQLé©±å¨åä½äºæå¡åMySQLæä¾ç Jar ä¸­åå«Driverçå®ç°ï¼æç§åäº²å§æ´¾æ¨¡ååºè¯¥ç±application classloaderå è½½\n> å®éä¸å´æ¯ç±BootStrapç±»å è½½å¨å è½½ã\n> è¿æ¯å ä¸ºï¼æ ¹æ®ç±»å è½½æºå¶ï¼å½è¢«è£è½½çç±»å¼ç¨äºå¦å¤ä¸ä¸ªç±»çæ¶åï¼èææºå°±ä¼ä½¿ç¨è£è½½ç¬¬ä¸ä¸ªç±»çç±»è£è½½å¨è£è½½è¢«å¼ç¨çç±»ã\n> è¿å°±ç ´åäºåäº²å§æ´¾æ¨¡åã\n\nTomcat\næ¯ä¸ªwebappClassLoaderå è½½èªå·±ç®å½ä¸çclassæä»¶\n\n> Tomcatæ¯æé¨ç½²å¤ä¸ªWebåºç¨ï¼å¤ä¸ªWebåºç¨å¯è½ä½¿ç¨ä¸åçæ¬çJDKãä¹å¯è½å¨åºç¨åé¨å®ä¹å¨éå®åä¸æ ·çç±»ï¼æä»¥è¦åå°åºç¨éç¦»ã',normalizedContent:'# ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼\n\nåäº²å§æ´¾æºå¶æ¯æå½ä¸ä¸ªç±»å è½½å¨æ¶å°ä¸ä¸ªç±»å è½½è¯·æ±æ¶ï¼è¯¥ç±»å è½½å¨é¦åä¼æè¯·æ±å§æ´¾ç»ç¶ç±»å è½½å¨ã\n\n\n\nå è½½å¨                       å è½½åªäºç±»\nbootstrap classloader     å è½½jre/lib/rt.jar\nextension classloader     jre/lib/ext/*.jar\napplication classloader   å è½½åºç¨ç¨åºç®å½\nèªå®ä¹classloader            å®å¶åå è½½\n\nåæ¥è¯»ä¸ä¸java.lang.classloaderè¿æ®µä»£ç  æ¯ä¸æ¯ééäºè®¸å¤ï¼\n\n    public class<?> loadclass(string name) throws classnotfoundexception {\n        return loadclass(name, false);\n    }\n    //              -----??-----\n    protected class<?> loadclass(string name, boolean resolve)\n        throws classnotfoundexception\n    {\n            // é¦åï¼æ£æ¥æ¯å¦å·²ç»è¢«ç±»å è½½å¨å è½½è¿\n            class<?> c = findloadedclass(name);\n            if (c == null) {\n                try {\n                    // å­å¨ç¶å è½½å¨ï¼éå½çäº¤ç±ç¶å è½½å¨\n                    if (parent != null) {\n                        c = parent.loadclass(name, false);\n                    } else {\n                        // ç´å°æä¸é¢çbootstrapç±»å è½½å¨\n                        c = findbootstrapclassornull(name);\n                    }\n                } catch (classnotfoundexception e) {\n                    // classnotfoundexception thrown if class not found\n                    // from the non-null parent class loader\n                }\n \n                if (c == null) {\n                    // if still not found, then invoke findclass in order\n                    // to find the class.\n                    c = findclass(name);\n                }\n            }\n            return c;\n    }\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n> q1ï¼ä½¿ç¨åäº²å§æ´¾æä»ä¹å¥½å¤ï¼\n> aï¼åäº²å§æ´¾æºå¶è½ä¿è¯å¤å è½½å¨å è½½æä¸ªç±»æ¶ï¼æç»é½æ¯ç±ä¸ä¸ªå è½½å¨å è½½ï¼ç¡®ä¿æç»å è½½ç»æç¸åã\n> èèå°å®å¨å ç´ ã\n> åè®¾éè¿ç½ç»ä¼ éä¸ä¸ªåä¸ºjava.lang.integerçç±»ï¼éè¿åäº²å§ææ¨¡å¼ä¼ éå°å¯å¨ç±»å è½½å¨ï¼èå¯å¨ç±»å è½½å¨å¨æ ¸å¿java apiåç°è¿ä¸ªåå­çç±»ï¼åç°è¯¥ç±»å·²è¢«å è½½ï¼å¹¶ä¸ä¼éæ°å è½½ç½ç»ä¼ éçè¿æ¥çjava.lang.integerï¼èç´æ¥è¿åå·²å è½½è¿çinteger.classï¼è¿æ ·ä¾¿å¯ä»¥é²æ­¢æ ¸å¿apiåºè¢«éæç¯¡æ¹ã\n\n> q2ï¼ä»ä¹åºæ¯éè¦ç ´ååäº²å§æ´¾ï¼\n> åäº²å§æ´¾æ¨¡åå¾å¥½çè§£å³äºåä¸ªç±»å è½½å¨çåºç¡ç±»çç»ä¸é®é¢ï¼è¶åºç¡çç±»ç±è¶ä¸å±çå è½½å¨è¿è¡å è½½ï¼\n> åºç¡ç±»ä¹æä»¥ç§°ä¸ºâåºç¡âï¼æ¯å ä¸ºå®ä»¬æ»æ¯ä½ä¸ºè¢«ç¨æ·ä»£ç è°ç¨çapi ä½æ²¡æç»å¯¹ï¼å¦æåºç¡ç±»è°ç¨ä¼ç¨æ·çä»£ç æä¹åå¢ï¼ æ¯å¦jdbcé©±å¨å è½½ã è¿ç§åºæ¯å°±éè¦ç¨å°spiæºå¶ï¼æ¯ä¸ç¬¦ååäº²å§æ´¾çã\n\n> q3ï¼jdbcãtomcatä¸­ä¸ºä»ä¹è¦ç ´ååäº²å§æ´¾æ¨¡å\n> aï¼jdbc\n> åæ¥åé¡¾ä¸ä¸jdbcçç¨æ³\n\nstring url = "jdbc:mysql:///consult?servertimezone=utc";\nstring user = "root";\nstring password = "root";\n\nclass.forname("com.mysql.jdbc.driver");\nconnection connection = drivermanager.getconnection(url, user, password);\n\n\n1\n2\n3\n4\n5\n6\n\n\n> drivermanager ç±»ä¸­è¦å è½½åä¸ªå®ç°äºdriveræ¥å£çç±»ï¼ç¶åè¿è¡ç®¡çï¼drivermanagerä½äº java_homeä¸­jre/lib/rt.jar åï¼ç±bootstrapç±»å è½½å¨å è½½.\n> jdbcçdriveræ¥å£å®ä¹å¨jdkä¸­ï¼å¶å®ç°ç±åä¸ªæ°æ®åºçæå¡åæ¥æä¾ï¼æ¯å¦mysqlé©±å¨åä½äºæå¡åmysqlæä¾ç jar ä¸­åå«driverçå®ç°ï¼æç§åäº²å§æ´¾æ¨¡ååºè¯¥ç±application classloaderå è½½\n> å®éä¸å´æ¯ç±bootstrapç±»å è½½å¨å è½½ã\n> è¿æ¯å ä¸ºï¼æ ¹æ®ç±»å è½½æºå¶ï¼å½è¢«è£è½½çç±»å¼ç¨äºå¦å¤ä¸ä¸ªç±»çæ¶åï¼èææºå°±ä¼ä½¿ç¨è£è½½ç¬¬ä¸ä¸ªç±»çç±»è£è½½å¨è£è½½è¢«å¼ç¨çç±»ã\n> è¿å°±ç ´åäºåäº²å§æ´¾æ¨¡åã\n\ntomcat\næ¯ä¸ªwebappclassloaderå è½½èªå·±ç®å½ä¸çclassæä»¶\n\n> tomcatæ¯æé¨ç½²å¤ä¸ªwebåºç¨ï¼å¤ä¸ªwebåºç¨å¯è½ä½¿ç¨ä¸åçæ¬çjdkãä¹å¯è½å¨åºç¨åé¨å®ä¹å¨éå®åä¸æ ·çç±»ï¼æä»¥è¦åå°åºç¨éç¦»ã',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java ç±»çå è½½æµç¨æ¯ææ ·çï¼",frontmatter:{title:"Java ç±»çå è½½æµç¨æ¯ææ ·çï¼",date:"2022-04-04T14:26:24.000Z",permalink:"/pages/33c5d6/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/100.Java%20%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/100.Java ç±»çå è½½æµç¨æ¯ææ ·çï¼.md",key:"v-4c273a66",path:"/pages/33c5d6/",headers:[{level:2,title:"Java ç±»çå è½½æµç¨æ¯ææ ·çï¼",slug:"java-ç±»çå è½½æµç¨æ¯ææ ·ç",normalizedTitle:"java ç±»çå è½½æµç¨æ¯ææ ·çï¼",charIndex:2}],headersStr:"Java ç±»çå è½½æµç¨æ¯ææ ·çï¼",content:"# Java ç±»çå è½½æµç¨æ¯ææ ·çï¼\n\nç±»ä»è¢«å è½½å°JVMä¸­å¼å§ï¼å°å¸è½½ä¸ºæ­¢ï¼æ´ä¸ªçå½å¨æåæ¬ï¼å è½½ãéªè¯ãåå¤ãè§£æãåå§åãä½¿ç¨åå¸è½½ä¸ä¸ªé¶æ®µã å¶ä¸­ç±»å è½½è¿ç¨åæ¬å è½½ãéªè¯ãåå¤ãè§£æååå§åäºä¸ªé¶æ®µã\n\n      åä»ä¹\nå è½½    ç±»å è½½é¶æ®µå°±æ¯ç±ç±»å è½½å¨è´è´£æ ¹æ®ä¸ä¸ªç±»çå¨éå®åæ¥è¯»åæ­¤ç±»çäºè¿å¶å­èæµå°JVMåé¨ï¼å¹¶å­å¨å¨è¿è¡æ¶åå­åºçæ¹æ³åºï¼ç¶åå°å¶è½¬æ¢ä¸ºä¸ä¸ªä¸ç®æ ç±»åå¯¹åºçjava.lang.Classå¯¹è±¡å®ä¾\néªè¯    éªè¯ç±»æ°æ®ä¿¡æ¯æ¯å¦ç¬¦åJVMè§èï¼æ¯å¦æ¯ä¸ä¸ªææçå­èç æä»¶ï¼éªè¯åå®¹æ¶µçäºç±»æ°æ®ä¿¡æ¯çæ ¼å¼éªè¯ãè¯­ä¹åæãæä½éªè¯ç­\nåå¤    ä¸ºç±»ä¸­çææéæåéåéåå­ç©ºé´ï¼å¹¶ä¸ºå¶è®¾ç½®ä¸ä¸ªåå§å¼ï¼ç±äºè¿æ²¡æäº§çå¯¹è±¡ï¼å®ä¾åéä¸å¨æ­¤æä½èå´åï¼\n      è¢«finalä¿®é¥°çéæåéï¼ä¼ç´æ¥èµäºåå¼ï¼ç±»å­æ®µçå­æ®µå±æ§è¡¨ä¸­å­å¨ConstantValueå±æ§ï¼åå¨åå¤é¶æ®µï¼å¶å¼å°±æ¯ConstantValueçå¼\nè§£æ    å¯ä»¥è®¤ä¸ºæ¯ä¸äºéæç»å®çä¼è¢«è§£æï¼å¨æç»å®ååªä¼å¨è¿è¡æ¯è¿è¡è§£æï¼éæç»å®åæ¬ä¸äºfinalæ¹æ³(ä¸å¯ä»¥éå),staticæ¹æ³(åªä¼å±äºå½åç±»)ï¼æé å¨(ä¸ä¼è¢«éå)\nåå§å   åå§åï¼ä¸ºç±»çéæåéèµäºæ­£ç¡®çåå§å¼ï¼JVMè´è´£å¯¹ç±»è¿è¡åå§åï¼ä¸»è¦å¯¹ç±»åéè¿è¡åå§åã",normalizedContent:"# java ç±»çå è½½æµç¨æ¯ææ ·çï¼\n\nç±»ä»è¢«å è½½å°jvmä¸­å¼å§ï¼å°å¸è½½ä¸ºæ­¢ï¼æ´ä¸ªçå½å¨æåæ¬ï¼å è½½ãéªè¯ãåå¤ãè§£æãåå§åãä½¿ç¨åå¸è½½ä¸ä¸ªé¶æ®µã å¶ä¸­ç±»å è½½è¿ç¨åæ¬å è½½ãéªè¯ãåå¤ãè§£æååå§åäºä¸ªé¶æ®µã\n\n      åä»ä¹\nå è½½    ç±»å è½½é¶æ®µå°±æ¯ç±ç±»å è½½å¨è´è´£æ ¹æ®ä¸ä¸ªç±»çå¨éå®åæ¥è¯»åæ­¤ç±»çäºè¿å¶å­èæµå°jvmåé¨ï¼å¹¶å­å¨å¨è¿è¡æ¶åå­åºçæ¹æ³åºï¼ç¶åå°å¶è½¬æ¢ä¸ºä¸ä¸ªä¸ç®æ ç±»åå¯¹åºçjava.lang.classå¯¹è±¡å®ä¾\néªè¯    éªè¯ç±»æ°æ®ä¿¡æ¯æ¯å¦ç¬¦åjvmè§èï¼æ¯å¦æ¯ä¸ä¸ªææçå­èç æä»¶ï¼éªè¯åå®¹æ¶µçäºç±»æ°æ®ä¿¡æ¯çæ ¼å¼éªè¯ãè¯­ä¹åæãæä½éªè¯ç­\nåå¤    ä¸ºç±»ä¸­çææéæåéåéåå­ç©ºé´ï¼å¹¶ä¸ºå¶è®¾ç½®ä¸ä¸ªåå§å¼ï¼ç±äºè¿æ²¡æäº§çå¯¹è±¡ï¼å®ä¾åéä¸å¨æ­¤æä½èå´åï¼\n      è¢«finalä¿®é¥°çéæåéï¼ä¼ç´æ¥èµäºåå¼ï¼ç±»å­æ®µçå­æ®µå±æ§è¡¨ä¸­å­å¨constantvalueå±æ§ï¼åå¨åå¤é¶æ®µï¼å¶å¼å°±æ¯constantvalueçå¼\nè§£æ    å¯ä»¥è®¤ä¸ºæ¯ä¸äºéæç»å®çä¼è¢«è§£æï¼å¨æç»å®ååªä¼å¨è¿è¡æ¯è¿è¡è§£æï¼éæç»å®åæ¬ä¸äºfinalæ¹æ³(ä¸å¯ä»¥éå),staticæ¹æ³(åªä¼å±äºå½åç±»)ï¼æé å¨(ä¸ä¼è¢«éå)\nåå§å   åå§åï¼ä¸ºç±»çéæåéèµäºæ­£ç¡®çåå§å¼ï¼jvmè´è´£å¯¹ç±»è¿è¡åå§åï¼ä¸»è¦å¯¹ç±»åéè¿è¡åå§åã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java ä¸­ sleep() ä¸ wait() çåºå«",frontmatter:{title:"Java ä¸­ sleep() ä¸ wait() çåºå«",date:"2022-04-04T14:27:16.000Z",permalink:"/pages/d69890/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/120.Java%20%E4%B8%AD%20sleep()%20%E4%B8%8E%20wait()%20%E7%9A%84%E5%8C%BA%E5%88%AB%20.html",relativePath:"01.Javaç¸å³/10.åºç¡/120.Java ä¸­ sleep() ä¸ wait() çåºå« .md",key:"v-6ff6e2f0",path:"/pages/d69890/",headers:[{level:2,title:"Java ä¸­ sleep() ä¸ wait() çåºå«",slug:"java-ä¸­-sleep-ä¸-wait-çåºå«",normalizedTitle:"java ä¸­ sleep() ä¸ wait() çåºå«",charIndex:2}],headersStr:"Java ä¸­ sleep() ä¸ wait() çåºå«",content:'# Java ä¸­ sleep() ä¸ wait() çåºå«\n\nä¸¤èé½å¯ä»¥æåçº¿ç¨çæ§è¡ãåºå«å¦ä¸ï¼\n\n\n       SLEEP()                                       WAIT()\n       ä¸è®©åºé                                          è®©åºé\nä½¿ç¨åºæ¯   ç¨äºæåæ§è¡                                        ç¨äºçº¿ç¨é´äº¤äº/éä¿¡\nå¤éæ¹å¼   çº¿ç¨ä¼èªå¨èéãæèå¯ä»¥ä½¿ç¨ wait(long timeout)è¶æ¶åçº¿ç¨ä¼èªå¨èé   éè¦å«ççº¿ç¨è°ç¨åä¸ä¸ªå¯¹è±¡ä¸ç notify() æè notifyAll() æ¹æ³\n\nyield() å join() ä½ äºè§£åï¼\n\n       YIELD()                                                 JOIN()\næè¿°     è°ç¨yieldæ¹æ³ï¼ä¼ç»çº¿ç¨è°åº¦å¨ä¸ä¸ªå½åçº¿ç¨æ¿æè®©åºCPUä½¿ç¨çæç¤ºï¼ä½æ¯çº¿ç¨è°åº¦å¨å¯è½ä¼å¿½ç¥è¿ä¸ªæç¤ºã   å¨çº¿ç¨Aä¸­è°ç¨çº¿ç¨B.join(),é£ä¹çº¿ç¨Aä¼ç­å¾ï¼cpuæ¶é´çç»çº¿ç¨Bæ§è¡ï¼è®©çº¿ç¨Båæ§è¡ï¼ç¶åAåæ§è¡ã\nä½¿ç¨åºæ¯   å¾å°ä½¿ç¨                                                    ä½¿å¼æ­¥æ§è¡ççº¿ç¨åæåæ­¥æ§è¡ï¼åºå±æ¯waitæ¹æ³\n\npublic class JoinTest {\n\tpublic static void main(String[] args) {\n\t\tThread t = new Thread(new ThreadImp());\n\t\tt.start();\n\t\ttry {\n\t\t\tt.join(1000);//ä¸»ç¨åºç­å¾tç»æ,åªç­1s\n\t\t\tif(t.isAlive()){\n\t\t\t\tSystem.out.println("t has not finished");\n\t\t\t}else{\n\t\t\t\tSystem.out.println("t has finished");\n\t\t\t}\n\t\t\tSystem.out.println("Joinfinished");\n\t\t} catch (Exception e) {\n\t\t\tSystem.out.println(e);\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',normalizedContent:'# java ä¸­ sleep() ä¸ wait() çåºå«\n\nä¸¤èé½å¯ä»¥æåçº¿ç¨çæ§è¡ãåºå«å¦ä¸ï¼\n\n\n       sleep()                                       wait()\n       ä¸è®©åºé                                          è®©åºé\nä½¿ç¨åºæ¯   ç¨äºæåæ§è¡                                        ç¨äºçº¿ç¨é´äº¤äº/éä¿¡\nå¤éæ¹å¼   çº¿ç¨ä¼èªå¨èéãæèå¯ä»¥ä½¿ç¨ wait(long timeout)è¶æ¶åçº¿ç¨ä¼èªå¨èé   éè¦å«ççº¿ç¨è°ç¨åä¸ä¸ªå¯¹è±¡ä¸ç notify() æè notifyall() æ¹æ³\n\nyield() å join() ä½ äºè§£åï¼\n\n       yield()                                                 join()\næè¿°     è°ç¨yieldæ¹æ³ï¼ä¼ç»çº¿ç¨è°åº¦å¨ä¸ä¸ªå½åçº¿ç¨æ¿æè®©åºcpuä½¿ç¨çæç¤ºï¼ä½æ¯çº¿ç¨è°åº¦å¨å¯è½ä¼å¿½ç¥è¿ä¸ªæç¤ºã   å¨çº¿ç¨aä¸­è°ç¨çº¿ç¨b.join(),é£ä¹çº¿ç¨aä¼ç­å¾ï¼cpuæ¶é´çç»çº¿ç¨bæ§è¡ï¼è®©çº¿ç¨båæ§è¡ï¼ç¶åaåæ§è¡ã\nä½¿ç¨åºæ¯   å¾å°ä½¿ç¨                                                    ä½¿å¼æ­¥æ§è¡ççº¿ç¨åæåæ­¥æ§è¡ï¼åºå±æ¯waitæ¹æ³\n\npublic class jointest {\n\tpublic static void main(string[] args) {\n\t\tthread t = new thread(new threadimp());\n\t\tt.start();\n\t\ttry {\n\t\t\tt.join(1000);//ä¸»ç¨åºç­å¾tç»æ,åªç­1s\n\t\t\tif(t.isalive()){\n\t\t\t\tsystem.out.println("t has not finished");\n\t\t\t}else{\n\t\t\t\tsystem.out.println("t has finished");\n\t\t\t}\n\t\t\tsystem.out.println("joinfinished");\n\t\t} catch (exception e) {\n\t\t\tsystem.out.println(e);\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° Java ä¸­ final å³é®å­çä½ç¨",frontmatter:{title:"ç®è¿° Java ä¸­ final å³é®å­çä½ç¨",date:"2022-04-04T14:27:44.000Z",permalink:"/pages/2b00a3/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/130.%E7%AE%80%E8%BF%B0%20Java%20%E4%B8%AD%20final%20%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E4%BD%9C%E7%94%A8.html",relativePath:"01.Javaç¸å³/10.åºç¡/130.ç®è¿° Java ä¸­ final å³é®å­çä½ç¨.md",key:"v-620ebadc",path:"/pages/2b00a3/",headers:[{level:2,title:"ç®è¿° Java ä¸­ final å³é®å­çä½ç¨",slug:"ç®è¿°-java-ä¸­-final-å³é®å­çä½ç¨",normalizedTitle:"ç®è¿° java ä¸­ final å³é®å­çä½ç¨",charIndex:2}],headersStr:"ç®è¿° Java ä¸­ final å³é®å­çä½ç¨",content:"# ç®è¿° Java ä¸­ final å³é®å­çä½ç¨\n\n\nfinal å³é®å­ä¸»è¦ç¨å¨ä¸ä¸ªå°æ¹ï¼åéãæ¹æ³ãç±»ã\n\n\nä¿®é¥°å¯¹è±¡   éå¶                                     ä½¿ç¨åºæ¯\nç±»      è¢«finalä¿®é¥°çç±»ï¼æ¯ä¸å¯ä»¥è¢«ç»§æ¿çï¼è¿æ ·åçç®çå¯ä»¥ä¿è¯è¯¥ç±»ä¸è¢«ä¿®æ¹   Javaçä¸äºæ ¸å¿çAPIé½æ¯finalç±»ï¼ä¾å¦StringãIntegerãMathç­\næ¹æ³     å­ç±»ä¸å¯ä»¥éåç¶ç±»ä¸­è¢«finalä¿®é¥°çæ¹æ³                  æ¯å¦ æ¨¡æ¿æ¹æ³ï¼å¯ä»¥ç¨æ¥åºå®ç®æ³\næååé   è¢«ä¿®é¥°çæååéå¿é¡»å¨å®ä¹æ¶æèæé å¨ä¸­è¿è¡åå§åèµå¼ï¼ä¸ä¸å¯åä¿®æ¹     \nå±é¨åé   finalä¿®é¥°å±é¨åéæ¶åªè½åå§å(èµå¼)ä¸æ¬¡ï¼ä½ä¹å¯ä»¥ä¸åå§å       \næ¹æ³åæ°   finalä¿®é¥°æ¹æ³åæ°æ¶ï¼æ¯å¨è°ç¨æ¹æ³ä¼ éåæ°æ¶ååå§åç          \n\n> finalä¿®é¥°åéè¦è¯´æå ç¹ï¼\n> 1.ä¿®é¥°åºæ¬ç±»åæ°æ®ï¼finalä¼å°å¼åä¸ºä¸ä¸ªå¸¸æ°ï¼åå»ºåä¸è½è¢«ä¿®æ¹ï¼ï¼\n> 2.ä¿®é¥°çæ¯å¼ç¨ç±»åï¼å¼ç¨çæå æ¯ä¸å¯åï¼ä½å¯¹è±¡éé¢çå±æ§å¯ä»¥æ¹å ãè¿ä¸éå¶ä¹éç¨äºæ°ç»ï¼æ°ç»ä¹å±äºå¯¹è±¡ï¼æ°ç»æ¬èº«ä¹æ¯å¯ä»¥ä¿®æ¹çã\n> 3.æ¹æ³åæ°ä¸­çfinalå¥æï¼æå³çå¨è¯¥æ¹æ³åé¨ï¼æä»¬ä¸è½æ¹ååæ°å¥ææåçå®éä¸è¥¿ï¼ä¹å°±æ¯è¯´å¨æ¹æ³åé¨ä¸è½ç»å½¢åå¥æåå¦å¤èµå¼ã\n\n//è¿æ®µä»£ç å¯ä»¥æ­£å¸¸ç¼è¯è¿è¡ å ä¸ºfinalä¿®é¥°çæ¯å¼ç¨ç±»åï¼å¼ç¨çæå æ¯ä¸å¯åï¼ä½å¯¹è±¡éé¢çå±æ§å¯ä»¥æ¹å\npublic class Test {\n    public static void main(String[] args)  {\n        final MyClass myClass = new MyClass();\n        System.out.println(++myClass.i); \n \n    }\n}\n\nclass MyClass {\n    public int i = 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n",normalizedContent:"# ç®è¿° java ä¸­ final å³é®å­çä½ç¨\n\n\nfinal å³é®å­ä¸»è¦ç¨å¨ä¸ä¸ªå°æ¹ï¼åéãæ¹æ³ãç±»ã\n\n\nä¿®é¥°å¯¹è±¡   éå¶                                     ä½¿ç¨åºæ¯\nç±»      è¢«finalä¿®é¥°çç±»ï¼æ¯ä¸å¯ä»¥è¢«ç»§æ¿çï¼è¿æ ·åçç®çå¯ä»¥ä¿è¯è¯¥ç±»ä¸è¢«ä¿®æ¹   javaçä¸äºæ ¸å¿çapié½æ¯finalç±»ï¼ä¾å¦stringãintegerãmathç­\næ¹æ³     å­ç±»ä¸å¯ä»¥éåç¶ç±»ä¸­è¢«finalä¿®é¥°çæ¹æ³                  æ¯å¦ æ¨¡æ¿æ¹æ³ï¼å¯ä»¥ç¨æ¥åºå®ç®æ³\næååé   è¢«ä¿®é¥°çæååéå¿é¡»å¨å®ä¹æ¶æèæé å¨ä¸­è¿è¡åå§åèµå¼ï¼ä¸ä¸å¯åä¿®æ¹     \nå±é¨åé   finalä¿®é¥°å±é¨åéæ¶åªè½åå§å(èµå¼)ä¸æ¬¡ï¼ä½ä¹å¯ä»¥ä¸åå§å       \næ¹æ³åæ°   finalä¿®é¥°æ¹æ³åæ°æ¶ï¼æ¯å¨è°ç¨æ¹æ³ä¼ éåæ°æ¶ååå§åç          \n\n> finalä¿®é¥°åéè¦è¯´æå ç¹ï¼\n> 1.ä¿®é¥°åºæ¬ç±»åæ°æ®ï¼finalä¼å°å¼åä¸ºä¸ä¸ªå¸¸æ°ï¼åå»ºåä¸è½è¢«ä¿®æ¹ï¼ï¼\n> 2.ä¿®é¥°çæ¯å¼ç¨ç±»åï¼å¼ç¨çæå æ¯ä¸å¯åï¼ä½å¯¹è±¡éé¢çå±æ§å¯ä»¥æ¹å ãè¿ä¸éå¶ä¹éç¨äºæ°ç»ï¼æ°ç»ä¹å±äºå¯¹è±¡ï¼æ°ç»æ¬èº«ä¹æ¯å¯ä»¥ä¿®æ¹çã\n> 3.æ¹æ³åæ°ä¸­çfinalå¥æï¼æå³çå¨è¯¥æ¹æ³åé¨ï¼æä»¬ä¸è½æ¹ååæ°å¥ææåçå®éä¸è¥¿ï¼ä¹å°±æ¯è¯´å¨æ¹æ³åé¨ä¸è½ç»å½¢åå¥æåå¦å¤èµå¼ã\n\n//è¿æ®µä»£ç å¯ä»¥æ­£å¸¸ç¼è¯è¿è¡ å ä¸ºfinalä¿®é¥°çæ¯å¼ç¨ç±»åï¼å¼ç¨çæå æ¯ä¸å¯åï¼ä½å¯¹è±¡éé¢çå±æ§å¯ä»¥æ¹å\npublic class test {\n    public static void main(string[] args)  {\n        final myclass myclass = new myclass();\n        system.out.println(++myclass.i); \n \n    }\n}\n\nclass myclass {\n    public int i = 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼",frontmatter:{title:"String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼",date:"2022-04-04T14:28:11.000Z",permalink:"/pages/73113f/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/140.String%20%E7%B1%BB%E8%83%BD%E4%B8%8D%E8%83%BD%E8%A2%AB%E7%BB%A7%E6%89%BF%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/140.String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼.md",key:"v-5290507e",path:"/pages/73113f/",headers:[{level:2,title:"String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼",slug:"string-ç±»è½ä¸è½è¢«ç»§æ¿-ä¸ºä»ä¹",normalizedTitle:"string ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼",charIndex:2}],headersStr:"String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼",content:"# String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼\n\nä¸å¯ä»¥ï¼String æ¯è¢«finalä¿®é¥°çã\n\n\npublic final class String implements java.io.Serializable, Comparable<String>, CharSequence {\n    // çç¥...ã\n}\n\n\n1\n2\n3\n\n\n> Q:String ä¸ºä»ä¹æ¯ final ç±»åï¼\n> A:è¢«finalä¿®é¥°çç±»ï¼æ¯ä¸å¯ä»¥è¢«ç»§æ¿çï¼è¿æ ·åçç®çå¯ä»¥ä¿è¯è¯¥ç±»ä¸è¢«ä¿®æ¹",normalizedContent:"# string ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼\n\nä¸å¯ä»¥ï¼string æ¯è¢«finalä¿®é¥°çã\n\n\npublic final class string implements java.io.serializable, comparable<string>, charsequence {\n    // çç¥...ã\n}\n\n\n1\n2\n3\n\n\n> q:string ä¸ºä»ä¹æ¯ final ç±»åï¼\n> a:è¢«finalä¿®é¥°çç±»ï¼æ¯ä¸å¯ä»¥è¢«ç»§æ¿çï¼è¿æ ·åçç®çå¯ä»¥ä¿è¯è¯¥ç±»ä¸è¢«ä¿®æ¹",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼",frontmatter:{title:"Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼",date:"2022-04-04T14:29:13.000Z",permalink:"/pages/115772/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/150.Java%20%E7%BC%93%E5%86%B2%E6%B5%81%20buffer%20%E7%9A%84%E7%94%A8%E9%80%94%E5%92%8C%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/150.Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼.md",key:"v-6f5c6512",path:"/pages/115772/",headers:[{level:2,title:"Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼",slug:"java-ç¼å²æµ-buffer-çç¨éååçæ¯ä»ä¹",normalizedTitle:"java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼",charIndex:2}],headersStr:"Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼",content:'# Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼\n\nbufferæ¬è´¨æ¯ä¸ä¸ªå­èæ°ç»ï¼ByteBuffï¼ï¼åæ¶æä¾æ°æ®çç»æåè®¿é®ä»¥åç»´æ¤è¯»åä½ç½®ã\nèè¿ç¨BufferedInputStreamï¼åå¯ä»¥ä¸æ¬¡æ§è¯»nä¸ªå­èå°åå­ä¸­çç¼å²åºï¼è¿æ ·å¨åå­ä¸­è¯»åæ°æ®ä¼å¿«å¾å¤ã 1.æµæ¯ååç æä»¥ä¼æè¾å¥æµãè¾åºæµ\n2.å­èæµä¸è¬ç¨äºå¤çæä»¶ãè§é¢ãé³é¢ç­ï¼å­ç¬¦æµä¸è¬ç¨äºå¤çææ¬æ°æ®ã\n3.åçï¼ç»´æ¤ä¸ä¸ªæ°ç»ãä¸ä¸ªæé\n\n\npublic class BufferedInputStream extends FilterInputStream{\n    private static int DEFAULT_BUFFER_SIZE = 8192;\n    private static int MAX_BUFFER_SIZE = Integer.MAX_VALUE - 8;\n    // ç¼å²æ°ç»\n    protected volatile byte buf[];\n    // bufUpdateræä¾bufçcompareAndSetæ¹æ³ï¼è¿æ¯å¿è¦çï¼å ä¸ºclose()å¯ä»¥æ¯å¼æ­¥çï¼å¯ä»¥å°bufæ¯å¦ä¸ºnullä½ä¸ºæ¯å¦closeçä¸»è¦ææ ã\n    private static final AtomicReferenceFieldUpdater<BufferedInputStream, byte[]> bufUpdater =\n        AtomicReferenceFieldUpdater.newUpdater(BufferedInputStream.class,  byte[].class, "buf");\n    // bufä¸­çææå­èæ°\n    protected int count;\n    // bufä¸­çå½åå­èä½ç½®\n    protected int pos;\n    \n    public BufferedInputStream(InputStream in) {\n        this(in, DEFAULT_BUFFER_SIZE);\n    }\n\n    public BufferedInputStream(InputStream in, int size) {\n        super(in);\n        if (size <= 0) {\n            throw new IllegalArgumentException("Buffer size <= 0");\n        }\n        buf = new byte[size];\n    }\n\n   //è¯»æ¹æ³ -> æ°æ®åå¥å°æ°ç»bufä¸­\n    public synchronized int read() throws IOException {\n        // å½è¯»å®bufä¸­çæ°æ®åï¼å°±éè¦æInputStreamçæ°æ®éæ°å¡«åå°buf\n        if (pos >= count) {\n            fill();\n            if (pos >= count)\n                return -1;\n        }\n        // è¿åbufçä¸ä¸ä¸ªå­è æéåç§»\n        return getBufIfOpen()[pos++] & 0xff;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n',normalizedContent:'# java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼\n\nbufferæ¬è´¨æ¯ä¸ä¸ªå­èæ°ç»ï¼bytebuffï¼ï¼åæ¶æä¾æ°æ®çç»æåè®¿é®ä»¥åç»´æ¤è¯»åä½ç½®ã\nèè¿ç¨bufferedinputstreamï¼åå¯ä»¥ä¸æ¬¡æ§è¯»nä¸ªå­èå°åå­ä¸­çç¼å²åºï¼è¿æ ·å¨åå­ä¸­è¯»åæ°æ®ä¼å¿«å¾å¤ã 1.æµæ¯ååç æä»¥ä¼æè¾å¥æµãè¾åºæµ\n2.å­èæµä¸è¬ç¨äºå¤çæä»¶ãè§é¢ãé³é¢ç­ï¼å­ç¬¦æµä¸è¬ç¨äºå¤çææ¬æ°æ®ã\n3.åçï¼ç»´æ¤ä¸ä¸ªæ°ç»ãä¸ä¸ªæé\n\n\npublic class bufferedinputstream extends filterinputstream{\n    private static int default_buffer_size = 8192;\n    private static int max_buffer_size = integer.max_value - 8;\n    // ç¼å²æ°ç»\n    protected volatile byte buf[];\n    // bufupdateræä¾bufçcompareandsetæ¹æ³ï¼è¿æ¯å¿è¦çï¼å ä¸ºclose()å¯ä»¥æ¯å¼æ­¥çï¼å¯ä»¥å°bufæ¯å¦ä¸ºnullä½ä¸ºæ¯å¦closeçä¸»è¦ææ ã\n    private static final atomicreferencefieldupdater<bufferedinputstream, byte[]> bufupdater =\n        atomicreferencefieldupdater.newupdater(bufferedinputstream.class,  byte[].class, "buf");\n    // bufä¸­çææå­èæ°\n    protected int count;\n    // bufä¸­çå½åå­èä½ç½®\n    protected int pos;\n    \n    public bufferedinputstream(inputstream in) {\n        this(in, default_buffer_size);\n    }\n\n    public bufferedinputstream(inputstream in, int size) {\n        super(in);\n        if (size <= 0) {\n            throw new illegalargumentexception("buffer size <= 0");\n        }\n        buf = new byte[size];\n    }\n\n   //è¯»æ¹æ³ -> æ°æ®åå¥å°æ°ç»bufä¸­\n    public synchronized int read() throws ioexception {\n        // å½è¯»å®bufä¸­çæ°æ®åï¼å°±éè¦æinputstreamçæ°æ®éæ°å¡«åå°buf\n        if (pos >= count) {\n            fill();\n            if (pos >= count)\n                return -1;\n        }\n        // è¿åbufçä¸ä¸ä¸ªå­è æéåç§»\n        return getbufifopen()[pos++] & 0xff;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿°å¨æä»£çä¸éæä»£ç",frontmatter:{title:"ç®è¿°å¨æä»£çä¸éæä»£ç",date:"2022-04-04T14:29:39.000Z",permalink:"/pages/37dba4/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/160.%E7%AE%80%E8%BF%B0%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%B8%8E%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86%20.html",relativePath:"01.Javaç¸å³/10.åºç¡/160.ç®è¿°å¨æä»£çä¸éæä»£ç .md",key:"v-75844e97",path:"/pages/37dba4/",headers:[{level:2,title:"ç®è¿°å¨æä»£çä¸éæä»£ç",slug:"ç®è¿°å¨æä»£çä¸éæä»£ç",normalizedTitle:"ç®è¿°å¨æä»£çä¸éæä»£ç",charIndex:2}],headersStr:"ç®è¿°å¨æä»£çä¸éæä»£ç",content:"# ç®è¿°å¨æä»£çä¸éæä»£ç\n\n       éæä»£ç                                                                                                      å¨æä»£ç\n       ç±ç¨åºååå»ºä»£çç±»æç¹å®å·¥å·èªå¨çææºä»£ç åå¯¹å¶ç¼è¯ãå¨ç¨åºè¿è¡åä»£çç±»ç .class æä»¶å°±å·²ç»å­å¨äº                                                     å¨ç¨åºè¿è¡æ¶è¿ç¨åå°æºå¶å¨æåå»ºèæï¼å¨æå°±æ¯å¨ç¨åºè¿è¡æ¶çæçï¼èä¸æ¯ç¼è¯æ¶ã\nåºç¨åºæ¯   AspectJ AOP                                                                                               Spring AOPãRPC æ¡æ¶\nä¼ç¹     å¨ä¸ä¿®æ¹ç®æ å¯¹è±¡çåæä¸ï¼å¯ä»¥éè¿ä»£çå¯¹è±¡å¯¹ç®æ å¯¹è±¡åè½æ©å±                                                                            ä¸ä¼ä¼äº§çå¾å¤éæç±»ï¼éè¿ä¸ä¸ªä»£çç±»å®æå¨é¨çä»£çåè½\nç¼ºç¹     1.ä»£çç±»åå§æç±»å®ç°äºç¸åçæ¥å£ï¼ä»£çç±»éè¿å§æç±»å®ç°äºç¸åçæ¹æ³ãè¿æ ·å°±åºç°äºå¤§éçä»£ç éå¤ãå¦ææ¥å£å¢å ä¸ä¸ªæ¹æ³ï¼é¤äºææå®ç°ç±»éè¦å®ç°è¿ä¸ªæ¹æ³å¤ï¼ææä»£çç±»ä¹éè¦å®ç°æ­¤æ¹æ³ãå¢å äºä»£ç ç»´æ¤çå¤æåº¦ã   \n       2.ä»£çå¯¹è±¡åªæå¡äºä¸ç§ç±»åçå¯¹è±¡ï¼å¦æè¦æå¡å¤ç±»åçå¯¹è±¡ãå¿å¿è¦ä¸ºæ¯ä¸ç§å¯¹è±¡é½è¿è¡ä»£çï¼éæä»£çå¨ç¨åºè§æ¨¡ç¨å¤§æ¶å°±æ æ³èä»»äºã\n\n> 1.AspectJ çåºå±ææ¯å°±æ¯éæä»£çï¼ç¨ä¸ç§ AspectJ æ¯æçç¹å®è¯­è¨ç¼ååé¢ï¼éè¿ä¸ä¸ªå½ä»¤æ¥ç¼è¯ï¼çæä¸ä¸ªæ°çä»£çç±»ï¼è¯¥ä»£çç±»å¢å¼ºäºä¸å¡ç±»ï¼è¿æ¯å¨ç¼è¯æ¶å¢å¼ºï¼ç¸å¯¹äºä¸é¢è¯´çè¿è¡æ¶å¢å¼ºï¼ç¼è¯æ¶å¢å¼ºçæ§è½æ´å¥½ã\n> 2.JDK å¨æä»£çï¼\n> \n> \n>  * ä»£çå¯¹è±¡ï¼ä¸éè¦å®ç°æ¥å£ï¼ä½æ¯ç®æ å¯¹è±¡è¦å®ç°æ¥å£ï¼å¦åä¸è½ç¨å¨æä»£ç\n>    \n>  * ä»£çå¯¹è±¡ççæï¼æ¯éè¿ JDK ç APIï¼åå°æºå¶ï¼ï¼å¨æçå¨åå­ä¸­æå»ºä»£çå¯¹è±¡ï¼å¨ Java ä¸­è¦æ³å®ç°å¨æä»£çæºå¶ï¼éè¦ java.lang.reflect.InvocationHandler æ¥å£å java.lang.reflect.Proxy ç±»çæ¯æ\n>    3.cglib ä»£ç:\n>  * éæä»£çå JDK ä»£çæ¨¡å¼é½è¦æ±ç®æ å¯¹è±¡å®ç°ä¸ä¸ªæ¥å£ï¼ä½ææ¶åç®æ å¯¹è±¡åªæ¯ä¸ä¸ªåç¬çå¯¹è±¡ï¼å¹¶æ²¡æå®ç°ä»»ä½æ¥å£ï¼è¿ä¸ªæ¶åå°±å¯ä»¥ä½¿ç¨ç®æ å¯¹è±¡å­ç±»æ¥å®ç°ä»£çï¼è¿å°±æ¯ cglib ä»£çã\n>    *cglib (opens new window)(Code Generation Library)æ¯ä¸ä¸ªåºäº ASM çå­èç çæåºï¼å®åè®¸æä»¬å¨è¿è¡æ¶å¯¹å­èç è¿è¡ä¿®æ¹åå¨æçæãcglib éè¿ç»§æ¿æ¹å¼å®ç°ä»£çãå®å¹¿æ³çè¢«è®¸å¤ AOP çæ¡æ¶ä½¿ç¨ï¼æ¯å¦æä»¬ç Spring AOPã\n>    *cglib åçåºå±æ¯éè¿ä½¿ç¨å­èç å¤çæ¡æ¶ ASM æ¥è½¬æ¢å­èç å¹¶çææ°çç±»ã\n>    *cglib ä»£çä¹è¢«å«åå­ç±»ä»£çï¼å®æ¯å¨åå­ä¸­æå»ºä¸ä¸ªå­ç±»å¯¹è±¡ä»èå®ç°ç®æ å¯¹è±¡åè½æ©å±ã\n>    ",normalizedContent:"# ç®è¿°å¨æä»£çä¸éæä»£ç\n\n       éæä»£ç                                                                                                      å¨æä»£ç\n       ç±ç¨åºååå»ºä»£çç±»æç¹å®å·¥å·èªå¨çææºä»£ç åå¯¹å¶ç¼è¯ãå¨ç¨åºè¿è¡åä»£çç±»ç .class æä»¶å°±å·²ç»å­å¨äº                                                     å¨ç¨åºè¿è¡æ¶è¿ç¨åå°æºå¶å¨æåå»ºèæï¼å¨æå°±æ¯å¨ç¨åºè¿è¡æ¶çæçï¼èä¸æ¯ç¼è¯æ¶ã\nåºç¨åºæ¯   aspectj aop                                                                                               spring aopãrpc æ¡æ¶\nä¼ç¹     å¨ä¸ä¿®æ¹ç®æ å¯¹è±¡çåæä¸ï¼å¯ä»¥éè¿ä»£çå¯¹è±¡å¯¹ç®æ å¯¹è±¡åè½æ©å±                                                                            ä¸ä¼ä¼äº§çå¾å¤éæç±»ï¼éè¿ä¸ä¸ªä»£çç±»å®æå¨é¨çä»£çåè½\nç¼ºç¹     1.ä»£çç±»åå§æç±»å®ç°äºç¸åçæ¥å£ï¼ä»£çç±»éè¿å§æç±»å®ç°äºç¸åçæ¹æ³ãè¿æ ·å°±åºç°äºå¤§éçä»£ç éå¤ãå¦ææ¥å£å¢å ä¸ä¸ªæ¹æ³ï¼é¤äºææå®ç°ç±»éè¦å®ç°è¿ä¸ªæ¹æ³å¤ï¼ææä»£çç±»ä¹éè¦å®ç°æ­¤æ¹æ³ãå¢å äºä»£ç ç»´æ¤çå¤æåº¦ã   \n       2.ä»£çå¯¹è±¡åªæå¡äºä¸ç§ç±»åçå¯¹è±¡ï¼å¦æè¦æå¡å¤ç±»åçå¯¹è±¡ãå¿å¿è¦ä¸ºæ¯ä¸ç§å¯¹è±¡é½è¿è¡ä»£çï¼éæä»£çå¨ç¨åºè§æ¨¡ç¨å¤§æ¶å°±æ æ³èä»»äºã\n\n> 1.aspectj çåºå±ææ¯å°±æ¯éæä»£çï¼ç¨ä¸ç§ aspectj æ¯æçç¹å®è¯­è¨ç¼ååé¢ï¼éè¿ä¸ä¸ªå½ä»¤æ¥ç¼è¯ï¼çæä¸ä¸ªæ°çä»£çç±»ï¼è¯¥ä»£çç±»å¢å¼ºäºä¸å¡ç±»ï¼è¿æ¯å¨ç¼è¯æ¶å¢å¼ºï¼ç¸å¯¹äºä¸é¢è¯´çè¿è¡æ¶å¢å¼ºï¼ç¼è¯æ¶å¢å¼ºçæ§è½æ´å¥½ã\n> 2.jdk å¨æä»£çï¼\n> \n> \n>  * ä»£çå¯¹è±¡ï¼ä¸éè¦å®ç°æ¥å£ï¼ä½æ¯ç®æ å¯¹è±¡è¦å®ç°æ¥å£ï¼å¦åä¸è½ç¨å¨æä»£ç\n>    \n>  * ä»£çå¯¹è±¡ççæï¼æ¯éè¿ jdk ç apiï¼åå°æºå¶ï¼ï¼å¨æçå¨åå­ä¸­æå»ºä»£çå¯¹è±¡ï¼å¨ java ä¸­è¦æ³å®ç°å¨æä»£çæºå¶ï¼éè¦ java.lang.reflect.invocationhandler æ¥å£å java.lang.reflect.proxy ç±»çæ¯æ\n>    3.cglib ä»£ç:\n>  * éæä»£çå jdk ä»£çæ¨¡å¼é½è¦æ±ç®æ å¯¹è±¡å®ç°ä¸ä¸ªæ¥å£ï¼ä½ææ¶åç®æ å¯¹è±¡åªæ¯ä¸ä¸ªåç¬çå¯¹è±¡ï¼å¹¶æ²¡æå®ç°ä»»ä½æ¥å£ï¼è¿ä¸ªæ¶åå°±å¯ä»¥ä½¿ç¨ç®æ å¯¹è±¡å­ç±»æ¥å®ç°ä»£çï¼è¿å°±æ¯ cglib ä»£çã\n>    *cglib (opens new window)(code generation library)æ¯ä¸ä¸ªåºäº asm çå­èç çæåºï¼å®åè®¸æä»¬å¨è¿è¡æ¶å¯¹å­èç è¿è¡ä¿®æ¹åå¨æçæãcglib éè¿ç»§æ¿æ¹å¼å®ç°ä»£çãå®å¹¿æ³çè¢«è®¸å¤ aop çæ¡æ¶ä½¿ç¨ï¼æ¯å¦æä»¬ç spring aopã\n>    *cglib åçåºå±æ¯éè¿ä½¿ç¨å­èç å¤çæ¡æ¶ asm æ¥è½¬æ¢å­èç å¹¶çææ°çç±»ã\n>    *cglib ä»£çä¹è¢«å«åå­ç±»ä»£çï¼å®æ¯å¨åå­ä¸­æå»ºä¸ä¸ªå­ç±»å¯¹è±¡ä»èå®ç°ç®æ å¯¹è±¡åè½æ©å±ã\n>    ",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼",frontmatter:{title:"é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼",date:"2022-04-04T14:30:18.000Z",permalink:"/pages/e9ce4e/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/170.%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97%E9%83%BD%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"01.Javaç¸å³/10.åºç¡/170.é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼.md",key:"v-1218fa85",path:"/pages/e9ce4e/",headers:[{level:2,title:"é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼",slug:"é»å¡éåé½æåªå ç§-æä»ä¹åºå«",normalizedTitle:"é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼",charIndex:2}],headersStr:"é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼",content:"# é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼\n\njava.util.concurrent.BlockingQueue æ¥å£æä»¥ä¸é»å¡éåçå®ç°ï¼\n\n\nFIFO éå ï¼LinkedBlockingQueueãArrayBlockingQueueï¼åºå®é¿åº¦ï¼\nä¼åçº§éå ï¼PriorityBlockingQueue\nå»¶æ¶éå ï¼ DelayQueue\nåæ­¥éå ï¼ SynchronousQueue\n\n\njava.util.concurrent.BlockingQueueæä¾äºé»å¡ç take() å put() æ¹æ³ï¼å¦æéåä¸ºç©º take() å°é»å¡ï¼ç´å°éåä¸­æåå®¹ï¼å¦æéåä¸ºæ»¡ put() å°é»å¡ï¼ç´å°éåæç©ºé²ä½ç½®ã\n\n\n                        \nLinkedBlockingQueue     1.åé¨æ¯ç¨é¾è¡¨å®ç°ç\n                        2.é»è®¤å®¹éæ¯ Integer.MAX_VALUE\n                        3.éåä¸­çéæ¯åç¦»çï¼å¶æ·»å éç¨çæ¯putLockï¼ç§»é¤éç¨çåæ¯takeLockï¼è¿æ ·è½å¤§å¤§æé«éåçååéï¼ä¹æå³çå¨é«å¹¶åçæåµä¸çäº§èåæ¶è´¹èå¯ä»¥å¹¶è¡å°æä½éåä¸­çæ°æ®ï¼ä»¥æ­¤æ¥æé«æ´ä¸ªéåçå¹¶åæ§è½\n                        4.ä¼çæä¸ä¸ªé¢å¤çNodeå¯¹è±¡ãè¿å¯è½å¨é¿æ¶é´åéè¦é«æå¹¶åå°å¤çå¤§æ¹éæ°æ®çæ¶ï¼å¯¹äºGCå¯è½å­å¨è¾å¤§å½±å\n                        5.å¨æ ççæåµä¸ï¼å¯è½ä¼é æåå­æº¢åºç­é®é¢ã\nArrayBlockingQueue      1.ArrayBlockingQueue æ¯æå¸åçæçéå\n                        2.å¶åé¨æ¯ç¨æ°ç»å­å¨åç´ ç\n                        3.å©ç¨ ReentrantLock å®ç°çº¿ç¨å®å¨,æ·»å æä½åç§»é¤æä½éç¨çåä¸ä¸ªReenterLocké\n                        4.å¨åå»ºå®çæ¶åå°±éè¦æå®å®çå®¹éï¼ä¹åä¹ä¸å¯ä»¥åæ©å®¹äº\n                        5.æé å½æ°ä¸­æä»¬åæ ·å¯ä»¥æå®æ¯å¦æ¯å¬å¹³ç\nPriorityBlockingQueue   1.æ çé»å¡éå\n                        2. æ¯æä¼åçº§,å¯ä»¥éè¿èªå®ä¹ç±»å®ç° compareTo() æ¹æ³æ¥æå®åç´ æåºè§å\nDelayQueue              1.æ çéå\n                        2.æ¾å¥çåç´ å¿é¡»å®ç° Delayed æ¥å£\n                        3.åé¨ä½¿ç¨äº PriorityQueue çè½åæ¥è¿è¡æåº\nSynchronousQueue        å®¹éä¸º\n                        0,æä»¥æ²¡æä¸ä¸ªå°æ¹æ¥æå­åç´ ï¼å¯¼è´æ¯æ¬¡åæ°æ®é½è¦åé»å¡ï¼ç´å°ææ°æ®è¢«æ¾å¥ï¼åçï¼æ¯æ¬¡æ¾æ°æ®çæ¶åä¹ä¼é»å¡ï¼ç´å°ææ¶è´¹èæ¥å",normalizedContent:"# é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼\n\njava.util.concurrent.blockingqueue æ¥å£æä»¥ä¸é»å¡éåçå®ç°ï¼\n\n\nfifo éå ï¼linkedblockingqueueãarrayblockingqueueï¼åºå®é¿åº¦ï¼\nä¼åçº§éå ï¼priorityblockingqueue\nå»¶æ¶éå ï¼ delayqueue\nåæ­¥éå ï¼ synchronousqueue\n\n\njava.util.concurrent.blockingqueueæä¾äºé»å¡ç take() å put() æ¹æ³ï¼å¦æéåä¸ºç©º take() å°é»å¡ï¼ç´å°éåä¸­æåå®¹ï¼å¦æéåä¸ºæ»¡ put() å°é»å¡ï¼ç´å°éåæç©ºé²ä½ç½®ã\n\n\n                        \nlinkedblockingqueue     1.åé¨æ¯ç¨é¾è¡¨å®ç°ç\n                        2.é»è®¤å®¹éæ¯ integer.max_value\n                        3.éåä¸­çéæ¯åç¦»çï¼å¶æ·»å éç¨çæ¯putlockï¼ç§»é¤éç¨çåæ¯takelockï¼è¿æ ·è½å¤§å¤§æé«éåçååéï¼ä¹æå³çå¨é«å¹¶åçæåµä¸çäº§èåæ¶è´¹èå¯ä»¥å¹¶è¡å°æä½éåä¸­çæ°æ®ï¼ä»¥æ­¤æ¥æé«æ´ä¸ªéåçå¹¶åæ§è½\n                        4.ä¼çæä¸ä¸ªé¢å¤çnodeå¯¹è±¡ãè¿å¯è½å¨é¿æ¶é´åéè¦é«æå¹¶åå°å¤çå¤§æ¹éæ°æ®çæ¶ï¼å¯¹äºgcå¯è½å­å¨è¾å¤§å½±å\n                        5.å¨æ ççæåµä¸ï¼å¯è½ä¼é æåå­æº¢åºç­é®é¢ã\narrayblockingqueue      1.arrayblockingqueue æ¯æå¸åçæçéå\n                        2.å¶åé¨æ¯ç¨æ°ç»å­å¨åç´ ç\n                        3.å©ç¨ reentrantlock å®ç°çº¿ç¨å®å¨,æ·»å æä½åç§»é¤æä½éç¨çåä¸ä¸ªreenterlocké\n                        4.å¨åå»ºå®çæ¶åå°±éè¦æå®å®çå®¹éï¼ä¹åä¹ä¸å¯ä»¥åæ©å®¹äº\n                        5.æé å½æ°ä¸­æä»¬åæ ·å¯ä»¥æå®æ¯å¦æ¯å¬å¹³ç\npriorityblockingqueue   1.æ çé»å¡éå\n                        2. æ¯æä¼åçº§,å¯ä»¥éè¿èªå®ä¹ç±»å®ç° compareto() æ¹æ³æ¥æå®åç´ æåºè§å\ndelayqueue              1.æ çéå\n                        2.æ¾å¥çåç´ å¿é¡»å®ç° delayed æ¥å£\n                        3.åé¨ä½¿ç¨äº priorityqueue çè½åæ¥è¿è¡æåº\nsynchronousqueue        å®¹éä¸º\n                        0,æä»¥æ²¡æä¸ä¸ªå°æ¹æ¥æå­åç´ ï¼å¯¼è´æ¯æ¬¡åæ°æ®é½è¦åé»å¡ï¼ç´å°ææ°æ®è¢«æ¾å¥ï¼åçï¼æ¯æ¬¡æ¾æ°æ®çæ¶åä¹ä¼é»å¡ï¼ç´å°ææ¶è´¹èæ¥å",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° HashSet å®ç°åç",frontmatter:{title:"ç®è¿° HashSet å®ç°åç",date:"2022-04-04T14:30:47.000Z",permalink:"/pages/75552c/",categories:["Javaç¸å³","åºç¡"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/10.%E5%9F%BA%E7%A1%80/180.%E7%AE%80%E8%BF%B0%20HashSet%20%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html",relativePath:"01.Javaç¸å³/10.åºç¡/180.ç®è¿° HashSet å®ç°åç.md",key:"v-b21bbc4c",path:"/pages/75552c/",headers:[{level:2,title:"ç®è¿° HashSet å®ç°åç",slug:"ç®è¿°-hashset-å®ç°åç",normalizedTitle:"ç®è¿° hashset å®ç°åç",charIndex:2}],headersStr:"ç®è¿° HashSet å®ç°åç",content:"# ç®è¿° HashSet å®ç°åç\n\nåºå±ç»ææ¯ HashMap ãvalueé½æ¯å­æ¾åä¸ä¸ªèæå¯¹è±¡ã\n\npublic class HashSet<E> extends AbstractSet<E> implements Set<E>, Cloneable, java.io.Serializable {\n    static final long serialVersionUID = -5024744406713321676L;\n \n    private transient HashMap<E,Object> map;\n \n    // èæå¯¹è±¡\n    private static final Object PRESENT = new Object();\n \n    // æ åæé \n    public HashSet() {\n        map = new HashMap<>();\n    }\n \n    // éåæé \n    public HashSet(Collection<? extends E> c) {\n        map = new HashMap<>(Math.max((int) (c.size()/.75f) + 1, 16));\n        addAll(c);\n    }\n \n    // åå§åå®¹éåè´è½½å å­æé \n    public HashSet(int initialCapacity, float loadFactor) {\n        map = new HashMap<>(initialCapacity, loadFactor);\n    }\n \n    // åå§åå®¹éæé \n    public HashSet(int initialCapacity) {\n        map = new HashMap<>(initialCapacity);\n    }\n \n    // ç±äºé»è®¤ä¿®é¥°ç¬¦ï¼ååå¯è®¿é®ï¼æä»¬ç¨ä¸å°ï¼å¨LinkedLinkedHashMapä¸­æå·ä½åºç¨ï¼åæä¼è®²è§£\n    HashSet(int initialCapacity, float loadFactor, boolean dummy) {\n        map = new LinkedHashMap<>(initialCapacity, loadFactor);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n",normalizedContent:"# ç®è¿° hashset å®ç°åç\n\nåºå±ç»ææ¯ hashmap ãvalueé½æ¯å­æ¾åä¸ä¸ªèæå¯¹è±¡ã\n\npublic class hashset<e> extends abstractset<e> implements set<e>, cloneable, java.io.serializable {\n    static final long serialversionuid = -5024744406713321676l;\n \n    private transient hashmap<e,object> map;\n \n    // èæå¯¹è±¡\n    private static final object present = new object();\n \n    // æ åæé \n    public hashset() {\n        map = new hashmap<>();\n    }\n \n    // éåæé \n    public hashset(collection<? extends e> c) {\n        map = new hashmap<>(math.max((int) (c.size()/.75f) + 1, 16));\n        addall(c);\n    }\n \n    // åå§åå®¹éåè´è½½å å­æé \n    public hashset(int initialcapacity, float loadfactor) {\n        map = new hashmap<>(initialcapacity, loadfactor);\n    }\n \n    // åå§åå®¹éæé \n    public hashset(int initialcapacity) {\n        map = new hashmap<>(initialcapacity);\n    }\n \n    // ç±äºé»è®¤ä¿®é¥°ç¬¦ï¼ååå¯è®¿é®ï¼æä»¬ç¨ä¸å°ï¼å¨linkedlinkedhashmapä¸­æå·ä½åºç¨ï¼åæä¼è®²è§£\n    hashset(int initialcapacity, float loadfactor, boolean dummy) {\n        map = new linkedhashmap<>(initialcapacity, loadfactor);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"çº¿ç¨æ± æ¯å¦ä½å®ç°çï¼",frontmatter:{title:"çº¿ç¨æ± æ¯å¦ä½å®ç°çï¼",date:"2022-04-04T14:38:19.000Z",permalink:"/pages/0da4b0/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/001.%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/001.çº¿ç¨æ± æ¯å¦ä½å®ç°çï¼.md",key:"v-45fc1217",path:"/pages/0da4b0/",headers:[{level:3,title:"ä½¿ç¨çº¿ç¨æ± æåªäºå¥½å¤",slug:"ä½¿ç¨çº¿ç¨æ± æåªäºå¥½å¤",normalizedTitle:"ä½¿ç¨çº¿ç¨æ± æåªäºå¥½å¤",charIndex:2},{level:3,title:"çº¿ç¨æ± çåå»º",slug:"çº¿ç¨æ± çåå»º",normalizedTitle:"çº¿ç¨æ± çåå»º",charIndex:163},{level:3,title:"åçº¿ç¨æ± æäº¤ä¸ä¸ªä»»å¡åï¼çº¿ç¨æ± æ¯å¦ä½å¤çè¿ä¸ªä»»å¡çå¢ï¼",slug:"åçº¿ç¨æ± æäº¤ä¸ä¸ªä»»å¡å-çº¿ç¨æ± æ¯å¦ä½å¤çè¿ä¸ªä»»å¡çå¢",normalizedTitle:"åçº¿ç¨æ± æäº¤ä¸ä¸ªä»»å¡åï¼çº¿ç¨æ± æ¯å¦ä½å¤çè¿ä¸ªä»»å¡çå¢ï¼",charIndex:1987},{level:3,title:"çº¿ç¨æ± æ¯å¦ä½å·¥ä½çå¢ï¼",slug:"çº¿ç¨æ± æ¯å¦ä½å·¥ä½çå¢",normalizedTitle:"çº¿ç¨æ± æ¯å¦ä½å·¥ä½çå¢ï¼",charIndex:3296},{level:3,title:"åçº¿ç¨æ± æäº¤ä»»å¡",slug:"åçº¿ç¨æ± æäº¤ä»»å¡",normalizedTitle:"åçº¿ç¨æ± æäº¤ä»»å¡",charIndex:5167},{level:3,title:"å³é­çº¿ç¨æ± ",slug:"å³é­çº¿ç¨æ± ",normalizedTitle:"å³é­çº¿ç¨æ± ",charIndex:6580},{level:3,title:"åççéç½®çº¿ç¨æ± ",slug:"åççéç½®çº¿ç¨æ± ",normalizedTitle:"åççéç½®çº¿ç¨æ± ",charIndex:6963}],headersStr:"ä½¿ç¨çº¿ç¨æ± æåªäºå¥½å¤ çº¿ç¨æ± çåå»º åçº¿ç¨æ± æäº¤ä¸ä¸ªä»»å¡åï¼çº¿ç¨æ± æ¯å¦ä½å¤çè¿ä¸ªä»»å¡çå¢ï¼ çº¿ç¨æ± æ¯å¦ä½å·¥ä½çå¢ï¼ åçº¿ç¨æ± æäº¤ä»»å¡ å³é­çº¿ç¨æ±  åççéç½®çº¿ç¨æ± ",content:'# ä½¿ç¨çº¿ç¨æ± æåªäºå¥½å¤\n\n 1. éä½èµæºæ¶èãéè¿éå¤å©ç¨å·²åå»ºççº¿ç¨ï¼éä½çº¿ç¨åå»ºåéæ¯çæ¶èã\n 2. æé«ç¸åºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦çº¿ç¨åå»ºå°±å¯ä»¥æ§è¡ã\n 3. æé«çº¿ç¨çå¯ç®¡çæ§ãçº¿ç¨æ¯ç¨ç¼ºèµæºãå¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ãä½¿ç¨çº¿ç¨æ± å¯ä»¥ç»ä¸åéãè°ä¼åçæ§ã\n\n\n# çº¿ç¨æ± çåå»º\n\næä»¬å¯ä»¥éè¿ ThreadPoolExecutor æ¥åå»ºä¸ä¸ªçº¿ç¨æ± \n\npublic ThreadPoolExecutor(int corePoolSize,\n                              int maximumPoolSize,\n                              long keepAliveTime,\n                              TimeUnit unit,\n                              BlockingQueue<Runnable> workQueue,\n                              ThreadFactory threadFactory,\n                              RejectedExecutionHandler handler) {//...}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåå»ºä¸ä¸ªçº¿ç¨æ± éè¦ä¼ å¥å¦ä¸å ä¸ªåæ°ï¼\n\n * corePoolSizeï¼ çº¿ç¨æ± ä¸­çå¸¸é©»æ ¸å¿çº¿ç¨æ°ã\n   å½æäº¤ä¸ä¸ªä»»å¡å°çº¿ç¨æ± æ¶ï¼çº¿ç¨æ± ä¼åå»ºä¸ä¸ªçº¿ç¨æ¥æ§è¡ä»»å¡ï¼å³ä½¿å¶ä»ç©ºé²çæ ¸å¿çº¿ç¨è½å¤æ§è¡æ°ä»»å¡ä¹ä¼åå»ºçº¿ç¨ãå½çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå°è¾¾ corePoolSize æ¶å°±ä¸ååå»ºãå¦æè°ç¨äºçº¿ç¨æ± ç prestartAllCoreThread()æ¹æ³ï¼çº¿ç¨æ± ä¼å¨å¯å¨åå°±åå»ºæææ ¸å¿çº¿ç¨ã\n\n * workQueueï¼ å­æ¾ä»»å¡çé»å¡éåï¼è¢«æäº¤ä½å°æªè¢«æ§è¡çä»»å¡ã\n   å¯ä»¥éæ©å¦ä¸å ä¸ªé»å¡éåï¼ 1.ArrayBlockingQueue 2.LinkedBlockingQueue:ååéé«äºLinkedBlockingQueueï¼æ¯ Executors.newFixedThreadPool()åå»ºççº¿ç¨æ± çé»è®¤éåã 3.SynchronousQueue:ä¸ä¸ªä¸å­å¨åç´ çéåãæ¯ä¸ªæäº¤çä»»å¡é½å¿é¡»ç­å°çº¿ç¨æ¥æ§è¡ï¼å¦åé»å¡æäº¤ãæ¯ Executors.newCachedThreadPool()åå»ºççº¿ç¨æ± çé»è®¤éåã 4.PriorityBlockingQueue:ä¸ä¸ªå·æä¼åçº§çæ éé»å¡éåã\n\n * maximumPoolSizeï¼ çº¿ç¨æ± æå¤§çº¿ç¨æ°éã\n   å¦æéåæ»¡äºå¹¶ä¸å·²ç»åå»ºççº¿ç¨æ°éå°äºæå¤§çº¿ç¨æ°éï¼åçº¿ç¨æ± ä¼åç»§ç»­åå»ºæ°ççº¿ç¨æ§è¡ä»»å¡ãå¼å¾æ³¨æçæ¯å¦æä½¿ç¨æ çéå (æ¯å¦LinkedBlockingQueue)è¿ä¸ªåæ°å°±æ²¡ææä¹äºã\n\n * threadFactoryï¼ ç¨äºè®¾ç½®åå»ºçº¿ç¨çå·¥å\n   å¯ä»¥ç»åå»ºççº¿ç¨è®¾ç½®ææä¹çåå­ï¼å¯æ¹ä¾¿ææ¥é®é¢\n\n * handlerï¼ æç»ç­ç¥ï¼è¡¨ç¤ºå½éåæ»¡äºä¸å·¥ä½çº¿ç¨é½æ»¡äºå¦ä½æ¥æç»è¯·æ±æ§è¡ççº¿ç¨çç­ç¥ï¼é»è®¤æ¯AbortPolicyç­ç¥ï¼ä¸»è¦æåç§ç±»åã\n\n 1. AbortPolicy ç´æ¥æåºRegectedExcutionException å¼å¸¸é»æ­¢ç³»ç»æ­£å¸¸è¿è¡ï¼é»è®¤ç­ç¥\n\n 2. DiscardPolicy ç´æ¥ä¸¢å¼ä»»å¡ï¼ä¸äºä»»ä½å¤çä¹ä¸æåºå¼å¸¸ï¼å¦æåè®¸ä»»å¡ä¸¢å¤±ï¼è¿æ¯æå¥½çä¸ç§æ¹æ¡\n\n 3. DiscardOldestPolicy æå¼éåä¸­ç­å¾æä¹çä»»å¡ï¼ç¶åæå½åä»»å¡å å¥éåä¸­å°è¯åæ¬¡æäº¤å½åä»»å¡\n\n 4. CallerRunsPolicy äº¤ç»çº¿ç¨æ± è°ç¨æå¨ççº¿ç¨è¿è¡å¤çï¼âè°ç¨èè¿è¡âçä¸ç§è°èæºå¶ï¼è¯¥ç­ç¥æ¢ä¸ä¼æå¼ä»»å¡ï¼ä¹ä¸ä¼æåºå¼å¸¸ï¼èæ¯å°æäºä»»å¡åéå°è°ç¨èï¼ä»èéä½æ°ä»»å¡çæµé\n\nä»¥ä¸åç½®æç»ç­ç¥åå®ç°äº RejectExcutionHandler æ¥å£ï¼æä»¬ä¹å¯ä»¥å®ç°æ¥å£RejectExcutionHandleræ¥èªå®ä¹ç­ç¥ï¼å¦è®°å½æ¥å¿æèæä¹åä¸è½æç»çä»»å¡ã\n\n * keepAliveTimeï¼ éæ ¸å¿çº¿ç¨å­æ´»æ¶é´\n   çº¿ç¨æ± ä¸­éæ ¸å¿çº¿ç¨ç©ºé²çå­æ´»æ¶é´ å½åçº¿ç¨æ± æ°éè¶è¿ corePoolSize æ¶ï¼å½ç©ºé²æ¶é´è¾¾å° keepAliveTime å¼æ¶ï¼éæ ¸å¿çº¿ç¨ä¼è¢«éæ¯ç´å°åªå©ä¸ corePoolSize ä¸ªçº¿ç¨ä¸ºæ­¢ã\n   \n\n> tips:å¦æä»»å¡å¾å¤å¹¶ä¸ä»»å¡æ§è¡æ¶é´æ¯è¾ç­ï¼å¯ä»¥è°å¤§ keepAliveTime ï¼æé«çº¿ç¨å©ç¨çã\n\n * unitï¼ keepAliveTime çæ¶é´åä½\n   \n\n\n# åçº¿ç¨æ± æäº¤ä¸ä¸ªä»»å¡åï¼çº¿ç¨æ± æ¯å¦ä½å¤çè¿ä¸ªä»»å¡çå¢ï¼\n\n\n\n 1. å¦æå½åè¿è¡ççº¿ç¨æ°<corePoolSizeï¼ååå»ºæ°çº¿ç¨æ¥æ§è¡ä»»å¡ï¼è¿ä¸æ­¥éª¤éè¦è·åå¨å±éï¼ã\n 2. å¦æå½åè¿è¡ççº¿ç¨æ°>=corePoolSizeï¼åå°ä»»å¡å å¥é»å¡éåã\n 3. å¦æéåå·²æ»¡æèä¸è½å å¥ï¼æ¥ä¸æ¥çå¤çåä¸¤ç§æåµï¼\n    1. çº¿ç¨æ± ä¸­ççº¿ç¨æ¯å¦é½å¤äºå·¥ä½ç¶æãåå»ºæ°ççº¿ç¨æ¥æ§è¡ä»»å¡ï¼è¿ä¸æ­¥éª¤éè¦è·åå¨å±éï¼ã\n    2. çº¿ç¨æ± ä¸­æç©ºé²ççº¿ç¨ï¼åç¨å¶æ¥æ§è¡ä»»å¡ã\n 4. å¦æåå»ºæ°çº¿ç¨ä¼å¯¼è´çº¿ç¨æ°é>maximumPoolSizeï¼åæ§è¡æç»ç­ç¥ã\n\næä»¬åä»æºç çè§åº¦æ¥çè§£ä¸è¿ä¸ªè¿ç¨ï¼\nThreadPoolExecutor#execute(Runnble command) æ¹æ³\n\npublic void execute(Runnable command) {\n  // åæ°æ ¡éª\n    if (command == null)\n        throw new NullPointerException();\n        \n    // ä» c çå¼å¯ä»¥å¤æ­åºçº¿ç¨æ± çç¶æ, ä»¥åçº¿ç¨æ± ä¸­çº¿ç¨çæ°é\n    int c = ctl.get();\n    // 1. å¦æçº¿ç¨æ± ççº¿ç¨æ°é å°äº æ ¸å¿çº¿ç¨æ°\n    if (workerCountOf(c) < corePoolSize) {\n        // æ·»å ä¸ä¸ªæ ¸å¿çº¿ç¨ command è¡¨ç¤ºä¸ä¸ªå·ä½çä»»å¡ï¼ true è¡¨ç¤ºä¸ºæ ¸å¿çº¿ç¨\n        if (addWorker(command, true))\n            return;\n        c = ctl.get();\n    }\n    // 2. å¦æçº¿ç¨æ± å¤äº RUNNING ç¶æï¼åªæå¤äºæ­¤ç¶æï¼æè½æ¥åæ°çä»»å¡ï¼\n    // å¹¶ä¸çº¿ç¨æ± çæ°éå¤§äºæ ¸å¿çº¿ç¨æ°, å°±æä»»å¡æ·»å å°é»å¡éå\n    if (isRunning(c) && workQueue.offer(command)) {\n        int recheck = ctl.get();\n        if (! isRunning(recheck) && remove(command))\n            reject(command);\n        else if (workerCountOf(recheck) == 0)\n            addWorker(null, false);\n    }\n    // 3. å¦æéåä¹æ»¡äºï¼å°±åå»ºä¸ä¸ªéæ ¸å¿çº¿ç¨ï¼core==falseï¼\n    else if (!addWorker(command, false))\n        // å¦æåå»ºå¤±è´¥ï¼å°±æ§è¡æç»ç­ç¥\n        reject(command);\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# çº¿ç¨æ± æ¯å¦ä½å·¥ä½çå¢ï¼\n\nçº¿ç¨æ± ä¸­æä¸ä¸ª workers éåï¼éé¢è®°å½äºææçå·¥ä½çº¿ç¨ï¼åªææ¿å° mainLock éççº¿ç¨æè½è®¿é®ã ThreadPoolExecutor#workers å±æ§\n\nprivate final HashSet<Worker> workers = new HashSet<Worker>();\n\n\n1\n\n\nçº¿ç¨æ± åå»ºçº¿ç¨æ¶ï¼ä¼å°çº¿ç¨åè£æ Worker ï¼Worker å¨æ§è¡ä»»å¡åè¿ä¼å¾ªç¯è·åéééçä»»å¡ãæä»¬å¯ä»¥ä» Worker ç±»ç run() æ¹æ³çå°è¿ä¸ç¹ã\n\nfinal void runWorker(Worker w) {\n        Thread wt = Thread.currentThread();\n        Runnable task = w.firstTask;\n        w.firstTask = null;\n        w.unlock(); // allow interrupts\n        boolean completedAbruptly = true;\n        try {\n            while (task != null || (task = getTask()) != null) {\n                w.lock();\n                if ((runStateAtLeast(ctl.get(), STOP) ||\n                     (Thread.interrupted() &&\n                      runStateAtLeast(ctl.get(), STOP))) &&\n                    !wt.isInterrupted())\n                    wt.interrupt();\n                try {\n                    beforeExecute(wt, task);\n                    Throwable thrown = null;\n                    try {\n                        task.run();\n                    } catch (RuntimeException x) {\n                        thrown = x; throw x;\n                    } catch (Error x) {\n                        thrown = x; throw x;\n                    } catch (Throwable x) {\n                        thrown = x; throw new Error(x);\n                    } finally {\n                        afterExecute(task, thrown);\n                    }\n                } finally {\n                    task = null;\n                    w.completedTasks++;\n                    w.unlock();\n                }\n            }\n            completedAbruptly = false;\n        } finally {\n            processWorkerExit(w, completedAbruptly);\n        }\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nä¸é¢ä»£ç å³é®ç¹æ¯whileå¾ªç¯ågetTask()æ¹æ³ï¼éè¿å¾ªç¯ä¸æ­çè°ç¨getTask()ä»é»å¡éåä¸­è·åä»»å¡ï¼éè¿è¿ä¸ªæ¹æ³ï¼å®ä¸é»å¡éåå»ºç«æ¡¥æ¢ã\n\n\n# åçº¿ç¨æ± æäº¤ä»»å¡\n\næä¸¤ä¸ªæ¹æ³æäº¤ä»»å¡ï¼åå«æ¯execute(),submit()\n\n\n * execute()ï¼executeåªè½æäº¤Runnableç±»åçä»»å¡,ç¨äºæäº¤ä¸éè¦è¿åå¼çä»»å¡ï¼æä»¥æ æ³å¤æ­ä»»å¡æ¯å¦è¢«çº¿ç¨æ± æ§è¡æåãå¦æéå°å¼å¸¸ä¼ç´æ¥æåºãä½¿ç¨æ¹æ³å¦ä¸ï¼\n\npublic static void main(String[] args) throws Exception{\n        ExecutorService es = Executors.newSingleThreadExecutor();\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                System.out.println("Runnableçº¿ç¨å¤çå¼å§...");\n            }\n        };\n        es.execute(runnable);\n        es.shutdown();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * submit()ï¼submitæ¢å¯ä»¥æäº¤Runnableç±»åçä»»å¡ï¼ä¹å¯ä»¥æäº¤Callableç±»åçä»»å¡ï¼ä¼æä¸ä¸ªç±»åä¸ºFutureçè¿åå¼ï¼ä½å½ä»»å¡ç±»åä¸ºRunnableæ¶ï¼è¿åå¼ä¸ºnullãå¦æéå°å¼å¸¸ä¸ä¼ç´æ¥æåºï¼åªæå¨ä½¿ç¨Futureçgetæ¹æ³è·åè¿åå¼æ¶ï¼æä¼æåºå¼å¸¸ãä½¿ç¨æ¹æ³ï¼\n\npublic static void main(String[] args) throws Exception{\n        ExecutorService es = Executors.newSingleThreadExecutor();\n        Callable callable = new Callable() {\n            @Override\n            public String call() throws Exception {\n                System.out.println("çº¿ç¨å¤çå¼å§...");\n                return "hello world";\n            }\n        };\n        Future<String> future = es.submit(callable);\n        while(true) {\n            //idDone:å¦æä»»å¡å·²å®æï¼åè¿å trueã å¯è½ç±äºæ­£å¸¸ç»æ­¢ãå¼å¸¸æåæ¶èå®æï¼å¨ææè¿äºæåµä¸­ï¼æ­¤æ¹æ³é½å°è¿å trueã\n            if(future.isDone()) {\n                System.out.println("ä»»å¡æ§è¡å®æï¼" + future.get());\n                break;\n            }\n        }\n        es.shutdown();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# å³é­çº¿ç¨æ± \n\nå¯ä»¥éè¿shutdownåshutdownNowæ¹æ³æ¥å³é­çº¿ç¨æ± ãä»ä»¬çåçæ¯éåçº¿ç¨æ± çä¸­å·¥ä½çº¿ç¨ï¼è°ç¨å¶interrupt()æ¹æ³æ¥ä¸­æ­çº¿ç¨ï¼æä»¥ï¼æ æ³ç¸åºä¸­æ­çä»»å¡æ°¸è¿æ æ³è¢«ç»æ­¢ãä½æ¯ä»ä»¬ä¹å­å¨ä¸å®çåºå«ï¼\n\n * shutdownï¼å°çº¿ç¨çç¶æè®¾ç½®ä¸º SHUTDOWN ç¶æï¼ç¶åä¸­æ­æ²¡ææ§è¡ä»»å¡ççº¿ç¨ã\n * shutdownNowï¼é¦åå°çº¿ç¨çç¶æè®¾ç½®ä¸º STOP ï¼ç¶åå°è¯åæ­¢æææ­£å¨æ§è¡æèæåä»»å¡ççº¿ç¨ï¼å¹¶è¿åéåä¸­çå¾æ§è¡ä»»å¡ã\n\nåªè¦è°ç¨äºè¿ä¸¤ä¸ªæ¹æ³ä¸­çä»»æä¸ä¸ªï¼isShutdown()æ¹æ³å°±ä¼è¿åtrueï¼å½ææä»»å¡é½å³é­åï¼æè¡¨ç¤ºçº¿ç¨æ± å³é­æåï¼è¿æ¯è°ç¨isTerminaed()æ¹æ³æä¼è¿å true ã\n\n\néå¸¸è°ç¨ shutdown æ¥å³é­çº¿ç¨æ± ï¼å¦æä¸éè¦ç­ä»»å¡æ§è¡å®å¯ä»¥è°ç¨ shutdownNow ã\n\n\n# åççéç½®çº¿ç¨æ± \n\n 1. æå¤§çº¿ç¨æ° maximumPoolSize çæ¯æå¯åèå¦ä¸è§åï¼\n    * CPU å¯éåä»»å¡åºè¯¥éç½®å°½å¯è½å°ççº¿ç¨ï¼å¦cpuæ°é+1ã\n    * IOå¯éåä»»å¡çº¿ç¨å¹¶ä¸æ¯ä¸ç´å ç¨cpuï¼ååºè¯¥éåº¦æ´å¤çéç½®çº¿ç¨ï¼å¦2*cpuæ°é\n    * å¯ä»¥éè¿ Runtime.getRuntime().availableProcessors() è·å¾å½åè®¾å¤ç cpu ä¸ªæ°ã\n 2. å»ºè®®ä½¿ç¨æçéåãå¦æä»»å¡æ§è¡éåº¦åæ¢ï¼çº¿ç¨æ± ä¸æ­åéåä¸­ add åç´ ï¼ä¼æåå­æº¢åºçé£é©ã',normalizedContent:'# ä½¿ç¨çº¿ç¨æ± æåªäºå¥½å¤\n\n 1. éä½èµæºæ¶èãéè¿éå¤å©ç¨å·²åå»ºççº¿ç¨ï¼éä½çº¿ç¨åå»ºåéæ¯çæ¶èã\n 2. æé«ç¸åºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦çº¿ç¨åå»ºå°±å¯ä»¥æ§è¡ã\n 3. æé«çº¿ç¨çå¯ç®¡çæ§ãçº¿ç¨æ¯ç¨ç¼ºèµæºãå¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ãä½¿ç¨çº¿ç¨æ± å¯ä»¥ç»ä¸åéãè°ä¼åçæ§ã\n\n\n# çº¿ç¨æ± çåå»º\n\næä»¬å¯ä»¥éè¿ threadpoolexecutor æ¥åå»ºä¸ä¸ªçº¿ç¨æ± \n\npublic threadpoolexecutor(int corepoolsize,\n                              int maximumpoolsize,\n                              long keepalivetime,\n                              timeunit unit,\n                              blockingqueue<runnable> workqueue,\n                              threadfactory threadfactory,\n                              rejectedexecutionhandler handler) {//...}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåå»ºä¸ä¸ªçº¿ç¨æ± éè¦ä¼ å¥å¦ä¸å ä¸ªåæ°ï¼\n\n * corepoolsizeï¼ çº¿ç¨æ± ä¸­çå¸¸é©»æ ¸å¿çº¿ç¨æ°ã\n   å½æäº¤ä¸ä¸ªä»»å¡å°çº¿ç¨æ± æ¶ï¼çº¿ç¨æ± ä¼åå»ºä¸ä¸ªçº¿ç¨æ¥æ§è¡ä»»å¡ï¼å³ä½¿å¶ä»ç©ºé²çæ ¸å¿çº¿ç¨è½å¤æ§è¡æ°ä»»å¡ä¹ä¼åå»ºçº¿ç¨ãå½çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå°è¾¾ corepoolsize æ¶å°±ä¸ååå»ºãå¦æè°ç¨äºçº¿ç¨æ± ç prestartallcorethread()æ¹æ³ï¼çº¿ç¨æ± ä¼å¨å¯å¨åå°±åå»ºæææ ¸å¿çº¿ç¨ã\n\n * workqueueï¼ å­æ¾ä»»å¡çé»å¡éåï¼è¢«æäº¤ä½å°æªè¢«æ§è¡çä»»å¡ã\n   å¯ä»¥éæ©å¦ä¸å ä¸ªé»å¡éåï¼ 1.arrayblockingqueue 2.linkedblockingqueue:ååéé«äºlinkedblockingqueueï¼æ¯ executors.newfixedthreadpool()åå»ºççº¿ç¨æ± çé»è®¤éåã 3.synchronousqueue:ä¸ä¸ªä¸å­å¨åç´ çéåãæ¯ä¸ªæäº¤çä»»å¡é½å¿é¡»ç­å°çº¿ç¨æ¥æ§è¡ï¼å¦åé»å¡æäº¤ãæ¯ executors.newcachedthreadpool()åå»ºççº¿ç¨æ± çé»è®¤éåã 4.priorityblockingqueue:ä¸ä¸ªå·æä¼åçº§çæ éé»å¡éåã\n\n * maximumpoolsizeï¼ çº¿ç¨æ± æå¤§çº¿ç¨æ°éã\n   å¦æéåæ»¡äºå¹¶ä¸å·²ç»åå»ºççº¿ç¨æ°éå°äºæå¤§çº¿ç¨æ°éï¼åçº¿ç¨æ± ä¼åç»§ç»­åå»ºæ°ççº¿ç¨æ§è¡ä»»å¡ãå¼å¾æ³¨æçæ¯å¦æä½¿ç¨æ çéå (æ¯å¦linkedblockingqueue)è¿ä¸ªåæ°å°±æ²¡ææä¹äºã\n\n * threadfactoryï¼ ç¨äºè®¾ç½®åå»ºçº¿ç¨çå·¥å\n   å¯ä»¥ç»åå»ºççº¿ç¨è®¾ç½®ææä¹çåå­ï¼å¯æ¹ä¾¿ææ¥é®é¢\n\n * handlerï¼ æç»ç­ç¥ï¼è¡¨ç¤ºå½éåæ»¡äºä¸å·¥ä½çº¿ç¨é½æ»¡äºå¦ä½æ¥æç»è¯·æ±æ§è¡ççº¿ç¨çç­ç¥ï¼é»è®¤æ¯abortpolicyç­ç¥ï¼ä¸»è¦æåç§ç±»åã\n\n 1. abortpolicy ç´æ¥æåºregectedexcutionexception å¼å¸¸é»æ­¢ç³»ç»æ­£å¸¸è¿è¡ï¼é»è®¤ç­ç¥\n\n 2. discardpolicy ç´æ¥ä¸¢å¼ä»»å¡ï¼ä¸äºä»»ä½å¤çä¹ä¸æåºå¼å¸¸ï¼å¦æåè®¸ä»»å¡ä¸¢å¤±ï¼è¿æ¯æå¥½çä¸ç§æ¹æ¡\n\n 3. discardoldestpolicy æå¼éåä¸­ç­å¾æä¹çä»»å¡ï¼ç¶åæå½åä»»å¡å å¥éåä¸­å°è¯åæ¬¡æäº¤å½åä»»å¡\n\n 4. callerrunspolicy äº¤ç»çº¿ç¨æ± è°ç¨æå¨ççº¿ç¨è¿è¡å¤çï¼âè°ç¨èè¿è¡âçä¸ç§è°èæºå¶ï¼è¯¥ç­ç¥æ¢ä¸ä¼æå¼ä»»å¡ï¼ä¹ä¸ä¼æåºå¼å¸¸ï¼èæ¯å°æäºä»»å¡åéå°è°ç¨èï¼ä»èéä½æ°ä»»å¡çæµé\n\nä»¥ä¸åç½®æç»ç­ç¥åå®ç°äº rejectexcutionhandler æ¥å£ï¼æä»¬ä¹å¯ä»¥å®ç°æ¥å£rejectexcutionhandleræ¥èªå®ä¹ç­ç¥ï¼å¦è®°å½æ¥å¿æèæä¹åä¸è½æç»çä»»å¡ã\n\n * keepalivetimeï¼ éæ ¸å¿çº¿ç¨å­æ´»æ¶é´\n   çº¿ç¨æ± ä¸­éæ ¸å¿çº¿ç¨ç©ºé²çå­æ´»æ¶é´ å½åçº¿ç¨æ± æ°éè¶è¿ corepoolsize æ¶ï¼å½ç©ºé²æ¶é´è¾¾å° keepalivetime å¼æ¶ï¼éæ ¸å¿çº¿ç¨ä¼è¢«éæ¯ç´å°åªå©ä¸ corepoolsize ä¸ªçº¿ç¨ä¸ºæ­¢ã\n   \n\n> tips:å¦æä»»å¡å¾å¤å¹¶ä¸ä»»å¡æ§è¡æ¶é´æ¯è¾ç­ï¼å¯ä»¥è°å¤§ keepalivetime ï¼æé«çº¿ç¨å©ç¨çã\n\n * unitï¼ keepalivetime çæ¶é´åä½\n   \n\n\n# åçº¿ç¨æ± æäº¤ä¸ä¸ªä»»å¡åï¼çº¿ç¨æ± æ¯å¦ä½å¤çè¿ä¸ªä»»å¡çå¢ï¼\n\n\n\n 1. å¦æå½åè¿è¡ççº¿ç¨æ°<corepoolsizeï¼ååå»ºæ°çº¿ç¨æ¥æ§è¡ä»»å¡ï¼è¿ä¸æ­¥éª¤éè¦è·åå¨å±éï¼ã\n 2. å¦æå½åè¿è¡ççº¿ç¨æ°>=corepoolsizeï¼åå°ä»»å¡å å¥é»å¡éåã\n 3. å¦æéåå·²æ»¡æèä¸è½å å¥ï¼æ¥ä¸æ¥çå¤çåä¸¤ç§æåµï¼\n    1. çº¿ç¨æ± ä¸­ççº¿ç¨æ¯å¦é½å¤äºå·¥ä½ç¶æãåå»ºæ°ççº¿ç¨æ¥æ§è¡ä»»å¡ï¼è¿ä¸æ­¥éª¤éè¦è·åå¨å±éï¼ã\n    2. çº¿ç¨æ± ä¸­æç©ºé²ççº¿ç¨ï¼åç¨å¶æ¥æ§è¡ä»»å¡ã\n 4. å¦æåå»ºæ°çº¿ç¨ä¼å¯¼è´çº¿ç¨æ°é>maximumpoolsizeï¼åæ§è¡æç»ç­ç¥ã\n\næä»¬åä»æºç çè§åº¦æ¥çè§£ä¸è¿ä¸ªè¿ç¨ï¼\nthreadpoolexecutor#execute(runnble command) æ¹æ³\n\npublic void execute(runnable command) {\n  // åæ°æ ¡éª\n    if (command == null)\n        throw new nullpointerexception();\n        \n    // ä» c çå¼å¯ä»¥å¤æ­åºçº¿ç¨æ± çç¶æ, ä»¥åçº¿ç¨æ± ä¸­çº¿ç¨çæ°é\n    int c = ctl.get();\n    // 1. å¦æçº¿ç¨æ± ççº¿ç¨æ°é å°äº æ ¸å¿çº¿ç¨æ°\n    if (workercountof(c) < corepoolsize) {\n        // æ·»å ä¸ä¸ªæ ¸å¿çº¿ç¨ command è¡¨ç¤ºä¸ä¸ªå·ä½çä»»å¡ï¼ true è¡¨ç¤ºä¸ºæ ¸å¿çº¿ç¨\n        if (addworker(command, true))\n            return;\n        c = ctl.get();\n    }\n    // 2. å¦æçº¿ç¨æ± å¤äº running ç¶æï¼åªæå¤äºæ­¤ç¶æï¼æè½æ¥åæ°çä»»å¡ï¼\n    // å¹¶ä¸çº¿ç¨æ± çæ°éå¤§äºæ ¸å¿çº¿ç¨æ°, å°±æä»»å¡æ·»å å°é»å¡éå\n    if (isrunning(c) && workqueue.offer(command)) {\n        int recheck = ctl.get();\n        if (! isrunning(recheck) && remove(command))\n            reject(command);\n        else if (workercountof(recheck) == 0)\n            addworker(null, false);\n    }\n    // 3. å¦æéåä¹æ»¡äºï¼å°±åå»ºä¸ä¸ªéæ ¸å¿çº¿ç¨ï¼core==falseï¼\n    else if (!addworker(command, false))\n        // å¦æåå»ºå¤±è´¥ï¼å°±æ§è¡æç»ç­ç¥\n        reject(command);\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# çº¿ç¨æ± æ¯å¦ä½å·¥ä½çå¢ï¼\n\nçº¿ç¨æ± ä¸­æä¸ä¸ª workers éåï¼éé¢è®°å½äºææçå·¥ä½çº¿ç¨ï¼åªææ¿å° mainlock éççº¿ç¨æè½è®¿é®ã threadpoolexecutor#workers å±æ§\n\nprivate final hashset<worker> workers = new hashset<worker>();\n\n\n1\n\n\nçº¿ç¨æ± åå»ºçº¿ç¨æ¶ï¼ä¼å°çº¿ç¨åè£æ worker ï¼worker å¨æ§è¡ä»»å¡åè¿ä¼å¾ªç¯è·åéééçä»»å¡ãæä»¬å¯ä»¥ä» worker ç±»ç run() æ¹æ³çå°è¿ä¸ç¹ã\n\nfinal void runworker(worker w) {\n        thread wt = thread.currentthread();\n        runnable task = w.firsttask;\n        w.firsttask = null;\n        w.unlock(); // allow interrupts\n        boolean completedabruptly = true;\n        try {\n            while (task != null || (task = gettask()) != null) {\n                w.lock();\n                if ((runstateatleast(ctl.get(), stop) ||\n                     (thread.interrupted() &&\n                      runstateatleast(ctl.get(), stop))) &&\n                    !wt.isinterrupted())\n                    wt.interrupt();\n                try {\n                    beforeexecute(wt, task);\n                    throwable thrown = null;\n                    try {\n                        task.run();\n                    } catch (runtimeexception x) {\n                        thrown = x; throw x;\n                    } catch (error x) {\n                        thrown = x; throw x;\n                    } catch (throwable x) {\n                        thrown = x; throw new error(x);\n                    } finally {\n                        afterexecute(task, thrown);\n                    }\n                } finally {\n                    task = null;\n                    w.completedtasks++;\n                    w.unlock();\n                }\n            }\n            completedabruptly = false;\n        } finally {\n            processworkerexit(w, completedabruptly);\n        }\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nä¸é¢ä»£ç å³é®ç¹æ¯whileå¾ªç¯ågettask()æ¹æ³ï¼éè¿å¾ªç¯ä¸æ­çè°ç¨gettask()ä»é»å¡éåä¸­è·åä»»å¡ï¼éè¿è¿ä¸ªæ¹æ³ï¼å®ä¸é»å¡éåå»ºç«æ¡¥æ¢ã\n\n\n# åçº¿ç¨æ± æäº¤ä»»å¡\n\næä¸¤ä¸ªæ¹æ³æäº¤ä»»å¡ï¼åå«æ¯execute(),submit()\n\n\n * execute()ï¼executeåªè½æäº¤runnableç±»åçä»»å¡,ç¨äºæäº¤ä¸éè¦è¿åå¼çä»»å¡ï¼æä»¥æ æ³å¤æ­ä»»å¡æ¯å¦è¢«çº¿ç¨æ± æ§è¡æåãå¦æéå°å¼å¸¸ä¼ç´æ¥æåºãä½¿ç¨æ¹æ³å¦ä¸ï¼\n\npublic static void main(string[] args) throws exception{\n        executorservice es = executors.newsinglethreadexecutor();\n        runnable runnable = new runnable() {\n            @override\n            public void run() {\n                system.out.println("runnableçº¿ç¨å¤çå¼å§...");\n            }\n        };\n        es.execute(runnable);\n        es.shutdown();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * submit()ï¼submitæ¢å¯ä»¥æäº¤runnableç±»åçä»»å¡ï¼ä¹å¯ä»¥æäº¤callableç±»åçä»»å¡ï¼ä¼æä¸ä¸ªç±»åä¸ºfutureçè¿åå¼ï¼ä½å½ä»»å¡ç±»åä¸ºrunnableæ¶ï¼è¿åå¼ä¸ºnullãå¦æéå°å¼å¸¸ä¸ä¼ç´æ¥æåºï¼åªæå¨ä½¿ç¨futureçgetæ¹æ³è·åè¿åå¼æ¶ï¼æä¼æåºå¼å¸¸ãä½¿ç¨æ¹æ³ï¼\n\npublic static void main(string[] args) throws exception{\n        executorservice es = executors.newsinglethreadexecutor();\n        callable callable = new callable() {\n            @override\n            public string call() throws exception {\n                system.out.println("çº¿ç¨å¤çå¼å§...");\n                return "hello world";\n            }\n        };\n        future<string> future = es.submit(callable);\n        while(true) {\n            //iddone:å¦æä»»å¡å·²å®æï¼åè¿å trueã å¯è½ç±äºæ­£å¸¸ç»æ­¢ãå¼å¸¸æåæ¶èå®æï¼å¨ææè¿äºæåµä¸­ï¼æ­¤æ¹æ³é½å°è¿å trueã\n            if(future.isdone()) {\n                system.out.println("ä»»å¡æ§è¡å®æï¼" + future.get());\n                break;\n            }\n        }\n        es.shutdown();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# å³é­çº¿ç¨æ± \n\nå¯ä»¥éè¿shutdownåshutdownnowæ¹æ³æ¥å³é­çº¿ç¨æ± ãä»ä»¬çåçæ¯éåçº¿ç¨æ± çä¸­å·¥ä½çº¿ç¨ï¼è°ç¨å¶interrupt()æ¹æ³æ¥ä¸­æ­çº¿ç¨ï¼æä»¥ï¼æ æ³ç¸åºä¸­æ­çä»»å¡æ°¸è¿æ æ³è¢«ç»æ­¢ãä½æ¯ä»ä»¬ä¹å­å¨ä¸å®çåºå«ï¼\n\n * shutdownï¼å°çº¿ç¨çç¶æè®¾ç½®ä¸º shutdown ç¶æï¼ç¶åä¸­æ­æ²¡ææ§è¡ä»»å¡ççº¿ç¨ã\n * shutdownnowï¼é¦åå°çº¿ç¨çç¶æè®¾ç½®ä¸º stop ï¼ç¶åå°è¯åæ­¢æææ­£å¨æ§è¡æèæåä»»å¡ççº¿ç¨ï¼å¹¶è¿åéåä¸­çå¾æ§è¡ä»»å¡ã\n\nåªè¦è°ç¨äºè¿ä¸¤ä¸ªæ¹æ³ä¸­çä»»æä¸ä¸ªï¼isshutdown()æ¹æ³å°±ä¼è¿åtrueï¼å½ææä»»å¡é½å³é­åï¼æè¡¨ç¤ºçº¿ç¨æ± å³é­æåï¼è¿æ¯è°ç¨isterminaed()æ¹æ³æä¼è¿å true ã\n\n\néå¸¸è°ç¨ shutdown æ¥å³é­çº¿ç¨æ± ï¼å¦æä¸éè¦ç­ä»»å¡æ§è¡å®å¯ä»¥è°ç¨ shutdownnow ã\n\n\n# åççéç½®çº¿ç¨æ± \n\n 1. æå¤§çº¿ç¨æ° maximumpoolsize çæ¯æå¯åèå¦ä¸è§åï¼\n    * cpu å¯éåä»»å¡åºè¯¥éç½®å°½å¯è½å°ççº¿ç¨ï¼å¦cpuæ°é+1ã\n    * ioå¯éåä»»å¡çº¿ç¨å¹¶ä¸æ¯ä¸ç´å ç¨cpuï¼ååºè¯¥éåº¦æ´å¤çéç½®çº¿ç¨ï¼å¦2*cpuæ°é\n    * å¯ä»¥éè¿ runtime.getruntime().availableprocessors() è·å¾å½åè®¾å¤ç cpu ä¸ªæ°ã\n 2. å»ºè®®ä½¿ç¨æçéåãå¦æä»»å¡æ§è¡éåº¦åæ¢ï¼çº¿ç¨æ± ä¸æ­åéåä¸­ add åç´ ï¼ä¼æåå­æº¢åºçé£é©ã',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼",frontmatter:{title:"ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼",date:"2022-04-04T14:32:48.000Z",permalink:"/pages/3356c6/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/020.%E7%AE%80%E8%BF%B0%20CAS%20%E5%8E%9F%E7%90%86%EF%BC%8C%E4%BB%80%E4%B9%88%E6%98%AF%20ABA%20%E9%97%AE%E9%A2%98%EF%BC%8C%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/020.ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼.md",key:"v-5390e3d4",path:"/pages/3356c6/",headers:[{level:2,title:"ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼",slug:"ç®è¿°-cas-åç-ä»ä¹æ¯-aba-é®é¢-æä¹è§£å³",normalizedTitle:"ç®è¿° cas åçï¼ä»ä¹æ¯ aba é®é¢ï¼æä¹è§£å³ï¼",charIndex:2},{level:3,title:"CASå®ç°åå­æä½",slug:"caså®ç°åå­æä½",normalizedTitle:"caså®ç°åå­æä½",charIndex:33},{level:3,title:"ABAé®é¢",slug:"abaé®é¢",normalizedTitle:"abaé®é¢",charIndex:256}],headersStr:"ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼ CASå®ç°åå­æä½ ABAé®é¢",content:"# ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼\n\n\n# CASå®ç°åå­æä½\n\nCASçè®ºæ¯ juc åå®ç°çåºç³ï¼å¨intelçCPUä¸­ï¼CAS éè¿è°ç¨æ¬å°æ¹æ³ï¼JNIï¼ä½¿ç¨cmpxchgæä»¤æ¥å®ç°çéé»å¡ç®æ³ãå¯¹æ¯äºsynchronizedé»å¡ç®æ³ï¼åºäº CAS å®ç°ç juc å¨æ§è½ä¸æäºå¾å¤§çæåã\n\nCAS æä½åå«ä¸ä¸ªæä½æ° ââ åå­ä½ç½®ï¼Vï¼ãé¢æåå¼ï¼Aï¼åæ°å¼(B)ã å¦æåå­ä½ç½®çå¼ä¸é¢æåå¼ç¸å¹éï¼é£ä¹å¤çå¨ä¼èªå¨å°è¯¥ä½ç½®å¼æ´æ°ä¸ºæ°å¼ ãå¦åï¼å¤çå¨ä¸åä»»ä½æä½ã\n\n\n# ABAé®é¢\n\n * å ä¸ºCASéè¦å¨æä½å¼çæ¶åæ£æ¥ä¸å¼ææ²¡æåçååï¼å¦ææ²¡æåçåååæ´æ°ï¼ä½æ¯å¦æä¸ä¸ªå¼åæ¥æ¯Aï¼åæäºBï¼ååæäºAï¼é£ä¹ä½¿ç¨CASè¿è¡æ£æ¥æ¶ä¼åç°å®çå¼æ²¡æåçååï¼ä½æ¯å®éä¸å´ååäºã\n\n * ABAé®é¢çè§£å³æè·¯å°±æ¯ä½¿ç¨çæ¬å·ãå¨åéåé¢è¿½å ä¸çæ¬å·ï¼æ¯æ¬¡åéæ´æ°çæ¶åæçæ¬å·å ä¸ï¼é£ä¹Aï¼Bï¼A å°±ä¼åæ1A-2Bï¼3Aã\n\n * ä»Java1.5å¼å§JDKçatomicåéæä¾äºä¸ä¸ªç±»AtomicStampedReferenceæ¥è§£å³ABAé®é¢ãè¿ä¸ªç±»çcompareAndSetæ¹æ³ä½ç¨æ¯é¦åæ£æ¥å½åå¼ç¨æ¯å¦ç­äºé¢æå¼ç¨ï¼å¹¶ä¸å½åæ å¿æ¯å¦ç­äºé¢ææ å¿ï¼å¦æå¨é¨ç¸ç­ï¼åä»¥åå­æ¹å¼å°è¯¥å¼ç¨åè¯¥æ å¿çå¼è®¾ç½®ä¸ºç»å®çæ´æ°å¼ã",normalizedContent:"# ç®è¿° cas åçï¼ä»ä¹æ¯ aba é®é¢ï¼æä¹è§£å³ï¼\n\n\n# caså®ç°åå­æä½\n\ncasçè®ºæ¯ juc åå®ç°çåºç³ï¼å¨intelçcpuä¸­ï¼cas éè¿è°ç¨æ¬å°æ¹æ³ï¼jniï¼ä½¿ç¨cmpxchgæä»¤æ¥å®ç°çéé»å¡ç®æ³ãå¯¹æ¯äºsynchronizedé»å¡ç®æ³ï¼åºäº cas å®ç°ç juc å¨æ§è½ä¸æäºå¾å¤§çæåã\n\ncas æä½åå«ä¸ä¸ªæä½æ° ââ åå­ä½ç½®ï¼vï¼ãé¢æåå¼ï¼aï¼åæ°å¼(b)ã å¦æåå­ä½ç½®çå¼ä¸é¢æåå¼ç¸å¹éï¼é£ä¹å¤çå¨ä¼èªå¨å°è¯¥ä½ç½®å¼æ´æ°ä¸ºæ°å¼ ãå¦åï¼å¤çå¨ä¸åä»»ä½æä½ã\n\n\n# abaé®é¢\n\n * å ä¸ºcaséè¦å¨æä½å¼çæ¶åæ£æ¥ä¸å¼ææ²¡æåçååï¼å¦ææ²¡æåçåååæ´æ°ï¼ä½æ¯å¦æä¸ä¸ªå¼åæ¥æ¯aï¼åæäºbï¼ååæäºaï¼é£ä¹ä½¿ç¨casè¿è¡æ£æ¥æ¶ä¼åç°å®çå¼æ²¡æåçååï¼ä½æ¯å®éä¸å´ååäºã\n\n * abaé®é¢çè§£å³æè·¯å°±æ¯ä½¿ç¨çæ¬å·ãå¨åéåé¢è¿½å ä¸çæ¬å·ï¼æ¯æ¬¡åéæ´æ°çæ¶åæçæ¬å·å ä¸ï¼é£ä¹aï¼bï¼a å°±ä¼åæ1a-2bï¼3aã\n\n * ä»java1.5å¼å§jdkçatomicåéæä¾äºä¸ä¸ªç±»atomicstampedreferenceæ¥è§£å³abaé®é¢ãè¿ä¸ªç±»çcompareandsetæ¹æ³ä½ç¨æ¯é¦åæ£æ¥å½åå¼ç¨æ¯å¦ç­äºé¢æå¼ç¨ï¼å¹¶ä¸å½åæ å¿æ¯å¦ç­äºé¢ææ å¿ï¼å¦æå¨é¨ç¸ç­ï¼åä»¥åå­æ¹å¼å°è¯¥å¼ç¨åè¯¥æ å¿çå¼è®¾ç½®ä¸ºç»å®çæ´æ°å¼ã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Synchronized ä¸ Lock ç¸æ¯ä¼ç¼ºç¹åå«æ¯ä»ä¹ï¼",frontmatter:{title:"Synchronized ä¸ Lock ç¸æ¯ä¼ç¼ºç¹åå«æ¯ä»ä¹ï¼",date:"2022-04-04T14:33:27.000Z",permalink:"/pages/d5d161/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/040.Synchronized%20%E5%85%B3%E9%94%AE%E5%AD%97%E5%BA%95%E5%B1%82%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/040.Synchronized å³é®å­åºå±æ¯å¦ä½å®ç°çï¼.md",key:"v-352f36cc",path:"/pages/d5d161/",headers:[{level:2,title:"Lock æ¥å£ VS Synchronized",slug:"lock-æ¥å£-vs-synchronized",normalizedTitle:"lock æ¥å£ vs synchronized",charIndex:286},{level:2,title:"Lock éçå¸¸è§ç¨æ³",slug:"lock-éçå¸¸è§ç¨æ³",normalizedTitle:"lock éçå¸¸è§ç¨æ³",charIndex:751},{level:2,title:"Lock éçAPI",slug:"lock-éçapi",normalizedTitle:"lock éçapi",charIndex:928}],headersStr:"Lock æ¥å£ VS Synchronized Lock éçå¸¸è§ç¨æ³ Lock éçAPI",content:"Lock å®ç°æä¾æ¯ä½¿ç¨ synchronized æ¹æ³åè¯­å¥å¯ä»¥è·å¾çæ´å¹¿æ³çéå®æä½ã å®ä»¬åè®¸æ´çµæ´»çç»æåï¼å¯è½å·æå®å¨ä¸åçå±æ§ï¼å¹¶ä¸å¯ä»¥æ¯æå¤ä¸ªç¸å³èçå¯¹è±¡Condition ã\n\nè½ç¶ synchronized æ¹æ³åè¯­å¥çèå´æºå¶ä½¿å¾ä½¿ç¨çè§å¨éæ´å®¹æç¼ç¨ï¼å¹¶ä¸æå©äºé¿åæ¶åéçè®¸å¤å¸¸è§ç¼ç¨éè¯¯ï¼ä½æ¯ææ¶æ¨éè¦ä»¥æ´çµæ´»çæ¹å¼å¤çéã\n\nä¾å¦ï¼æ¨è·åèç¹Açéå®ï¼ç¶åè·åèç¹Bï¼ç¶åéæ¾Aå¹¶è·åCï¼ç¶åéæ¾Bå¹¶è·å¾Dç­ã\n\næè¿°çå®æ½æ¹å¼ä¸­Lockæ¥å£éè¿åè®¸è·å¾å¹¶å¨ä¸åçèå´éæ¾çéï¼å¹¶åè®¸è·å¾å¹¶ä»¥ä»»ä½é¡ºåºéæ¾å¤ä¸ªéä½¿å¾è½å¤ä½¿ç¨è¿æ ·çææ¯ã\n\n\n# Lock æ¥å£ VS Synchronized\n\nJava SE 5ä¹åï¼juc åä¸­å¢å äº Lock æ¥å£ï¼å¨æ­¤ä¹å Java æ¯é  Synchronized å³é®å­æ¥å®ç°éåè½çï¼äºèå·æç¸åçåå­åæ­¥è¯­ä¹ï¼åºå«å¦ä¸ï¼\n\n            SYNCHRONIZED      LOCKæ¥å£\nå éãè§£é       éå¼çå éãè§£é          æ¾å¼çå éãè§£é\næ¯å¦å¼å¸¸èªå¨éæ¾é   æ¯                 ä¸æ¯ï¼å¿é¡»æå¨unlockæ¥éæ¾é\næ¯å¦æ¯æç¸åºä¸­æ­    åªè½ç­å¾éçéæ¾ï¼ä¸è½ååºä¸­æ­   ç­å¾éè¿ç¨ä¸­å¯ä»¥ç¨interruptæ¥ä¸­æ­ç­å¾\néç¨åºæ¯                          æ¯å¦è¿ç§åºæ¯ï¼åè·å¾Aéï¼åè·åBéï¼è·åå°Bééæ¾Aéåæ¶è·åCéï¼è·å¾Céåéæ¾Béå¨è·åDéãè¿ç§åºæ¯ç¨Synchronizedå°±ä¸å¥½å®ç°äºã\n\nLock ç¸æ¯äº Synchronized è¿æå¦ä¸ç¹æ§ï¼\n\n * å°è¯éé»å¡è·åé\n * è½è¢«ä¸­æ­çè·åé\n * è¶æ¶è·åé\n\n\n# Lock éçå¸¸è§ç¨æ³\n\n    Lock l = ...; \n    l.lock(); \n    try {\n        // access the resource protected by this lock }\n    finally { \n        l.unlock(); \n    } \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Lock éçAPI\n\nLock æ¥å£å®ä¹äºæå¾è·ååéæ¾çåºæ¬æä½ï¼ LockçAPIå¦ä¸ï¼\n\næ¹æ³                                          æè¿°\nvoid lock()                                 è·å¾é\nvoid lockInterruptibly()                    è·åéå®ï¼é¤éå½åçº¿ç¨æ¯ interrupted ã\nCondition newCondition()                    è¿åä¸ä¸ªæ°Conditionç»å®å°è¯¥å®ä¾Lockå®ä¾ã\nboolean tryLock()                           åªæå¨è°ç¨æ¶æå¯ä»¥è·å¾éã\nboolean tryLock(long time, TimeUnit unit)   å¦æå¨ç»å®çç­å¾æ¶é´åæ¯ç©ºé²çï¼å¹¶ä¸å½åççº¿ç¨å°æªå¾å° interruptedï¼åè·åè¯¥é\nvoid unlock()                               éæ¾éã",normalizedContent:"lock å®ç°æä¾æ¯ä½¿ç¨ synchronized æ¹æ³åè¯­å¥å¯ä»¥è·å¾çæ´å¹¿æ³çéå®æä½ã å®ä»¬åè®¸æ´çµæ´»çç»æåï¼å¯è½å·æå®å¨ä¸åçå±æ§ï¼å¹¶ä¸å¯ä»¥æ¯æå¤ä¸ªç¸å³èçå¯¹è±¡condition ã\n\nè½ç¶ synchronized æ¹æ³åè¯­å¥çèå´æºå¶ä½¿å¾ä½¿ç¨çè§å¨éæ´å®¹æç¼ç¨ï¼å¹¶ä¸æå©äºé¿åæ¶åéçè®¸å¤å¸¸è§ç¼ç¨éè¯¯ï¼ä½æ¯ææ¶æ¨éè¦ä»¥æ´çµæ´»çæ¹å¼å¤çéã\n\nä¾å¦ï¼æ¨è·åèç¹açéå®ï¼ç¶åè·åèç¹bï¼ç¶åéæ¾aå¹¶è·åcï¼ç¶åéæ¾bå¹¶è·å¾dç­ã\n\næè¿°çå®æ½æ¹å¼ä¸­lockæ¥å£éè¿åè®¸è·å¾å¹¶å¨ä¸åçèå´éæ¾çéï¼å¹¶åè®¸è·å¾å¹¶ä»¥ä»»ä½é¡ºåºéæ¾å¤ä¸ªéä½¿å¾è½å¤ä½¿ç¨è¿æ ·çææ¯ã\n\n\n# lock æ¥å£ vs synchronized\n\njava se 5ä¹åï¼juc åä¸­å¢å äº lock æ¥å£ï¼å¨æ­¤ä¹å java æ¯é  synchronized å³é®å­æ¥å®ç°éåè½çï¼äºèå·æç¸åçåå­åæ­¥è¯­ä¹ï¼åºå«å¦ä¸ï¼\n\n            synchronized      lockæ¥å£\nå éãè§£é       éå¼çå éãè§£é          æ¾å¼çå éãè§£é\næ¯å¦å¼å¸¸èªå¨éæ¾é   æ¯                 ä¸æ¯ï¼å¿é¡»æå¨unlockæ¥éæ¾é\næ¯å¦æ¯æç¸åºä¸­æ­    åªè½ç­å¾éçéæ¾ï¼ä¸è½ååºä¸­æ­   ç­å¾éè¿ç¨ä¸­å¯ä»¥ç¨interruptæ¥ä¸­æ­ç­å¾\néç¨åºæ¯                          æ¯å¦è¿ç§åºæ¯ï¼åè·å¾aéï¼åè·åbéï¼è·åå°bééæ¾aéåæ¶è·åcéï¼è·å¾céåéæ¾béå¨è·ådéãè¿ç§åºæ¯ç¨synchronizedå°±ä¸å¥½å®ç°äºã\n\nlock ç¸æ¯äº synchronized è¿æå¦ä¸ç¹æ§ï¼\n\n * å°è¯éé»å¡è·åé\n * è½è¢«ä¸­æ­çè·åé\n * è¶æ¶è·åé\n\n\n# lock éçå¸¸è§ç¨æ³\n\n    lock l = ...; \n    l.lock(); \n    try {\n        // access the resource protected by this lock }\n    finally { \n        l.unlock(); \n    } \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# lock éçapi\n\nlock æ¥å£å®ä¹äºæå¾è·ååéæ¾çåºæ¬æä½ï¼ lockçapiå¦ä¸ï¼\n\næ¹æ³                                          æè¿°\nvoid lock()                                 è·å¾é\nvoid lockinterruptibly()                    è·åéå®ï¼é¤éå½åçº¿ç¨æ¯ interrupted ã\ncondition newcondition()                    è¿åä¸ä¸ªæ°conditionç»å®å°è¯¥å®ä¾lockå®ä¾ã\nboolean trylock()                           åªæå¨è°ç¨æ¶æå¯ä»¥è·å¾éã\nboolean trylock(long time, timeunit unit)   å¦æå¨ç»å®çç­å¾æ¶é´åæ¯ç©ºé²çï¼å¹¶ä¸å½åççº¿ç¨å°æªå¾å° interruptedï¼åè·åè¯¥é\nvoid unlock()                               éæ¾éã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"éå¥éæ¯å¦ä½å®ç°çï¼",frontmatter:{title:"éå¥éæ¯å¦ä½å®ç°çï¼",date:"2022-04-04T14:33:48.000Z",permalink:"/pages/9b59d1/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/050.%E9%87%8D%E5%85%A5%E9%94%81%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/050.éå¥éæ¯å¦ä½å®ç°çï¼.md",key:"v-4927c049",path:"/pages/9b59d1/",headers:[{level:2,title:"ä»ä¹æ¯éå¥éï¼",slug:"ä»ä¹æ¯éå¥é",normalizedTitle:"ä»ä¹æ¯éå¥éï¼",charIndex:2},{level:2,title:"ReentrantLock - éå¥éå é",slug:"reentrantlock-éå¥éå é",normalizedTitle:"reentrantlock - éå¥éå é",charIndex:362},{level:2,title:"ReentrantLock - éå¥éè§£é",slug:"reentrantlock-éå¥éè§£é",normalizedTitle:"reentrantlock - éå¥éè§£é",charIndex:1186}],headersStr:"ä»ä¹æ¯éå¥éï¼ ReentrantLock - éå¥éå é ReentrantLock - éå¥éè§£é",content:'# ä»ä¹æ¯éå¥éï¼\n\nReentrantLockï¼éå¥éï¼æ¯JDK5ä¸­æ·»å å¨å¹¶ååä¸çä¸ä¸ªé«æ§è½çå·¥å·ãé¡¾åæä¹ï¼ReentrantLockæ¯æåä¸ä¸ªçº¿ç¨å¨æªéæ¾éçæåµä¸éå¤è·åéã\n\næ¢ç¶å·²ç»æäºåèçº§çsynchronizedï¼èä¸synchronizedä¹æ¯æéå¥ï¼ä¸ºä»ä¹Doug Leaè¿è¦ä¸é¨åä¸ä¸ªReentrantLockå¢ï¼\n\nè¿æ¯å ä¸ºï¼å½å­å¨å¤§éçº¿ç¨ç«äºéæ¶ï¼å¤æ°æåµä¸ReentrantLockçæ§è½ä¼äºsynchronizedã\n\nå ä¸ºå¨JDK6ä¸­å¯¹synchronizedåäºä¼åï¼å¨éç«äºä¸æ¿ççæ¶åï¼å¤æ°æåµä¸éä¼åçå¨ååéåè½»éçº§éé¶æ®µï¼è¿ä¸¤ä¸ªé¶æ®µæ§è½æ¯å¾å¥½çãå½å­å¨å¤§éç«äºæ¶ï¼å¯è½ä¼è¨èä¸ºééçº§éï¼æ§è½ä¸éï¼æ­¤æ¶çReentrantLockåºè¯¥æ¯ä¼äºsynchronizedçã\n\n\n# ReentrantLock - éå¥éå é\n\n// acquiresçå¼æ¯1\nfinal boolean nonfairTryAcquire(int acquires) {\n  // è·åå½åçº¿ç¨\n  final Thread current = Thread.currentThread();\n  // è·åstateçå¼\n  int c = getState();\n  // å¦æstateçå¼ç­äº0ï¼è¡¨ç¤ºå½åæ²¡æçº¿ç¨ææé\n  // å°è¯å°stateçå¼æ¹ä¸º1ï¼å¦æä¿®æ¹æåï¼åæåè·åéï¼å¹¶è®¾ç½®å½åçº¿ç¨ä¸ºææéççº¿ç¨ï¼è¿åtrue\n  if (c == 0) {\n    if (compareAndSetState(0, acquires)) {\n      setExclusiveOwnerThread(current);\n      return true;\n    }\n  }\n  // stateçå¼ä¸ç­äº0ï¼è¡¨ç¤ºå·²ç»æå¶ä»çº¿ç¨ææé\n  // å¤æ­å½åçº¿ç¨æ¯å¦ç­äºææéççº¿ç¨ï¼å¦æç­äºï¼å°stateçå¼+1ï¼å¹¶è®¾ç½®å°stateä¸ï¼è·åéæåï¼è¿åtrue\n  // å¦æä¸æ¯å½åçº¿ç¨ï¼è·åéå¤±è´¥ï¼è¿åfalse\n  else if (current == getExclusiveOwnerThread()) {\n    int nextc = c + acquires;\n    if (nextc < 0) // overflow\n      throw new Error("Maximum lock count exceeded");\n    setState(nextc);\n    return true;\n  }\n  return false;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# ReentrantLock - éå¥éè§£é\n\npublic void unlock() {\n    // è°ç¨AQSçreleaseæ¹æ³éæ¾èµæº\n    sync.release(1);\n}\n\n\n1\n2\n3\n4\n\n\npublic final boolean release(int arg) {\n    // tryReleaseä¹æ¯æ¨¡æ¿æ¹æ³ï¼å¨Syncä¸­å®ç°\n    if (tryRelease(arg)) {\n        Node h = head;\n        if (h != null && h.waitStatus != 0)\n            // æåéæ¾éåï¼å¤éåæ­¥éåä¸­çä¸ä¸ä¸ªèç¹ï¼ä½¿ä¹å¯ä»¥éæ°ç«äºé\n            // æ³¨ææ­¤æ¶ä¸ä¼å¤ééåç¬¬ä¸ä¸ªèç¹ä¹åçèç¹ï¼è¿äºèç¹æ­¤æ¶è¿æ¯æ æ³ç«äºé\n            unparkSuccessor(h);\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nprotected final boolean tryRelease(int releases) {\n    // å°stateçå¼-1ï¼å¦æ-1ä¹åç­äº0ï¼éæ¾éæå\n    int c = getState() - releases;\n    if (Thread.currentThread() != getExclusiveOwnerThread())\n        throw new IllegalMonitorStateException();\n    boolean free = false;\n    if (c == 0) {\n        free = true;\n        setExclusiveOwnerThread(null);\n    }\n    setState(c);\n    return free;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',normalizedContent:'# ä»ä¹æ¯éå¥éï¼\n\nreentrantlockï¼éå¥éï¼æ¯jdk5ä¸­æ·»å å¨å¹¶ååä¸çä¸ä¸ªé«æ§è½çå·¥å·ãé¡¾åæä¹ï¼reentrantlockæ¯æåä¸ä¸ªçº¿ç¨å¨æªéæ¾éçæåµä¸éå¤è·åéã\n\næ¢ç¶å·²ç»æäºåèçº§çsynchronizedï¼èä¸synchronizedä¹æ¯æéå¥ï¼ä¸ºä»ä¹doug leaè¿è¦ä¸é¨åä¸ä¸ªreentrantlockå¢ï¼\n\nè¿æ¯å ä¸ºï¼å½å­å¨å¤§éçº¿ç¨ç«äºéæ¶ï¼å¤æ°æåµä¸reentrantlockçæ§è½ä¼äºsynchronizedã\n\nå ä¸ºå¨jdk6ä¸­å¯¹synchronizedåäºä¼åï¼å¨éç«äºä¸æ¿ççæ¶åï¼å¤æ°æåµä¸éä¼åçå¨ååéåè½»éçº§éé¶æ®µï¼è¿ä¸¤ä¸ªé¶æ®µæ§è½æ¯å¾å¥½çãå½å­å¨å¤§éç«äºæ¶ï¼å¯è½ä¼è¨èä¸ºééçº§éï¼æ§è½ä¸éï¼æ­¤æ¶çreentrantlockåºè¯¥æ¯ä¼äºsynchronizedçã\n\n\n# reentrantlock - éå¥éå é\n\n// acquiresçå¼æ¯1\nfinal boolean nonfairtryacquire(int acquires) {\n  // è·åå½åçº¿ç¨\n  final thread current = thread.currentthread();\n  // è·åstateçå¼\n  int c = getstate();\n  // å¦æstateçå¼ç­äº0ï¼è¡¨ç¤ºå½åæ²¡æçº¿ç¨ææé\n  // å°è¯å°stateçå¼æ¹ä¸º1ï¼å¦æä¿®æ¹æåï¼åæåè·åéï¼å¹¶è®¾ç½®å½åçº¿ç¨ä¸ºææéççº¿ç¨ï¼è¿åtrue\n  if (c == 0) {\n    if (compareandsetstate(0, acquires)) {\n      setexclusiveownerthread(current);\n      return true;\n    }\n  }\n  // stateçå¼ä¸ç­äº0ï¼è¡¨ç¤ºå·²ç»æå¶ä»çº¿ç¨ææé\n  // å¤æ­å½åçº¿ç¨æ¯å¦ç­äºææéççº¿ç¨ï¼å¦æç­äºï¼å°stateçå¼+1ï¼å¹¶è®¾ç½®å°stateä¸ï¼è·åéæåï¼è¿åtrue\n  // å¦æä¸æ¯å½åçº¿ç¨ï¼è·åéå¤±è´¥ï¼è¿åfalse\n  else if (current == getexclusiveownerthread()) {\n    int nextc = c + acquires;\n    if (nextc < 0) // overflow\n      throw new error("maximum lock count exceeded");\n    setstate(nextc);\n    return true;\n  }\n  return false;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# reentrantlock - éå¥éè§£é\n\npublic void unlock() {\n    // è°ç¨aqsçreleaseæ¹æ³éæ¾èµæº\n    sync.release(1);\n}\n\n\n1\n2\n3\n4\n\n\npublic final boolean release(int arg) {\n    // tryreleaseä¹æ¯æ¨¡æ¿æ¹æ³ï¼å¨syncä¸­å®ç°\n    if (tryrelease(arg)) {\n        node h = head;\n        if (h != null && h.waitstatus != 0)\n            // æåéæ¾éåï¼å¤éåæ­¥éåä¸­çä¸ä¸ä¸ªèç¹ï¼ä½¿ä¹å¯ä»¥éæ°ç«äºé\n            // æ³¨ææ­¤æ¶ä¸ä¼å¤ééåç¬¬ä¸ä¸ªèç¹ä¹åçèç¹ï¼è¿äºèç¹æ­¤æ¶è¿æ¯æ æ³ç«äºé\n            unparksuccessor(h);\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nprotected final boolean tryrelease(int releases) {\n    // å°stateçå¼-1ï¼å¦æ-1ä¹åç­äº0ï¼éæ¾éæå\n    int c = getstate() - releases;\n    if (thread.currentthread() != getexclusiveownerthread())\n        throw new illegalmonitorstateexception();\n    boolean free = false;\n    if (c == 0) {\n        free = true;\n        setexclusiveownerthread(null);\n    }\n    setstate(c);\n    return free;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° Java éåçº§çæºå¶",frontmatter:{title:"ç®è¿° Java éåçº§çæºå¶",date:"2022-04-04T14:34:27.000Z",permalink:"/pages/ff0616/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/070.%E7%AE%80%E8%BF%B0%20Java%20%E9%94%81%E5%8D%87%E7%BA%A7%E7%9A%84%E6%9C%BA%E5%88%B6.html",relativePath:"01.Javaç¸å³/20.å¹¶å/070.ç®è¿° Java éåçº§çæºå¶.md",key:"v-1065f7be",path:"/pages/ff0616/",headers:[{level:3,title:"ååé",slug:"ååé",normalizedTitle:"ååé",charIndex:83},{level:3,title:"è½»éçº§é",slug:"è½»éçº§é",normalizedTitle:"è½»éçº§é",charIndex:94},{level:3,title:"ééçº§é",slug:"ééçº§é",normalizedTitle:"ééçº§é",charIndex:18},{level:3,title:"éåçº§",slug:"éåçº§",normalizedTitle:"éåçº§",charIndex:659},{level:3,title:"éçä¼ç¼ºç¹å¯¹æ¯",slug:"éçä¼ç¼ºç¹å¯¹æ¯",normalizedTitle:"éçä¼ç¼ºç¹å¯¹æ¯",charIndex:910}],headersStr:"ååé è½»éçº§é ééçº§é éåçº§ éçä¼ç¼ºç¹å¯¹æ¯",content:"Synchronized ä¸ç´è¢«ç§°ä¸ºééçº§éãä½æ¯å¨JDK 1.6ä¹åå®å·²ç»åå¾ä¸é£ä¹éäºãJDK 1.6 å¯¹Synchronized çä¼åç¹å¨äºï¼\n\n * å¼å¥äºååé\n\n * å¼å¥äºè½»éçº§é\n\nå¨JDK 1.6 ä¸­ï¼Synchronized éæåç§ç¶æï¼çº§å«ä»ä½å°é«ä¾æ¬¡æ¯ï¼æ éãååéãè½»éçº§éãééçº§éã\n\n\nè¿å ä¸ªç¶æä¼éçéç«äºåçº§ï¼ä½æ¯ä¸å¯ä»¥éçº§ã\n\n\n# ååé\n\nä¸ºä»ä¹å¼å¥ååé?\n\n\nä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ï¼ååéçä»£ä»·æ´ä½ã\n\nå½ä¸ä¸ªçº¿ç¨è®¿é®åæ­¥åå¹¶è·åå°éæ¶ï¼å¨éå¯¹è±¡å¤´è®°å½è¯¥çº¿ç¨çidï¼ä»¥åè¯¥çº¿ç¨è¿å¥åéåºè¯¥åæ­¥åæ¶ä¸éè¦CASæ¥å éåè§£éã\n\nååéä½æ¶éæ¾ï¼\n\n\nååéåªæéå°å¶ä»çº¿ç¨å°è¯ç«äºååéæ¶ï¼ææååéççº¿ç¨æä¼éæ¾éï¼çº¿ç¨æ¯ä¸ä¼ä¸»å¨éæ¾ååéçã\n\n\n\nååéä¸å®èµ·å°æ­£é¢ä½ç¨åï¼\n\n\nä¸æ¯çã\n\n\nååéçéç¨åºæ¯æ¯ï¼ä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ã\n\nå¦æä½ ç¡®å®ä½ çç¨åºä¸­ ééå¸¸å¤äºç«äºç¶æï¼å¯ä»¥éè¿JVMåæ°å³é­ååéãå³é­åï¼ç¨åºåé­äººè¿å¥è½»éçº§éç¶æã\n\n\n-XX:UseBiasedLocking=false\n\n\n\n1\n2\n3\n\n\n\n# è½»éçº§é\n\nè½»éçº§éæ¯æå½éæ¯ååéçæ¶åï¼å´è¢«å¦å¤ççº¿ç¨æè®¿é®ï¼æ­¤æ¶ååéå°±ä¼åçº§ä¸ºè½»éçº§éï¼å¶ä»çº¿ç¨ä¼éè¿èªæï¼å³äºèªæçä»ç»è§ææ«ï¼çå½¢å¼å°è¯è·åéï¼çº¿ç¨ä¸ä¼é»å¡ï¼ä»èæé«æ§è½ã\n\nè½»éçº§éçè·åä¸»è¦ç±ä¸¤ç§æåµï¼â  å½å³é­ååéåè½æ¶ï¼â¡ ç±äºå¤ä¸ªçº¿ç¨ç«äºååéå¯¼è´ååéåçº§ä¸ºè½»éçº§éã\n\nè½»éçº§éä½æ¶åçº§ä¸ºééçº§é?\n\n\nè¥å½ååªæä¸ä¸ªç­å¾çº¿ç¨ï¼åè¯¥çº¿ç¨å°éè¿èªæè¿è¡ç­å¾ãä½æ¯å½èªæè¶è¿ä¸å®çæ¬¡æ°æ¶ï¼è½»éçº§éä¾¿ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\nå¦å¤ï¼å½ä¸ä¸ªçº¿ç¨å·²ææéï¼å¦ä¸ä¸ªçº¿ç¨å¨èªæï¼èæ­¤æ¶åæç¬¬ä¸ä¸ªçº¿ç¨æ¥è®¿æ¶ï¼è½»éçº§éä¹ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\n\n# ééçº§é\n\nééçº§éæ¯æå½æä¸ä¸ªçº¿ç¨è·åéä¹åï¼å¶ä½ææç­å¾è·åè¯¥éççº¿ç¨é½ä¼å¤äºé»å¡ç¶æã\n\nééçº§éçè·åæ¯éæ¾ä¸è¬ä¼æçº¿ç¨ä¸ä¸æåæ¢ï¼ä»£ä»·æ¯æ¯è¾å¤§çï¼æä»¥è¯´æ¯ééçº§éã\n\n\n# éåçº§\n\n\n\n\n# éçä¼ç¼ºç¹å¯¹æ¯\n\n",normalizedContent:"synchronized ä¸ç´è¢«ç§°ä¸ºééçº§éãä½æ¯å¨jdk 1.6ä¹åå®å·²ç»åå¾ä¸é£ä¹éäºãjdk 1.6 å¯¹synchronized çä¼åç¹å¨äºï¼\n\n * å¼å¥äºååé\n\n * å¼å¥äºè½»éçº§é\n\nå¨jdk 1.6 ä¸­ï¼synchronized éæåç§ç¶æï¼çº§å«ä»ä½å°é«ä¾æ¬¡æ¯ï¼æ éãååéãè½»éçº§éãééçº§éã\n\n\nè¿å ä¸ªç¶æä¼éçéç«äºåçº§ï¼ä½æ¯ä¸å¯ä»¥éçº§ã\n\n\n# ååé\n\nä¸ºä»ä¹å¼å¥ååé?\n\n\nä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ï¼ååéçä»£ä»·æ´ä½ã\n\nå½ä¸ä¸ªçº¿ç¨è®¿é®åæ­¥åå¹¶è·åå°éæ¶ï¼å¨éå¯¹è±¡å¤´è®°å½è¯¥çº¿ç¨çidï¼ä»¥åè¯¥çº¿ç¨è¿å¥åéåºè¯¥åæ­¥åæ¶ä¸éè¦casæ¥å éåè§£éã\n\nååéä½æ¶éæ¾ï¼\n\n\nååéåªæéå°å¶ä»çº¿ç¨å°è¯ç«äºååéæ¶ï¼ææååéççº¿ç¨æä¼éæ¾éï¼çº¿ç¨æ¯ä¸ä¼ä¸»å¨éæ¾ååéçã\n\n\n\nååéä¸å®èµ·å°æ­£é¢ä½ç¨åï¼\n\n\nä¸æ¯çã\n\n\nååéçéç¨åºæ¯æ¯ï¼ä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ã\n\nå¦æä½ ç¡®å®ä½ çç¨åºä¸­ ééå¸¸å¤äºç«äºç¶æï¼å¯ä»¥éè¿jvmåæ°å³é­ååéãå³é­åï¼ç¨åºåé­äººè¿å¥è½»éçº§éç¶æã\n\n\n-xx:usebiasedlocking=false\n\n\n\n1\n2\n3\n\n\n\n# è½»éçº§é\n\nè½»éçº§éæ¯æå½éæ¯ååéçæ¶åï¼å´è¢«å¦å¤ççº¿ç¨æè®¿é®ï¼æ­¤æ¶ååéå°±ä¼åçº§ä¸ºè½»éçº§éï¼å¶ä»çº¿ç¨ä¼éè¿èªæï¼å³äºèªæçä»ç»è§ææ«ï¼çå½¢å¼å°è¯è·åéï¼çº¿ç¨ä¸ä¼é»å¡ï¼ä»èæé«æ§è½ã\n\nè½»éçº§éçè·åä¸»è¦ç±ä¸¤ç§æåµï¼â  å½å³é­ååéåè½æ¶ï¼â¡ ç±äºå¤ä¸ªçº¿ç¨ç«äºååéå¯¼è´ååéåçº§ä¸ºè½»éçº§éã\n\nè½»éçº§éä½æ¶åçº§ä¸ºééçº§é?\n\n\nè¥å½ååªæä¸ä¸ªç­å¾çº¿ç¨ï¼åè¯¥çº¿ç¨å°éè¿èªæè¿è¡ç­å¾ãä½æ¯å½èªæè¶è¿ä¸å®çæ¬¡æ°æ¶ï¼è½»éçº§éä¾¿ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\nå¦å¤ï¼å½ä¸ä¸ªçº¿ç¨å·²ææéï¼å¦ä¸ä¸ªçº¿ç¨å¨èªæï¼èæ­¤æ¶åæç¬¬ä¸ä¸ªçº¿ç¨æ¥è®¿æ¶ï¼è½»éçº§éä¹ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\n\n# ééçº§é\n\nééçº§éæ¯æå½æä¸ä¸ªçº¿ç¨è·åéä¹åï¼å¶ä½ææç­å¾è·åè¯¥éççº¿ç¨é½ä¼å¤äºé»å¡ç¶æã\n\nééçº§éçè·åæ¯éæ¾ä¸è¬ä¼æçº¿ç¨ä¸ä¸æåæ¢ï¼ä»£ä»·æ¯æ¯è¾å¤§çï¼æä»¥è¯´æ¯ééçº§éã\n\n\n# éåçº§\n\n\n\n\n# éçä¼ç¼ºç¹å¯¹æ¯\n\n",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"volatile å³é®å­è§£å³äºä»ä¹é®é¢ï¼å®çå®ç°åçæ¯ä»ä¹ï¼",frontmatter:{title:"volatile å³é®å­è§£å³äºä»ä¹é®é¢ï¼å®çå®ç°åçæ¯ä»ä¹ï¼",date:"2022-04-04T14:34:07.000Z",permalink:"/pages/383264/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/060.volatile%20%E5%85%B3%E9%94%AE%E5%AD%97%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%8C%E5%AE%83%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/060.volatile å³é®å­è§£å³äºä»ä¹é®é¢ï¼å®çå®ç°åçæ¯ä»ä¹ï¼.md",key:"v-f5bcd180",path:"/pages/383264/",headers:[{level:2,title:"Javaä¸­çåå­å¯è§æ§",slug:"javaä¸­çåå­å¯è§æ§",normalizedTitle:"javaä¸­çåå­å¯è§æ§",charIndex:129},{level:2,title:"Volatile çå®ç°åç",slug:"volatile-çå®ç°åç",normalizedTitle:"volatile çå®ç°åç",charIndex:335}],headersStr:"Javaä¸­çåå­å¯è§æ§ Volatile çå®ç°åç",content:"volatile è½ä¿è¯ Java ä¸­çåå­å¯è§æ§ã å¯è§æ§çæææ¯ï¼å½çº¿ç¨Aä¿®æ¹å±äº«åéçå¼åï¼çº¿ç¨Bè½ç«å»è¯»å°è¿ä¸ªä¿®æ¹åçå¼ã\n\n\nVolatile ä¸ä¼å¼èµ·çº¿ç¨ä¸ä¸æçåæ¢åè°åº¦ï¼å¦æä½¿ç¨çæ°å½ï¼ä¼æ¯ Synchronized æ§è¡ææ¬æ´ä½ã\n\n\n# Javaä¸­çåå­å¯è§æ§\n\n * å¯è§æ§ï¼ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéå¼çä¿®æ¹ï¼è½å¤åæ¶è¢«å¶ä»çº¿ç¨çå°ã\n\n * å±äº«åéï¼å¦æä¸ä¸ªåéå¨å¤ä¸ªçº¿ç¨çå·¥ä½åå­ä¸­é½å­å¨å¯æ¬ï¼é£è¿ä¸ªåéå°±æ¯è¿å ä¸ªçº¿ç¨çå±äº«åéã\n\n * Javaåå­çè§å®ï¼\n\n-çº¿ç¨å¯¹å±äº«åéçæææä½é½å¿é¡»å¨èªå·±çå·¥ä½åå­ä¸­è¿è¡ï¼ä¸å¯ç´æ¥ä»ä¸»åå­ä¸­è¯»åï¼ -ä¸åçº¿ç¨ä¹é´æ æ³ç´æ¥è®¿é®å¶ä»çº¿ç¨å·¥ä½åå­ä¸­çåéï¼çº¿ç¨é´çåéå¼çä¼ ééè¦éè¿ä¸»åå­ã\n\n\n\n\n# Volatile çå®ç°åç\n\nå¦æå¯¹ç¨ Volatile ä¿®é¥°çåéåæä½ï¼JVM ä¼åå¤çå¨ååºä¸æ¡ Lock åç¼çæä»¤ï¼Lock åç¼çæä»¤å¨å¤æ ¸å¤çå¨ä¸ä¼å¼åä¸¤ä»¶äºæï¼\n\n 1. å°å½åå¤çå¨ç¼å­è¡çæ°æ®åä¼å°ç³»ç»åå­\n\n 2. è¿ä¸ªåä¼åå­çæä½ä¼ä½¿å¶ä»ç¼å­ä¸­çè¯¥åå­å°åçæ°æ®æ æ",normalizedContent:"volatile è½ä¿è¯ java ä¸­çåå­å¯è§æ§ã å¯è§æ§çæææ¯ï¼å½çº¿ç¨aä¿®æ¹å±äº«åéçå¼åï¼çº¿ç¨bè½ç«å»è¯»å°è¿ä¸ªä¿®æ¹åçå¼ã\n\n\nvolatile ä¸ä¼å¼èµ·çº¿ç¨ä¸ä¸æçåæ¢åè°åº¦ï¼å¦æä½¿ç¨çæ°å½ï¼ä¼æ¯ synchronized æ§è¡ææ¬æ´ä½ã\n\n\n# javaä¸­çåå­å¯è§æ§\n\n * å¯è§æ§ï¼ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéå¼çä¿®æ¹ï¼è½å¤åæ¶è¢«å¶ä»çº¿ç¨çå°ã\n\n * å±äº«åéï¼å¦æä¸ä¸ªåéå¨å¤ä¸ªçº¿ç¨çå·¥ä½åå­ä¸­é½å­å¨å¯æ¬ï¼é£è¿ä¸ªåéå°±æ¯è¿å ä¸ªçº¿ç¨çå±äº«åéã\n\n * javaåå­çè§å®ï¼\n\n-çº¿ç¨å¯¹å±äº«åéçæææä½é½å¿é¡»å¨èªå·±çå·¥ä½åå­ä¸­è¿è¡ï¼ä¸å¯ç´æ¥ä»ä¸»åå­ä¸­è¯»åï¼ -ä¸åçº¿ç¨ä¹é´æ æ³ç´æ¥è®¿é®å¶ä»çº¿ç¨å·¥ä½åå­ä¸­çåéï¼çº¿ç¨é´çåéå¼çä¼ ééè¦éè¿ä¸»åå­ã\n\n\n\n\n# volatile çå®ç°åç\n\nå¦æå¯¹ç¨ volatile ä¿®é¥°çåéåæä½ï¼jvm ä¼åå¤çå¨ååºä¸æ¡ lock åç¼çæä»¤ï¼lock åç¼çæä»¤å¨å¤æ ¸å¤çå¨ä¸ä¼å¼åä¸¤ä»¶äºæï¼\n\n 1. å°å½åå¤çå¨ç¼å­è¡çæ°æ®åä¼å°ç³»ç»åå­\n\n 2. è¿ä¸ªåä¼åå­çæä½ä¼ä½¿å¶ä»ç¼å­ä¸­çè¯¥åå­å°åçæ°æ®æ æ",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° Synchronizedï¼Volatileï¼å¯éå¥éçä¸åä½¿ç¨åºæ¯åä¼ç¼ºç¹",frontmatter:{title:"ç®è¿° Synchronizedï¼Volatileï¼å¯éå¥éçä¸åä½¿ç¨åºæ¯åä¼ç¼ºç¹",date:"2022-04-04T14:33:06.000Z",permalink:"/pages/97245f/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/030.%E7%AE%80%E8%BF%B0%20Synchronized%EF%BC%8CVolatile%EF%BC%8C%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81%E7%9A%84%E4%B8%8D%E5%90%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E5%8F%8A%E4%BC%98%E7%BC%BA%E7%82%B9.html",relativePath:"01.Javaç¸å³/20.å¹¶å/030.ç®è¿° Synchronizedï¼Volatileï¼å¯éå¥éçä¸åä½¿ç¨åºæ¯åä¼ç¼ºç¹.md",key:"v-35324a50",path:"/pages/97245f/",headers:[{level:2,title:"Javaä¸­çåå­å¯è§æ§",slug:"javaä¸­çåå­å¯è§æ§",normalizedTitle:"javaä¸­çåå­å¯è§æ§",charIndex:198},{level:2,title:"Volatile çå®ç°åç",slug:"volatile-çå®ç°åç",normalizedTitle:"volatile çå®ç°åç",charIndex:404},{level:2,title:"Synchronized çç¨æ³",slug:"synchronized-çç¨æ³",normalizedTitle:"synchronized çç¨æ³",charIndex:556},{level:2,title:"Synchronized çéå­å¨å¨åªéï¼",slug:"synchronized-çéå­å¨å¨åªé",normalizedTitle:"synchronized çéå­å¨å¨åªéï¼",charIndex:837},{level:2,title:"ä¸ºä»ä¹Javaä¸­æ¯ä¸ªå¯¹è±¡é½å¯ä»¥ä½ä¸ºéï¼",slug:"ä¸ºä»ä¹javaä¸­æ¯ä¸ªå¯¹è±¡é½å¯ä»¥ä½ä¸ºé",normalizedTitle:"ä¸ºä»ä¹javaä¸­æ¯ä¸ªå¯¹è±¡é½å¯ä»¥ä½ä¸ºéï¼",charIndex:1068},{level:2,title:"Synchronized éåçº§",slug:"synchronized-éåçº§",normalizedTitle:"synchronized éåçº§",charIndex:1374},{level:3,title:"ååé",slug:"ååé",normalizedTitle:"ååé",charIndex:1012},{level:3,title:"è½»éçº§é",slug:"è½»éçº§é",normalizedTitle:"è½»éçº§é",charIndex:996},{level:3,title:"ééçº§é",slug:"ééçº§é",normalizedTitle:"ééçº§é",charIndex:1001},{level:3,title:"éåçº§",slug:"éåçº§",normalizedTitle:"éåçº§",charIndex:1387},{level:3,title:"éçä¼ç¼ºç¹å¯¹æ¯",slug:"éçä¼ç¼ºç¹å¯¹æ¯",normalizedTitle:"éçä¼ç¼ºç¹å¯¹æ¯",charIndex:2302},{level:2,title:"Javaå¦ä½å®ç°åå­æä½",slug:"javaå¦ä½å®ç°åå­æä½",normalizedTitle:"javaå¦ä½å®ç°åå­æä½",charIndex:2316},{level:3,title:"CASå®ç°åå­æä½",slug:"caså®ç°åå­æä½",normalizedTitle:"caså®ç°åå­æä½",charIndex:2400},{level:3,title:"CAS å­å¨çä¸ä¸ªé®é¢",slug:"cas-å­å¨çä¸ä¸ªé®é¢",normalizedTitle:"cas å­å¨çä¸ä¸ªé®é¢",charIndex:2623},{level:3,title:"éæºå¶å®ç°åå­æä½",slug:"éæºå¶å®ç°åå­æä½",normalizedTitle:"éæºå¶å®ç°åå­æä½",charIndex:3081}],headersStr:"Javaä¸­çåå­å¯è§æ§ Volatile çå®ç°åç Synchronized çç¨æ³ Synchronized çéå­å¨å¨åªéï¼ ä¸ºä»ä¹Javaä¸­æ¯ä¸ªå¯¹è±¡é½å¯ä»¥ä½ä¸ºéï¼ Synchronized éåçº§ ååé è½»éçº§é ééçº§é éåçº§ éçä¼ç¼ºç¹å¯¹æ¯ Javaå¦ä½å®ç°åå­æä½ CASå®ç°åå­æä½ CAS å­å¨çä¸ä¸ªé®é¢ éæºå¶å®ç°åå­æä½",content:"å¨å¤çº¿ç¨ç¼ç¨ä¸­ Synchronizedï¼Volatile é½æ®æ¼çéè¦è§è², é½å·²ç¨æ¥å®ç°åå­æä½ã Volatile æ¯è½»éçº§ç Synchronized ï¼ä¿è¯äºå±äº«åéçå¯è§æ§ã\n\n\nå¯è§æ§çæææ¯ï¼å½çº¿ç¨Aä¿®æ¹å±äº«åéçå¼åï¼çº¿ç¨Bè½ç«å»è¯»å°è¿ä¸ªä¿®æ¹åçå¼ã\n\n\nVolatile ä¸ä¼å¼èµ·çº¿ç¨ä¸ä¸æçåæ¢åè°åº¦ï¼å¦æä½¿ç¨çæ°å½ï¼ä¼æ¯ Synchronized æ§è¡ææ¬æ´ä½ã\n\n\n# Javaä¸­çåå­å¯è§æ§\n\n * å¯è§æ§ï¼ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéå¼çä¿®æ¹ï¼è½å¤åæ¶è¢«å¶ä»çº¿ç¨çå°ã\n\n * å±äº«åéï¼å¦æä¸ä¸ªåéå¨å¤ä¸ªçº¿ç¨çå·¥ä½åå­ä¸­é½å­å¨å¯æ¬ï¼é£è¿ä¸ªåéå°±æ¯è¿å ä¸ªçº¿ç¨çå±äº«åéã\n\n * Javaåå­çè§å®ï¼\n\n-çº¿ç¨å¯¹å±äº«åéçæææä½é½å¿é¡»å¨èªå·±çå·¥ä½åå­ä¸­è¿è¡ï¼ä¸å¯ç´æ¥ä»ä¸»åå­ä¸­è¯»åï¼ -ä¸åçº¿ç¨ä¹é´æ æ³ç´æ¥è®¿é®å¶ä»çº¿ç¨å·¥ä½åå­ä¸­çåéï¼çº¿ç¨é´çåéå¼çä¼ ééè¦éè¿ä¸»åå­ã\n\n\n\n\n# Volatile çå®ç°åç\n\nå¦æå¯¹ç¨ Volatile ä¿®é¥°çåéåæä½ï¼JVM ä¼åå¤çå¨ååºä¸æ¡ Lock åç¼çæä»¤ï¼Lock åç¼çæä»¤å¨å¤æ ¸å¤çå¨ä¸ä¼å¼åä¸¤ä»¶äºæï¼\n\n 1. å°å½åå¤çå¨ç¼å­è¡çæ°æ®åä¼å°ç³»ç»åå­\n\n 2. è¿ä¸ªåä¼åå­çæä½ä¼ä½¿å¶ä»ç¼å­ä¸­çè¯¥åå­å°åçæ°æ®æ æ\n\n\n# Synchronized çç¨æ³\n\n 1. æ®éåæ­¥æ¹æ³ï¼éå½åå®ä¾å¯¹è±¡\n\n\npublic synchronized void method() {\n\n}\n\n\n\n1\n2\n3\n4\n5\n\n 2. éæåæ­¥æ¹æ³ï¼éå½åç±»çClasså¯¹è±¡\n\n\npublic synchronized static void method() {\n\n}\n\n\n\n1\n2\n3\n4\n5\n\n 3. åæ­¥ä»£ç åï¼éæ¬å·éå¯¹è±¡\n\n\npublic void method()\n\n{\n\nsynchronized(this) {\n\n}\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# Synchronized çéå­å¨å¨åªéï¼\n\nSynchronizedçéå­å¨å¨Javaçå¯¹è±¡å¤´éã\n\n\n\nJava å¯¹è±¡å¤´éç Mark Word ç¨äºå­å¨å¯¹è±¡ç HashCode ãåä»£å¹´é¾åéæ è®°ä½ã\n\n\n32ä½èææºä¸­ï¼ Mark Word çå­å¨ç»æå¦ä¸ï¼\n\n\n\nå¨è¿è¡æï¼ Mark Word æåç§ç¶æï¼è½»éçº§éãééçº§éãGC æ è®°ãååéï¼åç¶æä¸çå­å¨ç»æå¦ä¸å¾ï¼\n\n\n\nå¨64ä½èææºä¸ï¼Mark Word çå­å¨ç»æå¦ä¸å¾ï¼\n\n\n\n\n# ä¸ºä»ä¹Javaä¸­æ¯ä¸ªå¯¹è±¡é½å¯ä»¥ä½ä¸ºéï¼\n\nä»»ä½å¯¹è±¡é½æä¸ä¸ª monitor ä¸ä¹å³èï¼å½ä¸ä¸ª monitor è¢«ææåï¼ä»å°å¤äºéå®ç¶æãmonitor æ¯ç¨ C++ å®ç°çã\n\nåæ­¥è¯­å¥åçå®ç°ä½¿ç¨çæ¯ monitorenter å monitorexit æä»¤ï¼å¶ä¸­ monitorenter æä»¤æååæ­¥ä»£ç åçå¼å§ä½ç½®ï¼monitorexit æä»¤åææåæ­¥ä»£ç åçç»æä½ç½®ã\n\nmonitorenter æä»¤æ¯å¨ç¼è¯åæå¥å°åæ­¥ä»£ç åçå¼å§ä½ç½®ï¼è monitorexit æ¯æå¥å°åæ­¥åçç»æå¤åå¼å¸¸å¤ï¼JVM è¦ä¿è¯æ¯ä¸ª monitorenter é½æ monitorexit ä¸ä¹éå¯¹ã\n\n\n# Synchronized éåçº§\n\nSynchronized ä¸ç´è¢«ç§°ä¸ºééçº§éãä½æ¯å¨JDK 1.6ä¹åå®å·²ç»åå¾ä¸é£ä¹éäºãJDK 1.6 å¯¹Synchronized çä¼åç¹å¨äºï¼\n\n * å¼å¥äºååé\n\n * å¼å¥äºè½»éçº§é\n\nå¨JDK 1.6 ä¸­ï¼Synchronized éæåç§ç¶æï¼çº§å«ä»ä½å°é«ä¾æ¬¡æ¯ï¼æ éãååéãè½»éçº§éãééçº§éã\n\n\nè¿å ä¸ªç¶æä¼éçéç«äºåçº§ï¼ä½æ¯ä¸å¯ä»¥éçº§ã\n\n\n# ååé\n\nä¸ºä»ä¹å¼å¥ååé?\n\n\nä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ï¼ååéçä»£ä»·æ´ä½ã\n\nå½ä¸ä¸ªçº¿ç¨è®¿é®åæ­¥åå¹¶è·åå°éæ¶ï¼å¨éå¯¹è±¡å¤´è®°å½è¯¥çº¿ç¨çidï¼ä»¥åè¯¥çº¿ç¨è¿å¥åéåºè¯¥åæ­¥åæ¶ä¸éè¦CASæ¥å éåè§£éã\n\nååéä½æ¶éæ¾ï¼\n\n\nååéåªæéå°å¶ä»çº¿ç¨å°è¯ç«äºååéæ¶ï¼ææååéççº¿ç¨æä¼éæ¾éï¼çº¿ç¨æ¯ä¸ä¼ä¸»å¨éæ¾ååéçã\n\n\n\nååéä¸å®èµ·å°æ­£é¢ä½ç¨åï¼\n\n\nä¸æ¯çã\n\n\nååéçéç¨åºæ¯æ¯ï¼ä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ã\n\nå¦æä½ ç¡®å®ä½ çç¨åºä¸­ ééå¸¸å¤äºç«äºç¶æï¼å¯ä»¥éè¿JVMåæ°å³é­ååéãå³é­åï¼ç¨åºåé­äººè¿å¥è½»éçº§éç¶æã\n\n\n-XX:UseBiasedLocking=false\n\n\n\n1\n2\n3\n\n\n\n# è½»éçº§é\n\nè½»éçº§éæ¯æå½éæ¯ååéçæ¶åï¼å´è¢«å¦å¤ççº¿ç¨æè®¿é®ï¼æ­¤æ¶ååéå°±ä¼åçº§ä¸ºè½»éçº§éï¼å¶ä»çº¿ç¨ä¼éè¿èªæï¼å³äºèªæçä»ç»è§ææ«ï¼çå½¢å¼å°è¯è·åéï¼çº¿ç¨ä¸ä¼é»å¡ï¼ä»èæé«æ§è½ã\n\nè½»éçº§éçè·åä¸»è¦ç±ä¸¤ç§æåµï¼â  å½å³é­ååéåè½æ¶ï¼â¡ ç±äºå¤ä¸ªçº¿ç¨ç«äºååéå¯¼è´ååéåçº§ä¸ºè½»éçº§éã\n\nè½»éçº§éä½æ¶åçº§ä¸ºééçº§é?\n\n\nè¥å½ååªæä¸ä¸ªç­å¾çº¿ç¨ï¼åè¯¥çº¿ç¨å°éè¿èªæè¿è¡ç­å¾ãä½æ¯å½èªæè¶è¿ä¸å®çæ¬¡æ°æ¶ï¼è½»éçº§éä¾¿ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\nå¦å¤ï¼å½ä¸ä¸ªçº¿ç¨å·²ææéï¼å¦ä¸ä¸ªçº¿ç¨å¨èªæï¼èæ­¤æ¶åæç¬¬ä¸ä¸ªçº¿ç¨æ¥è®¿æ¶ï¼è½»éçº§éä¹ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\n\n# ééçº§é\n\nééçº§éæ¯æå½æä¸ä¸ªçº¿ç¨è·åéä¹åï¼å¶ä½ææç­å¾è·åè¯¥éççº¿ç¨é½ä¼å¤äºé»å¡ç¶æã\n\nééçº§éçè·åæ¯éæ¾ä¸è¬ä¼æçº¿ç¨ä¸ä¸æåæ¢ï¼ä»£ä»·æ¯æ¯è¾å¤§çï¼æä»¥è¯´æ¯ééçº§éã\n\n\n# éåçº§\n\n\n\n\n# éçä¼ç¼ºç¹å¯¹æ¯\n\n\n\n\n# Javaå¦ä½å®ç°åå­æä½\n\nåå­æä½ï¼ä¸å¯è¢«ä¸­æ­çä¸ä¸ªæä¸ç³»åæä½ã\n\n\nJava æä¸¤ç§å®ç°åå­æä½çæ¹å¼ï¼CASï¼compare and swapï¼ãéã\n\n\n# CASå®ç°åå­æä½\n\nCASçè®ºæ¯ juc åå®ç°çåºç³ï¼å¨intelçCPUä¸­ï¼CAS éè¿è°ç¨æ¬å°æ¹æ³ï¼JNIï¼ä½¿ç¨cmpxchgæä»¤æ¥å®ç°çéé»å¡ç®æ³ãå¯¹æ¯äºsynchronizedé»å¡ç®æ³ï¼åºäº CAS å®ç°ç juc å¨æ§è½ä¸æäºå¾å¤§çæåã\n\nCAS æä½åå«ä¸ä¸ªæä½æ° ââ åå­ä½ç½®ï¼Vï¼ãé¢æåå¼ï¼Aï¼åæ°å¼(B)ã å¦æåå­ä½ç½®çå¼ä¸é¢æåå¼ç¸å¹éï¼é£ä¹å¤çå¨ä¼èªå¨å°è¯¥ä½ç½®å¼æ´æ°ä¸ºæ°å¼ ãå¦åï¼å¤çå¨ä¸åä»»ä½æä½ã\n\n\n# CAS å­å¨çä¸ä¸ªé®é¢\n\n 1. ABAé®é¢\n\n * å ä¸ºCASéè¦å¨æä½å¼çæ¶åæ£æ¥ä¸å¼ææ²¡æåçååï¼å¦ææ²¡æåçåååæ´æ°ï¼ä½æ¯å¦æä¸ä¸ªå¼åæ¥æ¯Aï¼åæäºBï¼ååæäºAï¼é£ä¹ä½¿ç¨CASè¿è¡æ£æ¥æ¶ä¼åç°å®çå¼æ²¡æåçååï¼ä½æ¯å®éä¸å´ååäºã\n\n * ABAé®é¢çè§£å³æè·¯å°±æ¯ä½¿ç¨çæ¬å·ãå¨åéåé¢è¿½å ä¸çæ¬å·ï¼æ¯æ¬¡åéæ´æ°çæ¶åæçæ¬å·å ä¸ï¼é£ä¹Aï¼Bï¼A å°±ä¼åæ1A-2Bï¼3Aã\n\n * ä»Java1.5å¼å§JDKçatomicåéæä¾äºä¸ä¸ªç±»AtomicStampedReferenceæ¥è§£å³ABAé®é¢ãè¿ä¸ªç±»çcompareAndSetæ¹æ³ä½ç¨æ¯é¦åæ£æ¥å½åå¼ç¨æ¯å¦ç­äºé¢æå¼ç¨ï¼å¹¶ä¸å½åæ å¿æ¯å¦ç­äºé¢ææ å¿ï¼å¦æå¨é¨ç¸ç­ï¼åä»¥åå­æ¹å¼å°è¯¥å¼ç¨åè¯¥æ å¿çå¼è®¾ç½®ä¸ºç»å®çæ´æ°å¼ã\n\n 2. å¾ªç¯æ¶é´é¿å¼éå¤§\n\n 3. åªè½ä¿è¯ä¸ä¸ªå±äº«åéçåå­æä½\n\nä»Java1.5å¼å§JDKæä¾äºAtomicReferenceç±»æ¥ä¿è¯å¼ç¨å¯¹è±¡ä¹é´çåå­æ§ï¼ä½ å¯ä»¥æå¤ä¸ªåéæ¾å¨ä¸ä¸ªå¯¹è±¡éæ¥è¿è¡CASæä½ã\n\n\n# éæºå¶å®ç°åå­æä½\n\néæºå¶ä¿è¯äºåªæè·å¾éççº¿ç¨æè½æä½æå®çåå­åºåãé¤äºååéï¼JVMå®ç°éçæ¹å¼é½ä½¿ç¨äºå¾ªç¯CASã",normalizedContent:"å¨å¤çº¿ç¨ç¼ç¨ä¸­ synchronizedï¼volatile é½æ®æ¼çéè¦è§è², é½å·²ç¨æ¥å®ç°åå­æä½ã volatile æ¯è½»éçº§ç synchronized ï¼ä¿è¯äºå±äº«åéçå¯è§æ§ã\n\n\nå¯è§æ§çæææ¯ï¼å½çº¿ç¨aä¿®æ¹å±äº«åéçå¼åï¼çº¿ç¨bè½ç«å»è¯»å°è¿ä¸ªä¿®æ¹åçå¼ã\n\n\nvolatile ä¸ä¼å¼èµ·çº¿ç¨ä¸ä¸æçåæ¢åè°åº¦ï¼å¦æä½¿ç¨çæ°å½ï¼ä¼æ¯ synchronized æ§è¡ææ¬æ´ä½ã\n\n\n# javaä¸­çåå­å¯è§æ§\n\n * å¯è§æ§ï¼ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéå¼çä¿®æ¹ï¼è½å¤åæ¶è¢«å¶ä»çº¿ç¨çå°ã\n\n * å±äº«åéï¼å¦æä¸ä¸ªåéå¨å¤ä¸ªçº¿ç¨çå·¥ä½åå­ä¸­é½å­å¨å¯æ¬ï¼é£è¿ä¸ªåéå°±æ¯è¿å ä¸ªçº¿ç¨çå±äº«åéã\n\n * javaåå­çè§å®ï¼\n\n-çº¿ç¨å¯¹å±äº«åéçæææä½é½å¿é¡»å¨èªå·±çå·¥ä½åå­ä¸­è¿è¡ï¼ä¸å¯ç´æ¥ä»ä¸»åå­ä¸­è¯»åï¼ -ä¸åçº¿ç¨ä¹é´æ æ³ç´æ¥è®¿é®å¶ä»çº¿ç¨å·¥ä½åå­ä¸­çåéï¼çº¿ç¨é´çåéå¼çä¼ ééè¦éè¿ä¸»åå­ã\n\n\n\n\n# volatile çå®ç°åç\n\nå¦æå¯¹ç¨ volatile ä¿®é¥°çåéåæä½ï¼jvm ä¼åå¤çå¨ååºä¸æ¡ lock åç¼çæä»¤ï¼lock åç¼çæä»¤å¨å¤æ ¸å¤çå¨ä¸ä¼å¼åä¸¤ä»¶äºæï¼\n\n 1. å°å½åå¤çå¨ç¼å­è¡çæ°æ®åä¼å°ç³»ç»åå­\n\n 2. è¿ä¸ªåä¼åå­çæä½ä¼ä½¿å¶ä»ç¼å­ä¸­çè¯¥åå­å°åçæ°æ®æ æ\n\n\n# synchronized çç¨æ³\n\n 1. æ®éåæ­¥æ¹æ³ï¼éå½åå®ä¾å¯¹è±¡\n\n\npublic synchronized void method() {\n\n}\n\n\n\n1\n2\n3\n4\n5\n\n 2. éæåæ­¥æ¹æ³ï¼éå½åç±»çclasså¯¹è±¡\n\n\npublic synchronized static void method() {\n\n}\n\n\n\n1\n2\n3\n4\n5\n\n 3. åæ­¥ä»£ç åï¼éæ¬å·éå¯¹è±¡\n\n\npublic void method()\n\n{\n\nsynchronized(this) {\n\n}\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# synchronized çéå­å¨å¨åªéï¼\n\nsynchronizedçéå­å¨å¨javaçå¯¹è±¡å¤´éã\n\n\n\njava å¯¹è±¡å¤´éç mark word ç¨äºå­å¨å¯¹è±¡ç hashcode ãåä»£å¹´é¾åéæ è®°ä½ã\n\n\n32ä½èææºä¸­ï¼ mark word çå­å¨ç»æå¦ä¸ï¼\n\n\n\nå¨è¿è¡æï¼ mark word æåç§ç¶æï¼è½»éçº§éãééçº§éãgc æ è®°ãååéï¼åç¶æä¸çå­å¨ç»æå¦ä¸å¾ï¼\n\n\n\nå¨64ä½èææºä¸ï¼mark word çå­å¨ç»æå¦ä¸å¾ï¼\n\n\n\n\n# ä¸ºä»ä¹javaä¸­æ¯ä¸ªå¯¹è±¡é½å¯ä»¥ä½ä¸ºéï¼\n\nä»»ä½å¯¹è±¡é½æä¸ä¸ª monitor ä¸ä¹å³èï¼å½ä¸ä¸ª monitor è¢«ææåï¼ä»å°å¤äºéå®ç¶æãmonitor æ¯ç¨ c++ å®ç°çã\n\nåæ­¥è¯­å¥åçå®ç°ä½¿ç¨çæ¯ monitorenter å monitorexit æä»¤ï¼å¶ä¸­ monitorenter æä»¤æååæ­¥ä»£ç åçå¼å§ä½ç½®ï¼monitorexit æä»¤åææåæ­¥ä»£ç åçç»æä½ç½®ã\n\nmonitorenter æä»¤æ¯å¨ç¼è¯åæå¥å°åæ­¥ä»£ç åçå¼å§ä½ç½®ï¼è monitorexit æ¯æå¥å°åæ­¥åçç»æå¤åå¼å¸¸å¤ï¼jvm è¦ä¿è¯æ¯ä¸ª monitorenter é½æ monitorexit ä¸ä¹éå¯¹ã\n\n\n# synchronized éåçº§\n\nsynchronized ä¸ç´è¢«ç§°ä¸ºééçº§éãä½æ¯å¨jdk 1.6ä¹åå®å·²ç»åå¾ä¸é£ä¹éäºãjdk 1.6 å¯¹synchronized çä¼åç¹å¨äºï¼\n\n * å¼å¥äºååé\n\n * å¼å¥äºè½»éçº§é\n\nå¨jdk 1.6 ä¸­ï¼synchronized éæåç§ç¶æï¼çº§å«ä»ä½å°é«ä¾æ¬¡æ¯ï¼æ éãååéãè½»éçº§éãééçº§éã\n\n\nè¿å ä¸ªç¶æä¼éçéç«äºåçº§ï¼ä½æ¯ä¸å¯ä»¥éçº§ã\n\n\n# ååé\n\nä¸ºä»ä¹å¼å¥ååé?\n\n\nä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ï¼ååéçä»£ä»·æ´ä½ã\n\nå½ä¸ä¸ªçº¿ç¨è®¿é®åæ­¥åå¹¶è·åå°éæ¶ï¼å¨éå¯¹è±¡å¤´è®°å½è¯¥çº¿ç¨çidï¼ä»¥åè¯¥çº¿ç¨è¿å¥åéåºè¯¥åæ­¥åæ¶ä¸éè¦casæ¥å éåè§£éã\n\nååéä½æ¶éæ¾ï¼\n\n\nååéåªæéå°å¶ä»çº¿ç¨å°è¯ç«äºååéæ¶ï¼ææååéççº¿ç¨æä¼éæ¾éï¼çº¿ç¨æ¯ä¸ä¼ä¸»å¨éæ¾ååéçã\n\n\n\nååéä¸å®èµ·å°æ­£é¢ä½ç¨åï¼\n\n\nä¸æ¯çã\n\n\nååéçéç¨åºæ¯æ¯ï¼ä¸å­éç«äºï¼æèæ»æ¯ç±åä¸çº¿ç¨å¤æ¬¡è·å¾éçåºæ¯ã\n\nå¦æä½ ç¡®å®ä½ çç¨åºä¸­ ééå¸¸å¤äºç«äºç¶æï¼å¯ä»¥éè¿jvmåæ°å³é­ååéãå³é­åï¼ç¨åºåé­äººè¿å¥è½»éçº§éç¶æã\n\n\n-xx:usebiasedlocking=false\n\n\n\n1\n2\n3\n\n\n\n# è½»éçº§é\n\nè½»éçº§éæ¯æå½éæ¯ååéçæ¶åï¼å´è¢«å¦å¤ççº¿ç¨æè®¿é®ï¼æ­¤æ¶ååéå°±ä¼åçº§ä¸ºè½»éçº§éï¼å¶ä»çº¿ç¨ä¼éè¿èªæï¼å³äºèªæçä»ç»è§ææ«ï¼çå½¢å¼å°è¯è·åéï¼çº¿ç¨ä¸ä¼é»å¡ï¼ä»èæé«æ§è½ã\n\nè½»éçº§éçè·åä¸»è¦ç±ä¸¤ç§æåµï¼â  å½å³é­ååéåè½æ¶ï¼â¡ ç±äºå¤ä¸ªçº¿ç¨ç«äºååéå¯¼è´ååéåçº§ä¸ºè½»éçº§éã\n\nè½»éçº§éä½æ¶åçº§ä¸ºééçº§é?\n\n\nè¥å½ååªæä¸ä¸ªç­å¾çº¿ç¨ï¼åè¯¥çº¿ç¨å°éè¿èªæè¿è¡ç­å¾ãä½æ¯å½èªæè¶è¿ä¸å®çæ¬¡æ°æ¶ï¼è½»éçº§éä¾¿ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\nå¦å¤ï¼å½ä¸ä¸ªçº¿ç¨å·²ææéï¼å¦ä¸ä¸ªçº¿ç¨å¨èªæï¼èæ­¤æ¶åæç¬¬ä¸ä¸ªçº¿ç¨æ¥è®¿æ¶ï¼è½»éçº§éä¹ä¼åçº§ä¸ºééçº§éï¼éè¨èï¼ã\n\n\n# ééçº§é\n\nééçº§éæ¯æå½æä¸ä¸ªçº¿ç¨è·åéä¹åï¼å¶ä½ææç­å¾è·åè¯¥éççº¿ç¨é½ä¼å¤äºé»å¡ç¶æã\n\nééçº§éçè·åæ¯éæ¾ä¸è¬ä¼æçº¿ç¨ä¸ä¸æåæ¢ï¼ä»£ä»·æ¯æ¯è¾å¤§çï¼æä»¥è¯´æ¯ééçº§éã\n\n\n# éåçº§\n\n\n\n\n# éçä¼ç¼ºç¹å¯¹æ¯\n\n\n\n\n# javaå¦ä½å®ç°åå­æä½\n\nåå­æä½ï¼ä¸å¯è¢«ä¸­æ­çä¸ä¸ªæä¸ç³»åæä½ã\n\n\njava æä¸¤ç§å®ç°åå­æä½çæ¹å¼ï¼casï¼compare and swapï¼ãéã\n\n\n# caså®ç°åå­æä½\n\ncasçè®ºæ¯ juc åå®ç°çåºç³ï¼å¨intelçcpuä¸­ï¼cas éè¿è°ç¨æ¬å°æ¹æ³ï¼jniï¼ä½¿ç¨cmpxchgæä»¤æ¥å®ç°çéé»å¡ç®æ³ãå¯¹æ¯äºsynchronizedé»å¡ç®æ³ï¼åºäº cas å®ç°ç juc å¨æ§è½ä¸æäºå¾å¤§çæåã\n\ncas æä½åå«ä¸ä¸ªæä½æ° ââ åå­ä½ç½®ï¼vï¼ãé¢æåå¼ï¼aï¼åæ°å¼(b)ã å¦æåå­ä½ç½®çå¼ä¸é¢æåå¼ç¸å¹éï¼é£ä¹å¤çå¨ä¼èªå¨å°è¯¥ä½ç½®å¼æ´æ°ä¸ºæ°å¼ ãå¦åï¼å¤çå¨ä¸åä»»ä½æä½ã\n\n\n# cas å­å¨çä¸ä¸ªé®é¢\n\n 1. abaé®é¢\n\n * å ä¸ºcaséè¦å¨æä½å¼çæ¶åæ£æ¥ä¸å¼ææ²¡æåçååï¼å¦ææ²¡æåçåååæ´æ°ï¼ä½æ¯å¦æä¸ä¸ªå¼åæ¥æ¯aï¼åæäºbï¼ååæäºaï¼é£ä¹ä½¿ç¨casè¿è¡æ£æ¥æ¶ä¼åç°å®çå¼æ²¡æåçååï¼ä½æ¯å®éä¸å´ååäºã\n\n * abaé®é¢çè§£å³æè·¯å°±æ¯ä½¿ç¨çæ¬å·ãå¨åéåé¢è¿½å ä¸çæ¬å·ï¼æ¯æ¬¡åéæ´æ°çæ¶åæçæ¬å·å ä¸ï¼é£ä¹aï¼bï¼a å°±ä¼åæ1a-2bï¼3aã\n\n * ä»java1.5å¼å§jdkçatomicåéæä¾äºä¸ä¸ªç±»atomicstampedreferenceæ¥è§£å³abaé®é¢ãè¿ä¸ªç±»çcompareandsetæ¹æ³ä½ç¨æ¯é¦åæ£æ¥å½åå¼ç¨æ¯å¦ç­äºé¢æå¼ç¨ï¼å¹¶ä¸å½åæ å¿æ¯å¦ç­äºé¢ææ å¿ï¼å¦æå¨é¨ç¸ç­ï¼åä»¥åå­æ¹å¼å°è¯¥å¼ç¨åè¯¥æ å¿çå¼è®¾ç½®ä¸ºç»å®çæ´æ°å¼ã\n\n 2. å¾ªç¯æ¶é´é¿å¼éå¤§\n\n 3. åªè½ä¿è¯ä¸ä¸ªå±äº«åéçåå­æä½\n\nä»java1.5å¼å§jdkæä¾äºatomicreferenceç±»æ¥ä¿è¯å¼ç¨å¯¹è±¡ä¹é´çåå­æ§ï¼ä½ å¯ä»¥æå¤ä¸ªåéæ¾å¨ä¸ä¸ªå¯¹è±¡éæ¥è¿è¡casæä½ã\n\n\n# éæºå¶å®ç°åå­æä½\n\néæºå¶ä¿è¯äºåªæè·å¾éççº¿ç¨æè½æä½æå®çåå­åºåãé¤äºååéï¼jvmå®ç°éçæ¹å¼é½ä½¿ç¨äºå¾ªç¯casã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼",frontmatter:{title:"ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼",date:"2022-04-04T14:35:15.000Z",permalink:"/pages/fd6a59/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/090.%E4%BB%80%E4%B9%88%E6%98%AF%E5%85%AC%E5%B9%B3%E9%94%81%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E9%9D%9E%E5%85%AC%E5%B9%B3%E9%94%81%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/090.ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼.md",key:"v-134f28dc",path:"/pages/fd6a59/",headers:[{level:2,title:"ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼",slug:"ä»ä¹æ¯å¬å¹³é-ä»ä¹æ¯éå¬å¹³é",normalizedTitle:"ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼",charIndex:2}],headersStr:"ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼",content:"# ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼\n\nå¶ä¸­syncæ¯AbstractQueuedSynchronizerçå®ç°ï¼æä»¬ç¥éï¼ReentrantLockæ¯æå¬å¹³éåéå¬å¹³éï¼å¶å®ç°ç±»åå«æ¯FairSyncåNonfairSyncï¼æä»¬ççå¬å¹³éåéå¬å¹³éåå«æ¯æä¹å®ç°ç\n\n// FairSync å¬å¹³éçå®ç°\nfinal void lock() {\n    acquire(1);\n}\n\n// NonfairSync éå¬å¹³éçå®ç°\nfinal void lock() {\n    if (compareAndSetState(0, 1))\n        setExclusiveOwnerThread(Thread.currentThread());\n    else\n        acquire(1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¯ä»¥çå°ï¼éå¬å¹³éçå®ç°ä»ä»æ¯å¤äºä¸ä¸ªæ­¥éª¤ï¼éè¿CASçæ¹å¼(compareAndSetState)å°è¯æ¹åstateçç¶æï¼ä¿®æ¹æååè®¾ç½®å½åçº¿ç¨ä»¥ç¬å çæ¹å¼è·åäºéï¼ä¿®æ¹å¤±è´¥æ§è¡çé»è¾åå¬å¹³éä¸æ ·ã\n\nä»è¿æ®µä»£ç ä¸­å¯ä»¥çå°ï¼ç¬å éå éçæ ¸å¿é»è¾å°±æ¯acquireæ¹æ³ï¼æ¥ä¸æ¥å°±ççè¿ä¸ªæ¹æ³\n\npublic final void acquire(int arg) {\n    if (!tryAcquire(arg) &&\n        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))\n        selfInterrupt();\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿ä¸ªæ¹æ³æ¯ AQS çæ ¸å¿ä»£ç ã",normalizedContent:"# ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼\n\nå¶ä¸­syncæ¯abstractqueuedsynchronizerçå®ç°ï¼æä»¬ç¥éï¼reentrantlockæ¯æå¬å¹³éåéå¬å¹³éï¼å¶å®ç°ç±»åå«æ¯fairsyncånonfairsyncï¼æä»¬ççå¬å¹³éåéå¬å¹³éåå«æ¯æä¹å®ç°ç\n\n// fairsync å¬å¹³éçå®ç°\nfinal void lock() {\n    acquire(1);\n}\n\n// nonfairsync éå¬å¹³éçå®ç°\nfinal void lock() {\n    if (compareandsetstate(0, 1))\n        setexclusiveownerthread(thread.currentthread());\n    else\n        acquire(1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¯ä»¥çå°ï¼éå¬å¹³éçå®ç°ä»ä»æ¯å¤äºä¸ä¸ªæ­¥éª¤ï¼éè¿casçæ¹å¼(compareandsetstate)å°è¯æ¹åstateçç¶æï¼ä¿®æ¹æååè®¾ç½®å½åçº¿ç¨ä»¥ç¬å çæ¹å¼è·åäºéï¼ä¿®æ¹å¤±è´¥æ§è¡çé»è¾åå¬å¹³éä¸æ ·ã\n\nä»è¿æ®µä»£ç ä¸­å¯ä»¥çå°ï¼ç¬å éå éçæ ¸å¿é»è¾å°±æ¯acquireæ¹æ³ï¼æ¥ä¸æ¥å°±ççè¿ä¸ªæ¹æ³\n\npublic final void acquire(int arg) {\n    if (!tryacquire(arg) &&\n        acquirequeued(addwaiter(node.exclusive), arg))\n        selfinterrupt();\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿ä¸ªæ¹æ³æ¯ aqs çæ ¸å¿ä»£ç ã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼",frontmatter:{title:"Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼",date:"2022-04-04T14:35:37.000Z",permalink:"/pages/52483b/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/100.Java%20%E7%9A%84%E7%BA%BF%E7%A8%8B%E6%9C%89%E5%93%AA%E4%BA%9B%E7%8A%B6%E6%80%81%EF%BC%8C%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/100.Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼.md",key:"v-03e420c4",path:"/pages/52483b/",headers:[{level:2,title:"Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼",slug:"java-ççº¿ç¨æåªäºç¶æ-è½¬æ¢å³ç³»æ¯æä¹æ ·ç",normalizedTitle:"java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼",charIndex:2},{level:2,title:"æç Java è¿ç¨ä¸­æåªäºçº¿ç¨ï¼ä»ä»¬å¤äºä»ä¹ç¶æï¼",slug:"æç-java-è¿ç¨ä¸­æåªäºçº¿ç¨-ä»ä»¬å¤äºä»ä¹ç¶æ",normalizedTitle:"æç java è¿ç¨ä¸­æåªäºçº¿ç¨ï¼ä»ä»¬å¤äºä»ä¹ç¶æï¼",charIndex:855},{level:3,title:"jstack å½ä»¤",slug:"jstack-å½ä»¤",normalizedTitle:"jstack å½ä»¤",charIndex:891},{level:3,title:"Arthas",slug:"arthas",normalizedTitle:"arthas",charIndex:901}],headersStr:"Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼ æç Java è¿ç¨ä¸­æåªäºçº¿ç¨ï¼ä»ä»¬å¤äºä»ä¹ç¶æï¼ jstack å½ä»¤ Arthas",content:'# Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼\n\nJava çº¿ç¨ç¶æè½¬æ¢å¦ä¸ï¼\n\n * åå§åï¼NEWï¼: è°ç¨new Thread()æ¹æ³åï¼çº¿ç¨å¤äºåå§åç¶æ\n * è¿è¡ä¸­ï¼RUNNINGï¼:è°ç¨thread.start()æ¹æ³åï¼çº¿ç¨å¤äºè¿è¡ä¸­ï¼RUNNINGï¼ç¶æãè¿è¡ä¸­ï¼RUNNINGï¼ç¶æçå«ä¹æ¯å½åçº¿ç¨è·å¾äºCPUæ¶é´çã\n * å°±ç»ªï¼READYï¼: è°ç¨thread.yield()æ¹æ³åï¼çº¿ç¨å¤äºå°±ç»ªï¼READYï¼ç¶æãthread.yield()æ¹æ³çå«ä¹æ¯å½åçº¿ç¨æ¿æè®©åºCPUæ¶é´çç»å¶ä»çº¿ç¨ï¼å½CPUç©ºé²æ¶ï¼æä½ç³»ç»ççº¿ç¨è°åº¦ç¨åºä¼å¨å°±ç»ªï¼READYï¼ç¶æççº¿ç¨ä¸­æéä¸ä¸ªçº¿ç¨è¿è¡ã\n * ç­å¾ï¼WAITINGï¼: çº¿ç¨é»å¡å¨è¿å¥JUCåä¸çLockæ¥å£ççº¿ç¨ï¼æ¯ç­å¾ï¼WAITINGï¼ç¶æï¼å ä¸ºJUCåä¸çLockæ¥å£å¯¹äºé»å¡çå®ç°åä½¿ç¨äºLockSupportç±»ä¸­çç¸å³æ¹æ³\n * è¶æ¶ç­å¾ï¼TIMED_WAITINGï¼: æ¯å¨ç­å¾ï¼WAITINGï¼çåºç¡ä¸å¢å äºè¶æ¶éå¶ï¼å«ä¹æ¯å¨è¶æ¶æ¶é´å°è¾¾åï¼çº¿ç¨è¿åå°±ç»ªï¼READYï¼ç¶æã\n * é»å¡ï¼BLOCKED) : çº¿ç¨é»å¡å¨è¿å¥synchronizedåæ­¥åççº¿ç¨ï¼æ¯é»å¡ï¼BLOCKED) ç¶æ\n * ç»æ­¢ï¼TERMINATEDï¼:\n\nè¿éæ¶åå ä¸ªä¸çº¿ç¨åæ­¥ä»¥åçº¿ç¨è°åº¦ç¸å³çæ¹æ³ï¼\n\n * wait()ï¼ä½¿ä¸ä¸ªçº¿ç¨å¤äºç­å¾ï¼é»å¡ï¼ç¶æï¼å¹¶ä¸éæ¾æææçå¯¹è±¡çéï¼\n * sleep()ï¼ä½¿ä¸ä¸ªæ­£å¨è¿è¡ççº¿ç¨å¤äºç¡ç ç¶æï¼æ¯ä¸ä¸ªéææ¹æ³ï¼è°ç¨æ­¤æ¹æ³è¦å¤çInterruptedExceptionå¼å¸¸ï¼\n * notify()ï¼å¤éä¸ä¸ªå¤äºç­å¾ç¶æççº¿ç¨ï¼å½ç¶å¨è°ç¨æ­¤æ¹æ³çæ¶åï¼å¹¶ä¸è½ç¡®åçå¤éæä¸ä¸ªç­å¾ç¶æççº¿ç¨ï¼èæ¯ç±JVMç¡®å®å¤éåªä¸ªçº¿ç¨ï¼èä¸ä¸ä¼åçº§æ å³ï¼\n * notityAll()ï¼å¤éææå¤äºç­å¾ç¶æççº¿ç¨ï¼è¯¥æ¹æ³å¹¶ä¸æ¯å°å¯¹è±¡çéç»ææçº¿ç¨ï¼èæ¯è®©å®ä»¬ç«äºï¼åªæè·å¾éççº¿ç¨æè½è¿å¥å°±ç»ªç¶æï¼\n\n\n# æç Java è¿ç¨ä¸­æåªäºçº¿ç¨ï¼ä»ä»¬å¤äºä»ä¹ç¶æï¼\n\nè¿éä»ç»ä¸¤ä¸ªå·¥å·jstack å½ä»¤ãArthaså·¥å·ã\n\n\n# jstack å½ä»¤\n\nJstackæ¯Jdkèªå¸¦ççº¿ç¨è·è¸ªå·¥å·ï¼ç¨äºæå°æå®Javaè¿ç¨ççº¿ç¨å æ ä¿¡æ¯ã\n\njstack -l [pid]\n\n\n1\n\n\n[pid] å¯ä»¥éè¿ jps å½ä»¤æ¥ç\n\nä¸¾ä¾\n\njstack -l 9008 >jstack.txt\n\n\n1\n\n\nå¯¼åºjstack.txtæä»¶å¦ä¸ï¼\n\nFull thread dump Java HotSpot(TM) Client VM (20.45-b01 mixed mode, sharing):\n\n"Attach Listener" daemon prio=10 tid=0x08251400 nid=0x11bd runnable [0x00000000]\n   java.lang.Thread.State: RUNNABLE\n\n   Locked ownable synchronizers:\n        - None\n\n"DestroyJavaVM" prio=10 tid=0xb3a0a800 nid=0xffa waiting on condition [0x00000000]\n   java.lang.Thread.State: RUNNABLE\n\n   Locked ownable synchronizers:\n        - None\n\n"Query Listener" prio=10 tid=0xb3a09800 nid=0x1023 runnable [0xb3b72000]\n   java.lang.Thread.State: RUNNABLE\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)\n        - locked <0x70a84430> (a java.net.SocksSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:462)\n        at java.net.ServerSocket.accept(ServerSocket.java:430)\n        at com.sun.tools.hat.internal.server.QueryListener.waitForRequests(QueryListener.java:76)\n        at com.sun.tools.hat.internal.server.QueryListener.run(QueryListener.java:65)\n        at java.lang.Thread.run(Thread.java:662)\nLocked ownable synchronizers:\n        - None\n\n"d&a-3588" daemon waiting for monitor entry [0x000000006e5d5000]\n  java.lang.Thread.State: BLOCKED (on object monitor)\n      at com.jiuqi.dna.bap.authority.service.UserService$LoginHandler.handle()\n      - waiting to lock <0x0000000602f38e90> (a java.lang.Object)\n      at com.jiuqi.dna.bap.authority.service.UserService$LoginHandler.handle()\n\n\n"Finalizer" daemon prio=10 tid=0x0820bc00 nid=0xffd in Object.wait() [0xb5075000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n- waiting on <0x7a2b6f50> (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)\n        - locked <0x7a2b6f50> (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:171)\n\n   Locked ownable synchronizers:\n        - None\n\n"Reference Handler" daemon prio=10 tid=0x0820a400 nid=0xffc in Object.wait() [0xb50c7000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on <0x7a2b6fe0> (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:485)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)\n        - locked <0x7a2b6fe0> (a java.lang.ref.Reference$Lock)\n\n   Locked ownable synchronizers:\n        - None\n\n"VM Thread" prio=10 tid=0x08200000 nid=0xffb runnable\n\n"VM Periodic Task Thread" prio=10 tid=0x08222400 nid=0x1001 waiting on condition\n\nJNI global references: 1317\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# Arthas\n\nArthasä¸­æææ¡£ï¼https://arthas.aliyun.com/doc/\n\nArthas åè½å¼ºå¤§ æä»¬å¦ææ³æ¥ççº¿ç¨ç¶æï¼åªéè¦ä½¿ç¨å½ä»¤ dashboard.\n\n$ dashboard\nID     NAME                   GROUP          PRIORI STATE  %CPU    TIME   INTERRU DAEMON\n17     pool-2-thread-1        system         5      WAITIN 67      0:0    false   false\n27     Timer-for-arthas-dashb system         10     RUNNAB 32      0:0    false   true\n11     AsyncAppender-Worker-a system         9      WAITIN 0       0:0    false   true\n9      Attach Listener        system         9      RUNNAB 0       0:0    false   true\n3      Finalizer              system         8      WAITIN 0       0:0    false   true\n2      Reference Handler      system         10     WAITIN 0       0:0    false   true\n4      Signal Dispatcher      system         9      RUNNAB 0       0:0    false   true\n26     as-command-execute-dae system         10     TIMED_ 0       0:0    false   true\n13     job-timeout            system         9      TIMED_ 0       0:0    false   true\n1      main                   main           5      TIMED_ 0       0:0    false   false\n14     nioEventLoopGroup-2-1  system         10     RUNNAB 0       0:0    false   false\n18     nioEventLoopGroup-2-2  system         10     RUNNAB 0       0:0    false   false\n23     nioEventLoopGroup-2-3  system         10     RUNNAB 0       0:0    false   false\n15     nioEventLoopGroup-3-1  system         10     RUNNAB 0       0:0    false   false\nMemory             used   total max    usage GC\nheap               32M    155M  1820M  1.77% gc.ps_scavenge.count  4\nps_eden_space      14M    65M   672M   2.21% gc.ps_scavenge.time(m 166\nps_survivor_space  4M     5M    5M           s)\nps_old_gen         12M    85M   1365M  0.91% gc.ps_marksweep.count 0\nnonheap            20M    23M   -1           gc.ps_marksweep.time( 0\ncode_cache         3M     5M    240M   1.32% ms )\nRuntime\nos.name                Mac OS X\nos.version             10.13.4\njava.version           1.8.0_162\njava.home              /Library/Java/JavaVir\n                       tualMachines/jdk1.8.0\n                       _162.jdk/Contents/Hom\n                       e/jre\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n',normalizedContent:'# java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼\n\njava çº¿ç¨ç¶æè½¬æ¢å¦ä¸ï¼\n\n * åå§åï¼newï¼: è°ç¨new thread()æ¹æ³åï¼çº¿ç¨å¤äºåå§åç¶æ\n * è¿è¡ä¸­ï¼runningï¼:è°ç¨thread.start()æ¹æ³åï¼çº¿ç¨å¤äºè¿è¡ä¸­ï¼runningï¼ç¶æãè¿è¡ä¸­ï¼runningï¼ç¶æçå«ä¹æ¯å½åçº¿ç¨è·å¾äºcpuæ¶é´çã\n * å°±ç»ªï¼readyï¼: è°ç¨thread.yield()æ¹æ³åï¼çº¿ç¨å¤äºå°±ç»ªï¼readyï¼ç¶æãthread.yield()æ¹æ³çå«ä¹æ¯å½åçº¿ç¨æ¿æè®©åºcpuæ¶é´çç»å¶ä»çº¿ç¨ï¼å½cpuç©ºé²æ¶ï¼æä½ç³»ç»ççº¿ç¨è°åº¦ç¨åºä¼å¨å°±ç»ªï¼readyï¼ç¶æççº¿ç¨ä¸­æéä¸ä¸ªçº¿ç¨è¿è¡ã\n * ç­å¾ï¼waitingï¼: çº¿ç¨é»å¡å¨è¿å¥jucåä¸çlockæ¥å£ççº¿ç¨ï¼æ¯ç­å¾ï¼waitingï¼ç¶æï¼å ä¸ºjucåä¸çlockæ¥å£å¯¹äºé»å¡çå®ç°åä½¿ç¨äºlocksupportç±»ä¸­çç¸å³æ¹æ³\n * è¶æ¶ç­å¾ï¼timed_waitingï¼: æ¯å¨ç­å¾ï¼waitingï¼çåºç¡ä¸å¢å äºè¶æ¶éå¶ï¼å«ä¹æ¯å¨è¶æ¶æ¶é´å°è¾¾åï¼çº¿ç¨è¿åå°±ç»ªï¼readyï¼ç¶æã\n * é»å¡ï¼blocked) : çº¿ç¨é»å¡å¨è¿å¥synchronizedåæ­¥åççº¿ç¨ï¼æ¯é»å¡ï¼blocked) ç¶æ\n * ç»æ­¢ï¼terminatedï¼:\n\nè¿éæ¶åå ä¸ªä¸çº¿ç¨åæ­¥ä»¥åçº¿ç¨è°åº¦ç¸å³çæ¹æ³ï¼\n\n * wait()ï¼ä½¿ä¸ä¸ªçº¿ç¨å¤äºç­å¾ï¼é»å¡ï¼ç¶æï¼å¹¶ä¸éæ¾æææçå¯¹è±¡çéï¼\n * sleep()ï¼ä½¿ä¸ä¸ªæ­£å¨è¿è¡ççº¿ç¨å¤äºç¡ç ç¶æï¼æ¯ä¸ä¸ªéææ¹æ³ï¼è°ç¨æ­¤æ¹æ³è¦å¤çinterruptedexceptionå¼å¸¸ï¼\n * notify()ï¼å¤éä¸ä¸ªå¤äºç­å¾ç¶æççº¿ç¨ï¼å½ç¶å¨è°ç¨æ­¤æ¹æ³çæ¶åï¼å¹¶ä¸è½ç¡®åçå¤éæä¸ä¸ªç­å¾ç¶æççº¿ç¨ï¼èæ¯ç±jvmç¡®å®å¤éåªä¸ªçº¿ç¨ï¼èä¸ä¸ä¼åçº§æ å³ï¼\n * notityall()ï¼å¤éææå¤äºç­å¾ç¶æççº¿ç¨ï¼è¯¥æ¹æ³å¹¶ä¸æ¯å°å¯¹è±¡çéç»ææçº¿ç¨ï¼èæ¯è®©å®ä»¬ç«äºï¼åªæè·å¾éççº¿ç¨æè½è¿å¥å°±ç»ªç¶æï¼\n\n\n# æç java è¿ç¨ä¸­æåªäºçº¿ç¨ï¼ä»ä»¬å¤äºä»ä¹ç¶æï¼\n\nè¿éä»ç»ä¸¤ä¸ªå·¥å·jstack å½ä»¤ãarthaså·¥å·ã\n\n\n# jstack å½ä»¤\n\njstackæ¯jdkèªå¸¦ççº¿ç¨è·è¸ªå·¥å·ï¼ç¨äºæå°æå®javaè¿ç¨ççº¿ç¨å æ ä¿¡æ¯ã\n\njstack -l [pid]\n\n\n1\n\n\n[pid] å¯ä»¥éè¿ jps å½ä»¤æ¥ç\n\nä¸¾ä¾\n\njstack -l 9008 >jstack.txt\n\n\n1\n\n\nå¯¼åºjstack.txtæä»¶å¦ä¸ï¼\n\nfull thread dump java hotspot(tm) client vm (20.45-b01 mixed mode, sharing):\n\n"attach listener" daemon prio=10 tid=0x08251400 nid=0x11bd runnable [0x00000000]\n   java.lang.thread.state: runnable\n\n   locked ownable synchronizers:\n        - none\n\n"destroyjavavm" prio=10 tid=0xb3a0a800 nid=0xffa waiting on condition [0x00000000]\n   java.lang.thread.state: runnable\n\n   locked ownable synchronizers:\n        - none\n\n"query listener" prio=10 tid=0xb3a09800 nid=0x1023 runnable [0xb3b72000]\n   java.lang.thread.state: runnable\n        at java.net.plainsocketimpl.socketaccept(native method)\n        at java.net.plainsocketimpl.accept(plainsocketimpl.java:408)\n        - locked <0x70a84430> (a java.net.sockssocketimpl)\n        at java.net.serversocket.implaccept(serversocket.java:462)\n        at java.net.serversocket.accept(serversocket.java:430)\n        at com.sun.tools.hat.internal.server.querylistener.waitforrequests(querylistener.java:76)\n        at com.sun.tools.hat.internal.server.querylistener.run(querylistener.java:65)\n        at java.lang.thread.run(thread.java:662)\nlocked ownable synchronizers:\n        - none\n\n"d&a-3588" daemon waiting for monitor entry [0x000000006e5d5000]\n  java.lang.thread.state: blocked (on object monitor)\n      at com.jiuqi.dna.bap.authority.service.userservice$loginhandler.handle()\n      - waiting to lock <0x0000000602f38e90> (a java.lang.object)\n      at com.jiuqi.dna.bap.authority.service.userservice$loginhandler.handle()\n\n\n"finalizer" daemon prio=10 tid=0x0820bc00 nid=0xffd in object.wait() [0xb5075000]\n   java.lang.thread.state: waiting (on object monitor)\n        at java.lang.object.wait(native method)\n- waiting on <0x7a2b6f50> (a java.lang.ref.referencequeue$lock)\n        at java.lang.ref.referencequeue.remove(referencequeue.java:118)\n        - locked <0x7a2b6f50> (a java.lang.ref.referencequeue$lock)\n        at java.lang.ref.referencequeue.remove(referencequeue.java:134)\n        at java.lang.ref.finalizer$finalizerthread.run(finalizer.java:171)\n\n   locked ownable synchronizers:\n        - none\n\n"reference handler" daemon prio=10 tid=0x0820a400 nid=0xffc in object.wait() [0xb50c7000]\n   java.lang.thread.state: waiting (on object monitor)\n        at java.lang.object.wait(native method)\n        - waiting on <0x7a2b6fe0> (a java.lang.ref.reference$lock)\n        at java.lang.object.wait(object.java:485)\n        at java.lang.ref.reference$referencehandler.run(reference.java:116)\n        - locked <0x7a2b6fe0> (a java.lang.ref.reference$lock)\n\n   locked ownable synchronizers:\n        - none\n\n"vm thread" prio=10 tid=0x08200000 nid=0xffb runnable\n\n"vm periodic task thread" prio=10 tid=0x08222400 nid=0x1001 waiting on condition\n\njni global references: 1317\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# arthas\n\narthasä¸­æææ¡£ï¼https://arthas.aliyun.com/doc/\n\narthas åè½å¼ºå¤§ æä»¬å¦ææ³æ¥ççº¿ç¨ç¶æï¼åªéè¦ä½¿ç¨å½ä»¤ dashboard.\n\n$ dashboard\nid     name                   group          priori state  %cpu    time   interru daemon\n17     pool-2-thread-1        system         5      waitin 67      0:0    false   false\n27     timer-for-arthas-dashb system         10     runnab 32      0:0    false   true\n11     asyncappender-worker-a system         9      waitin 0       0:0    false   true\n9      attach listener        system         9      runnab 0       0:0    false   true\n3      finalizer              system         8      waitin 0       0:0    false   true\n2      reference handler      system         10     waitin 0       0:0    false   true\n4      signal dispatcher      system         9      runnab 0       0:0    false   true\n26     as-command-execute-dae system         10     timed_ 0       0:0    false   true\n13     job-timeout            system         9      timed_ 0       0:0    false   true\n1      main                   main           5      timed_ 0       0:0    false   false\n14     nioeventloopgroup-2-1  system         10     runnab 0       0:0    false   false\n18     nioeventloopgroup-2-2  system         10     runnab 0       0:0    false   false\n23     nioeventloopgroup-2-3  system         10     runnab 0       0:0    false   false\n15     nioeventloopgroup-3-1  system         10     runnab 0       0:0    false   false\nmemory             used   total max    usage gc\nheap               32m    155m  1820m  1.77% gc.ps_scavenge.count  4\nps_eden_space      14m    65m   672m   2.21% gc.ps_scavenge.time(m 166\nps_survivor_space  4m     5m    5m           s)\nps_old_gen         12m    85m   1365m  0.91% gc.ps_marksweep.count 0\nnonheap            20m    23m   -1           gc.ps_marksweep.time( 0\ncode_cache         3m     5m    240m   1.32% ms )\nruntime\nos.name                mac os x\nos.version             10.13.4\njava.version           1.8.0_162\njava.home              /library/java/javavir\n                       tualmachines/jdk1.8.0\n                       _162.jdk/contents/hom\n                       e/jre\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯",frontmatter:{title:"ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯",date:"2022-04-04T14:34:53.000Z",permalink:"/pages/52a687/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/080.%E7%AE%80%E8%BF%B0%20Java%20AQS%20%E7%9A%84%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF.html",relativePath:"01.Javaç¸å³/20.å¹¶å/080.ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯.md",key:"v-2dbdb772",path:"/pages/52a687/",headers:[{level:2,title:"ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯",slug:"ç®è¿°-java-aqs-çåçä»¥åä½¿ç¨åºæ¯",normalizedTitle:"ç®è¿° java aqs çåçä»¥åä½¿ç¨åºæ¯",charIndex:2},{level:2,title:"AbstractQueuedSynchronizer æ¯ä»ä¹",slug:"abstractqueuedsynchronizer-æ¯ä»ä¹",normalizedTitle:"abstractqueuedsynchronizer æ¯ä»ä¹",charIndex:28},{level:2,title:"AbstractQueuedSynchronizer æ¯å¦ä½å®ç°ç",slug:"abstractqueuedsynchronizer-æ¯å¦ä½å®ç°ç",normalizedTitle:"abstractqueuedsynchronizer æ¯å¦ä½å®ç°ç",charIndex:480},{level:2,title:"å¦ä½ç¨ AQS å®ç°ä¸ä¸ªæä»é",slug:"å¦ä½ç¨-aqs-å®ç°ä¸ä¸ªæä»é",normalizedTitle:"å¦ä½ç¨ aqs å®ç°ä¸ä¸ªæä»é",charIndex:1157},{level:2,title:"AQSåç - æå®é-å é",slug:"aqsåç-æå®é-å é",normalizedTitle:"aqsåç - æå®é-å é",charIndex:3195},{level:3,title:"å°è¯è·åé tryAcquire(arg)",slug:"å°è¯è·åé-tryacquire-arg",normalizedTitle:"å°è¯è·åé tryacquire(arg)",charIndex:3686},{level:3,title:"å å¥syncéå addWaiter(Node.EXCLUSIVE)",slug:"å å¥syncéå-addwaiter-node-exclusive",normalizedTitle:"å å¥syncéå addwaiter(node.exclusive)",charIndex:4588},{level:3,title:"æé acquireQueued(Node,arg)",slug:"æé-acquirequeued-node-arg",normalizedTitle:"æé acquirequeued(node,arg)",charIndex:5587},{level:3,title:"AQSåç - è·åæå®éæµç¨å¾",slug:"aqsåç-è·åæå®éæµç¨å¾",normalizedTitle:"aqsåç - è·åæå®éæµç¨å¾",charIndex:8358},{level:2,title:"AQSåç - æå®é-è§£é",slug:"aqsåç-æå®é-è§£é",normalizedTitle:"aqsåç - æå®é-è§£é",charIndex:8723},{level:2,title:"AQSåç - å±äº«é-å é",slug:"aqsåç-å±äº«é-å é",normalizedTitle:"aqsåç - å±äº«é-å é",charIndex:9580},{level:2,title:"AQSåç - å±äº«é-è§£é",slug:"aqsåç-å±äº«é-è§£é",normalizedTitle:"aqsåç - å±äº«é-è§£é",charIndex:10197}],headersStr:"ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯ AbstractQueuedSynchronizer æ¯ä»ä¹ AbstractQueuedSynchronizer æ¯å¦ä½å®ç°ç å¦ä½ç¨ AQS å®ç°ä¸ä¸ªæä»é AQSåç - æå®é-å é å°è¯è·åé tryAcquire(arg) å å¥syncéå addWaiter(Node.EXCLUSIVE) æé acquireQueued(Node,arg) AQSåç - è·åæå®éæµç¨å¾ AQSåç - æå®é-è§£é AQSåç - å±äº«é-å é AQSåç - å±äº«é-è§£é",content:'# ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯\n\n\n# AbstractQueuedSynchronizer æ¯ä»ä¹\n\nAbstractQueuedSynchronizerï¼AQSï¼ æä¾ä¸ä¸ªæ¡æ¶ï¼ç¨äºå®ç°ä¾èµåè¿ååºï¼FIFOï¼ç­å¾éåçé»å¡éåç¸å³åæ­¥å¨ï¼ä¿¡å·éï¼äºä»¶ç­ï¼ã\n\nè¯¥ç±»è¢«è®¾è®¡ä¸ºå¤§å¤æ°ç±»åçåæ­¥å¨çä¾æ®ï¼è¿äºåæ­¥å¨ä¾èµäºåä¸ªåå­intå¼æ¥è¡¨ç¤ºç¶æã\n\nAQSçå­ç±»éè¿ç»§æ¿å¹¶å®ç°å®çæ½è±¡æ¹æ³æ¥å®ç°ç®¡çåæ­¥ç¶æï¼å­ç±»å¯ä»¥éè¿ AQS æä¾çæ¯ä¸ä¸ªæ¹æ³æ¥ ä¿®æ¹ç¶æå¼\n\n * getState()\n * setState(int)\n * compareAndSetState(int, int)\n\nå ä¸ºè¿ä¸ä¸ªæ¹æ³è½ä¿è¯ç¶æçä¿®æ¹æ¯å®å¨çã\n\nAQSéç¨æ¨¡æ¿æ¹æ³ï¼åé¨å®ç°äºè·åéå¤±è´¥åå å¥ç­å¾éåçæºå¶ï¼å¤§å¤§éä½äºåçº¿ä¸ä¸ªèªå®ä¹åæ­¥ç»ä»¶çé¨æ§ã\n\nCountDownLatchãSemaphoreãReentrantLockç­ç­å¸¸è§çå·¥å·ç±»é½æ¯ç±AQSæ¥å®ç°çãæä»¥ä¸ç®¡æ¯é¢è¯ä¹å¥½ï¼è¿æ¯èªå·±ç ç©¶åºå±å®ç°ä¹å¥½ï¼AQSç±»é½æ¯å¿é¡»è¦éç¹å³æ³¨çã\n\n\n# AbstractQueuedSynchronizer æ¯å¦ä½å®ç°ç\n\nåæ­¥å¨çå¼å§æå°äºå¶å®ç°ä¾èµäºä¸ä¸ªFIFOéåï¼é£ä¹éåä¸­çåç´ Nodeå°±æ¯ä¿å­ççº¿ç¨å¼ç¨åçº¿ç¨ç¶æçå®¹å¨ï¼æ¯ä¸ªçº¿ç¨å¯¹åæ­¥å¨çè®¿é®ï¼é½å¯ä»¥çåæ¯éåä¸­çä¸ä¸ªèç¹ãNodeçä¸»è¦åå«ä»¥ä¸æååéï¼\n\nNode {\n//è¡¨ç¤ºèç¹çç¶æã\n    int waitStatus;\n    //åé©±èç¹ï¼æ¯å¦å½åèç¹è¢«åæ¶ï¼é£å°±éè¦åé©±èç¹ååç»§èç¹æ¥å®æè¿æ¥ã\n    Node prev;\n    //åç»§èç¹ã\n    Node next;\n    //å­å¨conditionéåä¸­çåç»§èç¹ã\n    Node nextWaiter;\n    //å¥éåæ¶çå½åçº¿ç¨ã\n    Thread thread;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nwaitStatusåå¼æ5ä¸ªæä¸¾ï¼\n\n * CANCELLEDï¼å¼ä¸º1ï¼è¡¨ç¤ºå½åççº¿ç¨è¢«åæ¶ï¼\n * SIGNALï¼å¼ä¸º-1ï¼è¡¨ç¤ºå½åèç¹çåç»§èç¹åå«ççº¿ç¨éè¦è¿è¡ï¼ä¹å°±æ¯unparkï¼\n * CONDITIONï¼å¼ä¸º-2ï¼è¡¨ç¤ºå½åèç¹å¨ç­å¾conditionï¼ä¹å°±æ¯å¨conditionéåä¸­ï¼\n * PROPAGATEï¼å¼ä¸º-3ï¼è¡¨ç¤ºå½ååºæ¯ä¸åç»­çacquireSharedè½å¤å¾ä»¥æ§è¡ï¼\n * å¼ä¸º0ï¼è¡¨ç¤ºå½åèç¹å¨syncéåä¸­ï¼ç­å¾çè·åéã\n\nAQSï¼åæ­¥å¨ï¼ å å¶ææçFIFOéåçå³ç³»å¦ä¸å¾ï¼AQS ææéåçå¤´ç»ç¹åå°¾ç»ç¹ï¼ç«äºéå¤±è´¥ççº¿ç¨ä¼è¢«æ¾å°éåçåé¢ï¼æéè·åéã\n\n\n# å¦ä½ç¨ AQS å®ç°ä¸ä¸ªæä»é\n\næä»éçå®ç°ï¼é¡¾åæä¹ï¼ä¸æ¬¡åªè½ä¸ä¸ªçº¿ç¨è·åå°éã ä¼ªä»£ç çè·å:\n\nwhile(è·åé) {\n  if (è·åå°) {\n    éåºwhileå¾ªç¯\n  } else {\n    if(å½åçº¿ç¨æ²¡æå¥éå) {\n      é£ä¹å¥éå\n    }\n    é»å¡å½åçº¿ç¨\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä¼ªä»£ç çéæ¾:\n\nif (éæ¾æå) {\n  å é¤å¤´ç»ç¹\n  æ¿æ´»åå¤´ç»ç¹çåç»§èç¹\n}\n\n\n1\n2\n3\n4\n\n\néè¿AQS å®ç°:\n\nclass Mutex implements Lock, java.io.Serializable {\n   // åé¨ç±»ï¼èªå®ä¹åæ­¥å¨\n   private static class Sync extends AbstractQueuedSynchronizer {\n     // æ¯å¦å¤äºå ç¨ç¶æ\n     protected boolean isHeldExclusively() {\n       return getState() == 1;\n     }\n     // å½ç¶æä¸º0çæ¶åè·åé\n     public boolean tryAcquire(int acquires) {\n       assert acquires == 1; // Otherwise unused\n       if (compareAndSetState(0, 1)) {\n         setExclusiveOwnerThread(Thread.currentThread());\n         return true;\n       }\n       return false;\n     }\n     // éæ¾éï¼å°ç¶æè®¾ç½®ä¸º0\n     protected boolean tryRelease(int releases) {\n       assert releases == 1; // Otherwise unused\n       if (getState() == 0) throw new IllegalMonitorStateException();\n       setExclusiveOwnerThread(null);\n       setState(0);\n       return true;\n     }\n     // è¿åä¸ä¸ªConditionï¼æ¯ä¸ªconditioné½åå«äºä¸ä¸ªconditionéå\n     Condition newCondition() { return new ConditionObject(); }\n   }\n   // ä»éè¦å°æä½ä»£çå°Syncä¸å³å¯\n   private final Sync sync = new Sync();\n   public void lock()                { sync.acquire(1); }\n   public boolean tryLock()          { return sync.tryAcquire(1); }\n   public void unlock()              { sync.release(1); }\n   public Condition newCondition()   { return sync.newCondition(); }\n   public boolean isLocked()         { return sync.isHeldExclusively(); }\n   public boolean hasQueuedThreads() { return sync.hasQueuedThreads(); }\n   public void lockInterruptibly() throws InterruptedException {\n     sync.acquireInterruptibly(1);\n   }\n   public boolean tryLock(long timeout, TimeUnit unit)\n       throws InterruptedException {\n     return sync.tryAcquireNanos(1, unit.toNanos(timeout));\n   }\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nå¯ä»¥çå°Mutexå°Lockæ¥å£åä»£çç»äºåæ­¥å¨çå®ç°ã\n\n\n# AQSåç - æå®é-å é\n\nAQS ä¸­ç public final void acquire(int arg)ä»¥éé»å¡çæ¹å¼è·åæå®éï¼å®ç° synchronized è¯­ä¹ï¼å¯ä»¥è¯´æ¯ AQS ä¸­æéè¦çæ¹æ³ã\n\npublic final void acquire(int arg) {\n        if (!tryAcquire(arg) &amp;&amp;\n            acquireQueued(addWaiter(Node.EXCLUSIVE), arg))\n            selfInterrupt();\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿æ®µä»£ç é»è¾åäºä¸ä»¶äºæï¼\n\n 1. å°è¯è·åé ;tryAcquire(arg)\n 2. å å¥syncéåãå¦æè·åä¸å°ï¼å°å½åçº¿ç¨æé æèç¹Nodeå¹¶å å¥syncéåï¼addWaiter(Node.EXCLUSIVE)\n 3. æéãåæ¬¡å°è¯è·åï¼å¦ææ²¡æè·åå°é£ä¹å°å½åçº¿ç¨ä»çº¿ç¨è°åº¦å¨ä¸æä¸ï¼è¿å¥ç­å¾ç¶æ ;acquireQueued(Node,arg)\n\nä¸é¢æä»¬éæ­¥æ¥çä¸è¿ä¸ä¸ªè¿ç¨\n\n\n# å°è¯è·åé tryAcquire(arg)\n\næ´ä¸ªæ¹æ³éè¦å­ç±»å®ç°ï¼æ¯å¦å¬å¹³éãéå¬å¹³éå°±æ¯å¨è¿ä¸ªæ¹æ³ä¸­åçé»è¾ã æä»¬æ¥çä¸å¬å¹³éçå®ç°ï¼\n\nprotected final boolean tryAcquire(int acquires) {\n  // å½åçº¿ç¨\n    final Thread current = Thread.currentThread();\n    // è·åstateç¶æï¼0è¡¨ç¤ºæªéå®ï¼å¤§äº1è¡¨ç¤ºéå¥\n    int c = getState();\n    // 0è¡¨ç¤ºæ²¡æçº¿ç¨è·åé\n    if (c == 0) {\n    // æ²¡ææ¯å½åçº¿ç¨ç­å¾æ´ä¹ççº¿ç¨äºï¼éè¿CASçæ¹å¼ä¿®æ¹state\n        if (!hasQueuedPredecessors() &&\n            compareAndSetState(0, acquires)) {\n            // æåä¹åï¼è®¾ç½®å½åæ¥æç¬å è®¿é®æççº¿ç¨\n            setExclusiveOwnerThread(current);\n            return true;\n        }\n    }\n    // ç¬å è®¿é®æççº¿ç¨å°±æ¯å½åçº¿ç¨ï¼éå¥ï¼æ­¤å¤å°±æ¯ãå¯éå¥æ§ãçå®ç°\n    else if (current == getExclusiveOwnerThread()) {\n        int nextc = c + acquires;\n        if (nextc < 0)\n            throw new Error("Maximum lock count exceeded");\n        // ç´æ¥ä¿®æ¹state\n        setState(nextc);\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å å¥syncéå addWaiter(Node.EXCLUSIVE)\n\nprivate Node addWaiter(Node mode) {\n  Node node = new Node(Thread.currentThread(), mode);\n  Node pred = tail;\n    // å¦æéåä¸ä¸ºç©º å¿«éå°è¯å¨å°¾é¨æ·»å  é£ä¹nodeèç¹çåç»§èç¹æ¯tail\n  if (pred != null) {\n    node.prev = pred;\n        //CASæä½ å°nodeè®¾ç½®ä¸ºå°¾ç»ç¹ ï¼å¤çº¿ç¨ç«äºçæåµä¸ï¼è¿éå¯è½ä¼å¤±è´¥ï¼\n    if (compareAndSetTail(pred, node)) {\n      pred.next = node;\n            //å¿«éå°è¯å¨å°¾é¨æ·»å æå è¿å\n      return node;\n    }\n  }\n    //éåä¸ºç©º æè å¿«éå°è¯å¨å°¾é¨æ·»å å¤±è´¥ ç¨åºä¼èµ°å°è¿é\n  enq(node);\n  return node;\n}\n\n//å¨å¾ªç¯ä¸­ CASå¥éå\nprivate Node enq(final Node node) {\n  for (;;) {\n    Node t = tail;\n    if (t == null) { // å¦æéåä¸ºç©º ååå§å\n      if (compareAndSetHead(new Node()))\n        tail = head;\n    } else {// å¦æéåä¸ä¸ºç©º CASå¥éå\n      node.prev = t;\n      if (compareAndSetTail(t, node)) {\n      t.next = node;\n      return t;\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nä¸è¿°é»è¾ä¸»è¦åæ¬ï¼\n\n 1. å¦æéåä¸ä¸ºç©º å¿«éå°è¯å¨å°¾é¨æ·»å ,ä¸æ¬¡CAS\n 2. éåä¸ºç©º æè å¿«éå°è¯å¨å°¾é¨æ·»å å¤±è´¥ ç¨åºè¿å¥å¾ªç¯å¤æ­3ã4æ­¥\n 3. å¦æéåä¸ºç©º ååå§å\n 4. å¦æéåä¸ä¸ºç©º CASå¥éå\n\n\n# æé acquireQueued(Node,arg)\n\nçº¿ç¨æèµ·ä¹å å¾ªç¯å°è¯è·åéï¼\n\nfinal boolean acquireQueued(final Node node, int arg) {\n  boolean failed = true;\n  try {\n    boolean interrupted = false;\n    for (;;) {\n      final Node p = node.predecessor();\n            //å¦ææ¬çº¿ç¨å·²ç»æ¯å¤´ç»ç¹äº tryAcquire(arg)ä¸ å°è¯è·åé\n      if (p == head && tryAcquire(arg)) {\n        setHead(node);\n        p.next = null; // help GC\n        failed = false;\n                //è·åå°äº éåºå¾ªç¯\n        return interrupted;\n      }\n            //æ²¡è·åå° å¤æ­è¦ä¸è¦æèµ·\n      if (shouldParkAfterFailedAcquire(p, node) &&\n                    parkAndCheckInterrupt())\n        interrupted = true;\n                }\n  } finally {\n    if (failed)\n      cancelAcquire(node);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä¸è¿°é»è¾ä¸»è¦åæ¬ï¼\n\n 1. å¦ææ¬çº¿ç¨å·²ç»æ¯å¤´ç»ç¹äº tryAcquire(arg)ä¸ å°è¯è·åéï¼è·åå°äº éåºå¾ªç¯ï¼æ²¡è·åå° å¤æ­è¦ä¸è¦æèµ·\n 2. æèµ·åï¼å¾ªç¯æ§è¡ç¬¬ä¸æ­¥\n\nå¦ä½å¤æ­è¦ä¸è¦æèµ·å¢ï¼æä»¬åæ¥çä¸shouldParkAfterFailedAcquire(p, node):\n\nprivate static boolean shouldParkAfterFailedAcquire(Node pred, Node node) {\n// è·åpredåç½®èç¹çç­å¾ç¶æ\n        int ws = pred.waitStatus;\n        if (ws == Node.SIGNAL)\n            /*\n             * This node has already set status asking a release\n             * to signal it, so it can safely park.\n             */\n/* åç½®èç¹ç¶ææ¯signalï¼é£å½åèç¹å¯ä»¥å®å¨é»å¡ï¼å ä¸ºåç½®èç¹æ¿è¯ºæ§è¡å®ä¹åä¼éç¥å¤éå½å\n* èç¹\n*/\n            return true;\n        if (ws > 0) {\n \n            /*\n             * Predecessor was cancelled. Skip over predecessors and\n             * indicate retry.\n             */\n// åç½®èç¹å¦æå·²ç»è¢«åæ¶äºï¼åä¸ç´å¾åéåç´å°åç½®èç¹ä¸æ¯åæ¶ç¶æï¼ä¸æ­¤åæ¶ä¼ä¿®æ¹é¾è¡¨å³ç³»\n            do {\n                node.prev = pred = pred.prev;\n            } while (pred.waitStatus > 0);\n            pred.next = node;\n        } else {\n            /*\n             * waitStatus must be 0 or PROPAGATE.  Indicate that we\n             * need a signal, but don\'t park yet.  Caller will need to\n             * retry to make sure it cannot acquire before parking.\n             */\n// åç½®èç¹æ¯0æèpropagateç¶æï¼è¿ééè¿CASæåç½®èç¹ç¶ææ¹æsignal\n// è¿éä¸è¿åtrueè®©å½åèç¹é»å¡ï¼èæ¯è¿åfalseï¼ç®çæ¯è®©è°ç¨èåcheckä¸ä¸å½åçº¿ç¨æ¯å¦è½\n// æåè·åéï¼å¤±è´¥çè¯åé»å¡ï¼è¿éè¯´å®è¯æä¹ä¸æ¯ç¹å«çè§£è¿ä¹åçåå \n            compareAndSetWaitStatus(pred, ws, Node.SIGNAL);\n        }\n        return false;\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\nè¿æ®µä»£ç ç¨æ¥æ£æµæ¯å¦æèµ·å½åçº¿ç¨,åä¸ç§æåµ,\n\n 1. ç¬¬ä¸ç§æåµæ¯åé©±èç¹ç ws = singal,è¡¨ç¤ºåé©±èç¹éæ¾åæ­¥ç¶æçæ¶åä¼å¤éå½åèç¹,å¯ä»¥å®å¨æèµ·å½åçº¿ç¨;\n 2. ç¬¬äºç§æåµæ¯åé©±èç¹è¢«åæ¶,é£å°±ä»åé©±èç¹ç»§ç»­å¾åéå,ç´å°å¾åæ¾å°ç¬¬ä¸ä¸ªws <= 0 çèç¹;\n 3. ç¬¬ä¸ç§æ¯åé©±èç¹ç ws = 0,è¡¨ç¤ºåé©±èç¹è·åå°åæ­¥ç¶æ,å½åçº¿ç¨ä¸è½æèµ·,åºè¯¥å°è¯å»è·ååæ­¥ç¶æ,åé©±èç¹çåæ­¥ç¶æçéæ¾æ­£å¥½å¯ä»¥è®©å½åèç¹è¿è¡è·å,æä»¥ä½¿ç¨CASæåé©±èç¹çwsè®¾ä¸ºsingal,å¦å¤å¦æ ws =PROPAGATE,è¯´ææ­£ä»¥å±äº«æ¨¡å¼è¿è¡ä¼ æ­,ä¹éè¦ä½¿ç¨CASæwsè®¾ä¸ºsingal.\n\nå¦ä½æèµ·çº¿ç¨å¢?æä»¬æ¥çä¸parkAndCheckInterrupt()ï¼\n\nprivate final boolean parkAndCheckInterrupt() {\n        // é»å¡å½åçº¿ç¨ï¼çäºæ¯å½åsyncå¯¹è±¡\n        LockSupport.park(this);\n        // é»å¡è¿ååï¼è¿åå½åçº¿ç¨æ¯å¦è¢«ä¸­æ­\n        return Thread.interrupted();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# AQSåç - è·åæå®éæµç¨å¾\n\npublic final void acquire(int arg) {\n    if (!tryAcquire(arg) &&\n        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))\n        selfInterrupt();\n}\n\n\n1\n2\n3\n4\n5\n\n\né¦åæ§è¡tryAcquireæ¹æ³ç¨äºå°è¯è·åéï¼æååå°±ç´æ¥è¿åï¼å¤±è´¥åå°±éè¿addWaiteræ¹æ³æå½åçº¿ç¨å°è£æä¸ä¸ªNodeï¼å å°éåçå°¾é¨ï¼åéè¿acquireQueuedæ¹æ³å°è¯è·ååæ­¥éï¼æåè·åéççº¿ç¨çNodeèç¹ä¼è¢«ç§»åºéåã\n\nå¦æä»¥ä¸æ¡ä»¶é½æ»¡è¶³ï¼ä¼æ§è¡selfInterruptæ¹æ³ä¸­æ­å½åçº¿ç¨ã\n\næå æä»¬åç¨ä¸å¼ æµç¨å¾æ¥åé¡¾ä¸è¿æ´ä¸ªæµç¨\n\n\n# AQSåç - æå®é-è§£é\n\næä»¬å·²ç»ç¥éäºsyncæ¯AQSçå®ç°ï¼æä»¥ç´æ¥æ¥çAQSä¸­çreleaseæ¹æ³\n\npublic final boolean release(int arg) {\n    if (tryRelease(arg)) {\n      // å°è¯éæ¾é\n        Node h = head;\n        if (h != null && h.waitStatus != 0)\n          // å¤´èç¹å·²ç»éæ¾ï¼å¤éåç»§èç¹\n            unparkSuccessor(h);\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\ntryRelease åæ ·æ¯æ¨¡æ¿æ¹æ³ï¼\n\nprotected final boolean tryRelease(int releases) {\n  // è®¡ç®å©ä½çéå¥æ¬¡æ°\n    int c = getState() - releases;\n    if (Thread.currentThread() != getExclusiveOwnerThread())\n        throw new IllegalMonitorStateException();\n    // æ¯å¦å®å¨çéæ¾äºéï¼éå¯¹å¯éå¥æ§ï¼\n    boolean free = false;\n    if (c == 0) {\n      // è¡¨ç¤ºå®å¨éæ¾äºé\n        free = true;\n        // è®¾ç½®ç¬å éçææèä¸ºnull\n        setExclusiveOwnerThread(null);\n    }\n    // è®¾ç½®AQSçstate\n    setState(c);\n    return free;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# AQSåç - å±äº«é-å é\n\nprotected int tryAcquireShared(int acquires) {\n    for (;;) {\n      // èªæ\n        if (hasQueuedPredecessors())\n          // å¦ææçº¿ç¨æå¨èªå·±çåé¢ï¼å¬å¹³éæéï¼ï¼ç´æ¥è¿å\n            return -1;\n        // è·ååæ­¥ç¶æçå¼\n        int available = getState();\n        // å¯ç¨çï¼è®¸å¯ï¼åå»ç³è¯·çï¼ç­äºå©ä½ç\n        int remaining = available - acquires;\n        if (remaining < 0 ||\n            compareAndSetState(available, remaining))\n            // å¦æå©ä½çå°äº0ï¼æèè®¾ç½®ç¶ææåï¼å°±è¿åï¼å¦æè®¾ç½®å¤±è´¥ï¼åè¿å¥ä¸ä¸æ¬¡å¾ªç¯\n            // å¦æå©ä½å°äº0ï¼è¿åè´æ°ï¼è¡¨ç¤ºå¤±è´¥\n            // å¦æè®¾ç½®ç¶ææåï¼è¡¨ç¤ºç³è¯·è®¸å¯æåï¼è¿åæ­£æ°\n            return remaining;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# AQSåç - å±äº«é-è§£é\n\nreleaseShared()\n\npublic final boolean releaseShared(int arg) {\n    if (tryReleaseShared(arg)) {\n        doReleaseShared();\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ntryReleaseShared()\n\nprotected final boolean tryReleaseShared(int releases) {\n    for (;;) {\n      // èªæ\n      // è·ååæ­¥ç¶æçå¼\n        int current = getState();\n        // å¯ç¨çï¼è®¸å¯ï¼å ä¸éæ¾çï¼ç­äºå©ä½ç\n        int next = current + releases;\n        if (next < current) // overflow\n            throw new Error("Maximum permit count exceeded");\n        if (compareAndSetState(current, next))\n          // CASçæ¹å¼è®¾ç½®åæ­¥ç¶æ\n            return true;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ndoReleaseShared()\n\n/**\n * Release action for shared mode -- signals successor and ensures\n * propagation. (Note: For exclusive mode, release just amounts\n * to calling unparkSuccessor of head if it needs signal.)\n */\nprivate void doReleaseShared() {\n    /*\n     * Ensure that a release propagates, even if there are other\n     * in-progress acquires/releases.  This proceeds in the usual\n     * way of trying to unparkSuccessor of head if it needs\n     * signal. But if it does not, status is set to PROPAGATE to\n     * ensure that upon release, propagation continues.\n     * Additionally, we must loop in case a new node is added\n     * while we are doing this. Also, unlike other uses of\n     * unparkSuccessor, we need to know if CAS to reset status\n     * fails, if so rechecking.\n     */\n    for (;;) {\n      // èªæ\n      // è®°å½å¤´èç¹\n        Node h = head;\n        if (h != null && h != tail) {\n          // å¤´èç¹ä¸ä¸ºnullï¼ä¸ä¸ç­äºå°¾ç»ç¹ï¼è¯´æéåä¸­è¿æèç¹\n          // è·åå¤´èç¹ç­å¾ç¶æ\n            int ws = h.waitStatus;\n            if (ws == Node.SIGNAL) {\n              // å¤´èç¹ç­å¾ç¶ææ¯SIGNAL\n                if (!compareAndSetWaitStatus(h, Node.SIGNAL, 0))\n                  // å¦æä¿®æ¹èç¹ç­å¾ç¶æå¤±è´¥ï¼è¿å¥ä¸ä¸æ¬¡å¾ªç¯\n                    continue;            // loop to recheck cases\n                // ä¿®æ¹æååï¼å¤éåç»§èç¹ï¼unparkSuccessoråæè®²è¿\n                unparkSuccessor(h);\n            }\n            else if (ws == 0 &&\n                     !compareAndSetWaitStatus(h, 0, Node.PROPAGATE))\n                continue;                // loop on failed CAS\n        }\n        if (h == head)                   // loop if head changed\n            break;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n',normalizedContent:'# ç®è¿° java aqs çåçä»¥åä½¿ç¨åºæ¯\n\n\n# abstractqueuedsynchronizer æ¯ä»ä¹\n\nabstractqueuedsynchronizerï¼aqsï¼ æä¾ä¸ä¸ªæ¡æ¶ï¼ç¨äºå®ç°ä¾èµåè¿ååºï¼fifoï¼ç­å¾éåçé»å¡éåç¸å³åæ­¥å¨ï¼ä¿¡å·éï¼äºä»¶ç­ï¼ã\n\nè¯¥ç±»è¢«è®¾è®¡ä¸ºå¤§å¤æ°ç±»åçåæ­¥å¨çä¾æ®ï¼è¿äºåæ­¥å¨ä¾èµäºåä¸ªåå­intå¼æ¥è¡¨ç¤ºç¶æã\n\naqsçå­ç±»éè¿ç»§æ¿å¹¶å®ç°å®çæ½è±¡æ¹æ³æ¥å®ç°ç®¡çåæ­¥ç¶æï¼å­ç±»å¯ä»¥éè¿ aqs æä¾çæ¯ä¸ä¸ªæ¹æ³æ¥ ä¿®æ¹ç¶æå¼\n\n * getstate()\n * setstate(int)\n * compareandsetstate(int, int)\n\nå ä¸ºè¿ä¸ä¸ªæ¹æ³è½ä¿è¯ç¶æçä¿®æ¹æ¯å®å¨çã\n\naqséç¨æ¨¡æ¿æ¹æ³ï¼åé¨å®ç°äºè·åéå¤±è´¥åå å¥ç­å¾éåçæºå¶ï¼å¤§å¤§éä½äºåçº¿ä¸ä¸ªèªå®ä¹åæ­¥ç»ä»¶çé¨æ§ã\n\ncountdownlatchãsemaphoreãreentrantlockç­ç­å¸¸è§çå·¥å·ç±»é½æ¯ç±aqsæ¥å®ç°çãæä»¥ä¸ç®¡æ¯é¢è¯ä¹å¥½ï¼è¿æ¯èªå·±ç ç©¶åºå±å®ç°ä¹å¥½ï¼aqsç±»é½æ¯å¿é¡»è¦éç¹å³æ³¨çã\n\n\n# abstractqueuedsynchronizer æ¯å¦ä½å®ç°ç\n\nåæ­¥å¨çå¼å§æå°äºå¶å®ç°ä¾èµäºä¸ä¸ªfifoéåï¼é£ä¹éåä¸­çåç´ nodeå°±æ¯ä¿å­ççº¿ç¨å¼ç¨åçº¿ç¨ç¶æçå®¹å¨ï¼æ¯ä¸ªçº¿ç¨å¯¹åæ­¥å¨çè®¿é®ï¼é½å¯ä»¥çåæ¯éåä¸­çä¸ä¸ªèç¹ãnodeçä¸»è¦åå«ä»¥ä¸æååéï¼\n\nnode {\n//è¡¨ç¤ºèç¹çç¶æã\n    int waitstatus;\n    //åé©±èç¹ï¼æ¯å¦å½åèç¹è¢«åæ¶ï¼é£å°±éè¦åé©±èç¹ååç»§èç¹æ¥å®æè¿æ¥ã\n    node prev;\n    //åç»§èç¹ã\n    node next;\n    //å­å¨conditionéåä¸­çåç»§èç¹ã\n    node nextwaiter;\n    //å¥éåæ¶çå½åçº¿ç¨ã\n    thread thread;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nwaitstatusåå¼æ5ä¸ªæä¸¾ï¼\n\n * cancelledï¼å¼ä¸º1ï¼è¡¨ç¤ºå½åççº¿ç¨è¢«åæ¶ï¼\n * signalï¼å¼ä¸º-1ï¼è¡¨ç¤ºå½åèç¹çåç»§èç¹åå«ççº¿ç¨éè¦è¿è¡ï¼ä¹å°±æ¯unparkï¼\n * conditionï¼å¼ä¸º-2ï¼è¡¨ç¤ºå½åèç¹å¨ç­å¾conditionï¼ä¹å°±æ¯å¨conditionéåä¸­ï¼\n * propagateï¼å¼ä¸º-3ï¼è¡¨ç¤ºå½ååºæ¯ä¸åç»­çacquiresharedè½å¤å¾ä»¥æ§è¡ï¼\n * å¼ä¸º0ï¼è¡¨ç¤ºå½åèç¹å¨syncéåä¸­ï¼ç­å¾çè·åéã\n\naqsï¼åæ­¥å¨ï¼ å å¶ææçfifoéåçå³ç³»å¦ä¸å¾ï¼aqs ææéåçå¤´ç»ç¹åå°¾ç»ç¹ï¼ç«äºéå¤±è´¥ççº¿ç¨ä¼è¢«æ¾å°éåçåé¢ï¼æéè·åéã\n\n\n# å¦ä½ç¨ aqs å®ç°ä¸ä¸ªæä»é\n\næä»éçå®ç°ï¼é¡¾åæä¹ï¼ä¸æ¬¡åªè½ä¸ä¸ªçº¿ç¨è·åå°éã ä¼ªä»£ç çè·å:\n\nwhile(è·åé) {\n  if (è·åå°) {\n    éåºwhileå¾ªç¯\n  } else {\n    if(å½åçº¿ç¨æ²¡æå¥éå) {\n      é£ä¹å¥éå\n    }\n    é»å¡å½åçº¿ç¨\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä¼ªä»£ç çéæ¾:\n\nif (éæ¾æå) {\n  å é¤å¤´ç»ç¹\n  æ¿æ´»åå¤´ç»ç¹çåç»§èç¹\n}\n\n\n1\n2\n3\n4\n\n\néè¿aqs å®ç°:\n\nclass mutex implements lock, java.io.serializable {\n   // åé¨ç±»ï¼èªå®ä¹åæ­¥å¨\n   private static class sync extends abstractqueuedsynchronizer {\n     // æ¯å¦å¤äºå ç¨ç¶æ\n     protected boolean isheldexclusively() {\n       return getstate() == 1;\n     }\n     // å½ç¶æä¸º0çæ¶åè·åé\n     public boolean tryacquire(int acquires) {\n       assert acquires == 1; // otherwise unused\n       if (compareandsetstate(0, 1)) {\n         setexclusiveownerthread(thread.currentthread());\n         return true;\n       }\n       return false;\n     }\n     // éæ¾éï¼å°ç¶æè®¾ç½®ä¸º0\n     protected boolean tryrelease(int releases) {\n       assert releases == 1; // otherwise unused\n       if (getstate() == 0) throw new illegalmonitorstateexception();\n       setexclusiveownerthread(null);\n       setstate(0);\n       return true;\n     }\n     // è¿åä¸ä¸ªconditionï¼æ¯ä¸ªconditioné½åå«äºä¸ä¸ªconditionéå\n     condition newcondition() { return new conditionobject(); }\n   }\n   // ä»éè¦å°æä½ä»£çå°syncä¸å³å¯\n   private final sync sync = new sync();\n   public void lock()                { sync.acquire(1); }\n   public boolean trylock()          { return sync.tryacquire(1); }\n   public void unlock()              { sync.release(1); }\n   public condition newcondition()   { return sync.newcondition(); }\n   public boolean islocked()         { return sync.isheldexclusively(); }\n   public boolean hasqueuedthreads() { return sync.hasqueuedthreads(); }\n   public void lockinterruptibly() throws interruptedexception {\n     sync.acquireinterruptibly(1);\n   }\n   public boolean trylock(long timeout, timeunit unit)\n       throws interruptedexception {\n     return sync.tryacquirenanos(1, unit.tonanos(timeout));\n   }\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nå¯ä»¥çå°mutexå°lockæ¥å£åä»£çç»äºåæ­¥å¨çå®ç°ã\n\n\n# aqsåç - æå®é-å é\n\naqs ä¸­ç public final void acquire(int arg)ä»¥éé»å¡çæ¹å¼è·åæå®éï¼å®ç° synchronized è¯­ä¹ï¼å¯ä»¥è¯´æ¯ aqs ä¸­æéè¦çæ¹æ³ã\n\npublic final void acquire(int arg) {\n        if (!tryacquire(arg) &amp;&amp;\n            acquirequeued(addwaiter(node.exclusive), arg))\n            selfinterrupt();\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿æ®µä»£ç é»è¾åäºä¸ä»¶äºæï¼\n\n 1. å°è¯è·åé ;tryacquire(arg)\n 2. å å¥syncéåãå¦æè·åä¸å°ï¼å°å½åçº¿ç¨æé æèç¹nodeå¹¶å å¥syncéåï¼addwaiter(node.exclusive)\n 3. æéãåæ¬¡å°è¯è·åï¼å¦ææ²¡æè·åå°é£ä¹å°å½åçº¿ç¨ä»çº¿ç¨è°åº¦å¨ä¸æä¸ï¼è¿å¥ç­å¾ç¶æ ;acquirequeued(node,arg)\n\nä¸é¢æä»¬éæ­¥æ¥çä¸è¿ä¸ä¸ªè¿ç¨\n\n\n# å°è¯è·åé tryacquire(arg)\n\næ´ä¸ªæ¹æ³éè¦å­ç±»å®ç°ï¼æ¯å¦å¬å¹³éãéå¬å¹³éå°±æ¯å¨è¿ä¸ªæ¹æ³ä¸­åçé»è¾ã æä»¬æ¥çä¸å¬å¹³éçå®ç°ï¼\n\nprotected final boolean tryacquire(int acquires) {\n  // å½åçº¿ç¨\n    final thread current = thread.currentthread();\n    // è·åstateç¶æï¼0è¡¨ç¤ºæªéå®ï¼å¤§äº1è¡¨ç¤ºéå¥\n    int c = getstate();\n    // 0è¡¨ç¤ºæ²¡æçº¿ç¨è·åé\n    if (c == 0) {\n    // æ²¡ææ¯å½åçº¿ç¨ç­å¾æ´ä¹ççº¿ç¨äºï¼éè¿casçæ¹å¼ä¿®æ¹state\n        if (!hasqueuedpredecessors() &&\n            compareandsetstate(0, acquires)) {\n            // æåä¹åï¼è®¾ç½®å½åæ¥æç¬å è®¿é®æççº¿ç¨\n            setexclusiveownerthread(current);\n            return true;\n        }\n    }\n    // ç¬å è®¿é®æççº¿ç¨å°±æ¯å½åçº¿ç¨ï¼éå¥ï¼æ­¤å¤å°±æ¯ãå¯éå¥æ§ãçå®ç°\n    else if (current == getexclusiveownerthread()) {\n        int nextc = c + acquires;\n        if (nextc < 0)\n            throw new error("maximum lock count exceeded");\n        // ç´æ¥ä¿®æ¹state\n        setstate(nextc);\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å å¥syncéå addwaiter(node.exclusive)\n\nprivate node addwaiter(node mode) {\n  node node = new node(thread.currentthread(), mode);\n  node pred = tail;\n    // å¦æéåä¸ä¸ºç©º å¿«éå°è¯å¨å°¾é¨æ·»å  é£ä¹nodeèç¹çåç»§èç¹æ¯tail\n  if (pred != null) {\n    node.prev = pred;\n        //casæä½ å°nodeè®¾ç½®ä¸ºå°¾ç»ç¹ ï¼å¤çº¿ç¨ç«äºçæåµä¸ï¼è¿éå¯è½ä¼å¤±è´¥ï¼\n    if (compareandsettail(pred, node)) {\n      pred.next = node;\n            //å¿«éå°è¯å¨å°¾é¨æ·»å æå è¿å\n      return node;\n    }\n  }\n    //éåä¸ºç©º æè å¿«éå°è¯å¨å°¾é¨æ·»å å¤±è´¥ ç¨åºä¼èµ°å°è¿é\n  enq(node);\n  return node;\n}\n\n//å¨å¾ªç¯ä¸­ caså¥éå\nprivate node enq(final node node) {\n  for (;;) {\n    node t = tail;\n    if (t == null) { // å¦æéåä¸ºç©º ååå§å\n      if (compareandsethead(new node()))\n        tail = head;\n    } else {// å¦æéåä¸ä¸ºç©º caså¥éå\n      node.prev = t;\n      if (compareandsettail(t, node)) {\n      t.next = node;\n      return t;\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nä¸è¿°é»è¾ä¸»è¦åæ¬ï¼\n\n 1. å¦æéåä¸ä¸ºç©º å¿«éå°è¯å¨å°¾é¨æ·»å ,ä¸æ¬¡cas\n 2. éåä¸ºç©º æè å¿«éå°è¯å¨å°¾é¨æ·»å å¤±è´¥ ç¨åºè¿å¥å¾ªç¯å¤æ­3ã4æ­¥\n 3. å¦æéåä¸ºç©º ååå§å\n 4. å¦æéåä¸ä¸ºç©º caså¥éå\n\n\n# æé acquirequeued(node,arg)\n\nçº¿ç¨æèµ·ä¹å å¾ªç¯å°è¯è·åéï¼\n\nfinal boolean acquirequeued(final node node, int arg) {\n  boolean failed = true;\n  try {\n    boolean interrupted = false;\n    for (;;) {\n      final node p = node.predecessor();\n            //å¦ææ¬çº¿ç¨å·²ç»æ¯å¤´ç»ç¹äº tryacquire(arg)ä¸ å°è¯è·åé\n      if (p == head && tryacquire(arg)) {\n        sethead(node);\n        p.next = null; // help gc\n        failed = false;\n                //è·åå°äº éåºå¾ªç¯\n        return interrupted;\n      }\n            //æ²¡è·åå° å¤æ­è¦ä¸è¦æèµ·\n      if (shouldparkafterfailedacquire(p, node) &&\n                    parkandcheckinterrupt())\n        interrupted = true;\n                }\n  } finally {\n    if (failed)\n      cancelacquire(node);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä¸è¿°é»è¾ä¸»è¦åæ¬ï¼\n\n 1. å¦ææ¬çº¿ç¨å·²ç»æ¯å¤´ç»ç¹äº tryacquire(arg)ä¸ å°è¯è·åéï¼è·åå°äº éåºå¾ªç¯ï¼æ²¡è·åå° å¤æ­è¦ä¸è¦æèµ·\n 2. æèµ·åï¼å¾ªç¯æ§è¡ç¬¬ä¸æ­¥\n\nå¦ä½å¤æ­è¦ä¸è¦æèµ·å¢ï¼æä»¬åæ¥çä¸shouldparkafterfailedacquire(p, node):\n\nprivate static boolean shouldparkafterfailedacquire(node pred, node node) {\n// è·åpredåç½®èç¹çç­å¾ç¶æ\n        int ws = pred.waitstatus;\n        if (ws == node.signal)\n            /*\n             * this node has already set status asking a release\n             * to signal it, so it can safely park.\n             */\n/* åç½®èç¹ç¶ææ¯signalï¼é£å½åèç¹å¯ä»¥å®å¨é»å¡ï¼å ä¸ºåç½®èç¹æ¿è¯ºæ§è¡å®ä¹åä¼éç¥å¤éå½å\n* èç¹\n*/\n            return true;\n        if (ws > 0) {\n \n            /*\n             * predecessor was cancelled. skip over predecessors and\n             * indicate retry.\n             */\n// åç½®èç¹å¦æå·²ç»è¢«åæ¶äºï¼åä¸ç´å¾åéåç´å°åç½®èç¹ä¸æ¯åæ¶ç¶æï¼ä¸æ­¤åæ¶ä¼ä¿®æ¹é¾è¡¨å³ç³»\n            do {\n                node.prev = pred = pred.prev;\n            } while (pred.waitstatus > 0);\n            pred.next = node;\n        } else {\n            /*\n             * waitstatus must be 0 or propagate.  indicate that we\n             * need a signal, but don\'t park yet.  caller will need to\n             * retry to make sure it cannot acquire before parking.\n             */\n// åç½®èç¹æ¯0æèpropagateç¶æï¼è¿ééè¿casæåç½®èç¹ç¶ææ¹æsignal\n// è¿éä¸è¿åtrueè®©å½åèç¹é»å¡ï¼èæ¯è¿åfalseï¼ç®çæ¯è®©è°ç¨èåcheckä¸ä¸å½åçº¿ç¨æ¯å¦è½\n// æåè·åéï¼å¤±è´¥çè¯åé»å¡ï¼è¿éè¯´å®è¯æä¹ä¸æ¯ç¹å«çè§£è¿ä¹åçåå \n            compareandsetwaitstatus(pred, ws, node.signal);\n        }\n        return false;\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\nè¿æ®µä»£ç ç¨æ¥æ£æµæ¯å¦æèµ·å½åçº¿ç¨,åä¸ç§æåµ,\n\n 1. ç¬¬ä¸ç§æåµæ¯åé©±èç¹ç ws = singal,è¡¨ç¤ºåé©±èç¹éæ¾åæ­¥ç¶æçæ¶åä¼å¤éå½åèç¹,å¯ä»¥å®å¨æèµ·å½åçº¿ç¨;\n 2. ç¬¬äºç§æåµæ¯åé©±èç¹è¢«åæ¶,é£å°±ä»åé©±èç¹ç»§ç»­å¾åéå,ç´å°å¾åæ¾å°ç¬¬ä¸ä¸ªws <= 0 çèç¹;\n 3. ç¬¬ä¸ç§æ¯åé©±èç¹ç ws = 0,è¡¨ç¤ºåé©±èç¹è·åå°åæ­¥ç¶æ,å½åçº¿ç¨ä¸è½æèµ·,åºè¯¥å°è¯å»è·ååæ­¥ç¶æ,åé©±èç¹çåæ­¥ç¶æçéæ¾æ­£å¥½å¯ä»¥è®©å½åèç¹è¿è¡è·å,æä»¥ä½¿ç¨casæåé©±èç¹çwsè®¾ä¸ºsingal,å¦å¤å¦æ ws =propagate,è¯´ææ­£ä»¥å±äº«æ¨¡å¼è¿è¡ä¼ æ­,ä¹éè¦ä½¿ç¨casæwsè®¾ä¸ºsingal.\n\nå¦ä½æèµ·çº¿ç¨å¢?æä»¬æ¥çä¸parkandcheckinterrupt()ï¼\n\nprivate final boolean parkandcheckinterrupt() {\n        // é»å¡å½åçº¿ç¨ï¼çäºæ¯å½åsyncå¯¹è±¡\n        locksupport.park(this);\n        // é»å¡è¿ååï¼è¿åå½åçº¿ç¨æ¯å¦è¢«ä¸­æ­\n        return thread.interrupted();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# aqsåç - è·åæå®éæµç¨å¾\n\npublic final void acquire(int arg) {\n    if (!tryacquire(arg) &&\n        acquirequeued(addwaiter(node.exclusive), arg))\n        selfinterrupt();\n}\n\n\n1\n2\n3\n4\n5\n\n\né¦åæ§è¡tryacquireæ¹æ³ç¨äºå°è¯è·åéï¼æååå°±ç´æ¥è¿åï¼å¤±è´¥åå°±éè¿addwaiteræ¹æ³æå½åçº¿ç¨å°è£æä¸ä¸ªnodeï¼å å°éåçå°¾é¨ï¼åéè¿acquirequeuedæ¹æ³å°è¯è·ååæ­¥éï¼æåè·åéççº¿ç¨çnodeèç¹ä¼è¢«ç§»åºéåã\n\nå¦æä»¥ä¸æ¡ä»¶é½æ»¡è¶³ï¼ä¼æ§è¡selfinterruptæ¹æ³ä¸­æ­å½åçº¿ç¨ã\n\næå æä»¬åç¨ä¸å¼ æµç¨å¾æ¥åé¡¾ä¸è¿æ´ä¸ªæµç¨\n\n\n# aqsåç - æå®é-è§£é\n\næä»¬å·²ç»ç¥éäºsyncæ¯aqsçå®ç°ï¼æä»¥ç´æ¥æ¥çaqsä¸­çreleaseæ¹æ³\n\npublic final boolean release(int arg) {\n    if (tryrelease(arg)) {\n      // å°è¯éæ¾é\n        node h = head;\n        if (h != null && h.waitstatus != 0)\n          // å¤´èç¹å·²ç»éæ¾ï¼å¤éåç»§èç¹\n            unparksuccessor(h);\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\ntryrelease åæ ·æ¯æ¨¡æ¿æ¹æ³ï¼\n\nprotected final boolean tryrelease(int releases) {\n  // è®¡ç®å©ä½çéå¥æ¬¡æ°\n    int c = getstate() - releases;\n    if (thread.currentthread() != getexclusiveownerthread())\n        throw new illegalmonitorstateexception();\n    // æ¯å¦å®å¨çéæ¾äºéï¼éå¯¹å¯éå¥æ§ï¼\n    boolean free = false;\n    if (c == 0) {\n      // è¡¨ç¤ºå®å¨éæ¾äºé\n        free = true;\n        // è®¾ç½®ç¬å éçææèä¸ºnull\n        setexclusiveownerthread(null);\n    }\n    // è®¾ç½®aqsçstate\n    setstate(c);\n    return free;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# aqsåç - å±äº«é-å é\n\nprotected int tryacquireshared(int acquires) {\n    for (;;) {\n      // èªæ\n        if (hasqueuedpredecessors())\n          // å¦ææçº¿ç¨æå¨èªå·±çåé¢ï¼å¬å¹³éæéï¼ï¼ç´æ¥è¿å\n            return -1;\n        // è·ååæ­¥ç¶æçå¼\n        int available = getstate();\n        // å¯ç¨çï¼è®¸å¯ï¼åå»ç³è¯·çï¼ç­äºå©ä½ç\n        int remaining = available - acquires;\n        if (remaining < 0 ||\n            compareandsetstate(available, remaining))\n            // å¦æå©ä½çå°äº0ï¼æèè®¾ç½®ç¶ææåï¼å°±è¿åï¼å¦æè®¾ç½®å¤±è´¥ï¼åè¿å¥ä¸ä¸æ¬¡å¾ªç¯\n            // å¦æå©ä½å°äº0ï¼è¿åè´æ°ï¼è¡¨ç¤ºå¤±è´¥\n            // å¦æè®¾ç½®ç¶ææåï¼è¡¨ç¤ºç³è¯·è®¸å¯æåï¼è¿åæ­£æ°\n            return remaining;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# aqsåç - å±äº«é-è§£é\n\nreleaseshared()\n\npublic final boolean releaseshared(int arg) {\n    if (tryreleaseshared(arg)) {\n        doreleaseshared();\n        return true;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ntryreleaseshared()\n\nprotected final boolean tryreleaseshared(int releases) {\n    for (;;) {\n      // èªæ\n      // è·ååæ­¥ç¶æçå¼\n        int current = getstate();\n        // å¯ç¨çï¼è®¸å¯ï¼å ä¸éæ¾çï¼ç­äºå©ä½ç\n        int next = current + releases;\n        if (next < current) // overflow\n            throw new error("maximum permit count exceeded");\n        if (compareandsetstate(current, next))\n          // casçæ¹å¼è®¾ç½®åæ­¥ç¶æ\n            return true;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\ndoreleaseshared()\n\n/**\n * release action for shared mode -- signals successor and ensures\n * propagation. (note: for exclusive mode, release just amounts\n * to calling unparksuccessor of head if it needs signal.)\n */\nprivate void doreleaseshared() {\n    /*\n     * ensure that a release propagates, even if there are other\n     * in-progress acquires/releases.  this proceeds in the usual\n     * way of trying to unparksuccessor of head if it needs\n     * signal. but if it does not, status is set to propagate to\n     * ensure that upon release, propagation continues.\n     * additionally, we must loop in case a new node is added\n     * while we are doing this. also, unlike other uses of\n     * unparksuccessor, we need to know if cas to reset status\n     * fails, if so rechecking.\n     */\n    for (;;) {\n      // èªæ\n      // è®°å½å¤´èç¹\n        node h = head;\n        if (h != null && h != tail) {\n          // å¤´èç¹ä¸ä¸ºnullï¼ä¸ä¸ç­äºå°¾ç»ç¹ï¼è¯´æéåä¸­è¿æèç¹\n          // è·åå¤´èç¹ç­å¾ç¶æ\n            int ws = h.waitstatus;\n            if (ws == node.signal) {\n              // å¤´èç¹ç­å¾ç¶ææ¯signal\n                if (!compareandsetwaitstatus(h, node.signal, 0))\n                  // å¦æä¿®æ¹èç¹ç­å¾ç¶æå¤±è´¥ï¼è¿å¥ä¸ä¸æ¬¡å¾ªç¯\n                    continue;            // loop to recheck cases\n                // ä¿®æ¹æååï¼å¤éåç»§èç¹ï¼unparksuccessoråæè®²è¿\n                unparksuccessor(h);\n            }\n            else if (ws == 0 &&\n                     !compareandsetwaitstatus(h, 0, node.propagate))\n                continue;                // loop on failed cas\n        }\n        if (h == head)                   // loop if head changed\n            break;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼",frontmatter:{title:"ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼",date:"2022-04-04T14:36:29.000Z",permalink:"/pages/13856f/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/120.%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%20run()%20%E6%96%B9%E6%B3%95%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/120.ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼.md",key:"v-9baaad8e",path:"/pages/13856f/",headers:[{level:2,title:"ä¸ºä»ä¹æä»¬è°ç¨ start() æ¹æ³æ¶ä¼æ§è¡ run() æ¹æ³ï¼ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼",slug:"ä¸ºä»ä¹æä»¬è°ç¨-start-æ¹æ³æ¶ä¼æ§è¡-run-æ¹æ³-ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨-run-æ¹æ³",normalizedTitle:"ä¸ºä»ä¹æä»¬è°ç¨ start() æ¹æ³æ¶ä¼æ§è¡ run() æ¹æ³ï¼ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼",charIndex:null}],headersStr:"ä¸ºä»ä¹æä»¬è°ç¨ start() æ¹æ³æ¶ä¼æ§è¡ run() æ¹æ³ï¼ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼",content:'# ä¸ºä»ä¹æä»¬è°ç¨ start() æ¹æ³æ¶ä¼æ§è¡ run() æ¹æ³ï¼ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run()æ¹æ³ï¼\n\nå¦ææä»¬ç´æ¥è°ç¨ run() æ¹æ³ æ¯ä¸ä¼åå»ºæ°çº¿ç¨çã\nstart() æºä»£ç ï¼\n\n/**\n     * Causes this thread to begin execution; the Java Virtual Machine\n     * calls the <code>run</code> method of this thread.\n     * <p>çº¿ç¨è¢«æ§è¡ï¼JVMè°ç¨runæ¹æ³\n     * The result is that two threads are running concurrently: the\n     * current thread (which returns from the call to the\n     * <code>start</code> method) and the other thread (which executes its\n     * <code>run</code> method).\n     * <p>\n     * It is never legal to start a thread more than once.å¤æ¬¡è°ç¨startæ¹æ³å¯å¨ä¸ä¸ªçº¿ç¨æ¯éæ³ç\n     * In particular, a thread may not be restarted once it has completed\n     * execution.\n     *\n     * @exception  IllegalThreadStateException  if the thread was alreadyå·²ç»å¯å¨ççº¿ç¨åæ¬¡startï¼å¼å¸¸\n     *               started.\n     * @see        #run()\n     * @see        #stop()\n     */\n    public synchronized void start() {\n        /**\n         * This method is not invoked for the main method thread or "system"\n         * group threads created/set up by the VM. Any new functionality added\n         * to this method in the future may have to also be added to the VM.\n         *\n         * A zero status value corresponds to state "NEW".\n         */\n        if (threadStatus != 0)//ç¶ææ ¡éª  0ï¼NEW æ°å»ºç¶æ\n            throw new IllegalThreadStateException();\n\n        /* Notify the group that this thread is about to be started\n         * so that it can be added to the group\'s list of threads\n         * and the group\'s unstarted count can be decremented. */\n        group.add(this);//æ·»å è¿çº¿ç¨ç»\n\n        boolean started = false;\n        try {\n            start0();//è°ç¨nativeæ¹æ³æ§è¡çº¿ç¨runæ¹æ³\n            started = true;\n        } finally {\n            try {\n                if (!started) {\n                    group.threadStartFailed(this);//å¯å¨å¤±è´¥ï¼ä»çº¿ç¨ç»ä¸­ç§»é¤å½ååç¨ã\n                }\n            } catch (Throwable ignore) {\n                /* do nothing. If start0 threw a Throwable then\n                  it will be passed up the call stack */\n            }\n        }\n    }\n\n    private native void start0();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\néè¿æºç æä»¬å¯ä»¥çå°ï¼å¨start()ä¸­è°ç¨äºnativeæ¹æ³ start0()ï¼å¨start0()ä¸­ä¼åå»ºä¸ä¸ªæ°ççº¿ç¨è°ç¨run()ã æä»¥ï¼å¦ææä»¬ç´æ¥è°ç¨ run() æ¹æ³ æ¯ä¸ä¼åå»ºæ°çº¿ç¨çã',normalizedContent:'# ä¸ºä»ä¹æä»¬è°ç¨ start() æ¹æ³æ¶ä¼æ§è¡ run() æ¹æ³ï¼ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run()æ¹æ³ï¼\n\nå¦ææä»¬ç´æ¥è°ç¨ run() æ¹æ³ æ¯ä¸ä¼åå»ºæ°çº¿ç¨çã\nstart() æºä»£ç ï¼\n\n/**\n     * causes this thread to begin execution; the java virtual machine\n     * calls the <code>run</code> method of this thread.\n     * <p>çº¿ç¨è¢«æ§è¡ï¼jvmè°ç¨runæ¹æ³\n     * the result is that two threads are running concurrently: the\n     * current thread (which returns from the call to the\n     * <code>start</code> method) and the other thread (which executes its\n     * <code>run</code> method).\n     * <p>\n     * it is never legal to start a thread more than once.å¤æ¬¡è°ç¨startæ¹æ³å¯å¨ä¸ä¸ªçº¿ç¨æ¯éæ³ç\n     * in particular, a thread may not be restarted once it has completed\n     * execution.\n     *\n     * @exception  illegalthreadstateexception  if the thread was alreadyå·²ç»å¯å¨ççº¿ç¨åæ¬¡startï¼å¼å¸¸\n     *               started.\n     * @see        #run()\n     * @see        #stop()\n     */\n    public synchronized void start() {\n        /**\n         * this method is not invoked for the main method thread or "system"\n         * group threads created/set up by the vm. any new functionality added\n         * to this method in the future may have to also be added to the vm.\n         *\n         * a zero status value corresponds to state "new".\n         */\n        if (threadstatus != 0)//ç¶ææ ¡éª  0ï¼new æ°å»ºç¶æ\n            throw new illegalthreadstateexception();\n\n        /* notify the group that this thread is about to be started\n         * so that it can be added to the group\'s list of threads\n         * and the group\'s unstarted count can be decremented. */\n        group.add(this);//æ·»å è¿çº¿ç¨ç»\n\n        boolean started = false;\n        try {\n            start0();//è°ç¨nativeæ¹æ³æ§è¡çº¿ç¨runæ¹æ³\n            started = true;\n        } finally {\n            try {\n                if (!started) {\n                    group.threadstartfailed(this);//å¯å¨å¤±è´¥ï¼ä»çº¿ç¨ç»ä¸­ç§»é¤å½ååç¨ã\n                }\n            } catch (throwable ignore) {\n                /* do nothing. if start0 threw a throwable then\n                  it will be passed up the call stack */\n            }\n        }\n    }\n\n    private native void start0();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\néè¿æºç æä»¬å¯ä»¥çå°ï¼å¨start()ä¸­è°ç¨äºnativeæ¹æ³ start0()ï¼å¨start0()ä¸­ä¼åå»ºä¸ä¸ªæ°ççº¿ç¨è°ç¨run()ã æä»¥ï¼å¦ææä»¬ç´æ¥è°ç¨ run() æ¹æ³ æ¯ä¸ä¼åå»ºæ°çº¿ç¨çã',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",frontmatter:{title:"Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",date:"2022-04-04T14:35:56.000Z",permalink:"/pages/c1f760/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/110.Java%20%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%8C%E5%93%AA%E4%BA%9B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/110.Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼.md",key:"v-625fbeda",path:"/pages/c1f760/",headers:[{level:2,title:"Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",slug:"java-æ¯å¦ä½å®ç°çº¿ç¨å®å¨ç-åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨ç",normalizedTitle:"java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",charIndex:2},{level:2,title:"synchronized æ¥å®ç°å®ç¥¨åºæ¯",slug:"synchronized-æ¥å®ç°å®ç¥¨åºæ¯",normalizedTitle:"synchronized æ¥å®ç°å®ç¥¨åºæ¯",charIndex:167},{level:2,title:"Lock æ¥å£æ¥å®ç°å®ç¥¨åºæ¯",slug:"lock-æ¥å£æ¥å®ç°å®ç¥¨åºæ¯",normalizedTitle:"lock æ¥å£æ¥å®ç°å®ç¥¨åºæ¯",charIndex:1352},{level:2,title:"åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",slug:"åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨ç",normalizedTitle:"åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",charIndex:18}],headersStr:"Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼ synchronized æ¥å®ç°å®ç¥¨åºæ¯ Lock æ¥å£æ¥å®ç°å®ç¥¨åºæ¯ åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼",content:'# Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼\n\nå¦æä½ çä»£ç å¨å¤çº¿ç¨ä¸æ§è¡åå¨åçº¿ç¨ä¸æ§è¡æ°¸è¿é½è½è·å¾ä¸æ ·çç»æï¼é£ä¹ä½ çä»£ç å°±æ¯çº¿ç¨å®å¨çã\n\nJava ä¸­å®ç°çº¿ç¨å®å¨çæ¹å¼æä¸¤ä¸ªï¼\n\n * synchronized\n * Lockæ¥å£\n\nä¸¾ä¾ä¸ä¸ªå®ç¥¨åºæ¯ï¼ç«è½¦ç«4ä¸ªçªå£åæ¶å®ç¥¨ï¼å±æ3å¼ ç¥¨ï¼ä¸è½è¶åã\n\n\n# synchronized æ¥å®ç°å®ç¥¨åºæ¯\n\npublic class ThreadSynchronizedSecurity {\n \n    static int tickets = 3;\n \n    class SellTickets implements Runnable {\n        @Override\n        public void run() {\n            // åæ­¥ä»£ç å\n            synchronized (this) {\n                if (tickets <= 0) {\n                    System.out.println(Thread.currentThread().getName() + "---\x3eç¥¨å·²å®ç½ï¼");\n                    return;\n                }\n                System.out.println(Thread.currentThread().getName() + "---\x3eå®åºç¬¬ï¼  " + tickets + " å¼ ç¥¨");\n                tickets--;\n            }\n        }\n    }\n \n    public static void main(String[] args) {\n        SellTickets sell = new ThreadSynchronizedSecurity().new SellTickets();\n        Thread thread1 = new Thread(sell, "1å·çªå£");\n        Thread thread2 = new Thread(sell, "2å·çªå£");\n        Thread thread3 = new Thread(sell, "3å·çªå£");\n        Thread thread4 = new Thread(sell, "4å·çªå£");\n        thread1.start();\n        thread2.start();\n        thread3.start();\n        thread4.start();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nè¾åºï¼\n\n1å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n2å·çªå£---\x3eå®åºç¬¬ï¼ 2 å¼ ç¥¨\n3å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n4å·çªå£---\x3eç¥¨å·²å®ç½ï¼\n\n\n1\n2\n3\n4\n\n\n\n# Lock æ¥å£æ¥å®ç°å®ç¥¨åºæ¯\n\npackage com.my.annotate.thread;\n \nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n \npublic class ThreadLockSecurity {\n    static int tickets = 3;\n \n    class SellTickets implements Runnable {\n        Lock lock = new ReentrantLock();\n        @Override\n        public void run() {\n            // Lockéæºå¶\n            if (tickets > 0) {\n                try {\n                    lock.lock();\n                    if (tickets <= 0) {\n                        return;\n                    }\n                    System.out.println(Thread.currentThread().getName() + "---\x3eå®åºç¬¬ï¼  " + tickets + " ç¥¨");\n                    tickets--;\n                } catch (Exception e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                } finally {\n                    lock.unlock();\n                }\n            }\n            if (tickets <= 0) {\n                System.out.println(Thread.currentThread().getName() + "---\x3eç¥¨å·²å®ç½ï¼");\n            }\n \n        }\n    }\n \n \n    public static void main(String[] args) {\n        SellTickets sell = new ThreadLockSecurity().new SellTickets();\n        Thread thread1 = new Thread(sell, "1å·çªå£");\n        Thread thread2 = new Thread(sell, "2å·çªå£");\n        Thread thread3 = new Thread(sell, "3å·çªå£");\n        Thread thread4 = new Thread(sell, "4å·çªå£");\n        thread1.start();\n        thread2.start();\n        thread3.start();\n        thread4.start();\n    }\n \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\nè¾åºï¼\n\n1å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n2å·çªå£---\x3eå®åºç¬¬ï¼ 2 å¼ ç¥¨\n3å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n4å·çªå£---\x3eç¥¨å·²å®ç½ï¼\n\n\n1\n2\n3\n4\n\n\n\n# åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼\n\nJDKå·²ç»ä¸ºå¤§å®¶åå¤å¥½äºä¸æ¹å¥½ç¨ççº¿ç¨å®å¨å®¹å¨ç±»ï¼å¯ä»¥å¤§å¤§åå°å¼åå·¥ä½éï¼ä¾å¦HashTableï¼ConcurrentHashMapï¼CopyOnWriteArrayListï¼CopyOnWriteArraySetï¼ConcurrentLinkedQueueï¼Vectorï¼StringBufferç­ã\n\n 1. HashTable\n\nHashTableå®ç°äºMapæ¥å£ï¼ä¸ºæ­¤å¶æ¬èº«ä¹æ¯ä¸ä¸ªæ£åè¡¨ï¼å®å­å¨çåå®¹æ¯åºäºkey-valueçé®å¼å¯¹æ å°ã\n\nHashTableä¸­çkeyãvalueé½ä¸å¯ä»¥ä¸ºnullï¼å·ææ åºç¹æ§ï¼ç±äºå¶æ¹æ³å½æ°é½æ¯åæ­¥çï¼éç¨synchronizedä¿®é¥°ï¼ï¼ä¸ä¼åºç°ä¸¤ä¸ªçº¿ç¨åæ¶å¯¹æ°æ®è¿è¡æä½çæåµï¼å æ­¤ä¿è¯äºçº¿ç¨å®å¨æ§ã\n\nHashTableä½¿ç¨synchronizedæ¥ä¿®é¥°æ¹æ³å½æ°æ¥ä¿è¯çº¿ç¨å®å¨ï¼ä½æ¯å¨å¤çº¿ç¨è¿è¡ç¯å¢ä¸æçè¡¨ç°éå¸¸ä½ä¸ã\n\nå ä¸ºå½ä¸ä¸ªçº¿ç¨è®¿é®HashTableçåæ­¥æ¹æ³æ¶ï¼å¶ä»çº¿ç¨ä¹è®¿é®åæ­¥æ¹æ³å°±ä¼ç²çº¿é»å¡ç¶æã\n\næ¯å¦å½ä¸ä¸ªçº¿ç¨å¨æ·»å æ°æ®æ¶åï¼å¦å¤ä¸ä¸ªçº¿ç¨å³ä½¿æ§è¡è·åå¶ä»æ°æ®çæä½ä¹å¿é¡»è¢«é»å¡ï¼å¤§å¤§éä½äºç¨åºçè¿è¡æçã\n\n 2. ConcurrentHashMap\n\næä»¬ç¥éHashMapæ¯çº¿ç¨ä¸å®å¨çï¼ConcurrentHashMapæ¯HashMapççº¿ç¨å®å¨çã\n\nä½æ¯ä¸HashTableç¸æ¯ï¼ConcurrentHashMapä¸ä»ä¿è¯äºå¤çº¿ç¨è¿è¡ç¯å¢ä¸çæ°æ®è®¿é®å®å¨æ§ï¼èä¸æ§è½ä¸æé¿è¶³çæåã\n\nConcurrentHashMapåè®¸å¤ä¸ªä¿®æ¹æä½å¹¶åè¿è¡ï¼å¶åå å¨äºä½¿ç¨äºéåæ®µææ¯ï¼é¦åè®²Mapå­æ¾çæ°æ®åæä¸æ®µä¸æ®µçå­å¨æ¹å¼ï¼ç¶åç»æ¯ä¸æ®µæ°æ®åéä¸æéï¼å½ä¸ä¸ªçº¿ç¨å ç¨éè®¿é®å¶ä¸­ä¸ä¸ªæ®µçæ°æ®æ¶ï¼å¶ä»æ®µçæ°æ®ä¹è½è¢«å¶ä»çº¿ç¨è®¿é®ãè¿æ ·å°±ä¿è¯äºæ¯ä¸æéåªæ¯ç¨äºéä½ä¸é¨åæ°æ®ï¼é£ä¹å½å¤çº¿ç¨è®¿é®Mapéçä¸åæ°æ®æ®µçæ°æ®æ¶ï¼çº¿ç¨é´å°±ä¸ä¼å­å¨éç«äºï¼ä»èå¯ä»¥æææé«å¹¶åè®¿é®æçã\n\nä¸è¿°çå¤çæºå¶ææ¾åºå«äºHashTableæ¯ç»æ´ä½æ°æ®åéäºä¸æéçå¤çæ¹æ³ã\n\nä¸ºæ­¤ï¼å¨å¤çº¿ç¨ç¯å¢ä¸ï¼å¸¸ç¨ConcurrentHashMapå¨éè¦ä¿è¯æ°æ®å®å¨çåºæ¯ä¸­å»æ¿æ¢HashMapï¼èä¸ä¼å»ä½¿ç¨HashTableï¼åæ¶å¨ææ°ççJDKä¸­å·²ç»æ¨èåºå¼ä½¿ç¨HashTableã\n\n 3. CopyOnWriteArrayList\n\nCopyOnWriteArrayListå®ç°äºListæ¥å£ï¼æä¾çæ°æ®æ´æ°æä½é½ä½¿ç¨äºReentrantLockçlock()æ¹æ³æ¥å éï¼unlock()æ¹æ³æ¥è§£éã\n\nå½å¢å åç´ çæ¶åï¼é¦åä½¿ç¨Arrays.copyOf()æ¥æ·è´å½¢ææ°çå¯æ¬ï¼å¨å¯æ¬ä¸å¢å åç´ ï¼ç¶åæ¹ååå¼ç¨æåå¯æ¬ãè¯»æä½ä¸éè¦å éï¼èåæä½ç±»å®ç°ä¸­å¯¹å¶è¿è¡äºå éãå æ­¤ï¼CopyOnWriteArrayListç±»æ¯ä¸ä¸ªçº¿ç¨å®å¨çListæ¥å£çå®ç°ï¼å¨é«å¹¶åçæåµä¸ï¼å¯ä»¥æä¾é«æ§è½çå¹¶åè¯»åï¼å¹¶ä¸ä¿è¯è¯»åçåå®¹ä¸å®æ¯æ­£ç¡®çï¼è¿å¯¹äºè¯»æä½è¿è¿å¤äºåæä½çåºç¨éå¸¸éåï¼æ³¨æï¼ å¦ä¸è¿°æ´æ°æä½ä¼å¸¦æ¥è¾å¤§çç©ºé´ä¸æ§è½å¼éï¼å¦ææ´æ°æå¤ªè¿é¢ç¹ï¼åèä¸å¤ªåéä½¿ç¨ï¼ã\n\n 4. CopyOnWriteArraySet\n\nCopyOnWriteArraySetæ¯å¯¹CopyOnWriteArrayListä½¿ç¨äºè£é¥°æ¨¡å¼åçå·ä½å®ç°ãæä»¥CopyOnWriteArrayListçå®ç°æºçéç¨äºCopyOnWriteArraySetï¼æ­¤å¤ä¸åèµè¿°ã\n\nJavaéçListåSetçä¹é´çç¹æ§æ¯è¾ç»è®ºåæ ·éç¨äºCopyOnWriteArrayListä¸CopyOnWriteArraySetä¹é´çæ¯è¾ï¼æ­¤å¤ï¼CopyOnWriteArrayListä¸CopyOnWriteArraySeté½æ¯çº¿ç¨å®å¨çã\n\n 5. ConcurrentLinkedQueue\n\nConcurrentLinkedQueueå¯ä»¥è¢«çä½æ¯ä¸ä¸ªçº¿ç¨å®å¨çLinkedListï¼ä½¿ç¨äºéé»å¡ç®æ³å®ç°çä¸ä¸ªé«æãçº¿ç¨å®å¨çå¹¶åéåï¼å¶æ¬è´¨æ¯ä¸ä¸ªåºäºé¾æ¥èç¹çæ ççº¿ç¨å®å¨éåï¼å®éç¨åè¿ååºçè§åå¯¹èç¹è¿è¡æåºï¼å½æ·»å ä¸ä¸ªåç´ æ¶ä¼æ·»å å°éåçå°¾é¨ï¼å½è·åä¸ä¸ªåç´ æ¶ï¼ä¼è¿åéåå¤´é¨çåç´ ã\n\nConcurrentLinkedQueueåºè¯¥ç®æ¯å¨é«å¹¶åç¯å¢ä¸­æ§è½æå¥½çéåï¼æ²¡æä¹ä¸ã\n\n 6. Vector\n\nVectoréè¿æ°ç»ä¿å­æ°æ®ï¼ç»§æ¿äºAbstractï¼å®ç°äºListï¼æä»¥ï¼å¶æ¬è´¨ä¸æ¯ä¸ä¸ªéåã\n\nä½æ¯åArrayListä¸åï¼Vectorä¸­çæä½æ¯çº¿ç¨å®å¨çï¼å®æ¯å©ç¨synchronizedåæ­¥éæºå¶è¿è¡å®ç°ï¼å¶å®ç°æ¹å¼ä¸HashTableç±»ä¼¼ã\n\n 7. StringBufferä¸StringBuilder\n\nå¨Javaéé¢ï¼å­ç¬¦ä¸²æä½åºè¯¥æ¯æé¢ç¹çæä½äºï¼ä¸ºæ­¤æå¿è¦æStringBufferä¸StringBuilderä¸¤ä¸ªæ¹æ³ç±»æ¯è¾ä¸ä¸ã\n\né¦åï¼å¯¹äºé¢ç¹çå­ç¬¦ä¸²æ¼æ¥æä½ï¼æ¯ä¸æ¨èéç¨æçä½ä¸çâ+âæä½çãä¸è¬æ¯éç¨StringBufferä¸StringBuilderæ¥å®ç°ä¸è¿°åè½ãä½æ¯ï¼è¿ä¸¤èä¹æ¯æåºå«çï¼åèçº¿ç¨å®å¨ï¼åèä¸æ¯çº¿ç¨å®å¨çã\n\nStringBufferæ¯éè¿å¯¹æ¹æ³å½æ°è¿è¡synchronizedä¿®é¥°å®ç°å¶çº¿ç¨å®å¨ç¹æ§ï¼å®ç°æ¹å¼ä¸HashTableãVectorç±»ä¼¼ã',normalizedContent:'# java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼\n\nå¦æä½ çä»£ç å¨å¤çº¿ç¨ä¸æ§è¡åå¨åçº¿ç¨ä¸æ§è¡æ°¸è¿é½è½è·å¾ä¸æ ·çç»æï¼é£ä¹ä½ çä»£ç å°±æ¯çº¿ç¨å®å¨çã\n\njava ä¸­å®ç°çº¿ç¨å®å¨çæ¹å¼æä¸¤ä¸ªï¼\n\n * synchronized\n * lockæ¥å£\n\nä¸¾ä¾ä¸ä¸ªå®ç¥¨åºæ¯ï¼ç«è½¦ç«4ä¸ªçªå£åæ¶å®ç¥¨ï¼å±æ3å¼ ç¥¨ï¼ä¸è½è¶åã\n\n\n# synchronized æ¥å®ç°å®ç¥¨åºæ¯\n\npublic class threadsynchronizedsecurity {\n \n    static int tickets = 3;\n \n    class selltickets implements runnable {\n        @override\n        public void run() {\n            // åæ­¥ä»£ç å\n            synchronized (this) {\n                if (tickets <= 0) {\n                    system.out.println(thread.currentthread().getname() + "---\x3eç¥¨å·²å®ç½ï¼");\n                    return;\n                }\n                system.out.println(thread.currentthread().getname() + "---\x3eå®åºç¬¬ï¼  " + tickets + " å¼ ç¥¨");\n                tickets--;\n            }\n        }\n    }\n \n    public static void main(string[] args) {\n        selltickets sell = new threadsynchronizedsecurity().new selltickets();\n        thread thread1 = new thread(sell, "1å·çªå£");\n        thread thread2 = new thread(sell, "2å·çªå£");\n        thread thread3 = new thread(sell, "3å·çªå£");\n        thread thread4 = new thread(sell, "4å·çªå£");\n        thread1.start();\n        thread2.start();\n        thread3.start();\n        thread4.start();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nè¾åºï¼\n\n1å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n2å·çªå£---\x3eå®åºç¬¬ï¼ 2 å¼ ç¥¨\n3å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n4å·çªå£---\x3eç¥¨å·²å®ç½ï¼\n\n\n1\n2\n3\n4\n\n\n\n# lock æ¥å£æ¥å®ç°å®ç¥¨åºæ¯\n\npackage com.my.annotate.thread;\n \nimport java.util.concurrent.locks.lock;\nimport java.util.concurrent.locks.reentrantlock;\n \npublic class threadlocksecurity {\n    static int tickets = 3;\n \n    class selltickets implements runnable {\n        lock lock = new reentrantlock();\n        @override\n        public void run() {\n            // lockéæºå¶\n            if (tickets > 0) {\n                try {\n                    lock.lock();\n                    if (tickets <= 0) {\n                        return;\n                    }\n                    system.out.println(thread.currentthread().getname() + "---\x3eå®åºç¬¬ï¼  " + tickets + " ç¥¨");\n                    tickets--;\n                } catch (exception e1) {\n                    // todo auto-generated catch block\n                    e1.printstacktrace();\n                } finally {\n                    lock.unlock();\n                }\n            }\n            if (tickets <= 0) {\n                system.out.println(thread.currentthread().getname() + "---\x3eç¥¨å·²å®ç½ï¼");\n            }\n \n        }\n    }\n \n \n    public static void main(string[] args) {\n        selltickets sell = new threadlocksecurity().new selltickets();\n        thread thread1 = new thread(sell, "1å·çªå£");\n        thread thread2 = new thread(sell, "2å·çªå£");\n        thread thread3 = new thread(sell, "3å·çªå£");\n        thread thread4 = new thread(sell, "4å·çªå£");\n        thread1.start();\n        thread2.start();\n        thread3.start();\n        thread4.start();\n    }\n \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\nè¾åºï¼\n\n1å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n2å·çªå£---\x3eå®åºç¬¬ï¼ 2 å¼ ç¥¨\n3å·çªå£---\x3eå®åºç¬¬ï¼ 3 å¼ ç¥¨\n4å·çªå£---\x3eç¥¨å·²å®ç½ï¼\n\n\n1\n2\n3\n4\n\n\n\n# åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼\n\njdkå·²ç»ä¸ºå¤§å®¶åå¤å¥½äºä¸æ¹å¥½ç¨ççº¿ç¨å®å¨å®¹å¨ç±»ï¼å¯ä»¥å¤§å¤§åå°å¼åå·¥ä½éï¼ä¾å¦hashtableï¼concurrenthashmapï¼copyonwritearraylistï¼copyonwritearraysetï¼concurrentlinkedqueueï¼vectorï¼stringbufferç­ã\n\n 1. hashtable\n\nhashtableå®ç°äºmapæ¥å£ï¼ä¸ºæ­¤å¶æ¬èº«ä¹æ¯ä¸ä¸ªæ£åè¡¨ï¼å®å­å¨çåå®¹æ¯åºäºkey-valueçé®å¼å¯¹æ å°ã\n\nhashtableä¸­çkeyãvalueé½ä¸å¯ä»¥ä¸ºnullï¼å·ææ åºç¹æ§ï¼ç±äºå¶æ¹æ³å½æ°é½æ¯åæ­¥çï¼éç¨synchronizedä¿®é¥°ï¼ï¼ä¸ä¼åºç°ä¸¤ä¸ªçº¿ç¨åæ¶å¯¹æ°æ®è¿è¡æä½çæåµï¼å æ­¤ä¿è¯äºçº¿ç¨å®å¨æ§ã\n\nhashtableä½¿ç¨synchronizedæ¥ä¿®é¥°æ¹æ³å½æ°æ¥ä¿è¯çº¿ç¨å®å¨ï¼ä½æ¯å¨å¤çº¿ç¨è¿è¡ç¯å¢ä¸æçè¡¨ç°éå¸¸ä½ä¸ã\n\nå ä¸ºå½ä¸ä¸ªçº¿ç¨è®¿é®hashtableçåæ­¥æ¹æ³æ¶ï¼å¶ä»çº¿ç¨ä¹è®¿é®åæ­¥æ¹æ³å°±ä¼ç²çº¿é»å¡ç¶æã\n\næ¯å¦å½ä¸ä¸ªçº¿ç¨å¨æ·»å æ°æ®æ¶åï¼å¦å¤ä¸ä¸ªçº¿ç¨å³ä½¿æ§è¡è·åå¶ä»æ°æ®çæä½ä¹å¿é¡»è¢«é»å¡ï¼å¤§å¤§éä½äºç¨åºçè¿è¡æçã\n\n 2. concurrenthashmap\n\næä»¬ç¥éhashmapæ¯çº¿ç¨ä¸å®å¨çï¼concurrenthashmapæ¯hashmapççº¿ç¨å®å¨çã\n\nä½æ¯ä¸hashtableç¸æ¯ï¼concurrenthashmapä¸ä»ä¿è¯äºå¤çº¿ç¨è¿è¡ç¯å¢ä¸çæ°æ®è®¿é®å®å¨æ§ï¼èä¸æ§è½ä¸æé¿è¶³çæåã\n\nconcurrenthashmapåè®¸å¤ä¸ªä¿®æ¹æä½å¹¶åè¿è¡ï¼å¶åå å¨äºä½¿ç¨äºéåæ®µææ¯ï¼é¦åè®²mapå­æ¾çæ°æ®åæä¸æ®µä¸æ®µçå­å¨æ¹å¼ï¼ç¶åç»æ¯ä¸æ®µæ°æ®åéä¸æéï¼å½ä¸ä¸ªçº¿ç¨å ç¨éè®¿é®å¶ä¸­ä¸ä¸ªæ®µçæ°æ®æ¶ï¼å¶ä»æ®µçæ°æ®ä¹è½è¢«å¶ä»çº¿ç¨è®¿é®ãè¿æ ·å°±ä¿è¯äºæ¯ä¸æéåªæ¯ç¨äºéä½ä¸é¨åæ°æ®ï¼é£ä¹å½å¤çº¿ç¨è®¿é®mapéçä¸åæ°æ®æ®µçæ°æ®æ¶ï¼çº¿ç¨é´å°±ä¸ä¼å­å¨éç«äºï¼ä»èå¯ä»¥æææé«å¹¶åè®¿é®æçã\n\nä¸è¿°çå¤çæºå¶ææ¾åºå«äºhashtableæ¯ç»æ´ä½æ°æ®åéäºä¸æéçå¤çæ¹æ³ã\n\nä¸ºæ­¤ï¼å¨å¤çº¿ç¨ç¯å¢ä¸ï¼å¸¸ç¨concurrenthashmapå¨éè¦ä¿è¯æ°æ®å®å¨çåºæ¯ä¸­å»æ¿æ¢hashmapï¼èä¸ä¼å»ä½¿ç¨hashtableï¼åæ¶å¨ææ°ççjdkä¸­å·²ç»æ¨èåºå¼ä½¿ç¨hashtableã\n\n 3. copyonwritearraylist\n\ncopyonwritearraylistå®ç°äºlistæ¥å£ï¼æä¾çæ°æ®æ´æ°æä½é½ä½¿ç¨äºreentrantlockçlock()æ¹æ³æ¥å éï¼unlock()æ¹æ³æ¥è§£éã\n\nå½å¢å åç´ çæ¶åï¼é¦åä½¿ç¨arrays.copyof()æ¥æ·è´å½¢ææ°çå¯æ¬ï¼å¨å¯æ¬ä¸å¢å åç´ ï¼ç¶åæ¹ååå¼ç¨æåå¯æ¬ãè¯»æä½ä¸éè¦å éï¼èåæä½ç±»å®ç°ä¸­å¯¹å¶è¿è¡äºå éãå æ­¤ï¼copyonwritearraylistç±»æ¯ä¸ä¸ªçº¿ç¨å®å¨çlistæ¥å£çå®ç°ï¼å¨é«å¹¶åçæåµä¸ï¼å¯ä»¥æä¾é«æ§è½çå¹¶åè¯»åï¼å¹¶ä¸ä¿è¯è¯»åçåå®¹ä¸å®æ¯æ­£ç¡®çï¼è¿å¯¹äºè¯»æä½è¿è¿å¤äºåæä½çåºç¨éå¸¸éåï¼æ³¨æï¼ å¦ä¸è¿°æ´æ°æä½ä¼å¸¦æ¥è¾å¤§çç©ºé´ä¸æ§è½å¼éï¼å¦ææ´æ°æå¤ªè¿é¢ç¹ï¼åèä¸å¤ªåéä½¿ç¨ï¼ã\n\n 4. copyonwritearrayset\n\ncopyonwritearraysetæ¯å¯¹copyonwritearraylistä½¿ç¨äºè£é¥°æ¨¡å¼åçå·ä½å®ç°ãæä»¥copyonwritearraylistçå®ç°æºçéç¨äºcopyonwritearraysetï¼æ­¤å¤ä¸åèµè¿°ã\n\njavaéçliståsetçä¹é´çç¹æ§æ¯è¾ç»è®ºåæ ·éç¨äºcopyonwritearraylistä¸copyonwritearraysetä¹é´çæ¯è¾ï¼æ­¤å¤ï¼copyonwritearraylistä¸copyonwritearrayseté½æ¯çº¿ç¨å®å¨çã\n\n 5. concurrentlinkedqueue\n\nconcurrentlinkedqueueå¯ä»¥è¢«çä½æ¯ä¸ä¸ªçº¿ç¨å®å¨çlinkedlistï¼ä½¿ç¨äºéé»å¡ç®æ³å®ç°çä¸ä¸ªé«æãçº¿ç¨å®å¨çå¹¶åéåï¼å¶æ¬è´¨æ¯ä¸ä¸ªåºäºé¾æ¥èç¹çæ ççº¿ç¨å®å¨éåï¼å®éç¨åè¿ååºçè§åå¯¹èç¹è¿è¡æåºï¼å½æ·»å ä¸ä¸ªåç´ æ¶ä¼æ·»å å°éåçå°¾é¨ï¼å½è·åä¸ä¸ªåç´ æ¶ï¼ä¼è¿åéåå¤´é¨çåç´ ã\n\nconcurrentlinkedqueueåºè¯¥ç®æ¯å¨é«å¹¶åç¯å¢ä¸­æ§è½æå¥½çéåï¼æ²¡æä¹ä¸ã\n\n 6. vector\n\nvectoréè¿æ°ç»ä¿å­æ°æ®ï¼ç»§æ¿äºabstractï¼å®ç°äºlistï¼æä»¥ï¼å¶æ¬è´¨ä¸æ¯ä¸ä¸ªéåã\n\nä½æ¯åarraylistä¸åï¼vectorä¸­çæä½æ¯çº¿ç¨å®å¨çï¼å®æ¯å©ç¨synchronizedåæ­¥éæºå¶è¿è¡å®ç°ï¼å¶å®ç°æ¹å¼ä¸hashtableç±»ä¼¼ã\n\n 7. stringbufferä¸stringbuilder\n\nå¨javaéé¢ï¼å­ç¬¦ä¸²æä½åºè¯¥æ¯æé¢ç¹çæä½äºï¼ä¸ºæ­¤æå¿è¦æstringbufferä¸stringbuilderä¸¤ä¸ªæ¹æ³ç±»æ¯è¾ä¸ä¸ã\n\né¦åï¼å¯¹äºé¢ç¹çå­ç¬¦ä¸²æ¼æ¥æä½ï¼æ¯ä¸æ¨èéç¨æçä½ä¸çâ+âæä½çãä¸è¬æ¯éç¨stringbufferä¸stringbuilderæ¥å®ç°ä¸è¿°åè½ãä½æ¯ï¼è¿ä¸¤èä¹æ¯æåºå«çï¼åèçº¿ç¨å®å¨ï¼åèä¸æ¯çº¿ç¨å®å¨çã\n\nstringbufferæ¯éè¿å¯¹æ¹æ³å½æ°è¿è¡synchronizedä¿®é¥°å®ç°å¶çº¿ç¨å®å¨ç¹æ§ï¼å®ç°æ¹å¼ä¸hashtableãvectorç±»ä¼¼ã',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"æåæ­»é",frontmatter:{title:"æåæ­»é",date:"2022-04-09T13:51:43.000Z",permalink:"/pages/ce292c/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/115.%E6%89%8B%E5%86%99%E6%AD%BB%E9%94%81.html",relativePath:"01.Javaç¸å³/20.å¹¶å/115.æåæ­»é.md",key:"v-7b2a2ed4",path:"/pages/ce292c/",headers:[{level:2,title:"äº§çæ­»éçæ¡ä»¶",slug:"äº§çæ­»éçæ¡ä»¶",normalizedTitle:"äº§çæ­»éçæ¡ä»¶",charIndex:2},{level:2,title:"æåæ­»éä¾å­",slug:"æåæ­»éä¾å­",normalizedTitle:"æåæ­»éä¾å­",charIndex:170}],headersStr:"äº§çæ­»éçæ¡ä»¶ æåæ­»éä¾å­",content:'# äº§çæ­»éçæ¡ä»¶\n\nä¸è¬æ¥è¯´ï¼è¦åºç°æ­»éé®é¢éè¦æ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼\n\n * äºæ¥æ¡ä»¶ï¼ä¸ä¸ªèµæºæ¯æ¬¡åªè½è¢«ä¸ä¸ªçº¿ç¨ä½¿ç¨ã\n * è¯·æ±ä¸ä¿ææ¡ä»¶ï¼ä¸ä¸ªçº¿ç¨å è¯·æ±èµæºèé»å¡æ¶ï¼å¯¹å·²è·å¾çèµæºä¿æä¸æ¾ã\n * ä¸å¥å¤ºæ¡ä»¶ï¼çº¿ç¨å·²è·å¾çèµæºï¼å¨æªä½¿ç¨å®ä¹åï¼ä¸è½å¼ºè¡å¥å¤ºã\n * å¾ªç¯ç­å¾æ¡ä»¶ï¼è¥å¹²çº¿ç¨ä¹é´å½¢æä¸ç§å¤´å°¾ç¸æ¥çå¾ªç¯ç­å¾èµæºå³ç³»ã\n\n\n# æåæ­»éä¾å­\n\n//å¯è½åçéæéé¡ºåºæ­»éçä»£ç \nclass StaticLockOrderDeadLock {\n  private final Object lockA = new Object();\n  private final Object lockB = new Object();\n  public void a() {\n    synchronized (lockA) {\n      synchronized (lockB) {\n        System.out.println("function a");\n      }\n    }\n  }\n  \n  public void b() {\n    synchronized (lockB) {\n      synchronized (lockA) {\n        System.out.println("function b");\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * aåbä¸¤ä¸ªæ¹æ³é½éè¦è·å¾AéåBéãä¸ä¸ªçº¿ç¨æ§è¡aæ¹æ³ä¸å·²ç»è·å¾äºAéï¼å¨ç­å¾Béï¼\n * å¦ä¸ä¸ªçº¿ç¨æ§è¡äºbæ¹æ³ä¸å·²ç»è·å¾äºBéï¼å¨ç­å¾Aéã\n\nè¿ç§ç¶æï¼å°±æ¯åçäºéæçéé¡ºåºæ­»éã\nè§£å³åæ³ï¼ ææéè¦å¤ä¸ªéççº¿ç¨ï¼é½è¦ä»¥ç¸åçé¡ºåºæ¥è·å¾éã\n\n\n//æ­£ç¡®çä»£ç \nclass StaticLockOrderDeadLock {\n  private final Object lockA = new Object();\n  private final Object lockB = new Object();\n  public void a() {\n    synchronized (lockA) {\n      synchronized (lockB) {\n        System.out.println("function a");\n      }\n    }\n  }\n  \n  public void b() {\n    synchronized (lockA) {\n      synchronized (lockB) {\n        System.out.println("function b");\n      }\n    }\n  }\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n',normalizedContent:'# äº§çæ­»éçæ¡ä»¶\n\nä¸è¬æ¥è¯´ï¼è¦åºç°æ­»éé®é¢éè¦æ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼\n\n * äºæ¥æ¡ä»¶ï¼ä¸ä¸ªèµæºæ¯æ¬¡åªè½è¢«ä¸ä¸ªçº¿ç¨ä½¿ç¨ã\n * è¯·æ±ä¸ä¿ææ¡ä»¶ï¼ä¸ä¸ªçº¿ç¨å è¯·æ±èµæºèé»å¡æ¶ï¼å¯¹å·²è·å¾çèµæºä¿æä¸æ¾ã\n * ä¸å¥å¤ºæ¡ä»¶ï¼çº¿ç¨å·²è·å¾çèµæºï¼å¨æªä½¿ç¨å®ä¹åï¼ä¸è½å¼ºè¡å¥å¤ºã\n * å¾ªç¯ç­å¾æ¡ä»¶ï¼è¥å¹²çº¿ç¨ä¹é´å½¢æä¸ç§å¤´å°¾ç¸æ¥çå¾ªç¯ç­å¾èµæºå³ç³»ã\n\n\n# æåæ­»éä¾å­\n\n//å¯è½åçéæéé¡ºåºæ­»éçä»£ç \nclass staticlockorderdeadlock {\n  private final object locka = new object();\n  private final object lockb = new object();\n  public void a() {\n    synchronized (locka) {\n      synchronized (lockb) {\n        system.out.println("function a");\n      }\n    }\n  }\n  \n  public void b() {\n    synchronized (lockb) {\n      synchronized (locka) {\n        system.out.println("function b");\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * aåbä¸¤ä¸ªæ¹æ³é½éè¦è·å¾aéåbéãä¸ä¸ªçº¿ç¨æ§è¡aæ¹æ³ä¸å·²ç»è·å¾äºaéï¼å¨ç­å¾béï¼\n * å¦ä¸ä¸ªçº¿ç¨æ§è¡äºbæ¹æ³ä¸å·²ç»è·å¾äºbéï¼å¨ç­å¾aéã\n\nè¿ç§ç¶æï¼å°±æ¯åçäºéæçéé¡ºåºæ­»éã\nè§£å³åæ³ï¼ ææéè¦å¤ä¸ªéççº¿ç¨ï¼é½è¦ä»¥ç¸åçé¡ºåºæ¥è·å¾éã\n\n\n//æ­£ç¡®çä»£ç \nclass staticlockorderdeadlock {\n  private final object locka = new object();\n  private final object lockb = new object();\n  public void a() {\n    synchronized (locka) {\n      synchronized (lockb) {\n        system.out.println("function a");\n      }\n    }\n  }\n  \n  public void b() {\n    synchronized (locka) {\n      synchronized (lockb) {\n        system.out.println("function b");\n      }\n    }\n  }\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Java çº¿ç¨æåªäºå¸¸ç¨æ¹æ³ï¼",frontmatter:{title:"Java çº¿ç¨æåªäºå¸¸ç¨æ¹æ³ï¼",date:"2022-04-04T14:36:48.000Z",permalink:"/pages/a6c84e/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/130.Java%20%E7%BA%BF%E7%A8%8B%E6%9C%89%E5%93%AA%E4%BA%9B%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/130.Java çº¿ç¨æåªäºå¸¸ç¨æ¹æ³ï¼.md",key:"v-75c00225",path:"/pages/a6c84e/",headers:[{level:2,title:"Java çº¿ç¨å¦ä½å¯å¨ï¼å¦ä½ç»æ­¢ï¼",slug:"java-çº¿ç¨å¦ä½å¯å¨-å¦ä½ç»æ­¢",normalizedTitle:"java çº¿ç¨å¦ä½å¯å¨ï¼å¦ä½ç»æ­¢ï¼",charIndex:2},{level:2,title:"æé çº¿ç¨",slug:"æé çº¿ç¨",normalizedTitle:"æé çº¿ç¨",charIndex:97},{level:2,title:"å¯å¨çº¿ç¨",slug:"å¯å¨çº¿ç¨",normalizedTitle:"å¯å¨çº¿ç¨",charIndex:637},{level:2,title:"çè§£ä¸­æ­",slug:"çè§£ä¸­æ­",normalizedTitle:"çè§£ä¸­æ­",charIndex:1259},{level:2,title:"å·²ä¸å»ºè®®ä½¿ç¨çæ¹æ³ï¼suspend(),resume(),stop()",slug:"å·²ä¸å»ºè®®ä½¿ç¨çæ¹æ³-suspend-resume-stop",normalizedTitle:"å·²ä¸å»ºè®®ä½¿ç¨çæ¹æ³ï¼suspend(),resume(),stop()",charIndex:1581},{level:2,title:"å®å¨çç»æ­¢çº¿ç¨",slug:"å®å¨çç»æ­¢çº¿ç¨",normalizedTitle:"å®å¨çç»æ­¢çº¿ç¨",charIndex:1813}],headersStr:"Java çº¿ç¨å¦ä½å¯å¨ï¼å¦ä½ç»æ­¢ï¼ æé çº¿ç¨ å¯å¨çº¿ç¨ çè§£ä¸­æ­ å·²ä¸å»ºè®®ä½¿ç¨çæ¹æ³ï¼suspend(),resume(),stop() å®å¨çç»æ­¢çº¿ç¨",content:'# Java çº¿ç¨å¦ä½å¯å¨ï¼å¦ä½ç»æ­¢ï¼\n\nçº¿ç¨éçstart()æ¹æ³çè°ç¨èå¯å¨ï¼éçrun()æ¹æ³è°ç¨ç»æèç»æ­¢ã ä½æ¯è¿å¶ä¸­è¿ä¼æ¶åå°çº¿ç¨çæé ãä¸­æ­ãæåãæ¢å¤ï¼æä»¬æ¥ä¸ä¸çä¸ã\n\n\n# æé çº¿ç¨\n\nå¨è¿è¡ä¸ä¸ªçº¿ç¨ä¹å è¯å®è¦åæé ä¸ä¸ªçº¿ç¨å¯¹è±¡ï¼æé çº¿ç¨å¯¹è±¡éè¦æä¾æéå±æ§ï¼å¦çº¿ç¨æå±ç»ï¼çº¿ç¨ä¼åçº§ï¼æ¯å¦deamonç­ã\n\nprivate void init(ThreadGroup g, Runnable target, String name,\n                  long stackSize, AccessControlContext acc) {\n    //1.è®¾ç½®çº¿ç¨å\n    if (name == null) {\n        throw new NullPointerException("name cannot be null");\n    }\n\n    this.name = name;\n    //2.è®¾ç½®çº¿ç¨ççº¿ç¨ç»ï¼å¦ææªæå®ï¼åæ­¤çº¿ç¨ççº¿ç¨ç»ä¸ºå½ååå§åçº¿ç¨ççº¿ç¨ç»\n    Thread parent = currentThread();\n    ...\n    if (g == null) {\n        //è¿éæä¸æ®µæ³¨éè¯´ï¼å®åä¸æ¯æSecurityManagerï¼æä»¥å é¤äºç¸å³ä»£ç \n        g = parent.getThreadGroup();\n    }\n\n    //æå±çº¿ç¨ç»æªå¯å¨çº¿ç¨è®¡æ°+1\n    g.addUnstarted();\n\n    this.group = g;\n    //3.è®¾ç½®çº¿ç¨çå¶ä»å±æ§\n    //çº¿ç¨æ¯å¦æ¯å®æ¤çº¿ç¨ä»¥åä¼åçº§é½ç»§æ¿èªå½åçº¿ç¨\n    this.daemon = parent.isDaemon();\n    this.priority = parent.getPriority();\n    this.target = target;\n    //4.è°ç¨init2 æ§è¡å©ä½åå§åæä½\n    init2(parent);\n    //5.è®¾ç½®çº¿ç¨çå æ å¤§å°ãä½æ¯å¦çæè¦çèææºãé£ä¹å¨artèææºä¸æ¯å¦çæå¢ï¼æä»¬åç»­åè¯´\n    /* Stash the specified stack size in case the VM cares */\n    this.stackSize = stackSize;\n\n    //6.è®¾ç½®å½åçº¿ç¨id\n    tid = nextThreadID();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nå°è¿éä¸ºæ­¢ï¼æä»¬çthreadå°±å·²ç»åå§åå®æ¯äºãå¨å åå­ä¸­ç­å¾è¿è¢«æ§è¡start()æ¹æ³å¼å§è¿è¡ã\n\n\n# å¯å¨çº¿ç¨\n\nè°ç¨start()æ¹æ³å¼å§å¯å¨çº¿ç¨ã\n\n\n# çè§£ä¸­æ­\n\nå¦æçº¿ç¨éè¦æ§è¡ä¸ä¸ªé¿æ¶é´ä»»å¡ï¼å°±å¯è½éè¦è½ä¸­æ­çº¿ç¨ãä¸­æ­çº¿ç¨å°±æ¯å¶ä»çº¿ç¨ç»è¯¥çº¿ç¨åä¸ä¸ªä¿¡å·ï¼è¯¥çº¿ç¨æ¶å°ä¿¡å·åç»ææ§è¡run()æ¹æ³ï¼ä½¿å¾èªèº«çº¿ç¨è½ç«å»ç»æè¿è¡ã\n\nä¸­æ­å¯ä»¥çè§£ä¸ºçº¿ç¨çä¸ä¸ªæ å¿ä½å±æ§ï¼è°ç¨interrupt()æ¹æ³ä¸­æ­çº¿ç¨ä»ä»æ¯æä¸­æ­æ å¿ä½ç½®ä¸ºtrueï¼çº¿ç¨å¯ä»¥éè¿æ£æ¥èªèº«çæ å¿ä½æ¥å¤æ­æ¯å¦è¢«ä¸­æ­äºã\n\nå¦å¤è¿æä¸¤ç¹éè¦æ³¨æçï¼\n\n * å¦æçº¿ç¨å¤äºç»ç»ç¶æï¼å³ä½¿çº¿ç¨è¢«ä¸­æ­è¿ï¼å¶ä¸­æ­æ è¯ä½ä¾ç¶æ¯false\n * è®¸å¤å£°ææåºInterruptExceptionçæ¹æ³ï¼å¦Thread.sleep(long millis)ï¼ï¼å¨æåºInterruptExceptionä¹åä¼å°ä¸­æ­æ è¯ä½ç½®ä¸ºfalseã\n\n\n# å·²ä¸å»ºè®®ä½¿ç¨çæ¹æ³ï¼suspend(),resume(),stop()\n\nsuspend(),resume(),stop()å®æäºçº¿ç¨çæåãæ¢å¤ãåæ­¢ãä½æ¯è¿äºæ¹æ³è¿æäº ä¸å»ºè®®ç»§ç»­ä½¿ç¨ï¼åå æ¯ï¼\n\n 1. suspend()æåçº¿ç¨æ¯ä¸ä¼éæ¾èµæºï¼æ¯å¦éï¼ï¼èæ¯å çèµæºå¥ç¡ ï¼è¿æ ·å®¹æå¼åæ­»é\n 2. stop() ç»æ­¢çº¿ç¨æ¶æ²¡æç»çº¿ç¨æ¸çèµæºçæºä¼ï¼å¯¼è´ç¨åºè¿è¡å¨ä¸ç¡®å®ç¶æ\n\nåèä»£ä¹çæ¯wait()ånotify()/notifyAll()ã\n\n\n# å®å¨çç»æ­¢çº¿ç¨\n\nå¯ä»¥éè¿interrupt()æèæ è¯ä½æ¥ä¼éçåæ­¢çº¿ç¨ã\n\npublic class MyRunner implements Runnable {\n  private volatile boolean on = true;\n    public void run() {\n        while(on){\n          System.out.println("Running...");\n        }\n        System.out.println("Stoped!");\n    }\n\n    public void cancel(){\n      on  = false;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\néè¿æ è¯ä½æ¥åæ­¢çº¿ç¨\n\npublic class ShutdownThread {\n\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new MyRunner().start();\n          t1.cancel();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néè¿interrupt()æ¥åæ­¢çº¿ç¨\n\npublic class ShutdownThread {\n\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new MyRunner().start();\n          t1.interrupt();\n    }\n}\n\n1\n2\n3\n4\n5\n6\n',normalizedContent:'# java çº¿ç¨å¦ä½å¯å¨ï¼å¦ä½ç»æ­¢ï¼\n\nçº¿ç¨éçstart()æ¹æ³çè°ç¨èå¯å¨ï¼éçrun()æ¹æ³è°ç¨ç»æèç»æ­¢ã ä½æ¯è¿å¶ä¸­è¿ä¼æ¶åå°çº¿ç¨çæé ãä¸­æ­ãæåãæ¢å¤ï¼æä»¬æ¥ä¸ä¸çä¸ã\n\n\n# æé çº¿ç¨\n\nå¨è¿è¡ä¸ä¸ªçº¿ç¨ä¹å è¯å®è¦åæé ä¸ä¸ªçº¿ç¨å¯¹è±¡ï¼æé çº¿ç¨å¯¹è±¡éè¦æä¾æéå±æ§ï¼å¦çº¿ç¨æå±ç»ï¼çº¿ç¨ä¼åçº§ï¼æ¯å¦deamonç­ã\n\nprivate void init(threadgroup g, runnable target, string name,\n                  long stacksize, accesscontrolcontext acc) {\n    //1.è®¾ç½®çº¿ç¨å\n    if (name == null) {\n        throw new nullpointerexception("name cannot be null");\n    }\n\n    this.name = name;\n    //2.è®¾ç½®çº¿ç¨ççº¿ç¨ç»ï¼å¦ææªæå®ï¼åæ­¤çº¿ç¨ççº¿ç¨ç»ä¸ºå½ååå§åçº¿ç¨ççº¿ç¨ç»\n    thread parent = currentthread();\n    ...\n    if (g == null) {\n        //è¿éæä¸æ®µæ³¨éè¯´ï¼å®åä¸æ¯æsecuritymanagerï¼æä»¥å é¤äºç¸å³ä»£ç \n        g = parent.getthreadgroup();\n    }\n\n    //æå±çº¿ç¨ç»æªå¯å¨çº¿ç¨è®¡æ°+1\n    g.addunstarted();\n\n    this.group = g;\n    //3.è®¾ç½®çº¿ç¨çå¶ä»å±æ§\n    //çº¿ç¨æ¯å¦æ¯å®æ¤çº¿ç¨ä»¥åä¼åçº§é½ç»§æ¿èªå½åçº¿ç¨\n    this.daemon = parent.isdaemon();\n    this.priority = parent.getpriority();\n    this.target = target;\n    //4.è°ç¨init2 æ§è¡å©ä½åå§åæä½\n    init2(parent);\n    //5.è®¾ç½®çº¿ç¨çå æ å¤§å°ãä½æ¯å¦çæè¦çèææºãé£ä¹å¨artèææºä¸æ¯å¦çæå¢ï¼æä»¬åç»­åè¯´\n    /* stash the specified stack size in case the vm cares */\n    this.stacksize = stacksize;\n\n    //6.è®¾ç½®å½åçº¿ç¨id\n    tid = nextthreadid();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nå°è¿éä¸ºæ­¢ï¼æä»¬çthreadå°±å·²ç»åå§åå®æ¯äºãå¨å åå­ä¸­ç­å¾è¿è¢«æ§è¡start()æ¹æ³å¼å§è¿è¡ã\n\n\n# å¯å¨çº¿ç¨\n\nè°ç¨start()æ¹æ³å¼å§å¯å¨çº¿ç¨ã\n\n\n# çè§£ä¸­æ­\n\nå¦æçº¿ç¨éè¦æ§è¡ä¸ä¸ªé¿æ¶é´ä»»å¡ï¼å°±å¯è½éè¦è½ä¸­æ­çº¿ç¨ãä¸­æ­çº¿ç¨å°±æ¯å¶ä»çº¿ç¨ç»è¯¥çº¿ç¨åä¸ä¸ªä¿¡å·ï¼è¯¥çº¿ç¨æ¶å°ä¿¡å·åç»ææ§è¡run()æ¹æ³ï¼ä½¿å¾èªèº«çº¿ç¨è½ç«å»ç»æè¿è¡ã\n\nä¸­æ­å¯ä»¥çè§£ä¸ºçº¿ç¨çä¸ä¸ªæ å¿ä½å±æ§ï¼è°ç¨interrupt()æ¹æ³ä¸­æ­çº¿ç¨ä»ä»æ¯æä¸­æ­æ å¿ä½ç½®ä¸ºtrueï¼çº¿ç¨å¯ä»¥éè¿æ£æ¥èªèº«çæ å¿ä½æ¥å¤æ­æ¯å¦è¢«ä¸­æ­äºã\n\nå¦å¤è¿æä¸¤ç¹éè¦æ³¨æçï¼\n\n * å¦æçº¿ç¨å¤äºç»ç»ç¶æï¼å³ä½¿çº¿ç¨è¢«ä¸­æ­è¿ï¼å¶ä¸­æ­æ è¯ä½ä¾ç¶æ¯false\n * è®¸å¤å£°ææåºinterruptexceptionçæ¹æ³ï¼å¦thread.sleep(long millis)ï¼ï¼å¨æåºinterruptexceptionä¹åä¼å°ä¸­æ­æ è¯ä½ç½®ä¸ºfalseã\n\n\n# å·²ä¸å»ºè®®ä½¿ç¨çæ¹æ³ï¼suspend(),resume(),stop()\n\nsuspend(),resume(),stop()å®æäºçº¿ç¨çæåãæ¢å¤ãåæ­¢ãä½æ¯è¿äºæ¹æ³è¿æäº ä¸å»ºè®®ç»§ç»­ä½¿ç¨ï¼åå æ¯ï¼\n\n 1. suspend()æåçº¿ç¨æ¯ä¸ä¼éæ¾èµæºï¼æ¯å¦éï¼ï¼èæ¯å çèµæºå¥ç¡ ï¼è¿æ ·å®¹æå¼åæ­»é\n 2. stop() ç»æ­¢çº¿ç¨æ¶æ²¡æç»çº¿ç¨æ¸çèµæºçæºä¼ï¼å¯¼è´ç¨åºè¿è¡å¨ä¸ç¡®å®ç¶æ\n\nåèä»£ä¹çæ¯wait()ånotify()/notifyall()ã\n\n\n# å®å¨çç»æ­¢çº¿ç¨\n\nå¯ä»¥éè¿interrupt()æèæ è¯ä½æ¥ä¼éçåæ­¢çº¿ç¨ã\n\npublic class myrunner implements runnable {\n  private volatile boolean on = true;\n    public void run() {\n        while(on){\n          system.out.println("running...");\n        }\n        system.out.println("stoped!");\n    }\n\n    public void cancel(){\n      on  = false;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\néè¿æ è¯ä½æ¥åæ­¢çº¿ç¨\n\npublic class shutdownthread {\n\n    public static void main(string[] args) {\n        thread t1 = new thread(new myrunner().start();\n          t1.cancel();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néè¿interrupt()æ¥åæ­¢çº¿ç¨\n\npublic class shutdownthread {\n\n    public static void main(string[] args) {\n        thread t1 = new thread(new myrunner().start();\n          t1.interrupt();\n    }\n}\n\n1\n2\n3\n4\n5\n6\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"æåçäº§èæ¶è´¹èæ¨¡å",frontmatter:{title:"æåçäº§èæ¶è´¹èæ¨¡å",date:"2022-04-04T14:37:07.000Z",permalink:"/pages/2b8c6e/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/140.%E6%89%8B%E5%86%99%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B.html",relativePath:"01.Javaç¸å³/20.å¹¶å/140.æåçäº§èæ¶è´¹èæ¨¡å.md",key:"v-083aef82",path:"/pages/2b8c6e/",headers:[{level:2,title:"çäº§èæ¶è´¹èæ¨¡å¼è¯´æï¼",slug:"çäº§èæ¶è´¹èæ¨¡å¼è¯´æ",normalizedTitle:"çäº§èæ¶è´¹èæ¨¡å¼è¯´æï¼",charIndex:2},{level:2,title:"å®ç°çå³é®ï¼",slug:"å®ç°çå³é®",normalizedTitle:"å®ç°çå³é®ï¼",charIndex:78},{level:2,title:"ä»£ç å®ç°ï¼",slug:"ä»£ç å®ç°",normalizedTitle:"ä»£ç å®ç°ï¼",charIndex:187},{level:3,title:"ä»åºä»£ç ",slug:"ä»åºä»£ç ",normalizedTitle:"ä»åºä»£ç ",charIndex:226},{level:3,title:"äº§å",slug:"äº§å",normalizedTitle:"äº§å",charIndex:207},{level:3,title:"çäº§è",slug:"çäº§è",normalizedTitle:"çäº§è",charIndex:2},{level:3,title:"æ¶è´¹è",slug:"æ¶è´¹è",normalizedTitle:"æ¶è´¹è",charIndex:5},{level:3,title:"æµè¯ç±»",slug:"æµè¯ç±»",normalizedTitle:"æµè¯ç±»",charIndex:218},{level:3,title:"æµè¯ç±»",slug:"æµè¯ç±»-2",normalizedTitle:"æµè¯ç±»",charIndex:218},{level:2,title:"ä»£ç å³é®ç¹åæ",slug:"ä»£ç å³é®ç¹åæ",normalizedTitle:"ä»£ç å³é®ç¹åæ",charIndex:4098},{level:3,title:"éé®é¢",slug:"éé®é¢",normalizedTitle:"éé®é¢",charIndex:4110},{level:3,title:"çº¿ç¨çç­å¾ä¸éå¯",slug:"çº¿ç¨çç­å¾ä¸éå¯",normalizedTitle:"çº¿ç¨çç­å¾ä¸éå¯",charIndex:4299},{level:3,title:"å¾ªç¯æ¾ç½®å¨ProduceråConsumerç±»çrunæ¹æ³ä¸­",slug:"å¾ªç¯æ¾ç½®å¨produceråconsumerç±»çrunæ¹æ³ä¸­",normalizedTitle:"å¾ªç¯æ¾ç½®å¨produceråconsumerç±»çrunæ¹æ³ä¸­",charIndex:4874},{level:3,title:"æ¶é´å»¶è¿é®é¢",slug:"æ¶é´å»¶è¿é®é¢",normalizedTitle:"æ¶é´å»¶è¿é®é¢",charIndex:5171}],headersStr:"çäº§èæ¶è´¹èæ¨¡å¼è¯´æï¼ å®ç°çå³é®ï¼ ä»£ç å®ç°ï¼ ä»åºä»£ç  äº§å çäº§è æ¶è´¹è æµè¯ç±» æµè¯ç±» ä»£ç å³é®ç¹åæ éé®é¢ çº¿ç¨çç­å¾ä¸éå¯ å¾ªç¯æ¾ç½®å¨ProduceråConsumerç±»çrunæ¹æ³ä¸­ æ¶é´å»¶è¿é®é¢",content:'# çäº§èæ¶è´¹èæ¨¡å¼è¯´æï¼\n\nçäº§èåªå¨ä»åºæªæ»¡æ¶è¿è¡çäº§ï¼ä»åºæ»¡æ¶çäº§èè¿ç¨è¢«é»å¡ï¼ æ¶è´¹èåªå¨ä»åºéç©ºæ¶è¿è¡æ¶è´¹ï¼ä»åºä¸ºç©ºæ¶æ¶è´¹èè¿ç¨è¢«é»å¡ï¼\n\n\n# å®ç°çå³é®ï¼\n\nå±äº«åå­ä¸­çä¸¤ä¸ªåæ­¥æ¹æ³ï¼ååæ­¥æ¹æ³ä¸­wait()æ¹æ³çè°ç¨ã\n\nsynchronized ä¿è¯äºå¯¹è±¡åªè½è¢«ä¸ä¸ªçº¿ç¨å ç¨ã wait ä¿è¯äºå½çº¿ç¨å¨ç­å¾è¿ç¨ä¸­éæ¾éï¼ä½¿å¾å¶ä»å¯¹è±¡ææºä¼è·å¾éã\n\n\n# ä»£ç å®ç°ï¼\n\nä»£ç åå«è¿å ä¸ªé¨åï¼ä»åºãäº§åãçäº§èãæ¶è´¹èãæµè¯ç±»\n\n\n# ä»åºä»£ç \n\nä»åºä»£ç æ ¸å¿æ¹æ³\n\n * public synchronized void produce(T item):çäº§åå\n * public synchronized T consume():æ¶è´¹åå\n\n/**\n * ä»åºç±»ï¼ç¨äºç®¡çäº§åççäº§ãæ¶è´¹åå­å¨ã\n */\npublic class Storage<T> {\n    private int index = 0;\n    private static final int MAX = 10;//æå¤§å®¹é\n    private List<T> storages = new ArrayList<T>(MAX);//å­å¨éå\n\n    public synchronized void produce(T item) {\n        while (index >= MAX) {// å¤æ­ä»åºæ»¡äºï¼åç­å¾ã\n            try {\n                System.out.println("ä»åºæ»¡äºï¼ç­å¾ä¸­...");\n                this.wait();\n                System.out.println("ä»åºä¸æ»¡äºï¼å¼å§çäº§");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println("çäº§>>" + item.toString());\n        storages.add(item);\n        index++;   //åæ·»å itemï¼å¨è¿è¡å 1æä½\n        notify();  //çäº§å® å¤éå¨æ­¤å¯¹è±¡çè§å¨ä¸ç­å¾çåä¸ªçº¿ç¨ï¼å³æ¶è´¹èçº¿ç¨\n    }\n\n    public synchronized T consume() {\n        while (index <= 0) {// å¤æ­ä»åºç©ºäºï¼åç­å¾ã\n            try {\n                System.out.println("ä»åºä¸ºç©ºï¼ç­å¾ä¸­...");\n                this.wait();\n                System.out.println("ä»åºä¸ä¸ºç©ºï¼å¼å§æ¶è´¹");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        index--;//åè¿è¡å1æä½ï¼åremove\n        T item = storages.remove(index);\n        System.out.println("æ¶è´¹>>" + item.toString());\n        notify();\n        return item;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# äº§å\n\npublic class Phone {\n\n    private int id;// ææºç¼å·\n\n    public Phone(int id) {\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return "ææºç¼å·ï¼" + id;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# çäº§è\n\npublic class Producer implements Runnable {\n\n    private Storage<Phone> storage;\n    \n    public Producer(Storage<Phone> storage) {\n        this.storage = storage;\n    }\n\n    public void run() {\n        for(int i = 0;i<20;i++){\n            storage.produce(new Phone(i));\n            \n            try {\n                Thread.sleep(10);//æ¯é10æ¯«ç§çäº§ä¸ä¸ªäº§å\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# æ¶è´¹è\n\npublic class Consumer implements Runnable {\n\n    private Storage<Phone> storage;\n    \n    public Consumer(Storage<Phone> storage) {\n        this.storage = storage;\n    }\n\n    public void run() {\n        for(int i = 0;i<20;i++){\n            storage.consume();\n            try {\n                Thread.sleep(100);//æ¯é100æ¯«ç§æ¶è´¹ä¸ä¸ª\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# æµè¯ç±»\n\npublic class ProducerAndConsumer {\n\n    public static void main(String[] args) {\n        Storage<Phone> storage = new Storage<Phone>();\n        \n        new Thread(new Producer(storage)).start();\n        new Thread(new Consumer(storage)).start();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æµè¯ç±»\n\nçäº§>>ææºç¼å·ï¼0\næ¶è´¹>>ææºç¼å·ï¼0\nçäº§>>ææºç¼å·ï¼1\nçäº§>>ææºç¼å·ï¼2\nçäº§>>ææºç¼å·ï¼3\nçäº§>>ææºç¼å·ï¼4\nçäº§>>ææºç¼å·ï¼5\nçäº§>>ææºç¼å·ï¼6\nçäº§>>ææºç¼å·ï¼7\nçäº§>>ææºç¼å·ï¼8\nçäº§>>ææºç¼å·ï¼9\næ¶è´¹>>ææºç¼å·ï¼9\nçäº§>>ææºç¼å·ï¼10\nçäº§>>ææºç¼å·ï¼11\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼11\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼12\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼12\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼13\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼13\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼14\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼14\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼15\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼15\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼16\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼16\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼17\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼17\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼18\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼18\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼19\næ¶è´¹>>ææºç¼å·ï¼19\næ¶è´¹>>ææºç¼å·ï¼10\næ¶è´¹>>ææºç¼å·ï¼8\næ¶è´¹>>ææºç¼å·ï¼7\næ¶è´¹>>ææºç¼å·ï¼6\næ¶è´¹>>ææºç¼å·ï¼5\næ¶è´¹>>ææºç¼å·ï¼4\næ¶è´¹>>ææºç¼å·ï¼3\næ¶è´¹>>ææºç¼å·ï¼2\næ¶è´¹>>ææºç¼å·ï¼1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# ä»£ç å³é®ç¹åæ\n\n\n# éé®é¢\n\nä»åºç±» Storage ä¸­ æ¹æ³produce(T item) åconsume()è¦ä½¿ç¨å³é®å­synchronizedä¿®é¥°ãä½¿å¾åéindexå¨å¤çº¿ç¨ç¯å¢ä¸çä¿®æ¹æ¶çº¿ç¨å®å¨çã\n\n * public synchronized void produce(T item):çäº§åå\n * public synchronized T consume():æ¶è´¹åå\n\n\n# çº¿ç¨çç­å¾ä¸éå¯\n\nçäº§èçº¿ç¨çç­å¾ï¼ å¨çäº§æ¶è¾¾å°ä»åºçæå¤§å¼åï¼è¦åæ­¢çäº§ï¼æ­¤æ¶éè¦è°ç¨ wait()æ¹æ³ã\n\nwhile (index >= MAX) {// å¤æ­ä»åºæ»¡äºï¼åç­å¾ã\n            try {\n                System.out.println("ä»åºæ»¡äºï¼ç­å¾ä¸­...");\n                this.wait();\n                System.out.println("ä»åºä¸æ»¡äºï¼å¼å§çäº§");\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nçäº§èçº¿ç¨çéå¯ï¼æ¶è´¹åï¼è°ç¨notify()æ¹æ³ å¤é ç­å¾å½åéççº¿ç¨ã\n\n        index--;//åè¿è¡å1æä½ï¼åremove\n        T item = storages.remove(index);\n        System.out.println("æ¶è´¹>>" + item.toString());\n        notify();\n\n\n1\n2\n3\n4\n\n\n\n# å¾ªç¯æ¾ç½®å¨ProduceråConsumerç±»çrunæ¹æ³ä¸­\n\næ¨¡æå¤æ¬¡çäº§/æ¶è´¹ã\n\nfor(int i = 0;i<20;i++){\n            storage.consume();\n            try {\n                Thread.sleep(100);//æ¯é100æ¯«ç§æ¶è´¹ä¸ä¸ª\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ¶é´å»¶è¿é®é¢\n\nThread.sleep(10);sè®¾ç½®æ¯é10æ¯«ç§çäº§ä¸ä¸ªäº§åï¼ æ¨¡æçäº§åæ¶è´¹çéæºè¿ç¨ï¼è¿è¦è®¾ç½®æ¶é´å»¶è¿ï¼å¦åä¼åçåªæçäº§è¾¾å°æå¤§å¼åæä¼å¼å§æ¶è´¹ã\n\npublic void run() {\n        for(int i = 0;i<20;i++){\n            storage.produce(new Phone(i));\n            \n            try {\n                Thread.sleep(10);//æ¯é10æ¯«ç§çäº§ä¸ä¸ªäº§å\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',normalizedContent:'# çäº§èæ¶è´¹èæ¨¡å¼è¯´æï¼\n\nçäº§èåªå¨ä»åºæªæ»¡æ¶è¿è¡çäº§ï¼ä»åºæ»¡æ¶çäº§èè¿ç¨è¢«é»å¡ï¼ æ¶è´¹èåªå¨ä»åºéç©ºæ¶è¿è¡æ¶è´¹ï¼ä»åºä¸ºç©ºæ¶æ¶è´¹èè¿ç¨è¢«é»å¡ï¼\n\n\n# å®ç°çå³é®ï¼\n\nå±äº«åå­ä¸­çä¸¤ä¸ªåæ­¥æ¹æ³ï¼ååæ­¥æ¹æ³ä¸­wait()æ¹æ³çè°ç¨ã\n\nsynchronized ä¿è¯äºå¯¹è±¡åªè½è¢«ä¸ä¸ªçº¿ç¨å ç¨ã wait ä¿è¯äºå½çº¿ç¨å¨ç­å¾è¿ç¨ä¸­éæ¾éï¼ä½¿å¾å¶ä»å¯¹è±¡ææºä¼è·å¾éã\n\n\n# ä»£ç å®ç°ï¼\n\nä»£ç åå«è¿å ä¸ªé¨åï¼ä»åºãäº§åãçäº§èãæ¶è´¹èãæµè¯ç±»\n\n\n# ä»åºä»£ç \n\nä»åºä»£ç æ ¸å¿æ¹æ³\n\n * public synchronized void produce(t item):çäº§åå\n * public synchronized t consume():æ¶è´¹åå\n\n/**\n * ä»åºç±»ï¼ç¨äºç®¡çäº§åççäº§ãæ¶è´¹åå­å¨ã\n */\npublic class storage<t> {\n    private int index = 0;\n    private static final int max = 10;//æå¤§å®¹é\n    private list<t> storages = new arraylist<t>(max);//å­å¨éå\n\n    public synchronized void produce(t item) {\n        while (index >= max) {// å¤æ­ä»åºæ»¡äºï¼åç­å¾ã\n            try {\n                system.out.println("ä»åºæ»¡äºï¼ç­å¾ä¸­...");\n                this.wait();\n                system.out.println("ä»åºä¸æ»¡äºï¼å¼å§çäº§");\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n        }\n        system.out.println("çäº§>>" + item.tostring());\n        storages.add(item);\n        index++;   //åæ·»å itemï¼å¨è¿è¡å 1æä½\n        notify();  //çäº§å® å¤éå¨æ­¤å¯¹è±¡çè§å¨ä¸ç­å¾çåä¸ªçº¿ç¨ï¼å³æ¶è´¹èçº¿ç¨\n    }\n\n    public synchronized t consume() {\n        while (index <= 0) {// å¤æ­ä»åºç©ºäºï¼åç­å¾ã\n            try {\n                system.out.println("ä»åºä¸ºç©ºï¼ç­å¾ä¸­...");\n                this.wait();\n                system.out.println("ä»åºä¸ä¸ºç©ºï¼å¼å§æ¶è´¹");\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n        }\n\n        index--;//åè¿è¡å1æä½ï¼åremove\n        t item = storages.remove(index);\n        system.out.println("æ¶è´¹>>" + item.tostring());\n        notify();\n        return item;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# äº§å\n\npublic class phone {\n\n    private int id;// ææºç¼å·\n\n    public phone(int id) {\n        this.id = id;\n    }\n\n    @override\n    public string tostring() {\n        return "ææºç¼å·ï¼" + id;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# çäº§è\n\npublic class producer implements runnable {\n\n    private storage<phone> storage;\n    \n    public producer(storage<phone> storage) {\n        this.storage = storage;\n    }\n\n    public void run() {\n        for(int i = 0;i<20;i++){\n            storage.produce(new phone(i));\n            \n            try {\n                thread.sleep(10);//æ¯é10æ¯«ç§çäº§ä¸ä¸ªäº§å\n            } catch (interruptedexception e) {\n                // todo auto-generated catch block\n                e.printstacktrace();\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# æ¶è´¹è\n\npublic class consumer implements runnable {\n\n    private storage<phone> storage;\n    \n    public consumer(storage<phone> storage) {\n        this.storage = storage;\n    }\n\n    public void run() {\n        for(int i = 0;i<20;i++){\n            storage.consume();\n            try {\n                thread.sleep(100);//æ¯é100æ¯«ç§æ¶è´¹ä¸ä¸ª\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# æµè¯ç±»\n\npublic class producerandconsumer {\n\n    public static void main(string[] args) {\n        storage<phone> storage = new storage<phone>();\n        \n        new thread(new producer(storage)).start();\n        new thread(new consumer(storage)).start();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æµè¯ç±»\n\nçäº§>>ææºç¼å·ï¼0\næ¶è´¹>>ææºç¼å·ï¼0\nçäº§>>ææºç¼å·ï¼1\nçäº§>>ææºç¼å·ï¼2\nçäº§>>ææºç¼å·ï¼3\nçäº§>>ææºç¼å·ï¼4\nçäº§>>ææºç¼å·ï¼5\nçäº§>>ææºç¼å·ï¼6\nçäº§>>ææºç¼å·ï¼7\nçäº§>>ææºç¼å·ï¼8\nçäº§>>ææºç¼å·ï¼9\næ¶è´¹>>ææºç¼å·ï¼9\nçäº§>>ææºç¼å·ï¼10\nçäº§>>ææºç¼å·ï¼11\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼11\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼12\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼12\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼13\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼13\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼14\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼14\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼15\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼15\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼16\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼16\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼17\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼17\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼18\nä»åºæ»¡äºï¼ç­å¾ä¸­...\næ¶è´¹>>ææºç¼å·ï¼18\nä»åºä¸æ»¡äºï¼å¼å§çäº§\nçäº§>>ææºç¼å·ï¼19\næ¶è´¹>>ææºç¼å·ï¼19\næ¶è´¹>>ææºç¼å·ï¼10\næ¶è´¹>>ææºç¼å·ï¼8\næ¶è´¹>>ææºç¼å·ï¼7\næ¶è´¹>>ææºç¼å·ï¼6\næ¶è´¹>>ææºç¼å·ï¼5\næ¶è´¹>>ææºç¼å·ï¼4\næ¶è´¹>>ææºç¼å·ï¼3\næ¶è´¹>>ææºç¼å·ï¼2\næ¶è´¹>>ææºç¼å·ï¼1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# ä»£ç å³é®ç¹åæ\n\n\n# éé®é¢\n\nä»åºç±» storage ä¸­ æ¹æ³produce(t item) åconsume()è¦ä½¿ç¨å³é®å­synchronizedä¿®é¥°ãä½¿å¾åéindexå¨å¤çº¿ç¨ç¯å¢ä¸çä¿®æ¹æ¶çº¿ç¨å®å¨çã\n\n * public synchronized void produce(t item):çäº§åå\n * public synchronized t consume():æ¶è´¹åå\n\n\n# çº¿ç¨çç­å¾ä¸éå¯\n\nçäº§èçº¿ç¨çç­å¾ï¼ å¨çäº§æ¶è¾¾å°ä»åºçæå¤§å¼åï¼è¦åæ­¢çäº§ï¼æ­¤æ¶éè¦è°ç¨ wait()æ¹æ³ã\n\nwhile (index >= max) {// å¤æ­ä»åºæ»¡äºï¼åç­å¾ã\n            try {\n                system.out.println("ä»åºæ»¡äºï¼ç­å¾ä¸­...");\n                this.wait();\n                system.out.println("ä»åºä¸æ»¡äºï¼å¼å§çäº§");\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nçäº§èçº¿ç¨çéå¯ï¼æ¶è´¹åï¼è°ç¨notify()æ¹æ³ å¤é ç­å¾å½åéççº¿ç¨ã\n\n        index--;//åè¿è¡å1æä½ï¼åremove\n        t item = storages.remove(index);\n        system.out.println("æ¶è´¹>>" + item.tostring());\n        notify();\n\n\n1\n2\n3\n4\n\n\n\n# å¾ªç¯æ¾ç½®å¨produceråconsumerç±»çrunæ¹æ³ä¸­\n\næ¨¡æå¤æ¬¡çäº§/æ¶è´¹ã\n\nfor(int i = 0;i<20;i++){\n            storage.consume();\n            try {\n                thread.sleep(100);//æ¯é100æ¯«ç§æ¶è´¹ä¸ä¸ª\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ¶é´å»¶è¿é®é¢\n\nthread.sleep(10);sè®¾ç½®æ¯é10æ¯«ç§çäº§ä¸ä¸ªäº§åï¼ æ¨¡æçäº§åæ¶è´¹çéæºè¿ç¨ï¼è¿è¦è®¾ç½®æ¶é´å»¶è¿ï¼å¦åä¼åçåªæçäº§è¾¾å°æå¤§å¼åæä¼å¼å§æ¶è´¹ã\n\npublic void run() {\n        for(int i = 0;i<20;i++){\n            storage.produce(new phone(i));\n            \n            try {\n                thread.sleep(10);//æ¯é10æ¯«ç§çäº§ä¸ä¸ªäº§å\n            } catch (interruptedexception e) {\n                // todo auto-generated catch block\n                e.printstacktrace();\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼",frontmatter:{title:"ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼",date:"2022-03-11T00:45:50.000Z",permalink:"/pages/b3e720/",categories:["Javaç¸å³","å¹¶å"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/20.%E5%B9%B6%E5%8F%91/150.ThreadLocal%20%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%BC%B1%E5%BC%95%E7%94%A8%EF%BC%9F.html",relativePath:"01.Javaç¸å³/20.å¹¶å/150.ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼.md",key:"v-f406b4e6",path:"/pages/b3e720/",headers:[{level:2,title:"ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼",slug:"threadlocal-å®ç°åçæ¯ä»ä¹-ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨",normalizedTitle:"threadlocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼",charIndex:2},{level:2,title:"ThreadLocalè§£å³ä»ä¹é®é¢ï¼",slug:"threadlocalè§£å³ä»ä¹é®é¢",normalizedTitle:"threadlocalè§£å³ä»ä¹é®é¢ï¼",charIndex:57},{level:2,title:"ThreadLocalåºå±æ¯ä»ä¹æ°æ®ç»æï¼",slug:"threadlocalåºå±æ¯ä»ä¹æ°æ®ç»æ",normalizedTitle:"threadlocalåºå±æ¯ä»ä¹æ°æ®ç»æï¼",charIndex:382},{level:2,title:"ThreadLocalæä»ä¹åºç¨åºæ¯ï¼",slug:"threadlocalæä»ä¹åºç¨åºæ¯",normalizedTitle:"threadlocalæä»ä¹åºç¨åºæ¯ï¼",charIndex:1520},{level:2,title:"ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼",slug:"ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨",normalizedTitle:"ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼",charIndex:22},{level:2,title:"å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ ThreadLocal åï¼",slug:"å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿-threadlocal-å",normalizedTitle:"å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ threadlocal åï¼",charIndex:109},{level:2,title:"ThreadLocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼",slug:"threadlocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäº",normalizedTitle:"threadlocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼",charIndex:135},{level:2,title:"ä½¿ç¨ ThreadLocal å¦ä½é²æ­¢åå­æ³æ¼ ï¼",slug:"ä½¿ç¨-threadlocal-å¦ä½é²æ­¢åå­æ³æ¼",normalizedTitle:"ä½¿ç¨ threadlocal å¦ä½é²æ­¢åå­æ³æ¼ ï¼",charIndex:3009},{level:2,title:"Netty çFastThreadLocal fastå¨åªéï¼",slug:"netty-çfastthreadlocal-fastå¨åªé",normalizedTitle:"netty çfastthreadlocal fastå¨åªéï¼",charIndex:171},{level:2,title:"FastThreadLocal æ§è½ æ¯ ThreadLocal é«å¤å°ï¼",slug:"fastthreadlocal-æ§è½-æ¯-threadlocal-é«å¤å°",normalizedTitle:"fastthreadlocal æ§è½ æ¯ threadlocal é«å¤å°ï¼",charIndex:4196}],headersStr:"ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼ ThreadLocalè§£å³ä»ä¹é®é¢ï¼ ThreadLocalåºå±æ¯ä»ä¹æ°æ®ç»æï¼ ThreadLocalæä»ä¹åºç¨åºæ¯ï¼ ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼ å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ ThreadLocal åï¼ ThreadLocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼ ä½¿ç¨ ThreadLocal å¦ä½é²æ­¢åå­æ³æ¼ ï¼ Netty çFastThreadLocal fastå¨åªéï¼ FastThreadLocal æ§è½ æ¯ ThreadLocal é«å¤å°ï¼",content:'# ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼\n\nThreadLocalå¯ä»¥é®çç¹æå¾å¤ï¼æ¯å¦ï¼ThreadLocalè§£å³ä»ä¹é®é¢ï¼åºå±ç»ææ¯ä»ä¹ï¼å®ç°åçæ¯ä»ä¹ï¼æä»ä¹åºç¨åºæ¯ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ ThreadLocal åï¼ThreadLocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼æ­£ç¡®çä½¿ç¨å§¿å¿æ¯ï¼Netty çFastThreadLocal fastå¨åªéï¼\nä¸é¢æä»¬ä¸ä¸ªä¸ªæ¥çä¸è¿äºé®é¢ã\n\n\n\n# ThreadLocalè§£å³ä»ä¹é®é¢ï¼\n\n\néå¸¸æåµä¸ï¼æä»¬åå»ºçåéä»»ä½çº¿ç¨æ¥è¯»åè¯»å°çé½æ¯åä¸ä¸ªå¼ï¼å¦ææ³å®ç°æ¯ä¸ä¸ªçº¿ç¨é½æèªå·±çä¸å±å¼è¯¥å¦ä½è§£å³å¢\nï¼JDKä¸­æä¾çThreadLocalç±»æ­£æ¯ä¸ºäºè§£å³è¿æ ·çé®é¢ã\næ¯å¦SimpleDateFormat ä¸æ¯çº¿ç¨å®å¨çï¼æä»¥æ¯ä¸ªçº¿ç¨é½è¦æèªå·±ç¬ç«çå¯æ¬\n\n\n\n# ThreadLocalåºå±æ¯ä»ä¹æ°æ®ç»æï¼\n\n\nå®éä¸æ¯Mapï¼Keyä¸ºThreadLocalåéãvalueä¸ºå¼ã\n\n\n\n\næä»¬åçä¸Threadç±»çæºç \n\npublic class Thread implements Runnable {\n ......\n//ä¸æ­¤çº¿ç¨æå³çThreadLocalå¼ãç±ThreadLocalç±»ç»´æ¤\nThreadLocal.ThreadLocalMap threadLocals = null;\n\n/*\n * InheritableThreadLocalï¼èªç¶çº¿ç¨éæèæ¥çThreadLocalMapï¼\n * ä¸»è¦ç¨äºç¶å­çº¿ç¨é´ThreadLocalåéçä¼ é\n * æ¬æä¸»è¦è®¨è®ºçå°±æ¯è¿ä¸ªThreadLocalMap\n */\nThreadLocal.ThreadLocalMap inheritableThreadLocals = null;\n ......\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næä»¬å¯ä»¥æ ThreadLocal.ThreadLocalMap çè§£ä¸ºThreadLocal ç±»å®ç°çå®å¶åç HashMap. æä»¬åæ¥çä¸ ThreadLocal ç±»çæºç \n\n    //è°ç¨Thread.set å®éä¸æ¯å¾å½åçº¿ç¨ç ThreadLocalMap éé¢putä¸ä¸ªé®å¼å¯¹\n    public void set(T value) {\n        Thread t = Thread.currentThread();\n        ThreadLocalMap map = getMap(t);\n        if (map != null)\n            map.set(this, value);\n        else\n            createMap(t, value);\n    }\n\n    //è°ç¨Thread.getMap å¯ä»¥è·åå°å½åçº¿ç¨ç ThreadLocalMap\n    ThreadLocalMap getMap(Thread t) {\n        return t.threadLocals;\n    }\n\n    //ThreadLocalMapå¯ä»¥å­å¨ä»¥ThreadLocalä¸ºkey ï¼Object å¯¹è±¡ä¸º valueçé®å¼å¯¹ã\n    ThreadLocalMap(ThreadLocal<?> firstKey, Object firstValue) {\n        ......\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# ThreadLocalæä»ä¹åºç¨åºæ¯ï¼\n\n\n * éçº¿ç¨å®å¨çå·¥å·ç±»ï¼éè¦æ¯ä¸ªçº¿ç¨ææä¸ä¸ªå¯æ¬ï¼æ¯å¦ SimpleDateFormat\n * å¼æ­¥ä¼ étraceId\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼\n\n\nThreadLocalMapçåé¨ç±»Entryè¢«è®¾è®¡ä¸ºå®ç°äºWeakReferenceï¼Entryç¨æ¥å­æ¾æ°æ®ã\n\n\nå¼±å¼ç¨ç®åçè§£å°±æ¯å½åå¾åæ¶æ¶ï¼è¯¥å¯¹è±¡åªè¢«WeakReferenceå¯¹è±¡çå¼±å¼ç¨å­æ®µæå¼ç¨ï¼èæªè¢«ä»»ä½å¼ºç±»åçå¯¹è±¡å¼ç¨ï¼é£ä¹ï¼è¯¥å¼±å¼ç¨çå¯¹è±¡å°±ä¼è¢«åæ¶ã\næ³¨æï¼WeakReferenceå¼ç¨æ¬èº«æ¯å¼ºå¼ç¨ï¼å®åé¨çï¼T referenceï¼ææ¯çæ­£çå¼±å¼ç¨å­æ®µï¼WeakReferenceå°±æ¯ä¸ä¸ªè£å¼±å¼ç¨çå®¹å¨èå·²ã\né£ ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨å¢ï¼\nè¿æ¯å ä¸ºï¼ThreadLocalMapæ¬èº«å¹¶æ²¡æä¸ºå¤çæä¾ååºåå­æ¾æ°æ®çAPIï¼æä»¬æè½è·å¾æ°æ®çæ¹å¼åªæéè¿ThreadLocalç±»æä¾çAPIæ¥é´æ¥çä»ThreadLocalMapååºæ°æ®ï¼æä»¥ï¼å½æä»¬ç¨ä¸äºkeyï¼ThreadLocalå¯¹è±¡ï¼çAPIä¹å°±æ æ³ä»ThreadLocalMapéååºæå®çæ°æ®ã\n\nä¸è¬æä»¬new ä¸ä¸ªThreadLocalå¯¹è±¡çæ¶åï¼å®ä¸å®ä¼æå¼ºå¼ç¨ï¼å¨ThreadLocalMapä¸­ä¹ä¸å®ä¼æå®çå¼±å¼ç¨\nå½å¼ºå¼ç¨ä¸å¨çæ¶åä¸å®æ¯æä»¬çç¨åºä¸åéè¦è¿ä¸ªThreadLocalå¯¹è±¡äº ä¸ºä»ä¹è¿ä¹è¯´ï¼\næ¯å¦æå®ä¹äºä¸ä¸ª ThreadLocal åé formatterï¼formatter å¯¹ ThreadLocal åéçå¼ºå¼ç¨å³ç³»ä¸å­å¨çä¸ä¸ªcase æ¯getDate()æ¹æ³æ§è¡å®äºï¼é£ä¹å½ç¶ThreadLocal åéæ¯å¯ä»¥åæ¶çã\n\n\npublic void getDate(){\n\n    ThreadLocal<SimpleDateFormat> formatter = ThreadLocal.withInitial(() -> new SimpleDateFormat("yyyyMMdd HHmm"));\n    ......\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ ThreadLocal åï¼\n\n\nThreadLocal ä¸å¯ä»¥ãInheritableThreadLocals æ¯å¯ä»¥çï¼å®éåäºThreadLocalçä¸ä¸ªæ¹æ³ãchildValueï¼createMapï¼getMapã\n\n\nInheritableThreadLocal ä¸è½åçº¿ç¨æ± æ­éä½¿ç¨\nå ä¸ºçº¿ç¨æ± ä¸­ççº¿ç¨æ¯å¤ç¨çï¼å¹¶æ²¡æéæ°åå§åçº¿ç¨ï¼InheritableThreadLocalä¹æä»¥èµ·ä½ç¨æ¯å ä¸ºå¨Threadç±»ä¸­æç»ä¼è°ç¨init()æ¹æ³å»æInheritableThreadLocalçmapå¤å¶å°å­çº¿ç¨ä¸­ã\nç±äºçº¿ç¨æ± å¤ç¨äºå·²æçº¿ç¨ï¼æä»¥æ²¡æè°ç¨init()æ¹æ³è¿ä¸ªè¿ç¨ï¼ä¹å°±ä¸è½å°ç¶çº¿ç¨ä¸­çInheritableThreadLocalå¼ä¼ ç»å­çº¿ç¨ã\n\n\n# ThreadLocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼\n\n\nThreadLocalMap ä¸­ä½¿ç¨ç key ä¸º ThreadLocal çå¼±å¼ç¨,è value æ¯å¼ºå¼ç¨ã\næä»¥ï¼å¦æ ThreadLocal æ²¡æè¢«å¤é¨å¼ºå¼ç¨çæåµä¸ï¼å¨åå¾åæ¶çæ¶åï¼key ä¼è¢«æ¸çæï¼è value ä¸ä¼è¢«æ¸çæã\nè¿æ ·ä¸æ¥ï¼ThreadLocalMap ä¸­å°±ä¼åºç°keyä¸ºnullçEntryãåå¦æä»¬ä¸åä»»ä½æªæ½çè¯ï¼value æ°¸è¿æ æ³è¢«GC åæ¶ï¼è¿ä¸ªæ¶åå°±å¯è½ä¼äº§çåå­æ³é²ã\n\n\n\n# ä½¿ç¨ ThreadLocal å¦ä½é²æ­¢åå­æ³æ¼ ï¼\n\n\nä½¿ç¨å® ThreadLocal æå¨è°ç¨removeæ¹æ³ã çä¸ ThreadLocal ç remove() ä¼æ¸ç ThreadLocalMap ä¸­ key ä¸º nullçé®å¼å¯¹ã\n\npublic void remove() {\n    ThreadLocalMap m = getMap(Thread.currentThread());\n    if (m != null)\n        m.remove(this);\n}\n\n\n1\n2\n3\n4\n5\n\n\nThreadLocal ç get() ææ¸é¤æä½ï¼é£æä»¬æ¯ä¸æ¯ä¸ç¨æå¨è°ç¨ remove() äºï¼\nä¸æ¯çãå ä¸º get() ä¸­æ¸é¤æä½ åªä¼æ£æµæ¬æ¬¡getç ThreadLocal åéæ¯å¦éè¦æ¸ç ãè remove() ä¼æ£æµ ThreadLocalMap ä¸­çææé®å¼å¯¹ã\n\n\næä»¥ï¼æå¨è°ç¨remove() ææ¯æä¿é©çã\n\n\n\n# Netty çFastThreadLocal fastå¨åªéï¼\n\n\næ¢ç¶jdkå·²ç»æThreadLocalï¼ä¸ºä½nettyè¿è¦èªå·±é ä¸ªFastThreadLocalï¼FastThreadLocalå¿«å¨åªéï¼\nè¿éè¦ä»jdk ThreadLocalçæ¬èº«è¯´èµ·ãå¦ä¸å¾ï¼\nå¨javaçº¿ç¨ä¸­ï¼æ¯ä¸ªçº¿ç¨é½æä¸ä¸ªThreadLocalMapå®ä¾åéï¼å¦æä¸ä½¿ç¨ThreadLocalï¼ä¸ä¼åå»ºè¿ä¸ªMapï¼ä¸ä¸ªçº¿ç¨ç¬¬ä¸æ¬¡è®¿é®æä¸ªThreadLocalåéæ¶ï¼æä¼åå»ºï¼ãè¯¥Mapæ¯ä½¿ç¨çº¿æ§æ¢æµçæ¹å¼è§£å³hashå²çªçé®é¢ï¼å¦ææ²¡ææ¾å°ç©ºé²çslotï¼å°±ä¸æ­å¾åå°è¯ï¼ç´å°æ¾å°ä¸ä¸ªç©ºé²çä½ç½®ï¼æå¥entryï¼è¿ç§æ¹å¼å¨ç»å¸¸éå°hashå²çªæ¶ï¼å½±åæçã\n\nFastThreadLocal(ä¸æç®ç§°ftl)ç´æ¥ä½¿ç¨æ°ç»é¿åäºhashå²çªçåçï¼å·ä½åæ³æ¯ï¼æ¯ä¸ä¸ªFastThreadLocalå®ä¾åå»ºæ¶ï¼åéä¸ä¸ªä¸æ indexï¼åéindexä½¿ç¨AtomicIntegerå®ç°ï¼æ¯ä¸ªFastThreadLocalé½è½è·åå°ä¸ä¸ªä¸éå¤çä¸æ ãå½è°ç¨ftl.get()æ¹æ³è·åå¼æ¶ï¼ç´æ¥ä»æ°ç»è·åè¿åï¼å¦return array[index]ï¼å¦ä¸å¾ï¼\n\nFastThreadLocal åºå±ç»æä»£ç \n\nstatic final ThreadLocal<InternalThreadLocalMap> slowThreadLocalMap = new ThreadLocal<InternalThreadLocalMap>();\nstatic final AtomicInteger nextIndex = new AtomicInteger();\nObject[] indexedVariables;\n\n\n1\n2\n3\n\n\n\n# FastThreadLocal æ§è½ æ¯ ThreadLocal é«å¤å°ï¼\n\n\nè¿é«äºã\nFastThreadLocal å¯¹ ThreadLocal çä¼åç¹å¨äºï¼å°åç´ æ¾å¥ ThreadLocalMap éç¨æ°ç»ç»æéæºè®¿é®ä»£æ¿ åæ¥ç çº¿æ§æ¢æµã æä»¥æä»¬æµè¯åºæ¯ä¸ºï¼åçº¿ç¨è®¿é®å¤ FastThreadLocal/ThreadLocal åé:\n\n/**\n * åçº¿ç¨è®¿é®å¤ä¸ªThreadLocal\n */\npublic static void testThreadLocalWithMultipleThreadLocal() {\n    ThreadLocal<String> threadLocal[] = new ThreadLocal[count];\n    for (int i = 0; i < count; i++) {\n        threadLocal[i] = new ThreadLocal<String>();\n    }\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            long start = System.currentTimeMillis();\n            for (int i = 0; i < count; i++) {\n                threadLocal[i].set("value" + i);\n            }\n            long middle = System.currentTimeMillis();\n            for (int i = 0; i < count; i++) {\n                for (int j = 0; j < count; j++) {\n                    threadLocal[i].get();\n                }\n            }\n            long end = System.currentTimeMillis();\n            System.out.println("testThreadLocalWithMultipleThreadLocal set:" + (middle - start) + ",get:" + (end - middle));\n        }\n    }).start();\n}\n\n/**\n * åçº¿ç¨è®¿é®å¤ä¸ªFastThreadLocal\n */\npublic static void testFastThreadLocalWithMultipleFastThreadLocal() {\n    FastThreadLocal<String> threadLocal[] = new FastThreadLocal[count];\n    for (int i = 0; i < count; i++) {\n        threadLocal[i] = new FastThreadLocal<String>();\n    }\n    new FastThreadLocalThread(new Runnable() {\n        @Override\n        public void run() {\n            long start = System.currentTimeMillis();\n            for (int i = 0; i < count; i++) {\n                threadLocal[i].set("value" + i);\n            }\n            long middle = System.currentTimeMillis();\n            for (int i = 0; i < count; i++) {\n                for (int j = 0; j < count; j++) {\n                    threadLocal[i].get();\n                }\n            }\n            long end = System.currentTimeMillis();\n            System.out.println("testFastThreadLocalWithMultipleFastThreadLocal set:" + (middle - start) + ",get:" + (end - middle));\n        }\n    }).start();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n\n\nè¾åº:\n\ntestThreadLocalWithMultipleThreadLocal set:68,get:21492\ntestFastThreadLocalWithMultipleFastThreadLocal set:61,get:8\n\n\n\n\n1\n2\n3\n4\n\n\næç»æå¯ç¥ï¼FastThreadLocal æ§è½è¿é«äº ThreadLocalã',normalizedContent:'# threadlocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼\n\nthreadlocalå¯ä»¥é®çç¹æå¾å¤ï¼æ¯å¦ï¼threadlocalè§£å³ä»ä¹é®é¢ï¼åºå±ç»ææ¯ä»ä¹ï¼å®ç°åçæ¯ä»ä¹ï¼æä»ä¹åºç¨åºæ¯ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ threadlocal åï¼threadlocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼æ­£ç¡®çä½¿ç¨å§¿å¿æ¯ï¼netty çfastthreadlocal fastå¨åªéï¼\nä¸é¢æä»¬ä¸ä¸ªä¸ªæ¥çä¸è¿äºé®é¢ã\n\n\n\n# threadlocalè§£å³ä»ä¹é®é¢ï¼\n\n\néå¸¸æåµä¸ï¼æä»¬åå»ºçåéä»»ä½çº¿ç¨æ¥è¯»åè¯»å°çé½æ¯åä¸ä¸ªå¼ï¼å¦ææ³å®ç°æ¯ä¸ä¸ªçº¿ç¨é½æèªå·±çä¸å±å¼è¯¥å¦ä½è§£å³å¢\nï¼jdkä¸­æä¾çthreadlocalç±»æ­£æ¯ä¸ºäºè§£å³è¿æ ·çé®é¢ã\næ¯å¦simpledateformat ä¸æ¯çº¿ç¨å®å¨çï¼æä»¥æ¯ä¸ªçº¿ç¨é½è¦æèªå·±ç¬ç«çå¯æ¬\n\n\n\n# threadlocalåºå±æ¯ä»ä¹æ°æ®ç»æï¼\n\n\nå®éä¸æ¯mapï¼keyä¸ºthreadlocalåéãvalueä¸ºå¼ã\n\n\n\n\næä»¬åçä¸threadç±»çæºç \n\npublic class thread implements runnable {\n ......\n//ä¸æ­¤çº¿ç¨æå³çthreadlocalå¼ãç±threadlocalç±»ç»´æ¤\nthreadlocal.threadlocalmap threadlocals = null;\n\n/*\n * inheritablethreadlocalï¼èªç¶çº¿ç¨éæèæ¥çthreadlocalmapï¼\n * ä¸»è¦ç¨äºç¶å­çº¿ç¨é´threadlocalåéçä¼ é\n * æ¬æä¸»è¦è®¨è®ºçå°±æ¯è¿ä¸ªthreadlocalmap\n */\nthreadlocal.threadlocalmap inheritablethreadlocals = null;\n ......\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næä»¬å¯ä»¥æ threadlocal.threadlocalmap çè§£ä¸ºthreadlocal ç±»å®ç°çå®å¶åç hashmap. æä»¬åæ¥çä¸ threadlocal ç±»çæºç \n\n    //è°ç¨thread.set å®éä¸æ¯å¾å½åçº¿ç¨ç threadlocalmap éé¢putä¸ä¸ªé®å¼å¯¹\n    public void set(t value) {\n        thread t = thread.currentthread();\n        threadlocalmap map = getmap(t);\n        if (map != null)\n            map.set(this, value);\n        else\n            createmap(t, value);\n    }\n\n    //è°ç¨thread.getmap å¯ä»¥è·åå°å½åçº¿ç¨ç threadlocalmap\n    threadlocalmap getmap(thread t) {\n        return t.threadlocals;\n    }\n\n    //threadlocalmapå¯ä»¥å­å¨ä»¥threadlocalä¸ºkey ï¼object å¯¹è±¡ä¸º valueçé®å¼å¯¹ã\n    threadlocalmap(threadlocal<?> firstkey, object firstvalue) {\n        ......\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# threadlocalæä»ä¹åºç¨åºæ¯ï¼\n\n\n * éçº¿ç¨å®å¨çå·¥å·ç±»ï¼éè¦æ¯ä¸ªçº¿ç¨ææä¸ä¸ªå¯æ¬ï¼æ¯å¦ simpledateformat\n * å¼æ­¥ä¼ étraceid\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼\n\n\nthreadlocalmapçåé¨ç±»entryè¢«è®¾è®¡ä¸ºå®ç°äºweakreferenceï¼entryç¨æ¥å­æ¾æ°æ®ã\n\n\nå¼±å¼ç¨ç®åçè§£å°±æ¯å½åå¾åæ¶æ¶ï¼è¯¥å¯¹è±¡åªè¢«weakreferenceå¯¹è±¡çå¼±å¼ç¨å­æ®µæå¼ç¨ï¼èæªè¢«ä»»ä½å¼ºç±»åçå¯¹è±¡å¼ç¨ï¼é£ä¹ï¼è¯¥å¼±å¼ç¨çå¯¹è±¡å°±ä¼è¢«åæ¶ã\næ³¨æï¼weakreferenceå¼ç¨æ¬èº«æ¯å¼ºå¼ç¨ï¼å®åé¨çï¼t referenceï¼ææ¯çæ­£çå¼±å¼ç¨å­æ®µï¼weakreferenceå°±æ¯ä¸ä¸ªè£å¼±å¼ç¨çå®¹å¨èå·²ã\né£ ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨å¢ï¼\nè¿æ¯å ä¸ºï¼threadlocalmapæ¬èº«å¹¶æ²¡æä¸ºå¤çæä¾ååºåå­æ¾æ°æ®çapiï¼æä»¬æè½è·å¾æ°æ®çæ¹å¼åªæéè¿threadlocalç±»æä¾çapiæ¥é´æ¥çä»threadlocalmapååºæ°æ®ï¼æä»¥ï¼å½æä»¬ç¨ä¸äºkeyï¼threadlocalå¯¹è±¡ï¼çapiä¹å°±æ æ³ä»threadlocalmapéååºæå®çæ°æ®ã\n\nä¸è¬æä»¬new ä¸ä¸ªthreadlocalå¯¹è±¡çæ¶åï¼å®ä¸å®ä¼æå¼ºå¼ç¨ï¼å¨threadlocalmapä¸­ä¹ä¸å®ä¼æå®çå¼±å¼ç¨\nå½å¼ºå¼ç¨ä¸å¨çæ¶åä¸å®æ¯æä»¬çç¨åºä¸åéè¦è¿ä¸ªthreadlocalå¯¹è±¡äº ä¸ºä»ä¹è¿ä¹è¯´ï¼\næ¯å¦æå®ä¹äºä¸ä¸ª threadlocal åé formatterï¼formatter å¯¹ threadlocal åéçå¼ºå¼ç¨å³ç³»ä¸å­å¨çä¸ä¸ªcase æ¯getdate()æ¹æ³æ§è¡å®äºï¼é£ä¹å½ç¶threadlocal åéæ¯å¯ä»¥åæ¶çã\n\n\npublic void getdate(){\n\n    threadlocal<simpledateformat> formatter = threadlocal.withinitial(() -> new simpledateformat("yyyymmdd hhmm"));\n    ......\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å­çº¿ç¨å¯ä»¥ä»ç¶çº¿ç¨ç»§æ¿ threadlocal åï¼\n\n\nthreadlocal ä¸å¯ä»¥ãinheritablethreadlocals æ¯å¯ä»¥çï¼å®éåäºthreadlocalçä¸ä¸ªæ¹æ³ãchildvalueï¼createmapï¼getmapã\n\n\ninheritablethreadlocal ä¸è½åçº¿ç¨æ± æ­éä½¿ç¨\nå ä¸ºçº¿ç¨æ± ä¸­ççº¿ç¨æ¯å¤ç¨çï¼å¹¶æ²¡æéæ°åå§åçº¿ç¨ï¼inheritablethreadlocalä¹æä»¥èµ·ä½ç¨æ¯å ä¸ºå¨threadç±»ä¸­æç»ä¼è°ç¨init()æ¹æ³å»æinheritablethreadlocalçmapå¤å¶å°å­çº¿ç¨ä¸­ã\nç±äºçº¿ç¨æ± å¤ç¨äºå·²æçº¿ç¨ï¼æä»¥æ²¡æè°ç¨init()æ¹æ³è¿ä¸ªè¿ç¨ï¼ä¹å°±ä¸è½å°ç¶çº¿ç¨ä¸­çinheritablethreadlocalå¼ä¼ ç»å­çº¿ç¨ã\n\n\n# threadlocalä½¿ç¨ä¸å½ä¼æåå­æ³æ¼æ¯æä¹åäºï¼\n\n\nthreadlocalmap ä¸­ä½¿ç¨ç key ä¸º threadlocal çå¼±å¼ç¨,è value æ¯å¼ºå¼ç¨ã\næä»¥ï¼å¦æ threadlocal æ²¡æè¢«å¤é¨å¼ºå¼ç¨çæåµä¸ï¼å¨åå¾åæ¶çæ¶åï¼key ä¼è¢«æ¸çæï¼è value ä¸ä¼è¢«æ¸çæã\nè¿æ ·ä¸æ¥ï¼threadlocalmap ä¸­å°±ä¼åºç°keyä¸ºnullçentryãåå¦æä»¬ä¸åä»»ä½æªæ½çè¯ï¼value æ°¸è¿æ æ³è¢«gc åæ¶ï¼è¿ä¸ªæ¶åå°±å¯è½ä¼äº§çåå­æ³é²ã\n\n\n\n# ä½¿ç¨ threadlocal å¦ä½é²æ­¢åå­æ³æ¼ ï¼\n\n\nä½¿ç¨å® threadlocal æå¨è°ç¨removeæ¹æ³ã çä¸ threadlocal ç remove() ä¼æ¸ç threadlocalmap ä¸­ key ä¸º nullçé®å¼å¯¹ã\n\npublic void remove() {\n    threadlocalmap m = getmap(thread.currentthread());\n    if (m != null)\n        m.remove(this);\n}\n\n\n1\n2\n3\n4\n5\n\n\nthreadlocal ç get() ææ¸é¤æä½ï¼é£æä»¬æ¯ä¸æ¯ä¸ç¨æå¨è°ç¨ remove() äºï¼\nä¸æ¯çãå ä¸º get() ä¸­æ¸é¤æä½ åªä¼æ£æµæ¬æ¬¡getç threadlocal åéæ¯å¦éè¦æ¸ç ãè remove() ä¼æ£æµ threadlocalmap ä¸­çææé®å¼å¯¹ã\n\n\næä»¥ï¼æå¨è°ç¨remove() ææ¯æä¿é©çã\n\n\n\n# netty çfastthreadlocal fastå¨åªéï¼\n\n\næ¢ç¶jdkå·²ç»æthreadlocalï¼ä¸ºä½nettyè¿è¦èªå·±é ä¸ªfastthreadlocalï¼fastthreadlocalå¿«å¨åªéï¼\nè¿éè¦ä»jdk threadlocalçæ¬èº«è¯´èµ·ãå¦ä¸å¾ï¼\nå¨javaçº¿ç¨ä¸­ï¼æ¯ä¸ªçº¿ç¨é½æä¸ä¸ªthreadlocalmapå®ä¾åéï¼å¦æä¸ä½¿ç¨threadlocalï¼ä¸ä¼åå»ºè¿ä¸ªmapï¼ä¸ä¸ªçº¿ç¨ç¬¬ä¸æ¬¡è®¿é®æä¸ªthreadlocalåéæ¶ï¼æä¼åå»ºï¼ãè¯¥mapæ¯ä½¿ç¨çº¿æ§æ¢æµçæ¹å¼è§£å³hashå²çªçé®é¢ï¼å¦ææ²¡ææ¾å°ç©ºé²çslotï¼å°±ä¸æ­å¾åå°è¯ï¼ç´å°æ¾å°ä¸ä¸ªç©ºé²çä½ç½®ï¼æå¥entryï¼è¿ç§æ¹å¼å¨ç»å¸¸éå°hashå²çªæ¶ï¼å½±åæçã\n\nfastthreadlocal(ä¸æç®ç§°ftl)ç´æ¥ä½¿ç¨æ°ç»é¿åäºhashå²çªçåçï¼å·ä½åæ³æ¯ï¼æ¯ä¸ä¸ªfastthreadlocalå®ä¾åå»ºæ¶ï¼åéä¸ä¸ªä¸æ indexï¼åéindexä½¿ç¨atomicintegerå®ç°ï¼æ¯ä¸ªfastthreadlocalé½è½è·åå°ä¸ä¸ªä¸éå¤çä¸æ ãå½è°ç¨ftl.get()æ¹æ³è·åå¼æ¶ï¼ç´æ¥ä»æ°ç»è·åè¿åï¼å¦return array[index]ï¼å¦ä¸å¾ï¼\n\nfastthreadlocal åºå±ç»æä»£ç \n\nstatic final threadlocal<internalthreadlocalmap> slowthreadlocalmap = new threadlocal<internalthreadlocalmap>();\nstatic final atomicinteger nextindex = new atomicinteger();\nobject[] indexedvariables;\n\n\n1\n2\n3\n\n\n\n# fastthreadlocal æ§è½ æ¯ threadlocal é«å¤å°ï¼\n\n\nè¿é«äºã\nfastthreadlocal å¯¹ threadlocal çä¼åç¹å¨äºï¼å°åç´ æ¾å¥ threadlocalmap éç¨æ°ç»ç»æéæºè®¿é®ä»£æ¿ åæ¥ç çº¿æ§æ¢æµã æä»¥æä»¬æµè¯åºæ¯ä¸ºï¼åçº¿ç¨è®¿é®å¤ fastthreadlocal/threadlocal åé:\n\n/**\n * åçº¿ç¨è®¿é®å¤ä¸ªthreadlocal\n */\npublic static void testthreadlocalwithmultiplethreadlocal() {\n    threadlocal<string> threadlocal[] = new threadlocal[count];\n    for (int i = 0; i < count; i++) {\n        threadlocal[i] = new threadlocal<string>();\n    }\n    new thread(new runnable() {\n        @override\n        public void run() {\n            long start = system.currenttimemillis();\n            for (int i = 0; i < count; i++) {\n                threadlocal[i].set("value" + i);\n            }\n            long middle = system.currenttimemillis();\n            for (int i = 0; i < count; i++) {\n                for (int j = 0; j < count; j++) {\n                    threadlocal[i].get();\n                }\n            }\n            long end = system.currenttimemillis();\n            system.out.println("testthreadlocalwithmultiplethreadlocal set:" + (middle - start) + ",get:" + (end - middle));\n        }\n    }).start();\n}\n\n/**\n * åçº¿ç¨è®¿é®å¤ä¸ªfastthreadlocal\n */\npublic static void testfastthreadlocalwithmultiplefastthreadlocal() {\n    fastthreadlocal<string> threadlocal[] = new fastthreadlocal[count];\n    for (int i = 0; i < count; i++) {\n        threadlocal[i] = new fastthreadlocal<string>();\n    }\n    new fastthreadlocalthread(new runnable() {\n        @override\n        public void run() {\n            long start = system.currenttimemillis();\n            for (int i = 0; i < count; i++) {\n                threadlocal[i].set("value" + i);\n            }\n            long middle = system.currenttimemillis();\n            for (int i = 0; i < count; i++) {\n                for (int j = 0; j < count; j++) {\n                    threadlocal[i].get();\n                }\n            }\n            long end = system.currenttimemillis();\n            system.out.println("testfastthreadlocalwithmultiplefastthreadlocal set:" + (middle - start) + ",get:" + (end - middle));\n        }\n    }).start();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n\n\nè¾åº:\n\ntestthreadlocalwithmultiplethreadlocal set:68,get:21492\ntestfastthreadlocalwithmultiplefastthreadlocal set:61,get:8\n\n\n\n\n1\n2\n3\n4\n\n\næç»æå¯ç¥ï¼fastthreadlocal æ§è½è¿é«äº threadlocalã',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"å¸¸è§ç GC åæ¶ç®æ³æåªäºï¼",frontmatter:{title:"å¸¸è§ç GC åæ¶ç®æ³æåªäºï¼",date:"2022-09-18T19:01:29.000Z",permalink:"/pages/9b26e8/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/010.%E5%B8%B8%E8%A7%81%E7%9A%84%20GC%20%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/010.å¸¸è§ç GC åæ¶ç®æ³æåªäºï¼.md",key:"v-af821fc8",path:"/pages/9b26e8/",headers:[{level:2,title:"æ è®°-æ¸é¤ç®æ³",slug:"æ è®°-æ¸é¤ç®æ³",normalizedTitle:"æ è®°-æ¸é¤ç®æ³",charIndex:2},{level:2,title:"æ è®°-å¤å¶ç®æ³",slug:"æ è®°-å¤å¶ç®æ³",normalizedTitle:"æ è®°-å¤å¶ç®æ³",charIndex:148},{level:2,title:"æ è®°-æ´çç®æ³",slug:"æ è®°-æ´çç®æ³",normalizedTitle:"æ è®°-æ´çç®æ³",charIndex:281},{level:2,title:"åä»£æ¶éç®æ³",slug:"åä»£æ¶éç®æ³",normalizedTitle:"åä»£æ¶éç®æ³",charIndex:382},{level:2,title:"åå¾æ¶éå¨",slug:"åå¾æ¶éå¨",normalizedTitle:"åå¾æ¶éå¨",charIndex:682},{level:2,title:"Serial æ¶éå¨",slug:"serial-æ¶éå¨",normalizedTitle:"serial æ¶éå¨",charIndex:893},{level:2,title:"ParNew æ¶éå¨",slug:"parnew-æ¶éå¨",normalizedTitle:"parnew æ¶éå¨",charIndex:1324},{level:2,title:"Parallel Scavenge æ¶éå¨",slug:"parallel-scavenge-æ¶éå¨",normalizedTitle:"parallel scavenge æ¶éå¨",charIndex:1678},{level:2,title:"Serial Old æ¶éå¨",slug:"serial-old-æ¶éå¨",normalizedTitle:"serial old æ¶éå¨",charIndex:2694},{level:2,title:"Parallel Old æ¶éå¨",slug:"parallel-old-æ¶éå¨",normalizedTitle:"parallel old æ¶éå¨",charIndex:2826},{level:2,title:"CMS æ¶éå¨",slug:"cms-æ¶éå¨",normalizedTitle:"cms æ¶éå¨",charIndex:1503},{level:2,title:"G1 æ¶éå¨",slug:"g1-æ¶éå¨",normalizedTitle:"g1 æ¶éå¨",charIndex:3638},{level:2,title:"ZGC æ¶éå¨",slug:"zgc-æ¶éå¨",normalizedTitle:"zgc æ¶éå¨",charIndex:4351}],headersStr:"æ è®°-æ¸é¤ç®æ³ æ è®°-å¤å¶ç®æ³ æ è®°-æ´çç®æ³ åä»£æ¶éç®æ³ åå¾æ¶éå¨ Serial æ¶éå¨ ParNew æ¶éå¨ Parallel Scavenge æ¶éå¨ Serial Old æ¶éå¨ Parallel Old æ¶éå¨ CMS æ¶éå¨ G1 æ¶éå¨ ZGC æ¶éå¨",content:'# æ è®°-æ¸é¤ç®æ³\n\nè¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãå®æ¯æåºç¡çæ¶éç®æ³ï¼åç»­çç®æ³é½æ¯å¯¹å¶ä¸è¶³è¿è¡æ¹è¿å¾å°ãè¿ç§åå¾æ¶éç®æ³ä¼å¸¦æ¥ä¸¤ä¸ªææ¾çé®é¢ï¼\n\næçé®é¢ ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼\n\n\n# æ è®°-å¤å¶ç®æ³\n\nä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ã\n\n\n# æ è®°-æ´çç®æ³\n\næ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã\n\n\n# åä»£æ¶éç®æ³\n\nå½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\næ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\nå»¶ä¼¸é¢è¯é®é¢ï¼ HotSpot ä¸ºä»ä¹è¦åä¸ºæ°çä»£åèå¹´ä»£ï¼\n\næ ¹æ®ä¸é¢çå¯¹åä»£æ¶éç®æ³çä»ç»åç­ã\n\n\n# åå¾æ¶éå¨\n\nå¦æè¯´æ¶éç®æ³æ¯åå­åæ¶çæ¹æ³è®ºï¼é£ä¹åå¾æ¶éå¨å°±æ¯åå­åæ¶çå·ä½å®ç°ã\n\nè½ç¶æä»¬å¯¹åä¸ªæ¶éå¨è¿è¡æ¯è¾ï¼ä½å¹¶éè¦æéåºä¸ä¸ªæå¥½çæ¶éå¨ãå ä¸ºç´å°ç°å¨ä¸ºæ­¢è¿æ²¡ææå¥½çåå¾æ¶éå¨åºç°ï¼æ´å æ²¡æä¸è½çåå¾æ¶éå¨ï¼æä»¬è½åçå°±æ¯æ ¹æ®å·ä½åºç¨åºæ¯éæ©éåèªå·±çåå¾æ¶éå¨ãè¯æ³ä¸ä¸ï¼å¦ææä¸ç§åæµ·ä¹åãä»»ä½åºæ¯ä¸é½éç¨çå®ç¾æ¶éå¨å­å¨ï¼é£ä¹æä»¬ç HotSpot èææºå°±ä¸ä¼å®ç°é£ä¹å¤ä¸åçåå¾æ¶éå¨äºã\n\n\n# Serial æ¶éå¨\n\nSerialï¼ä¸²è¡ï¼æ¶éå¨æ¯æåºæ¬ãåå²ææ ä¹çåå¾æ¶éå¨äºãå¤§å®¶çåå­å°±ç¥éè¿ä¸ªæ¶éå¨æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨äºãå®ç âåçº¿ç¨â çæä¹ä¸ä»ä»æå³çå®åªä¼ä½¿ç¨ä¸æ¡åå¾æ¶éçº¿ç¨å»å®æåå¾æ¶éå·¥ä½ï¼æ´éè¦çæ¯å®å¨è¿è¡åå¾æ¶éå·¥ä½çæ¶åå¿é¡»æåå¶ä»ææçå·¥ä½çº¿ç¨ï¼ "Stop The World" ï¼ï¼ç´å°å®æ¶éç»æã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n\n\nèææºçè®¾è®¡èä»¬å½ç¶ç¥é Stop The World å¸¦æ¥çä¸è¯ç¨æ·ä½éªï¼æä»¥å¨åç»­çåå¾æ¶éå¨è®¾è®¡ä¸­åé¡¿æ¶é´å¨ä¸æ­ç¼©ç­ï¼ä»ç¶è¿æåé¡¿ï¼å¯»æ¾æä¼ç§çåå¾æ¶éå¨çè¿ç¨ä»ç¶å¨ç»§ç»­ï¼ã\n\nä½æ¯ Serial æ¶éå¨ææ²¡æä¼äºå¶ä»åå¾æ¶éå¨çå°æ¹å¢ï¼å½ç¶æï¼å®ç®åèé«æï¼ä¸å¶ä»æ¶éå¨çåçº¿ç¨ç¸æ¯ï¼ãSerial æ¶éå¨ç±äºæ²¡æçº¿ç¨äº¤äºçå¼éï¼èªç¶å¯ä»¥è·å¾å¾é«çåçº¿ç¨æ¶éæçãSerial æ¶éå¨å¯¹äºè¿è¡å¨ Client æ¨¡å¼ä¸çèææºæ¥è¯´æ¯ä¸ªä¸éçéæ©ã\n\n\n# ParNew æ¶éå¨\n\nParNew æ¶éå¨å¶å®å°±æ¯ Serial æ¶éå¨çå¤çº¿ç¨çæ¬ï¼é¤äºä½¿ç¨å¤çº¿ç¨è¿è¡åå¾æ¶éå¤ï¼å¶ä½è¡ä¸ºï¼æ§å¶åæ°ãæ¶éç®æ³ãåæ¶ç­ç¥ç­ç­ï¼å Serial æ¶éå¨å®å¨ä¸æ ·ã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n\n\nå®æ¯è®¸å¤è¿è¡å¨ Server æ¨¡å¼ä¸çèææºçé¦è¦éæ©ï¼é¤äº Serial æ¶éå¨å¤ï¼åªæå®è½ä¸ CMS æ¶éå¨ï¼çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼åé¢ä¼ä»ç»å°ï¼éåå·¥ä½ã\n\nå¹¶è¡åå¹¶åæ¦å¿µè¡¥åï¼\n\nå¹¶è¡ï¼Parallelï¼ ï¼æå¤æ¡åå¾æ¶éçº¿ç¨å¹¶è¡å·¥ä½ï¼ä½æ­¤æ¶ç¨æ·çº¿ç¨ä»ç¶å¤äºç­å¾ç¶æã\n\nå¹¶åï¼Concurrentï¼ï¼æç¨æ·çº¿ç¨ä¸åå¾æ¶éçº¿ç¨åæ¶æ§è¡ï¼ä½ä¸ä¸å®æ¯å¹¶è¡ï¼å¯è½ä¼äº¤æ¿æ§è¡ï¼ï¼ç¨æ·ç¨åºå¨ç»§ç»­è¿è¡ï¼èåå¾æ¶éå¨è¿è¡å¨å¦ä¸ä¸ª CPU ä¸ã\n\n\n# Parallel Scavenge æ¶éå¨\n\nParallel Scavenge æ¶éå¨ä¹æ¯ä½¿ç¨æ è®°-å¤å¶ç®æ³çå¤çº¿ç¨æ¶éå¨ï¼å®çä¸å»å ä¹å ParNew é½ä¸æ ·ã é£ä¹å®æä»ä¹ç¹å«ä¹å¤å¢ï¼\n\n-XX:+UseParallelGC\n\n    ä½¿ç¨ Parallel æ¶éå¨+ èå¹´ä»£ä¸²è¡\n\n-XX:+UseParallelOldGC\n\n    ä½¿ç¨ Parallel æ¶éå¨+ èå¹´ä»£å¹¶è¡\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nParallel Scavenge æ¶éå¨å³æ³¨ç¹æ¯ååéï¼é«æççå©ç¨ CPUï¼ãCMS ç­åå¾æ¶éå¨çå³æ³¨ç¹æ´å¤çæ¯ç¨æ·çº¿ç¨çåé¡¿æ¶é´ï¼æé«ç¨æ·ä½éªï¼ãæè°ååéå°±æ¯ CPU ä¸­ç¨äºè¿è¡ç¨æ·ä»£ç çæ¶é´ä¸ CPU æ»æ¶èæ¶é´çæ¯å¼ã Parallel Scavenge æ¶éå¨æä¾äºå¾å¤åæ°ä¾ç¨æ·æ¾å°æåéçåé¡¿æ¶é´ææå¤§ååéï¼å¦æå¯¹äºæ¶éå¨è¿ä½ä¸å¤ªäºè§£ï¼æå·¥ä¼åå­å¨å°é¾çæ¶åï¼ä½¿ç¨ Parallel Scavenge æ¶éå¨éåèªéåºè°èç­ç¥ï¼æåå­ç®¡çä¼åäº¤ç»èææºå»å®æä¹æ¯ä¸ä¸ªä¸éçéæ©ã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n\n\nè¿æ¯ JDK1.8 é»è®¤æ¶éå¨\n\nä½¿ç¨ java -XX:+PrintCommandLineFlags -version å½ä»¤æ¥ç\n\n-XX:InitialHeapSize=262921408 -XX:MaxHeapSize=4206742528 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC\njava version "1.8.0_211"\nJava(TM) SE Runtime Environment (build 1.8.0_211-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)\nJDK1.8 é»è®¤ä½¿ç¨çæ¯ Parallel Scavenge + Parallel Oldï¼å¦ææå®äº-XX:+UseParallelGC åæ°ï¼åé»è®¤æå®äº-XX:+UseParallelOldGCï¼å¯ä»¥ä½¿ç¨-XX:-UseParallelOldGC æ¥ç¦ç¨è¯¥åè½\n\n\n1\n2\n3\n4\n5\n\n\n\n# Serial Old æ¶éå¨\n\nSerial æ¶éå¨çèå¹´ä»£çæ¬ï¼å®åæ ·æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨ãå®ä¸»è¦æä¸¤å¤§ç¨éï¼ä¸ç§ç¨éæ¯å¨ JDK1.5 ä»¥åä»¥åççæ¬ä¸­ä¸ Parallel Scavenge æ¶éå¨æ­éä½¿ç¨ï¼å¦ä¸ç§ç¨éæ¯ä½ä¸º CMS æ¶éå¨çåå¤æ¹æ¡ã\n\n\n# Parallel Old æ¶éå¨\n\nParallel Scavenge æ¶éå¨çèå¹´ä»£çæ¬ãä½¿ç¨å¤çº¿ç¨åâæ è®°-æ´çâç®æ³ãå¨æ³¨éååéä»¥å CPU èµæºçåºåï¼é½å¯ä»¥ä¼åèè Parallel Scavenge æ¶éå¨å Parallel Old æ¶éå¨ã\n\n\n# CMS æ¶éå¨\n\nCMSï¼Concurrent Mark Sweepï¼æ¶éå¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çæ¶éå¨ãå®éå¸¸ç¬¦åå¨æ³¨éç¨æ·ä½éªçåºç¨ä¸ä½¿ç¨ã\n\nCMSï¼Concurrent Mark Sweepï¼æ¶éå¨æ¯ HotSpot èææºç¬¬ä¸æ¬¾çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼å®ç¬¬ä¸æ¬¡å®ç°äºè®©åå¾æ¶éçº¿ç¨ä¸ç¨æ·çº¿ç¨ï¼åºæ¬ä¸ï¼åæ¶å·¥ä½ã\n\nä»åå­ä¸­çMark Sweepè¿ä¸¤ä¸ªè¯å¯ä»¥çåºï¼CMS æ¶éå¨æ¯ä¸ç§ âæ è®°-æ¸é¤âç®æ³å®ç°çï¼å®çè¿ä½è¿ç¨ç¸æ¯äºåé¢å ç§åå¾æ¶éå¨æ¥è¯´æ´å å¤æä¸äºãæ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼\n\nåå§æ è®°ï¼ æåææçå¶ä»çº¿ç¨ï¼å¹¶è®°å½ä¸ç´æ¥ä¸ root ç¸è¿çå¯¹è±¡ï¼éåº¦å¾å¿« ï¼ å¹¶åæ è®°ï¼ åæ¶å¼å¯ GC åç¨æ·çº¿ç¨ï¼ç¨ä¸ä¸ªé­åç»æå»è®°å½å¯è¾¾å¯¹è±¡ãä½å¨è¿ä¸ªé¶æ®µç»æï¼è¿ä¸ªé­åç»æå¹¶ä¸è½ä¿è¯åå«å½åææçå¯è¾¾å¯¹è±¡ãå ä¸ºç¨æ·çº¿ç¨å¯è½ä¼ä¸æ­çæ´æ°å¼ç¨åï¼æä»¥ GC çº¿ç¨æ æ³ä¿è¯å¯è¾¾æ§åæçå®æ¶æ§ãæä»¥è¿ä¸ªç®æ³éä¼è·è¸ªè®°å½è¿äºåçå¼ç¨æ´æ°çå°æ¹ã éæ°æ è®°ï¼ éæ°æ è®°é¶æ®µå°±æ¯ä¸ºäºä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·ç¨åºç»§ç»­è¿è¡èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´ä¸è¬ä¼æ¯åå§æ è®°é¶æ®µçæ¶é´ç¨é¿ï¼è¿è¿æ¯å¹¶åæ è®°é¶æ®µæ¶é´ç­ å¹¶åæ¸é¤ï¼ å¼å¯ç¨æ·çº¿ç¨ï¼åæ¶ GC çº¿ç¨å¼å§å¯¹æªæ è®°çåºååæ¸æ«ã\n\nä»å®çåå­å°±å¯ä»¥çåºå®æ¯ä¸æ¬¾ä¼ç§çåå¾æ¶éå¨ï¼ä¸»è¦ä¼ç¹ï¼å¹¶åæ¶éãä½åé¡¿ãä½æ¯å®æä¸é¢ä¸ä¸ªææ¾çç¼ºç¹ï¼\n\nå¯¹ CPU èµæºææï¼ æ æ³å¤çæµ®å¨åå¾ï¼ å®ä½¿ç¨çåæ¶ç®æ³-âæ è®°-æ¸é¤âç®æ³ä¼å¯¼è´æ¶éç»ææ¶ä¼æå¤§éç©ºé´ç¢çäº§çã\n\n\n# G1 æ¶éå¨\n\nG1 (Garbage-First) æ¯ä¸æ¬¾é¢åæå¡å¨çåå¾æ¶éå¨,ä¸»è¦éå¯¹éå¤å¤é¢å¤çå¨åå¤§å®¹éåå­çæºå¨. ä»¥æé«æ¦çæ»¡è¶³ GC åé¡¿æ¶é´è¦æ±çåæ¶,è¿å·å¤é«ååéæ§è½ç¹å¾.\n\nè¢«è§ä¸º JDK1.7 ä¸­ HotSpot èææºçä¸ä¸ªéè¦è¿åç¹å¾ãå®å·å¤ä»¥ä¸ç¹ç¹ï¼\n\nå¹¶è¡ä¸å¹¶åï¼G1 è½ååå©ç¨ CPUãå¤æ ¸ç¯å¢ä¸çç¡¬ä»¶ä¼å¿ï¼ä½¿ç¨å¤ä¸ª CPUï¼CPU æè CPU æ ¸å¿ï¼æ¥ç¼©ç­ Stop-The-World åé¡¿æ¶é´ãé¨åå¶ä»æ¶éå¨åæ¬éè¦åé¡¿ Java çº¿ç¨æ§è¡ç GC å¨ä½ï¼G1 æ¶éå¨ä»ç¶å¯ä»¥éè¿å¹¶åçæ¹å¼è®© java ç¨åºç»§ç»­æ§è¡ã åä»£æ¶éï¼è½ç¶ G1 å¯ä»¥ä¸éè¦å¶ä»æ¶éå¨éåå°±è½ç¬ç«ç®¡çæ´ä¸ª GC å ï¼ä½æ¯è¿æ¯ä¿çäºåä»£çæ¦å¿µã ç©ºé´æ´åï¼ä¸ CMS çâæ è®°-æ¸çâç®æ³ä¸åï¼G1 ä»æ´ä½æ¥çæ¯åºäºâæ è®°-æ´çâç®æ³å®ç°çæ¶éå¨ï¼ä»å±é¨ä¸æ¥çæ¯åºäºâæ è®°-å¤å¶âç®æ³å®ç°çã å¯é¢æµçåé¡¿ï¼è¿æ¯ G1 ç¸å¯¹äº CMS çå¦ä¸ä¸ªå¤§ä¼å¿ï¼éä½åé¡¿æ¶é´æ¯ G1 å CMS å±åçå³æ³¨ç¹ï¼ä½ G1 é¤äºè¿½æ±ä½åé¡¿å¤ï¼è¿è½å»ºç«å¯é¢æµçåé¡¿æ¶é´æ¨¡åï¼è½è®©ä½¿ç¨èæç¡®æå®å¨ä¸ä¸ªé¿åº¦ä¸º M æ¯«ç§çæ¶é´çæ®µåã G1 æ¶éå¨çè¿ä½å¤§è´åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\nåå§æ è®° å¹¶åæ è®° æç»æ è®° ç­éåæ¶ G1 æ¶éå¨å¨åå°ç»´æ¤äºä¸ä¸ªä¼ååè¡¨ï¼æ¯æ¬¡æ ¹æ®åè®¸çæ¶éæ¶é´ï¼ä¼åéæ©åæ¶ä»·å¼æå¤§ç Region(è¿ä¹å°±æ¯å®çåå­ Garbage-First çç±æ¥) ãè¿ç§ä½¿ç¨ Region åååå­ç©ºé´ä»¥åæä¼åçº§çåºååæ¶æ¹å¼ï¼ä¿è¯äº G1 æ¶éå¨å¨æéæ¶é´åå¯ä»¥å°½å¯è½é«çæ¶éæçï¼æåå­åæ´ä¸ºé¶ï¼ã\n\n\n# ZGC æ¶éå¨\n\nä¸ CMS ä¸­ç ParNew å G1 ç±»ä¼¼ï¼ZGC ä¹éç¨æ è®°-å¤å¶ç®æ³ï¼ä¸è¿ ZGC å¯¹è¯¥ç®æ³åäºéå¤§æ¹è¿ã\n\nå¨ ZGC ä¸­åºç° Stop The World çæåµä¼æ´å°ï¼ è¯¦æå¯ä»¥ç ï¼ ãæ°ä¸ä»£åå¾åæ¶å¨ ZGC çæ¢ç´¢ä¸å®è·µã',normalizedContent:'# æ è®°-æ¸é¤ç®æ³\n\nè¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãå®æ¯æåºç¡çæ¶éç®æ³ï¼åç»­çç®æ³é½æ¯å¯¹å¶ä¸è¶³è¿è¡æ¹è¿å¾å°ãè¿ç§åå¾æ¶éç®æ³ä¼å¸¦æ¥ä¸¤ä¸ªææ¾çé®é¢ï¼\n\næçé®é¢ ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼\n\n\n# æ è®°-å¤å¶ç®æ³\n\nä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ã\n\n\n# æ è®°-æ´çç®æ³\n\næ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã\n\n\n# åä»£æ¶éç®æ³\n\nå½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\næ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\nå»¶ä¼¸é¢è¯é®é¢ï¼ hotspot ä¸ºä»ä¹è¦åä¸ºæ°çä»£åèå¹´ä»£ï¼\n\næ ¹æ®ä¸é¢çå¯¹åä»£æ¶éç®æ³çä»ç»åç­ã\n\n\n# åå¾æ¶éå¨\n\nå¦æè¯´æ¶éç®æ³æ¯åå­åæ¶çæ¹æ³è®ºï¼é£ä¹åå¾æ¶éå¨å°±æ¯åå­åæ¶çå·ä½å®ç°ã\n\nè½ç¶æä»¬å¯¹åä¸ªæ¶éå¨è¿è¡æ¯è¾ï¼ä½å¹¶éè¦æéåºä¸ä¸ªæå¥½çæ¶éå¨ãå ä¸ºç´å°ç°å¨ä¸ºæ­¢è¿æ²¡ææå¥½çåå¾æ¶éå¨åºç°ï¼æ´å æ²¡æä¸è½çåå¾æ¶éå¨ï¼æä»¬è½åçå°±æ¯æ ¹æ®å·ä½åºç¨åºæ¯éæ©éåèªå·±çåå¾æ¶éå¨ãè¯æ³ä¸ä¸ï¼å¦ææä¸ç§åæµ·ä¹åãä»»ä½åºæ¯ä¸é½éç¨çå®ç¾æ¶éå¨å­å¨ï¼é£ä¹æä»¬ç hotspot èææºå°±ä¸ä¼å®ç°é£ä¹å¤ä¸åçåå¾æ¶éå¨äºã\n\n\n# serial æ¶éå¨\n\nserialï¼ä¸²è¡ï¼æ¶éå¨æ¯æåºæ¬ãåå²ææ ä¹çåå¾æ¶éå¨äºãå¤§å®¶çåå­å°±ç¥éè¿ä¸ªæ¶éå¨æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨äºãå®ç âåçº¿ç¨â çæä¹ä¸ä»ä»æå³çå®åªä¼ä½¿ç¨ä¸æ¡åå¾æ¶éçº¿ç¨å»å®æåå¾æ¶éå·¥ä½ï¼æ´éè¦çæ¯å®å¨è¿è¡åå¾æ¶éå·¥ä½çæ¶åå¿é¡»æåå¶ä»ææçå·¥ä½çº¿ç¨ï¼ "stop the world" ï¼ï¼ç´å°å®æ¶éç»æã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n\n\nèææºçè®¾è®¡èä»¬å½ç¶ç¥é stop the world å¸¦æ¥çä¸è¯ç¨æ·ä½éªï¼æä»¥å¨åç»­çåå¾æ¶éå¨è®¾è®¡ä¸­åé¡¿æ¶é´å¨ä¸æ­ç¼©ç­ï¼ä»ç¶è¿æåé¡¿ï¼å¯»æ¾æä¼ç§çåå¾æ¶éå¨çè¿ç¨ä»ç¶å¨ç»§ç»­ï¼ã\n\nä½æ¯ serial æ¶éå¨ææ²¡æä¼äºå¶ä»åå¾æ¶éå¨çå°æ¹å¢ï¼å½ç¶æï¼å®ç®åèé«æï¼ä¸å¶ä»æ¶éå¨çåçº¿ç¨ç¸æ¯ï¼ãserial æ¶éå¨ç±äºæ²¡æçº¿ç¨äº¤äºçå¼éï¼èªç¶å¯ä»¥è·å¾å¾é«çåçº¿ç¨æ¶éæçãserial æ¶éå¨å¯¹äºè¿è¡å¨ client æ¨¡å¼ä¸çèææºæ¥è¯´æ¯ä¸ªä¸éçéæ©ã\n\n\n# parnew æ¶éå¨\n\nparnew æ¶éå¨å¶å®å°±æ¯ serial æ¶éå¨çå¤çº¿ç¨çæ¬ï¼é¤äºä½¿ç¨å¤çº¿ç¨è¿è¡åå¾æ¶éå¤ï¼å¶ä½è¡ä¸ºï¼æ§å¶åæ°ãæ¶éç®æ³ãåæ¶ç­ç¥ç­ç­ï¼å serial æ¶éå¨å®å¨ä¸æ ·ã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n\n\nå®æ¯è®¸å¤è¿è¡å¨ server æ¨¡å¼ä¸çèææºçé¦è¦éæ©ï¼é¤äº serial æ¶éå¨å¤ï¼åªæå®è½ä¸ cms æ¶éå¨ï¼çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼åé¢ä¼ä»ç»å°ï¼éåå·¥ä½ã\n\nå¹¶è¡åå¹¶åæ¦å¿µè¡¥åï¼\n\nå¹¶è¡ï¼parallelï¼ ï¼æå¤æ¡åå¾æ¶éçº¿ç¨å¹¶è¡å·¥ä½ï¼ä½æ­¤æ¶ç¨æ·çº¿ç¨ä»ç¶å¤äºç­å¾ç¶æã\n\nå¹¶åï¼concurrentï¼ï¼æç¨æ·çº¿ç¨ä¸åå¾æ¶éçº¿ç¨åæ¶æ§è¡ï¼ä½ä¸ä¸å®æ¯å¹¶è¡ï¼å¯è½ä¼äº¤æ¿æ§è¡ï¼ï¼ç¨æ·ç¨åºå¨ç»§ç»­è¿è¡ï¼èåå¾æ¶éå¨è¿è¡å¨å¦ä¸ä¸ª cpu ä¸ã\n\n\n# parallel scavenge æ¶éå¨\n\nparallel scavenge æ¶éå¨ä¹æ¯ä½¿ç¨æ è®°-å¤å¶ç®æ³çå¤çº¿ç¨æ¶éå¨ï¼å®çä¸å»å ä¹å parnew é½ä¸æ ·ã é£ä¹å®æä»ä¹ç¹å«ä¹å¤å¢ï¼\n\n-xx:+useparallelgc\n\n    ä½¿ç¨ parallel æ¶éå¨+ èå¹´ä»£ä¸²è¡\n\n-xx:+useparalleloldgc\n\n    ä½¿ç¨ parallel æ¶éå¨+ èå¹´ä»£å¹¶è¡\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nparallel scavenge æ¶éå¨å³æ³¨ç¹æ¯ååéï¼é«æççå©ç¨ cpuï¼ãcms ç­åå¾æ¶éå¨çå³æ³¨ç¹æ´å¤çæ¯ç¨æ·çº¿ç¨çåé¡¿æ¶é´ï¼æé«ç¨æ·ä½éªï¼ãæè°ååéå°±æ¯ cpu ä¸­ç¨äºè¿è¡ç¨æ·ä»£ç çæ¶é´ä¸ cpu æ»æ¶èæ¶é´çæ¯å¼ã parallel scavenge æ¶éå¨æä¾äºå¾å¤åæ°ä¾ç¨æ·æ¾å°æåéçåé¡¿æ¶é´ææå¤§ååéï¼å¦æå¯¹äºæ¶éå¨è¿ä½ä¸å¤ªäºè§£ï¼æå·¥ä¼åå­å¨å°é¾çæ¶åï¼ä½¿ç¨ parallel scavenge æ¶éå¨éåèªéåºè°èç­ç¥ï¼æåå­ç®¡çä¼åäº¤ç»èææºå»å®æä¹æ¯ä¸ä¸ªä¸éçéæ©ã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n\n\nè¿æ¯ jdk1.8 é»è®¤æ¶éå¨\n\nä½¿ç¨ java -xx:+printcommandlineflags -version å½ä»¤æ¥ç\n\n-xx:initialheapsize=262921408 -xx:maxheapsize=4206742528 -xx:+printcommandlineflags -xx:+usecompressedclasspointers -xx:+usecompressedoops -xx:+useparallelgc\njava version "1.8.0_211"\njava(tm) se runtime environment (build 1.8.0_211-b12)\njava hotspot(tm) 64-bit server vm (build 25.211-b12, mixed mode)\njdk1.8 é»è®¤ä½¿ç¨çæ¯ parallel scavenge + parallel oldï¼å¦ææå®äº-xx:+useparallelgc åæ°ï¼åé»è®¤æå®äº-xx:+useparalleloldgcï¼å¯ä»¥ä½¿ç¨-xx:-useparalleloldgc æ¥ç¦ç¨è¯¥åè½\n\n\n1\n2\n3\n4\n5\n\n\n\n# serial old æ¶éå¨\n\nserial æ¶éå¨çèå¹´ä»£çæ¬ï¼å®åæ ·æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨ãå®ä¸»è¦æä¸¤å¤§ç¨éï¼ä¸ç§ç¨éæ¯å¨ jdk1.5 ä»¥åä»¥åççæ¬ä¸­ä¸ parallel scavenge æ¶éå¨æ­éä½¿ç¨ï¼å¦ä¸ç§ç¨éæ¯ä½ä¸º cms æ¶éå¨çåå¤æ¹æ¡ã\n\n\n# parallel old æ¶éå¨\n\nparallel scavenge æ¶éå¨çèå¹´ä»£çæ¬ãä½¿ç¨å¤çº¿ç¨åâæ è®°-æ´çâç®æ³ãå¨æ³¨éååéä»¥å cpu èµæºçåºåï¼é½å¯ä»¥ä¼åèè parallel scavenge æ¶éå¨å parallel old æ¶éå¨ã\n\n\n# cms æ¶éå¨\n\ncmsï¼concurrent mark sweepï¼æ¶éå¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çæ¶éå¨ãå®éå¸¸ç¬¦åå¨æ³¨éç¨æ·ä½éªçåºç¨ä¸ä½¿ç¨ã\n\ncmsï¼concurrent mark sweepï¼æ¶éå¨æ¯ hotspot èææºç¬¬ä¸æ¬¾çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼å®ç¬¬ä¸æ¬¡å®ç°äºè®©åå¾æ¶éçº¿ç¨ä¸ç¨æ·çº¿ç¨ï¼åºæ¬ä¸ï¼åæ¶å·¥ä½ã\n\nä»åå­ä¸­çmark sweepè¿ä¸¤ä¸ªè¯å¯ä»¥çåºï¼cms æ¶éå¨æ¯ä¸ç§ âæ è®°-æ¸é¤âç®æ³å®ç°çï¼å®çè¿ä½è¿ç¨ç¸æ¯äºåé¢å ç§åå¾æ¶éå¨æ¥è¯´æ´å å¤æä¸äºãæ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼\n\nåå§æ è®°ï¼ æåææçå¶ä»çº¿ç¨ï¼å¹¶è®°å½ä¸ç´æ¥ä¸ root ç¸è¿çå¯¹è±¡ï¼éåº¦å¾å¿« ï¼ å¹¶åæ è®°ï¼ åæ¶å¼å¯ gc åç¨æ·çº¿ç¨ï¼ç¨ä¸ä¸ªé­åç»æå»è®°å½å¯è¾¾å¯¹è±¡ãä½å¨è¿ä¸ªé¶æ®µç»æï¼è¿ä¸ªé­åç»æå¹¶ä¸è½ä¿è¯åå«å½åææçå¯è¾¾å¯¹è±¡ãå ä¸ºç¨æ·çº¿ç¨å¯è½ä¼ä¸æ­çæ´æ°å¼ç¨åï¼æä»¥ gc çº¿ç¨æ æ³ä¿è¯å¯è¾¾æ§åæçå®æ¶æ§ãæä»¥è¿ä¸ªç®æ³éä¼è·è¸ªè®°å½è¿äºåçå¼ç¨æ´æ°çå°æ¹ã éæ°æ è®°ï¼ éæ°æ è®°é¶æ®µå°±æ¯ä¸ºäºä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·ç¨åºç»§ç»­è¿è¡èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´ä¸è¬ä¼æ¯åå§æ è®°é¶æ®µçæ¶é´ç¨é¿ï¼è¿è¿æ¯å¹¶åæ è®°é¶æ®µæ¶é´ç­ å¹¶åæ¸é¤ï¼ å¼å¯ç¨æ·çº¿ç¨ï¼åæ¶ gc çº¿ç¨å¼å§å¯¹æªæ è®°çåºååæ¸æ«ã\n\nä»å®çåå­å°±å¯ä»¥çåºå®æ¯ä¸æ¬¾ä¼ç§çåå¾æ¶éå¨ï¼ä¸»è¦ä¼ç¹ï¼å¹¶åæ¶éãä½åé¡¿ãä½æ¯å®æä¸é¢ä¸ä¸ªææ¾çç¼ºç¹ï¼\n\nå¯¹ cpu èµæºææï¼ æ æ³å¤çæµ®å¨åå¾ï¼ å®ä½¿ç¨çåæ¶ç®æ³-âæ è®°-æ¸é¤âç®æ³ä¼å¯¼è´æ¶éç»ææ¶ä¼æå¤§éç©ºé´ç¢çäº§çã\n\n\n# g1 æ¶éå¨\n\ng1 (garbage-first) æ¯ä¸æ¬¾é¢åæå¡å¨çåå¾æ¶éå¨,ä¸»è¦éå¯¹éå¤å¤é¢å¤çå¨åå¤§å®¹éåå­çæºå¨. ä»¥æé«æ¦çæ»¡è¶³ gc åé¡¿æ¶é´è¦æ±çåæ¶,è¿å·å¤é«ååéæ§è½ç¹å¾.\n\nè¢«è§ä¸º jdk1.7 ä¸­ hotspot èææºçä¸ä¸ªéè¦è¿åç¹å¾ãå®å·å¤ä»¥ä¸ç¹ç¹ï¼\n\nå¹¶è¡ä¸å¹¶åï¼g1 è½ååå©ç¨ cpuãå¤æ ¸ç¯å¢ä¸çç¡¬ä»¶ä¼å¿ï¼ä½¿ç¨å¤ä¸ª cpuï¼cpu æè cpu æ ¸å¿ï¼æ¥ç¼©ç­ stop-the-world åé¡¿æ¶é´ãé¨åå¶ä»æ¶éå¨åæ¬éè¦åé¡¿ java çº¿ç¨æ§è¡ç gc å¨ä½ï¼g1 æ¶éå¨ä»ç¶å¯ä»¥éè¿å¹¶åçæ¹å¼è®© java ç¨åºç»§ç»­æ§è¡ã åä»£æ¶éï¼è½ç¶ g1 å¯ä»¥ä¸éè¦å¶ä»æ¶éå¨éåå°±è½ç¬ç«ç®¡çæ´ä¸ª gc å ï¼ä½æ¯è¿æ¯ä¿çäºåä»£çæ¦å¿µã ç©ºé´æ´åï¼ä¸ cms çâæ è®°-æ¸çâç®æ³ä¸åï¼g1 ä»æ´ä½æ¥çæ¯åºäºâæ è®°-æ´çâç®æ³å®ç°çæ¶éå¨ï¼ä»å±é¨ä¸æ¥çæ¯åºäºâæ è®°-å¤å¶âç®æ³å®ç°çã å¯é¢æµçåé¡¿ï¼è¿æ¯ g1 ç¸å¯¹äº cms çå¦ä¸ä¸ªå¤§ä¼å¿ï¼éä½åé¡¿æ¶é´æ¯ g1 å cms å±åçå³æ³¨ç¹ï¼ä½ g1 é¤äºè¿½æ±ä½åé¡¿å¤ï¼è¿è½å»ºç«å¯é¢æµçåé¡¿æ¶é´æ¨¡åï¼è½è®©ä½¿ç¨èæç¡®æå®å¨ä¸ä¸ªé¿åº¦ä¸º m æ¯«ç§çæ¶é´çæ®µåã g1 æ¶éå¨çè¿ä½å¤§è´åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\nåå§æ è®° å¹¶åæ è®° æç»æ è®° ç­éåæ¶ g1 æ¶éå¨å¨åå°ç»´æ¤äºä¸ä¸ªä¼ååè¡¨ï¼æ¯æ¬¡æ ¹æ®åè®¸çæ¶éæ¶é´ï¼ä¼åéæ©åæ¶ä»·å¼æå¤§ç region(è¿ä¹å°±æ¯å®çåå­ garbage-first çç±æ¥) ãè¿ç§ä½¿ç¨ region åååå­ç©ºé´ä»¥åæä¼åçº§çåºååæ¶æ¹å¼ï¼ä¿è¯äº g1 æ¶éå¨å¨æéæ¶é´åå¯ä»¥å°½å¯è½é«çæ¶éæçï¼æåå­åæ´ä¸ºé¶ï¼ã\n\n\n# zgc æ¶éå¨\n\nä¸ cms ä¸­ç parnew å g1 ç±»ä¼¼ï¼zgc ä¹éç¨æ è®°-å¤å¶ç®æ³ï¼ä¸è¿ zgc å¯¹è¯¥ç®æ³åäºéå¤§æ¹è¿ã\n\nå¨ zgc ä¸­åºç° stop the world çæåµä¼æ´å°ï¼ è¯¦æå¯ä»¥ç ï¼ ãæ°ä¸ä»£åå¾åæ¶å¨ zgc çæ¢ç´¢ä¸å®è·µã',charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼",frontmatter:{title:"Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼",date:"2022-05-21T17:31:41.000Z",permalink:"/pages/948850/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/001.Java%20%E4%B8%AD%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E4%B8%AD%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%AF%B9%E8%B1%A1%E9%9C%80%E8%A6%81%E5%9B%9E%E6%94%B6%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/001.Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼.md",key:"v-7cd97c82",path:"/pages/948850/",headers:[{level:2,title:"å¼ç¨è®¡æ°æ³",slug:"å¼ç¨è®¡æ°æ³",normalizedTitle:"å¼ç¨è®¡æ°æ³",charIndex:95},{level:2,title:"å¯è¾¾æ§åæç®æ³",slug:"å¯è¾¾æ§åæç®æ³",normalizedTitle:"å¯è¾¾æ§åæç®æ³",charIndex:738},{level:2,title:"å¼ç¨ç±»åæ»ç»",slug:"å¼ç¨ç±»åæ»ç»",normalizedTitle:"å¼ç¨ç±»åæ»ç»",charIndex:1442},{level:2,title:"å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éï¼",slug:"å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸é",normalizedTitle:"å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éï¼",charIndex:2760},{level:2,title:"å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»",slug:"å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»",normalizedTitle:"å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»",charIndex:2930}],headersStr:"å¼ç¨è®¡æ°æ³ å¯è¾¾æ§åæç®æ³ å¼ç¨ç±»åæ»ç» å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éï¼ å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»",content:'Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼ å³æ­»äº¡å¯¹è±¡å¤æ­æ¹æ³ å ä¸­å ä¹æ¾çææçå¯¹è±¡å®ä¾ï¼å¯¹å åå¾åæ¶åçç¬¬ä¸æ­¥å°±æ¯è¦å¤æ­åªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼å³ä¸è½åè¢«ä»»ä½éå¾ä½¿ç¨çå¯¹è±¡ï¼ã\n\n\n# å¼ç¨è®¡æ°æ³\n\nç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼\n\næ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼ å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼ ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã è¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ã\n\næè°å¯¹è±¡ä¹é´çç¸äºå¼ç¨é®é¢ï¼å¦ä¸é¢ä»£ç æç¤ºï¼é¤äºå¯¹è±¡ objA å objB ç¸äºå¼ç¨çå¯¹æ¹ä¹å¤ï¼è¿ä¸¤ä¸ªå¯¹è±¡ä¹é´åæ ä»»ä½å¼ç¨ãä½æ¯ä»ä»¬å ä¸ºäºç¸å¼ç¨å¯¹æ¹ï¼å¯¼è´å®ä»¬çå¼ç¨è®¡æ°å¨é½ä¸ä¸º 0ï¼äºæ¯å¼ç¨è®¡æ°ç®æ³æ æ³éç¥ GC åæ¶å¨åæ¶ä»ä»¬ã\n\npublic class ReferenceCountingGc {\n    Object instance = null;\n    public static void main(String[] args) {\n        ReferenceCountingGc objA = new ReferenceCountingGc();\n        ReferenceCountingGc objB = new ReferenceCountingGc();\n        objA.instance = objB;\n        objB.instance = objA;\n        objA = null;\n        objB = null;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# å¯è¾¾æ§åæç®æ³\n\nè¿ä¸ªç®æ³çåºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âGC Rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° GC Roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çï¼éè¦è¢«åæ¶ã\n\nä¸å¾ä¸­ç Object 6 ~ Object 10 ä¹é´è½æå¼ç¨å³ç³»ï¼ä½å®ä»¬å° GC Roots ä¸å¯è¾¾ï¼å æ­¤ä¸ºéè¦è¢«åæ¶çå¯¹è±¡ã\n\nåªäºå¯¹è±¡å¯ä»¥ä½ä¸º GC Roots å¢ï¼\n\nèææºæ (æ å¸§ä¸­çæ¬å°åéè¡¨)ä¸­å¼ç¨çå¯¹è±¡ æ¬å°æ¹æ³æ (Native æ¹æ³)ä¸­å¼ç¨çå¯¹è±¡ æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡ æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡ ææè¢«åæ­¥éææçå¯¹è±¡ å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶åï¼\n\nå³ä½¿å¨å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡ï¼ä¹å¹¶éæ¯âéæ­»ä¸å¯âçï¼è¿æ¶åå®ä»¬ææ¶å¤äºâç¼åé¶æ®µâï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ï¼å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ \'finalize\' æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç \'finalize\' æ¹æ³ï¼æ \'finalize\' æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã\n\nè¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n> Object ç±»ä¸­ç finalize æ¹æ³ä¸ç´è¢«è®¤ä¸ºæ¯ä¸ä¸ªç³ç³çè®¾è®¡ï¼æä¸ºäº Java è¯­è¨çè´æï¼å½±åäº Java è¯­è¨çå®å¨å GC çæ§è½ãJDK9 çæ¬ååç»­çæ¬ä¸­åä¸ªç±»ä¸­ç finalize æ¹æ³ä¼è¢«éæ¸å¼ç¨ç§»é¤ãå¿æå®çå­å¨å§ï¼\n\n\n# å¼ç¨ç±»åæ»ç»\n\næ è®ºæ¯éè¿å¼ç¨è®¡æ°æ³å¤æ­å¯¹è±¡å¼ç¨æ°éï¼è¿æ¯éè¿å¯è¾¾æ§åææ³å¤æ­å¯¹è±¡çå¼ç¨é¾æ¯å¦å¯è¾¾ï¼å¤å®å¯¹è±¡çå­æ´»é½ä¸âå¼ç¨âæå³ã\n\nJDK1.2 ä¹åï¼Java ä¸­å¼ç¨çå®ä¹å¾ä¼ ç»ï¼å¦æ reference ç±»åçæ°æ®å­å¨çæ°å¼ä»£è¡¨çæ¯å¦ä¸ååå­çèµ·å§å°åï¼å°±ç§°è¿ååå­ä»£è¡¨ä¸ä¸ªå¼ç¨ã\n\nJDK1.2 ä»¥åï¼Java å¯¹å¼ç¨çæ¦å¿µè¿è¡äºæ©åï¼å°å¼ç¨åä¸ºå¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨åç§ï¼å¼ç¨å¼ºåº¦éæ¸åå¼±ï¼\n\n1ï¼å¼ºå¼ç¨ï¼StrongReferenceï¼\n\nä»¥åæä»¬ä½¿ç¨çå¤§é¨åå¼ç¨å®éä¸é½æ¯å¼ºå¼ç¨ï¼è¿æ¯ä½¿ç¨ææ®éçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡å·æå¼ºå¼ç¨ï¼é£å°±ç±»ä¼¼äºå¿ä¸å¯å°ççæ´»ç¨åï¼åå¾åæ¶å¨ç»ä¸ä¼åæ¶å®ãå½åå­ç©ºé´ä¸è¶³ï¼Java èææºå®æ¿æåº OutOfMemoryError éè¯¯ï¼ä½¿ç¨åºå¼å¸¸ç»æ­¢ï¼ä¹ä¸ä¼é éæåæ¶å·æå¼ºå¼ç¨çå¯¹è±¡æ¥è§£å³åå­ä¸è¶³é®é¢ã\n\n2ï¼è½¯å¼ç¨ï¼SoftReferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æè½¯å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¦æåå­ç©ºé´è¶³å¤ï¼åå¾åæ¶å¨å°±ä¸ä¼åæ¶å®ï¼å¦æåå­ç©ºé´ä¸è¶³äºï¼å°±ä¼åæ¶è¿äºå¯¹è±¡çåå­ãåªè¦åå¾åæ¶å¨æ²¡æåæ¶å®ï¼è¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨åºä½¿ç¨ãè½¯å¼ç¨å¯ç¨æ¥å®ç°åå­ææçé«éç¼å­ã\n\nè½¯å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ï¼å¦æè½¯å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼JAVA èææºå°±ä¼æè¿ä¸ªè½¯å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n3ï¼å¼±å¼ç¨ï¼WeakReferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æå¼±å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¼±å¼ç¨ä¸è½¯å¼ç¨çåºå«å¨äºï¼åªå·æå¼±å¼ç¨çå¯¹è±¡æ¥ææ´ç­æççå½å¨æãå¨åå¾åæ¶å¨çº¿ç¨æ«æå®æç®¡è¾çåå­åºåçè¿ç¨ä¸­ï¼ä¸æ¦åç°äºåªå·æå¼±å¼ç¨çå¯¹è±¡ï¼ä¸ç®¡å½ååå­ç©ºé´è¶³å¤ä¸å¦ï¼é½ä¼åæ¶å®çåå­ãä¸è¿ï¼ç±äºåå¾åæ¶å¨æ¯ä¸ä¸ªä¼åçº§å¾ä½ççº¿ç¨ï¼ å æ­¤ä¸ä¸å®ä¼å¾å¿«åç°é£äºåªå·æå¼±å¼ç¨çå¯¹è±¡ã\n\nå¼±å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ï¼å¦æå¼±å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼Java èææºå°±ä¼æè¿ä¸ªå¼±å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n4ï¼èå¼ç¨ï¼PhantomReferenceï¼\n\n"èå¼ç¨"é¡¾åæä¹ï¼å°±æ¯å½¢åèè®¾ï¼ä¸å¶ä»å ç§å¼ç¨é½ä¸åï¼èå¼ç¨å¹¶ä¸ä¼å³å®å¯¹è±¡ççå½å¨æãå¦æä¸ä¸ªå¯¹è±¡ä»ææèå¼ç¨ï¼é£ä¹å®å°±åæ²¡æä»»ä½å¼ç¨ä¸æ ·ï¼å¨ä»»ä½æ¶åé½å¯è½è¢«åå¾åæ¶ã\n\nèå¼ç¨ä¸»è¦ç¨æ¥è·è¸ªå¯¹è±¡è¢«åå¾åæ¶çæ´»å¨ã\n\nèå¼ç¨ä¸è½¯å¼ç¨åå¼±å¼ç¨çä¸ä¸ªåºå«å¨äºï¼ èå¼ç¨å¿é¡»åå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ãå½åå¾åæ¶å¨åå¤åæ¶ä¸ä¸ªå¯¹è±¡æ¶ï¼å¦æåç°å®è¿æèå¼ç¨ï¼å°±ä¼å¨åæ¶å¯¹è±¡çåå­ä¹åï¼æè¿ä¸ªèå¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ãç¨åºå¯ä»¥éè¿å¤æ­å¼ç¨éåä¸­æ¯å¦å·²ç»å å¥äºèå¼ç¨ï¼æ¥äºè§£è¢«å¼ç¨çå¯¹è±¡æ¯å¦å°è¦è¢«åå¾åæ¶ãç¨åºå¦æåç°æä¸ªèå¼ç¨å·²ç»è¢«å å¥å°å¼ç¨éåï¼é£ä¹å°±å¯ä»¥å¨æå¼ç¨çå¯¹è±¡çåå­è¢«åæ¶ä¹åéåå¿è¦çè¡å¨ã\n\nç¹å«æ³¨æï¼å¨ç¨åºè®¾è®¡ä¸­ä¸è¬å¾å°ä½¿ç¨å¼±å¼ç¨ä¸èå¼ç¨ï¼ä½¿ç¨è½¯å¼ç¨çæåµè¾å¤ï¼è¿æ¯å ä¸ºè½¯å¼ç¨å¯ä»¥å é JVM å¯¹åå¾åå­çåæ¶éåº¦ï¼å¯ä»¥ç»´æ¤ç³»ç»çè¿è¡å®å¨ï¼é²æ­¢åå­æº¢åºï¼OutOfMemoryï¼ç­é®é¢çäº§çã\n\n\n# å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éï¼\n\nè¿è¡æ¶å¸¸éæ± ä¸»è¦åæ¶çæ¯åºå¼çå¸¸éãé£ä¹ï¼æä»¬å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éå¢ï¼\n\nåå¦å¨å­ç¬¦ä¸²å¸¸éæ± ä¸­å­å¨å­ç¬¦ä¸² "abc"ï¼å¦æå½åæ²¡æä»»ä½ String å¯¹è±¡å¼ç¨è¯¥å­ç¬¦ä¸²å¸¸éçè¯ï¼å°±è¯´æå¸¸é "abc" å°±æ¯åºå¼å¸¸éï¼å¦æè¿æ¶åçåå­åæ¶çè¯èä¸æå¿è¦çè¯ï¼"abc" å°±ä¼è¢«ç³»ç»æ¸çåºå¸¸éæ± äºã\n\n\n# å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»\n\næ¹æ³åºä¸»è¦åæ¶çæ¯æ ç¨çç±»ï¼é£ä¹å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»çå¢ï¼\n\nå¤å®ä¸ä¸ªå¸¸éæ¯å¦æ¯âåºå¼å¸¸éâæ¯è¾ç®åï¼èè¦å¤å®ä¸ä¸ªç±»æ¯å¦æ¯âæ ç¨çç±»âçæ¡ä»¶åç¸å¯¹èå»è®¸å¤ãç±»éè¦åæ¶æ»¡è¶³ä¸é¢ 3 ä¸ªæ¡ä»¶æè½ç®æ¯ âæ ç¨çç±»â ï¼\n\n * è¯¥ç±»ææçå®ä¾é½å·²ç»è¢«åæ¶ï¼ä¹å°±æ¯ Java å ä¸­ä¸å­å¨è¯¥ç±»çä»»ä½å®ä¾ã\n * å è½½è¯¥ç±»ç ClassLoader å·²ç»è¢«åæ¶ã\n * è¯¥ç±»å¯¹åºç java.lang.Class å¯¹è±¡æ²¡æå¨ä»»ä½å°æ¹è¢«å¼ç¨ï¼æ æ³å¨ä»»ä½å°æ¹éè¿åå°è®¿é®è¯¥ç±»çæ¹æ³ã èææºå¯ä»¥å¯¹æ»¡è¶³ä¸è¿° 3 ä¸ªæ¡ä»¶çæ ç¨ç±»è¿è¡åæ¶ï¼è¿éè¯´çä»ä»æ¯âå¯ä»¥âï¼èå¹¶ä¸æ¯åå¯¹è±¡ä¸æ ·ä¸ä½¿ç¨äºå°±ä¼å¿ç¶è¢«åæ¶ã',normalizedContent:'java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼ å³æ­»äº¡å¯¹è±¡å¤æ­æ¹æ³ å ä¸­å ä¹æ¾çææçå¯¹è±¡å®ä¾ï¼å¯¹å åå¾åæ¶åçç¬¬ä¸æ­¥å°±æ¯è¦å¤æ­åªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼å³ä¸è½åè¢«ä»»ä½éå¾ä½¿ç¨çå¯¹è±¡ï¼ã\n\n\n# å¼ç¨è®¡æ°æ³\n\nç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼\n\næ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼ å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼ ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã è¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ã\n\næè°å¯¹è±¡ä¹é´çç¸äºå¼ç¨é®é¢ï¼å¦ä¸é¢ä»£ç æç¤ºï¼é¤äºå¯¹è±¡ obja å objb ç¸äºå¼ç¨çå¯¹æ¹ä¹å¤ï¼è¿ä¸¤ä¸ªå¯¹è±¡ä¹é´åæ ä»»ä½å¼ç¨ãä½æ¯ä»ä»¬å ä¸ºäºç¸å¼ç¨å¯¹æ¹ï¼å¯¼è´å®ä»¬çå¼ç¨è®¡æ°å¨é½ä¸ä¸º 0ï¼äºæ¯å¼ç¨è®¡æ°ç®æ³æ æ³éç¥ gc åæ¶å¨åæ¶ä»ä»¬ã\n\npublic class referencecountinggc {\n    object instance = null;\n    public static void main(string[] args) {\n        referencecountinggc obja = new referencecountinggc();\n        referencecountinggc objb = new referencecountinggc();\n        obja.instance = objb;\n        objb.instance = obja;\n        obja = null;\n        objb = null;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# å¯è¾¾æ§åæç®æ³\n\nè¿ä¸ªç®æ³çåºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âgc rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° gc roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çï¼éè¦è¢«åæ¶ã\n\nä¸å¾ä¸­ç object 6 ~ object 10 ä¹é´è½æå¼ç¨å³ç³»ï¼ä½å®ä»¬å° gc roots ä¸å¯è¾¾ï¼å æ­¤ä¸ºéè¦è¢«åæ¶çå¯¹è±¡ã\n\nåªäºå¯¹è±¡å¯ä»¥ä½ä¸º gc roots å¢ï¼\n\nèææºæ (æ å¸§ä¸­çæ¬å°åéè¡¨)ä¸­å¼ç¨çå¯¹è±¡ æ¬å°æ¹æ³æ (native æ¹æ³)ä¸­å¼ç¨çå¯¹è±¡ æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡ æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡ ææè¢«åæ­¥éææçå¯¹è±¡ å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶åï¼\n\nå³ä½¿å¨å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡ï¼ä¹å¹¶éæ¯âéæ­»ä¸å¯âçï¼è¿æ¶åå®ä»¬ææ¶å¤äºâç¼åé¶æ®µâï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ï¼å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ \'finalize\' æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç \'finalize\' æ¹æ³ï¼æ \'finalize\' æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã\n\nè¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n> object ç±»ä¸­ç finalize æ¹æ³ä¸ç´è¢«è®¤ä¸ºæ¯ä¸ä¸ªç³ç³çè®¾è®¡ï¼æä¸ºäº java è¯­è¨çè´æï¼å½±åäº java è¯­è¨çå®å¨å gc çæ§è½ãjdk9 çæ¬ååç»­çæ¬ä¸­åä¸ªç±»ä¸­ç finalize æ¹æ³ä¼è¢«éæ¸å¼ç¨ç§»é¤ãå¿æå®çå­å¨å§ï¼\n\n\n# å¼ç¨ç±»åæ»ç»\n\næ è®ºæ¯éè¿å¼ç¨è®¡æ°æ³å¤æ­å¯¹è±¡å¼ç¨æ°éï¼è¿æ¯éè¿å¯è¾¾æ§åææ³å¤æ­å¯¹è±¡çå¼ç¨é¾æ¯å¦å¯è¾¾ï¼å¤å®å¯¹è±¡çå­æ´»é½ä¸âå¼ç¨âæå³ã\n\njdk1.2 ä¹åï¼java ä¸­å¼ç¨çå®ä¹å¾ä¼ ç»ï¼å¦æ reference ç±»åçæ°æ®å­å¨çæ°å¼ä»£è¡¨çæ¯å¦ä¸ååå­çèµ·å§å°åï¼å°±ç§°è¿ååå­ä»£è¡¨ä¸ä¸ªå¼ç¨ã\n\njdk1.2 ä»¥åï¼java å¯¹å¼ç¨çæ¦å¿µè¿è¡äºæ©åï¼å°å¼ç¨åä¸ºå¼ºå¼ç¨ãè½¯å¼ç¨ãå¼±å¼ç¨ãèå¼ç¨åç§ï¼å¼ç¨å¼ºåº¦éæ¸åå¼±ï¼\n\n1ï¼å¼ºå¼ç¨ï¼strongreferenceï¼\n\nä»¥åæä»¬ä½¿ç¨çå¤§é¨åå¼ç¨å®éä¸é½æ¯å¼ºå¼ç¨ï¼è¿æ¯ä½¿ç¨ææ®éçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡å·æå¼ºå¼ç¨ï¼é£å°±ç±»ä¼¼äºå¿ä¸å¯å°ççæ´»ç¨åï¼åå¾åæ¶å¨ç»ä¸ä¼åæ¶å®ãå½åå­ç©ºé´ä¸è¶³ï¼java èææºå®æ¿æåº outofmemoryerror éè¯¯ï¼ä½¿ç¨åºå¼å¸¸ç»æ­¢ï¼ä¹ä¸ä¼é éæåæ¶å·æå¼ºå¼ç¨çå¯¹è±¡æ¥è§£å³åå­ä¸è¶³é®é¢ã\n\n2ï¼è½¯å¼ç¨ï¼softreferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æè½¯å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¦æåå­ç©ºé´è¶³å¤ï¼åå¾åæ¶å¨å°±ä¸ä¼åæ¶å®ï¼å¦æåå­ç©ºé´ä¸è¶³äºï¼å°±ä¼åæ¶è¿äºå¯¹è±¡çåå­ãåªè¦åå¾åæ¶å¨æ²¡æåæ¶å®ï¼è¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨åºä½¿ç¨ãè½¯å¼ç¨å¯ç¨æ¥å®ç°åå­ææçé«éç¼å­ã\n\nè½¯å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼referencequeueï¼èåä½¿ç¨ï¼å¦æè½¯å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼java èææºå°±ä¼æè¿ä¸ªè½¯å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n3ï¼å¼±å¼ç¨ï¼weakreferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æå¼±å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¼±å¼ç¨ä¸è½¯å¼ç¨çåºå«å¨äºï¼åªå·æå¼±å¼ç¨çå¯¹è±¡æ¥ææ´ç­æççå½å¨æãå¨åå¾åæ¶å¨çº¿ç¨æ«æå®æç®¡è¾çåå­åºåçè¿ç¨ä¸­ï¼ä¸æ¦åç°äºåªå·æå¼±å¼ç¨çå¯¹è±¡ï¼ä¸ç®¡å½ååå­ç©ºé´è¶³å¤ä¸å¦ï¼é½ä¼åæ¶å®çåå­ãä¸è¿ï¼ç±äºåå¾åæ¶å¨æ¯ä¸ä¸ªä¼åçº§å¾ä½ççº¿ç¨ï¼ å æ­¤ä¸ä¸å®ä¼å¾å¿«åç°é£äºåªå·æå¼±å¼ç¨çå¯¹è±¡ã\n\nå¼±å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼referencequeueï¼èåä½¿ç¨ï¼å¦æå¼±å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼java èææºå°±ä¼æè¿ä¸ªå¼±å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n4ï¼èå¼ç¨ï¼phantomreferenceï¼\n\n"èå¼ç¨"é¡¾åæä¹ï¼å°±æ¯å½¢åèè®¾ï¼ä¸å¶ä»å ç§å¼ç¨é½ä¸åï¼èå¼ç¨å¹¶ä¸ä¼å³å®å¯¹è±¡ççå½å¨æãå¦æä¸ä¸ªå¯¹è±¡ä»ææèå¼ç¨ï¼é£ä¹å®å°±åæ²¡æä»»ä½å¼ç¨ä¸æ ·ï¼å¨ä»»ä½æ¶åé½å¯è½è¢«åå¾åæ¶ã\n\nèå¼ç¨ä¸»è¦ç¨æ¥è·è¸ªå¯¹è±¡è¢«åå¾åæ¶çæ´»å¨ã\n\nèå¼ç¨ä¸è½¯å¼ç¨åå¼±å¼ç¨çä¸ä¸ªåºå«å¨äºï¼ èå¼ç¨å¿é¡»åå¼ç¨éåï¼referencequeueï¼èåä½¿ç¨ãå½åå¾åæ¶å¨åå¤åæ¶ä¸ä¸ªå¯¹è±¡æ¶ï¼å¦æåç°å®è¿æèå¼ç¨ï¼å°±ä¼å¨åæ¶å¯¹è±¡çåå­ä¹åï¼æè¿ä¸ªèå¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ãç¨åºå¯ä»¥éè¿å¤æ­å¼ç¨éåä¸­æ¯å¦å·²ç»å å¥äºèå¼ç¨ï¼æ¥äºè§£è¢«å¼ç¨çå¯¹è±¡æ¯å¦å°è¦è¢«åå¾åæ¶ãç¨åºå¦æåç°æä¸ªèå¼ç¨å·²ç»è¢«å å¥å°å¼ç¨éåï¼é£ä¹å°±å¯ä»¥å¨æå¼ç¨çå¯¹è±¡çåå­è¢«åæ¶ä¹åéåå¿è¦çè¡å¨ã\n\nç¹å«æ³¨æï¼å¨ç¨åºè®¾è®¡ä¸­ä¸è¬å¾å°ä½¿ç¨å¼±å¼ç¨ä¸èå¼ç¨ï¼ä½¿ç¨è½¯å¼ç¨çæåµè¾å¤ï¼è¿æ¯å ä¸ºè½¯å¼ç¨å¯ä»¥å é jvm å¯¹åå¾åå­çåæ¶éåº¦ï¼å¯ä»¥ç»´æ¤ç³»ç»çè¿è¡å®å¨ï¼é²æ­¢åå­æº¢åºï¼outofmemoryï¼ç­é®é¢çäº§çã\n\n\n# å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éï¼\n\nè¿è¡æ¶å¸¸éæ± ä¸»è¦åæ¶çæ¯åºå¼çå¸¸éãé£ä¹ï¼æä»¬å¦ä½å¤æ­ä¸ä¸ªå¸¸éæ¯åºå¼å¸¸éå¢ï¼\n\nåå¦å¨å­ç¬¦ä¸²å¸¸éæ± ä¸­å­å¨å­ç¬¦ä¸² "abc"ï¼å¦æå½åæ²¡æä»»ä½ string å¯¹è±¡å¼ç¨è¯¥å­ç¬¦ä¸²å¸¸éçè¯ï¼å°±è¯´æå¸¸é "abc" å°±æ¯åºå¼å¸¸éï¼å¦æè¿æ¶åçåå­åæ¶çè¯èä¸æå¿è¦çè¯ï¼"abc" å°±ä¼è¢«ç³»ç»æ¸çåºå¸¸éæ± äºã\n\n\n# å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»\n\næ¹æ³åºä¸»è¦åæ¶çæ¯æ ç¨çç±»ï¼é£ä¹å¦ä½å¤æ­ä¸ä¸ªç±»æ¯æ ç¨çç±»çå¢ï¼\n\nå¤å®ä¸ä¸ªå¸¸éæ¯å¦æ¯âåºå¼å¸¸éâæ¯è¾ç®åï¼èè¦å¤å®ä¸ä¸ªç±»æ¯å¦æ¯âæ ç¨çç±»âçæ¡ä»¶åç¸å¯¹èå»è®¸å¤ãç±»éè¦åæ¶æ»¡è¶³ä¸é¢ 3 ä¸ªæ¡ä»¶æè½ç®æ¯ âæ ç¨çç±»â ï¼\n\n * è¯¥ç±»ææçå®ä¾é½å·²ç»è¢«åæ¶ï¼ä¹å°±æ¯ java å ä¸­ä¸å­å¨è¯¥ç±»çä»»ä½å®ä¾ã\n * å è½½è¯¥ç±»ç classloader å·²ç»è¢«åæ¶ã\n * è¯¥ç±»å¯¹åºç java.lang.class å¯¹è±¡æ²¡æå¨ä»»ä½å°æ¹è¢«å¼ç¨ï¼æ æ³å¨ä»»ä½å°æ¹éè¿åå°è®¿é®è¯¥ç±»çæ¹æ³ã èææºå¯ä»¥å¯¹æ»¡è¶³ä¸è¿° 3 ä¸ªæ¡ä»¶çæ ç¨ç±»è¿è¡åæ¶ï¼è¿éè¯´çä»ä»æ¯âå¯ä»¥âï¼èå¹¶ä¸æ¯åå¯¹è±¡ä¸æ ·ä¸ä½¿ç¨äºå°±ä¼å¿ç¶è¢«åæ¶ã',charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"Java ä¸­å¦ä½è¿è¡ GC è°ä¼ï¼",frontmatter:{title:"Java ä¸­å¦ä½è¿è¡ GC è°ä¼ï¼",date:"2022-05-21T17:31:53.000Z",permalink:"/pages/07a030/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/020.Java%20%E4%B8%AD%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%20GC%20%E8%B0%83%E4%BC%98%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/020.Java ä¸­å¦ä½è¿è¡ GC è°ä¼ï¼.md",key:"v-5474bec0",path:"/pages/07a030/",headers:[{level:2,title:"GCä¼åéç¥",slug:"gcä¼åéç¥",normalizedTitle:"gcä¼åéç¥",charIndex:305},{level:2,title:"JVMåå­ç»æ",slug:"jvmåå­ç»æ",normalizedTitle:"jvmåå­ç»æ",charIndex:506},{level:2,title:"å¸¸è§åå¾åæ¶å¨",slug:"å¸¸è§åå¾åæ¶å¨",normalizedTitle:"å¸¸è§åå¾åæ¶å¨",charIndex:1401},{level:2,title:"åæ°åºæ¬ç­ç¥",slug:"åæ°åºæ¬ç­ç¥",normalizedTitle:"åæ°åºæ¬ç­ç¥",charIndex:1751},{level:2,title:"ç¡®å®ç®æ ",slug:"ç¡®å®ç®æ ",normalizedTitle:"ç¡®å®ç®æ ",charIndex:2165},{level:2,title:"ä¼å",slug:"ä¼å",normalizedTitle:"ä¼å",charIndex:20},{level:2,title:"éªæ¶ä¼åç»æ",slug:"éªæ¶ä¼åç»æ",normalizedTitle:"éªæ¶ä¼åç»æ",charIndex:2841}],headersStr:"GCä¼åéç¥ JVMåå­ç»æ å¸¸è§åå¾åæ¶å¨ åæ°åºæ¬ç­ç¥ ç¡®å®ç®æ  ä¼å éªæ¶ä¼åç»æ",content:"å½Javaç¨åºæ§è½è¾¾ä¸å°æ¢å®ç®æ ï¼ä¸å¶ä»ä¼åææ®µé½å·²ç»ç©·å°½æ¶ï¼éå¸¸éè¦è°æ´åå¾åæ¶å¨æ¥è¿ä¸æ­¥æé«æ§è½ï¼ç§°ä¸ºGCä¼åã ä½GCç®æ³å¤æï¼å½±åGCæ§è½çåæ°ä¼å¤ï¼ä¸åæ°è°æ´åä¾èµäºåºç¨åèªçç¹ç¹ï¼è¿äºå ç´ å¾å¤§ç¨åº¦ä¸å¢å äºGCä¼åçé¾åº¦ã\n\nå³ä¾¿å¦æ­¤ï¼GCè°ä¼ä¹ä¸æ¯æ ç« å¯å¾ªï¼ä»ç¶æä¸äºéç¨çæèæ¹æ³ã\n\næ¬ç¯ä¼ä»ç»è¿äºéç¨çGCä¼åç­ç¥åç¸å³å®è·µæ¡ä¾ï¼ä¸»è¦åæ¬å¦ä¸åå®¹ï¼\n\n> ä¼åååå¤: ç®ååé¡¾JVMç¸å³ç¥è¯ãä»ç»GCä¼åçä¸äºéç¨ç­ç¥ã\n> ä¼åæ¹æ³: ä»ç»è°ä¼çä¸è¬æµç¨ï¼æç¡®ä¼åç®æ âä¼åâè·è¸ªä¼åç»æã\n> ä¼åæ¡ä¾: ç®è¿°ç¬èæå¨å¢ééå°çGCé®é¢ä»¥åä¼åæ¹æ¡ã\n\n\n# ä¸ãä¼ååçåå¤\n\n\n# GCä¼åéç¥\n\nä¸ºäºæ´å¥½å°çè§£æ¬ç¯æä»ç»çåå®¹ï¼ä½ éè¦äºè§£å¦ä¸åå®¹ã 1. GCç¸å³åºç¡ç¥è¯ï¼åæ¬ä½ä¸éäºï¼ a) GCå·¥ä½åçã b) çè§£æ°çä»£ãèå¹´ä»£ãæåç­æ¯è¯­å«ä¹ã c) å¯ä»¥çæGCæ¥å¿ã\n\nGCä¼åä¸è½è§£å³ä¸åæ§è½é®é¢ï¼å®æ¯æåçè°ä¼ææ®µã å¦æå¯¹ç¬¬ä¸ç¹ä¸­æåçç¥è¯ç¹ä¸æ¯å¾çæï¼å¯ä»¥åéè¯»å°ç»-JVMåºç¡åé¡¾ï¼å¦æå·²ç»å¾çæï¼å¯ä»¥è·³è¿è¯¥èç´æ¥å¾ä¸éè¯»ã\n\n\n# JVMåºç¡åé¡¾\n\n\n# JVMåå­ç»æ\n\nç®åä»ç»ä¸ä¸JVMåå­ç»æåå¸¸è§çåå¾åæ¶å¨ã\n\nå½ä»£ä¸»æµèææºï¼Hotspot VMï¼çåå¾åæ¶é½éç¨âåä»£åæ¶âçç®æ³ãâåä»£åæ¶âæ¯åºäºè¿æ ·ä¸ä¸ªäºå®ï¼å¯¹è±¡ççå½å¨æä¸åï¼æä»¥éå¯¹ä¸åçå½å¨æçå¯¹è±¡å¯ä»¥éåä¸åçåæ¶æ¹å¼ï¼ä»¥ä¾¿æé«åæ¶æçã\n\nHotspot VMå°åå­ååä¸ºä¸åçç©çåºï¼å°±æ¯âåä»£âææ³çä½ç°ãå¦å¾æç¤ºï¼JVMåå­ä¸»è¦ç±æ°çä»£ãèå¹´ä»£ãæ°¸ä¹ä»£ææã\n\n\n\nâ  æ°çä»£ï¼Young Generationï¼ï¼å¤§å¤æ°å¯¹è±¡å¨æ°çä»£ä¸­è¢«åå»ºï¼å¶ä¸­å¾å¤å¯¹è±¡ççå½å¨æå¾ç­ãæ¯æ¬¡æ°çä»£çåå¾åæ¶ï¼åç§°Minor GCï¼ååªæå°éå¯¹è±¡å­æ´»ï¼æä»¥éç¨å¤å¶ç®æ³ï¼åªéè¦å°éçå¤å¶ææ¬å°±å¯ä»¥å®æåæ¶ã\n\næ°çä»£åååä¸ä¸ªåºï¼ä¸ä¸ªEdenåºï¼ä¸¤ä¸ªSurvivoråºï¼ä¸è¬èè¨ï¼ï¼å¤§é¨åå¯¹è±¡å¨Edenåºä¸­çæãå½Edenåºæ»¡æ¶ï¼è¿å­æ´»çå¯¹è±¡å°è¢«å¤å¶å°ä¸¤ä¸ªSurvivoråºï¼ä¸­çä¸ä¸ªï¼ãå½è¿ä¸ªSurvivoråºæ»¡æ¶ï¼æ­¤åºçå­æ´»ä¸ä¸æ»¡è¶³âæåâæ¡ä»¶çå¯¹è±¡å°è¢«å¤å¶å°å¦å¤ä¸ä¸ªSurvivoråºãå¯¹è±¡æ¯ç»åä¸æ¬¡Minor GCï¼å¹´é¾å 1ï¼è¾¾å°âæåå¹´é¾éå¼âåï¼è¢«æ¾å°èå¹´ä»£ï¼è¿ä¸ªè¿ç¨ä¹ç§°ä¸ºâæåâãæ¾ç¶ï¼âæåå¹´é¾éå¼âçå¤§å°ç´æ¥å½±åçå¯¹è±¡å¨æ°çä»£ä¸­çåçæ¶é´ï¼å¨SerialåParNew GCä¸¤ç§åæ¶å¨ä¸­ï¼âæåå¹´é¾éå¼âéè¿åæ°MaxTenuringThresholdè®¾å®ï¼é»è®¤å¼ä¸º15ã\n\nâ¡ èå¹´ä»£ï¼Old Generationï¼ï¼å¨æ°çä»£ä¸­ç»åäºNæ¬¡åå¾åæ¶åä»ç¶å­æ´»çå¯¹è±¡ï¼å°±ä¼è¢«æ¾å°å¹´èä»£ï¼è¯¥åºåä¸­å¯¹è±¡å­æ´»çé«ãèå¹´ä»£çåå¾åæ¶ï¼åç§°Major GCï¼éå¸¸ä½¿ç¨âæ è®°-æ¸çâæâæ è®°-æ´çâç®æ³ãæ´å åæ¬æ°çä»£åèå¹´ä»£çåå¾åæ¶ç§°ä¸ºFull GCï¼HotSpot VMéï¼é¤äºCMSä¹å¤ï¼å¶å®è½æ¶éèå¹´ä»£çGCé½ä¼åæ¶æ¶éæ´ä¸ªGCå ï¼åæ¬æ°çä»£ï¼ã\n\nâ¢ æ°¸ä¹ä»£ï¼Perm Generationï¼ï¼ä¸»è¦å­æ¾åæ°æ®ï¼ä¾å¦ClassãMethodçåä¿¡æ¯ï¼ä¸åå¾åæ¶è¦åæ¶çJavaå¯¹è±¡å³ç³»ä¸å¤§ãç¸å¯¹äºæ°çä»£åå¹´èä»£æ¥è¯´ï¼è¯¥åºåçååå¯¹åå¾åæ¶å½±åæ¯è¾å°ã\n\n\n# å¸¸è§åå¾åæ¶å¨\n\nä¸åçåå¾åæ¶å¨ï¼éç¨äºä¸åçåºæ¯ãå¸¸ç¨çåå¾åæ¶å¨ï¼\n\nä¸²è¡ï¼Serialï¼åæ¶å¨æ¯åçº¿ç¨çä¸ä¸ªåæ¶å¨ï¼ç®åãæå®ç°ãæçé«ã å¹¶è¡ï¼ParNewï¼åæ¶å¨æ¯Serialçå¤çº¿ç¨çï¼å¯ä»¥ååçå©ç¨CPUèµæºï¼åå°åæ¶çæ¶é´ã ååéä¼åï¼Parallel Scavengeï¼åæ¶å¨ï¼ä¾§éäºååéçæ§å¶ã å¹¶åæ è®°æ¸é¤ï¼CMSï¼Concurrent Mark Sweepï¼åæ¶å¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çåæ¶å¨ï¼è¯¥åæ¶å¨æ¯åºäºâæ è®°-æ¸é¤âç®æ³å®ç°çã GCæ¥å¿ æ¯ä¸ç§åæ¶å¨çæ¥å¿æ ¼å¼é½æ¯ç±å¶èªèº«çå®ç°å³å®çï¼æ¢èè¨ä¹ï¼æ¯ç§åæ¶å¨çæ¥å¿æ ¼å¼é½å¯ä»¥ä¸ä¸æ ·ãä½èææºè®¾è®¡èä¸ºäºæ¹ä¾¿ç¨æ·éè¯»ï¼å°åä¸ªåæ¶å¨çæ¥å¿é½ç»´æä¸å®çå±æ§ãJavaGCæ¥å¿ ä¸­ç®åä»ç»äºè¿äºå±æ§ã\n\n\n# åæ°åºæ¬ç­ç¥\n\nåååºçå¤§å°å¯¹GCçæ§è½å½±åå¾å¤§ãå¦ä½å°åååºè°æ´å°åéçå¤§å°ï¼åææ´»è·æ°æ®çå¤§å°æ¯å¾å¥½çåå¥ç¹ã\n\næ´»è·æ°æ®çå¤§å°æ¯æï¼åºç¨ç¨åºç¨³å®è¿è¡æ¶é¿æå­æ´»å¯¹è±¡å¨å ä¸­å ç¨çç©ºé´å¤§å°ï¼ä¹å°±æ¯Full GCåå ä¸­èå¹´ä»£å ç¨ç©ºé´çå¤§å°ãå¯ä»¥éè¿GCæ¥å¿ä¸­Full GCä¹åèå¹´ä»£æ°æ®å¤§å°å¾åºï¼æ¯è¾åç¡®çæ¹æ³æ¯å¨ç¨åºç¨³å®åï¼å¤æ¬¡è·åGCæ°æ®ï¼éè¿åå¹³åå¼çæ¹å¼è®¡ç®æ´»è·æ°æ®çå¤§å°ãæ´»è·æ°æ®ååååºä¹é´çæ¯ä¾å³ç³»å¦ä¸ï¼è§åèæç®1ï¼ï¼\n\nä¾å¦ï¼æ ¹æ®GCæ¥å¿è·å¾èå¹´ä»£çæ´»è·æ°æ®å¤§å°ä¸º300Mï¼é£ä¹åååºå¤§å°å¯ä»¥è®¾ä¸ºï¼\n\næ»å ï¼1200MB = 300MB Ã 4* æ°çä»£ï¼450MB = 300MB Ã 1.5* èå¹´ä»£ï¼ 750MB = 1200MB - 450MB*\n\nè¿é¨åè®¾ç½®ä»ä»æ¯å å¤§å°çåå§å¼ï¼åé¢çä¼åä¸­ï¼å¯è½ä¼è°æ´è¿äºå¼ï¼å·ä½æåµåå³äºåºç¨ç¨åºçç¹æ§åéæ±ã\n\n\n# äºãä¼åæ­¥éª¤\n\nGCä¼åä¸è¬æ­¥éª¤å¯ä»¥æ¦æ¬ä¸ºï¼ç¡®å®ç®æ ãä¼ååæ°ãéªæ¶ç»æã\n\n\n# ç¡®å®ç®æ \n\næç¡®åºç¨ç¨åºçç³»ç»éæ±æ¯æ§è½ä¼åçåºç¡ï¼ç³»ç»çéæ±æ¯æåºç¨ç¨åºè¿è¡æ¶ææ¹é¢çè¦æ±ï¼è­¬å¦ï¼ - é«å¯ç¨ï¼å¯ç¨æ§è¾¾å°å ä¸ª9ã - ä½å»¶è¿ï¼è¯·æ±å¿é¡»å¤å°æ¯«ç§åå®æååºã - é«ååï¼æ¯ç§å®æå¤å°æ¬¡äºå¡ã\n\næç¡®ç³»ç»éæ±ä¹æä»¥éè¦ï¼æ¯å ä¸ºä¸è¿°æ§è½ææ é´å¯è½å²çªãæ¯å¦éå¸¸æåµä¸ï¼ç¼©å°å»¶è¿çä»£ä»·æ¯éä½ååéæèæ¶èæ´å¤çåå­æèä¸¤èåæ¶åçã\n\nç±äºç¬èæå¨å¢éä¸»è¦å³æ³¨é«å¯ç¨åä½å»¶è¿ä¸¤é¡¹ææ ï¼æä»¥æ¥ä¸æ¥åæï¼å¦ä½éåGCæ¶é´åé¢çå¯¹äºååºæ¶é´åå¯ç¨æ§çå½±åãéè¿è¿ä¸ªéåææ ï¼å¯ä»¥è®¡ç®åºå½åGCæåµå¯¹æå¡çå½±åï¼ä¹è½è¯ä¼°åºGCä¼ååå¯¹ååºæ¶é´çæ¶çï¼è¿ä¸¤ç¹å¯¹äºä½å»¶è¿æå¡å¾éè¦ã\n\nä¸¾ä¾ï¼åè®¾åä½æ¶é´Tååçä¸æ¬¡æç»­25msçGCï¼æ¥å£å¹³åååºæ¶é´ä¸º50msï¼ä¸è¯·æ±ååå°è¾¾ï¼æ ¹æ®ä¸å¾æç¤ºï¼\n\n\n\né£ä¹æ(50ms+25ms)/Tæ¯ä¾çè¯·æ±ä¼åGCå½±åï¼å¶ä¸­GCåç50msåå°è¾¾çè¯·æ±é½ä¼å¢å 25msï¼GCæé´ç25msåå°è¾¾çè¯·æ±ï¼ä¼å¢å 0-25msä¸ç­ï¼å¦ææ¶é´TååçNæ¬¡GCï¼åGCå½±åè¯·æ±å æ¯=(æ¥å£ååºæ¶é´+GCæ¶é´)ÃN/T ãå¯è§æ è®ºéä½åæ¬¡GCæ¶é´è¿æ¯éä½GCæ¬¡æ°Né½å¯ä»¥ææåå°GCå¯¹ååºæ¶é´çå½±åã\n\n\n# ä¼å\n\néè¿æ¶éGCä¿¡æ¯ï¼ç»åç³»ç»éæ±ï¼ç¡®å®ä¼åæ¹æ¡ï¼ä¾å¦éç¨åéçGCåæ¶å¨ãéæ°è®¾ç½®åå­æ¯ä¾ãè°æ´JVMåæ°ç­ã\n\nè¿è¡è°æ´åï¼å°ä¸åçä¼åæ¹æ¡åå«åºç¨å°å¤å°æºå¨ä¸ï¼ç¶åæ¯è¾è¿äºæºå¨ä¸GCçæ§è½å·®å¼ï¼æéå¯¹æ§çååºéæ©ï¼åéè¿ä¸æ­çè¯éªåè§å¯ï¼æ¾å°æåéçåæ°ã\n\n\n# éªæ¶ä¼åç»æ\n\nå°ä¿®æ¹åºç¨å°æææå¡å¨ï¼å¤æ­ä¼åç»ææ¯å¦ç¬¦åé¢æï¼æ»ç»ç¸å³ç»éªã\n\nåèï¼ç¾å¢ææ¯å¢é-ä»å®éæ¡ä¾èèJavaåºç¨çGCä¼å",normalizedContent:"å½javaç¨åºæ§è½è¾¾ä¸å°æ¢å®ç®æ ï¼ä¸å¶ä»ä¼åææ®µé½å·²ç»ç©·å°½æ¶ï¼éå¸¸éè¦è°æ´åå¾åæ¶å¨æ¥è¿ä¸æ­¥æé«æ§è½ï¼ç§°ä¸ºgcä¼åã ä½gcç®æ³å¤æï¼å½±ågcæ§è½çåæ°ä¼å¤ï¼ä¸åæ°è°æ´åä¾èµäºåºç¨åèªçç¹ç¹ï¼è¿äºå ç´ å¾å¤§ç¨åº¦ä¸å¢å äºgcä¼åçé¾åº¦ã\n\nå³ä¾¿å¦æ­¤ï¼gcè°ä¼ä¹ä¸æ¯æ ç« å¯å¾ªï¼ä»ç¶æä¸äºéç¨çæèæ¹æ³ã\n\næ¬ç¯ä¼ä»ç»è¿äºéç¨çgcä¼åç­ç¥åç¸å³å®è·µæ¡ä¾ï¼ä¸»è¦åæ¬å¦ä¸åå®¹ï¼\n\n> ä¼åååå¤: ç®ååé¡¾jvmç¸å³ç¥è¯ãä»ç»gcä¼åçä¸äºéç¨ç­ç¥ã\n> ä¼åæ¹æ³: ä»ç»è°ä¼çä¸è¬æµç¨ï¼æç¡®ä¼åç®æ âä¼åâè·è¸ªä¼åç»æã\n> ä¼åæ¡ä¾: ç®è¿°ç¬èæå¨å¢ééå°çgcé®é¢ä»¥åä¼åæ¹æ¡ã\n\n\n# ä¸ãä¼ååçåå¤\n\n\n# gcä¼åéç¥\n\nä¸ºäºæ´å¥½å°çè§£æ¬ç¯æä»ç»çåå®¹ï¼ä½ éè¦äºè§£å¦ä¸åå®¹ã 1. gcç¸å³åºç¡ç¥è¯ï¼åæ¬ä½ä¸éäºï¼ a) gcå·¥ä½åçã b) çè§£æ°çä»£ãèå¹´ä»£ãæåç­æ¯è¯­å«ä¹ã c) å¯ä»¥çægcæ¥å¿ã\n\ngcä¼åä¸è½è§£å³ä¸åæ§è½é®é¢ï¼å®æ¯æåçè°ä¼ææ®µã å¦æå¯¹ç¬¬ä¸ç¹ä¸­æåçç¥è¯ç¹ä¸æ¯å¾çæï¼å¯ä»¥åéè¯»å°ç»-jvmåºç¡åé¡¾ï¼å¦æå·²ç»å¾çæï¼å¯ä»¥è·³è¿è¯¥èç´æ¥å¾ä¸éè¯»ã\n\n\n# jvmåºç¡åé¡¾\n\n\n# jvmåå­ç»æ\n\nç®åä»ç»ä¸ä¸jvmåå­ç»æåå¸¸è§çåå¾åæ¶å¨ã\n\nå½ä»£ä¸»æµèææºï¼hotspot vmï¼çåå¾åæ¶é½éç¨âåä»£åæ¶âçç®æ³ãâåä»£åæ¶âæ¯åºäºè¿æ ·ä¸ä¸ªäºå®ï¼å¯¹è±¡ççå½å¨æä¸åï¼æä»¥éå¯¹ä¸åçå½å¨æçå¯¹è±¡å¯ä»¥éåä¸åçåæ¶æ¹å¼ï¼ä»¥ä¾¿æé«åæ¶æçã\n\nhotspot vmå°åå­ååä¸ºä¸åçç©çåºï¼å°±æ¯âåä»£âææ³çä½ç°ãå¦å¾æç¤ºï¼jvmåå­ä¸»è¦ç±æ°çä»£ãèå¹´ä»£ãæ°¸ä¹ä»£ææã\n\n\n\nâ  æ°çä»£ï¼young generationï¼ï¼å¤§å¤æ°å¯¹è±¡å¨æ°çä»£ä¸­è¢«åå»ºï¼å¶ä¸­å¾å¤å¯¹è±¡ççå½å¨æå¾ç­ãæ¯æ¬¡æ°çä»£çåå¾åæ¶ï¼åç§°minor gcï¼ååªæå°éå¯¹è±¡å­æ´»ï¼æä»¥éç¨å¤å¶ç®æ³ï¼åªéè¦å°éçå¤å¶ææ¬å°±å¯ä»¥å®æåæ¶ã\n\næ°çä»£åååä¸ä¸ªåºï¼ä¸ä¸ªedenåºï¼ä¸¤ä¸ªsurvivoråºï¼ä¸è¬èè¨ï¼ï¼å¤§é¨åå¯¹è±¡å¨edenåºä¸­çæãå½edenåºæ»¡æ¶ï¼è¿å­æ´»çå¯¹è±¡å°è¢«å¤å¶å°ä¸¤ä¸ªsurvivoråºï¼ä¸­çä¸ä¸ªï¼ãå½è¿ä¸ªsurvivoråºæ»¡æ¶ï¼æ­¤åºçå­æ´»ä¸ä¸æ»¡è¶³âæåâæ¡ä»¶çå¯¹è±¡å°è¢«å¤å¶å°å¦å¤ä¸ä¸ªsurvivoråºãå¯¹è±¡æ¯ç»åä¸æ¬¡minor gcï¼å¹´é¾å 1ï¼è¾¾å°âæåå¹´é¾éå¼âåï¼è¢«æ¾å°èå¹´ä»£ï¼è¿ä¸ªè¿ç¨ä¹ç§°ä¸ºâæåâãæ¾ç¶ï¼âæåå¹´é¾éå¼âçå¤§å°ç´æ¥å½±åçå¯¹è±¡å¨æ°çä»£ä¸­çåçæ¶é´ï¼å¨serialåparnew gcä¸¤ç§åæ¶å¨ä¸­ï¼âæåå¹´é¾éå¼âéè¿åæ°maxtenuringthresholdè®¾å®ï¼é»è®¤å¼ä¸º15ã\n\nâ¡ èå¹´ä»£ï¼old generationï¼ï¼å¨æ°çä»£ä¸­ç»åäºnæ¬¡åå¾åæ¶åä»ç¶å­æ´»çå¯¹è±¡ï¼å°±ä¼è¢«æ¾å°å¹´èä»£ï¼è¯¥åºåä¸­å¯¹è±¡å­æ´»çé«ãèå¹´ä»£çåå¾åæ¶ï¼åç§°major gcï¼éå¸¸ä½¿ç¨âæ è®°-æ¸çâæâæ è®°-æ´çâç®æ³ãæ´å åæ¬æ°çä»£åèå¹´ä»£çåå¾åæ¶ç§°ä¸ºfull gcï¼hotspot vméï¼é¤äºcmsä¹å¤ï¼å¶å®è½æ¶éèå¹´ä»£çgcé½ä¼åæ¶æ¶éæ´ä¸ªgcå ï¼åæ¬æ°çä»£ï¼ã\n\nâ¢ æ°¸ä¹ä»£ï¼perm generationï¼ï¼ä¸»è¦å­æ¾åæ°æ®ï¼ä¾å¦classãmethodçåä¿¡æ¯ï¼ä¸åå¾åæ¶è¦åæ¶çjavaå¯¹è±¡å³ç³»ä¸å¤§ãç¸å¯¹äºæ°çä»£åå¹´èä»£æ¥è¯´ï¼è¯¥åºåçååå¯¹åå¾åæ¶å½±åæ¯è¾å°ã\n\n\n# å¸¸è§åå¾åæ¶å¨\n\nä¸åçåå¾åæ¶å¨ï¼éç¨äºä¸åçåºæ¯ãå¸¸ç¨çåå¾åæ¶å¨ï¼\n\nä¸²è¡ï¼serialï¼åæ¶å¨æ¯åçº¿ç¨çä¸ä¸ªåæ¶å¨ï¼ç®åãæå®ç°ãæçé«ã å¹¶è¡ï¼parnewï¼åæ¶å¨æ¯serialçå¤çº¿ç¨çï¼å¯ä»¥ååçå©ç¨cpuèµæºï¼åå°åæ¶çæ¶é´ã ååéä¼åï¼parallel scavengeï¼åæ¶å¨ï¼ä¾§éäºååéçæ§å¶ã å¹¶åæ è®°æ¸é¤ï¼cmsï¼concurrent mark sweepï¼åæ¶å¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çåæ¶å¨ï¼è¯¥åæ¶å¨æ¯åºäºâæ è®°-æ¸é¤âç®æ³å®ç°çã gcæ¥å¿ æ¯ä¸ç§åæ¶å¨çæ¥å¿æ ¼å¼é½æ¯ç±å¶èªèº«çå®ç°å³å®çï¼æ¢èè¨ä¹ï¼æ¯ç§åæ¶å¨çæ¥å¿æ ¼å¼é½å¯ä»¥ä¸ä¸æ ·ãä½èææºè®¾è®¡èä¸ºäºæ¹ä¾¿ç¨æ·éè¯»ï¼å°åä¸ªåæ¶å¨çæ¥å¿é½ç»´æä¸å®çå±æ§ãjavagcæ¥å¿ ä¸­ç®åä»ç»äºè¿äºå±æ§ã\n\n\n# åæ°åºæ¬ç­ç¥\n\nåååºçå¤§å°å¯¹gcçæ§è½å½±åå¾å¤§ãå¦ä½å°åååºè°æ´å°åéçå¤§å°ï¼åææ´»è·æ°æ®çå¤§å°æ¯å¾å¥½çåå¥ç¹ã\n\næ´»è·æ°æ®çå¤§å°æ¯æï¼åºç¨ç¨åºç¨³å®è¿è¡æ¶é¿æå­æ´»å¯¹è±¡å¨å ä¸­å ç¨çç©ºé´å¤§å°ï¼ä¹å°±æ¯full gcåå ä¸­èå¹´ä»£å ç¨ç©ºé´çå¤§å°ãå¯ä»¥éè¿gcæ¥å¿ä¸­full gcä¹åèå¹´ä»£æ°æ®å¤§å°å¾åºï¼æ¯è¾åç¡®çæ¹æ³æ¯å¨ç¨åºç¨³å®åï¼å¤æ¬¡è·ågcæ°æ®ï¼éè¿åå¹³åå¼çæ¹å¼è®¡ç®æ´»è·æ°æ®çå¤§å°ãæ´»è·æ°æ®ååååºä¹é´çæ¯ä¾å³ç³»å¦ä¸ï¼è§åèæç®1ï¼ï¼\n\nä¾å¦ï¼æ ¹æ®gcæ¥å¿è·å¾èå¹´ä»£çæ´»è·æ°æ®å¤§å°ä¸º300mï¼é£ä¹åååºå¤§å°å¯ä»¥è®¾ä¸ºï¼\n\næ»å ï¼1200mb = 300mb Ã 4* æ°çä»£ï¼450mb = 300mb Ã 1.5* èå¹´ä»£ï¼ 750mb = 1200mb - 450mb*\n\nè¿é¨åè®¾ç½®ä»ä»æ¯å å¤§å°çåå§å¼ï¼åé¢çä¼åä¸­ï¼å¯è½ä¼è°æ´è¿äºå¼ï¼å·ä½æåµåå³äºåºç¨ç¨åºçç¹æ§åéæ±ã\n\n\n# äºãä¼åæ­¥éª¤\n\ngcä¼åä¸è¬æ­¥éª¤å¯ä»¥æ¦æ¬ä¸ºï¼ç¡®å®ç®æ ãä¼ååæ°ãéªæ¶ç»æã\n\n\n# ç¡®å®ç®æ \n\næç¡®åºç¨ç¨åºçç³»ç»éæ±æ¯æ§è½ä¼åçåºç¡ï¼ç³»ç»çéæ±æ¯æåºç¨ç¨åºè¿è¡æ¶ææ¹é¢çè¦æ±ï¼è­¬å¦ï¼ - é«å¯ç¨ï¼å¯ç¨æ§è¾¾å°å ä¸ª9ã - ä½å»¶è¿ï¼è¯·æ±å¿é¡»å¤å°æ¯«ç§åå®æååºã - é«ååï¼æ¯ç§å®æå¤å°æ¬¡äºå¡ã\n\næç¡®ç³»ç»éæ±ä¹æä»¥éè¦ï¼æ¯å ä¸ºä¸è¿°æ§è½ææ é´å¯è½å²çªãæ¯å¦éå¸¸æåµä¸ï¼ç¼©å°å»¶è¿çä»£ä»·æ¯éä½ååéæèæ¶èæ´å¤çåå­æèä¸¤èåæ¶åçã\n\nç±äºç¬èæå¨å¢éä¸»è¦å³æ³¨é«å¯ç¨åä½å»¶è¿ä¸¤é¡¹ææ ï¼æä»¥æ¥ä¸æ¥åæï¼å¦ä½éågcæ¶é´åé¢çå¯¹äºååºæ¶é´åå¯ç¨æ§çå½±åãéè¿è¿ä¸ªéåææ ï¼å¯ä»¥è®¡ç®åºå½ågcæåµå¯¹æå¡çå½±åï¼ä¹è½è¯ä¼°åºgcä¼ååå¯¹ååºæ¶é´çæ¶çï¼è¿ä¸¤ç¹å¯¹äºä½å»¶è¿æå¡å¾éè¦ã\n\nä¸¾ä¾ï¼åè®¾åä½æ¶é´tååçä¸æ¬¡æç»­25msçgcï¼æ¥å£å¹³åååºæ¶é´ä¸º50msï¼ä¸è¯·æ±ååå°è¾¾ï¼æ ¹æ®ä¸å¾æç¤ºï¼\n\n\n\né£ä¹æ(50ms+25ms)/tæ¯ä¾çè¯·æ±ä¼ågcå½±åï¼å¶ä¸­gcåç50msåå°è¾¾çè¯·æ±é½ä¼å¢å 25msï¼gcæé´ç25msåå°è¾¾çè¯·æ±ï¼ä¼å¢å 0-25msä¸ç­ï¼å¦ææ¶é´tååçnæ¬¡gcï¼ågcå½±åè¯·æ±å æ¯=(æ¥å£ååºæ¶é´+gcæ¶é´)Ãn/t ãå¯è§æ è®ºéä½åæ¬¡gcæ¶é´è¿æ¯éä½gcæ¬¡æ°né½å¯ä»¥ææåå°gcå¯¹ååºæ¶é´çå½±åã\n\n\n# ä¼å\n\néè¿æ¶égcä¿¡æ¯ï¼ç»åç³»ç»éæ±ï¼ç¡®å®ä¼åæ¹æ¡ï¼ä¾å¦éç¨åéçgcåæ¶å¨ãéæ°è®¾ç½®åå­æ¯ä¾ãè°æ´jvmåæ°ç­ã\n\nè¿è¡è°æ´åï¼å°ä¸åçä¼åæ¹æ¡åå«åºç¨å°å¤å°æºå¨ä¸ï¼ç¶åæ¯è¾è¿äºæºå¨ä¸gcçæ§è½å·®å¼ï¼æéå¯¹æ§çååºéæ©ï¼åéè¿ä¸æ­çè¯éªåè§å¯ï¼æ¾å°æåéçåæ°ã\n\n\n# éªæ¶ä¼åç»æ\n\nå°ä¿®æ¹åºç¨å°æææå¡å¨ï¼å¤æ­ä¼åç»ææ¯å¦ç¬¦åé¢æï¼æ»ç»ç¸å³ç»éªã\n\nåèï¼ç¾å¢ææ¯å¢é-ä»å®éæ¡ä¾èèjavaåºç¨çgcä¼å",charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"JMM ä¸­åå­æ¨¡åæ¯ææ ·çï¼ä»ä¹æ¯æä»¤åºåéæåºï¼",frontmatter:{title:"JMM ä¸­åå­æ¨¡åæ¯ææ ·çï¼ä»ä¹æ¯æä»¤åºåéæåºï¼",date:"2022-05-21T17:32:49.000Z",permalink:"/pages/c8e6cb/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/030.JMM%20%E4%B8%AD%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E6%8C%87%E4%BB%A4%E5%BA%8F%E5%88%97%E9%87%8D%E6%8E%92%E5%BA%8F%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/030.JMM ä¸­åå­æ¨¡åæ¯ææ ·çï¼ä»ä¹æ¯æä»¤åºåéæåºï¼.md",key:"v-0970cd54",path:"/pages/c8e6cb/",headers:[{level:2,title:"ä¸ºä»ä¹è¦æåå­æ¨¡åï¼",slug:"ä¸ºä»ä¹è¦æåå­æ¨¡å",normalizedTitle:"ä¸ºä»ä¹è¦æåå­æ¨¡åï¼",charIndex:40},{level:2,title:"ç¡¬ä»¶åå­æ¶æ",slug:"ç¡¬ä»¶åå­æ¶æ",normalizedTitle:"ç¡¬ä»¶åå­æ¶æ",charIndex:73},{level:2,title:"ç¼å­ä¸è´æ§é®é¢",slug:"ç¼å­ä¸è´æ§é®é¢",normalizedTitle:"ç¼å­ä¸è´æ§é®é¢",charIndex:557},{level:2,title:"å¤çå¨ä¼ååæä»¤éæåº",slug:"å¤çå¨ä¼ååæä»¤éæåº",normalizedTitle:"å¤çå¨ä¼ååæä»¤éæåº",charIndex:943},{level:2,title:"å¹¶åç¼ç¨çé®é¢",slug:"å¹¶åç¼ç¨çé®é¢",normalizedTitle:"å¹¶åç¼ç¨çé®é¢",charIndex:1368}],headersStr:"ä¸ºä»ä¹è¦æåå­æ¨¡åï¼ ç¡¬ä»¶åå­æ¶æ ç¼å­ä¸è´æ§é®é¢ å¤çå¨ä¼ååæä»¤éæåº å¹¶åç¼ç¨çé®é¢",content:"Javaåå­æ¨¡å(JMM)å Java è¿è¡æ¶åå­åºåæ¯ä¸ä¸æ ·çæ¦å¿µã\n\n\n# ä¸ºä»ä¹è¦æåå­æ¨¡åï¼\n\nè¦æ³åç­è¿ä¸ªé®é¢ï¼æä»¬éè¦åå¼æä¼ ç»è®¡ç®æºç¡¬ä»¶åå­æ¶æãå¥½äºï¼æè¦å¼å§ç»å¾äºã\n\n\n# ç¡¬ä»¶åå­æ¶æ\n\n\n\nï¼1ï¼CPU\n\nå»è¿æºæ¿çåå­¦é½ç¥éï¼ä¸è¬å¨å¤§åæå¡å¨ä¸ä¼éç½®å¤ä¸ªCPUï¼æ¯ä¸ªCPUè¿ä¼æå¤ä¸ª\n\næ ¸\n\nï¼è¿å°±æå³çå¤ä¸ªCPUæèå¤ä¸ªæ ¸å¯ä»¥åæ¶ï¼å¹¶åï¼å·¥ä½ãå¦æä½¿ç¨Java èµ·äºä¸ä¸ªå¤çº¿ç¨çä»»å¡ï¼å¾æå¯è½æ¯ä¸ª CPU é½ä¼è·ä¸ä¸ªçº¿ç¨ï¼é£ä¹ä½ çä»»å¡å¨æä¸å»å°±æ¯çæ­£å¹¶åæ§è¡äºã\n\nï¼2ï¼CPU Register\n\nCPU Registerä¹å°±æ¯ CPU å¯å­å¨ãCPU å¯å­å¨æ¯ CPU åé¨éæçï¼å¨å¯å­å¨ä¸æ§è¡æä½çæçè¦æ¯å¨ä¸»å­ä¸é«åºå ä¸ªæ°éçº§ã\n\nï¼3ï¼CPU Cache Memory\n\nCPU Cache Memoryä¹å°±æ¯ CPU é«éç¼å­ï¼ç¸å¯¹äºå¯å­å¨æ¥è¯´ï¼éå¸¸ä¹å¯ä»¥æä¸º L2 äºçº§ç¼å­ãç¸å¯¹äºç¡¬çè¯»åéåº¦æ¥è¯´åå­è¯»åçæçéå¸¸é«ï¼ä½æ¯ä¸ CPU è¿æ¯ç¸å·®æ°éçº§ï¼æä»¥å¨ CPU åä¸»å­é´å¼å¥äºå¤çº§ç¼å­ï¼ç®çæ¯ä¸ºäºåä¸ä¸ç¼å²ã\n\nï¼4ï¼Main Memory\n\nMain Memory å°±æ¯ä¸»å­ï¼ä¸»å­æ¯ L1ãL2 ç¼å­è¦å¤§å¾å¤ã\n\næ³¨æï¼é¨åé«ç«¯æºå¨è¿æ L3 ä¸çº§ç¼å­ã\n\n\n# ç¼å­ä¸è´æ§é®é¢\n\nç±äºä¸»å­ä¸ CPU å¤çå¨çè¿ç®è½åä¹é´ææ°éçº§çå·®è·ï¼æä»¥å¨ä¼ ç»è®¡ç®æºåå­æ¶æä¸­ä¼å¼å¥é«éç¼å­æ¥ä½ä¸ºä¸»å­åå¤çå¨ä¹é´çç¼å²ï¼CPU å°å¸¸ç¨çæ°æ®æ¾å¨é«éç¼å­ä¸­ï¼è¿ç®ç»æå CPU åè®²è¿ç®ç»æåæ­¥å°ä¸»å­ä¸­ã\n\nä½¿ç¨é«éç¼å­è§£å³äº CPU åä¸»å­éçä¸å¹éçé®é¢ï¼ä½åæ¶åå¼å¥å¦å¤ä¸ä¸ªæ°é®é¢ï¼ç¼å­ä¸è´æ§é®é¢ã\n\nå¨å¤CPUçç³»ç»ä¸­(æèåCPUå¤æ ¸çç³»ç»)ï¼æ¯ä¸ªCPUåæ ¸é½æèªå·±çé«éç¼å­ï¼å®ä»¬å±äº«åä¸ä¸»åå­(Main Memory)ãå½å¤ä¸ªCPUçè¿ç®ä»»å¡é½æ¶ååä¸åä¸»åå­åºåæ¶ï¼CPU ä¼å°æ°æ®è¯»åå°ç¼å­ä¸­è¿è¡è¿ç®ï¼è¿å¯è½ä¼å¯¼è´åèªçç¼å­æ°æ®ä¸ä¸è´ã\n\nå æ­¤éè¦æ¯ä¸ª CPU è®¿é®ç¼å­æ¶éµå¾ªä¸å®çåè®®ï¼å¨è¯»åæ°æ®æ¶æ ¹æ®åè®®è¿è¡æä½ï¼å±åæ¥ç»´æ¤ç¼å­çä¸è´æ§ãè¿ç±»åè®®æ MSIãMESIãMOSIãå Dragon Protocol ç­ã\n\n\n# å¤çå¨ä¼ååæä»¤éæåº\n\nä¸ºäºæåæ§è½å¨ CPU åä¸»åå­ä¹é´å¢å äºé«éç¼å­ï¼ä½å¨å¤çº¿ç¨å¹¶ååºæ¯å¯è½ä¼éå°\n\nãé£è¿ææ²¡æåæ³è¿ä¸æ­¥æå CPU çæ§è¡æçå¢ï¼ç­æ¡æ¯ï¼å¤çå¨ä¼åã\n\nä¸ºäºä½¿å¤çå¨åé¨çè¿ç®ååè½å¤æå¤§åè¢«ååå©ç¨ï¼å¤çå¨ä¼å¯¹è¾å¥ä»£ç è¿è¡ä¹±åºæ§è¡å¤çï¼è¿å°±æ¯å¤çå¨ä¼åã\n\né¤äºå¤çå¨ä¼å¯¹ä»£ç è¿è¡ä¼åå¤çï¼å¾å¤ç°ä»£ç¼ç¨è¯­è¨çç¼è¯å¨ä¹ä¼åç±»ä¼¼çä¼åï¼æ¯å¦å Java çå³æ¶ç¼è¯å¨ï¼JITï¼ä¼åæä»¤éæåºã\n\nå¤çå¨ä¼åå¶å®ä¹æ¯éæåºçä¸ç§ç±»åï¼è¿éæ»ç»ä¸ä¸ï¼éæåºå¯ä»¥åä¸ºä¸ç§ç±»åï¼ ** ç¼è¯å¨ä¼åçéæåºãç¼è¯å¨å¨ä¸æ¹ååçº¿ç¨ç¨åºè¯­ä¹æ¾å¥åæä¸ï¼å¯ä»¥éæ°å®æè¯­å¥çæ§è¡é¡ºåºã ** æä»¤çº§å¹¶è¡çéæåºãç°ä»£å¤çå¨éç¨äºæä»¤çº§å¹¶è¡ææ¯æ¥å°å¤æ¡æä»¤éå æ§è¡ãå¦æä¸å­å¨æ°æ®ä¾èµæ§ï¼å¤çå¨å¯ä»¥æ¹åè¯­å¥å¯¹åºæºå¨æä»¤çæ§è¡é¡ºåºã ** åå­ç³»ç»çéæåºãç±äºå¤çå¨ä½¿ç¨ç¼å­åè¯»åç¼å²åºï¼è¿ä½¿å¾å è½½åå­å¨æä½çä¸å»å¯è½æ¯å¨ä¹±åºæ§è¡ã\n\n\n# å¹¶åç¼ç¨çé®é¢\n\nä¸é¢è®²äºä¸å ç¡¬ä»¶ç¸å³çä¸è¥¿ï¼æäºåå­¦å¯è½ä¼æç¹æµï¼ç»äºè¿ä¹å¤§åï¼è¿äºä¸è¥¿è· Java åå­æ¨¡åæå¥å³ç³»åï¼ä¸è¦æ¥å±ä»¬æ¢æ¢å¾ä¸çã\n\nçæ Java å¹¶åçåå­¦è¯å®å¯¹è¿ä¸ä¸ªé®é¢å¾çæï¼ãå¯è§æ§é®é¢ãããåå­æ§é®é¢ãããæåºæ§é®é¢ããå¦æä»æ´æ·±å±æ¬¡çè¿ä¸ä¸ªé®é¢ï¼å¶å®å°±æ¯ä¸é¢è®²çãç¼å­ä¸è´æ§ãããå¤çå¨ä¼åãããæä»¤éæåºãé æçã\n\nç¼å­ä¸è´æ§é®é¢å¶å®å°±æ¯å¯è§æ§é®é¢ï¼å¤çå¨ä¼åå¯è½ä¼é æåå­æ§é®é¢ï¼æä»¤éæåºä¼é ææåºæ§é®é¢ï¼ä½ çæ¯ä¸æ¯é½èç³»ä¸äºã\n\nåºäºé®é¢æ»æ¯è¦è§£å³çï¼é£æä»ä¹åæ³å¢ï¼é¦åæ³å°ç®åç²æ´çåæ³ï¼å¹²æç¼å­è®© CPU ç´æ¥ä¸ä¸»åå­äº¤äºå°±è§£å³äºå¯è§æ§é®é¢ï¼ç¦æ­¢å¤çå¨ä¼ååæä»¤éæåºå°±è§£å³äºåå­æ§åæåºæ§é®é¢ï¼ä½è¿æ ·ä¸å¤åå°è§£æ¾åäºï¼æ¾ç¶ä¸å¯åã\n\næä»¥ææ¯åè¾ä»¬æ³å°äºå¨ç©çæºå¨ä¸å®ä¹åºä¸å¥åå­æ¨¡åï¼ è§èåå­çè¯»åæä½ãåå­æ¨¡åè§£å³å¹¶åé®é¢ä¸»è¦éç¨ä¸¤ç§æ¹å¼ï¼\n\néå¶å¤çå¨ä¼ååä½¿ç¨åå­å±éã\n\nåèï¼ å¨é¢å­¦ä¹ ææ¡Javaåå­æ¨¡å",normalizedContent:"javaåå­æ¨¡å(jmm)å java è¿è¡æ¶åå­åºåæ¯ä¸ä¸æ ·çæ¦å¿µã\n\n\n# ä¸ºä»ä¹è¦æåå­æ¨¡åï¼\n\nè¦æ³åç­è¿ä¸ªé®é¢ï¼æä»¬éè¦åå¼æä¼ ç»è®¡ç®æºç¡¬ä»¶åå­æ¶æãå¥½äºï¼æè¦å¼å§ç»å¾äºã\n\n\n# ç¡¬ä»¶åå­æ¶æ\n\n\n\nï¼1ï¼cpu\n\nå»è¿æºæ¿çåå­¦é½ç¥éï¼ä¸è¬å¨å¤§åæå¡å¨ä¸ä¼éç½®å¤ä¸ªcpuï¼æ¯ä¸ªcpuè¿ä¼æå¤ä¸ª\n\næ ¸\n\nï¼è¿å°±æå³çå¤ä¸ªcpuæèå¤ä¸ªæ ¸å¯ä»¥åæ¶ï¼å¹¶åï¼å·¥ä½ãå¦æä½¿ç¨java èµ·äºä¸ä¸ªå¤çº¿ç¨çä»»å¡ï¼å¾æå¯è½æ¯ä¸ª cpu é½ä¼è·ä¸ä¸ªçº¿ç¨ï¼é£ä¹ä½ çä»»å¡å¨æä¸å»å°±æ¯çæ­£å¹¶åæ§è¡äºã\n\nï¼2ï¼cpu register\n\ncpu registerä¹å°±æ¯ cpu å¯å­å¨ãcpu å¯å­å¨æ¯ cpu åé¨éæçï¼å¨å¯å­å¨ä¸æ§è¡æä½çæçè¦æ¯å¨ä¸»å­ä¸é«åºå ä¸ªæ°éçº§ã\n\nï¼3ï¼cpu cache memory\n\ncpu cache memoryä¹å°±æ¯ cpu é«éç¼å­ï¼ç¸å¯¹äºå¯å­å¨æ¥è¯´ï¼éå¸¸ä¹å¯ä»¥æä¸º l2 äºçº§ç¼å­ãç¸å¯¹äºç¡¬çè¯»åéåº¦æ¥è¯´åå­è¯»åçæçéå¸¸é«ï¼ä½æ¯ä¸ cpu è¿æ¯ç¸å·®æ°éçº§ï¼æä»¥å¨ cpu åä¸»å­é´å¼å¥äºå¤çº§ç¼å­ï¼ç®çæ¯ä¸ºäºåä¸ä¸ç¼å²ã\n\nï¼4ï¼main memory\n\nmain memory å°±æ¯ä¸»å­ï¼ä¸»å­æ¯ l1ãl2 ç¼å­è¦å¤§å¾å¤ã\n\næ³¨æï¼é¨åé«ç«¯æºå¨è¿æ l3 ä¸çº§ç¼å­ã\n\n\n# ç¼å­ä¸è´æ§é®é¢\n\nç±äºä¸»å­ä¸ cpu å¤çå¨çè¿ç®è½åä¹é´ææ°éçº§çå·®è·ï¼æä»¥å¨ä¼ ç»è®¡ç®æºåå­æ¶æä¸­ä¼å¼å¥é«éç¼å­æ¥ä½ä¸ºä¸»å­åå¤çå¨ä¹é´çç¼å²ï¼cpu å°å¸¸ç¨çæ°æ®æ¾å¨é«éç¼å­ä¸­ï¼è¿ç®ç»æå cpu åè®²è¿ç®ç»æåæ­¥å°ä¸»å­ä¸­ã\n\nä½¿ç¨é«éç¼å­è§£å³äº cpu åä¸»å­éçä¸å¹éçé®é¢ï¼ä½åæ¶åå¼å¥å¦å¤ä¸ä¸ªæ°é®é¢ï¼ç¼å­ä¸è´æ§é®é¢ã\n\nå¨å¤cpuçç³»ç»ä¸­(æèåcpuå¤æ ¸çç³»ç»)ï¼æ¯ä¸ªcpuåæ ¸é½æèªå·±çé«éç¼å­ï¼å®ä»¬å±äº«åä¸ä¸»åå­(main memory)ãå½å¤ä¸ªcpuçè¿ç®ä»»å¡é½æ¶ååä¸åä¸»åå­åºåæ¶ï¼cpu ä¼å°æ°æ®è¯»åå°ç¼å­ä¸­è¿è¡è¿ç®ï¼è¿å¯è½ä¼å¯¼è´åèªçç¼å­æ°æ®ä¸ä¸è´ã\n\nå æ­¤éè¦æ¯ä¸ª cpu è®¿é®ç¼å­æ¶éµå¾ªä¸å®çåè®®ï¼å¨è¯»åæ°æ®æ¶æ ¹æ®åè®®è¿è¡æä½ï¼å±åæ¥ç»´æ¤ç¼å­çä¸è´æ§ãè¿ç±»åè®®æ msiãmesiãmosiãå dragon protocol ç­ã\n\n\n# å¤çå¨ä¼ååæä»¤éæåº\n\nä¸ºäºæåæ§è½å¨ cpu åä¸»åå­ä¹é´å¢å äºé«éç¼å­ï¼ä½å¨å¤çº¿ç¨å¹¶ååºæ¯å¯è½ä¼éå°\n\nãé£è¿ææ²¡æåæ³è¿ä¸æ­¥æå cpu çæ§è¡æçå¢ï¼ç­æ¡æ¯ï¼å¤çå¨ä¼åã\n\nä¸ºäºä½¿å¤çå¨åé¨çè¿ç®ååè½å¤æå¤§åè¢«ååå©ç¨ï¼å¤çå¨ä¼å¯¹è¾å¥ä»£ç è¿è¡ä¹±åºæ§è¡å¤çï¼è¿å°±æ¯å¤çå¨ä¼åã\n\né¤äºå¤çå¨ä¼å¯¹ä»£ç è¿è¡ä¼åå¤çï¼å¾å¤ç°ä»£ç¼ç¨è¯­è¨çç¼è¯å¨ä¹ä¼åç±»ä¼¼çä¼åï¼æ¯å¦å java çå³æ¶ç¼è¯å¨ï¼jitï¼ä¼åæä»¤éæåºã\n\nå¤çå¨ä¼åå¶å®ä¹æ¯éæåºçä¸ç§ç±»åï¼è¿éæ»ç»ä¸ä¸ï¼éæåºå¯ä»¥åä¸ºä¸ç§ç±»åï¼ ** ç¼è¯å¨ä¼åçéæåºãç¼è¯å¨å¨ä¸æ¹ååçº¿ç¨ç¨åºè¯­ä¹æ¾å¥åæä¸ï¼å¯ä»¥éæ°å®æè¯­å¥çæ§è¡é¡ºåºã ** æä»¤çº§å¹¶è¡çéæåºãç°ä»£å¤çå¨éç¨äºæä»¤çº§å¹¶è¡ææ¯æ¥å°å¤æ¡æä»¤éå æ§è¡ãå¦æä¸å­å¨æ°æ®ä¾èµæ§ï¼å¤çå¨å¯ä»¥æ¹åè¯­å¥å¯¹åºæºå¨æä»¤çæ§è¡é¡ºåºã ** åå­ç³»ç»çéæåºãç±äºå¤çå¨ä½¿ç¨ç¼å­åè¯»åç¼å²åºï¼è¿ä½¿å¾å è½½åå­å¨æä½çä¸å»å¯è½æ¯å¨ä¹±åºæ§è¡ã\n\n\n# å¹¶åç¼ç¨çé®é¢\n\nä¸é¢è®²äºä¸å ç¡¬ä»¶ç¸å³çä¸è¥¿ï¼æäºåå­¦å¯è½ä¼æç¹æµï¼ç»äºè¿ä¹å¤§åï¼è¿äºä¸è¥¿è· java åå­æ¨¡åæå¥å³ç³»åï¼ä¸è¦æ¥å±ä»¬æ¢æ¢å¾ä¸çã\n\nçæ java å¹¶åçåå­¦è¯å®å¯¹è¿ä¸ä¸ªé®é¢å¾çæï¼ãå¯è§æ§é®é¢ãããåå­æ§é®é¢ãããæåºæ§é®é¢ããå¦æä»æ´æ·±å±æ¬¡çè¿ä¸ä¸ªé®é¢ï¼å¶å®å°±æ¯ä¸é¢è®²çãç¼å­ä¸è´æ§ãããå¤çå¨ä¼åãããæä»¤éæåºãé æçã\n\nç¼å­ä¸è´æ§é®é¢å¶å®å°±æ¯å¯è§æ§é®é¢ï¼å¤çå¨ä¼åå¯è½ä¼é æåå­æ§é®é¢ï¼æä»¤éæåºä¼é ææåºæ§é®é¢ï¼ä½ çæ¯ä¸æ¯é½èç³»ä¸äºã\n\nåºäºé®é¢æ»æ¯è¦è§£å³çï¼é£æä»ä¹åæ³å¢ï¼é¦åæ³å°ç®åç²æ´çåæ³ï¼å¹²æç¼å­è®© cpu ç´æ¥ä¸ä¸»åå­äº¤äºå°±è§£å³äºå¯è§æ§é®é¢ï¼ç¦æ­¢å¤çå¨ä¼ååæä»¤éæåºå°±è§£å³äºåå­æ§åæåºæ§é®é¢ï¼ä½è¿æ ·ä¸å¤åå°è§£æ¾åäºï¼æ¾ç¶ä¸å¯åã\n\næä»¥ææ¯åè¾ä»¬æ³å°äºå¨ç©çæºå¨ä¸å®ä¹åºä¸å¥åå­æ¨¡åï¼ è§èåå­çè¯»åæä½ãåå­æ¨¡åè§£å³å¹¶åé®é¢ä¸»è¦éç¨ä¸¤ç§æ¹å¼ï¼\n\néå¶å¤çå¨ä¼ååä½¿ç¨åå­å±éã\n\nåèï¼ å¨é¢å­¦ä¹ ææ¡javaåå­æ¨¡å",charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"JVM åå­æ¯å¦ä½å¯¹åºå°æä½ç³»ç»åå­çï¼",frontmatter:{title:"JVM åå­æ¯å¦ä½å¯¹åºå°æä½ç³»ç»åå­çï¼",date:"2022-05-21T17:33:05.000Z",permalink:"/pages/da65e7/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/040.JVM%20%E5%86%85%E5%AD%98%E6%98%AF%E5%A6%82%E4%BD%95%E5%AF%B9%E5%BA%94%E5%88%B0%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E7%9A%84%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/040.JVM åå­æ¯å¦ä½å¯¹åºå°æä½ç³»ç»åå­çï¼.md",key:"v-2de19204",path:"/pages/da65e7/",headers:[{level:2,title:"Java åå­æ¨¡å",slug:"java-åå­æ¨¡å",normalizedTitle:"java åå­æ¨¡å",charIndex:2},{level:2,title:"Java çº¿ç¨ä¸ä¸»åå­çå³ç³»",slug:"java-çº¿ç¨ä¸ä¸»åå­çå³ç³»",normalizedTitle:"java çº¿ç¨ä¸ä¸»åå­çå³ç³»",charIndex:216},{level:2,title:"çº¿ç¨é´éä¿¡",slug:"çº¿ç¨é´éä¿¡",normalizedTitle:"çº¿ç¨é´éä¿¡",charIndex:421},{level:2,title:"ææåº¦çæ»ç»",slug:"ææåº¦çæ»ç»",normalizedTitle:"ææåº¦çæ»ç»",charIndex:1043}],headersStr:"Java åå­æ¨¡å Java çº¿ç¨ä¸ä¸»åå­çå³ç³» çº¿ç¨é´éä¿¡ ææåº¦çæ»ç»",content:"# Java åå­æ¨¡å\n\nåä¸å¥åå­æ¨¡åè§èï¼ä¸åè¯­è¨å¨å®ç°ä¸å¯è½ä¼æäºå·®å«ãæ¥ä¸æ¥çéè®²ä¸ä¸ Java åå­æ¨¡åå®ç°åçã\n\nJava è¿è¡æ¶åå­åºåä¸ç¡¬ä»¶åå­çå³ç³»\n\näºè§£è¿ JVM çåå­¦é½ç¥éï¼JVM è¿è¡æ¶åå­åºåæ¯åççï¼åä¸ºæ ãå ç­ï¼å¶å®è¿äºé½æ¯ JVM å®ä¹çé»è¾æ¦å¿µãå¨ä¼ ç»çç¡¬ä»¶åå­æ¶æä¸­æ¯æ²¡ææ åå è¿ç§æ¦å¿µã\n\n\n\nä»å¾ä¸­å¯ä»¥çåºæ åå æ¢å­å¨äºé«éç¼å­ä¸­åå­å¨äºä¸»åå­ä¸­ï¼æä»¥ä¸¤èå¹¶æ²¡æå¾ç´æ¥çå³ç³»ã\n\n\n# Java çº¿ç¨ä¸ä¸»åå­çå³ç³»\n\nJava åå­æ¨¡åæ¯ä¸ç§è§èï¼å®ä¹äºå¾å¤ä¸è¥¿ï¼\n\nææçåéé½å­å¨å¨ä¸»åå­ï¼Main Memoryï¼ä¸­ã æ¯ä¸ªçº¿ç¨é½æä¸ä¸ªç§æçæ¬å°åå­ï¼Local Memoryï¼ï¼æ¬å°åå­ä¸­å­å¨äºè¯¥çº¿ç¨ä»¥è¯»/åå±äº«åéçæ·è´å¯æ¬ã çº¿ç¨å¯¹åéçæææä½é½å¿é¡»å¨æ¬å°åå­ä¸­è¿è¡ï¼èä¸è½ç´æ¥è¯»åä¸»åå­ã ä¸åççº¿ç¨ä¹é´æ æ³ç´æ¥è®¿é®å¯¹æ¹æ¬å°åå­ä¸­çåéã çæå­å¤ªæ¯ç¥äºï¼æåç»äºä¸å¼ å¾ï¼\n\n\n# çº¿ç¨é´éä¿¡\n\nå¦æä¸¤ä¸ªçº¿ç¨é½å¯¹ä¸ä¸ªå±äº«åéè¿è¡æä½ï¼å±äº«åéåå§å¼ä¸º 1ï¼æ¯ä¸ªçº¿ç¨é½åéè¿è¡å  1ï¼é¢æå±äº«åéçå¼ä¸º 3ãå¨ JMM è§èä¸ä¼æä¸ç³»åçæä½ã\n\n\n\nä¸ºäºæ´å¥½çæ§å¶ä¸»åå­åæ¬å°åå­çäº¤äºï¼Java åå­æ¨¡åå®ä¹äºå«ç§æä½æ¥å®ç°ï¼\n\n * lockï¼éå®ãä½ç¨äºä¸»åå­çåéï¼æä¸ä¸ªåéæ è¯ä¸ºä¸æ¡çº¿ç¨ç¬å ç¶æã\n * unlockï¼è§£éãä½ç¨äºä¸»åå­åéï¼æä¸ä¸ªå¤äºéå®ç¶æçåééæ¾åºæ¥ï¼éæ¾åçåéæå¯ä»¥è¢«å¶ä»çº¿ç¨éå®ã\n * readï¼è¯»åãä½ç¨äºä¸»åå­åéï¼æä¸ä¸ªåéå¼ä»ä¸»åå­ä¼ è¾å°çº¿ç¨çå·¥ä½åå­ä¸­ï¼ä»¥ä¾¿éåçloadå¨ä½ä½¿ç¨\n * loadï¼è½½å¥ãä½ç¨äºå·¥ä½åå­çåéï¼å®æreadæä½ä»ä¸»åå­ä¸­å¾å°çåéå¼æ¾å¥å·¥ä½åå­çåéå¯æ¬ä¸­ã\n * useï¼ä½¿ç¨ãä½ç¨äºå·¥ä½åå­çåéï¼æå·¥ä½åå­ä¸­çä¸ä¸ªåéå¼ä¼ éç»æ§è¡å¼æï¼æ¯å½èææºéå°ä¸ä¸ªéè¦ä½¿ç¨åéçå¼çå­èç æä»¤æ¶å°ä¼æ§è¡è¿ä¸ªæä½ã\n * assignï¼èµå¼ãä½ç¨äºå·¥ä½åå­çåéï¼å®æä¸ä¸ªä»æ§è¡å¼ææ¥æ¶å°çå¼èµå¼ç»å·¥ä½åå­çåéï¼æ¯å½èææºéå°ä¸ä¸ªç»åéèµå¼çå­èç æä»¤æ¶æ§è¡è¿ä¸ªæä½ã\n * storeï¼å­å¨ãä½ç¨äºå·¥ä½åå­çåéï¼æå·¥ä½åå­ä¸­çä¸ä¸ªåéçå¼ä¼ éå°ä¸»åå­ä¸­ï¼ä»¥ä¾¿éåçwriteçæä½ã\n * writeï¼åå¥ãä½ç¨äºä¸»åå­çåéï¼å®æstoreæä½ä»å·¥ä½åå­ä¸­ä¸ä¸ªåéçå¼ä¼ éå°ä¸»åå­çåéä¸­ã æ³¨æï¼å·¥ä½åå­ä¹å°±æ¯æ¬å°åå­çææã\n\n\n# ææåº¦çæ»ç»\n\nç±äºCPU åä¸»åå­é´å­å¨æ°éçº§çéçå·®ï¼æ³å°äºå¼å¥äºå¤çº§é«éç¼å­çä¼ ç»ç¡¬ä»¶åå­æ¶ææ¥è§£å³ï¼å¤çº§é«éç¼å­ä½ä¸º CPU åä¸»åé´çç¼å²æåäºæ´ä½æ§è½ãè§£å³äºéçå·®çé®é¢ï¼å´åå¸¦æ¥äºç¼å­ä¸è´æ§é®é¢ã\n\næ°æ®åæ¶å­å¨äºé«éç¼å­åä¸»åå­ä¸­ï¼å¦æä¸å ä»¥è§èå¿å¿é æç¾é¾ï¼å æ­¤å¨ä¼ ç»æºå¨ä¸åæ½è±¡åºäºåå­æ¨¡åã\n\nJava è¯­è¨å¨éµå¾ªåå­æ¨¡åçåºç¡ä¸æ¨åºäº JMM è§èï¼ç®çæ¯è§£å³ç±äºå¤çº¿ç¨éè¿å±äº«åå­è¿è¡éä¿¡æ¶ï¼å­å¨çæ¬å°åå­æ°æ®ä¸ä¸è´ãç¼è¯å¨ä¼å¯¹ä»£ç æä»¤éæåºãå¤çå¨ä¼å¯¹ä»£ç ä¹±åºæ§è¡ç­å¸¦æ¥çé®é¢ã\n\nä¸ºäºæ´ç²¾åæ§å¶å·¥ä½åå­åä¸»åå­é´çäº¤äºï¼JMM è¿å®ä¹äºå«ç§æä½ï¼lock, unlock, read, load,use,assign, store, writeã\n\nå¥½äºï¼ä»å¤©å°±ç»å¤§å®¶ä»ç»å°è¿éï¼ç®åæ»ç»ä¸Javaåå­æ¨¡åçå®ä¹ï¼Javaåå­æ¨¡åå¹¶ä¸æ¯ä¸ä»¶å®¹æçäºæï¼è¿ä¸ªæ¨¡åå¿é¡»å®ä¹å¾è¶³å¤ä¸¥è°¨ï¼æè½è®©Javaçå¹¶åæä½ä¸ä¼äº§çæ­§ä¹ï¼ä½æ¯ï¼ä¹å¿é¡»å¾è¶³å¤å®½æ¾ï¼ä½¿å¾èææºçå®ç°è½æè¶³å¤çèªç±ç©ºé´å»å©ç¨ç¡¬ä»¶çåç§ç¹æ§ï¼å¯å­å¨ãé«éç¼å­ç­ï¼æ¥è·åæ´å¥½çæ§è¡éåº¦ãç»è¿é¿æ¶é´çéªè¯åä¿®è¡¥ï¼å¨JDK1.5åå¸åï¼Javaåå­æ¨¡åå°±å·²ç»æçåå®åèµ·æ¥äºã\n\nåèï¼ å¨é¢å­¦ä¹ ææ¡Javaåå­æ¨¡å",normalizedContent:"# java åå­æ¨¡å\n\nåä¸å¥åå­æ¨¡åè§èï¼ä¸åè¯­è¨å¨å®ç°ä¸å¯è½ä¼æäºå·®å«ãæ¥ä¸æ¥çéè®²ä¸ä¸ java åå­æ¨¡åå®ç°åçã\n\njava è¿è¡æ¶åå­åºåä¸ç¡¬ä»¶åå­çå³ç³»\n\näºè§£è¿ jvm çåå­¦é½ç¥éï¼jvm è¿è¡æ¶åå­åºåæ¯åççï¼åä¸ºæ ãå ç­ï¼å¶å®è¿äºé½æ¯ jvm å®ä¹çé»è¾æ¦å¿µãå¨ä¼ ç»çç¡¬ä»¶åå­æ¶æä¸­æ¯æ²¡ææ åå è¿ç§æ¦å¿µã\n\n\n\nä»å¾ä¸­å¯ä»¥çåºæ åå æ¢å­å¨äºé«éç¼å­ä¸­åå­å¨äºä¸»åå­ä¸­ï¼æä»¥ä¸¤èå¹¶æ²¡æå¾ç´æ¥çå³ç³»ã\n\n\n# java çº¿ç¨ä¸ä¸»åå­çå³ç³»\n\njava åå­æ¨¡åæ¯ä¸ç§è§èï¼å®ä¹äºå¾å¤ä¸è¥¿ï¼\n\nææçåéé½å­å¨å¨ä¸»åå­ï¼main memoryï¼ä¸­ã æ¯ä¸ªçº¿ç¨é½æä¸ä¸ªç§æçæ¬å°åå­ï¼local memoryï¼ï¼æ¬å°åå­ä¸­å­å¨äºè¯¥çº¿ç¨ä»¥è¯»/åå±äº«åéçæ·è´å¯æ¬ã çº¿ç¨å¯¹åéçæææä½é½å¿é¡»å¨æ¬å°åå­ä¸­è¿è¡ï¼èä¸è½ç´æ¥è¯»åä¸»åå­ã ä¸åççº¿ç¨ä¹é´æ æ³ç´æ¥è®¿é®å¯¹æ¹æ¬å°åå­ä¸­çåéã çæå­å¤ªæ¯ç¥äºï¼æåç»äºä¸å¼ å¾ï¼\n\n\n# çº¿ç¨é´éä¿¡\n\nå¦æä¸¤ä¸ªçº¿ç¨é½å¯¹ä¸ä¸ªå±äº«åéè¿è¡æä½ï¼å±äº«åéåå§å¼ä¸º 1ï¼æ¯ä¸ªçº¿ç¨é½åéè¿è¡å  1ï¼é¢æå±äº«åéçå¼ä¸º 3ãå¨ jmm è§èä¸ä¼æä¸ç³»åçæä½ã\n\n\n\nä¸ºäºæ´å¥½çæ§å¶ä¸»åå­åæ¬å°åå­çäº¤äºï¼java åå­æ¨¡åå®ä¹äºå«ç§æä½æ¥å®ç°ï¼\n\n * lockï¼éå®ãä½ç¨äºä¸»åå­çåéï¼æä¸ä¸ªåéæ è¯ä¸ºä¸æ¡çº¿ç¨ç¬å ç¶æã\n * unlockï¼è§£éãä½ç¨äºä¸»åå­åéï¼æä¸ä¸ªå¤äºéå®ç¶æçåééæ¾åºæ¥ï¼éæ¾åçåéæå¯ä»¥è¢«å¶ä»çº¿ç¨éå®ã\n * readï¼è¯»åãä½ç¨äºä¸»åå­åéï¼æä¸ä¸ªåéå¼ä»ä¸»åå­ä¼ è¾å°çº¿ç¨çå·¥ä½åå­ä¸­ï¼ä»¥ä¾¿éåçloadå¨ä½ä½¿ç¨\n * loadï¼è½½å¥ãä½ç¨äºå·¥ä½åå­çåéï¼å®æreadæä½ä»ä¸»åå­ä¸­å¾å°çåéå¼æ¾å¥å·¥ä½åå­çåéå¯æ¬ä¸­ã\n * useï¼ä½¿ç¨ãä½ç¨äºå·¥ä½åå­çåéï¼æå·¥ä½åå­ä¸­çä¸ä¸ªåéå¼ä¼ éç»æ§è¡å¼æï¼æ¯å½èææºéå°ä¸ä¸ªéè¦ä½¿ç¨åéçå¼çå­èç æä»¤æ¶å°ä¼æ§è¡è¿ä¸ªæä½ã\n * assignï¼èµå¼ãä½ç¨äºå·¥ä½åå­çåéï¼å®æä¸ä¸ªä»æ§è¡å¼ææ¥æ¶å°çå¼èµå¼ç»å·¥ä½åå­çåéï¼æ¯å½èææºéå°ä¸ä¸ªç»åéèµå¼çå­èç æä»¤æ¶æ§è¡è¿ä¸ªæä½ã\n * storeï¼å­å¨ãä½ç¨äºå·¥ä½åå­çåéï¼æå·¥ä½åå­ä¸­çä¸ä¸ªåéçå¼ä¼ éå°ä¸»åå­ä¸­ï¼ä»¥ä¾¿éåçwriteçæä½ã\n * writeï¼åå¥ãä½ç¨äºä¸»åå­çåéï¼å®æstoreæä½ä»å·¥ä½åå­ä¸­ä¸ä¸ªåéçå¼ä¼ éå°ä¸»åå­çåéä¸­ã æ³¨æï¼å·¥ä½åå­ä¹å°±æ¯æ¬å°åå­çææã\n\n\n# ææåº¦çæ»ç»\n\nç±äºcpu åä¸»åå­é´å­å¨æ°éçº§çéçå·®ï¼æ³å°äºå¼å¥äºå¤çº§é«éç¼å­çä¼ ç»ç¡¬ä»¶åå­æ¶ææ¥è§£å³ï¼å¤çº§é«éç¼å­ä½ä¸º cpu åä¸»åé´çç¼å²æåäºæ´ä½æ§è½ãè§£å³äºéçå·®çé®é¢ï¼å´åå¸¦æ¥äºç¼å­ä¸è´æ§é®é¢ã\n\næ°æ®åæ¶å­å¨äºé«éç¼å­åä¸»åå­ä¸­ï¼å¦æä¸å ä»¥è§èå¿å¿é æç¾é¾ï¼å æ­¤å¨ä¼ ç»æºå¨ä¸åæ½è±¡åºäºåå­æ¨¡åã\n\njava è¯­è¨å¨éµå¾ªåå­æ¨¡åçåºç¡ä¸æ¨åºäº jmm è§èï¼ç®çæ¯è§£å³ç±äºå¤çº¿ç¨éè¿å±äº«åå­è¿è¡éä¿¡æ¶ï¼å­å¨çæ¬å°åå­æ°æ®ä¸ä¸è´ãç¼è¯å¨ä¼å¯¹ä»£ç æä»¤éæåºãå¤çå¨ä¼å¯¹ä»£ç ä¹±åºæ§è¡ç­å¸¦æ¥çé®é¢ã\n\nä¸ºäºæ´ç²¾åæ§å¶å·¥ä½åå­åä¸»åå­é´çäº¤äºï¼jmm è¿å®ä¹äºå«ç§æä½ï¼lock, unlock, read, load,use,assign, store, writeã\n\nå¥½äºï¼ä»å¤©å°±ç»å¤§å®¶ä»ç»å°è¿éï¼ç®åæ»ç»ä¸javaåå­æ¨¡åçå®ä¹ï¼javaåå­æ¨¡åå¹¶ä¸æ¯ä¸ä»¶å®¹æçäºæï¼è¿ä¸ªæ¨¡åå¿é¡»å®ä¹å¾è¶³å¤ä¸¥è°¨ï¼æè½è®©javaçå¹¶åæä½ä¸ä¼äº§çæ­§ä¹ï¼ä½æ¯ï¼ä¹å¿é¡»å¾è¶³å¤å®½æ¾ï¼ä½¿å¾èææºçå®ç°è½æè¶³å¤çèªç±ç©ºé´å»å©ç¨ç¡¬ä»¶çåç§ç¹æ§ï¼å¯å­å¨ãé«éç¼å­ç­ï¼æ¥è·åæ´å¥½çæ§è¡éåº¦ãç»è¿é¿æ¶é´çéªè¯åä¿®è¡¥ï¼å¨jdk1.5åå¸åï¼javaåå­æ¨¡åå°±å·²ç»æçåå®åèµ·æ¥äºã\n\nåèï¼ å¨é¢å­¦ä¹ ææ¡javaåå­æ¨¡å",charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"JVM æ¯æä¹å»è°ä¼çï¼äºè§£åªäºåæ°åæä»¤ï¼",frontmatter:{title:"JVM æ¯æä¹å»è°ä¼çï¼äºè§£åªäºåæ°åæä»¤ï¼",date:"2022-05-21T17:33:16.000Z",permalink:"/pages/d730dd/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/050.JVM%20%E6%98%AF%E6%80%8E%E4%B9%88%E5%8E%BB%E8%B0%83%E4%BC%98%E7%9A%84%EF%BC%9F%E4%BA%86%E8%A7%A3%E5%93%AA%E4%BA%9B%E5%8F%82%E6%95%B0%E5%92%8C%E6%8C%87%E4%BB%A4%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/050.JVM æ¯æä¹å»è°ä¼çï¼äºè§£åªäºåæ°åæä»¤ï¼.md",key:"v-37fcb440",path:"/pages/d730dd/",headers:[{level:2,title:"æ¥çè¿ç¨",slug:"æ¥çè¿ç¨",normalizedTitle:"æ¥çè¿ç¨",charIndex:2},{level:2,title:"æ¥çJVMåæ° jinfo",slug:"æ¥çjvmåæ°-jinfo",normalizedTitle:"æ¥çjvmåæ° jinfo",charIndex:162},{level:2,title:"æ¥çåé¡¹ææ æ°æ® jstat",slug:"æ¥çåé¡¹ææ æ°æ®-jstat",normalizedTitle:"æ¥çåé¡¹ææ æ°æ® jstat",charIndex:251},{level:2,title:"jmap",slug:"jmap",normalizedTitle:"jmap",charIndex:588}],headersStr:"æ¥çè¿ç¨ æ¥çJVMåæ° jinfo æ¥çåé¡¹ææ æ°æ® jstat jmap",content:"# æ¥çè¿ç¨\n\nç±äºJVMå¤§å¤æ°å½ä»¤é½æ¯éè¦ç¨å°è¿ç¨idçï¼æä»¥æä»¬éè¦åæ¥çä¸ä¸æä»¬ç³»ç»çè¿ç¨idï¼éè¿ä½¿ç¨jps -lï¼è¾åºææjavaç¸å³è¿ç¨ã\n\nè¿éæä»¬å¯ä»¥æ ¹æ®ç±»åï¼å¤§è´ç¡®è®¤åºæä»¬çç³»ç»è¿ç¨æ¯ä»ä¹\n\næ³¨ï¼-lä»£è¡¨çæ¯è¾åºåºç¨ç¨åºmain classçå®æ´packageåæèåºç¨ç¨åºçjaræä»¶å®æ´è·¯å¾å\n\n\n# æ¥çJVMåæ° jinfo\n\néè¿è¿è¡jinfo -flags <ç«¯å£å·>æ¥çjvmçåæ°ã\n\néè¿è¿è¡jinfo -sysprops <ç«¯å£å·>æ¥çjavaç³»ç»åæ°ã\n\n\n# æ¥çåé¡¹ææ æ°æ® jstat\n\néè¿è¿è¡ -class <ç«¯å£å·>å®æç±»å è½½ç»è®¡ éè¿è¿è¡jstat -gc <ç«¯å£å·>å®æåå¾åæ¶ç»è®¡ éè¿è¿è¡jstat -gccapacity <ç«¯å£å·>å®æå åå­ç»è®¡ éè¿è¿è¡jstat -gcnew <ç«¯å£å·>å®ææ°çä»£åå¾åæ¶ç»è®¡ éè¿è¿è¡jstat -gcnewcapacity <ç«¯å£å·>å®ææ°çä»£åå­ç»è®¡ éè¿è¿è¡jstat -gcold <ç«¯å£å·>å®æèå¹´ä»£åå¾åæ¶ç»è®¡ éè¿è¿è¡jstat -gcoldcapacity <ç«¯å£å·>å®æèå¹´ä»£åå­ç»è®¡ éè¿è¿è¡jstat -gcmetacapacity <ç«¯å£å·>å®æèå¹´ä»£åå­ç»è®¡ éè¿è¿è¡jstat -gcutil <ç«¯å£å·>æ°æ®æ»è§ æ¥çå¯¹è±¡ååå­ä½¿ç¨æåµ éè¿è¿è¡jmap -histo <ç«¯å£å·> > ./log.txtç±»åå¶å¯¹è±¡æå åå­æ°æ®ã\n\n\n# jmap\n\néè¿è¿è¡jmap -heap <ç«¯å£å·>å ä¿¡æ¯ã\n\nåèï¼ æ·±åº¦å¥½æï¼JVMè°ä¼ Javaæ ¸å¿ç¯-æäºéçJVMæ§è½è°ä¼",normalizedContent:"# æ¥çè¿ç¨\n\nç±äºjvmå¤§å¤æ°å½ä»¤é½æ¯éè¦ç¨å°è¿ç¨idçï¼æä»¥æä»¬éè¦åæ¥çä¸ä¸æä»¬ç³»ç»çè¿ç¨idï¼éè¿ä½¿ç¨jps -lï¼è¾åºææjavaç¸å³è¿ç¨ã\n\nè¿éæä»¬å¯ä»¥æ ¹æ®ç±»åï¼å¤§è´ç¡®è®¤åºæä»¬çç³»ç»è¿ç¨æ¯ä»ä¹\n\næ³¨ï¼-lä»£è¡¨çæ¯è¾åºåºç¨ç¨åºmain classçå®æ´packageåæèåºç¨ç¨åºçjaræä»¶å®æ´è·¯å¾å\n\n\n# æ¥çjvmåæ° jinfo\n\néè¿è¿è¡jinfo -flags <ç«¯å£å·>æ¥çjvmçåæ°ã\n\néè¿è¿è¡jinfo -sysprops <ç«¯å£å·>æ¥çjavaç³»ç»åæ°ã\n\n\n# æ¥çåé¡¹ææ æ°æ® jstat\n\néè¿è¿è¡ -class <ç«¯å£å·>å®æç±»å è½½ç»è®¡ éè¿è¿è¡jstat -gc <ç«¯å£å·>å®æåå¾åæ¶ç»è®¡ éè¿è¿è¡jstat -gccapacity <ç«¯å£å·>å®æå åå­ç»è®¡ éè¿è¿è¡jstat -gcnew <ç«¯å£å·>å®ææ°çä»£åå¾åæ¶ç»è®¡ éè¿è¿è¡jstat -gcnewcapacity <ç«¯å£å·>å®ææ°çä»£åå­ç»è®¡ éè¿è¿è¡jstat -gcold <ç«¯å£å·>å®æèå¹´ä»£åå¾åæ¶ç»è®¡ éè¿è¿è¡jstat -gcoldcapacity <ç«¯å£å·>å®æèå¹´ä»£åå­ç»è®¡ éè¿è¿è¡jstat -gcmetacapacity <ç«¯å£å·>å®æèå¹´ä»£åå­ç»è®¡ éè¿è¿è¡jstat -gcutil <ç«¯å£å·>æ°æ®æ»è§ æ¥çå¯¹è±¡ååå­ä½¿ç¨æåµ éè¿è¿è¡jmap -histo <ç«¯å£å·> > ./log.txtç±»åå¶å¯¹è±¡æå åå­æ°æ®ã\n\n\n# jmap\n\néè¿è¿è¡jmap -heap <ç«¯å£å·>å ä¿¡æ¯ã\n\nåèï¼ æ·±åº¦å¥½æï¼jvmè°ä¼ javaæ ¸å¿ç¯-æäºéçjvmæ§è½è°ä¼",charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"ä»ä¹æ¯åå­æ³æ¼ï¼æä¹ç¡®å®åå­æ³æ¼ï¼",frontmatter:{title:"ä»ä¹æ¯åå­æ³æ¼ï¼æä¹ç¡®å®åå­æ³æ¼ï¼",date:"2022-05-21T17:33:27.000Z",permalink:"/pages/3ab5f5/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/060.%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%EF%BC%8C%E6%80%8E%E4%B9%88%E7%A1%AE%E5%AE%9A%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%EF%BC%9F.html",relativePath:"01.Javaç¸å³/30.JVM/060.ä»ä¹æ¯åå­æ³æ¼ï¼æä¹ç¡®å®åå­æ³æ¼ï¼.md",key:"v-15fba8f1",path:"/pages/3ab5f5/",headers:[{level:2,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:2},{level:2,title:"ä¸ãä»ç»",slug:"ä¸ãä»ç»",normalizedTitle:"ä¸ãä»ç»",charIndex:178},{level:3,title:"1ãä»ä¹æ¯åå­æ³æ¼",slug:"_1ãä»ä¹æ¯åå­æ³æ¼",normalizedTitle:"1ãä»ä¹æ¯åå­æ³æ¼",charIndex:187},{level:3,title:"2ãåå­æ³æ¼çå±å®³",slug:"_2ãåå­æ³æ¼çå±å®³",normalizedTitle:"2ãåå­æ³æ¼çå±å®³",charIndex:404},{level:2,title:"äºãåå­æ³æ¼åå ",slug:"äºãåå­æ³æ¼åå ",normalizedTitle:"äºãåå­æ³æ¼åå ",charIndex:491},{level:3,title:"1ãå¤§éä½¿ç¨éæåé",slug:"_1ãå¤§éä½¿ç¨éæåé",normalizedTitle:"1ãå¤§éä½¿ç¨éæåé",charIndex:583},{level:3,title:"2ãè¿æ¥èµæºæªå³é­",slug:"_2ãè¿æ¥èµæºæªå³é­",normalizedTitle:"2ãè¿æ¥èµæºæªå³é­",charIndex:1310},{level:3,title:"4ãåé¨ç±»ææå¤é¨ç±»",slug:"_4ãåé¨ç±»ææå¤é¨ç±»",normalizedTitle:"4ãåé¨ç±»ææå¤é¨ç±»",charIndex:2418},{level:3,title:"5ãfinalizeæ¹æ³",slug:"_5ãfinalizeæ¹æ³",normalizedTitle:"5ãfinalizeæ¹æ³",charIndex:2445},{level:3,title:"6ãThreadLocalçéè¯¯ä½¿ç¨",slug:"_6ãthreadlocalçéè¯¯ä½¿ç¨",normalizedTitle:"6ãthreadlocalçéè¯¯ä½¿ç¨",charIndex:2595},{level:2,title:"ä¸ãæ£æµåå­æ³æ¼",slug:"ä¸ãæ£æµåå­æ³æ¼",normalizedTitle:"ä¸ãæ£æµåå­æ³æ¼",charIndex:3062},{level:3,title:"1ãå·¥å·åæ",slug:"_1ãå·¥å·åæ",normalizedTitle:"1ãå·¥å·åæ",charIndex:3106},{level:3,title:"2ãåå¾åæ¶åæ",slug:"_2ãåå¾åæ¶åæ",normalizedTitle:"2ãåå¾åæ¶åæ",charIndex:3232},{level:3,title:"3ãåºåæµè¯",slug:"_3ãåºåæµè¯",normalizedTitle:"3ãåºåæµè¯",charIndex:3374},{level:2,title:"åãç»è®º",slug:"åãç»è®º",normalizedTitle:"åãç»è®º",charIndex:3418}],headersStr:"åè¨ ä¸ãä»ç» 1ãä»ä¹æ¯åå­æ³æ¼ 2ãåå­æ³æ¼çå±å®³ äºãåå­æ³æ¼åå  1ãå¤§éä½¿ç¨éæåé 2ãè¿æ¥èµæºæªå³é­ 4ãåé¨ç±»ææå¤é¨ç±» 5ãfinalizeæ¹æ³ 6ãThreadLocalçéè¯¯ä½¿ç¨ ä¸ãæ£æµåå­æ³æ¼ 1ãå·¥å·åæ 2ãåå¾åæ¶åæ 3ãåºåæµè¯ åãç»è®º",content:'# åè¨\n\nè¿ä¸ªé®é¢æ¯æä¹åç¿»çé¢ç»çæ¶åè§å°çãé£ä½å°å§å§æåå­æ³æ¼å½æäºåå­æº¢åºé®é¢å»è§£ç­çï¼ç»æå½åºææäºãä¸ºæ­¤æ»ç»ä¸ä¸ï¼ä¹ååä¸ä½èå¥ä¹è®¨è®ºè¿è¿ä¸ªé®é¢ãå¯è§ä¸ç®¡æ¯é¢è¯è¿æ¯å·¥ä½è¿é½æ¯ä¸ä¸ªæä¸ºéè¦çç¹ã\n\næä¹æ¾å¨é¢é¿éçæ¶åä¹éå°è¿åé¢ï¼é¢ç®æ¯ååºä¿©åå­æ³æ¼æ¡ä¾ï¼ç¶åé®å¦ä½ææ¥ï¼å¦ä½è§£å³ï¼\n\næ¬ç¯æç« å¤§ä½ç»ææ¥èªå¤å½å¤§ä½¬baeldungï¼\n\n\n# ä¸ãä»ç»\n\n\n# 1ãä»ä¹æ¯åå­æ³æ¼\n\njavaçä¼å¿ä¹ä¸å°±æ¯åç½®äºåå¾åæ¶å¨GCï¼å®å¸®å©æä»¬å®ç°äºèªå¨ååå­ç®¡çãä½æ¯GCåå¥½ï¼ä¹æèé©¬å¤±åè¹çæ¶åï¼å®ä¸è½ä¿è¯æä¾ä¸ä¸ªè§£å³åå­æ³æ¼çä¸æ ä¸å¤±çè§£å³æ¹æ¡ãä»ä¹æ¯åå­æ³æ¼ï¼å¯ä»¥ççä¸é¢è¿å¼ å¾ï¼\n\nä¹å°±æ¯ä¸é¨ååå­ç©ºé´æææå·²ç»ä½¿ç¨äºï¼å´æ²¡æå¼ç¨æåè¿é¨åç©ºé´ãé æè¿çå·²ç»ä½¿ç¨çç©ºé´æ æ³å¤ççæåµã\n\næ­£è§ç¹ççè§£ï¼å¨æå¼è¾çç©ºé´ï¼å¨ä½¿ç¨å®æ¯åæªéæ¾ï¼ç»æå¯¼è´ä¸ç´å æ®è¯¥åå­ååãç´å°ç¨åºç»æã\n\n\n# 2ãåå­æ³æ¼çå±å®³\n\né¿æ¶é´è¿è¡ï¼ç¨åºåå¡ï¼æ§è½ä¸¥éä¸é ç¨åºè«åå¶å¦ææ OutOfMemoryErroréè¯¯ ä¹±ä¸å«ç³çéè¯¯ï¼è¿ä¸æææ¥ åæ­£åå­æ³æ¼ä¸æ¯å¥½äºã\n\n\n# äºãåå­æ³æ¼åå \n\nåå­æ³æ¼åå å¤ªå¤äºãè¯´ä¸å®å°±æ¯æä¸è¡ä»£ç ä¸å¯¹å°±ä¼åºç°è¿ç§æåµï¼å æ­¤è¿éç»åºæå¸¸è§çå ç§ãå³é®çè¿æ¯å¦ä½æ¾åºåªä¸ªå°æ¹åºç°äºåå­æ³æ¼ï¼ä»£ç å¥½ä¿®æ¹ï¼éè¯¯ä¸ææ¥ã\n\n\n# 1ãå¤§éä½¿ç¨éæåé\n\néæåéççå½å¨æä¸ç¨åºä¸è´ãå æ­¤å¸¸é©»åå­ã\n\npublic class Static Test{\n    public static List<Integer> list = new ArrayList<>();\n    public void populateList(){\n        for (int i = 0; i < 10000000; i++) {\n            list.add((int)Math.random()); \n        } \n        System.out.println("running......"); \n    }\n    public static void main(String[] args){ \n        System.out.println("before......");\n        new StaticTest().populateList(); \n        System.out.println("after......");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nç°å¨å¯ä»¥ä½¿ç¨jvisualvmè¿è¡ä¸è¾¹ï¼ççåå­ææã\n\n * å¸¦staticå³é®å­ï¼ä½¿ç¨éæåéï¼\n\nä»ä¸å¾å¯ä»¥çå°ï¼å åå­ä»ä¸å¼å§ç135Må·¦å³é£åäºå°äº200Mãç´æ¥å æ®äº65Mçåå­ã\n\n * ä¸ä½¿ç¨staticå³é®å­ï¼ä¸ä½¿ç¨éæåéï¼\n\nç±äºå¨å±åéä¸ç¨åºå¨æä¸ä¸è´ï¼å æ­¤ä¸ä½¿ç¨æ¶ï¼å°±ä¼è¿è¡åæ¶ãæ­¤æ¶åå­æé«150Mã\n\næ»ç»ï¼ç±äºéæåéä¸ç¨åºçå½å¨æä¸è´ï¼å æ­¤å¯¹è±¡å¸¸é©»åå­ï¼é æåå­æ³æ¼\n\n\n# 2ãè¿æ¥èµæºæªå³é­\n\næ¯å½å»ºç«ä¸ä¸ªè¿æ¥ï¼jvmå°±ä¼ä¸ºè¿ä¹èµæºåéåå­ãæ¯å¦æ°æ®åºè¿æ¥ãæä»¶è¾å¥è¾åºæµãç½ç»è¿æ¥ç­ç­ã\n\npublic class File Test{\n    public static void main(String[] args)throws IOException {\n        File f=new File("G:\\\\nginxéå¥èµæ\\\\ç¬è®°èµæ.zip"); \n        System.out.println(f.exists());\n        System.out.println(f.isDirectory());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¾ç¶ä½¿ç¨jvisualvmè¿è¡ä¸è¾¹ï¼ççåå­ææã\n\nå¯ä»¥çåºï¼å¨è¿æ¥æä»¶èµæºæ¶ï¼jvmä¼ä¸ºæ¬èµæºåéåå­ã\n\n3ãequals()åhashCode()æ¹æ³ä½¿ç¨ä¸å½\n\nå®ä¹æ°ç±»æ¶ï¼å¦ææ²¡æéæ°equals()åhashCode()æ¹æ³ï¼ä¹æå¯è½ä¼é æåå­æ³æ¼ãä¸»è¦åå æ¯æ²¡æè¿ä¸¤ä¸ªæ¹æ³æ¶ï¼å¾å®¹æé æéå¤çæ°æ®æ·»å ãçä¾å­ï¼\n\npublic class User{\n    public String name;\n    publicint age;\n    public User(String name, int age){\n    this.name = name;\n    this.age = age;}\n    }\n    public class EqualTest{\n        public static void main(String[] args){ \n            Map<User, Integer> map = new HashMap<>();\n            for(int i=0; i<100; i++) { \n            map.put(new User("", 1), 1);\n        } \n        System.out.println(map.size() == 1);//è¾åºä¸ºfalse \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nç¶åè¿è¡ä¸ä¸ï¼ççåå­æåµï¼\n\nåå­ä»150Mä¸ä¸å­é£åå°225Mï¼å¯è§é£åçåå®³ãè¾åºä¸ºfalseï¼è¯´æuserå¯¹è±¡è¢«éå¤æ·»å äºãæä»¬ç¥éåHashMapå¨æ·»å æ°çå¯¹è±¡æ¶ï¼ä¼å¯¹å¶hashcodeè¿è¡æ¯è¾ï¼å¦æä¸æ ·ï¼é£å°±ä¸æå¥ãå¦æä¸æ ·é£å°±æå¥ãæ­¤æ¶è¯´æè¿100ä¸ªUserå¶hashcodeä¸åã\n\n\n# 4ãåé¨ç±»ææå¤é¨ç±»\n\nè¿ä¸ªåºæ¯åä¸é¢ç±»ä¼¼ã\n\n\n# 5ãfinalizeæ¹æ³\n\nè¿ä¸ªæ¹æ³ä¹åæ¾ç»ä¸é¨è±è¿æç« åè¿ï¼è¿ä¸ªé®é¢å¾ç®åãçä¸å¼ å¾\n\nè¿å°±æ¯æ´ä¸ªè¿ç¨ãä¸è¿å¨è¿éæä»¬ä¸»è¦ççæ¯finalizeæ¹æ³å¯¹åå¾åæ¶çå½±åï¼å¶å®å°±æ¯å¨ç¬¬ä¸æ­¥ï¼ä¹å°±æ¯è¿ä¸ªå¯¹è±¡å«æfinalizeï¼è¿å¥äºéåä½ä¸ç´æ²¡æè¢«è°ç¨çè¿æ®µæ¶é´ï¼ä¼ä¸ç´å ç¨åå­ãé æåå­æ³æ¼ã\n\n\n# 6ãThreadLocalçéè¯¯ä½¿ç¨\n\nThreadLocalä¸»è¦ç¨äºåå»ºæ¬å°çº¿ç¨åéï¼ä¸åççä½¿ç¨ä¹æå¯è½ä¼é æåå­æ³æ¼ã\n\nä¸é¢è¿å¼ å¾è¯¦ç»çæ­ç¤ºäºThreadLocalåThreadä»¥åThreadLocalMapä¸èçå³ç³»ã\n\n1ãThreadä¸­æä¸ä¸ªmapï¼å°±æ¯ThreadLocalMap\n\n2ãThreadLocalMapçkeyæ¯ThreadLocalï¼å¼æ¯æä»¬èªå·±è®¾å®çã\n\n3ãThreadLocalæ¯ä¸ä¸ªå¼±å¼ç¨ï¼å½ä¸ºnullæ¶ï¼ä¼è¢«å½æåå¾åæ¶\n\n4ãéç¹æ¥äºï¼çªç¶æä»¬ThreadLocalæ¯nulläºï¼ä¹å°±æ¯è¦è¢«åå¾åæ¶å¨åæ¶äºï¼ä½æ¯æ­¤æ¶æä»¬çThreadLocalMapçå½å¨æåThreadçä¸æ ·ï¼å®ä¸ä¼åæ¶ï¼è¿æ¶åå°±åºç°äºä¸ä¸ªç°è±¡ãé£å°±æ¯ThreadLocalMapçkeyæ²¡äºï¼ä½æ¯valueè¿å¨ï¼è¿å°±é æäºåå­æ³æ¼ã\n\nè§£å³åæ³ï¼ä½¿ç¨å®ThreadLocalåï¼æ§è¡removeæä½ï¼é¿ååºç°åå­æº¢åºæåµã\n\nç°å¨ä»ç»äºå ç§å¸¸è§çåå­æ³æ¼æåµï¼ä¸é¢çç¥è¯ç¹æ¯è¾å¸¸è§ï¼æä¸»è¦çæ¯å¦ä½æ£æµåºæ¥ã\n\n\n# ä¸ãæ£æµåå­æ³æ¼\n\næ£æµçç®çæ¯å®ä½åå­æ³æ¼åºç°çä½ç½®ï¼å¸¸è§çæä»¥ä¸å ç§æ¹æ³ï¼\n\n\n# 1ãå·¥å·åæ\n\nè¿ä¸ªå·¥å·æ¯è¾å¤ï¼æ¯å¦è¯´JProfilerãYourKitãJava VisualVMåNetbeans Profilerãä»å¯ä»¥å¸®å©æä»¬åææ¯åªä¸ä¸ªå¯¹è±¡æèæ¯ç±»åå­çé£åãä¹å¯ä»¥çå°åå­CPUçç­ç­åç§æåµãä¸é¢å¤æ¬¡æ¼ç¤ºå°äºã\n\n\n# 2ãåå¾åæ¶åæ\n\nè¿ä¸ªå¶å®ä¹å¯ä»¥ç¨å·¥å·è¿è¡åæãä¸é¢çVisualVMä¸­ï¼å¯ä»¥æå°å ãä¹å¯ä»¥ä»å¤é¨å¯¼å¥dumpæä»¶è¿è¡åæã\n\nå¦æä¸ç¨å·¥å·çè¯ï¼æä»¬å¯ä»¥éè¿IDEçå°ãJVMéç½®æ·»å -verbose:gcãç¶åå°±ä¼æå°åºç¸å³ä¿¡æ¯ãä¸é¢è¿å¼ å¾éååï¼æ¥èªBaeldungã\n\n\n# 3ãåºåæµè¯\n\nä¹å°±æ¯ä½¿ç¨ç§å­¦çæ¹å¼è¿è¡åæjavaä»£ç çæ§è½ãè¿èå¤æ­åæã\n\n\n# åãç»è®º\n\nåå­æ³æ¼æ¯ä¸ªå¾ä¸¥éçé®é¢ï¼ä¹æ¯è¾å¸¸è§ã\n\næä¸»è¦çåå æ¯å¨æå¼è¾çç©ºé´ï¼å¨ä½¿ç¨å®æ¯åæªéæ¾ï¼ç»æå¯¼è´ä¸ç´å æ®è¯¥åå­ååãç´å°ç¨åºç»æãå æ­¤è¯å¥½çä»£ç è§èï¼å¯ä»¥ææå°é¿åè¿äºéè¯¯ã\n\nåèï¼ ä»ä¹æ¯åå­æ³æ¼ï¼è¯¥å¦ä½æ£æµï¼åè¯¥å¦ä½è§£å³ï¼',normalizedContent:'# åè¨\n\nè¿ä¸ªé®é¢æ¯æä¹åç¿»çé¢ç»çæ¶åè§å°çãé£ä½å°å§å§æåå­æ³æ¼å½æäºåå­æº¢åºé®é¢å»è§£ç­çï¼ç»æå½åºææäºãä¸ºæ­¤æ»ç»ä¸ä¸ï¼ä¹ååä¸ä½èå¥ä¹è®¨è®ºè¿è¿ä¸ªé®é¢ãå¯è§ä¸ç®¡æ¯é¢è¯è¿æ¯å·¥ä½è¿é½æ¯ä¸ä¸ªæä¸ºéè¦çç¹ã\n\næä¹æ¾å¨é¢é¿éçæ¶åä¹éå°è¿åé¢ï¼é¢ç®æ¯ååºä¿©åå­æ³æ¼æ¡ä¾ï¼ç¶åé®å¦ä½ææ¥ï¼å¦ä½è§£å³ï¼\n\næ¬ç¯æç« å¤§ä½ç»ææ¥èªå¤å½å¤§ä½¬baeldungï¼\n\n\n# ä¸ãä»ç»\n\n\n# 1ãä»ä¹æ¯åå­æ³æ¼\n\njavaçä¼å¿ä¹ä¸å°±æ¯åç½®äºåå¾åæ¶å¨gcï¼å®å¸®å©æä»¬å®ç°äºèªå¨ååå­ç®¡çãä½æ¯gcåå¥½ï¼ä¹æèé©¬å¤±åè¹çæ¶åï¼å®ä¸è½ä¿è¯æä¾ä¸ä¸ªè§£å³åå­æ³æ¼çä¸æ ä¸å¤±çè§£å³æ¹æ¡ãä»ä¹æ¯åå­æ³æ¼ï¼å¯ä»¥ççä¸é¢è¿å¼ å¾ï¼\n\nä¹å°±æ¯ä¸é¨ååå­ç©ºé´æææå·²ç»ä½¿ç¨äºï¼å´æ²¡æå¼ç¨æåè¿é¨åç©ºé´ãé æè¿çå·²ç»ä½¿ç¨çç©ºé´æ æ³å¤ççæåµã\n\næ­£è§ç¹ççè§£ï¼å¨æå¼è¾çç©ºé´ï¼å¨ä½¿ç¨å®æ¯åæªéæ¾ï¼ç»æå¯¼è´ä¸ç´å æ®è¯¥åå­ååãç´å°ç¨åºç»æã\n\n\n# 2ãåå­æ³æ¼çå±å®³\n\né¿æ¶é´è¿è¡ï¼ç¨åºåå¡ï¼æ§è½ä¸¥éä¸é ç¨åºè«åå¶å¦ææ outofmemoryerroréè¯¯ ä¹±ä¸å«ç³çéè¯¯ï¼è¿ä¸æææ¥ åæ­£åå­æ³æ¼ä¸æ¯å¥½äºã\n\n\n# äºãåå­æ³æ¼åå \n\nåå­æ³æ¼åå å¤ªå¤äºãè¯´ä¸å®å°±æ¯æä¸è¡ä»£ç ä¸å¯¹å°±ä¼åºç°è¿ç§æåµï¼å æ­¤è¿éç»åºæå¸¸è§çå ç§ãå³é®çè¿æ¯å¦ä½æ¾åºåªä¸ªå°æ¹åºç°äºåå­æ³æ¼ï¼ä»£ç å¥½ä¿®æ¹ï¼éè¯¯ä¸ææ¥ã\n\n\n# 1ãå¤§éä½¿ç¨éæåé\n\néæåéççå½å¨æä¸ç¨åºä¸è´ãå æ­¤å¸¸é©»åå­ã\n\npublic class static test{\n    public static list<integer> list = new arraylist<>();\n    public void populatelist(){\n        for (int i = 0; i < 10000000; i++) {\n            list.add((int)math.random()); \n        } \n        system.out.println("running......"); \n    }\n    public static void main(string[] args){ \n        system.out.println("before......");\n        new statictest().populatelist(); \n        system.out.println("after......");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nç°å¨å¯ä»¥ä½¿ç¨jvisualvmè¿è¡ä¸è¾¹ï¼ççåå­ææã\n\n * å¸¦staticå³é®å­ï¼ä½¿ç¨éæåéï¼\n\nä»ä¸å¾å¯ä»¥çå°ï¼å åå­ä»ä¸å¼å§ç135må·¦å³é£åäºå°äº200mãç´æ¥å æ®äº65mçåå­ã\n\n * ä¸ä½¿ç¨staticå³é®å­ï¼ä¸ä½¿ç¨éæåéï¼\n\nç±äºå¨å±åéä¸ç¨åºå¨æä¸ä¸è´ï¼å æ­¤ä¸ä½¿ç¨æ¶ï¼å°±ä¼è¿è¡åæ¶ãæ­¤æ¶åå­æé«150mã\n\næ»ç»ï¼ç±äºéæåéä¸ç¨åºçå½å¨æä¸è´ï¼å æ­¤å¯¹è±¡å¸¸é©»åå­ï¼é æåå­æ³æ¼\n\n\n# 2ãè¿æ¥èµæºæªå³é­\n\næ¯å½å»ºç«ä¸ä¸ªè¿æ¥ï¼jvmå°±ä¼ä¸ºè¿ä¹èµæºåéåå­ãæ¯å¦æ°æ®åºè¿æ¥ãæä»¶è¾å¥è¾åºæµãç½ç»è¿æ¥ç­ç­ã\n\npublic class file test{\n    public static void main(string[] args)throws ioexception {\n        file f=new file("g:\\\\nginxéå¥èµæ\\\\ç¬è®°èµæ.zip"); \n        system.out.println(f.exists());\n        system.out.println(f.isdirectory());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¾ç¶ä½¿ç¨jvisualvmè¿è¡ä¸è¾¹ï¼ççåå­ææã\n\nå¯ä»¥çåºï¼å¨è¿æ¥æä»¶èµæºæ¶ï¼jvmä¼ä¸ºæ¬èµæºåéåå­ã\n\n3ãequals()åhashcode()æ¹æ³ä½¿ç¨ä¸å½\n\nå®ä¹æ°ç±»æ¶ï¼å¦ææ²¡æéæ°equals()åhashcode()æ¹æ³ï¼ä¹æå¯è½ä¼é æåå­æ³æ¼ãä¸»è¦åå æ¯æ²¡æè¿ä¸¤ä¸ªæ¹æ³æ¶ï¼å¾å®¹æé æéå¤çæ°æ®æ·»å ãçä¾å­ï¼\n\npublic class user{\n    public string name;\n    publicint age;\n    public user(string name, int age){\n    this.name = name;\n    this.age = age;}\n    }\n    public class equaltest{\n        public static void main(string[] args){ \n            map<user, integer> map = new hashmap<>();\n            for(int i=0; i<100; i++) { \n            map.put(new user("", 1), 1);\n        } \n        system.out.println(map.size() == 1);//è¾åºä¸ºfalse \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nç¶åè¿è¡ä¸ä¸ï¼ççåå­æåµï¼\n\nåå­ä»150mä¸ä¸å­é£åå°225mï¼å¯è§é£åçåå®³ãè¾åºä¸ºfalseï¼è¯´æuserå¯¹è±¡è¢«éå¤æ·»å äºãæä»¬ç¥éåhashmapå¨æ·»å æ°çå¯¹è±¡æ¶ï¼ä¼å¯¹å¶hashcodeè¿è¡æ¯è¾ï¼å¦æä¸æ ·ï¼é£å°±ä¸æå¥ãå¦æä¸æ ·é£å°±æå¥ãæ­¤æ¶è¯´æè¿100ä¸ªuserå¶hashcodeä¸åã\n\n\n# 4ãåé¨ç±»ææå¤é¨ç±»\n\nè¿ä¸ªåºæ¯åä¸é¢ç±»ä¼¼ã\n\n\n# 5ãfinalizeæ¹æ³\n\nè¿ä¸ªæ¹æ³ä¹åæ¾ç»ä¸é¨è±è¿æç« åè¿ï¼è¿ä¸ªé®é¢å¾ç®åãçä¸å¼ å¾\n\nè¿å°±æ¯æ´ä¸ªè¿ç¨ãä¸è¿å¨è¿éæä»¬ä¸»è¦ççæ¯finalizeæ¹æ³å¯¹åå¾åæ¶çå½±åï¼å¶å®å°±æ¯å¨ç¬¬ä¸æ­¥ï¼ä¹å°±æ¯è¿ä¸ªå¯¹è±¡å«æfinalizeï¼è¿å¥äºéåä½ä¸ç´æ²¡æè¢«è°ç¨çè¿æ®µæ¶é´ï¼ä¼ä¸ç´å ç¨åå­ãé æåå­æ³æ¼ã\n\n\n# 6ãthreadlocalçéè¯¯ä½¿ç¨\n\nthreadlocalä¸»è¦ç¨äºåå»ºæ¬å°çº¿ç¨åéï¼ä¸åççä½¿ç¨ä¹æå¯è½ä¼é æåå­æ³æ¼ã\n\nä¸é¢è¿å¼ å¾è¯¦ç»çæ­ç¤ºäºthreadlocalåthreadä»¥åthreadlocalmapä¸èçå³ç³»ã\n\n1ãthreadä¸­æä¸ä¸ªmapï¼å°±æ¯threadlocalmap\n\n2ãthreadlocalmapçkeyæ¯threadlocalï¼å¼æ¯æä»¬èªå·±è®¾å®çã\n\n3ãthreadlocalæ¯ä¸ä¸ªå¼±å¼ç¨ï¼å½ä¸ºnullæ¶ï¼ä¼è¢«å½æåå¾åæ¶\n\n4ãéç¹æ¥äºï¼çªç¶æä»¬threadlocalæ¯nulläºï¼ä¹å°±æ¯è¦è¢«åå¾åæ¶å¨åæ¶äºï¼ä½æ¯æ­¤æ¶æä»¬çthreadlocalmapçå½å¨æåthreadçä¸æ ·ï¼å®ä¸ä¼åæ¶ï¼è¿æ¶åå°±åºç°äºä¸ä¸ªç°è±¡ãé£å°±æ¯threadlocalmapçkeyæ²¡äºï¼ä½æ¯valueè¿å¨ï¼è¿å°±é æäºåå­æ³æ¼ã\n\nè§£å³åæ³ï¼ä½¿ç¨å®threadlocalåï¼æ§è¡removeæä½ï¼é¿ååºç°åå­æº¢åºæåµã\n\nç°å¨ä»ç»äºå ç§å¸¸è§çåå­æ³æ¼æåµï¼ä¸é¢çç¥è¯ç¹æ¯è¾å¸¸è§ï¼æä¸»è¦çæ¯å¦ä½æ£æµåºæ¥ã\n\n\n# ä¸ãæ£æµåå­æ³æ¼\n\næ£æµçç®çæ¯å®ä½åå­æ³æ¼åºç°çä½ç½®ï¼å¸¸è§çæä»¥ä¸å ç§æ¹æ³ï¼\n\n\n# 1ãå·¥å·åæ\n\nè¿ä¸ªå·¥å·æ¯è¾å¤ï¼æ¯å¦è¯´jprofilerãyourkitãjava visualvmånetbeans profilerãä»å¯ä»¥å¸®å©æä»¬åææ¯åªä¸ä¸ªå¯¹è±¡æèæ¯ç±»åå­çé£åãä¹å¯ä»¥çå°åå­cpuçç­ç­åç§æåµãä¸é¢å¤æ¬¡æ¼ç¤ºå°äºã\n\n\n# 2ãåå¾åæ¶åæ\n\nè¿ä¸ªå¶å®ä¹å¯ä»¥ç¨å·¥å·è¿è¡åæãä¸é¢çvisualvmä¸­ï¼å¯ä»¥æå°å ãä¹å¯ä»¥ä»å¤é¨å¯¼å¥dumpæä»¶è¿è¡åæã\n\nå¦æä¸ç¨å·¥å·çè¯ï¼æä»¬å¯ä»¥éè¿ideçå°ãjvméç½®æ·»å -verbose:gcãç¶åå°±ä¼æå°åºç¸å³ä¿¡æ¯ãä¸é¢è¿å¼ å¾éååï¼æ¥èªbaeldungã\n\n\n# 3ãåºåæµè¯\n\nä¹å°±æ¯ä½¿ç¨ç§å­¦çæ¹å¼è¿è¡åæjavaä»£ç çæ§è½ãè¿èå¤æ­åæã\n\n\n# åãç»è®º\n\nåå­æ³æ¼æ¯ä¸ªå¾ä¸¥éçé®é¢ï¼ä¹æ¯è¾å¸¸è§ã\n\næä¸»è¦çåå æ¯å¨æå¼è¾çç©ºé´ï¼å¨ä½¿ç¨å®æ¯åæªéæ¾ï¼ç»æå¯¼è´ä¸ç´å æ®è¯¥åå­ååãç´å°ç¨åºç»æãå æ­¤è¯å¥½çä»£ç è§èï¼å¯ä»¥ææå°é¿åè¿äºéè¯¯ã\n\nåèï¼ ä»ä¹æ¯åå­æ³æ¼ï¼è¯¥å¦ä½æ£æµï¼åè¯¥å¦ä½è§£å³ï¼',charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"ç®è¿° CMS ä¸ G1 æºå¶çåºå«",frontmatter:{title:"ç®è¿° CMS ä¸ G1 æºå¶çåºå«",date:"2022-05-21T17:33:40.000Z",permalink:"/pages/be69af/",categories:["Javaç¸å³","JVM"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/30.JVM/070.%E7%AE%80%E8%BF%B0%20CMS%20%E4%B8%8E%20G1%20%E6%9C%BA%E5%88%B6%E7%9A%84%E5%8C%BA%E5%88%AB.html",relativePath:"01.Javaç¸å³/30.JVM/070.ç®è¿° CMS ä¸ G1 æºå¶çåºå«.md",key:"v-28c1d6d9",path:"/pages/be69af/",headers:[{level:2,title:"G1ç¹ææ°æ®ç»æåç®æ³",slug:"g1ç¹ææ°æ®ç»æåç®æ³",normalizedTitle:"g1ç¹ææ°æ®ç»æåç®æ³",charIndex:2},{level:3,title:"Region",slug:"region",normalizedTitle:"region",charIndex:18},{level:3,title:"SATBç®æ³",slug:"satbç®æ³",normalizedTitle:"satbç®æ³",charIndex:179},{level:3,title:"ä¸è²æ è®°æ³",slug:"ä¸è²æ è®°æ³",normalizedTitle:"ä¸è²æ è®°æ³",charIndex:248},{level:3,title:"RSet",slug:"rset",normalizedTitle:"rset",charIndex:670},{level:3,title:"åå¾åæ¶è¿ç¨",slug:"åå¾åæ¶è¿ç¨",normalizedTitle:"åå¾åæ¶è¿ç¨",charIndex:1013},{level:3,title:"ä¸CMSç¸æ¯çä¼å¿",slug:"ä¸cmsç¸æ¯çä¼å¿",normalizedTitle:"ä¸cmsç¸æ¯çä¼å¿",charIndex:1517},{level:2,title:"CMS",slug:"cms",normalizedTitle:"cms",charIndex:255},{level:3,title:"ä»ä¹æ¯CMSï¼",slug:"ä»ä¹æ¯cms",normalizedTitle:"ä»ä¹æ¯cmsï¼",charIndex:1699},{level:3,title:"CMSæä»ä¹ç¨ï¼",slug:"cmsæä»ä¹ç¨",normalizedTitle:"cmsæä»ä¹ç¨ï¼",charIndex:1785},{level:3,title:"CMSå¦ä½æ§è¡ï¼",slug:"cmså¦ä½æ§è¡",normalizedTitle:"cmså¦ä½æ§è¡ï¼",charIndex:1865}],headersStr:"G1ç¹ææ°æ®ç»æåç®æ³ Region SATBç®æ³ ä¸è²æ è®°æ³ RSet åå¾åæ¶è¿ç¨ ä¸CMSç¸æ¯çä¼å¿ CMS ä»ä¹æ¯CMSï¼ CMSæä»ä¹ç¨ï¼ CMSå¦ä½æ§è¡ï¼",content:"# G1ç¹ææ°æ®ç»æåç®æ³\n\n\n# Region\n\nå ä»ç¶ææ°çä»£(edenãsurvivor)ãèå¹´ä»£çååï¼ä½æ¯ä¸åè¦æ±å®ä»¬æ¯åå­è¿ç»­çãæ¯ä¸ªåºé½ç±å¤ä¸ªRegionç»æã é¨åèå¹´ä»£Regionå­å¨Humongouså¯¹è±¡(å³ä¸å¾çH)ï¼è¿ç§å¯¹è±¡å¤§å°å¤§äºç­äºRegionçä¸åã\n\n(å¾çæ¥æº-Java Hotspot G1 GCçä¸äºå³é®ææ¯)\n\n\n# SATBç®æ³\n\nå¨ç§°Snapshot-At-The-Beginningï¼èµ·å§æ¶æ´»å¯¹è±¡çå¿«ç§ãå¨çè§£SATBåéè¦åäºè§£ä»¥ä¸ç¥è¯ã\n\n\n# ä¸è²æ è®°æ³\n\nCMSåG1çç®æ³é½æ¯éè¿å¯¹gc root è¿è¡éåï¼å¹¶è¿è¡ä¸è²æ è®°ãæ è®°è§åä¸º\n\né»è²(black): èç¹è¢«éåå®æï¼èä¸å­èç¹é½éåå®æã ç°è²(gray): å½åæ­£å¨éåçèç¹ï¼èä¸å­èç¹ï¼å³å¯¹è±¡çåï¼è¿æ²¡æéåãéåå®ææå­èç¹åï¼å°æä¸ºé»è² ç½è²(white): è¿æ²¡æéåå°çèç¹ï¼å³ç°è²èç¹çå­èç¹ãæ«æç»æä»æ¯ç½è²æ¶ä¼è¢«åæ¶ã å¹¶åæ«ææ¶ï¼å¯¹äºç½è²æä¸¤ç§æåµåæ¶åçæ¶ï¼å¯è½ä¼æ¼æ å¯¼è´è¢«è¯¯åæ¶ï¼\n\nå¢å äºè¢«é»è²å¼ç¨çå³ç³»ã è¢«ç°è²ä¸åºç¨ï¼å é¤äºå°å®çå¼ç¨ å·ä½æ§è¡è¿ç¨ï¼https://www.cnblogs.com/javaadu/p/10713956.html\n\næç§Rå¤§çè¯´æ³ï¼CMSçincremental updateè®¾è®¡ä½¿å¾å®å¨remarké¶æ®µå¿é¡»éæ°æ«æææçº¿ç¨æ åæ´ä¸ªyoung genä½ä¸ºrootï¼G1çSATBè®¾è®¡å¨remarké¶æ®µååªéè¦æ«æå©ä¸çsatb_mark_queueã\n\n\n# RSet\n\nå¨ç§°Remember Setï¼è®°å½ä¸ä¸ªRegionéçå¯¹è±¡è¢«åªäºå¶ä»Regionå¼ç¨ã ç¸å¯¹åºå°ï¼æå¦ä¸ç§è¾å©æ°æ®ç»æCollection Setï¼CSetï¼ï¼å®è®°å½äºGCè¦æ¶éçRegionéåãGCæ¶åªéæ«æCSetä¸­åä¸ªRsetå³å¯ã\n\n(Tips for Tuning the Garbage First Garbage Collector)\n\næ´è¯¦ç»çè®¿é®æºå¶ååæ¶è¿ç¨è¿éä¸åå±å¼ï¼æå´è¶£å¯ä»¥åèåæå¼ç¨æç®ã\n\nPause Prediction Model æåé¢æµæ¨¡åï¼G1æ ¹æ®å®è®¡ç®åºçåå²æ°æ®æ¥é¢æµæ¬æ¬¡æ¶ééè¦éæ©çRegionæ°éï¼ä»èå°½éæ»¡è¶³ç¨æ·è®¾å®çç®æ åé¡¿æ¶é´ã å·ä½ç®æ³åå¬å¼ç¥ï¼å¯è§Java Hotspot G1 GCçä¸äºå³é®ææ¯\n\n\n# åå¾åæ¶è¿ç¨\n\nåä¸ºä»¥ä¸å æ­¥ï¼\n\nåå§æ è®°ï¼Initial Markï¼ââ æ è®°GC rootè½ç´æ¥å³èçå¯¹è±¡ï¼ç­æSTWï¼ å¹¶åæ è®°ï¼Concurrent markï¼ââ GCRootsTracingï¼ä»å¹¶åæ è®°ä¸­çrootéåï¼å¯¹ä¸å¯è¾¾çå¯¹è±¡è¿è¡æ è®°ï¼èæ¶é¿ä½å¯å¹¶è¡ æç»æ è®°ï¼Final Remarkï¼ââ æ¶éå¹¶åæ è®°æé´äº§ççæ°åå¾ï¼ç­æSTWï¼,éç¨äºSATBç®æ³æ¯CMSæ´å¿« ç­éåæ¶ï¼Live Data Counting and Evacuationï¼ââ å¯¹åä¸ªRegionçåæ¶æ§ä»·æ¯æåºï¼å¨ä¿è¯æ¶é´å¯æ§çæåµä¸æ¸é¤å¤±æ´»å¯¹è±¡ï¼æ¸é¤Remember Sets ä½ä¸ºå¯¹æ¯ï¼CMSçåæ¶è¿ç¨\n\nåå§æ è®°ï¼CMS Initial Markï¼ââ æ è®°GC rootè½ç´æ¥å³èçå¯¹è±¡ï¼ç­æSTWï¼ å¹¶åæ è®°ï¼CMS Concurrent Markï¼ââ GCRootsTracingï¼ä»å¹¶åæ è®°ä¸­çrootéåï¼å¯¹ä¸å¯è¾¾çå¯¹è±¡è¿è¡æ è®° éæ°æ è®°ï¼CMS Remarkï¼ââ ä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·æä½å¯¼è´æ è®°åçåæ´çå¯¹è±¡ï¼æSTW å¹¶åæ¸é¤ï¼CMS Concurrent Sweepï¼\n\n\n# ä¸CMSç¸æ¯çä¼å¿\n\nå¹¶ååº¦æ´é«ï¼ååå©ç¨CPUå¤çº¿ç¨ ââ CMSå¯¹CPUèµæºææï¼éè¦å ç¨25%ççº¿ç¨ï¼å¦ææ ¸æ°å°äº4æ´ä¼å ç¨ä¸åçèµæºã æ´ä½ä¸æ¯æ è®°-æ´ç(åä»£)ï¼å±é¨æ¯å¤å¶(åRegion)ï¼è¿è¡æä¸äº§çç¢ç ââ CMSæ¯æ è®°-æ¸é¤ï¼ä¼äº§çç©ºé´ç¢çåæ¬æ¬¡åæ¶æé´äº§çå¯¼è´æ¬æ¬¡æ æ³åæ¶çæµ®å¨åå¾ å¯é¢æµçåé¡¿(åºäºRegion)\n\n\n# CMS\n\n\n# ä»ä¹æ¯CMSï¼\n\nConcurrent Mark Sweepã\n\nçåå­å°±ç¥éï¼CMSæ¯ä¸æ¬¾å¹¶åãä½¿ç¨æ è®°-æ¸é¤ç®æ³çgcã\n\nCMSæ¯éå¯¹èå¹´ä»£è¿è¡åæ¶çGCã\n\n\n# CMSæä»ä¹ç¨ï¼\n\nCMSä»¥è·åæå°åé¡¿æ¶é´ä¸ºç®çã\n\nå¨ä¸äºå¯¹ååºæ¶é´æå¾é«è¦æ±çåºç¨æç½ç«ä¸­ï¼ç¨æ·ç¨åºä¸è½æé¿æ¶é´çåé¡¿ï¼CMS å¯ä»¥ç¨äºæ­¤åºæ¯ã\n\n\n# CMSå¦ä½æ§è¡ï¼\n\næ»ä½æ¥è¯´CMSçæ§è¡è¿ç¨å¯ä»¥åä¸ºä»¥ä¸å ä¸ªé¶æ®µï¼\n\n      3.1 åå§æ è®°(STW)\n\n      3.2 å¹¶åæ è®°\n\n      3.3 å¹¶åé¢æ¸ç\n\n      3.4 éæ è®°(STW)\n\n      3.5 å¹¶åæ¸ç\n\n      3.6 éç½®\n\n\nåèï¼ å³äºGC(ä¸)ï¼CMSåG1GCçæ¯è¾ è¯¦è§£CMSåå¾åæ¶æºå¶",normalizedContent:"# g1ç¹ææ°æ®ç»æåç®æ³\n\n\n# region\n\nå ä»ç¶ææ°çä»£(edenãsurvivor)ãèå¹´ä»£çååï¼ä½æ¯ä¸åè¦æ±å®ä»¬æ¯åå­è¿ç»­çãæ¯ä¸ªåºé½ç±å¤ä¸ªregionç»æã é¨åèå¹´ä»£regionå­å¨humongouså¯¹è±¡(å³ä¸å¾çh)ï¼è¿ç§å¯¹è±¡å¤§å°å¤§äºç­äºregionçä¸åã\n\n(å¾çæ¥æº-java hotspot g1 gcçä¸äºå³é®ææ¯)\n\n\n# satbç®æ³\n\nå¨ç§°snapshot-at-the-beginningï¼èµ·å§æ¶æ´»å¯¹è±¡çå¿«ç§ãå¨çè§£satbåéè¦åäºè§£ä»¥ä¸ç¥è¯ã\n\n\n# ä¸è²æ è®°æ³\n\ncmsåg1çç®æ³é½æ¯éè¿å¯¹gc root è¿è¡éåï¼å¹¶è¿è¡ä¸è²æ è®°ãæ è®°è§åä¸º\n\né»è²(black): èç¹è¢«éåå®æï¼èä¸å­èç¹é½éåå®æã ç°è²(gray): å½åæ­£å¨éåçèç¹ï¼èä¸å­èç¹ï¼å³å¯¹è±¡çåï¼è¿æ²¡æéåãéåå®ææå­èç¹åï¼å°æä¸ºé»è² ç½è²(white): è¿æ²¡æéåå°çèç¹ï¼å³ç°è²èç¹çå­èç¹ãæ«æç»æä»æ¯ç½è²æ¶ä¼è¢«åæ¶ã å¹¶åæ«ææ¶ï¼å¯¹äºç½è²æä¸¤ç§æåµåæ¶åçæ¶ï¼å¯è½ä¼æ¼æ å¯¼è´è¢«è¯¯åæ¶ï¼\n\nå¢å äºè¢«é»è²å¼ç¨çå³ç³»ã è¢«ç°è²ä¸åºç¨ï¼å é¤äºå°å®çå¼ç¨ å·ä½æ§è¡è¿ç¨ï¼https://www.cnblogs.com/javaadu/p/10713956.html\n\næç§rå¤§çè¯´æ³ï¼cmsçincremental updateè®¾è®¡ä½¿å¾å®å¨remarké¶æ®µå¿é¡»éæ°æ«æææçº¿ç¨æ åæ´ä¸ªyoung genä½ä¸ºrootï¼g1çsatbè®¾è®¡å¨remarké¶æ®µååªéè¦æ«æå©ä¸çsatb_mark_queueã\n\n\n# rset\n\nå¨ç§°remember setï¼è®°å½ä¸ä¸ªregionéçå¯¹è±¡è¢«åªäºå¶ä»regionå¼ç¨ã ç¸å¯¹åºå°ï¼æå¦ä¸ç§è¾å©æ°æ®ç»æcollection setï¼csetï¼ï¼å®è®°å½äºgcè¦æ¶éçregionéåãgcæ¶åªéæ«æcsetä¸­åä¸ªrsetå³å¯ã\n\n(tips for tuning the garbage first garbage collector)\n\næ´è¯¦ç»çè®¿é®æºå¶ååæ¶è¿ç¨è¿éä¸åå±å¼ï¼æå´è¶£å¯ä»¥åèåæå¼ç¨æç®ã\n\npause prediction model æåé¢æµæ¨¡åï¼g1æ ¹æ®å®è®¡ç®åºçåå²æ°æ®æ¥é¢æµæ¬æ¬¡æ¶ééè¦éæ©çregionæ°éï¼ä»èå°½éæ»¡è¶³ç¨æ·è®¾å®çç®æ åé¡¿æ¶é´ã å·ä½ç®æ³åå¬å¼ç¥ï¼å¯è§java hotspot g1 gcçä¸äºå³é®ææ¯\n\n\n# åå¾åæ¶è¿ç¨\n\nåä¸ºä»¥ä¸å æ­¥ï¼\n\nåå§æ è®°ï¼initial markï¼ââ æ è®°gc rootè½ç´æ¥å³èçå¯¹è±¡ï¼ç­æstwï¼ å¹¶åæ è®°ï¼concurrent markï¼ââ gcrootstracingï¼ä»å¹¶åæ è®°ä¸­çrootéåï¼å¯¹ä¸å¯è¾¾çå¯¹è±¡è¿è¡æ è®°ï¼èæ¶é¿ä½å¯å¹¶è¡ æç»æ è®°ï¼final remarkï¼ââ æ¶éå¹¶åæ è®°æé´äº§ççæ°åå¾ï¼ç­æstwï¼,éç¨äºsatbç®æ³æ¯cmsæ´å¿« ç­éåæ¶ï¼live data counting and evacuationï¼ââ å¯¹åä¸ªregionçåæ¶æ§ä»·æ¯æåºï¼å¨ä¿è¯æ¶é´å¯æ§çæåµä¸æ¸é¤å¤±æ´»å¯¹è±¡ï¼æ¸é¤remember sets ä½ä¸ºå¯¹æ¯ï¼cmsçåæ¶è¿ç¨\n\nåå§æ è®°ï¼cms initial markï¼ââ æ è®°gc rootè½ç´æ¥å³èçå¯¹è±¡ï¼ç­æstwï¼ å¹¶åæ è®°ï¼cms concurrent markï¼ââ gcrootstracingï¼ä»å¹¶åæ è®°ä¸­çrootéåï¼å¯¹ä¸å¯è¾¾çå¯¹è±¡è¿è¡æ è®° éæ°æ è®°ï¼cms remarkï¼ââ ä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·æä½å¯¼è´æ è®°åçåæ´çå¯¹è±¡ï¼æstw å¹¶åæ¸é¤ï¼cms concurrent sweepï¼\n\n\n# ä¸cmsç¸æ¯çä¼å¿\n\nå¹¶ååº¦æ´é«ï¼ååå©ç¨cpuå¤çº¿ç¨ ââ cmså¯¹cpuèµæºææï¼éè¦å ç¨25%ççº¿ç¨ï¼å¦ææ ¸æ°å°äº4æ´ä¼å ç¨ä¸åçèµæºã æ´ä½ä¸æ¯æ è®°-æ´ç(åä»£)ï¼å±é¨æ¯å¤å¶(åregion)ï¼è¿è¡æä¸äº§çç¢ç ââ cmsæ¯æ è®°-æ¸é¤ï¼ä¼äº§çç©ºé´ç¢çåæ¬æ¬¡åæ¶æé´äº§çå¯¼è´æ¬æ¬¡æ æ³åæ¶çæµ®å¨åå¾ å¯é¢æµçåé¡¿(åºäºregion)\n\n\n# cms\n\n\n# ä»ä¹æ¯cmsï¼\n\nconcurrent mark sweepã\n\nçåå­å°±ç¥éï¼cmsæ¯ä¸æ¬¾å¹¶åãä½¿ç¨æ è®°-æ¸é¤ç®æ³çgcã\n\ncmsæ¯éå¯¹èå¹´ä»£è¿è¡åæ¶çgcã\n\n\n# cmsæä»ä¹ç¨ï¼\n\ncmsä»¥è·åæå°åé¡¿æ¶é´ä¸ºç®çã\n\nå¨ä¸äºå¯¹ååºæ¶é´æå¾é«è¦æ±çåºç¨æç½ç«ä¸­ï¼ç¨æ·ç¨åºä¸è½æé¿æ¶é´çåé¡¿ï¼cms å¯ä»¥ç¨äºæ­¤åºæ¯ã\n\n\n# cmså¦ä½æ§è¡ï¼\n\næ»ä½æ¥è¯´cmsçæ§è¡è¿ç¨å¯ä»¥åä¸ºä»¥ä¸å ä¸ªé¶æ®µï¼\n\n      3.1 åå§æ è®°(stw)\n\n      3.2 å¹¶åæ è®°\n\n      3.3 å¹¶åé¢æ¸ç\n\n      3.4 éæ è®°(stw)\n\n      3.5 å¹¶åæ¸ç\n\n      3.6 éç½®\n\n\nåèï¼ å³äºgc(ä¸)ï¼cmsåg1gcçæ¯è¾ è¯¦è§£cmsåå¾åæ¶æºå¶",charsets:{cjk:!0},lastUpdated:"2022/09/18, 21:28:02",lastUpdatedTimestamp:1663507682e3},{title:"å®ç°åä¾è®¾è®¡æ¨¡å¼ï¼ææ±ï¼é¥¿æ±ï¼",frontmatter:{title:"å®ç°åä¾è®¾è®¡æ¨¡å¼ï¼ææ±ï¼é¥¿æ±ï¼",date:"2022-05-21T17:26:00.000Z",permalink:"/pages/b37ad7/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/002.%E5%AE%9E%E7%8E%B0%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E6%87%92%E6%B1%89%EF%BC%8C%E9%A5%BF%E6%B1%89%EF%BC%89.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/002.å®ç°åä¾è®¾è®¡æ¨¡å¼ï¼ææ±ï¼é¥¿æ±ï¼.md",key:"v-ba94c306",path:"/pages/b37ad7/",headers:[{level:2,title:"åä¾æ¨¡å¼çå®ä¹",slug:"åä¾æ¨¡å¼çå®ä¹",normalizedTitle:"åä¾æ¨¡å¼çå®ä¹",charIndex:252},{level:2,title:"åä¾æ¨¡å¼çç±»å¾",slug:"åä¾æ¨¡å¼çç±»å¾",normalizedTitle:"åä¾æ¨¡å¼çç±»å¾",charIndex:294},{level:2,title:"åä¾æ¨¡å¼çå®ç°",slug:"åä¾æ¨¡å¼çå®ç°",normalizedTitle:"åä¾æ¨¡å¼çå®ç°",charIndex:15},{level:3,title:"é¥¿æ±å¼",slug:"é¥¿æ±å¼",normalizedTitle:"é¥¿æ±å¼",charIndex:320},{level:3,title:"ææ±å¼",slug:"ææ±å¼",normalizedTitle:"ææ±å¼",charIndex:856},{level:3,title:"éæåé¨ç±»",slug:"éæåé¨ç±»",normalizedTitle:"éæåé¨ç±»",charIndex:2627},{level:3,title:"æä¸¾",slug:"æä¸¾",normalizedTitle:"æä¸¾",charIndex:3151},{level:2,title:"åä¾æ¨¡å¼å¨JDK ä¸­çæºç åæ",slug:"åä¾æ¨¡å¼å¨jdk-ä¸­çæºç åæ",normalizedTitle:"åä¾æ¨¡å¼å¨jdk ä¸­çæºç åæ",charIndex:3399},{level:2,title:"åä¾æ¨¡å¼æ³¨æäºé¡¹åç»è",slug:"åä¾æ¨¡å¼æ³¨æäºé¡¹åç»è",normalizedTitle:"åä¾æ¨¡å¼æ³¨æäºé¡¹åç»è",charIndex:3459}],headersStr:"åä¾æ¨¡å¼çå®ä¹ åä¾æ¨¡å¼çç±»å¾ åä¾æ¨¡å¼çå®ç° é¥¿æ±å¼ ææ±å¼ éæåé¨ç±» æä¸¾ åä¾æ¨¡å¼å¨JDK ä¸­çæºç åæ åä¾æ¨¡å¼æ³¨æäºé¡¹åç»è",content:"> é¢è¯å®ï¼å¸¦ç¬äºå§ï¼é£åä¸¤ç§åä¾æ¨¡å¼çå®ç°æ¹æ³å§ æ²æ²æ²å·å·å·~~~ åå¥½äº é¢è¯å®ï¼ææ ·é²æ­¢new å¯¹è±¡åºæ¥ï¼\n\næä¸äºå¯¹è±¡æä»¬ç¡®å®åªéè¦ä¸ä¸ªï¼æ¯å¦ï¼çº¿ç¨æ± ãæ°æ®åºè¿æ¥ãç¼å­ãæ¥å¿å¯¹è±¡ç­ï¼å¦ææå¤ä¸ªçè¯ï¼ä¼é æç¨åºçè¡ä¸ºå¼å¸¸ï¼èµæºä½¿ç¨è¿éæèä¸ä¸è´çé®é¢ãä½ ä¹è®¸ä¼è¯´ï¼è¿ç§æç¨å¨å±åéä¸ä¹è½å®ç°åï¼è¿æ´ä¸ªåä¾æ¨¡å¼ï¼å¥½åä½ å¾æµå¼çæ ·å­ï¼å¦æå°å¯¹è±¡èµå¼ç»ä¸ä¸ªå¨å±åéï¼é£ç¨åºå¯å¨å°±ä¼åå»ºå¥½å¯¹è±¡ï¼ä¸ä¸è¿ä¸ªå¯¹è±¡å¾èèµæºï¼æä»¬è¿å¯è½å¨æäºæ¶åç¨ä¸å°ï¼è¿å°±é æäºèµæºçæµªè´¹ï¼ä¸åçï¼æä»¥å°±æäºåä¾æ¨¡å¼ã\n\n\n# åä¾æ¨¡å¼çå®ä¹\n\nåä¾æ¨¡å¼ç¡®ä¿ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ï¼å¹¶æä¾ä¸ä¸ªå¨å±å¯ä¸è®¿é®ç¹\n\n\n# åä¾æ¨¡å¼çç±»å¾\n\n\n\n\n# åä¾æ¨¡å¼çå®ç°\n\n\n# é¥¿æ±å¼\n\nstatic åéå¨ç±»è£è½½çæ¶åè¿è¡åå§å å¤ä¸ªå®ä¾ç static åéä¼å±äº«åä¸ååå­åºå ç¨è¿ä¸¤ä¸ªç¥è¯ç¹ååºçåä¾ç±»å°±æ¯é¥¿æ±å¼äºï¼åå§åç±»çæ¶åå°±åå»ºï¼é¥¥ä¸æ©é£ï¼é¥¿æ±\n\npublic class Singleton {\n\n    //æé ç§æåï¼é²æ­¢ç´æ¥new\n    private Singleton(){}\n\n    //éæåå§åå¨ï¼static initializerï¼ä¸­åå»ºå®ä¾ï¼ä¿è¯çº¿ç¨å®å¨\n    private static Singleton instance = new Singleton();\n\n    public static Singleton getInstance(){\n        return instance;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\né¥¿æ±å¼æ¯çº¿ç¨å®å¨çï¼JVMå¨å è½½ç±»æ¶é©¬ä¸åå»ºå¯ä¸çå®ä¾å¯¹è±¡ï¼ä¸åªä¼è£è½½ä¸æ¬¡ã\n\nJava å®ç°çåä¾æ¯ä¸ä¸ªèææºçèå´ï¼å ä¸ºè£è½½ç±»çåè½æ¯èææºçï¼æä»¥ä¸ä¸ªèææºéè¿èªå·±çClassLoader è£è½½é¥¿æ±å¼å®ç°åä¾ç±»çæ¶åå°±ä¼åå»ºä¸ä¸ªç±»å®ä¾ãï¼å¦æä¸ä¸ªèææºéæå¤ä¸ªClassLoaderçè¯ï¼å°±ä¼æå¤ä¸ªå®ä¾ï¼\n\n\n# ææ±å¼\n\nææ±å¼ï¼å°±æ¯å®ä¾å¨ç¨å°çæ¶åæå»åå»ºï¼æ¯è¾âæâ\n\nåä¾æ¨¡å¼çææ±å¼å®ç°æ¹å¼ä½ç°äºå»¶è¿å è½½çææ³ï¼å»¶è¿å è½½ä¹ç§°æå è½½Lazy Loadï¼å°±æ¯ä¸å¼å§ä¸è¦å è½½èµæºææ°æ®ï¼ç­å°è¦ä½¿ç¨çæ¶åæå è½½ï¼\n\nåæ­¥æ¹æ³\n\npublic class Singleton {\n    private static Singleton singleton;\n\n    private Singleton(){}\n\n  \t//è§£å³äºçº¿ç¨ä¸å®å¨é®é¢ï¼ä½æ¯æçå¤ªä½äºï¼æ¯ä¸ªçº¿ç¨æ³è·å¾ç±»çå®ä¾çæ¶åï¼é½éè¦åæ­¥æ¹æ³ï¼ä¸æ¨è\n    public static synchronized Singleton getInstance(){\n        if(singleton == null){\n            singleton = new Singleton();\n        }\n        return singleton;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåéæ£æ¥å é\n\npublic class Singleton {\n\n  \t//volatitleå³é®è¯ç¡®ä¿ï¼å¤çº¿ç¨æ­£ç¡®å¤çsingleton\n    private static volatile Singleton singleton;\n  \n    private Singleton(){}\n  \n    public static Singleton getInstance(){\n        if(singleton ==null){\n            synchronized (Singleton.class){\n                if(singleton == null){\n                    singleton = new Singleton();\n                }\n            }\n        }\n        return singleton;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nDouble-Check æ¦å¿µï¼è¿è¡ä¸¤æ¬¡æ£æ¥ï¼æ¯å¤çº¿ç¨å¼åä¸­ç»å¸¸ä½¿ç¨çï¼ä¸ºä»ä¹éè¦åéæ£æ¥éå¢ï¼å ä¸ºç¬¬ä¸æ¬¡æ£æ¥æ¯ç¡®ä¿ä¹åæ¯ä¸ä¸ªç©ºå¯¹è±¡ï¼èéç©ºå¯¹è±¡å°±ä¸éè¦åæ­¥äºï¼ç©ºå¯¹è±¡ççº¿ç¨ç¶åè¿å¥åæ­¥ä»£ç åï¼å¦æä¸å ç¬¬äºæ¬¡ç©ºå¯¹è±¡æ£æ¥ï¼ä¸¤ä¸ªçº¿ç¨åæ¶è·ååæ­¥ä»£ç åï¼ä¸ä¸ªçº¿ç¨è¿å¥åæ­¥ä»£ç åï¼å¦ä¸ä¸ªçº¿ç¨å°±ä¼ç­å¾ï¼èè¿ä¸¤ä¸ªçº¿ç¨å°±ä¼åå»ºä¸¤ä¸ªå®ä¾åå¯¹è±¡ï¼æä»¥éè¦å¨çº¿ç¨è¿å¥åæ­¥ä»£ç åååæ¬¡è¿è¡ç©ºå¯¹è±¡æ£æ¥ï¼æè½ç¡®ä¿åªåå»ºä¸ä¸ªå®ä¾åå¯¹è±¡ã\n\nåéæ£æ¥å éï¼double checked lockingï¼çº¿ç¨å®å¨ãå»¶è¿å è½½ãæçæ¯è¾é«\n\nvolatileï¼volatileä¸è¬ç¨äºå¤çº¿ç¨çå¯è§æ§ï¼è¿éç¨æ¥é²æ­¢æä»¤éæï¼é²æ­¢new Singletonæ¶æä»¤éæåºå¯¼è´å¶ä»çº¿ç¨è·åå°æªåå§åå®çå¯¹è±¡ï¼ãè¢«volatile ä¿®é¥°çåéçå¼ï¼å°ä¸ä¼è¢«æ¬å°çº¿ç¨ç¼å­ï¼ææå¯¹è¯¥åéçè¯»åé½æ¯ç´æ¥æä½å±äº«åå­ï¼ä»èç¡®ä¿å¤ä¸ªçº¿ç¨è½æ­£ç¡®çå¤çè¯¥åéã\n\næä»¤éæ\n\næä»¤éææ¯æå¨ç¨åºæ§è¡è¿ç¨ä¸­, ä¸ºäºæ§è½èè, ç¼è¯å¨åCPUå¯è½ä¼å¯¹æä»¤éæ°æåºã\n\nJavaä¸­åå»ºä¸ä¸ªå¯¹è±¡ï¼å¾å¾åå«ä¸ä¸ªè¿ç¨ãå¯¹äºsingleton = new Singleton()ï¼è¿ä¸æ¯ä¸ä¸ªåå­æä½ï¼å¨ JVM ä¸­åå«å¦ä¸ä¸ä¸ªè¿ç¨ã\n\nç» singleton åéåå­\n\nè°ç¨ Singleton çæé å½æ°æ¥åå§åæååéï¼å½¢æå®ä¾\n\nå° singleton å¯¹è±¡æååéçåå­ç©ºé´ï¼æ§è¡å®è¿æ­¥ singletonææ¯é null äºï¼\n\nä½æ¯ï¼ç±äºJVMä¼è¿è¡æä»¤éæåºï¼æä»¥ä¸é¢çç¬¬äºæ­¥åç¬¬ä¸æ­¥çé¡ºåºæ¯ä¸è½ä¿è¯çï¼æç»çæ§è¡é¡ºåºå¯è½æ¯ 1-2-3ï¼ä¹å¯è½æ¯ 1-3-2ã\n\nå¦ææ¯ 1-3-2ï¼åå¨ 3 æ§è¡å®æ¯ï¼2 æªæ§è¡ä¹åï¼è¢«å¦ä¸ä¸ªçº¿ç¨æ¢å äºï¼è¿æ¶ instance å·²ç»æ¯é null äºï¼ä½å´æ²¡æåå§åï¼ï¼æä»¥è¿ä¸ªçº¿ç¨ä¼ç´æ¥è¿å instanceï¼ç¶åä½¿ç¨ï¼é£è¯å®å°±ä¼æ¥éäºï¼æä»¥è¦å å¥ volatileå³é®å­ã\n\n\n# éæåé¨ç±»\n\npublic class Singleton {\n\n    private Singleton(){}\n\n    private static class SingletonInstance{\n        private static final Singleton INSTANCE = new Singleton();\n    }\n  \n    public static Singleton getInstance(){\n        return SingletonInstance.INSTANCE;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néç¨ç±»å è½½çæºå¶æ¥ä¿è¯åå§åå®ä¾æ¶åªæä¸ä¸ªçº¿ç¨ï¼\n\néæåé¨ç±»æ¹å¼å¨Singleton ç±»è¢«è£è½½çæ¶åå¹¶ä¸ä¼ç«å³å®ä¾åï¼èæ¯å¨è°ç¨getInstanceçæ¶åï¼æå»è£è½½åé¨ç±»SingletonInstance ,ä»èå®æSingletonçå®ä¾å\n\nç±»çéæå±æ§åªä¼å¨ç¬¬ä¸æ¬¡å è½½ç±»çæ¶ååå§åï¼æä»¥ï¼JVMå¸®æä»¬ä¿è¯äºçº¿ç¨çå®å¨æ§ï¼å¨ç±»åå§åæ¶ï¼å¶ä»çº¿ç¨æ æ³è¿å¥\n\nä¼ç¹ï¼çº¿ç¨å®å¨ï¼å©ç¨éæåé¨ç±»å®ç°å»¶è¿å è½½ï¼æçè¾é«ï¼æ¨èä½¿ç¨\n\n\n# æä¸¾\n\nenum Singleton{\n  INSTANCE;\n  public void method(){}\n}\n\n\n1\n2\n3\n4\n\n\nåå©JDK5 æ·»å çæä¸¾å®ç°åä¾ï¼ä¸ä»å¯ä»¥é¿åå¤çº¿ç¨åæ­¥é®é¢ï¼è¿è½é²æ­¢ååºååéæ°åå»ºæ°çå¯¹è±¡ï¼ä½æ¯å¨æä¸¾ä¸­çå¶ä»ä»»ä½æ¹æ³ççº¿ç¨å®å¨ç±ç¨åºåèªå·±è´è´£ãè¿æé²æ­¢ä¸é¢çéè¿åå°æºå¶è°ç¨ç§ç¨æé å¨ãä¸è¿ï¼ç±äºJava1.5ä¸­æå å¥enumç¹æ§ï¼æä»¥ä½¿ç¨çäººå¹¶ä¸å¤ã\n\nè¿ç§æ¹å¼æ¯ãEffective Javaã ä½èJosh Bloch æå¡çæ¹å¼ã\n\n\n# åä¾æ¨¡å¼å¨JDK ä¸­çæºç åæ\n\nJDK ä¸­ï¼java.lang.Runtime å°±æ¯ç»å¸çåä¾æ¨¡å¼ï¼é¥¿æ±å¼ï¼\n\n\n# åä¾æ¨¡å¼æ³¨æäºé¡¹åç»è\n\nåä¾æ¨¡å¼ä¿è¯äºç³»ç»åå­ä¸­è¯¥ç±»åªå­å¨ä¸ä¸ªå¯¹è±¡ï¼èçäºç³»ç»èµæºï¼å¯¹äºä¸äºéè¦é¢ç¹åå»ºéæ¯çå¯¹è±¡ï¼ä½¿ç¨åä¾æ¨¡å¼å¯ä»¥æé«ç³»ç»æ§è½ å½æ³å®ä¾åä¸ä¸ªåä¾ç±»çæ¶åï¼å¿é¡»è¦è®°ä½ä½¿ç¨ç¸åºçè·åå¯¹è±¡çæ¹æ³ï¼èä¸æ¯ä½¿ ç¨new åä¾æ¨¡å¼ä½¿ç¨çåºæ¯ï¼éè¦é¢ç¹çè¿è¡åå»ºåéæ¯çå¯¹è±¡ãåå»ºå¯¹è±¡æ¶èæ¶è¿å¤æ èè´¹èµæºè¿å¤(å³:ééçº§å¯¹è±¡)ï¼ä½åç»å¸¸ç¨å°çå¯¹è±¡ãå·¥å·ç±»å¯¹è±¡ãé¢ç¹è®¿é®æ° æ®åºææä»¶çå¯¹è±¡(æ¯å¦æ°æ®æºãsessionå·¥åç­)",normalizedContent:"> é¢è¯å®ï¼å¸¦ç¬äºå§ï¼é£åä¸¤ç§åä¾æ¨¡å¼çå®ç°æ¹æ³å§ æ²æ²æ²å·å·å·~~~ åå¥½äº é¢è¯å®ï¼ææ ·é²æ­¢new å¯¹è±¡åºæ¥ï¼\n\næä¸äºå¯¹è±¡æä»¬ç¡®å®åªéè¦ä¸ä¸ªï¼æ¯å¦ï¼çº¿ç¨æ± ãæ°æ®åºè¿æ¥ãç¼å­ãæ¥å¿å¯¹è±¡ç­ï¼å¦ææå¤ä¸ªçè¯ï¼ä¼é æç¨åºçè¡ä¸ºå¼å¸¸ï¼èµæºä½¿ç¨è¿éæèä¸ä¸è´çé®é¢ãä½ ä¹è®¸ä¼è¯´ï¼è¿ç§æç¨å¨å±åéä¸ä¹è½å®ç°åï¼è¿æ´ä¸ªåä¾æ¨¡å¼ï¼å¥½åä½ å¾æµå¼çæ ·å­ï¼å¦æå°å¯¹è±¡èµå¼ç»ä¸ä¸ªå¨å±åéï¼é£ç¨åºå¯å¨å°±ä¼åå»ºå¥½å¯¹è±¡ï¼ä¸ä¸è¿ä¸ªå¯¹è±¡å¾èèµæºï¼æä»¬è¿å¯è½å¨æäºæ¶åç¨ä¸å°ï¼è¿å°±é æäºèµæºçæµªè´¹ï¼ä¸åçï¼æä»¥å°±æäºåä¾æ¨¡å¼ã\n\n\n# åä¾æ¨¡å¼çå®ä¹\n\nåä¾æ¨¡å¼ç¡®ä¿ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ï¼å¹¶æä¾ä¸ä¸ªå¨å±å¯ä¸è®¿é®ç¹\n\n\n# åä¾æ¨¡å¼çç±»å¾\n\n\n\n\n# åä¾æ¨¡å¼çå®ç°\n\n\n# é¥¿æ±å¼\n\nstatic åéå¨ç±»è£è½½çæ¶åè¿è¡åå§å å¤ä¸ªå®ä¾ç static åéä¼å±äº«åä¸ååå­åºå ç¨è¿ä¸¤ä¸ªç¥è¯ç¹ååºçåä¾ç±»å°±æ¯é¥¿æ±å¼äºï¼åå§åç±»çæ¶åå°±åå»ºï¼é¥¥ä¸æ©é£ï¼é¥¿æ±\n\npublic class singleton {\n\n    //æé ç§æåï¼é²æ­¢ç´æ¥new\n    private singleton(){}\n\n    //éæåå§åå¨ï¼static initializerï¼ä¸­åå»ºå®ä¾ï¼ä¿è¯çº¿ç¨å®å¨\n    private static singleton instance = new singleton();\n\n    public static singleton getinstance(){\n        return instance;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\né¥¿æ±å¼æ¯çº¿ç¨å®å¨çï¼jvmå¨å è½½ç±»æ¶é©¬ä¸åå»ºå¯ä¸çå®ä¾å¯¹è±¡ï¼ä¸åªä¼è£è½½ä¸æ¬¡ã\n\njava å®ç°çåä¾æ¯ä¸ä¸ªèææºçèå´ï¼å ä¸ºè£è½½ç±»çåè½æ¯èææºçï¼æä»¥ä¸ä¸ªèææºéè¿èªå·±çclassloader è£è½½é¥¿æ±å¼å®ç°åä¾ç±»çæ¶åå°±ä¼åå»ºä¸ä¸ªç±»å®ä¾ãï¼å¦æä¸ä¸ªèææºéæå¤ä¸ªclassloaderçè¯ï¼å°±ä¼æå¤ä¸ªå®ä¾ï¼\n\n\n# ææ±å¼\n\nææ±å¼ï¼å°±æ¯å®ä¾å¨ç¨å°çæ¶åæå»åå»ºï¼æ¯è¾âæâ\n\nåä¾æ¨¡å¼çææ±å¼å®ç°æ¹å¼ä½ç°äºå»¶è¿å è½½çææ³ï¼å»¶è¿å è½½ä¹ç§°æå è½½lazy loadï¼å°±æ¯ä¸å¼å§ä¸è¦å è½½èµæºææ°æ®ï¼ç­å°è¦ä½¿ç¨çæ¶åæå è½½ï¼\n\nåæ­¥æ¹æ³\n\npublic class singleton {\n    private static singleton singleton;\n\n    private singleton(){}\n\n  \t//è§£å³äºçº¿ç¨ä¸å®å¨é®é¢ï¼ä½æ¯æçå¤ªä½äºï¼æ¯ä¸ªçº¿ç¨æ³è·å¾ç±»çå®ä¾çæ¶åï¼é½éè¦åæ­¥æ¹æ³ï¼ä¸æ¨è\n    public static synchronized singleton getinstance(){\n        if(singleton == null){\n            singleton = new singleton();\n        }\n        return singleton;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåéæ£æ¥å é\n\npublic class singleton {\n\n  \t//volatitleå³é®è¯ç¡®ä¿ï¼å¤çº¿ç¨æ­£ç¡®å¤çsingleton\n    private static volatile singleton singleton;\n  \n    private singleton(){}\n  \n    public static singleton getinstance(){\n        if(singleton ==null){\n            synchronized (singleton.class){\n                if(singleton == null){\n                    singleton = new singleton();\n                }\n            }\n        }\n        return singleton;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\ndouble-check æ¦å¿µï¼è¿è¡ä¸¤æ¬¡æ£æ¥ï¼æ¯å¤çº¿ç¨å¼åä¸­ç»å¸¸ä½¿ç¨çï¼ä¸ºä»ä¹éè¦åéæ£æ¥éå¢ï¼å ä¸ºç¬¬ä¸æ¬¡æ£æ¥æ¯ç¡®ä¿ä¹åæ¯ä¸ä¸ªç©ºå¯¹è±¡ï¼èéç©ºå¯¹è±¡å°±ä¸éè¦åæ­¥äºï¼ç©ºå¯¹è±¡ççº¿ç¨ç¶åè¿å¥åæ­¥ä»£ç åï¼å¦æä¸å ç¬¬äºæ¬¡ç©ºå¯¹è±¡æ£æ¥ï¼ä¸¤ä¸ªçº¿ç¨åæ¶è·ååæ­¥ä»£ç åï¼ä¸ä¸ªçº¿ç¨è¿å¥åæ­¥ä»£ç åï¼å¦ä¸ä¸ªçº¿ç¨å°±ä¼ç­å¾ï¼èè¿ä¸¤ä¸ªçº¿ç¨å°±ä¼åå»ºä¸¤ä¸ªå®ä¾åå¯¹è±¡ï¼æä»¥éè¦å¨çº¿ç¨è¿å¥åæ­¥ä»£ç åååæ¬¡è¿è¡ç©ºå¯¹è±¡æ£æ¥ï¼æè½ç¡®ä¿åªåå»ºä¸ä¸ªå®ä¾åå¯¹è±¡ã\n\nåéæ£æ¥å éï¼double checked lockingï¼çº¿ç¨å®å¨ãå»¶è¿å è½½ãæçæ¯è¾é«\n\nvolatileï¼volatileä¸è¬ç¨äºå¤çº¿ç¨çå¯è§æ§ï¼è¿éç¨æ¥é²æ­¢æä»¤éæï¼é²æ­¢new singletonæ¶æä»¤éæåºå¯¼è´å¶ä»çº¿ç¨è·åå°æªåå§åå®çå¯¹è±¡ï¼ãè¢«volatile ä¿®é¥°çåéçå¼ï¼å°ä¸ä¼è¢«æ¬å°çº¿ç¨ç¼å­ï¼ææå¯¹è¯¥åéçè¯»åé½æ¯ç´æ¥æä½å±äº«åå­ï¼ä»èç¡®ä¿å¤ä¸ªçº¿ç¨è½æ­£ç¡®çå¤çè¯¥åéã\n\næä»¤éæ\n\næä»¤éææ¯æå¨ç¨åºæ§è¡è¿ç¨ä¸­, ä¸ºäºæ§è½èè, ç¼è¯å¨åcpuå¯è½ä¼å¯¹æä»¤éæ°æåºã\n\njavaä¸­åå»ºä¸ä¸ªå¯¹è±¡ï¼å¾å¾åå«ä¸ä¸ªè¿ç¨ãå¯¹äºsingleton = new singleton()ï¼è¿ä¸æ¯ä¸ä¸ªåå­æä½ï¼å¨ jvm ä¸­åå«å¦ä¸ä¸ä¸ªè¿ç¨ã\n\nç» singleton åéåå­\n\nè°ç¨ singleton çæé å½æ°æ¥åå§åæååéï¼å½¢æå®ä¾\n\nå° singleton å¯¹è±¡æååéçåå­ç©ºé´ï¼æ§è¡å®è¿æ­¥ singletonææ¯é null äºï¼\n\nä½æ¯ï¼ç±äºjvmä¼è¿è¡æä»¤éæåºï¼æä»¥ä¸é¢çç¬¬äºæ­¥åç¬¬ä¸æ­¥çé¡ºåºæ¯ä¸è½ä¿è¯çï¼æç»çæ§è¡é¡ºåºå¯è½æ¯ 1-2-3ï¼ä¹å¯è½æ¯ 1-3-2ã\n\nå¦ææ¯ 1-3-2ï¼åå¨ 3 æ§è¡å®æ¯ï¼2 æªæ§è¡ä¹åï¼è¢«å¦ä¸ä¸ªçº¿ç¨æ¢å äºï¼è¿æ¶ instance å·²ç»æ¯é null äºï¼ä½å´æ²¡æåå§åï¼ï¼æä»¥è¿ä¸ªçº¿ç¨ä¼ç´æ¥è¿å instanceï¼ç¶åä½¿ç¨ï¼é£è¯å®å°±ä¼æ¥éäºï¼æä»¥è¦å å¥ volatileå³é®å­ã\n\n\n# éæåé¨ç±»\n\npublic class singleton {\n\n    private singleton(){}\n\n    private static class singletoninstance{\n        private static final singleton instance = new singleton();\n    }\n  \n    public static singleton getinstance(){\n        return singletoninstance.instance;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néç¨ç±»å è½½çæºå¶æ¥ä¿è¯åå§åå®ä¾æ¶åªæä¸ä¸ªçº¿ç¨ï¼\n\néæåé¨ç±»æ¹å¼å¨singleton ç±»è¢«è£è½½çæ¶åå¹¶ä¸ä¼ç«å³å®ä¾åï¼èæ¯å¨è°ç¨getinstanceçæ¶åï¼æå»è£è½½åé¨ç±»singletoninstance ,ä»èå®æsingletonçå®ä¾å\n\nç±»çéæå±æ§åªä¼å¨ç¬¬ä¸æ¬¡å è½½ç±»çæ¶ååå§åï¼æä»¥ï¼jvmå¸®æä»¬ä¿è¯äºçº¿ç¨çå®å¨æ§ï¼å¨ç±»åå§åæ¶ï¼å¶ä»çº¿ç¨æ æ³è¿å¥\n\nä¼ç¹ï¼çº¿ç¨å®å¨ï¼å©ç¨éæåé¨ç±»å®ç°å»¶è¿å è½½ï¼æçè¾é«ï¼æ¨èä½¿ç¨\n\n\n# æä¸¾\n\nenum singleton{\n  instance;\n  public void method(){}\n}\n\n\n1\n2\n3\n4\n\n\nåå©jdk5 æ·»å çæä¸¾å®ç°åä¾ï¼ä¸ä»å¯ä»¥é¿åå¤çº¿ç¨åæ­¥é®é¢ï¼è¿è½é²æ­¢ååºååéæ°åå»ºæ°çå¯¹è±¡ï¼ä½æ¯å¨æä¸¾ä¸­çå¶ä»ä»»ä½æ¹æ³ççº¿ç¨å®å¨ç±ç¨åºåèªå·±è´è´£ãè¿æé²æ­¢ä¸é¢çéè¿åå°æºå¶è°ç¨ç§ç¨æé å¨ãä¸è¿ï¼ç±äºjava1.5ä¸­æå å¥enumç¹æ§ï¼æä»¥ä½¿ç¨çäººå¹¶ä¸å¤ã\n\nè¿ç§æ¹å¼æ¯ãeffective javaã ä½èjosh bloch æå¡çæ¹å¼ã\n\n\n# åä¾æ¨¡å¼å¨jdk ä¸­çæºç åæ\n\njdk ä¸­ï¼java.lang.runtime å°±æ¯ç»å¸çåä¾æ¨¡å¼ï¼é¥¿æ±å¼ï¼\n\n\n# åä¾æ¨¡å¼æ³¨æäºé¡¹åç»è\n\nåä¾æ¨¡å¼ä¿è¯äºç³»ç»åå­ä¸­è¯¥ç±»åªå­å¨ä¸ä¸ªå¯¹è±¡ï¼èçäºç³»ç»èµæºï¼å¯¹äºä¸äºéè¦é¢ç¹åå»ºéæ¯çå¯¹è±¡ï¼ä½¿ç¨åä¾æ¨¡å¼å¯ä»¥æé«ç³»ç»æ§è½ å½æ³å®ä¾åä¸ä¸ªåä¾ç±»çæ¶åï¼å¿é¡»è¦è®°ä½ä½¿ç¨ç¸åºçè·åå¯¹è±¡çæ¹æ³ï¼èä¸æ¯ä½¿ ç¨new åä¾æ¨¡å¼ä½¿ç¨çåºæ¯ï¼éè¦é¢ç¹çè¿è¡åå»ºåéæ¯çå¯¹è±¡ãåå»ºå¯¹è±¡æ¶èæ¶è¿å¤æ èè´¹èµæºè¿å¤(å³:ééçº§å¯¹è±¡)ï¼ä½åç»å¸¸ç¨å°çå¯¹è±¡ãå·¥å·ç±»å¯¹è±¡ãé¢ç¹è®¿é®æ° æ®åºææä»¶çå¯¹è±¡(æ¯å¦æ°æ®æºãsessionå·¥åç­)",charsets:{cjk:!0},lastUpdated:"2022/09/20, 22:28:30",lastUpdatedTimestamp:166368411e4},{title:"ä»ä¹æ¯è®¾è®¡æ¨¡å¼",frontmatter:{title:"ä»ä¹æ¯è®¾è®¡æ¨¡å¼",date:"2022-05-21T17:26:19.000Z",permalink:"/pages/3d768c/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/003.%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/003.ä»ä¹æ¯è®¾è®¡æ¨¡å¼ .md",key:"v-88b087a6",path:"/pages/3d768c/",headers:[{level:2,title:"ä»ä¹æ¯è®¾è®¡æ¨¡å¼ï¼",slug:"ä»ä¹æ¯è®¾è®¡æ¨¡å¼",normalizedTitle:"ä»ä¹æ¯è®¾è®¡æ¨¡å¼ï¼",charIndex:2},{level:2,title:"è®¾è®¡æ¨¡å¼ä¹å­å¤§åå",slug:"è®¾è®¡æ¨¡å¼ä¹å­å¤§åå",normalizedTitle:"è®¾è®¡æ¨¡å¼ä¹å­å¤§åå",charIndex:286},{level:3,title:"å¼é­ååï¼Open Close Principleï¼",slug:"å¼é­åå-open-close-principle",normalizedTitle:"å¼é­ååï¼open close principleï¼",charIndex:300},{level:3,title:"éæ°ä»£æ¢ååï¼Liskov Substitution Principleï¼",slug:"éæ°ä»£æ¢åå-liskov-substitution-principle",normalizedTitle:"éæ°ä»£æ¢ååï¼liskov substitution principleï¼",charIndex:628},{level:3,title:"ä¾èµåè½¬ååï¼Dependence Inversion Principleï¼",slug:"ä¾èµåè½¬åå-dependence-inversion-principle",normalizedTitle:"ä¾èµåè½¬ååï¼dependence inversion principleï¼",charIndex:861},{level:3,title:"æ¥å£éç¦»ååï¼Interface Segregation Principleï¼",slug:"æ¥å£éç¦»åå-interface-segregation-principle",normalizedTitle:"æ¥å£éç¦»ååï¼interface segregation principleï¼",charIndex:1024},{level:3,title:"è¿ªç±³ç¹æ³åï¼æå°ç¥éååï¼ï¼Demeter Principleï¼",slug:"è¿ªç±³ç¹æ³å-æå°ç¥éåå-demeter-principle",normalizedTitle:"è¿ªç±³ç¹æ³åï¼æå°ç¥éååï¼ï¼demeter principleï¼",charIndex:1138},{level:3,title:"åä¸èè´£ååï¼ Single responsibility principle ï¼",slug:"åä¸èè´£åå-single-responsibility-principle",normalizedTitle:"åä¸èè´£ååï¼ single responsibility principle ï¼",charIndex:1403},{level:2,title:"é«åè,ä½è¦åï¼",slug:"é«åè-ä½è¦å",normalizedTitle:"é«åè,ä½è¦åï¼",charIndex:1768}],headersStr:"ä»ä¹æ¯è®¾è®¡æ¨¡å¼ï¼ è®¾è®¡æ¨¡å¼ä¹å­å¤§åå å¼é­ååï¼Open Close Principleï¼ éæ°ä»£æ¢ååï¼Liskov Substitution Principleï¼ ä¾èµåè½¬ååï¼Dependence Inversion Principleï¼ æ¥å£éç¦»ååï¼Interface Segregation Principleï¼ è¿ªç±³ç¹æ³åï¼æå°ç¥éååï¼ï¼Demeter Principleï¼ åä¸èè´£ååï¼ Single responsibility principle ï¼ é«åè,ä½è¦åï¼",content:"# ä»ä¹æ¯è®¾è®¡æ¨¡å¼ï¼\n\nè®¾è®¡æ¨¡å¼æ¯ä¸å¥ä»£ç è®¾è®¡ãç»éªçæ»ç»ããé¡¹ç®ä¸­ãåççãè¿ç¨è®¾è®¡æ¨¡å¼å¯ä»¥ãå·§å¦çè§£å³å¾å¤é®é¢ãã\n\n * ç»éªçæ»ç»ï¼æ±çãä»£ç èæåç¾éï¼æå¾ä»£ç å¦åæãçå¿æï¼æç»å¾åºæ¥çãå¥è·¯ãã\n\n * åççï¼è¦å¯¹è®¾è®¡æ¨¡å¼çä½¿ç¨åºæ¯æä¸å®çè®¤è¯åæä½¿ç¨ï¼ãä¸è¦æ»¥ç¨ããå¦ï¼è¾åºä¸å¥âhello worldâï¼éè¦å¼ºè¡ç»å ä¸åç§æ¨¡å¼ã é®ï¼âä¸ºä»ä¹âï¼ç­ï¼âæ»æè§å°äºæ¨¡å¼ï¼âã\n\n * å·§å¦çè§£å³äºå¾å¤é®é¢ï¼è¢«å¹¿æ³åºç¨çåå ã\n\n> ä¸ºä»ä¹è¦æå¡âDesign Patternå¢ï¼æ ¹æ¬åå æ¯ä¸ºäºä»£ç å¤ç¨ï¼å¢å å¯ç»´æ¤æ§ãé£ä¹æä¹æè½å®ç°ä»£ç å¤ç¨å¢ï¼\n\n\n# è®¾è®¡æ¨¡å¼ä¹å­å¤§åå\n\n\n# å¼é­ååï¼Open Close Principleï¼\n\n1988å¹´ï¼åå°ç¹Â·æ¢è¶ï¼Bertrand Meyerï¼å¨ä»çèä½ãé¢åå¯¹è±¡è½¯ä»¶æé ï¼Object Oriented Software Constructionï¼ãä¸­æåºäºå¼é­ååï¼å®çåææ¯è¿æ ·ï¼âSoftware entities should be open for extension,but closed for modificationâã ææï¼è½¯ä»¶æ¨¡ååºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã ä¸¾ä¾ï¼å¨ç¨åºéè¦è¿è¡æ°å¢åè½çæ¶åï¼ä¸è½å»ä¿®æ¹åæçä»£ç ï¼èæ¯æ°å¢ä»£ç ï¼å®ç°ä¸ä¸ªç­ææçææï¼ç­ææï¼çµæ´»çå»é¤ææ·»å åè½ï¼ä¸å½±åå°åæçåè½ï¼ã ç®çï¼ä¸ºäºä½¿ç¨åºçæ©å±æ§å¥½ï¼æäºç»´æ¤ååçº§ã\n\n\n# éæ°ä»£æ¢ååï¼Liskov Substitution Principleï¼\n\nææï¼éæ°ä»£æ¢ååæ¯ç»§æ¿å¤ç¨çåºç³ï¼åªæå½è¡çç±»å¯ä»¥æ¿æ¢æåºç±»ï¼è½¯ä»¶åä½çåè½ä¸åå°å½±åæ¶ï¼åºç±»æè½çæ­£è¢«å¤ç¨ï¼èè¡çç±»ä¹è½å¤å¨åºç±»çåºç¡ä¸å¢å æ°çè¡ä¸ºã ä¸¾ä¾ï¼çç±»ï¼åæ¬æ¯ä¸ç§ä½è²ç¨åï¼å®çè¡çç±»æç¯®çãè¶³çãæçãç¾½æ¯çç­ç­ï¼å¦æè¡çç±»æ¿æ¢äºåºç±»çåæ¬æ¹æ³ï¼å¦æä½è²ç¨åæ¹æäºé£ç¨åï¼é£ä¹è½¯ä»¶åä½çåè½åå°å½±åï¼ï¼å°±ä¸ç¬¦åéæ°ä»£æ¢ååã ç®çï¼å¯¹å®ç°æ½è±¡åçå·ä½æ­¥éª¤çè§èã\n\n\n# ä¾èµåè½¬ååï¼Dependence Inversion Principleï¼\n\nææï¼éå¯¹æ¥å£ç¼ç¨ï¼èä¸æ¯éå¯¹å®ç°ç¼ç¨ã ä¸¾ä¾ï¼ä»¥è®¡ç®æºç³»ç»ä¸ºä¾,æ è®ºä¸»æ¿ãCPUãåå­ãç¡¬ä»¶é½æ¯å¨éå¯¹æ¥å£è®¾è®¡çï¼å¦æéå¯¹å®ç°æ¥è®¾è®¡ï¼åå­å°±è¦å¯¹åºå°éå¯¹æä¸ªåççä¸»æ¿ï¼é£ä¹ä¼åºç°æ¢åå­éè¦æä¸»æ¿ä¹æ¢æçå°´å°¬ã ç®çï¼éä½æ¨¡åé´çè¦åã\n\n\n# æ¥å£éç¦»ååï¼Interface Segregation Principleï¼\n\nä½¿ç¨å¤ä¸ªéç¦»çæ¥å£ï¼æ¯ä½¿ç¨åä¸ªæ¥å£è¦å¥½ã ä¸¾ä¾ï¼æ¯å¦ï¼ç»å½ï¼æ³¨åæ¶å±äºç¨æ·æ¨¡åçä¸¤ä¸ªæ¥å£ï¼æ¯åæä¸ä¸ªæ¥å£å¥½ã ç®çï¼æé«ç¨åºè®¾è®¡çµæ´»æ§ã\n\n\n# è¿ªç±³ç¹æ³åï¼æå°ç¥éååï¼ï¼Demeter Principleï¼\n\n1987å¹´ç§å¤©ç±ç¾å½Northeastern UniversityçIan Hollandæåºï¼è¢«UMLçåå§èä¹ä¸[Booch]ç­æ®åãåæ¥ï¼å ä¸ºå¨ç»å¸èä½ã The Pragmatic Programmerãèå¹¿ä¸ºäººç¥ã ææï¼ä¸ä¸ªå®ä½åºå½å°½éå°çä¸å¶ä»å®ä½ä¹é´åçç¸äºä½ç¨ï¼ä½¿å¾ç³»ç»åè½æ¨¡åç¸å¯¹ç¬ç«ã ä¸¾ä¾ï¼ä¸ä¸ªç±»å¬å¼çpublicå±æ§ææ¹æ³è¶å¤ï¼ä¿®æ¹æ¶æ¶åçé¢ä¹å°±è¶å¤§ï¼åæ´å¼èµ·çé£é©æ©æ£ä¹å°±è¶å¤§ã ç®çï¼éä½ç±»ä¹é´çè¦åï¼åå°å¯¹å¶ä»ç±»çä¾èµã\n\n\n# åä¸èè´£ååï¼ Single responsibility principle ï¼\n\nè¯¥ååç±ç½ä¼¯ç¹Â·CÂ·é©¬ä¸ï¼Robert C. Martinï¼äºãææ·è½¯ä»¶å¼åï¼ååãæ¨¡å¼åå®è·µãä¸ä¹¦ä¸­ç»åºçãé©¬ä¸è¡¨ç¤ºæ­¤ååæ¯åºäºæ±¤å§Â·çé©¬å(Tom DeMarco)åMeilir Page-Jonesçèä½ä¸­çåèæ§åååå±åºçã ææï¼ä¸ä¸ªç±»åªè´è´£ä¸ä¸ªåè½é¢åä¸­çç¸åºèè´£ï¼æèå¯ä»¥å®ä¹ä¸ºï¼å°±ä¸ä¸ªç±»èè¨ï¼åºè¯¥åªæä¸ä¸ªå¼èµ·å®ååçåå ã ä¸¾ä¾ï¼è¯¥ååææç®åå°ä¸éè¦ä¸¾ä¾ï¼ ç®çï¼ç±»çå¤ææ§éä½ï¼å¯è¯»æ§æé«ï¼å¯ç»´æ¤æ§æé«ã\n\nåå¥è¡çæ¶åï¼å¨æ³ä»ä¹æ ·çä»£ç æ¯å¥½ä»£ç ï¼çå°å¾å¤åè¾çæå­é½è¯´å¥½çä»£ç è¦ç¬¦åãé«åèï¼ä½è¦åãï¼ä½æ¯æå¬å°è¿æ ·çè§£éï¼æ¯è¿æ ·ç\n\nèç°å¨å¯¹è®¾è®¡æ¨¡å¼æäºä¸å®ç¨åº¦ä¸çå­¦ä¹ ï¼æè§æäºä¸äºï¼å°ä¼ä¼´ä»¬ä½ ä»¬å­¦ä¼äºåï¼\n\n\n# é«åè,ä½è¦åï¼\n\nåèæ¯ä»åè½è§åº¦æ¥åº¦éæ¨¡ååçèç³»ï¼ä¸ä¸ªå¥½çåèæ¨¡ååºå½æ°å¥½åä¸ä»¶äºãå®æè¿°çæ¯æ¨¡ååçåè½èç³»ï¼ è¦åæ¯è½¯ä»¶ç»æä¸­åæ¨¡åä¹é´ç¸äºè¿æ¥çä¸ç§åº¦éï¼è¦åå¼ºå¼±åå³äºæ¨¡åé´æ¥å£çå¤æç¨åº¦ãè¿å¥æè®¿é®ä¸ä¸ªæ¨¡åçç¹ä»¥åéè¿æ¥å£çæ°æ®ã\n\nåèï¼ å¾è§£ä¹ç§å¸¸è§çè®¾è®¡æ¨¡å¼ ä»ä¹æ¯ãè®¾è®¡æ¨¡å¼ãï¼",normalizedContent:"# ä»ä¹æ¯è®¾è®¡æ¨¡å¼ï¼\n\nè®¾è®¡æ¨¡å¼æ¯ä¸å¥ä»£ç è®¾è®¡ãç»éªçæ»ç»ããé¡¹ç®ä¸­ãåççãè¿ç¨è®¾è®¡æ¨¡å¼å¯ä»¥ãå·§å¦çè§£å³å¾å¤é®é¢ãã\n\n * ç»éªçæ»ç»ï¼æ±çãä»£ç èæåç¾éï¼æå¾ä»£ç å¦åæãçå¿æï¼æç»å¾åºæ¥çãå¥è·¯ãã\n\n * åççï¼è¦å¯¹è®¾è®¡æ¨¡å¼çä½¿ç¨åºæ¯æä¸å®çè®¤è¯åæä½¿ç¨ï¼ãä¸è¦æ»¥ç¨ããå¦ï¼è¾åºä¸å¥âhello worldâï¼éè¦å¼ºè¡ç»å ä¸åç§æ¨¡å¼ã é®ï¼âä¸ºä»ä¹âï¼ç­ï¼âæ»æè§å°äºæ¨¡å¼ï¼âã\n\n * å·§å¦çè§£å³äºå¾å¤é®é¢ï¼è¢«å¹¿æ³åºç¨çåå ã\n\n> ä¸ºä»ä¹è¦æå¡âdesign patternå¢ï¼æ ¹æ¬åå æ¯ä¸ºäºä»£ç å¤ç¨ï¼å¢å å¯ç»´æ¤æ§ãé£ä¹æä¹æè½å®ç°ä»£ç å¤ç¨å¢ï¼\n\n\n# è®¾è®¡æ¨¡å¼ä¹å­å¤§åå\n\n\n# å¼é­ååï¼open close principleï¼\n\n1988å¹´ï¼åå°ç¹Â·æ¢è¶ï¼bertrand meyerï¼å¨ä»çèä½ãé¢åå¯¹è±¡è½¯ä»¶æé ï¼object oriented software constructionï¼ãä¸­æåºäºå¼é­ååï¼å®çåææ¯è¿æ ·ï¼âsoftware entities should be open for extension,but closed for modificationâã ææï¼è½¯ä»¶æ¨¡ååºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã ä¸¾ä¾ï¼å¨ç¨åºéè¦è¿è¡æ°å¢åè½çæ¶åï¼ä¸è½å»ä¿®æ¹åæçä»£ç ï¼èæ¯æ°å¢ä»£ç ï¼å®ç°ä¸ä¸ªç­ææçææï¼ç­ææï¼çµæ´»çå»é¤ææ·»å åè½ï¼ä¸å½±åå°åæçåè½ï¼ã ç®çï¼ä¸ºäºä½¿ç¨åºçæ©å±æ§å¥½ï¼æäºç»´æ¤ååçº§ã\n\n\n# éæ°ä»£æ¢ååï¼liskov substitution principleï¼\n\nææï¼éæ°ä»£æ¢ååæ¯ç»§æ¿å¤ç¨çåºç³ï¼åªæå½è¡çç±»å¯ä»¥æ¿æ¢æåºç±»ï¼è½¯ä»¶åä½çåè½ä¸åå°å½±åæ¶ï¼åºç±»æè½çæ­£è¢«å¤ç¨ï¼èè¡çç±»ä¹è½å¤å¨åºç±»çåºç¡ä¸å¢å æ°çè¡ä¸ºã ä¸¾ä¾ï¼çç±»ï¼åæ¬æ¯ä¸ç§ä½è²ç¨åï¼å®çè¡çç±»æç¯®çãè¶³çãæçãç¾½æ¯çç­ç­ï¼å¦æè¡çç±»æ¿æ¢äºåºç±»çåæ¬æ¹æ³ï¼å¦æä½è²ç¨åæ¹æäºé£ç¨åï¼é£ä¹è½¯ä»¶åä½çåè½åå°å½±åï¼ï¼å°±ä¸ç¬¦åéæ°ä»£æ¢ååã ç®çï¼å¯¹å®ç°æ½è±¡åçå·ä½æ­¥éª¤çè§èã\n\n\n# ä¾èµåè½¬ååï¼dependence inversion principleï¼\n\nææï¼éå¯¹æ¥å£ç¼ç¨ï¼èä¸æ¯éå¯¹å®ç°ç¼ç¨ã ä¸¾ä¾ï¼ä»¥è®¡ç®æºç³»ç»ä¸ºä¾,æ è®ºä¸»æ¿ãcpuãåå­ãç¡¬ä»¶é½æ¯å¨éå¯¹æ¥å£è®¾è®¡çï¼å¦æéå¯¹å®ç°æ¥è®¾è®¡ï¼åå­å°±è¦å¯¹åºå°éå¯¹æä¸ªåççä¸»æ¿ï¼é£ä¹ä¼åºç°æ¢åå­éè¦æä¸»æ¿ä¹æ¢æçå°´å°¬ã ç®çï¼éä½æ¨¡åé´çè¦åã\n\n\n# æ¥å£éç¦»ååï¼interface segregation principleï¼\n\nä½¿ç¨å¤ä¸ªéç¦»çæ¥å£ï¼æ¯ä½¿ç¨åä¸ªæ¥å£è¦å¥½ã ä¸¾ä¾ï¼æ¯å¦ï¼ç»å½ï¼æ³¨åæ¶å±äºç¨æ·æ¨¡åçä¸¤ä¸ªæ¥å£ï¼æ¯åæä¸ä¸ªæ¥å£å¥½ã ç®çï¼æé«ç¨åºè®¾è®¡çµæ´»æ§ã\n\n\n# è¿ªç±³ç¹æ³åï¼æå°ç¥éååï¼ï¼demeter principleï¼\n\n1987å¹´ç§å¤©ç±ç¾å½northeastern universityçian hollandæåºï¼è¢«umlçåå§èä¹ä¸[booch]ç­æ®åãåæ¥ï¼å ä¸ºå¨ç»å¸èä½ã the pragmatic programmerãèå¹¿ä¸ºäººç¥ã ææï¼ä¸ä¸ªå®ä½åºå½å°½éå°çä¸å¶ä»å®ä½ä¹é´åçç¸äºä½ç¨ï¼ä½¿å¾ç³»ç»åè½æ¨¡åç¸å¯¹ç¬ç«ã ä¸¾ä¾ï¼ä¸ä¸ªç±»å¬å¼çpublicå±æ§ææ¹æ³è¶å¤ï¼ä¿®æ¹æ¶æ¶åçé¢ä¹å°±è¶å¤§ï¼åæ´å¼èµ·çé£é©æ©æ£ä¹å°±è¶å¤§ã ç®çï¼éä½ç±»ä¹é´çè¦åï¼åå°å¯¹å¶ä»ç±»çä¾èµã\n\n\n# åä¸èè´£ååï¼ single responsibility principle ï¼\n\nè¯¥ååç±ç½ä¼¯ç¹Â·cÂ·é©¬ä¸ï¼robert c. martinï¼äºãææ·è½¯ä»¶å¼åï¼ååãæ¨¡å¼åå®è·µãä¸ä¹¦ä¸­ç»åºçãé©¬ä¸è¡¨ç¤ºæ­¤ååæ¯åºäºæ±¤å§Â·çé©¬å(tom demarco)åmeilir page-jonesçèä½ä¸­çåèæ§åååå±åºçã ææï¼ä¸ä¸ªç±»åªè´è´£ä¸ä¸ªåè½é¢åä¸­çç¸åºèè´£ï¼æèå¯ä»¥å®ä¹ä¸ºï¼å°±ä¸ä¸ªç±»èè¨ï¼åºè¯¥åªæä¸ä¸ªå¼èµ·å®ååçåå ã ä¸¾ä¾ï¼è¯¥ååææç®åå°ä¸éè¦ä¸¾ä¾ï¼ ç®çï¼ç±»çå¤ææ§éä½ï¼å¯è¯»æ§æé«ï¼å¯ç»´æ¤æ§æé«ã\n\nåå¥è¡çæ¶åï¼å¨æ³ä»ä¹æ ·çä»£ç æ¯å¥½ä»£ç ï¼çå°å¾å¤åè¾çæå­é½è¯´å¥½çä»£ç è¦ç¬¦åãé«åèï¼ä½è¦åãï¼ä½æ¯æå¬å°è¿æ ·çè§£éï¼æ¯è¿æ ·ç\n\nèç°å¨å¯¹è®¾è®¡æ¨¡å¼æäºä¸å®ç¨åº¦ä¸çå­¦ä¹ ï¼æè§æäºä¸äºï¼å°ä¼ä¼´ä»¬ä½ ä»¬å­¦ä¼äºåï¼\n\n\n# é«åè,ä½è¦åï¼\n\nåèæ¯ä»åè½è§åº¦æ¥åº¦éæ¨¡ååçèç³»ï¼ä¸ä¸ªå¥½çåèæ¨¡ååºå½æ°å¥½åä¸ä»¶äºãå®æè¿°çæ¯æ¨¡ååçåè½èç³»ï¼ è¦åæ¯è½¯ä»¶ç»æä¸­åæ¨¡åä¹é´ç¸äºè¿æ¥çä¸ç§åº¦éï¼è¦åå¼ºå¼±åå³äºæ¨¡åé´æ¥å£çå¤æç¨åº¦ãè¿å¥æè®¿é®ä¸ä¸ªæ¨¡åçç¹ä»¥åéè¿æ¥å£çæ°æ®ã\n\nåèï¼ å¾è§£ä¹ç§å¸¸è§çè®¾è®¡æ¨¡å¼ ä»ä¹æ¯ãè®¾è®¡æ¨¡å¼ãï¼",charsets:{cjk:!0},lastUpdated:"2022/09/20, 22:28:30",lastUpdatedTimestamp:166368411e4},{title:"å·¥åæ¨¡å¼ä½¿ç¨åºæ¯ è½ä¸¾ä¸ªä¾å­å",frontmatter:{title:"å·¥åæ¨¡å¼ä½¿ç¨åºæ¯ è½ä¸¾ä¸ªä¾å­å",date:"2022-05-21T17:26:32.000Z",permalink:"/pages/f15489/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/004.%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%20%E8%83%BD%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90%E5%90%97.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/004.å·¥åæ¨¡å¼ä½¿ç¨åºæ¯ è½ä¸¾ä¸ªä¾å­å.md",key:"v-2d6ed001",path:"/pages/f15489/",headers:[{level:2,title:"å·¥åæ¨¡å¼",slug:"å·¥åæ¨¡å¼",normalizedTitle:"å·¥åæ¨¡å¼",charIndex:15},{level:3,title:"æ¨¡å¼å¨æº",slug:"æ¨¡å¼å¨æº",normalizedTitle:"æ¨¡å¼å¨æº",charIndex:195},{level:3,title:"æ¨¡å¼å®ä¹",slug:"æ¨¡å¼å®ä¹",normalizedTitle:"æ¨¡å¼å®ä¹",charIndex:406},{level:3,title:"æ¨¡å¼ç»æ",slug:"æ¨¡å¼ç»æ",normalizedTitle:"æ¨¡å¼ç»æ",charIndex:562},{level:3,title:"æ¨¡å¼åæ",slug:"æ¨¡å¼åæ",normalizedTitle:"æ¨¡å¼åæ",charIndex:740},{level:2,title:"å·¥åæ¨¡å¼å¯ä»¥åä¸ºä¸ç±»ï¼",slug:"å·¥åæ¨¡å¼å¯ä»¥åä¸ºä¸ç±»",normalizedTitle:"å·¥åæ¨¡å¼å¯ä»¥åä¸ºä¸ç±»ï¼",charIndex:1026},{level:2,title:"ä¸ãç®åå·¥åæ¨¡å¼",slug:"ä¸ãç®åå·¥åæ¨¡å¼",normalizedTitle:"ä¸ãç®åå·¥åæ¨¡å¼",charIndex:2247},{level:3,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:408},{level:3,title:"ç®åå·¥åæ¨¡å¼å®ç°æ¹å¼",slug:"ç®åå·¥åæ¨¡å¼å®ç°æ¹å¼",normalizedTitle:"ç®åå·¥åæ¨¡å¼å®ç°æ¹å¼",charIndex:4042},{level:2,title:"UMLç±»å¾",slug:"umlç±»å¾",normalizedTitle:"umlç±»å¾",charIndex:4353},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:512},{level:3,title:"ç®åå·¥åæ¨¡å¼å­å¨çé®é¢",slug:"ç®åå·¥åæ¨¡å¼å­å¨çé®é¢",normalizedTitle:"ç®åå·¥åæ¨¡å¼å­å¨çé®é¢",charIndex:5475},{level:3,title:"ç®åå·¥åæ¨¡å¼æ»ç»",slug:"ç®åå·¥åæ¨¡å¼æ»ç»",normalizedTitle:"ç®åå·¥åæ¨¡å¼æ»ç»",charIndex:5681},{level:2,title:"äºãå·¥åæ¹æ³æ¨¡å¼",slug:"äºãå·¥åæ¹æ³æ¨¡å¼",normalizedTitle:"äºãå·¥åæ¹æ³æ¨¡å¼",charIndex:6056},{level:3,title:"2.1 å®ä¹",slug:"_2-1-å®ä¹",normalizedTitle:"2.1 å®ä¹",charIndex:6114},{level:3,title:"2.2 å·¥åæ¹æ³æ¨¡å¼å®ç°æ¹å¼",slug:"_2-2-å·¥åæ¹æ³æ¨¡å¼å®ç°æ¹å¼",normalizedTitle:"2.2 å·¥åæ¹æ³æ¨¡å¼å®ç°æ¹å¼",charIndex:6178},{level:2,title:"UMLç±»å¾",slug:"umlç±»å¾-2",normalizedTitle:"umlç±»å¾",charIndex:4353},{level:2,title:"å®ä¾",slug:"å®ä¾-2",normalizedTitle:"å®ä¾",charIndex:512},{level:3,title:"2.3 å·¥åæ¹æ³æ¨¡å¼éç¨åºæ¯",slug:"_2-3-å·¥åæ¹æ³æ¨¡å¼éç¨åºæ¯",normalizedTitle:"2.3 å·¥åæ¹æ³æ¨¡å¼éç¨åºæ¯",charIndex:7923},{level:3,title:"2.4 å·¥åæ¹æ³æ¨¡å¼æ»ç»",slug:"_2-4-å·¥åæ¹æ³æ¨¡å¼æ»ç»",normalizedTitle:"2.4 å·¥åæ¹æ³æ¨¡å¼æ»ç»",charIndex:8499},{level:2,title:"ä¸ãæ½è±¡å·¥åæ¨¡å¼",slug:"ä¸ãæ½è±¡å·¥åæ¨¡å¼",normalizedTitle:"ä¸ãæ½è±¡å·¥åæ¨¡å¼",charIndex:8875},{level:3,title:"3.1 å®ä¹",slug:"_3-1-å®ä¹",normalizedTitle:"3.1 å®ä¹",charIndex:9033},{level:3,title:"3.2 æ½è±¡å·¥åæ¨¡å¼å®ç°æ¹å¼",slug:"_3-2-æ½è±¡å·¥åæ¨¡å¼å®ç°æ¹å¼",normalizedTitle:"3.2 æ½è±¡å·¥åæ¨¡å¼å®ç°æ¹å¼",charIndex:9130},{level:2,title:"UMLç±»å¾",slug:"umlç±»å¾-3",normalizedTitle:"umlç±»å¾",charIndex:4353},{level:2,title:"å®ä¾",slug:"å®ä¾-3",normalizedTitle:"å®ä¾",charIndex:512},{level:2,title:"3.3 æ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯",slug:"_3-3-æ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯",normalizedTitle:"3.3 æ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯",charIndex:11705},{level:2,title:"3.4 æ½è±¡å·¥åæ¨¡å¼æ»ç»",slug:"_3-4-æ½è±¡å·¥åæ¨¡å¼æ»ç»",normalizedTitle:"3.4 æ½è±¡å·¥åæ¨¡å¼æ»ç»",charIndex:12519},{level:2,title:"å·¥åæ¨¡å¼çéå",slug:"å·¥åæ¨¡å¼çéå",normalizedTitle:"å·¥åæ¨¡å¼çéå",charIndex:12987},{level:2,title:"åãæä»¬èº«è¾¹çå·¥åæ¨¡å¼",slug:"åãæä»¬èº«è¾¹çå·¥åæ¨¡å¼",normalizedTitle:"åãæä»¬èº«è¾¹çå·¥åæ¨¡å¼",charIndex:13132}],headersStr:"å·¥åæ¨¡å¼ æ¨¡å¼å¨æº æ¨¡å¼å®ä¹ æ¨¡å¼ç»æ æ¨¡å¼åæ å·¥åæ¨¡å¼å¯ä»¥åä¸ºä¸ç±»ï¼ ä¸ãç®åå·¥åæ¨¡å¼ å®ä¹ ç®åå·¥åæ¨¡å¼å®ç°æ¹å¼ UMLç±»å¾ å®ä¾ ç®åå·¥åæ¨¡å¼å­å¨çé®é¢ ç®åå·¥åæ¨¡å¼æ»ç» äºãå·¥åæ¹æ³æ¨¡å¼ 2.1 å®ä¹ 2.2 å·¥åæ¹æ³æ¨¡å¼å®ç°æ¹å¼ UMLç±»å¾ å®ä¾ 2.3 å·¥åæ¹æ³æ¨¡å¼éç¨åºæ¯ 2.4 å·¥åæ¹æ³æ¨¡å¼æ»ç» ä¸ãæ½è±¡å·¥åæ¨¡å¼ 3.1 å®ä¹ 3.2 æ½è±¡å·¥åæ¨¡å¼å®ç°æ¹å¼ UMLç±»å¾ å®ä¾ 3.3 æ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯ 3.4 æ½è±¡å·¥åæ¨¡å¼æ»ç» å·¥åæ¨¡å¼çéå åãæä»¬èº«è¾¹çå·¥åæ¨¡å¼",content:'> 3å¹´å·¥ä½ç»éªæ¯å§ï¼ ä½ ç¥éå·¥åæ¨¡å¼åä¸ºå ç±»åï¼è½ä¸¾ä¾å­åï¼ é£ä½ è¯´è¯´ä½ ä»¬é¡¹ç®ä¸­æ¯æä¹ä½¿ç¨å·¥åæ¨¡å¼çï¼\n\n\n# å·¥åæ¨¡å¼\n\nå·¥åæ¨¡å¼ï¼Factory Patternï¼æ¯ Java ä¸­æå¸¸ç¨çè®¾è®¡æ¨¡å¼ä¹ä¸ãè¿ç§ç±»åçè®¾è®¡æ¨¡å¼å±äºåå»ºåæ¨¡å¼ï¼å®æä¾äºä¸ç§åå»ºå¯¹è±¡çæä½³æ¹å¼ã\n\nå¨å·¥åæ¨¡å¼ä¸­ï¼æä»¬å¨åå»ºå¯¹è±¡æ¶ä¸ä¼å¯¹å®¢æ·ç«¯æ´é²åå»ºé»è¾ï¼å¹¶ä¸æ¯éè¿ä½¿ç¨ä¸ä¸ªå±åçæ¥å£æ¥æåæ°åå»ºçå¯¹è±¡ã\n\n\n# æ¨¡å¼å¨æº\n\nèèä¸ä¸ªç®åçè½¯ä»¶åºç¨åºæ¯ï¼ä¸ä¸ªè½¯ä»¶ç³»ç»å¯ä»¥æä¾å¤ä¸ªå¤è§ä¸åçæé®ï¼å¦åå½¢æé®ãç©å½¢æé®ãè±å½¢æé®ç­ï¼ï¼ è¿äºæé®é½æºèªåä¸ä¸ªåºç±»ï¼ä¸è¿å¨ç»§æ¿åºç±»åä¸åçå­ç±»ä¿®æ¹äºé¨åå±æ§ä»èä½¿å¾å®ä»¬å¯ä»¥åç°ä¸åçå¤è§ï¼å¦ææä»¬å¸æå¨ä½¿ç¨è¿äºæé®æ¶ï¼ä¸éè¦ç¥éè¿äºå·ä½æé®ç±»çåå­ï¼åªéè¦ç¥éè¡¨ç¤ºè¯¥æé®ç±»çä¸ä¸ªåæ°ï¼å¹¶æä¾ä¸ä¸ªè°ç¨æ¹ä¾¿çæ¹æ³ï¼æè¯¥åæ°ä¼ å¥æ¹æ³å³å¯è¿åä¸ä¸ªç¸åºçæé®å¯¹è±¡ï¼æ­¤æ¶ï¼å°±å¯ä»¥ä½¿ç¨ç®åå·¥åæ¨¡å¼ã\n\n\n# æ¨¡å¼å®ä¹\n\nç®åå·¥åæ¨¡å¼(Simple Factory Pattern)ï¼åç§°ä¸ºéæå·¥åæ¹æ³(Static Factory Method)æ¨¡å¼ï¼å®å±äºç±»åå»ºåæ¨¡å¼ãå¨ç®åå·¥åæ¨¡å¼ä¸­ï¼å¯ä»¥æ ¹æ®åæ°çä¸åè¿åä¸åç±»çå®ä¾ãç®åå·¥åæ¨¡å¼ä¸é¨å®ä¹ä¸ä¸ªç±»æ¥è´è´£åå»ºå¶ä»ç±»çå®ä¾ï¼è¢«åå»ºçå®ä¾éå¸¸é½å·æå±åçç¶ç±»ã\n\n\n# æ¨¡å¼ç»æ\n\nç®åå·¥åæ¨¡å¼åå«å¦ä¸è§è²ï¼\n\nFactoryï¼å·¥åè§è²\nå·¥åè§è²è´è´£å®ç°åå»ºææå®ä¾çåé¨é»è¾ Productï¼æ½è±¡äº§åè§è²\næ½è±¡äº§åè§è²æ¯æåå»ºçææå¯¹è±¡çç¶ç±»ï¼è´è´£æè¿°ææå®ä¾æå±æçå¬å±æ¥å£ ConcreteProductï¼å·ä½äº§åè§è²\nå·ä½äº§åè§è²æ¯åå»ºç®æ ï¼ææåå»ºçå¯¹è±¡é½åå½è¿ä¸ªè§è²çæä¸ªå·ä½ç±»çå®ä¾ã 1.4. æ¶åºå¾\n\n\n# æ¨¡å¼åæ\n\nå°å¯¹è±¡çåå»ºåå¯¹è±¡æ¬èº«ä¸å¡å¤çåç¦»å¯ä»¥éä½ç³»ç»çè¦ååº¦ï¼ä½¿å¾ä¸¤èä¿®æ¹èµ·æ¥é½ç¸å¯¹å®¹æã\n\nå¨è°ç¨å·¥åç±»çå·¥åæ¹æ³æ¶ï¼ç±äºå·¥åæ¹æ³æ¯éææ¹æ³ï¼ä½¿ç¨èµ·æ¥å¾æ¹ä¾¿ï¼å¯éè¿ç±»åç´æ¥è°ç¨ï¼èä¸åªéè¦ä¼ å¥ä¸ä¸ªç®åçåæ°å³å¯.\n\nå¨å®éå¼åä¸­ï¼è¿å¯ä»¥å¨è°ç¨æ¶å°æä¼ å¥çåæ°ä¿å­å¨XMLç­æ ¼å¼çéç½®æä»¶ä¸­ï¼ä¿®æ¹åæ°æ¶æ é¡»ä¿®æ¹ä»»ä½æºä»£ç ã\n\nç®åå·¥åæ¨¡å¼æå¤§çé®é¢å¨äºå·¥åç±»çèè´£ç¸å¯¹è¿éï¼å¢å æ°çäº§åéè¦ä¿®æ¹å·¥åç±»çå¤æ­é»è¾ï¼è¿ä¸ç¹ä¸å¼é­ååæ¯ç¸è¿èçã\n\nç®åå·¥åæ¨¡å¼çè¦ç¹å¨äºï¼å½ä½ éè¦ä»ä¹ï¼åªéè¦ä¼ å¥ä¸ä¸ªæ­£ç¡®çåæ°ï¼å°±å¯ä»¥è·åä½ æéè¦çå¯¹è±¡ï¼èæ é¡»ç¥éå¶åå»ºç»èã\n\n\n# å·¥åæ¨¡å¼å¯ä»¥åä¸ºä¸ç±»ï¼\n\nç®åå·¥åæ¨¡å¼ï¼Simple Factoryï¼ å·¥åæ¹æ³æ¨¡å¼ï¼Factory Methodï¼ æ½è±¡å·¥åæ¨¡å¼ï¼Abstract Factoryï¼ ç®åå·¥åå¶å®ä¸æ¯ä¸ä¸ªæ åççè®¾è®¡æ¨¡å¼ãGOF 23ç§è®¾è®¡æ¨¡å¼ä¸­åªæãå·¥åæ¹æ³æ¨¡å¼ãä¸ãæ½è±¡å·¥åæ¨¡å¼ããç®åå·¥åæ¨¡å¼å¯ä»¥çä¸ºå·¥åæ¹æ³æ¨¡å¼çä¸ç§ç¹ä¾ï¼ä¸ºäºç»ä¸æ´çå­¦ä¹ ï¼å°±é½å½ä¸ºå·¥åæ¨¡å¼ã\n\nè¿ä¸ç§å·¥åæ¨¡å¼å¨è®¾è®¡æ¨¡å¼çåç±»ä¸­é½å±äºåå»ºåæ¨¡å¼ï¼ä¸ç§æ¨¡å¼ä»ä¸å°ä¸éæ­¥æ½è±¡ã\n\nåå»ºåæ¨¡å¼ åå»ºåæ¨¡å¼(Creational Pattern)å¯¹ç±»çå®ä¾åè¿ç¨è¿è¡äºæ½è±¡ï¼è½å¤å°è½¯ä»¶æ¨¡åä¸­å¯¹è±¡çåå»ºåå¯¹è±¡çä½¿ç¨åç¦»ãä¸ºäºä½¿è½¯ä»¶çç»ææ´å æ¸æ°ï¼å¤çå¯¹äºè¿äºå¯¹è±¡åªéè¦ç¥éå®ä»¬å±åçæ¥å£ï¼èä¸æ¸æ¥å¶å·ä½çå®ç°ç»èï¼ä½¿æ´ä¸ªç³»ç»çè®¾è®¡æ´å ç¬¦ååä¸èè´£ååã\n\nåå»ºåæ¨¡å¼å¨åå»ºä»ä¹(What)ï¼ç±è°åå»º(Who)ï¼ä½æ¶åå»º(When)ç­æ¹é¢é½ä¸ºè½¯ä»¶è®¾è®¡èæä¾äºå°½å¯è½å¤§ççµæ´»æ§ã\n\nåå»ºåæ¨¡å¼éèäºç±»çå®ä¾çåå»ºç»èï¼éè¿éèå¯¹è±¡å¦ä½è¢«åå»ºåç»åå¨ä¸èµ·è¾¾å°ä½¿æ´ä¸ªç³»ç»ç¬ç«çç®çã\n\nå·¥åæ¨¡å¼æ¯åå»ºåæ¨¡å¼ä¸­æ¯è¾éè¦çãå·¥åæ¨¡å¼çä¸»è¦åè½å°±æ¯å¸®å©æä»¬å®ä¾åå¯¹è±¡ãä¹æä»¥åå­ä¸­åå«å·¥åæ¨¡å¼åä¸ªå­ï¼æ¯å ä¸ºå¯¹è±¡çå®ä¾åè¿ç¨æ¯éè¿å·¥åå®ç°çï¼æ¯ç¨å·¥åä»£æ¿newæä½çã\n\nå·¥åæ¨¡å¼ä¼ç¹ å¯ä»¥ä½¿ä»£ç ç»ææ¸æ°ï¼ææå°å°è£ååãå¨ç¼ç¨ä¸­ï¼äº§åç±»çå®ä¾åææ¶åæ¯æ¯è¾å¤æåå¤åçï¼éè¿å·¥åæ¨¡å¼ï¼å°äº§åçå®ä¾åå°è£èµ·æ¥ï¼ä½¿å¾è°ç¨èæ ¹æ¬æ éå³å¿äº§åçå®ä¾åè¿ç¨ï¼åªéä¾èµå·¥åå³å¯å¾å°èªå·±æ³è¦çäº§åã å¯¹è°ç¨èå±è½å·ä½çäº§åç±»ãå¦æä½¿ç¨å·¥åæ¨¡å¼ï¼è°ç¨èåªå³å¿äº§åçæ¥å£å°±å¯ä»¥äºï¼è³äºå·ä½çå®ç°ï¼è°ç¨èæ ¹æ¬æ éå³å¿ãå³ä½¿åæ´äºå·ä½çå®ç°ï¼å¯¹è°ç¨èæ¥è¯´æ²¡æä»»ä½å½±åã éä½è¦ååº¦ãäº§åç±»çå®ä¾åéå¸¸æ¥è¯´æ¯å¾å¤æçï¼å®éè¦ä¾èµå¾å¤çç±»ï¼èè¿äºç±»å¯¹äºè°ç¨èæ¥è¯´æ ¹æ¬æ éç¥éï¼å¦æä½¿ç¨äºå·¥åæ¹æ³ï¼æä»¬éè¦åçä»ä»æ¯å®ä¾åå¥½äº§åç±»ï¼ç¶åäº¤ç»è°ç¨èä½¿ç¨ãå¯¹è°ç¨èæ¥è¯´ï¼äº§åæä¾èµçç±»é½æ¯éæçã éç¨åºæ¯ ä¸ç®¡æ¯ç®åå·¥åæ¨¡å¼ï¼å·¥åæ¹æ³æ¨¡å¼è¿æ¯æ½è±¡å·¥åæ¨¡å¼ï¼ä»ä»¬å·æç±»ä¼¼çç¹æ§ï¼æä»¥ä»ä»¬çéç¨åºæ¯ä¹æ¯ç±»ä¼¼çã\n\né¦åï¼ä½ä¸ºä¸ç§åå»ºç±»æ¨¡å¼ï¼å¨ä»»ä½éè¦çæå¤æå¯¹è±¡çå°æ¹ï¼é½å¯ä»¥ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ãæä¸ç¹éè¦æ³¨æçå°æ¹å°±æ¯å¤æå¯¹è±¡éåä½¿ç¨å·¥åæ¨¡å¼ï¼èç®åå¯¹è±¡ï¼ç¹å«æ¯åªéè¦éè¿newå°±å¯ä»¥å®æåå»ºçå¯¹è±¡ï¼æ éä½¿ç¨å·¥åæ¨¡å¼ãå¦æä½¿ç¨å·¥åæ¨¡å¼ï¼å°±éè¦å¼å¥ä¸ä¸ªå·¥åç±»ï¼ä¼å¢å ç³»ç»çå¤æåº¦ã\n\nå¶æ¬¡ï¼å·¥åæ¨¡å¼æ¯ä¸ç§å¸åçè§£è¦æ¨¡å¼ï¼è¿ªç±³ç¹æ³åå¨å·¥åæ¨¡å¼ä¸­è¡¨ç°çå°¤ä¸ºææ¾ãåå¦è°ç¨èèªå·±ç»è£äº§åéè¦å¢å ä¾èµå³ç³»æ¶ï¼å¯ä»¥èèä½¿ç¨å·¥åæ¨¡å¼ãå°ä¼å¤§å¤§éä½å¯¹è±¡ä¹é´çè¦ååº¦ã\n\nåæ¬¡ï¼ç±äºå·¥åæ¨¡å¼æ¯ä¾é æ½è±¡æ¶æçï¼å®æå®ä¾åäº§åçä»»å¡äº¤ç±å®ç°ç±»å®æï¼æ©å±æ§æ¯è¾å¥½ãä¹å°±æ¯è¯´ï¼å½éè¦ç³»ç»ææ¯è¾å¥½çæ©å±æ§æ¶ï¼å¯ä»¥èèå·¥åæ¨¡å¼ï¼ä¸åçäº§åç¨ä¸åçå®ç°å·¥åæ¥ç»è£ã\n\n\n# ä¸ãç®åå·¥åæ¨¡å¼\n\nå¨ä»ç»ç®åå·¥åæ¨¡å¼ä¹åï¼æä»¬å°è¯è§£å³ä»¥ä¸é®é¢ï¼\n\nç°å¨æä»¬è¦ä½¿ç¨é¢åå¯¹è±¡çå½¢å¼å®ä¹è®¡ç®å¨ï¼ä¸ºäºå®ç°åç®æ³ä¹é´çè§£è¦ãæä»¬ä¸è¬ä¼è¿ä¹åï¼\n\n// è®¡ç®ç±»çåºç±»\n@Setter\n@Getter\npublic abstract class Operation {\n    private double value1 = 0;\n    private double value2 = 0;\n    protected abstract double getResule();\n}\n\n//å æ³\npublic class OperationAdd extends Operation {\n    @Override\n    protected double getResule() {\n        return getValue1() + getValue2();\n    }\n}\n//åæ³\npublic class OperationSub extends Operation {\n    @Override\n    protected double getResule() {\n        return getValue1() - getValue2();\n    }\n}\n//ä¹æ³\npublic class OperationMul extends Operation {\n    @Override\n    protected double getResule() {\n        return getValue1() * getValue2();\n    }\n}\n//é¤æ³\npublic class OperationDiv extends Operation {\n    @Override\n    protected double getResule() {\n        if (getValue2() != 0) {\n            return getValue1() / getValue2();\n        }\n        throw new IllegalArgumentException("é¤æ°ä¸è½ä¸ºé¶");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nå½æä»¬è¦ä½¿ç¨è¿ä¸ªè®¡ç®å¨çæ¶åï¼åä¼è¿ä¹åï¼\n\npublic static void main(String[] args) {\n  //è®¡ç®ä¸¤æ°ä¹å\n  OperationAdd operationAdd = new OperationAdd();\n  operationAdd.setValue1(1);\n  operationAdd.setValue2(2);\n  System.out.println("sum:"+operationAdd.getResule());\n  //è®¡ç®ä¸¤æ°ä¹ç§¯\n  OperationMul operationMul = new OperationMul();\n  operationMul.setValue1(3);\n  operationMul.setValue2(5);\n  System.out.println("multiply:"+operationMul.getResule());\n  //è®¡ç®ä¸¤æ°ä¹å·®ããã\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næ³è¦ä½¿ç¨ä¸åçè¿ç®çæ¶åå°±è¦åå»ºä¸åçç±»ï¼å¹¶ä¸è¦æç¡®ç¥éè¯¥ç±»çåå­ãé£ä¹è¿ç§éå¤çåå»ºç±»çå·¥ä½å¶å®å¯ä»¥æ¾å°ä¸ä¸ªç»ä¸çç±»ä¸­å»ç®¡çãè¿æ ·çæ¹æ³æä»¬å°±å«åãç®åå·¥åæ¨¡å¼ãï¼å¨ç®åå·¥åæ¨¡å¼ä¸­ç¨äºåå»ºå®ä¾çæ¹æ³æ¯éæ(static)æ¹æ³ï¼å æ­¤ç®åå·¥åæ¨¡å¼åè¢«ç§°ä¸ºãéæå·¥åæ¹æ³ãæ¨¡å¼ããç®åå·¥åæ¨¡å¼æä»¥ä¸ä¼ç¹ï¼\n\nä¸ä¸ªè°ç¨èæ³åå»ºä¸ä¸ªå¯¹è±¡ï¼åªè¦ç¥éå¶åç§°å°±å¯ä»¥äºã å±è½äº§åçå·ä½å®ç°ï¼è°ç¨èåªå³å¿äº§åçæ¥å£ã\n\n\n# å®ä¹\n\næä¾ä¸ä¸ªåå»ºå¯¹è±¡å®ä¾çåè½ï¼èæ éå³å¿å¶å·ä½å®ç°ãè¢«åå»ºå®ä¾çç±»åå¯ä»¥æ¯æ¥å£ãæ½è±¡ç±»ï¼ä¹å¯ä»¥æ¯å·ä½çç±»ã\n\n\n# ç®åå·¥åæ¨¡å¼å®ç°æ¹å¼\n\næ²¡éªä½ ï¼ç®åå·¥åæ¨¡å¼ï¼çæ¯å ä¸ºç®åæè¢«å«åç®åå·¥åæ¨¡å¼çã\n\nç®åå·¥åæ¨¡å¼åå« 3 ä¸ªè§è²ï¼è¦ç´ ï¼ï¼\n\nFactoryï¼å³å·¥åç±»ï¼ ç®åå·¥åæ¨¡å¼çæ ¸å¿é¨åï¼è´è´£å®ç°åå»ºææäº§åçåé¨é»è¾ï¼å·¥åç±»å¯ä»¥è¢«å¤çç´æ¥è°ç¨ï¼åå»ºæéå¯¹è±¡ Productï¼æ½è±¡ç±»äº§åï¼ å®æ¯å·¥åç±»æåå»ºçææå¯¹è±¡çç¶ç±»ï¼å°è£äºåç§äº§åå¯¹è±¡çå¬ææ¹æ³ï¼å®çå¼å¥å°æé«ç³»ç»ççµæ´»æ§ï¼ä½¿å¾å¨å·¥åç±»ä¸­åªéå®ä¹ä¸ä¸ªéç¨çå·¥åæ¹æ³ï¼å ä¸ºææåå»ºçå·ä½äº§åå¯¹è±¡é½æ¯å¶å­ç±»å¯¹è±¡ ConcreteProductï¼å·ä½äº§åï¼ å®æ¯ç®åå·¥åæ¨¡å¼çåå»ºç®æ ï¼ææè¢«åå»ºçå¯¹è±¡é½åå½è¿ä¸ªè§è²çæä¸ªå·ä½ç±»çå®ä¾ãå®è¦å®ç°æ½è±¡äº§åä¸­å£°æçæ½è±¡æ¹æ³\n\n\n# UMLç±»å¾\n\n\n\n\n# å®ä¾\n\nç°å¨æä»¬å®ä¹ä¸ä¸ªå·¥åç±»ï¼å®å¯ä»¥æ ¹æ®åæ°çä¸åè¿åä¸åç±»çå®ä¾ï¼è¢«åå»ºçå®ä¾éå¸¸é½å·æå±åçç¶ç±»ã\n\n//å·¥åç±»\npublic class OperationFactory {\n\n    public static Operation createOperation(String operation) {\n        Operation oper = null;\n        switch (operation) {\n            case "add":\n                oper = new OperationAdd();\n                break;\n            case "sub":\n                oper = new OperationSub();\n                break;\n            case "mul":\n                oper = new OperationMul();\n                break;\n\n            case "div":\n                oper = new OperationDiv();\n                break;\n            default:\n                throw new UnsupportedOperationException("ä¸æ¯æè¯¥æä½");\n        }\n        return oper;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\næäºå·¥åç±»ä¹åï¼å¯ä»¥ä½¿ç¨å·¥ååå»ºå¯¹è±¡ï¼\n\npublic static void main(String[] args) {\n  Operation operationAdd = OperationFactory.createOperation("add");\n  operationAdd.setValue1(1);\n  operationAdd.setValue2(2)\n  System.out.println(operationAdd.getResule());\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\néè¿ç®åå·¥åæ¨¡å¼ï¼è¯¥è®¡ç®å¨çä½¿ç¨èä¸éè¦å³ç³»å®ç°å æ³é»è¾çé£ä¸ªç±»çå·ä½åå­ï¼åªè¦ç¥éè¯¥ç±»å¯¹åºçåæ°"add"å°±å¯ä»¥äºãè¿å°±ä½ç°äºä¹åæå°çå·¥åæ¨¡å¼çä¼ç¹ã\n\n\n# ç®åå·¥åæ¨¡å¼å­å¨çé®é¢\n\nå½æä»¬éè¦å¢å ä¸ç§è®¡ç®æ¶ï¼ä¾å¦å¼å¹³æ¹ãè¿ä¸ªæ¶åæä»¬éè¦åå®ä¹ä¸ä¸ªç±»ç»§æ¿Operationç±»ï¼å¶ä¸­å®ç°å¹³æ¹çä»£ç ãé¤æ­¤ä¹å¤æä»¬è¿è¦ä¿®æ¹ OperationFactory ç±»çä»£ç ï¼å¢å ä¸ä¸ª caseãè¿æ¾ç¶æ¯è¿èå¼é­ååçãå¯æ³èç¥å¯¹äºæ°äº§åçå å¥ï¼å·¥åç±»æ¯å¾è¢«å¨çã\n\næä»¬ä¸¾çä¾å­æ¯æç®åçæåµãèå¨å®éåºç¨ä¸­ï¼å¾å¯è½äº§åæ¯ä¸ä¸ªå¤å±æ¬¡çæ ç¶ç»æã ç®åå·¥åå¯è½å°±ä¸å¤ªéç¨äºã\n\n\n# ç®åå·¥åæ¨¡å¼æ»ç»\n\nå·¥åç±»æ¯æ´ä¸ªç®åå·¥åæ¨¡å¼çå³é®ãåå«äºå¿è¦çé»è¾å¤æ­ï¼æ ¹æ®å¤çç»å®çä¿¡æ¯ï¼å³å®ç©¶ç«åºè¯¥åå»ºåªä¸ªå·ä½ç±»çå¯¹è±¡ãéè¿ä½¿ç¨å·¥åç±»ï¼å¤çå¯ä»¥ä»ç´æ¥åå»ºå·ä½äº§åå¯¹è±¡çå°´å°¬å±é¢æè±åºæ¥ï¼ä»ä»éè¦è´è´£âæ¶è´¹âå¯¹è±¡å°±å¯ä»¥äºãèä¸å¿ç®¡è¿äºå¯¹è±¡ç©¶ç«å¦ä½åå»ºåå¦ä½ç»ç»çãæç¡®äºåèªçèè´£åæå©ï¼æå©äºæ´ä¸ªè½¯ä»¶ä½ç³»ç»æçä¼åã\n\nä½æ¯ç±äºå·¥åç±»éä¸­äºææå®ä¾çåå»ºé»è¾ï¼è¿åäºé«åèè´£ä»»åéååï¼å°å¨é¨åå»ºé»è¾éä¸­å°äºä¸ä¸ªå·¥åç±»ä¸­ï¼å®æè½åå»ºçç±»åªè½æ¯äºåèèå°çï¼å¦æéè¦æ·»å æ°çç±»ï¼åå°±éè¦æ¹åå·¥åç±»äºã\n\nå½ç³»ç»ä¸­çå·ä½äº§åç±»ä¸æ­å¢å¤æ¶åï¼å¯è½ä¼åºç°è¦æ±å·¥åç±»æ ¹æ®ä¸åæ¡ä»¶åå»ºä¸åå®ä¾çéæ±ï¼è¿ç§å¯¹æ¡ä»¶çå¤æ­åå¯¹å·ä½äº§åç±»åçå¤æ­äº¤éå¨ä¸èµ·ï¼å¾é¾é¿åæ¨¡ååè½çèå»¶ï¼å¯¹ç³»ç»çç»´æ¤åæ©å±éå¸¸ä¸å©ï¼\n\nä¸ºäºè§£å³è¿äºç¼ºç¹ï¼å°±æäºå·¥åæ¹æ³æ¨¡å¼ã\n\n\n# äºãå·¥åæ¹æ³æ¨¡å¼\n\næä»¬å¸¸è¯´çå·¥åæ¨¡å¼ï¼å°±æ¯æãå·¥åæ¹æ³æ¨¡å¼ãï¼ä¹å«ãèææé å¨æ¨¡å¼ãæãå¤æå·¥åæ¨¡å¼ãã\n\n\n# 2.1 å®ä¹\n\nå®ä¹ä¸ä¸ªåå»ºå¯¹è±¡çæ¥å£ï¼ä½è®©å®ç°è¿ä¸ªæ¥å£çç±»æ¥å³å®å®ä¾ååªä¸ªç±»ãå·¥åæ¹æ³è®©ç±»çå®ä¾åæ¨è¿å°å­ç±»ä¸­è¿è¡ã\n\n\n# 2.2 å·¥åæ¹æ³æ¨¡å¼å®ç°æ¹å¼\n\nå·¥åæ¹æ³æ¨¡å¼åå« 4 ä¸ªè§è²ï¼è¦ç´ ï¼ï¼\n\nProductï¼æ½è±¡äº§åï¼å®ä¹å·¥åæ¹æ³æåå»ºçå¯¹è±¡çæ¥å£ï¼ä¹å°±æ¯å®ééè¦ä½¿ç¨çå¯¹è±¡çæ¥å£ ConcreteProductï¼å·ä½äº§åï¼å·ä½çProductæ¥å£çå®ç°å¯¹è±¡ Factoryï¼å·¥åæ¥å£ï¼ä¹å¯ä»¥å« Creator(åå»ºå¨)ï¼ç³æå·¥åæ¹æ³ï¼éå¸¸è¿åä¸ä¸ª Product ç±»åçå®ä¾å¯¹è±¡ ConcreteFactoryï¼å·¥åå®ç°ï¼æèå« ConcreteCreator(åå»ºå¨å¯¹è±¡)ï¼è¦ç Factory å®ä¹çå·¥åæ¹æ³ï¼è¿åå·ä½ç Product å®ä¾\n\n\n# UMLç±»å¾\n\n\n\n\n# å®ä¾\n\nä» UML ç±»å¾å¯ä»¥çåºï¼æ¯ç§äº§åå®ç°ï¼æä»¬é½è¦å¢å ä¸ä¸ªç»§æ¿äºå·¥åæ¥å£ IFactory çå·¥åç±» Factory ï¼ä¿®æ¹ç®åå·¥åæ¨¡å¼ä»£ç ä¸­çå·¥åç±»å¦ä¸ï¼\n\n//å·¥åæ¥å£\npublic interface IFactory {\n    Operation CreateOption();\n}\n\n//å æ³ç±»å·¥å\npublic class AddFactory implements IFactory {\n    public Operation CreateOption() {\n        return new OperationAdd();\n    }\n}\n\n//åæ³ç±»å·¥å\npublic class SubFactory implements IFactory {\n    public Operation CreateOption() {\n        return new OperationSub();\n    }\n}\n\n//ä¹æ³ç±»å·¥å\npublic class MulFactory implements IFactory {\n    public Operation CreateOption() {\n        return new OperationMul();\n    }\n}\n\n//é¤æ³ç±»å·¥å\npublic class DivFactory implements IFactory {\n    public Operation CreateOption() {\n        return new OperationDiv();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nè¿æ¶ï¼æä»¬ä½¿ç¨è®¡ç®å¨çæ¶åï¼è¦ä¸ºæ¯ç§è¿ç®æ¹æ³å¢å ä¸ä¸ªå·¥åå¯¹è±¡\n\npublic class Client {\n    public static void main(String[] args) {\n      //åæ³\n      IFactory subFactory = new SubFactory();\n      Operation operationSub =  subFactory.CreateOption();\n      operationSub.setValue1(22);\n      operationSub.setValue2(20);\n      System.out.println("sub:"+operationSub.getResult());\n      //é¤æ³\n      IFactory Divfactory = new DivFactory();\n      Operation operationDiv =  Divfactory.CreateOption();\n      operationDiv.setValue1(99);\n      operationDiv.setValue2(33);\n      System.out.println("div:"+operationSub.getResult());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nçº³å°¼ï¼è¿ä¸æ¯æ´å¤æäºåï¼æ¯ä¸ªäº§åå¯¹åºä¸ä¸ªå·¥åï¼æåä¸æ¯æä»£ç éèµé±çããã\n\n\n# 2.3 å·¥åæ¹æ³æ¨¡å¼éç¨åºæ¯\n\nå·¥åæ¹æ³æ¨¡å¼åç®åå·¥åæ¨¡å¼è½ç¶é½æ¯éè¿å·¥åæ¥åå»ºå¯¹è±¡ï¼ä»ä»¬ä¹é´æå¤§çä¸åæ¯ââå·¥åæ¹æ³æ¨¡å¼å¨è®¾è®¡ä¸å®å¨å®å¨ç¬¦åâå¼é­ååâã\n\nå¨ä»¥ä¸æåµä¸å¯ä»¥ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ï¼\n\nä¸ä¸ªç±»ä¸ç¥éå®æéè¦çå¯¹è±¡çç±»ï¼å¨å·¥åæ¹æ³æ¨¡å¼ä¸­ï¼å®¢æ·ç«¯ä¸éè¦ç¥éå·ä½äº§åç±»çç±»åï¼åªéè¦ç¥éæå¯¹åºçå·¥åå³å¯ï¼å·ä½çäº§åå¯¹è±¡ç±å·ä½å·¥åç±»åå»ºï¼å®¢æ·ç«¯éè¦ç¥éåå»ºå·ä½äº§åçå·¥åç±»ã ä¸ä¸ªç±»éè¿å¶å­ç±»æ¥æå®åå»ºåªä¸ªå¯¹è±¡ï¼å¨å·¥åæ¹æ³æ¨¡å¼ä¸­ï¼å¯¹äºæ½è±¡å·¥åç±»åªéè¦æä¾ä¸ä¸ªåå»ºäº§åçæ¥å£ï¼èç±å¶å­ç±»æ¥ç¡®å®å·ä½è¦åå»ºçå¯¹è±¡ï¼å©ç¨é¢åå¯¹è±¡çå¤ææ§åéæ°ä»£æ¢ååï¼å¨ç¨åºè¿è¡æ¶ï¼å­ç±»å¯¹è±¡å°è¦çç¶ç±»å¯¹è±¡ï¼ä»èä½¿å¾ç³»ç»æ´å®¹ææ©å±ã å°åå»ºå¯¹è±¡çä»»å¡å§æç»å¤ä¸ªå·¥åå­ç±»ä¸­çæä¸ä¸ªï¼å®¢æ·ç«¯å¨ä½¿ç¨æ¶å¯ä»¥æ é¡»å³å¿æ¯åªä¸ä¸ªå·¥åå­ç±»åå»ºäº§åå­ç±»ï¼éè¦æ¶åå¨ææå®ï¼å¯å°å·ä½å·¥åç±»çç±»åå­å¨å¨éç½®æä»¶ææ°æ®åºä¸­ã ä½¿ç¨åºæ¯ æ¥å¿è®°å½å¨ï¼æ¥å¿å¯è½è®°å½å°æ¬å°ç¡¬çãç³»ç»äºä»¶ãè¿ç¨æå¡å¨ç­ï¼ç¨æ·å¯ä»¥éæ©è®°å½æ¥å¿å°ä»ä¹å°æ¹ã æ°æ®åºè®¿é®ï¼å½ç¨æ·ä¸ç¥éæåç³»ç»éç¨åªä¸ç±»æ°æ®åºï¼ä»¥åæ°æ®åºå¯è½æååæ¶ã è®¾è®¡ä¸ä¸ªè¿æ¥æå¡å¨çæ¡æ¶ï¼éè¦ä¸ä¸ªåè®®ï¼"POP3"ã"IMAP"ã"HTTP"ï¼å¯ä»¥æè¿ä¸ä¸ªä½ä¸ºäº§åç±»ï¼å±åå®ç°ä¸ä¸ªæ¥å£ã æ¯å¦ Hibernate æ¢æ°æ®åºåªéæ¢æ¹è¨åé©±å¨å°±å¯ä»¥\n\n\n# 2.4 å·¥åæ¹æ³æ¨¡å¼æ»ç»\n\nå·¥åæ¹æ³æ¨¡å¼æ¯ç®åå·¥åæ¨¡å¼çè¿ä¸æ­¥æ½è±¡åæ¨å¹¿ã\n\nç±äºä½¿ç¨äºé¢åå¯¹è±¡çå¤ææ§ï¼å·¥åæ¹æ³æ¨¡å¼ä¿æäºç®åå·¥åæ¨¡å¼çä¼ç¹ï¼èä¸åæäºå®çç¼ºç¹ã\n\nå¨å·¥åæ¹æ³æ¨¡å¼ä¸­ï¼æ ¸å¿çå·¥åç±»ä¸åè´è´£ææäº§åçåå»ºï¼èæ¯å°å·ä½åå»ºå·¥ä½äº¤ç»å­ç±»å»åãè¿ä¸ªæ ¸å¿ç±»ä»ä»è´è´£ç»åºå·ä½å·¥åå¿é¡»å®ç°çæ¥å£ï¼èä¸è´è´£äº§åç±»è¢«å®ä¾åè¿ç§ç»èï¼è¿ä½¿å¾å·¥åæ¹æ³æ¨¡å¼å¯ä»¥åè®¸ç³»ç»å¨ä¸ä¿®æ¹å·¥åè§è²çæåµä¸å¼è¿æ°äº§åã\n\nä¼ç¹ï¼\n\nä¸ä¸ªè°ç¨èæ³åå»ºä¸ä¸ªå¯¹è±¡ï¼åªè¦ç¥éå¶åç§°å°±å¯ä»¥äºã æ©å±æ§é«ï¼å¦ææ³å¢å ä¸ä¸ªäº§åï¼åªè¦æ©å±ä¸ä¸ªå·¥åç±»å°±å¯ä»¥ã å±è½äº§åçå·ä½å®ç°ï¼è°ç¨èåªå³å¿äº§åçæ¥å£ã ç¼ºç¹ï¼\n\næ¯æ¬¡å¢å ä¸ä¸ªäº§åæ¶ï¼é½éè¦å¢å ä¸ä¸ªå·ä½ç±»åå¯¹è±¡å®ç°å·¥åï¼ä½¿å¾ç³»ç»ä¸­ç±»çä¸ªæ°æåå¢å ï¼å¨ä¸å®ç¨åº¦ä¸å¢å äºç³»ç»çå¤æåº¦ï¼åæ¶ä¹å¢å äºç³»ç»å·ä½ç±»çä¾èµãè¿å¹¶ä¸æ¯ä»ä¹å¥½äºã\n\n\n# ä¸ãæ½è±¡å·¥åæ¨¡å¼\n\nå·¥åæ¹æ³æ¨¡å¼éè¿å¼å¥å·¥åç­çº§ç»æï¼è§£å³äºç®åå·¥åæ¨¡å¼ä¸­å·¥åç±»èè´£å¤ªéçé®é¢ï¼ä½ç±äºå·¥åæ¹æ³æ¨¡å¼ä¸­çæ¯ä¸ªå·¥ååªçäº§ä¸ç±»äº§åï¼å¯è½ä¼å¯¼è´ç³»ç»ä¸­å­å¨å¤§éçå·¥åç±»ï¼å¿å¿ä¼å¢å ç³»ç»çå¼éãæ­¤æ¶ï¼æä»¬å¯ä»¥èèå°ä¸äºç¸å³çäº§åç»æä¸ä¸ªâäº§åæâï¼ç±åä¸ä¸ªå·¥åæ¥ç»ä¸çäº§ï¼è¿å°±æ¯æ½è±¡å·¥åæ¨¡å¼çåºæ¬ææ³ã\n\n\n# 3.1 å®ä¹\n\nä¸ºåå»ºä¸ç»ç¸å³æç¸äºä¾èµçå¯¹è±¡æä¾ä¸ä¸ªæ¥å£ï¼èä¸æ éæå®ä»ä»¬çå·ä½ç±»ã\n\næ½è±¡å·¥å(Abstract Factory)æ¨¡å¼ï¼åç§°å·¥å·ç®±(Kit æToolkit)æ¨¡å¼ã\n\n\n# 3.2 æ½è±¡å·¥åæ¨¡å¼å®ç°æ¹å¼\n\næ½è±¡å·¥åæ¨¡å¼æ¯å·¥åæ¹æ³æ¨¡å¼çåçº§çæ¬ï¼ä»ç¨æ¥åå»ºä¸ç»ç¸å³æèç¸äºä¾èµçå¯¹è±¡ãä»ä¸å·¥åæ¹æ³æ¨¡å¼çåºå«å°±å¨äºï¼å·¥åæ¹æ³æ¨¡å¼éå¯¹çæ¯ä¸ä¸ªäº§åç­çº§ç»æï¼èæ½è±¡å·¥åæ¨¡å¼åæ¯éå¯¹çå¤ä¸ªäº§åç­çº§ç»æãå¨ç¼ç¨ä¸­ï¼éå¸¸ä¸ä¸ªäº§åç»æï¼è¡¨ç°ä¸ºä¸ä¸ªæ¥å£æèæ½è±¡ç±»ï¼ä¹å°±æ¯è¯´ï¼å·¥åæ¹æ³æ¨¡å¼æä¾çææäº§åé½æ¯è¡çèªåä¸ä¸ªæ¥å£ææ½è±¡ç±»ï¼èæ½è±¡å·¥åæ¨¡å¼ææä¾çäº§ååæ¯è¡çèªä¸åçæ¥å£ææ½è±¡ç±»ã\n\nå¨æ½è±¡å·¥åæ¨¡å¼ä¸­ï¼æä¸ä¸ªäº§åæçæ¦å¿µï¼æè°çäº§åæï¼æ¯æä½äºä¸åäº§åç­çº§ç»æä¸­åè½ç¸å³èçäº§åç»æçå®¶æãæ½è±¡å·¥åæ¨¡å¼ææä¾çä¸ç³»åäº§åå°±ç»æä¸ä¸ªäº§åæï¼èå·¥åæ¹æ³æä¾çä¸ç³»åäº§åç§°ä¸ºä¸ä¸ªç­çº§ç»æã\n\nä¹æ²¡éªä½ ï¼æ½è±¡å·¥åæ¨¡å¼ç¡®å®æ¯æ½è±¡ã\n\næ½è±¡å·¥åæ¨¡å¼åå«çè§è²ï¼è¦ç´ ï¼ï¼\n\nAbstractFactoryï¼æ½è±¡å·¥åï¼ç¨äºå£°æçææ½è±¡äº§åçæ¹æ³ ConcreteFactoryï¼å·ä½å·¥åï¼å®ç°æ½è±¡å·¥åå®ä¹çæ¹æ³ï¼å·ä½å®ç°ä¸ç³»åäº§åå¯¹è±¡çåå»º AbstractProductï¼æ½è±¡äº§åï¼å®ä¹ä¸ç±»äº§åå¯¹è±¡çæ¥å£ ConcreteProductï¼å·ä½äº§åï¼éå¸¸å¨å·ä½å·¥åéï¼ä¼éæ©å·ä½çäº§åå®ç°ï¼æ¥åå»ºç¬¦åæ½è±¡å·¥åå®ä¹çæ¹æ³è¿åçäº§åç±»åçå¯¹è±¡ã Clientï¼å®¢æ·ç«¯ï¼ä½¿ç¨æ½è±¡å·¥åæ¥è·åä¸ç³»åæéè¦çäº§åå¯¹è±¡\n\n\n# UMLç±»å¾\n\n\n# å®ä¾\n\nææç»´åºç¾ç§çä¾å­æ¹ä¸ç¨äºçè§£ï¼åè®¾æä»¬è¦çäº§ä¸¤ç§äº§åï¼é®çï¼Keyboardï¼åé¼ æ ï¼Mouseï¼ ï¼æ¯ä¸ç§äº§åé½æ¯æå¤ç§ç³»åï¼æ¯å¦ Mac ç³»åå Windows ç³»åãè¿æ ·æ¯ä¸ªç³»åçäº§ååå«æ¯ MacKeyboard WinKeyboard, MacMouse, WinMouse ãä¸ºäºå¯ä»¥å¨è¿è¡æ¶å»åå»ºä¸ä¸ªç³»åçäº§åæï¼æä»¬å¯ä»¥ä¸ºæ¯ä¸ªç³»åçäº§åæåå»ºä¸ä¸ªå·¥å MacFactory å WinFactory ãæ¯ä¸ªå·¥åé½æä¸¤ä¸ªæ¹æ³ CreateMouse å CreateKeyboard å¹¶è¿åå¯¹åºçäº§åï¼å¯ä»¥å°è¿ä¸¤ä¸ªæ¹æ³æ½è±¡æä¸ä¸ªæ¥å£ HardWare ãè¿æ ·å¨è¿è¡æ¶å»æä»¬å¯ä»¥éæ©åå»ºéè¦çäº§åç³»åã\n\næ½è±¡äº§å\n\npublic interface Keyboard {\n  void input();\n}\npublic interface Mouse {\n  void click();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå·ä½äº§å\n\n//å·ä½äº§å\n\npublic class MacKeyboard implements Keyboard {\n    @Override\n    public void input() {\n        System.out.println("Mac ä¸ç¨é®ç");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class MacMouse implements Mouse {\n    @Override\n    public void click() {\n        System.out.println("Mac ä¸ç¨é¼ æ ");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class WinKeyboard implements Keyboard {\n    @Override\n    public void input() {\n        System.out.println("Win ä¸ç¨é®ç");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class WinMouse implements Mouse {\n    @Override\n    public void click() {\n        System.out.println("win ä¸ç¨é¼ æ ");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ½è±¡å·¥å\n\npublic interface Hardware {\n     Keyboard createKyeBoard();\n     Mouse createMouse();\n}\n\n\n1\n2\n3\n4\n\n\nå·ä½çå·¥åç±»\n\npublic class MacFactory implements Hardware{\n    @Override\n    public Keyboard createKyeBoard() {\n        return new MacKeyboard();\n    }\n\n    @Override\n    public Mouse createMouse() {\n        return new MacMouse();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\npublic class WinFactory implements Hardware{\n    @Override\n    public Keyboard createKyeBoard() {\n        return new WinKeyboard();\n    }\n\n    @Override\n    public Mouse createMouse() {\n        return new WinMouse();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä½¿ç¨\n\npublic class Client {\n  public static void main(String[] args) {\n    Hardware macFactory = new MacFactory();\n    Keyboard keyboard = macFactory.createKyeBoard();\n    keyboard.input();   //Mac ä¸ç¨é®ç\n\n    Hardware winFactory = new WinFactory();\n    Mouse mouse = winFactory.createMouse();\n    mouse.click();  //win ä¸ç¨é¼ æ \n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 3.3 æ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯\n\næ½è±¡å·¥åæ¨¡å¼åå·¥åæ¹æ³æ¨¡å¼ä¸æ ·ï¼é½ç¬¦åå¼é­ååãä½æ¯ä¸åçæ¯ï¼å·¥åæ¹æ³æ¨¡å¼å¨å¢å ä¸ä¸ªå·ä½äº§åçæ¶åï¼é½è¦å¢å å¯¹åºçå·¥åãä½æ¯æ½è±¡å·¥åæ¨¡å¼åªæå¨æ°å¢ä¸ä¸ªç±»åçå·ä½äº§åæ¶æéè¦æ°å¢å·¥åãä¹å°±æ¯è¯´ï¼å·¥åæ¹æ³æ¨¡å¼çä¸ä¸ªå·¥ååªè½åå»ºä¸ä¸ªå·ä½äº§åãèæ½è±¡å·¥åæ¨¡å¼çä¸ä¸ªå·¥åå¯ä»¥åå»ºå±äºä¸ç±»ç±»åçå¤ç§å·ä½äº§åãå·¥ååå»ºäº§åçä¸ªæ°ä»äºç®åå·¥åæ¨¡å¼åå·¥åæ¹æ³æ¨¡å¼ä¹é´ã\n\nå¨ä»¥ä¸æåµä¸å¯ä»¥ä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ï¼\n\nä¸ä¸ªç³»ç»ä¸åºå½ä¾èµäºäº§åç±»å®ä¾å¦ä½è¢«åå»ºãç»ååè¡¨è¾¾çç»èï¼è¿å¯¹äºææç±»åçå·¥åæ¨¡å¼é½æ¯éè¦çã ç³»ç»ä¸­æå¤äºä¸ä¸ªçäº§åæï¼èæ¯æ¬¡åªä½¿ç¨å¶ä¸­æä¸äº§åæã å±äºåä¸ä¸ªäº§åæçäº§åå°å¨ä¸èµ·ä½¿ç¨ï¼è¿ä¸çº¦æå¿é¡»å¨ç³»ç»çè®¾è®¡ä¸­ä½ç°åºæ¥ã ç³»ç»ç»æç¨³å®ï¼ä¸ä¼é¢ç¹çå¢å å¯¹è±¡ã âå¼é­ååâçå¾ææ§\n\nå¨æ½è±¡å·¥åæ¨¡å¼ä¸­ï¼å¢å æ°çäº§åæå¾æ¹ä¾¿ï¼ä½æ¯å¢å æ°çäº§åç­çº§ç»æå¾éº»ç¦ï¼æ½è±¡å·¥åæ¨¡å¼çè¿ç§æ§è´¨ç§°ä¸º**âå¼é­ååâçå¾ææ§**ãâå¼é­ååâè¦æ±ç³»ç»å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å°é­ï¼éè¿æ©å±è¾¾å°å¢å¼ºå¶åè½çç®çï¼å¯¹äºæ¶åå°å¤ä¸ªäº§åæä¸å¤ä¸ªäº§åç­çº§ç»æçç³»ç»ï¼å¶åè½å¢å¼ºåæ¬ä¸¤æ¹é¢ï¼\n\nå¢å äº§åæï¼å¯¹äºå¢å æ°çäº§åæï¼å·¥åæ¹æ³æ¨¡å¼å¾å¥½çæ¯æäºâå¼é­ååâï¼å¯¹äºæ°å¢å çäº§åæï¼åªéè¦å¯¹åºå¢å ä¸ä¸ªæ°çå·ä½å·¥åå³å¯ï¼å¯¹å·²æä»£ç æ é¡»åä»»ä½ä¿®æ¹ã å¢å æ°çäº§åç­çº§ç»æï¼å¯¹äºå¢å æ°çäº§åç­çº§ç»æï¼éè¦ä¿®æ¹ææçå·¥åè§è²ï¼åæ¬æ½è±¡å·¥åç±»ï¼å¨ææçå·¥åç±»ä¸­é½éè¦å¢å çäº§æ°äº§åçæ¹æ³ï¼è¿èäºâå¼é­ååâã æ­£å ä¸ºæ½è±¡å·¥åæ¨¡å¼å­å¨âå¼é­ååâçå¾ææ§ï¼å®ä»¥ä¸ç§å¾æçæ¹å¼æ¥æ»¡è¶³âå¼é­ååâï¼ä¸ºå¢å æ°äº§åææä¾æ¹ä¾¿ï¼ä½ä¸è½ä¸ºå¢å æ°äº§åç»ææä¾è¿æ ·çæ¹ä¾¿ï¼å æ­¤è¦æ±è®¾è®¡äººåå¨è®¾è®¡ä¹åå°±è½å¤å¨é¢èèï¼ä¸ä¼å¨è®¾è®¡å®æä¹ååç³»ç»ä¸­å¢å æ°çäº§åç­çº§ç»æï¼ä¹ä¸ä¼å é¤å·²æçäº§åç­çº§ç»æï¼å¦åå°ä¼å¯¼è´ç³»ç»åºç°è¾å¤§çä¿®æ¹ï¼ä¸ºåç»­ç»´æ¤å·¥ä½å¸¦æ¥è¯¸å¤éº»ç¦ã\n\n\n# 3.4 æ½è±¡å·¥åæ¨¡å¼æ»ç»\n\næ½è±¡å·¥åæ¨¡å¼æ¯å·¥åæ¹æ³æ¨¡å¼çè¿ä¸æ­¥å»¶ä¼¸ï¼ç±äºå®æä¾äºåè½æ´ä¸ºå¼ºå¤§çå·¥åç±»å¹¶ä¸å·å¤è¾å¥½çå¯æ©å±æ§ï¼å¨è½¯ä»¶å¼åä¸­å¾ä»¥å¹¿æ³åºç¨ï¼å°¤å¶æ¯å¨ä¸äºæ¡æ¶åAPIç±»åºçè®¾è®¡ä¸­ï¼ä¾å¦å¨Javaè¯­è¨çAWTï¼æ½è±¡çªå£å·¥å·åï¼ä¸­å°±ä½¿ç¨äºæ½è±¡å·¥åæ¨¡å¼ï¼å®ä½¿ç¨æ½è±¡å·¥åæ¨¡å¼æ¥å®ç°å¨ä¸åçæä½ç³»ç»ä¸­åºç¨ç¨åºåç°ä¸æå¨æä½ç³»ç»ä¸è´çå¤è§çé¢ãæ½è±¡å·¥åæ¨¡å¼ä¹æ¯å¨è½¯ä»¶å¼åä¸­æå¸¸ç¨çè®¾è®¡æ¨¡å¼ä¹ä¸ã\n\nä¼ç¹ï¼\n\næ½è±¡å·¥åæ¨¡å¼éç¦»äºå·ä½ç±»ççæï¼ä½¿å¾å®¢æ·å¹¶ä¸éè¦ç¥éä»ä¹è¢«åå»ºãç±äºè¿ç§éç¦»ï¼æ´æ¢ä¸ä¸ªå·ä½å·¥åå°±åå¾ç¸å¯¹å®¹æï¼ææçå·ä½å·¥åé½å®ç°äºæ½è±¡å·¥åä¸­å®ä¹çé£äºå¬å±æ¥å£ï¼å æ­¤åªéæ¹åå·ä½å·¥åçå®ä¾ï¼å°±å¯ä»¥å¨æç§ç¨åº¦ä¸æ¹åæ´ä¸ªè½¯ä»¶ç³»ç»çè¡ä¸ºã å½ä¸ä¸ªäº§åæä¸­çå¤ä¸ªå¯¹è±¡è¢«è®¾è®¡æä¸èµ·å·¥ä½æ¶ï¼å®è½å¤ä¿è¯å®¢æ·ç«¯å§ç»åªä½¿ç¨åä¸ä¸ªäº§åæä¸­çå¯¹è±¡ã å¢å æ°çäº§åæå¾æ¹ä¾¿ï¼æ é¡»ä¿®æ¹å·²æç³»ç»ï¼ç¬¦åâå¼é­ååâã ç¼ºç¹ï¼\n\nå¢å æ°çäº§åç­çº§ç»æéº»ç¦ï¼éè¦å¯¹åæç³»ç»è¿è¡è¾å¤§çä¿®æ¹ï¼çè³éè¦ä¿®æ¹æ½è±¡å±ä»£ç ï¼è¿æ¾ç¶ä¼å¸¦æ¥è¾å¤§çä¸ä¾¿ï¼è¿èäºâå¼é­ååâã\n\n\n# å·¥åæ¨¡å¼çéå\n\nå½æ½è±¡å·¥åæ¨¡å¼ä¸­æ¯ä¸ä¸ªå·ä½å·¥åç±»åªåå»ºä¸ä¸ªäº§åå¯¹è±¡ï¼ä¹å°±æ¯åªå­å¨ä¸ä¸ªäº§åç­çº§ç»ææ¶ï¼æ½è±¡å·¥åæ¨¡å¼éåæå·¥åæ¹æ³æ¨¡å¼ï¼å½å·¥åæ¹æ³æ¨¡å¼ä¸­æ½è±¡å·¥åä¸å·ä½å·¥ååå¹¶ï¼æä¾ä¸ä¸ªç»ä¸çå·¥åæ¥åå»ºäº§åå¯¹è±¡ï¼å¹¶å°åå»ºå¯¹è±¡çå·¥åæ¹æ³è®¾è®¡ä¸ºéææ¹æ³æ¶ï¼å·¥åæ¹æ³æ¨¡å¼éåæç®åå·¥åæ¨¡å¼ã\n\n\n# åãæä»¬èº«è¾¹çå·¥åæ¨¡å¼\n\nå·¥åæ¨¡å¼å¨Javaç åèº«è¾¹çæ¯æ å¤ä¸å¨ï¼ä¸ä¿¡æå¼ä½ çé¡¹ç®ï¼æç´¢ Factory\n\næä»¬æå¸¸ç¨ç Spring å°±æ¯ä¸ä¸ªæå¤§ç Bean å·¥åï¼IOC éè¿BeanFactoryå¯¹Bean è¿è¡ç®¡çã\n\næä»¬ä½¿ç¨çæ¥å¿é¨é¢æ¡æ¶slf4jï¼ç¹è¿å»å°±å¯ä»¥çå°çæçå³é\n\nprivate final static Logger logger = LoggerFactory.getLogger(HelloWord.class); JDK ç Calendar ä½¿ç¨äºç®åå·¥åæ¨¡å¼\n\n Calendar calendar = Calendar.getInstance();\n\n\n1\n\n\n> åè\n> https://javakeeper.starfish.ink/design-pattern/Factory-Pattern.html',normalizedContent:'> 3å¹´å·¥ä½ç»éªæ¯å§ï¼ ä½ ç¥éå·¥åæ¨¡å¼åä¸ºå ç±»åï¼è½ä¸¾ä¾å­åï¼ é£ä½ è¯´è¯´ä½ ä»¬é¡¹ç®ä¸­æ¯æä¹ä½¿ç¨å·¥åæ¨¡å¼çï¼\n\n\n# å·¥åæ¨¡å¼\n\nå·¥åæ¨¡å¼ï¼factory patternï¼æ¯ java ä¸­æå¸¸ç¨çè®¾è®¡æ¨¡å¼ä¹ä¸ãè¿ç§ç±»åçè®¾è®¡æ¨¡å¼å±äºåå»ºåæ¨¡å¼ï¼å®æä¾äºä¸ç§åå»ºå¯¹è±¡çæä½³æ¹å¼ã\n\nå¨å·¥åæ¨¡å¼ä¸­ï¼æä»¬å¨åå»ºå¯¹è±¡æ¶ä¸ä¼å¯¹å®¢æ·ç«¯æ´é²åå»ºé»è¾ï¼å¹¶ä¸æ¯éè¿ä½¿ç¨ä¸ä¸ªå±åçæ¥å£æ¥æåæ°åå»ºçå¯¹è±¡ã\n\n\n# æ¨¡å¼å¨æº\n\nèèä¸ä¸ªç®åçè½¯ä»¶åºç¨åºæ¯ï¼ä¸ä¸ªè½¯ä»¶ç³»ç»å¯ä»¥æä¾å¤ä¸ªå¤è§ä¸åçæé®ï¼å¦åå½¢æé®ãç©å½¢æé®ãè±å½¢æé®ç­ï¼ï¼ è¿äºæé®é½æºèªåä¸ä¸ªåºç±»ï¼ä¸è¿å¨ç»§æ¿åºç±»åä¸åçå­ç±»ä¿®æ¹äºé¨åå±æ§ä»èä½¿å¾å®ä»¬å¯ä»¥åç°ä¸åçå¤è§ï¼å¦ææä»¬å¸æå¨ä½¿ç¨è¿äºæé®æ¶ï¼ä¸éè¦ç¥éè¿äºå·ä½æé®ç±»çåå­ï¼åªéè¦ç¥éè¡¨ç¤ºè¯¥æé®ç±»çä¸ä¸ªåæ°ï¼å¹¶æä¾ä¸ä¸ªè°ç¨æ¹ä¾¿çæ¹æ³ï¼æè¯¥åæ°ä¼ å¥æ¹æ³å³å¯è¿åä¸ä¸ªç¸åºçæé®å¯¹è±¡ï¼æ­¤æ¶ï¼å°±å¯ä»¥ä½¿ç¨ç®åå·¥åæ¨¡å¼ã\n\n\n# æ¨¡å¼å®ä¹\n\nç®åå·¥åæ¨¡å¼(simple factory pattern)ï¼åç§°ä¸ºéæå·¥åæ¹æ³(static factory method)æ¨¡å¼ï¼å®å±äºç±»åå»ºåæ¨¡å¼ãå¨ç®åå·¥åæ¨¡å¼ä¸­ï¼å¯ä»¥æ ¹æ®åæ°çä¸åè¿åä¸åç±»çå®ä¾ãç®åå·¥åæ¨¡å¼ä¸é¨å®ä¹ä¸ä¸ªç±»æ¥è´è´£åå»ºå¶ä»ç±»çå®ä¾ï¼è¢«åå»ºçå®ä¾éå¸¸é½å·æå±åçç¶ç±»ã\n\n\n# æ¨¡å¼ç»æ\n\nç®åå·¥åæ¨¡å¼åå«å¦ä¸è§è²ï¼\n\nfactoryï¼å·¥åè§è²\nå·¥åè§è²è´è´£å®ç°åå»ºææå®ä¾çåé¨é»è¾ productï¼æ½è±¡äº§åè§è²\næ½è±¡äº§åè§è²æ¯æåå»ºçææå¯¹è±¡çç¶ç±»ï¼è´è´£æè¿°ææå®ä¾æå±æçå¬å±æ¥å£ concreteproductï¼å·ä½äº§åè§è²\nå·ä½äº§åè§è²æ¯åå»ºç®æ ï¼ææåå»ºçå¯¹è±¡é½åå½è¿ä¸ªè§è²çæä¸ªå·ä½ç±»çå®ä¾ã 1.4. æ¶åºå¾\n\n\n# æ¨¡å¼åæ\n\nå°å¯¹è±¡çåå»ºåå¯¹è±¡æ¬èº«ä¸å¡å¤çåç¦»å¯ä»¥éä½ç³»ç»çè¦ååº¦ï¼ä½¿å¾ä¸¤èä¿®æ¹èµ·æ¥é½ç¸å¯¹å®¹æã\n\nå¨è°ç¨å·¥åç±»çå·¥åæ¹æ³æ¶ï¼ç±äºå·¥åæ¹æ³æ¯éææ¹æ³ï¼ä½¿ç¨èµ·æ¥å¾æ¹ä¾¿ï¼å¯éè¿ç±»åç´æ¥è°ç¨ï¼èä¸åªéè¦ä¼ å¥ä¸ä¸ªç®åçåæ°å³å¯.\n\nå¨å®éå¼åä¸­ï¼è¿å¯ä»¥å¨è°ç¨æ¶å°æä¼ å¥çåæ°ä¿å­å¨xmlç­æ ¼å¼çéç½®æä»¶ä¸­ï¼ä¿®æ¹åæ°æ¶æ é¡»ä¿®æ¹ä»»ä½æºä»£ç ã\n\nç®åå·¥åæ¨¡å¼æå¤§çé®é¢å¨äºå·¥åç±»çèè´£ç¸å¯¹è¿éï¼å¢å æ°çäº§åéè¦ä¿®æ¹å·¥åç±»çå¤æ­é»è¾ï¼è¿ä¸ç¹ä¸å¼é­ååæ¯ç¸è¿èçã\n\nç®åå·¥åæ¨¡å¼çè¦ç¹å¨äºï¼å½ä½ éè¦ä»ä¹ï¼åªéè¦ä¼ å¥ä¸ä¸ªæ­£ç¡®çåæ°ï¼å°±å¯ä»¥è·åä½ æéè¦çå¯¹è±¡ï¼èæ é¡»ç¥éå¶åå»ºç»èã\n\n\n# å·¥åæ¨¡å¼å¯ä»¥åä¸ºä¸ç±»ï¼\n\nç®åå·¥åæ¨¡å¼ï¼simple factoryï¼ å·¥åæ¹æ³æ¨¡å¼ï¼factory methodï¼ æ½è±¡å·¥åæ¨¡å¼ï¼abstract factoryï¼ ç®åå·¥åå¶å®ä¸æ¯ä¸ä¸ªæ åççè®¾è®¡æ¨¡å¼ãgof 23ç§è®¾è®¡æ¨¡å¼ä¸­åªæãå·¥åæ¹æ³æ¨¡å¼ãä¸ãæ½è±¡å·¥åæ¨¡å¼ããç®åå·¥åæ¨¡å¼å¯ä»¥çä¸ºå·¥åæ¹æ³æ¨¡å¼çä¸ç§ç¹ä¾ï¼ä¸ºäºç»ä¸æ´çå­¦ä¹ ï¼å°±é½å½ä¸ºå·¥åæ¨¡å¼ã\n\nè¿ä¸ç§å·¥åæ¨¡å¼å¨è®¾è®¡æ¨¡å¼çåç±»ä¸­é½å±äºåå»ºåæ¨¡å¼ï¼ä¸ç§æ¨¡å¼ä»ä¸å°ä¸éæ­¥æ½è±¡ã\n\nåå»ºåæ¨¡å¼ åå»ºåæ¨¡å¼(creational pattern)å¯¹ç±»çå®ä¾åè¿ç¨è¿è¡äºæ½è±¡ï¼è½å¤å°è½¯ä»¶æ¨¡åä¸­å¯¹è±¡çåå»ºåå¯¹è±¡çä½¿ç¨åç¦»ãä¸ºäºä½¿è½¯ä»¶çç»ææ´å æ¸æ°ï¼å¤çå¯¹äºè¿äºå¯¹è±¡åªéè¦ç¥éå®ä»¬å±åçæ¥å£ï¼èä¸æ¸æ¥å¶å·ä½çå®ç°ç»èï¼ä½¿æ´ä¸ªç³»ç»çè®¾è®¡æ´å ç¬¦ååä¸èè´£ååã\n\nåå»ºåæ¨¡å¼å¨åå»ºä»ä¹(what)ï¼ç±è°åå»º(who)ï¼ä½æ¶åå»º(when)ç­æ¹é¢é½ä¸ºè½¯ä»¶è®¾è®¡èæä¾äºå°½å¯è½å¤§ççµæ´»æ§ã\n\nåå»ºåæ¨¡å¼éèäºç±»çå®ä¾çåå»ºç»èï¼éè¿éèå¯¹è±¡å¦ä½è¢«åå»ºåç»åå¨ä¸èµ·è¾¾å°ä½¿æ´ä¸ªç³»ç»ç¬ç«çç®çã\n\nå·¥åæ¨¡å¼æ¯åå»ºåæ¨¡å¼ä¸­æ¯è¾éè¦çãå·¥åæ¨¡å¼çä¸»è¦åè½å°±æ¯å¸®å©æä»¬å®ä¾åå¯¹è±¡ãä¹æä»¥åå­ä¸­åå«å·¥åæ¨¡å¼åä¸ªå­ï¼æ¯å ä¸ºå¯¹è±¡çå®ä¾åè¿ç¨æ¯éè¿å·¥åå®ç°çï¼æ¯ç¨å·¥åä»£æ¿newæä½çã\n\nå·¥åæ¨¡å¼ä¼ç¹ å¯ä»¥ä½¿ä»£ç ç»ææ¸æ°ï¼ææå°å°è£ååãå¨ç¼ç¨ä¸­ï¼äº§åç±»çå®ä¾åææ¶åæ¯æ¯è¾å¤æåå¤åçï¼éè¿å·¥åæ¨¡å¼ï¼å°äº§åçå®ä¾åå°è£èµ·æ¥ï¼ä½¿å¾è°ç¨èæ ¹æ¬æ éå³å¿äº§åçå®ä¾åè¿ç¨ï¼åªéä¾èµå·¥åå³å¯å¾å°èªå·±æ³è¦çäº§åã å¯¹è°ç¨èå±è½å·ä½çäº§åç±»ãå¦æä½¿ç¨å·¥åæ¨¡å¼ï¼è°ç¨èåªå³å¿äº§åçæ¥å£å°±å¯ä»¥äºï¼è³äºå·ä½çå®ç°ï¼è°ç¨èæ ¹æ¬æ éå³å¿ãå³ä½¿åæ´äºå·ä½çå®ç°ï¼å¯¹è°ç¨èæ¥è¯´æ²¡æä»»ä½å½±åã éä½è¦ååº¦ãäº§åç±»çå®ä¾åéå¸¸æ¥è¯´æ¯å¾å¤æçï¼å®éè¦ä¾èµå¾å¤çç±»ï¼èè¿äºç±»å¯¹äºè°ç¨èæ¥è¯´æ ¹æ¬æ éç¥éï¼å¦æä½¿ç¨äºå·¥åæ¹æ³ï¼æä»¬éè¦åçä»ä»æ¯å®ä¾åå¥½äº§åç±»ï¼ç¶åäº¤ç»è°ç¨èä½¿ç¨ãå¯¹è°ç¨èæ¥è¯´ï¼äº§åæä¾èµçç±»é½æ¯éæçã éç¨åºæ¯ ä¸ç®¡æ¯ç®åå·¥åæ¨¡å¼ï¼å·¥åæ¹æ³æ¨¡å¼è¿æ¯æ½è±¡å·¥åæ¨¡å¼ï¼ä»ä»¬å·æç±»ä¼¼çç¹æ§ï¼æä»¥ä»ä»¬çéç¨åºæ¯ä¹æ¯ç±»ä¼¼çã\n\né¦åï¼ä½ä¸ºä¸ç§åå»ºç±»æ¨¡å¼ï¼å¨ä»»ä½éè¦çæå¤æå¯¹è±¡çå°æ¹ï¼é½å¯ä»¥ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ãæä¸ç¹éè¦æ³¨æçå°æ¹å°±æ¯å¤æå¯¹è±¡éåä½¿ç¨å·¥åæ¨¡å¼ï¼èç®åå¯¹è±¡ï¼ç¹å«æ¯åªéè¦éè¿newå°±å¯ä»¥å®æåå»ºçå¯¹è±¡ï¼æ éä½¿ç¨å·¥åæ¨¡å¼ãå¦æä½¿ç¨å·¥åæ¨¡å¼ï¼å°±éè¦å¼å¥ä¸ä¸ªå·¥åç±»ï¼ä¼å¢å ç³»ç»çå¤æåº¦ã\n\nå¶æ¬¡ï¼å·¥åæ¨¡å¼æ¯ä¸ç§å¸åçè§£è¦æ¨¡å¼ï¼è¿ªç±³ç¹æ³åå¨å·¥åæ¨¡å¼ä¸­è¡¨ç°çå°¤ä¸ºææ¾ãåå¦è°ç¨èèªå·±ç»è£äº§åéè¦å¢å ä¾èµå³ç³»æ¶ï¼å¯ä»¥èèä½¿ç¨å·¥åæ¨¡å¼ãå°ä¼å¤§å¤§éä½å¯¹è±¡ä¹é´çè¦ååº¦ã\n\nåæ¬¡ï¼ç±äºå·¥åæ¨¡å¼æ¯ä¾é æ½è±¡æ¶æçï¼å®æå®ä¾åäº§åçä»»å¡äº¤ç±å®ç°ç±»å®æï¼æ©å±æ§æ¯è¾å¥½ãä¹å°±æ¯è¯´ï¼å½éè¦ç³»ç»ææ¯è¾å¥½çæ©å±æ§æ¶ï¼å¯ä»¥èèå·¥åæ¨¡å¼ï¼ä¸åçäº§åç¨ä¸åçå®ç°å·¥åæ¥ç»è£ã\n\n\n# ä¸ãç®åå·¥åæ¨¡å¼\n\nå¨ä»ç»ç®åå·¥åæ¨¡å¼ä¹åï¼æä»¬å°è¯è§£å³ä»¥ä¸é®é¢ï¼\n\nç°å¨æä»¬è¦ä½¿ç¨é¢åå¯¹è±¡çå½¢å¼å®ä¹è®¡ç®å¨ï¼ä¸ºäºå®ç°åç®æ³ä¹é´çè§£è¦ãæä»¬ä¸è¬ä¼è¿ä¹åï¼\n\n// è®¡ç®ç±»çåºç±»\n@setter\n@getter\npublic abstract class operation {\n    private double value1 = 0;\n    private double value2 = 0;\n    protected abstract double getresule();\n}\n\n//å æ³\npublic class operationadd extends operation {\n    @override\n    protected double getresule() {\n        return getvalue1() + getvalue2();\n    }\n}\n//åæ³\npublic class operationsub extends operation {\n    @override\n    protected double getresule() {\n        return getvalue1() - getvalue2();\n    }\n}\n//ä¹æ³\npublic class operationmul extends operation {\n    @override\n    protected double getresule() {\n        return getvalue1() * getvalue2();\n    }\n}\n//é¤æ³\npublic class operationdiv extends operation {\n    @override\n    protected double getresule() {\n        if (getvalue2() != 0) {\n            return getvalue1() / getvalue2();\n        }\n        throw new illegalargumentexception("é¤æ°ä¸è½ä¸ºé¶");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\nå½æä»¬è¦ä½¿ç¨è¿ä¸ªè®¡ç®å¨çæ¶åï¼åä¼è¿ä¹åï¼\n\npublic static void main(string[] args) {\n  //è®¡ç®ä¸¤æ°ä¹å\n  operationadd operationadd = new operationadd();\n  operationadd.setvalue1(1);\n  operationadd.setvalue2(2);\n  system.out.println("sum:"+operationadd.getresule());\n  //è®¡ç®ä¸¤æ°ä¹ç§¯\n  operationmul operationmul = new operationmul();\n  operationmul.setvalue1(3);\n  operationmul.setvalue2(5);\n  system.out.println("multiply:"+operationmul.getresule());\n  //è®¡ç®ä¸¤æ°ä¹å·®ããã\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næ³è¦ä½¿ç¨ä¸åçè¿ç®çæ¶åå°±è¦åå»ºä¸åçç±»ï¼å¹¶ä¸è¦æç¡®ç¥éè¯¥ç±»çåå­ãé£ä¹è¿ç§éå¤çåå»ºç±»çå·¥ä½å¶å®å¯ä»¥æ¾å°ä¸ä¸ªç»ä¸çç±»ä¸­å»ç®¡çãè¿æ ·çæ¹æ³æä»¬å°±å«åãç®åå·¥åæ¨¡å¼ãï¼å¨ç®åå·¥åæ¨¡å¼ä¸­ç¨äºåå»ºå®ä¾çæ¹æ³æ¯éæ(static)æ¹æ³ï¼å æ­¤ç®åå·¥åæ¨¡å¼åè¢«ç§°ä¸ºãéæå·¥åæ¹æ³ãæ¨¡å¼ããç®åå·¥åæ¨¡å¼æä»¥ä¸ä¼ç¹ï¼\n\nä¸ä¸ªè°ç¨èæ³åå»ºä¸ä¸ªå¯¹è±¡ï¼åªè¦ç¥éå¶åç§°å°±å¯ä»¥äºã å±è½äº§åçå·ä½å®ç°ï¼è°ç¨èåªå³å¿äº§åçæ¥å£ã\n\n\n# å®ä¹\n\næä¾ä¸ä¸ªåå»ºå¯¹è±¡å®ä¾çåè½ï¼èæ éå³å¿å¶å·ä½å®ç°ãè¢«åå»ºå®ä¾çç±»åå¯ä»¥æ¯æ¥å£ãæ½è±¡ç±»ï¼ä¹å¯ä»¥æ¯å·ä½çç±»ã\n\n\n# ç®åå·¥åæ¨¡å¼å®ç°æ¹å¼\n\næ²¡éªä½ ï¼ç®åå·¥åæ¨¡å¼ï¼çæ¯å ä¸ºç®åæè¢«å«åç®åå·¥åæ¨¡å¼çã\n\nç®åå·¥åæ¨¡å¼åå« 3 ä¸ªè§è²ï¼è¦ç´ ï¼ï¼\n\nfactoryï¼å³å·¥åç±»ï¼ ç®åå·¥åæ¨¡å¼çæ ¸å¿é¨åï¼è´è´£å®ç°åå»ºææäº§åçåé¨é»è¾ï¼å·¥åç±»å¯ä»¥è¢«å¤çç´æ¥è°ç¨ï¼åå»ºæéå¯¹è±¡ productï¼æ½è±¡ç±»äº§åï¼ å®æ¯å·¥åç±»æåå»ºçææå¯¹è±¡çç¶ç±»ï¼å°è£äºåç§äº§åå¯¹è±¡çå¬ææ¹æ³ï¼å®çå¼å¥å°æé«ç³»ç»ççµæ´»æ§ï¼ä½¿å¾å¨å·¥åç±»ä¸­åªéå®ä¹ä¸ä¸ªéç¨çå·¥åæ¹æ³ï¼å ä¸ºææåå»ºçå·ä½äº§åå¯¹è±¡é½æ¯å¶å­ç±»å¯¹è±¡ concreteproductï¼å·ä½äº§åï¼ å®æ¯ç®åå·¥åæ¨¡å¼çåå»ºç®æ ï¼ææè¢«åå»ºçå¯¹è±¡é½åå½è¿ä¸ªè§è²çæä¸ªå·ä½ç±»çå®ä¾ãå®è¦å®ç°æ½è±¡äº§åä¸­å£°æçæ½è±¡æ¹æ³\n\n\n# umlç±»å¾\n\n\n\n\n# å®ä¾\n\nç°å¨æä»¬å®ä¹ä¸ä¸ªå·¥åç±»ï¼å®å¯ä»¥æ ¹æ®åæ°çä¸åè¿åä¸åç±»çå®ä¾ï¼è¢«åå»ºçå®ä¾éå¸¸é½å·æå±åçç¶ç±»ã\n\n//å·¥åç±»\npublic class operationfactory {\n\n    public static operation createoperation(string operation) {\n        operation oper = null;\n        switch (operation) {\n            case "add":\n                oper = new operationadd();\n                break;\n            case "sub":\n                oper = new operationsub();\n                break;\n            case "mul":\n                oper = new operationmul();\n                break;\n\n            case "div":\n                oper = new operationdiv();\n                break;\n            default:\n                throw new unsupportedoperationexception("ä¸æ¯æè¯¥æä½");\n        }\n        return oper;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\næäºå·¥åç±»ä¹åï¼å¯ä»¥ä½¿ç¨å·¥ååå»ºå¯¹è±¡ï¼\n\npublic static void main(string[] args) {\n  operation operationadd = operationfactory.createoperation("add");\n  operationadd.setvalue1(1);\n  operationadd.setvalue2(2)\n  system.out.println(operationadd.getresule());\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\néè¿ç®åå·¥åæ¨¡å¼ï¼è¯¥è®¡ç®å¨çä½¿ç¨èä¸éè¦å³ç³»å®ç°å æ³é»è¾çé£ä¸ªç±»çå·ä½åå­ï¼åªè¦ç¥éè¯¥ç±»å¯¹åºçåæ°"add"å°±å¯ä»¥äºãè¿å°±ä½ç°äºä¹åæå°çå·¥åæ¨¡å¼çä¼ç¹ã\n\n\n# ç®åå·¥åæ¨¡å¼å­å¨çé®é¢\n\nå½æä»¬éè¦å¢å ä¸ç§è®¡ç®æ¶ï¼ä¾å¦å¼å¹³æ¹ãè¿ä¸ªæ¶åæä»¬éè¦åå®ä¹ä¸ä¸ªç±»ç»§æ¿operationç±»ï¼å¶ä¸­å®ç°å¹³æ¹çä»£ç ãé¤æ­¤ä¹å¤æä»¬è¿è¦ä¿®æ¹ operationfactory ç±»çä»£ç ï¼å¢å ä¸ä¸ª caseãè¿æ¾ç¶æ¯è¿èå¼é­ååçãå¯æ³èç¥å¯¹äºæ°äº§åçå å¥ï¼å·¥åç±»æ¯å¾è¢«å¨çã\n\næä»¬ä¸¾çä¾å­æ¯æç®åçæåµãèå¨å®éåºç¨ä¸­ï¼å¾å¯è½äº§åæ¯ä¸ä¸ªå¤å±æ¬¡çæ ç¶ç»æã ç®åå·¥åå¯è½å°±ä¸å¤ªéç¨äºã\n\n\n# ç®åå·¥åæ¨¡å¼æ»ç»\n\nå·¥åç±»æ¯æ´ä¸ªç®åå·¥åæ¨¡å¼çå³é®ãåå«äºå¿è¦çé»è¾å¤æ­ï¼æ ¹æ®å¤çç»å®çä¿¡æ¯ï¼å³å®ç©¶ç«åºè¯¥åå»ºåªä¸ªå·ä½ç±»çå¯¹è±¡ãéè¿ä½¿ç¨å·¥åç±»ï¼å¤çå¯ä»¥ä»ç´æ¥åå»ºå·ä½äº§åå¯¹è±¡çå°´å°¬å±é¢æè±åºæ¥ï¼ä»ä»éè¦è´è´£âæ¶è´¹âå¯¹è±¡å°±å¯ä»¥äºãèä¸å¿ç®¡è¿äºå¯¹è±¡ç©¶ç«å¦ä½åå»ºåå¦ä½ç»ç»çãæç¡®äºåèªçèè´£åæå©ï¼æå©äºæ´ä¸ªè½¯ä»¶ä½ç³»ç»æçä¼åã\n\nä½æ¯ç±äºå·¥åç±»éä¸­äºææå®ä¾çåå»ºé»è¾ï¼è¿åäºé«åèè´£ä»»åéååï¼å°å¨é¨åå»ºé»è¾éä¸­å°äºä¸ä¸ªå·¥åç±»ä¸­ï¼å®æè½åå»ºçç±»åªè½æ¯äºåèèå°çï¼å¦æéè¦æ·»å æ°çç±»ï¼åå°±éè¦æ¹åå·¥åç±»äºã\n\nå½ç³»ç»ä¸­çå·ä½äº§åç±»ä¸æ­å¢å¤æ¶åï¼å¯è½ä¼åºç°è¦æ±å·¥åç±»æ ¹æ®ä¸åæ¡ä»¶åå»ºä¸åå®ä¾çéæ±ï¼è¿ç§å¯¹æ¡ä»¶çå¤æ­åå¯¹å·ä½äº§åç±»åçå¤æ­äº¤éå¨ä¸èµ·ï¼å¾é¾é¿åæ¨¡ååè½çèå»¶ï¼å¯¹ç³»ç»çç»´æ¤åæ©å±éå¸¸ä¸å©ï¼\n\nä¸ºäºè§£å³è¿äºç¼ºç¹ï¼å°±æäºå·¥åæ¹æ³æ¨¡å¼ã\n\n\n# äºãå·¥åæ¹æ³æ¨¡å¼\n\næä»¬å¸¸è¯´çå·¥åæ¨¡å¼ï¼å°±æ¯æãå·¥åæ¹æ³æ¨¡å¼ãï¼ä¹å«ãèææé å¨æ¨¡å¼ãæãå¤æå·¥åæ¨¡å¼ãã\n\n\n# 2.1 å®ä¹\n\nå®ä¹ä¸ä¸ªåå»ºå¯¹è±¡çæ¥å£ï¼ä½è®©å®ç°è¿ä¸ªæ¥å£çç±»æ¥å³å®å®ä¾ååªä¸ªç±»ãå·¥åæ¹æ³è®©ç±»çå®ä¾åæ¨è¿å°å­ç±»ä¸­è¿è¡ã\n\n\n# 2.2 å·¥åæ¹æ³æ¨¡å¼å®ç°æ¹å¼\n\nå·¥åæ¹æ³æ¨¡å¼åå« 4 ä¸ªè§è²ï¼è¦ç´ ï¼ï¼\n\nproductï¼æ½è±¡äº§åï¼å®ä¹å·¥åæ¹æ³æåå»ºçå¯¹è±¡çæ¥å£ï¼ä¹å°±æ¯å®ééè¦ä½¿ç¨çå¯¹è±¡çæ¥å£ concreteproductï¼å·ä½äº§åï¼å·ä½çproductæ¥å£çå®ç°å¯¹è±¡ factoryï¼å·¥åæ¥å£ï¼ä¹å¯ä»¥å« creator(åå»ºå¨)ï¼ç³æå·¥åæ¹æ³ï¼éå¸¸è¿åä¸ä¸ª product ç±»åçå®ä¾å¯¹è±¡ concretefactoryï¼å·¥åå®ç°ï¼æèå« concretecreator(åå»ºå¨å¯¹è±¡)ï¼è¦ç factory å®ä¹çå·¥åæ¹æ³ï¼è¿åå·ä½ç product å®ä¾\n\n\n# umlç±»å¾\n\n\n\n\n# å®ä¾\n\nä» uml ç±»å¾å¯ä»¥çåºï¼æ¯ç§äº§åå®ç°ï¼æä»¬é½è¦å¢å ä¸ä¸ªç»§æ¿äºå·¥åæ¥å£ ifactory çå·¥åç±» factory ï¼ä¿®æ¹ç®åå·¥åæ¨¡å¼ä»£ç ä¸­çå·¥åç±»å¦ä¸ï¼\n\n//å·¥åæ¥å£\npublic interface ifactory {\n    operation createoption();\n}\n\n//å æ³ç±»å·¥å\npublic class addfactory implements ifactory {\n    public operation createoption() {\n        return new operationadd();\n    }\n}\n\n//åæ³ç±»å·¥å\npublic class subfactory implements ifactory {\n    public operation createoption() {\n        return new operationsub();\n    }\n}\n\n//ä¹æ³ç±»å·¥å\npublic class mulfactory implements ifactory {\n    public operation createoption() {\n        return new operationmul();\n    }\n}\n\n//é¤æ³ç±»å·¥å\npublic class divfactory implements ifactory {\n    public operation createoption() {\n        return new operationdiv();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nè¿æ¶ï¼æä»¬ä½¿ç¨è®¡ç®å¨çæ¶åï¼è¦ä¸ºæ¯ç§è¿ç®æ¹æ³å¢å ä¸ä¸ªå·¥åå¯¹è±¡\n\npublic class client {\n    public static void main(string[] args) {\n      //åæ³\n      ifactory subfactory = new subfactory();\n      operation operationsub =  subfactory.createoption();\n      operationsub.setvalue1(22);\n      operationsub.setvalue2(20);\n      system.out.println("sub:"+operationsub.getresult());\n      //é¤æ³\n      ifactory divfactory = new divfactory();\n      operation operationdiv =  divfactory.createoption();\n      operationdiv.setvalue1(99);\n      operationdiv.setvalue2(33);\n      system.out.println("div:"+operationsub.getresult());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nçº³å°¼ï¼è¿ä¸æ¯æ´å¤æäºåï¼æ¯ä¸ªäº§åå¯¹åºä¸ä¸ªå·¥åï¼æåä¸æ¯æä»£ç éèµé±çããã\n\n\n# 2.3 å·¥åæ¹æ³æ¨¡å¼éç¨åºæ¯\n\nå·¥åæ¹æ³æ¨¡å¼åç®åå·¥åæ¨¡å¼è½ç¶é½æ¯éè¿å·¥åæ¥åå»ºå¯¹è±¡ï¼ä»ä»¬ä¹é´æå¤§çä¸åæ¯ââå·¥åæ¹æ³æ¨¡å¼å¨è®¾è®¡ä¸å®å¨å®å¨ç¬¦åâå¼é­ååâã\n\nå¨ä»¥ä¸æåµä¸å¯ä»¥ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ï¼\n\nä¸ä¸ªç±»ä¸ç¥éå®æéè¦çå¯¹è±¡çç±»ï¼å¨å·¥åæ¹æ³æ¨¡å¼ä¸­ï¼å®¢æ·ç«¯ä¸éè¦ç¥éå·ä½äº§åç±»çç±»åï¼åªéè¦ç¥éæå¯¹åºçå·¥åå³å¯ï¼å·ä½çäº§åå¯¹è±¡ç±å·ä½å·¥åç±»åå»ºï¼å®¢æ·ç«¯éè¦ç¥éåå»ºå·ä½äº§åçå·¥åç±»ã ä¸ä¸ªç±»éè¿å¶å­ç±»æ¥æå®åå»ºåªä¸ªå¯¹è±¡ï¼å¨å·¥åæ¹æ³æ¨¡å¼ä¸­ï¼å¯¹äºæ½è±¡å·¥åç±»åªéè¦æä¾ä¸ä¸ªåå»ºäº§åçæ¥å£ï¼èç±å¶å­ç±»æ¥ç¡®å®å·ä½è¦åå»ºçå¯¹è±¡ï¼å©ç¨é¢åå¯¹è±¡çå¤ææ§åéæ°ä»£æ¢ååï¼å¨ç¨åºè¿è¡æ¶ï¼å­ç±»å¯¹è±¡å°è¦çç¶ç±»å¯¹è±¡ï¼ä»èä½¿å¾ç³»ç»æ´å®¹ææ©å±ã å°åå»ºå¯¹è±¡çä»»å¡å§æç»å¤ä¸ªå·¥åå­ç±»ä¸­çæä¸ä¸ªï¼å®¢æ·ç«¯å¨ä½¿ç¨æ¶å¯ä»¥æ é¡»å³å¿æ¯åªä¸ä¸ªå·¥åå­ç±»åå»ºäº§åå­ç±»ï¼éè¦æ¶åå¨ææå®ï¼å¯å°å·ä½å·¥åç±»çç±»åå­å¨å¨éç½®æä»¶ææ°æ®åºä¸­ã ä½¿ç¨åºæ¯ æ¥å¿è®°å½å¨ï¼æ¥å¿å¯è½è®°å½å°æ¬å°ç¡¬çãç³»ç»äºä»¶ãè¿ç¨æå¡å¨ç­ï¼ç¨æ·å¯ä»¥éæ©è®°å½æ¥å¿å°ä»ä¹å°æ¹ã æ°æ®åºè®¿é®ï¼å½ç¨æ·ä¸ç¥éæåç³»ç»éç¨åªä¸ç±»æ°æ®åºï¼ä»¥åæ°æ®åºå¯è½æååæ¶ã è®¾è®¡ä¸ä¸ªè¿æ¥æå¡å¨çæ¡æ¶ï¼éè¦ä¸ä¸ªåè®®ï¼"pop3"ã"imap"ã"http"ï¼å¯ä»¥æè¿ä¸ä¸ªä½ä¸ºäº§åç±»ï¼å±åå®ç°ä¸ä¸ªæ¥å£ã æ¯å¦ hibernate æ¢æ°æ®åºåªéæ¢æ¹è¨åé©±å¨å°±å¯ä»¥\n\n\n# 2.4 å·¥åæ¹æ³æ¨¡å¼æ»ç»\n\nå·¥åæ¹æ³æ¨¡å¼æ¯ç®åå·¥åæ¨¡å¼çè¿ä¸æ­¥æ½è±¡åæ¨å¹¿ã\n\nç±äºä½¿ç¨äºé¢åå¯¹è±¡çå¤ææ§ï¼å·¥åæ¹æ³æ¨¡å¼ä¿æäºç®åå·¥åæ¨¡å¼çä¼ç¹ï¼èä¸åæäºå®çç¼ºç¹ã\n\nå¨å·¥åæ¹æ³æ¨¡å¼ä¸­ï¼æ ¸å¿çå·¥åç±»ä¸åè´è´£ææäº§åçåå»ºï¼èæ¯å°å·ä½åå»ºå·¥ä½äº¤ç»å­ç±»å»åãè¿ä¸ªæ ¸å¿ç±»ä»ä»è´è´£ç»åºå·ä½å·¥åå¿é¡»å®ç°çæ¥å£ï¼èä¸è´è´£äº§åç±»è¢«å®ä¾åè¿ç§ç»èï¼è¿ä½¿å¾å·¥åæ¹æ³æ¨¡å¼å¯ä»¥åè®¸ç³»ç»å¨ä¸ä¿®æ¹å·¥åè§è²çæåµä¸å¼è¿æ°äº§åã\n\nä¼ç¹ï¼\n\nä¸ä¸ªè°ç¨èæ³åå»ºä¸ä¸ªå¯¹è±¡ï¼åªè¦ç¥éå¶åç§°å°±å¯ä»¥äºã æ©å±æ§é«ï¼å¦ææ³å¢å ä¸ä¸ªäº§åï¼åªè¦æ©å±ä¸ä¸ªå·¥åç±»å°±å¯ä»¥ã å±è½äº§åçå·ä½å®ç°ï¼è°ç¨èåªå³å¿äº§åçæ¥å£ã ç¼ºç¹ï¼\n\næ¯æ¬¡å¢å ä¸ä¸ªäº§åæ¶ï¼é½éè¦å¢å ä¸ä¸ªå·ä½ç±»åå¯¹è±¡å®ç°å·¥åï¼ä½¿å¾ç³»ç»ä¸­ç±»çä¸ªæ°æåå¢å ï¼å¨ä¸å®ç¨åº¦ä¸å¢å äºç³»ç»çå¤æåº¦ï¼åæ¶ä¹å¢å äºç³»ç»å·ä½ç±»çä¾èµãè¿å¹¶ä¸æ¯ä»ä¹å¥½äºã\n\n\n# ä¸ãæ½è±¡å·¥åæ¨¡å¼\n\nå·¥åæ¹æ³æ¨¡å¼éè¿å¼å¥å·¥åç­çº§ç»æï¼è§£å³äºç®åå·¥åæ¨¡å¼ä¸­å·¥åç±»èè´£å¤ªéçé®é¢ï¼ä½ç±äºå·¥åæ¹æ³æ¨¡å¼ä¸­çæ¯ä¸ªå·¥ååªçäº§ä¸ç±»äº§åï¼å¯è½ä¼å¯¼è´ç³»ç»ä¸­å­å¨å¤§éçå·¥åç±»ï¼å¿å¿ä¼å¢å ç³»ç»çå¼éãæ­¤æ¶ï¼æä»¬å¯ä»¥èèå°ä¸äºç¸å³çäº§åç»æä¸ä¸ªâäº§åæâï¼ç±åä¸ä¸ªå·¥åæ¥ç»ä¸çäº§ï¼è¿å°±æ¯æ½è±¡å·¥åæ¨¡å¼çåºæ¬ææ³ã\n\n\n# 3.1 å®ä¹\n\nä¸ºåå»ºä¸ç»ç¸å³æç¸äºä¾èµçå¯¹è±¡æä¾ä¸ä¸ªæ¥å£ï¼èä¸æ éæå®ä»ä»¬çå·ä½ç±»ã\n\næ½è±¡å·¥å(abstract factory)æ¨¡å¼ï¼åç§°å·¥å·ç®±(kit ætoolkit)æ¨¡å¼ã\n\n\n# 3.2 æ½è±¡å·¥åæ¨¡å¼å®ç°æ¹å¼\n\næ½è±¡å·¥åæ¨¡å¼æ¯å·¥åæ¹æ³æ¨¡å¼çåçº§çæ¬ï¼ä»ç¨æ¥åå»ºä¸ç»ç¸å³æèç¸äºä¾èµçå¯¹è±¡ãä»ä¸å·¥åæ¹æ³æ¨¡å¼çåºå«å°±å¨äºï¼å·¥åæ¹æ³æ¨¡å¼éå¯¹çæ¯ä¸ä¸ªäº§åç­çº§ç»æï¼èæ½è±¡å·¥åæ¨¡å¼åæ¯éå¯¹çå¤ä¸ªäº§åç­çº§ç»æãå¨ç¼ç¨ä¸­ï¼éå¸¸ä¸ä¸ªäº§åç»æï¼è¡¨ç°ä¸ºä¸ä¸ªæ¥å£æèæ½è±¡ç±»ï¼ä¹å°±æ¯è¯´ï¼å·¥åæ¹æ³æ¨¡å¼æä¾çææäº§åé½æ¯è¡çèªåä¸ä¸ªæ¥å£ææ½è±¡ç±»ï¼èæ½è±¡å·¥åæ¨¡å¼ææä¾çäº§ååæ¯è¡çèªä¸åçæ¥å£ææ½è±¡ç±»ã\n\nå¨æ½è±¡å·¥åæ¨¡å¼ä¸­ï¼æä¸ä¸ªäº§åæçæ¦å¿µï¼æè°çäº§åæï¼æ¯æä½äºä¸åäº§åç­çº§ç»æä¸­åè½ç¸å³èçäº§åç»æçå®¶æãæ½è±¡å·¥åæ¨¡å¼ææä¾çä¸ç³»åäº§åå°±ç»æä¸ä¸ªäº§åæï¼èå·¥åæ¹æ³æä¾çä¸ç³»åäº§åç§°ä¸ºä¸ä¸ªç­çº§ç»æã\n\nä¹æ²¡éªä½ ï¼æ½è±¡å·¥åæ¨¡å¼ç¡®å®æ¯æ½è±¡ã\n\næ½è±¡å·¥åæ¨¡å¼åå«çè§è²ï¼è¦ç´ ï¼ï¼\n\nabstractfactoryï¼æ½è±¡å·¥åï¼ç¨äºå£°æçææ½è±¡äº§åçæ¹æ³ concretefactoryï¼å·ä½å·¥åï¼å®ç°æ½è±¡å·¥åå®ä¹çæ¹æ³ï¼å·ä½å®ç°ä¸ç³»åäº§åå¯¹è±¡çåå»º abstractproductï¼æ½è±¡äº§åï¼å®ä¹ä¸ç±»äº§åå¯¹è±¡çæ¥å£ concreteproductï¼å·ä½äº§åï¼éå¸¸å¨å·ä½å·¥åéï¼ä¼éæ©å·ä½çäº§åå®ç°ï¼æ¥åå»ºç¬¦åæ½è±¡å·¥åå®ä¹çæ¹æ³è¿åçäº§åç±»åçå¯¹è±¡ã clientï¼å®¢æ·ç«¯ï¼ä½¿ç¨æ½è±¡å·¥åæ¥è·åä¸ç³»åæéè¦çäº§åå¯¹è±¡\n\n\n# umlç±»å¾\n\n\n# å®ä¾\n\nææç»´åºç¾ç§çä¾å­æ¹ä¸ç¨äºçè§£ï¼åè®¾æä»¬è¦çäº§ä¸¤ç§äº§åï¼é®çï¼keyboardï¼åé¼ æ ï¼mouseï¼ ï¼æ¯ä¸ç§äº§åé½æ¯æå¤ç§ç³»åï¼æ¯å¦ mac ç³»åå windows ç³»åãè¿æ ·æ¯ä¸ªç³»åçäº§ååå«æ¯ mackeyboard winkeyboard, macmouse, winmouse ãä¸ºäºå¯ä»¥å¨è¿è¡æ¶å»åå»ºä¸ä¸ªç³»åçäº§åæï¼æä»¬å¯ä»¥ä¸ºæ¯ä¸ªç³»åçäº§åæåå»ºä¸ä¸ªå·¥å macfactory å winfactory ãæ¯ä¸ªå·¥åé½æä¸¤ä¸ªæ¹æ³ createmouse å createkeyboard å¹¶è¿åå¯¹åºçäº§åï¼å¯ä»¥å°è¿ä¸¤ä¸ªæ¹æ³æ½è±¡æä¸ä¸ªæ¥å£ hardware ãè¿æ ·å¨è¿è¡æ¶å»æä»¬å¯ä»¥éæ©åå»ºéè¦çäº§åç³»åã\n\næ½è±¡äº§å\n\npublic interface keyboard {\n  void input();\n}\npublic interface mouse {\n  void click();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå·ä½äº§å\n\n//å·ä½äº§å\n\npublic class mackeyboard implements keyboard {\n    @override\n    public void input() {\n        system.out.println("mac ä¸ç¨é®ç");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class macmouse implements mouse {\n    @override\n    public void click() {\n        system.out.println("mac ä¸ç¨é¼ æ ");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class winkeyboard implements keyboard {\n    @override\n    public void input() {\n        system.out.println("win ä¸ç¨é®ç");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class winmouse implements mouse {\n    @override\n    public void click() {\n        system.out.println("win ä¸ç¨é¼ æ ");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ½è±¡å·¥å\n\npublic interface hardware {\n     keyboard createkyeboard();\n     mouse createmouse();\n}\n\n\n1\n2\n3\n4\n\n\nå·ä½çå·¥åç±»\n\npublic class macfactory implements hardware{\n    @override\n    public keyboard createkyeboard() {\n        return new mackeyboard();\n    }\n\n    @override\n    public mouse createmouse() {\n        return new macmouse();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\npublic class winfactory implements hardware{\n    @override\n    public keyboard createkyeboard() {\n        return new winkeyboard();\n    }\n\n    @override\n    public mouse createmouse() {\n        return new winmouse();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä½¿ç¨\n\npublic class client {\n  public static void main(string[] args) {\n    hardware macfactory = new macfactory();\n    keyboard keyboard = macfactory.createkyeboard();\n    keyboard.input();   //mac ä¸ç¨é®ç\n\n    hardware winfactory = new winfactory();\n    mouse mouse = winfactory.createmouse();\n    mouse.click();  //win ä¸ç¨é¼ æ \n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 3.3 æ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯\n\næ½è±¡å·¥åæ¨¡å¼åå·¥åæ¹æ³æ¨¡å¼ä¸æ ·ï¼é½ç¬¦åå¼é­ååãä½æ¯ä¸åçæ¯ï¼å·¥åæ¹æ³æ¨¡å¼å¨å¢å ä¸ä¸ªå·ä½äº§åçæ¶åï¼é½è¦å¢å å¯¹åºçå·¥åãä½æ¯æ½è±¡å·¥åæ¨¡å¼åªæå¨æ°å¢ä¸ä¸ªç±»åçå·ä½äº§åæ¶æéè¦æ°å¢å·¥åãä¹å°±æ¯è¯´ï¼å·¥åæ¹æ³æ¨¡å¼çä¸ä¸ªå·¥ååªè½åå»ºä¸ä¸ªå·ä½äº§åãèæ½è±¡å·¥åæ¨¡å¼çä¸ä¸ªå·¥åå¯ä»¥åå»ºå±äºä¸ç±»ç±»åçå¤ç§å·ä½äº§åãå·¥ååå»ºäº§åçä¸ªæ°ä»äºç®åå·¥åæ¨¡å¼åå·¥åæ¹æ³æ¨¡å¼ä¹é´ã\n\nå¨ä»¥ä¸æåµä¸å¯ä»¥ä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ï¼\n\nä¸ä¸ªç³»ç»ä¸åºå½ä¾èµäºäº§åç±»å®ä¾å¦ä½è¢«åå»ºãç»ååè¡¨è¾¾çç»èï¼è¿å¯¹äºææç±»åçå·¥åæ¨¡å¼é½æ¯éè¦çã ç³»ç»ä¸­æå¤äºä¸ä¸ªçäº§åæï¼èæ¯æ¬¡åªä½¿ç¨å¶ä¸­æä¸äº§åæã å±äºåä¸ä¸ªäº§åæçäº§åå°å¨ä¸èµ·ä½¿ç¨ï¼è¿ä¸çº¦æå¿é¡»å¨ç³»ç»çè®¾è®¡ä¸­ä½ç°åºæ¥ã ç³»ç»ç»æç¨³å®ï¼ä¸ä¼é¢ç¹çå¢å å¯¹è±¡ã âå¼é­ååâçå¾ææ§\n\nå¨æ½è±¡å·¥åæ¨¡å¼ä¸­ï¼å¢å æ°çäº§åæå¾æ¹ä¾¿ï¼ä½æ¯å¢å æ°çäº§åç­çº§ç»æå¾éº»ç¦ï¼æ½è±¡å·¥åæ¨¡å¼çè¿ç§æ§è´¨ç§°ä¸º**âå¼é­ååâçå¾ææ§**ãâå¼é­ååâè¦æ±ç³»ç»å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å°é­ï¼éè¿æ©å±è¾¾å°å¢å¼ºå¶åè½çç®çï¼å¯¹äºæ¶åå°å¤ä¸ªäº§åæä¸å¤ä¸ªäº§åç­çº§ç»æçç³»ç»ï¼å¶åè½å¢å¼ºåæ¬ä¸¤æ¹é¢ï¼\n\nå¢å äº§åæï¼å¯¹äºå¢å æ°çäº§åæï¼å·¥åæ¹æ³æ¨¡å¼å¾å¥½çæ¯æäºâå¼é­ååâï¼å¯¹äºæ°å¢å çäº§åæï¼åªéè¦å¯¹åºå¢å ä¸ä¸ªæ°çå·ä½å·¥åå³å¯ï¼å¯¹å·²æä»£ç æ é¡»åä»»ä½ä¿®æ¹ã å¢å æ°çäº§åç­çº§ç»æï¼å¯¹äºå¢å æ°çäº§åç­çº§ç»æï¼éè¦ä¿®æ¹ææçå·¥åè§è²ï¼åæ¬æ½è±¡å·¥åç±»ï¼å¨ææçå·¥åç±»ä¸­é½éè¦å¢å çäº§æ°äº§åçæ¹æ³ï¼è¿èäºâå¼é­ååâã æ­£å ä¸ºæ½è±¡å·¥åæ¨¡å¼å­å¨âå¼é­ååâçå¾ææ§ï¼å®ä»¥ä¸ç§å¾æçæ¹å¼æ¥æ»¡è¶³âå¼é­ååâï¼ä¸ºå¢å æ°äº§åææä¾æ¹ä¾¿ï¼ä½ä¸è½ä¸ºå¢å æ°äº§åç»ææä¾è¿æ ·çæ¹ä¾¿ï¼å æ­¤è¦æ±è®¾è®¡äººåå¨è®¾è®¡ä¹åå°±è½å¤å¨é¢èèï¼ä¸ä¼å¨è®¾è®¡å®æä¹ååç³»ç»ä¸­å¢å æ°çäº§åç­çº§ç»æï¼ä¹ä¸ä¼å é¤å·²æçäº§åç­çº§ç»æï¼å¦åå°ä¼å¯¼è´ç³»ç»åºç°è¾å¤§çä¿®æ¹ï¼ä¸ºåç»­ç»´æ¤å·¥ä½å¸¦æ¥è¯¸å¤éº»ç¦ã\n\n\n# 3.4 æ½è±¡å·¥åæ¨¡å¼æ»ç»\n\næ½è±¡å·¥åæ¨¡å¼æ¯å·¥åæ¹æ³æ¨¡å¼çè¿ä¸æ­¥å»¶ä¼¸ï¼ç±äºå®æä¾äºåè½æ´ä¸ºå¼ºå¤§çå·¥åç±»å¹¶ä¸å·å¤è¾å¥½çå¯æ©å±æ§ï¼å¨è½¯ä»¶å¼åä¸­å¾ä»¥å¹¿æ³åºç¨ï¼å°¤å¶æ¯å¨ä¸äºæ¡æ¶åapiç±»åºçè®¾è®¡ä¸­ï¼ä¾å¦å¨javaè¯­è¨çawtï¼æ½è±¡çªå£å·¥å·åï¼ä¸­å°±ä½¿ç¨äºæ½è±¡å·¥åæ¨¡å¼ï¼å®ä½¿ç¨æ½è±¡å·¥åæ¨¡å¼æ¥å®ç°å¨ä¸åçæä½ç³»ç»ä¸­åºç¨ç¨åºåç°ä¸æå¨æä½ç³»ç»ä¸è´çå¤è§çé¢ãæ½è±¡å·¥åæ¨¡å¼ä¹æ¯å¨è½¯ä»¶å¼åä¸­æå¸¸ç¨çè®¾è®¡æ¨¡å¼ä¹ä¸ã\n\nä¼ç¹ï¼\n\næ½è±¡å·¥åæ¨¡å¼éç¦»äºå·ä½ç±»ççæï¼ä½¿å¾å®¢æ·å¹¶ä¸éè¦ç¥éä»ä¹è¢«åå»ºãç±äºè¿ç§éç¦»ï¼æ´æ¢ä¸ä¸ªå·ä½å·¥åå°±åå¾ç¸å¯¹å®¹æï¼ææçå·ä½å·¥åé½å®ç°äºæ½è±¡å·¥åä¸­å®ä¹çé£äºå¬å±æ¥å£ï¼å æ­¤åªéæ¹åå·ä½å·¥åçå®ä¾ï¼å°±å¯ä»¥å¨æç§ç¨åº¦ä¸æ¹åæ´ä¸ªè½¯ä»¶ç³»ç»çè¡ä¸ºã å½ä¸ä¸ªäº§åæä¸­çå¤ä¸ªå¯¹è±¡è¢«è®¾è®¡æä¸èµ·å·¥ä½æ¶ï¼å®è½å¤ä¿è¯å®¢æ·ç«¯å§ç»åªä½¿ç¨åä¸ä¸ªäº§åæä¸­çå¯¹è±¡ã å¢å æ°çäº§åæå¾æ¹ä¾¿ï¼æ é¡»ä¿®æ¹å·²æç³»ç»ï¼ç¬¦åâå¼é­ååâã ç¼ºç¹ï¼\n\nå¢å æ°çäº§åç­çº§ç»æéº»ç¦ï¼éè¦å¯¹åæç³»ç»è¿è¡è¾å¤§çä¿®æ¹ï¼çè³éè¦ä¿®æ¹æ½è±¡å±ä»£ç ï¼è¿æ¾ç¶ä¼å¸¦æ¥è¾å¤§çä¸ä¾¿ï¼è¿èäºâå¼é­ååâã\n\n\n# å·¥åæ¨¡å¼çéå\n\nå½æ½è±¡å·¥åæ¨¡å¼ä¸­æ¯ä¸ä¸ªå·ä½å·¥åç±»åªåå»ºä¸ä¸ªäº§åå¯¹è±¡ï¼ä¹å°±æ¯åªå­å¨ä¸ä¸ªäº§åç­çº§ç»ææ¶ï¼æ½è±¡å·¥åæ¨¡å¼éåæå·¥åæ¹æ³æ¨¡å¼ï¼å½å·¥åæ¹æ³æ¨¡å¼ä¸­æ½è±¡å·¥åä¸å·ä½å·¥ååå¹¶ï¼æä¾ä¸ä¸ªç»ä¸çå·¥åæ¥åå»ºäº§åå¯¹è±¡ï¼å¹¶å°åå»ºå¯¹è±¡çå·¥åæ¹æ³è®¾è®¡ä¸ºéææ¹æ³æ¶ï¼å·¥åæ¹æ³æ¨¡å¼éåæç®åå·¥åæ¨¡å¼ã\n\n\n# åãæä»¬èº«è¾¹çå·¥åæ¨¡å¼\n\nå·¥åæ¨¡å¼å¨javaç åèº«è¾¹çæ¯æ å¤ä¸å¨ï¼ä¸ä¿¡æå¼ä½ çé¡¹ç®ï¼æç´¢ factory\n\næä»¬æå¸¸ç¨ç spring å°±æ¯ä¸ä¸ªæå¤§ç bean å·¥åï¼ioc éè¿beanfactoryå¯¹bean è¿è¡ç®¡çã\n\næä»¬ä½¿ç¨çæ¥å¿é¨é¢æ¡æ¶slf4jï¼ç¹è¿å»å°±å¯ä»¥çå°çæçå³é\n\nprivate final static logger logger = loggerfactory.getlogger(helloword.class); jdk ç calendar ä½¿ç¨äºç®åå·¥åæ¨¡å¼\n\n calendar calendar = calendar.getinstance();\n\n\n1\n\n\n> åè\n> https://javakeeper.starfish.ink/design-pattern/factory-pattern.html',charsets:{cjk:!0},lastUpdated:"2022/09/20, 22:28:30",lastUpdatedTimestamp:166368411e4},{title:"ç®è¿°è£é¥°èæ¨¡å¼",frontmatter:{title:"ç®è¿°è£é¥°èæ¨¡å¼",date:"2022-05-21T17:26:42.000Z",permalink:"/pages/47a4e3/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/005.%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/005.è£é¥°èæ¨¡å¼.md",key:"v-22a9eaef",path:"/pages/47a4e3/",headers:[{level:2,title:"æ¨¡å¼å¨æº",slug:"æ¨¡å¼å¨æº",normalizedTitle:"æ¨¡å¼å¨æº",charIndex:186},{level:2,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:489},{level:2,title:"è§è²",slug:"è§è²",normalizedTitle:"è§è²",charIndex:632},{level:2,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:1194},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:1203},{level:2,title:"åºç¨",slug:"åºç¨",normalizedTitle:"åºç¨",charIndex:3775},{level:3,title:"Java I/O ä¸­çè£é¥°èæ¨¡å¼",slug:"java-i-o-ä¸­çè£é¥°èæ¨¡å¼",normalizedTitle:"java i/o ä¸­çè£é¥°èæ¨¡å¼",charIndex:3782},{level:3,title:"Servlet ä¸­çè£é¥°èæ¨¡å¼",slug:"servlet-ä¸­çè£é¥°èæ¨¡å¼",normalizedTitle:"servlet ä¸­çè£é¥°èæ¨¡å¼",charIndex:4933},{level:3,title:"spring ä¸­çè£é¥°èæ¨¡å¼",slug:"spring-ä¸­çè£é¥°èæ¨¡å¼",normalizedTitle:"spring ä¸­çè£é¥°èæ¨¡å¼",charIndex:5565},{level:3,title:"Mybatis ç¼å­ä¸­çè£é¥°èæ¨¡å¼",slug:"mybatis-ç¼å­ä¸­çè£é¥°èæ¨¡å¼",normalizedTitle:"mybatis ç¼å­ä¸­çè£é¥°èæ¨¡å¼",charIndex:6062},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:6192},{level:2,title:"ä¼ç¼ºç¹",slug:"ä¼ç¼ºç¹",normalizedTitle:"ä¼ç¼ºç¹",charIndex:6300},{level:2,title:"ä½æ¶éç¨",slug:"ä½æ¶éç¨",normalizedTitle:"ä½æ¶éç¨",charIndex:6776}],headersStr:"æ¨¡å¼å¨æº å®ä¹ è§è² ç±»å¾ å®ä¾ åºç¨ Java I/O ä¸­çè£é¥°èæ¨¡å¼ Servlet ä¸­çè£é¥°èæ¨¡å¼ spring ä¸­çè£é¥°èæ¨¡å¼ Mybatis ç¼å­ä¸­çè£é¥°èæ¨¡å¼ æ»ç» ä¼ç¼ºç¹ ä½æ¶éç¨",content:'ãHead First è®¾è®¡æ¨¡å¼ãä¸­æ¯è¿ä¹å½¢å®¹è£é¥°èæ¨¡å¼çâââç»ç±ç¨ç»§æ¿çäººä¸ä¸ªå¨æ°çè®¾è®¡ç¼çâï¼æç»ç»§æ¿æ»¥ç¨ï¼ä»è£é¥°èæ¨¡å¼å¼å§ã\n\nè£é¥°èæ¨¡å¼åè®¸åä¸ä¸ªç°æçå¯¹è±¡æ·»å æ°çåè½ï¼åæ¶åä¸æ¹åå¶ç»æãè¿ç§ç±»åçè®¾è®¡æ¨¡å¼å±äºç»æåæ¨¡å¼ï¼å®æ¯ä½ä¸ºç°æçç±»çä¸ä¸ªåè£ã\n\nè¿ç§æ¨¡å¼åå»ºäºä¸ä¸ªè£é¥°ç±»ï¼ç¨æ¥åè£åæçç±»ï¼å¹¶å¨ä¿æç±»æ¹æ³ç­¾åå®æ´æ§çåæä¸ï¼æä¾äºé¢å¤çåè½ã\n\n\n# æ¨¡å¼å¨æº\n\nä¸è¬æä¸¤ç§æ¹å¼å¯ä»¥å®ç°ç»ä¸ä¸ªç±»æå¯¹è±¡å¢å è¡ä¸ºï¼\n\n * ç»§æ¿æºå¶ï¼ä½¿ç¨ç»§æ¿æºå¶æ¯ç»ç°æç±»æ·»å åè½çä¸ç§ææéå¾ï¼éè¿ç»§æ¿ä¸ä¸ªç°æç±»å¯ä»¥ä½¿å¾å­ç±»å¨æ¥æèªèº«æ¹æ³çåæ¶è¿æ¥æç¶ç±»çæ¹æ³ãä½æ¯è¿ç§æ¹æ³æ¯éæçï¼ç¨æ·ä¸è½æ§å¶å¢å è¡ä¸ºçæ¹å¼åæ¶æºã\n\n * å³èæºå¶ï¼å³å°ä¸ä¸ªç±»çå¯¹è±¡åµå¥å¦ä¸ä¸ªå¯¹è±¡ä¸­ï¼ç±å¦ä¸ä¸ªå¯¹è±¡æ¥å³å®æ¯å¦è°ç¨åµå¥å¯¹è±¡çè¡ä¸ºä»¥ä¾¿æ©å±èªå·±çè¡ä¸ºï¼æä»¬ç§°è¿ä¸ªåµå¥çå¯¹è±¡ä¸ºè£é¥°å¨(Decorator)\n\nè£é¥°æ¨¡å¼ä»¥å¯¹å®¢æ·éæçæ¹å¼å¨æå°ç»ä¸ä¸ªå¯¹è±¡éå ä¸æ´å¤çè´£ä»»ï¼æ¢è¨ä¹ï¼å®¢æ·ç«¯å¹¶ä¸ä¼è§å¾å¯¹è±¡å¨è£é¥°ååè£é¥°åæä»ä¹ä¸åãè£é¥°æ¨¡å¼å¯ä»¥å¨ä¸éè¦åé æ´å¤å­ç±»çæåµä¸ï¼å°å¯¹è±¡çåè½å ä»¥æ©å±ã\n\n\n# å®ä¹\n\nè£é¥°æ¨¡å¼(Decorator Pattern) ï¼å¨æå°ç»ä¸ä¸ªå¯¹è±¡å¢å ä¸äºé¢å¤çèè´£(Responsibility)ï¼å°±å¢å å¯¹è±¡åè½æ¥è¯´ï¼è£é¥°æ¨¡å¼æ¯çæå­ç±»ï¼ç»§æ¿ï¼å®ç°æ´ä¸ºçµæ´»ãå¶å«åä¹å¯ä»¥ç§°ä¸ºåè£å¨(Wrapper)ï¼ä¸ééå¨æ¨¡å¼çå«åç¸åï¼ä½å®ä»¬éç¨äºä¸åçåºåã\n\n\n# è§è²\n\n * Componentï¼ æ½è±¡ç»ä»¶ï¼è£é¥°èåè¢«è£é¥°èå±åçç¶ç±»ï¼æ¯ä¸ä¸ªæ¥å£æèæ½è±¡ç±»ï¼ç¨æ¥å®ä¹åºæ¬è¡ä¸ºï¼å¯ä»¥ç»è¿äºå¯¹è±¡å¨ææ·»å èè´£\n\n * ConcreteComponentï¼ å·ä½çç»ä»¶å¯¹è±¡ï¼å®ç°ç±» ï¼å³è¢«è£é¥°èï¼éå¸¸å°±æ¯è¢«è£é¥°å¨è£é¥°çåå§å¯¹è±¡ï¼ä¹å°±æ¯å¯ä»¥ç»è¿ä¸ªå¯¹è±¡æ·»å èè´£\n\n * Decoratorï¼ ææè£é¥°å¨çæ½è±¡ç¶ç±»ï¼ä¸è¬æ¯æ½è±¡ç±»ï¼å®ç°æ¥å£ï¼å®çå±æ§å¿ç¶æä¸ªæå Conponent æ½è±¡ç»ä»¶çå¯¹è±¡ ï¼å¶å®å°±æ¯ææä¸ä¸ªè¢«è£é¥°çå¯¹è±¡\n\n * ConcreteDecoratorï¼ å·ä½çè£é¥°å¯¹è±¡ï¼å®ç°å·ä½è¦è¢«è£é¥°å¯¹è±¡æ·»å çåè½ãæ¯ä¸ä¸ªå·ä½è£é¥°ç±»é½å®ä¹äºä¸äºæ°çè¡ä¸ºï¼å®å¯ä»¥è°ç¨å¨æ½è±¡è£é¥°ç±»ä¸­å®ä¹çæ¹æ³ï¼å¹¶å¯ä»¥å¢å æ°çæ¹æ³ç¨ä»¥æ©åå¯¹è±¡çè¡ä¸ºã\n\nè£é¥°èåè¢«è£é¥°èå¯¹è±¡æç¸åçç¶ç±»ï¼å ä¸ºè£é¥°èåè¢«è£é¥°èå¿é¡»æ¯ä¸æ ·çç±»åï¼è¿éå©ç¨ç»§æ¿æ¯ä¸ºäºè¾¾å°ç±»åå¹éï¼èä¸æ¯å©ç¨ç»§æ¿è·å¾è¡ä¸ºã\n\nå©ç¨ç»§æ¿è®¾è®¡å­ç±»ï¼åªè½å¨ç¼è¯æ¶éæå³å®ï¼å¹¶ä¸ææå­ç±»é½ä¼ç»§æ¿ç¸åçè¡ä¸ºï¼å©ç¨ç»åçåæ³æ©å±å¯¹è±¡ï¼å°±å¯ä»¥å¨è¿è¡æ¶å¨æçè¿è¡æ©å±ãè£é¥°èæ¨¡å¼éµå¾ªå¼æ¾-å³é­ååï¼**ç±»åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã**å©ç¨è£é¥°èï¼æä»¬å¯ä»¥å®ç°æ°çè£é¥°èå¢å æ°çè¡ä¸ºèä¸ç¨ä¿®æ¹ç°æä»£ç ï¼èå¦æåçº¯ä¾èµç»§æ¿ï¼æ¯å½éè¦æ°è¡ä¸ºæ¶ï¼è¿å¾ä¿®æ¹ç°æçä»£ç ã\n\n\n# ç±»å¾\n\n\n\n\n# å®ä¾\n\nçäºå¥½å¤èµæçä¾å­ï¼æ¯å¦\n\n * å¬å¸åæ¾å¥éï¼ä¸åçåå·¥ç±»åå¯¹åºä¸åçå¥éè®¡ç®è§åï¼ç¨åç§è®¡ç®è§åå»è£é¥°ç»ä¸çå¥éè®¡ç®ç±»\n * æå·´åå®åç¨åå¡ï¼ç¨æ©å¡ãå¥¶æ³¡å»è£é¥°åå¡ï¼å®ç°ä¸åçè®¡è´¹\n * åå½¢éåå¨åå½¢ä¹åæ¯ä¸è¾æ±½è½¦ï¼å®å¯ä»¥å¨éå°ä¸ç§»å¨ãå½å®åææºå¨äººä¹åé¤äºè½å¤å¨éå°ä¸ç§»å¨ä¹å¤ï¼è¿å¯ä»¥è¯´è¯ï¼å¦æéè¦ï¼å®è¿å¯ä»¥åæé£æºï¼é¤äºå¨éå°ä¸ç§»å¨è¿å¯ä»¥å¨å¤©ç©ºä¸­é£ç¿\n\næè¿æ¯æ¯è¾åæ¬¢åçé¥¼çä¾å­\n\n\n\n1ãå®ä¹æ½è±¡ç»ä»¶\n\npublic abstract class Pancake {\n\n    String description = "æ®éçé¥¼";\n\n    public String getDescription(){\n        return description;\n    }\n\n    public abstract double cost();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n2ãå®ä¹å·ä½çè¢«è£é¥°èï¼è¿éæ¯çé¥¼æå­ï¼å½ç¶è¿å¯ä»¥æé¸¡èçé¥¼ãææé¥¼ç­å¶ä»è¢«è£é¥°è\n\npublic class Battercake extends Pancake {\n    @Override\n    public double cost() {\n        return 8;\n    }\n\n    public Battercake(){\n        description = "çé¥¼æå­";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n3ãæ½è±¡çè£é¥°å¨å¯¹è±¡ï¼å®ä¹ä¸ä¸ªè°ææ½è±¡ç±»\n\npublic abstract class CondimentDecorator extends Pancake {\n\n    // ææç»ä»¶å¯¹è±¡\n    protected Pancake pancake;\n    public CondimentDecorator(Pancake pancake){\n        this.pancake = pancake;\n    }\n\n    public abstract String getDescription();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n4ãå·ä½çè£é¥°èï¼æä»¬å®ä¹ä¸ä¸ªé¸¡èè£é¥°å¨ï¼ä¸ä¸ªç«è¿è£é¥°å¨\n\npublic class Egg extends CondimentDecorator {\n    public Egg(Pancake pancake){\n        super(pancake);\n    }\n\n    @Override\n    public String getDescription() {\n        return pancake.getDescription() + "å é¸¡è";\n    }\n\n    @Override\n    public double cost() {\n        return pancake.cost() + 1;\n    }\n}\npublic class Sausage extends CondimentDecorator{\n    public Sausage(Pancake pancake){\n        super(pancake);\n    }\n    @Override\n    public String getDescription() {\n        return pancake.getDescription() + "å ç«è¿";\n    }\n\n    @Override\n    public double cost() {\n        return pancake.cost() + 2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n5ãæµè¯çé¥¼äº¤æï¼over\n\npublic class Client {\n\n    public static void main(String[] args) {\n        //ä¹°ä¸ä¸ªæ®éççé¥¼æå­\n        Pancake battercake = new Battercake();\n        System.out.println(battercake.getDescription() + "è±è´¹ï¼"+battercake.cost() + "å");\n\n        //ä¹°ä¸ä¸ªå åèççé¥¼æå­\n        Pancake doubleEgg = new Battercake();\n        doubleEgg = new Egg(doubleEgg);\n        doubleEgg = new Egg(doubleEgg);\n        System.out.println(doubleEgg.getDescription() + "è±è´¹" + doubleEgg.cost() + "å");\n\n        //å ç«è¿åé¸¡è\n        Pancake battercakePlus = new Battercake();\n        battercakePlus = new Egg(battercakePlus);\n        battercakePlus = new Sausage(battercakePlus);\n        System.out.println(battercakePlus.getDescription() + "è±è´¹" + battercakePlus.cost() + "å");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nè¾åºï¼\n\nçé¥¼æå­è±è´¹ï¼8.0å\nçé¥¼æå­å é¸¡èå é¸¡èè±è´¹10.0å\nçé¥¼æå­å é¸¡èå ç«è¿è±è´¹11.0å\n\n\n1\n2\n3\n\n\né¡ºä¾¿çä¸éè¿ IDEA çæç UML ç±»å¾ï¼åæä»¬ç»çç±»å¾ä¸æ ·åï¼\n\n\n# åºç¨\n\n\n# Java I/O ä¸­çè£é¥°èæ¨¡å¼\n\næä»¬ä½¿ç¨ java.io åä¸çåç§è¾å¥æµãè¾åºæµãå­èæµãå­ç¬¦æµãç¼å²æµç­åç§åæ ·çæµï¼ä»ä»¬ä¸­çè®¸å¤ç±»é½æ¯è£é¥°èï¼ä¸é¢æ¯ä¸ä¸ªå¸åçå¯¹è±¡éåï¼ç¨è£é¥°èå°åè½ç»åèµ·æ¥ï¼ä»¥è¯»åæä»¶æ°æ®\n\n\n\nBufferedInputStream å LinerNumberInputStream é½æ¯æ©å±èª FilterInputStreamï¼è FilterInputStream æ¯ä¸ä¸ªæ½è±¡çè£é¥°ç±»ã\n\nå¨ idea ä¸­éä¸­ä¸äºå¸¸è§ InputStream ç±»ï¼çæ UML å¾å¦ä¸ï¼\n\næä»¬å¹³æ¶è¯»åä¸ä¸ªæä»¶ä¸­çåå®¹å¶å®å°±ä½¿ç¨å°äºè£é¥°æ¨¡å¼çææ³ï¼ç®åãHead First è®¾è®¡æ¨¡å¼ãçä¾å­ï¼æä»¬èªå®ä¹ä¸ä¸ªè£é¥°èï¼æè¾å¥æµä¸­çææå¤§åå­ç¬¦è½¬æ¢ä¸ºå°å\n\npublic class LowerCaseInputStream extends FilterInputStream {\n  \n    protected LowerCaseInputStream(InputStream in) {\n        super(in);\n    }\n\n    public int read() throws IOException {\n        int c = super.read();\n        return (c == -1 ? c:Character.toLowerCase(c));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\npublic class InputTest {\n\n    public static void main(String[] args) throws IOException {\n        int c;\n        //è£é¥°å¨çç»è£è¿ç¨\n        InputStream in = new LowerCaseInputStream(new BufferedInputStream(new FileInputStream("JavaKeeper.txt"))); \n\n        while ((c = in.read()) >= 0){\n            System.out.print((char) c);\n        }\n        in.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\néç¨è£é¥°èæ¨¡å¼å¨å®ä¾åç»ä»¶æ¶ï¼å°å¢å ä»£ç çå¤æåº¦ï¼ä¸æ¦ä½¿ç¨è£é¥°èæ¨¡å¼ï¼ä¸åªéè¦å®ä¾åç»ä»¶ï¼è¿æææ­¤ç»ä»¶åè£è¿è£é¥°èä¸­ï¼å¤©æå¾æå ä¸ªï¼æä»¥å¨æäºå¤ææåµä¸ï¼æä»¬è¿ä¼ç»åå·¥åæ¨¡å¼åçæå¨æ¨¡å¼ãæ¯å¦Springä¸­çè£é¥°èæ¨¡å¼ã\n\n\n# Servlet ä¸­çè£é¥°èæ¨¡å¼\n\nServlet API æºèªäº 4 ä¸ªå®ç°ç±»ï¼å®å¾å°è¢«ä½¿ç¨ï¼ä½æ¯ååå¼ºå¤§ï¼ServletRequestWrapperãServletResponseWrapperä»¥å HttpServletRequestWrapperãHttpServletResponseWrapperã\n\næ¯å¦ ServletRequestWrapper æ¯ ServletRequest æ¥å£çç®åå®ç°ï¼å¼åèå¯ä»¥ç»§æ¿ ServletRequestWrapper å»æ©å±åæ¥ç request\n\npublic class ServletRequestWrapper implements ServletRequest {\n    private ServletRequest request;\n\n    public ServletRequestWrapper(ServletRequest request) {\n        if (request == null) {\n            throw new IllegalArgumentException("Request cannot be null");\n        } else {\n            this.request = request;\n        }\n    }\n\t//.......\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# spring ä¸­çè£é¥°èæ¨¡å¼\n\nSpring ç ApplicationContext ä¸­éç½®ææç DataSourceã è¿äº DataSource å¯è½æ¯åç§ä¸åç±»åçï¼ æ¯å¦ä¸åçæ°æ®åºï¼ Oracleã SQL Serverã MySQL ç­ï¼ ä¹å¯è½æ¯ä¸åçæ°æ®æºã ç¶å SessionFactory æ ¹æ®å®¢æ·çæ¯æ¬¡è¯·æ±ï¼ å° DataSource å±æ§è®¾ç½®æä¸åçæ°æ®æºï¼ ä»¥è¾¾å°åæ¢æ°æ®æºçç®çã\n\nå¨ Spring çå½åä½ç°ï¼Spring ä¸­ç¨å°çåè£å¨æ¨¡å¼å¨ç±»åä¸æä¸¤ç§è¡¨ç°ï¼ ä¸ç§æ¯ç±»åä¸­å«æ Wrapperï¼ å¦ä¸ç§æ¯ç±»åä¸­å«æ Decoratorã åºæ¬ä¸é½æ¯å¨æå°ç»ä¸ä¸ªå¯¹è±¡æ·»å ä¸äºé¢å¤çèè´£ï¼æ¯å¦\n\norg.springframework.cache.transaction åä¸ç TransactionAwareCacheDecorator ç±» org.springframework.session.web.http åä¸ç SessionRepositoryFilter åé¨ç±» SessionRepositoryRequestWrapper\n\n\n# Mybatis ç¼å­ä¸­çè£é¥°èæ¨¡å¼\n\nMybatis çç¼å­æ¨¡åä¸­ï¼ä½¿ç¨äºè£é¥°å¨æ¨¡å¼çåä½ï¼å¶ä¸­å° Decorator æ¥å£å Componet æ¥å£åå¹¶ä¸ºä¸ä¸ª Component æ¥å£ãorg.apache.ibatis.cache åä¸çç»æ\n\n\n\n\n# æ»ç»\n\nè£é¥°æ¨¡å¼çæ¬è´¨ï¼å¨æç»å\n\nå¨æç»åæ¯ææ®µï¼ç»åææ¯ç®çãè¿éçç»åæä¸¤ä¸ªææï¼ä¸ä¸ªæ¯å¨æåè½çç»åï¼ä¹å°±æ¯å¨æè¿è¡è£é¥°å¨çç»åï¼å¦å¤ä¸ä¸ªæ¯æå¯¹è±¡ç»åï¼éè¿å¯¹è±¡ç»åæ¥å®ç°ä¸ºè¢«è£é¥°å¯¹è±¡éæçå¢å åè½ã\n\n\n# ä¼ç¼ºç¹\n\nè£é¥°æ¨¡å¼çä¼ç¹:\n\n * è£é¥°æ¨¡å¼ä¸ç»§æ¿å³ç³»çç®çé½æ¯è¦æ©å±å¯¹è±¡çåè½ï¼ä½æ¯è£é¥°æ¨¡å¼å¯ä»¥æä¾æ¯ç»§æ¿æ´å¤ççµæ´»æ§ã\n * å¯ä»¥éè¿ä¸ç§å¨æçæ¹å¼æ¥æ©å±ä¸ä¸ªå¯¹è±¡çåè½ï¼éè¿éç½®æä»¶å¯ä»¥å¨è¿è¡æ¶éæ©ä¸åçè£é¥°å¨ï¼ä»èå®ç°ä¸åçè¡ä¸ºã\n * éè¿ä½¿ç¨ä¸åçå·ä½è£é¥°ç±»ä»¥åè¿äºè£é¥°ç±»çæåç»åï¼å¯ä»¥åé åºå¾å¤ä¸åè¡ä¸ºçç»åãå¯ä»¥ä½¿ç¨å¤ä¸ªå·ä½è£é¥°ç±»æ¥è£é¥°åä¸å¯¹è±¡ï¼å¾å°åè½æ´ä¸ºå¼ºå¤§çå¯¹è±¡ã\n * å·ä½æä»¶ç±»ä¸å·ä½è£é¥°ç±»å¯ä»¥ç¬ç«ååï¼ç¨æ·å¯ä»¥æ ¹æ®éè¦å¢å æ°çå·ä½æä»¶ç±»åå·ä½è£é¥°ç±»ï¼å¨ä½¿ç¨æ¶åå¯¹å¶è¿è¡ç»åï¼åæä»£ç æ é¡»æ¹åï¼ç¬¦åâå¼é­ååâ\n\nè£é¥°æ¨¡å¼çç¼ºç¹:\n\n * ä½¿ç¨è£é¥°æ¨¡å¼è¿è¡ç³»ç»è®¾è®¡æ¶å°äº§çå¾å¤å°å¯¹è±¡ï¼è¿äºå¯¹è±¡çåºå«å¨äºå®ä»¬ä¹é´ç¸äºè¿æ¥çæ¹å¼ææä¸åï¼èä¸æ¯å®ä»¬çç±»æèå±æ§å¼ææä¸åï¼åæ¶è¿å°äº§çå¾å¤å·ä½è£é¥°ç±»ãè¿äºè£é¥°ç±»åå°å¯¹è±¡çäº§çå°å¢å ç³»ç»çå¤æåº¦ï¼å å¤§å­¦ä¹ ä¸çè§£çé¾åº¦ã\n * è¿ç§æ¯ç»§æ¿æ´å çµæ´»æºå¨çç¹æ§ï¼ä¹åæ¶æå³çè£é¥°æ¨¡å¼æ¯ç»§æ¿æ´å æäºåºéï¼æéä¹å¾å°é¾ï¼å¯¹äºå¤æ¬¡è£é¥°çå¯¹è±¡ï¼è°è¯æ¶å¯»æ¾éè¯¯å¯è½éè¦éçº§ææ¥ï¼è¾ä¸ºç¦çã\n\n\n# ä½æ¶éç¨\n\n * å¦æéè¦å¨ä¸å½±åå¶ä»å¯¹è±¡çæåµä¸ï¼ä»¥å¨æãéæçæ¹å¼ç»å¯¹è±¡æ·»å èè´£ï¼å¯ä»¥ä½¿ç¨è£é¥°æ¨¡å¼\n * å½ä¸è½éç¨ç»§æ¿çæ¹å¼å¯¹ç³»ç»è¿è¡æ©å±æèéç¨ç»§æ¿ä¸å©äºç³»ç»æ©å±åç»´æ¤æ¶å¯ä»¥ä½¿ç¨è£é¥°æ¨¡å¼ãä¸è½éç¨ç»§æ¿çæåµä¸»è¦æä¸¤ç±»ï¼ç¬¬ä¸ç±»æ¯ç³»ç»ä¸­å­å¨å¤§éç¬ç«çæ©å±ï¼ä¸ºæ¯ææ¯ä¸ç§æ©å±æèæ©å±ä¹é´çç»åå°äº§çå¤§éçå­ç±»ï¼ä½¿å¾å­ç±»æ°ç®åçç¸æ§å¢é¿ï¼ç¬¬äºç±»æ¯å ä¸ºç±»å·²å®ä¹ä¸ºä¸è½è¢«ç»§æ¿ï¼å¦ Java è¯­è¨ä¸­ç final ç±»ï¼\n\nåèï¼ è£é¥°æ¨¡å¼ââçç JDK å Spring æ¯å¦ä½æç»ç»§æ¿æ»¥ç¨ç',normalizedContent:'ãhead first è®¾è®¡æ¨¡å¼ãä¸­æ¯è¿ä¹å½¢å®¹è£é¥°èæ¨¡å¼çâââç»ç±ç¨ç»§æ¿çäººä¸ä¸ªå¨æ°çè®¾è®¡ç¼çâï¼æç»ç»§æ¿æ»¥ç¨ï¼ä»è£é¥°èæ¨¡å¼å¼å§ã\n\nè£é¥°èæ¨¡å¼åè®¸åä¸ä¸ªç°æçå¯¹è±¡æ·»å æ°çåè½ï¼åæ¶åä¸æ¹åå¶ç»æãè¿ç§ç±»åçè®¾è®¡æ¨¡å¼å±äºç»æåæ¨¡å¼ï¼å®æ¯ä½ä¸ºç°æçç±»çä¸ä¸ªåè£ã\n\nè¿ç§æ¨¡å¼åå»ºäºä¸ä¸ªè£é¥°ç±»ï¼ç¨æ¥åè£åæçç±»ï¼å¹¶å¨ä¿æç±»æ¹æ³ç­¾åå®æ´æ§çåæä¸ï¼æä¾äºé¢å¤çåè½ã\n\n\n# æ¨¡å¼å¨æº\n\nä¸è¬æä¸¤ç§æ¹å¼å¯ä»¥å®ç°ç»ä¸ä¸ªç±»æå¯¹è±¡å¢å è¡ä¸ºï¼\n\n * ç»§æ¿æºå¶ï¼ä½¿ç¨ç»§æ¿æºå¶æ¯ç»ç°æç±»æ·»å åè½çä¸ç§ææéå¾ï¼éè¿ç»§æ¿ä¸ä¸ªç°æç±»å¯ä»¥ä½¿å¾å­ç±»å¨æ¥æèªèº«æ¹æ³çåæ¶è¿æ¥æç¶ç±»çæ¹æ³ãä½æ¯è¿ç§æ¹æ³æ¯éæçï¼ç¨æ·ä¸è½æ§å¶å¢å è¡ä¸ºçæ¹å¼åæ¶æºã\n\n * å³èæºå¶ï¼å³å°ä¸ä¸ªç±»çå¯¹è±¡åµå¥å¦ä¸ä¸ªå¯¹è±¡ä¸­ï¼ç±å¦ä¸ä¸ªå¯¹è±¡æ¥å³å®æ¯å¦è°ç¨åµå¥å¯¹è±¡çè¡ä¸ºä»¥ä¾¿æ©å±èªå·±çè¡ä¸ºï¼æä»¬ç§°è¿ä¸ªåµå¥çå¯¹è±¡ä¸ºè£é¥°å¨(decorator)\n\nè£é¥°æ¨¡å¼ä»¥å¯¹å®¢æ·éæçæ¹å¼å¨æå°ç»ä¸ä¸ªå¯¹è±¡éå ä¸æ´å¤çè´£ä»»ï¼æ¢è¨ä¹ï¼å®¢æ·ç«¯å¹¶ä¸ä¼è§å¾å¯¹è±¡å¨è£é¥°ååè£é¥°åæä»ä¹ä¸åãè£é¥°æ¨¡å¼å¯ä»¥å¨ä¸éè¦åé æ´å¤å­ç±»çæåµä¸ï¼å°å¯¹è±¡çåè½å ä»¥æ©å±ã\n\n\n# å®ä¹\n\nè£é¥°æ¨¡å¼(decorator pattern) ï¼å¨æå°ç»ä¸ä¸ªå¯¹è±¡å¢å ä¸äºé¢å¤çèè´£(responsibility)ï¼å°±å¢å å¯¹è±¡åè½æ¥è¯´ï¼è£é¥°æ¨¡å¼æ¯çæå­ç±»ï¼ç»§æ¿ï¼å®ç°æ´ä¸ºçµæ´»ãå¶å«åä¹å¯ä»¥ç§°ä¸ºåè£å¨(wrapper)ï¼ä¸ééå¨æ¨¡å¼çå«åç¸åï¼ä½å®ä»¬éç¨äºä¸åçåºåã\n\n\n# è§è²\n\n * componentï¼ æ½è±¡ç»ä»¶ï¼è£é¥°èåè¢«è£é¥°èå±åçç¶ç±»ï¼æ¯ä¸ä¸ªæ¥å£æèæ½è±¡ç±»ï¼ç¨æ¥å®ä¹åºæ¬è¡ä¸ºï¼å¯ä»¥ç»è¿äºå¯¹è±¡å¨ææ·»å èè´£\n\n * concretecomponentï¼ å·ä½çç»ä»¶å¯¹è±¡ï¼å®ç°ç±» ï¼å³è¢«è£é¥°èï¼éå¸¸å°±æ¯è¢«è£é¥°å¨è£é¥°çåå§å¯¹è±¡ï¼ä¹å°±æ¯å¯ä»¥ç»è¿ä¸ªå¯¹è±¡æ·»å èè´£\n\n * decoratorï¼ ææè£é¥°å¨çæ½è±¡ç¶ç±»ï¼ä¸è¬æ¯æ½è±¡ç±»ï¼å®ç°æ¥å£ï¼å®çå±æ§å¿ç¶æä¸ªæå conponent æ½è±¡ç»ä»¶çå¯¹è±¡ ï¼å¶å®å°±æ¯ææä¸ä¸ªè¢«è£é¥°çå¯¹è±¡\n\n * concretedecoratorï¼ å·ä½çè£é¥°å¯¹è±¡ï¼å®ç°å·ä½è¦è¢«è£é¥°å¯¹è±¡æ·»å çåè½ãæ¯ä¸ä¸ªå·ä½è£é¥°ç±»é½å®ä¹äºä¸äºæ°çè¡ä¸ºï¼å®å¯ä»¥è°ç¨å¨æ½è±¡è£é¥°ç±»ä¸­å®ä¹çæ¹æ³ï¼å¹¶å¯ä»¥å¢å æ°çæ¹æ³ç¨ä»¥æ©åå¯¹è±¡çè¡ä¸ºã\n\nè£é¥°èåè¢«è£é¥°èå¯¹è±¡æç¸åçç¶ç±»ï¼å ä¸ºè£é¥°èåè¢«è£é¥°èå¿é¡»æ¯ä¸æ ·çç±»åï¼è¿éå©ç¨ç»§æ¿æ¯ä¸ºäºè¾¾å°ç±»åå¹éï¼èä¸æ¯å©ç¨ç»§æ¿è·å¾è¡ä¸ºã\n\nå©ç¨ç»§æ¿è®¾è®¡å­ç±»ï¼åªè½å¨ç¼è¯æ¶éæå³å®ï¼å¹¶ä¸ææå­ç±»é½ä¼ç»§æ¿ç¸åçè¡ä¸ºï¼å©ç¨ç»åçåæ³æ©å±å¯¹è±¡ï¼å°±å¯ä»¥å¨è¿è¡æ¶å¨æçè¿è¡æ©å±ãè£é¥°èæ¨¡å¼éµå¾ªå¼æ¾-å³é­ååï¼**ç±»åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã**å©ç¨è£é¥°èï¼æä»¬å¯ä»¥å®ç°æ°çè£é¥°èå¢å æ°çè¡ä¸ºèä¸ç¨ä¿®æ¹ç°æä»£ç ï¼èå¦æåçº¯ä¾èµç»§æ¿ï¼æ¯å½éè¦æ°è¡ä¸ºæ¶ï¼è¿å¾ä¿®æ¹ç°æçä»£ç ã\n\n\n# ç±»å¾\n\n\n\n\n# å®ä¾\n\nçäºå¥½å¤èµæçä¾å­ï¼æ¯å¦\n\n * å¬å¸åæ¾å¥éï¼ä¸åçåå·¥ç±»åå¯¹åºä¸åçå¥éè®¡ç®è§åï¼ç¨åç§è®¡ç®è§åå»è£é¥°ç»ä¸çå¥éè®¡ç®ç±»\n * æå·´åå®åç¨åå¡ï¼ç¨æ©å¡ãå¥¶æ³¡å»è£é¥°åå¡ï¼å®ç°ä¸åçè®¡è´¹\n * åå½¢éåå¨åå½¢ä¹åæ¯ä¸è¾æ±½è½¦ï¼å®å¯ä»¥å¨éå°ä¸ç§»å¨ãå½å®åææºå¨äººä¹åé¤äºè½å¤å¨éå°ä¸ç§»å¨ä¹å¤ï¼è¿å¯ä»¥è¯´è¯ï¼å¦æéè¦ï¼å®è¿å¯ä»¥åæé£æºï¼é¤äºå¨éå°ä¸ç§»å¨è¿å¯ä»¥å¨å¤©ç©ºä¸­é£ç¿\n\næè¿æ¯æ¯è¾åæ¬¢åçé¥¼çä¾å­\n\n\n\n1ãå®ä¹æ½è±¡ç»ä»¶\n\npublic abstract class pancake {\n\n    string description = "æ®éçé¥¼";\n\n    public string getdescription(){\n        return description;\n    }\n\n    public abstract double cost();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n2ãå®ä¹å·ä½çè¢«è£é¥°èï¼è¿éæ¯çé¥¼æå­ï¼å½ç¶è¿å¯ä»¥æé¸¡èçé¥¼ãææé¥¼ç­å¶ä»è¢«è£é¥°è\n\npublic class battercake extends pancake {\n    @override\n    public double cost() {\n        return 8;\n    }\n\n    public battercake(){\n        description = "çé¥¼æå­";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n3ãæ½è±¡çè£é¥°å¨å¯¹è±¡ï¼å®ä¹ä¸ä¸ªè°ææ½è±¡ç±»\n\npublic abstract class condimentdecorator extends pancake {\n\n    // ææç»ä»¶å¯¹è±¡\n    protected pancake pancake;\n    public condimentdecorator(pancake pancake){\n        this.pancake = pancake;\n    }\n\n    public abstract string getdescription();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n4ãå·ä½çè£é¥°èï¼æä»¬å®ä¹ä¸ä¸ªé¸¡èè£é¥°å¨ï¼ä¸ä¸ªç«è¿è£é¥°å¨\n\npublic class egg extends condimentdecorator {\n    public egg(pancake pancake){\n        super(pancake);\n    }\n\n    @override\n    public string getdescription() {\n        return pancake.getdescription() + "å é¸¡è";\n    }\n\n    @override\n    public double cost() {\n        return pancake.cost() + 1;\n    }\n}\npublic class sausage extends condimentdecorator{\n    public sausage(pancake pancake){\n        super(pancake);\n    }\n    @override\n    public string getdescription() {\n        return pancake.getdescription() + "å ç«è¿";\n    }\n\n    @override\n    public double cost() {\n        return pancake.cost() + 2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n5ãæµè¯çé¥¼äº¤æï¼over\n\npublic class client {\n\n    public static void main(string[] args) {\n        //ä¹°ä¸ä¸ªæ®éççé¥¼æå­\n        pancake battercake = new battercake();\n        system.out.println(battercake.getdescription() + "è±è´¹ï¼"+battercake.cost() + "å");\n\n        //ä¹°ä¸ä¸ªå åèççé¥¼æå­\n        pancake doubleegg = new battercake();\n        doubleegg = new egg(doubleegg);\n        doubleegg = new egg(doubleegg);\n        system.out.println(doubleegg.getdescription() + "è±è´¹" + doubleegg.cost() + "å");\n\n        //å ç«è¿åé¸¡è\n        pancake battercakeplus = new battercake();\n        battercakeplus = new egg(battercakeplus);\n        battercakeplus = new sausage(battercakeplus);\n        system.out.println(battercakeplus.getdescription() + "è±è´¹" + battercakeplus.cost() + "å");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nè¾åºï¼\n\nçé¥¼æå­è±è´¹ï¼8.0å\nçé¥¼æå­å é¸¡èå é¸¡èè±è´¹10.0å\nçé¥¼æå­å é¸¡èå ç«è¿è±è´¹11.0å\n\n\n1\n2\n3\n\n\né¡ºä¾¿çä¸éè¿ idea çæç uml ç±»å¾ï¼åæä»¬ç»çç±»å¾ä¸æ ·åï¼\n\n\n# åºç¨\n\n\n# java i/o ä¸­çè£é¥°èæ¨¡å¼\n\næä»¬ä½¿ç¨ java.io åä¸çåç§è¾å¥æµãè¾åºæµãå­èæµãå­ç¬¦æµãç¼å²æµç­åç§åæ ·çæµï¼ä»ä»¬ä¸­çè®¸å¤ç±»é½æ¯è£é¥°èï¼ä¸é¢æ¯ä¸ä¸ªå¸åçå¯¹è±¡éåï¼ç¨è£é¥°èå°åè½ç»åèµ·æ¥ï¼ä»¥è¯»åæä»¶æ°æ®\n\n\n\nbufferedinputstream å linernumberinputstream é½æ¯æ©å±èª filterinputstreamï¼è filterinputstream æ¯ä¸ä¸ªæ½è±¡çè£é¥°ç±»ã\n\nå¨ idea ä¸­éä¸­ä¸äºå¸¸è§ inputstream ç±»ï¼çæ uml å¾å¦ä¸ï¼\n\næä»¬å¹³æ¶è¯»åä¸ä¸ªæä»¶ä¸­çåå®¹å¶å®å°±ä½¿ç¨å°äºè£é¥°æ¨¡å¼çææ³ï¼ç®åãhead first è®¾è®¡æ¨¡å¼ãçä¾å­ï¼æä»¬èªå®ä¹ä¸ä¸ªè£é¥°èï¼æè¾å¥æµä¸­çææå¤§åå­ç¬¦è½¬æ¢ä¸ºå°å\n\npublic class lowercaseinputstream extends filterinputstream {\n  \n    protected lowercaseinputstream(inputstream in) {\n        super(in);\n    }\n\n    public int read() throws ioexception {\n        int c = super.read();\n        return (c == -1 ? c:character.tolowercase(c));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\npublic class inputtest {\n\n    public static void main(string[] args) throws ioexception {\n        int c;\n        //è£é¥°å¨çç»è£è¿ç¨\n        inputstream in = new lowercaseinputstream(new bufferedinputstream(new fileinputstream("javakeeper.txt"))); \n\n        while ((c = in.read()) >= 0){\n            system.out.print((char) c);\n        }\n        in.close();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\néç¨è£é¥°èæ¨¡å¼å¨å®ä¾åç»ä»¶æ¶ï¼å°å¢å ä»£ç çå¤æåº¦ï¼ä¸æ¦ä½¿ç¨è£é¥°èæ¨¡å¼ï¼ä¸åªéè¦å®ä¾åç»ä»¶ï¼è¿æææ­¤ç»ä»¶åè£è¿è£é¥°èä¸­ï¼å¤©æå¾æå ä¸ªï¼æä»¥å¨æäºå¤ææåµä¸ï¼æä»¬è¿ä¼ç»åå·¥åæ¨¡å¼åçæå¨æ¨¡å¼ãæ¯å¦springä¸­çè£é¥°èæ¨¡å¼ã\n\n\n# servlet ä¸­çè£é¥°èæ¨¡å¼\n\nservlet api æºèªäº 4 ä¸ªå®ç°ç±»ï¼å®å¾å°è¢«ä½¿ç¨ï¼ä½æ¯ååå¼ºå¤§ï¼servletrequestwrapperãservletresponsewrapperä»¥å httpservletrequestwrapperãhttpservletresponsewrapperã\n\næ¯å¦ servletrequestwrapper æ¯ servletrequest æ¥å£çç®åå®ç°ï¼å¼åèå¯ä»¥ç»§æ¿ servletrequestwrapper å»æ©å±åæ¥ç request\n\npublic class servletrequestwrapper implements servletrequest {\n    private servletrequest request;\n\n    public servletrequestwrapper(servletrequest request) {\n        if (request == null) {\n            throw new illegalargumentexception("request cannot be null");\n        } else {\n            this.request = request;\n        }\n    }\n\t//.......\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# spring ä¸­çè£é¥°èæ¨¡å¼\n\nspring ç applicationcontext ä¸­éç½®ææç datasourceã è¿äº datasource å¯è½æ¯åç§ä¸åç±»åçï¼ æ¯å¦ä¸åçæ°æ®åºï¼ oracleã sql serverã mysql ç­ï¼ ä¹å¯è½æ¯ä¸åçæ°æ®æºã ç¶å sessionfactory æ ¹æ®å®¢æ·çæ¯æ¬¡è¯·æ±ï¼ å° datasource å±æ§è®¾ç½®æä¸åçæ°æ®æºï¼ ä»¥è¾¾å°åæ¢æ°æ®æºçç®çã\n\nå¨ spring çå½åä½ç°ï¼spring ä¸­ç¨å°çåè£å¨æ¨¡å¼å¨ç±»åä¸æä¸¤ç§è¡¨ç°ï¼ ä¸ç§æ¯ç±»åä¸­å«æ wrapperï¼ å¦ä¸ç§æ¯ç±»åä¸­å«æ decoratorã åºæ¬ä¸é½æ¯å¨æå°ç»ä¸ä¸ªå¯¹è±¡æ·»å ä¸äºé¢å¤çèè´£ï¼æ¯å¦\n\norg.springframework.cache.transaction åä¸ç transactionawarecachedecorator ç±» org.springframework.session.web.http åä¸ç sessionrepositoryfilter åé¨ç±» sessionrepositoryrequestwrapper\n\n\n# mybatis ç¼å­ä¸­çè£é¥°èæ¨¡å¼\n\nmybatis çç¼å­æ¨¡åä¸­ï¼ä½¿ç¨äºè£é¥°å¨æ¨¡å¼çåä½ï¼å¶ä¸­å° decorator æ¥å£å componet æ¥å£åå¹¶ä¸ºä¸ä¸ª component æ¥å£ãorg.apache.ibatis.cache åä¸çç»æ\n\n\n\n\n# æ»ç»\n\nè£é¥°æ¨¡å¼çæ¬è´¨ï¼å¨æç»å\n\nå¨æç»åæ¯ææ®µï¼ç»åææ¯ç®çãè¿éçç»åæä¸¤ä¸ªææï¼ä¸ä¸ªæ¯å¨æåè½çç»åï¼ä¹å°±æ¯å¨æè¿è¡è£é¥°å¨çç»åï¼å¦å¤ä¸ä¸ªæ¯æå¯¹è±¡ç»åï¼éè¿å¯¹è±¡ç»åæ¥å®ç°ä¸ºè¢«è£é¥°å¯¹è±¡éæçå¢å åè½ã\n\n\n# ä¼ç¼ºç¹\n\nè£é¥°æ¨¡å¼çä¼ç¹:\n\n * è£é¥°æ¨¡å¼ä¸ç»§æ¿å³ç³»çç®çé½æ¯è¦æ©å±å¯¹è±¡çåè½ï¼ä½æ¯è£é¥°æ¨¡å¼å¯ä»¥æä¾æ¯ç»§æ¿æ´å¤ççµæ´»æ§ã\n * å¯ä»¥éè¿ä¸ç§å¨æçæ¹å¼æ¥æ©å±ä¸ä¸ªå¯¹è±¡çåè½ï¼éè¿éç½®æä»¶å¯ä»¥å¨è¿è¡æ¶éæ©ä¸åçè£é¥°å¨ï¼ä»èå®ç°ä¸åçè¡ä¸ºã\n * éè¿ä½¿ç¨ä¸åçå·ä½è£é¥°ç±»ä»¥åè¿äºè£é¥°ç±»çæåç»åï¼å¯ä»¥åé åºå¾å¤ä¸åè¡ä¸ºçç»åãå¯ä»¥ä½¿ç¨å¤ä¸ªå·ä½è£é¥°ç±»æ¥è£é¥°åä¸å¯¹è±¡ï¼å¾å°åè½æ´ä¸ºå¼ºå¤§çå¯¹è±¡ã\n * å·ä½æä»¶ç±»ä¸å·ä½è£é¥°ç±»å¯ä»¥ç¬ç«ååï¼ç¨æ·å¯ä»¥æ ¹æ®éè¦å¢å æ°çå·ä½æä»¶ç±»åå·ä½è£é¥°ç±»ï¼å¨ä½¿ç¨æ¶åå¯¹å¶è¿è¡ç»åï¼åæä»£ç æ é¡»æ¹åï¼ç¬¦åâå¼é­ååâ\n\nè£é¥°æ¨¡å¼çç¼ºç¹:\n\n * ä½¿ç¨è£é¥°æ¨¡å¼è¿è¡ç³»ç»è®¾è®¡æ¶å°äº§çå¾å¤å°å¯¹è±¡ï¼è¿äºå¯¹è±¡çåºå«å¨äºå®ä»¬ä¹é´ç¸äºè¿æ¥çæ¹å¼ææä¸åï¼èä¸æ¯å®ä»¬çç±»æèå±æ§å¼ææä¸åï¼åæ¶è¿å°äº§çå¾å¤å·ä½è£é¥°ç±»ãè¿äºè£é¥°ç±»åå°å¯¹è±¡çäº§çå°å¢å ç³»ç»çå¤æåº¦ï¼å å¤§å­¦ä¹ ä¸çè§£çé¾åº¦ã\n * è¿ç§æ¯ç»§æ¿æ´å çµæ´»æºå¨çç¹æ§ï¼ä¹åæ¶æå³çè£é¥°æ¨¡å¼æ¯ç»§æ¿æ´å æäºåºéï¼æéä¹å¾å°é¾ï¼å¯¹äºå¤æ¬¡è£é¥°çå¯¹è±¡ï¼è°è¯æ¶å¯»æ¾éè¯¯å¯è½éè¦éçº§ææ¥ï¼è¾ä¸ºç¦çã\n\n\n# ä½æ¶éç¨\n\n * å¦æéè¦å¨ä¸å½±åå¶ä»å¯¹è±¡çæåµä¸ï¼ä»¥å¨æãéæçæ¹å¼ç»å¯¹è±¡æ·»å èè´£ï¼å¯ä»¥ä½¿ç¨è£é¥°æ¨¡å¼\n * å½ä¸è½éç¨ç»§æ¿çæ¹å¼å¯¹ç³»ç»è¿è¡æ©å±æèéç¨ç»§æ¿ä¸å©äºç³»ç»æ©å±åç»´æ¤æ¶å¯ä»¥ä½¿ç¨è£é¥°æ¨¡å¼ãä¸è½éç¨ç»§æ¿çæåµä¸»è¦æä¸¤ç±»ï¼ç¬¬ä¸ç±»æ¯ç³»ç»ä¸­å­å¨å¤§éç¬ç«çæ©å±ï¼ä¸ºæ¯ææ¯ä¸ç§æ©å±æèæ©å±ä¹é´çç»åå°äº§çå¤§éçå­ç±»ï¼ä½¿å¾å­ç±»æ°ç®åçç¸æ§å¢é¿ï¼ç¬¬äºç±»æ¯å ä¸ºç±»å·²å®ä¹ä¸ºä¸è½è¢«ç»§æ¿ï¼å¦ java è¯­è¨ä¸­ç final ç±»ï¼\n\nåèï¼ è£é¥°æ¨¡å¼ââçç jdk å spring æ¯å¦ä½æç»ç»§æ¿æ»¥ç¨ç',charsets:{cjk:!0},lastUpdated:"2022/09/20, 22:28:30",lastUpdatedTimestamp:166368411e4},{title:"ééå¨æ¨¡å¼",frontmatter:{title:"ééå¨æ¨¡å¼",date:"2022-05-21T17:28:10.000Z",permalink:"/pages/827fc4/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/010.%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/010.ééå¨æ¨¡å¼.md",key:"v-31509c80",path:"/pages/827fc4/",headers:[{level:2,title:"é®é¢",slug:"é®é¢",normalizedTitle:"é®é¢",charIndex:2},{level:2,title:"çå®ä¸çç±»æ¯",slug:"çå®ä¸çç±»æ¯",normalizedTitle:"çå®ä¸çç±»æ¯",charIndex:233},{level:2,title:"åºæ¬ä»ç»",slug:"åºæ¬ä»ç»",normalizedTitle:"åºæ¬ä»ç»",charIndex:312},{level:2,title:"å·¥ä½åç",slug:"å·¥ä½åç",normalizedTitle:"å·¥ä½åç",charIndex:455},{level:2,title:"ééå¨æ¨¡å¼ç»æ",slug:"ééå¨æ¨¡å¼ç»æ",normalizedTitle:"ééå¨æ¨¡å¼ç»æ",charIndex:591},{level:3,title:"å¯¹è±¡ééå¨",slug:"å¯¹è±¡ééå¨",normalizedTitle:"å¯¹è±¡ééå¨",charIndex:443},{level:3,title:"Coding",slug:"coding",normalizedTitle:"coding",charIndex:1064},{level:2,title:"ç±»ééå¨",slug:"ç±»ééå¨",normalizedTitle:"ç±»ééå¨",charIndex:436},{level:2,title:"Coding",slug:"coding-2",normalizedTitle:"coding",charIndex:1064},{level:2,title:"ééå¨æ¨¡å¼éååºç¨åºæ¯",slug:"ééå¨æ¨¡å¼éååºç¨åºæ¯",normalizedTitle:"ééå¨æ¨¡å¼éååºç¨åºæ¯",charIndex:3145},{level:2,title:"demo",slug:"demo",normalizedTitle:"demo",charIndex:3518},{level:2,title:"ééå¨æ¨¡å¼ä¼ç¼ºç¹",slug:"ééå¨æ¨¡å¼ä¼ç¼ºç¹",normalizedTitle:"ééå¨æ¨¡å¼ä¼ç¼ºç¹",charIndex:5027},{level:2,title:"Spring ä¸­çééå¨",slug:"spring-ä¸­çééå¨",normalizedTitle:"spring ä¸­çééå¨",charIndex:5191}],headersStr:"é®é¢ çå®ä¸çç±»æ¯ åºæ¬ä»ç» å·¥ä½åç ééå¨æ¨¡å¼ç»æ å¯¹è±¡ééå¨ Coding ç±»ééå¨ Coding ééå¨æ¨¡å¼éååºç¨åºæ¯ demo ééå¨æ¨¡å¼ä¼ç¼ºç¹ Spring ä¸­çééå¨",content:'# é®é¢\n\nåè®¾æä»¬å¨åä¸å¥è¡ç¥¨ççç³»ç»ï¼æ°æ®æä¾æ¹ç»æä»¬æä¾ XML æ ¼å¼æ°æ®ï¼æä»¬è·åæ°æ®ç¨æ¥æ¾ç¤ºï¼éçç³»ç»çè¿­ä»£ï¼æä»¬è¦æ´åä¸äºç¬¬ä¸æ¹ç³»ç»çå¯¹å¤æ°æ®ï¼ä½æ¯ä»ä»¬åªæä¾è·å JSON æ ¼å¼çæ°æ®æ¥å£ã\n\nå¨ä¸æ³æ¹ååæä»£ç é»è¾çæåµä¸ï¼å¦ä½è§£å³å¢ï¼\n\nè¿æ¶åæä»¬å°±å¯ä»¥åå»ºä¸ä¸ªãééå¨ããè¿æ¯ä¸ä¸ªç¹æ®çå¯¹è±¡ï¼ è½å¤è½¬æ¢å¯¹è±¡æ¥å£ï¼ ä½¿å¶è½ä¸å¶ä»å¯¹è±¡è¿è¡äº¤äºã\n\nééå¨æ¨¡å¼éè¿å°è£å¯¹è±¡å°å¤æçè½¬æ¢è¿ç¨éèäºå¹åã è¢«å°è£çå¯¹è±¡çè³å¯è§ä¸å°ééå¨çå­å¨ã\n\n\n\n\n# çå®ä¸çç±»æ¯\n\nééå¨æ¯ä»ä¹ï¼ä¸é¾çè§£ï¼çæ´»ä¸­ä¹éå¤å¯è§ãæ¯å¦ï¼ç¬è®°æ¬çµèççµæºééå¨ãä¸è½åï¼æ¾ç»çå®çæä¸ä¸ªè¿ä¹çé¼çåå­ï¼ãä¸æåæ°æ®çº¿ç­ç­ã\n\n\n# åºæ¬ä»ç»\n\n * ééå¨æ¨¡å¼å°ä¸ä¸ªç±»çæ¥å£ï¼è½¬æ¢æå®¢æ·ææçå¦å¤ä¸ä¸ªæ¥å£ãééå¨è®©åæ¬æ¥å£ä¸å¼å®¹çç±»å¯ä»¥åä½æ é´ãä¹å¯ä»¥å«åè£å¨ï¼Wrapperï¼\n\n * ééå¨æ¨¡å¼æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ å®è½ä½¿æ¥å£ä¸å¼å®¹çå¯¹è±¡è½å¤ç¸äºåä½\n\n * ä¸»è¦åä¸ºä¸¤ç±»ï¼ç±»ééå¨æ¨¡å¼ãå¯¹è±¡ééå¨æ¨¡å¼\n\n\n# å·¥ä½åç\n\n * ééå¨æ¨¡å¼ï¼å°ä¸ä¸ªç±»çæ¥å£è½¬æ¢æå¦ä¸ç§æ¥å£ï¼è®©åæ¬æ¥å£ä¸å¼å®¹çç±»å¯ä»¥å¼å®¹\n * ä»ç¨æ·çè§åº¦çä¸å°è¢«ééèï¼æ¯è§£è¦ç\n * ç¨æ·è°ç¨ééå¨è½¬ååºæ¥çç®æ æ¥å£æ¹æ³ï¼ééå¨åè°ç¨è¢«ééèçç¸å³æ¥å£æ¹æ³\n * ç¨æ·æ¶å°åé¦ç»æï¼æè§åªæ¯åç®æ æ¥å£äº¤äº\n\n\n# ééå¨æ¨¡å¼ç»æ\n\n\n# å¯¹è±¡ééå¨\n\nå®ç°æ¶ä½¿ç¨äºææååï¼ ééå¨å®ç°äºå¶ä¸­ä¸ä¸ªå¯¹è±¡çæ¥å£ï¼ å¹¶å¯¹å¦ä¸ä¸ªå¯¹è±¡è¿è¡å°è£ã æææµè¡çç¼ç¨è¯­è¨é½å¯ä»¥å®ç°ééå¨ã\n\nééå¨è®¾è®¡æ¨¡å¼çç»æï¼å¯¹è±¡ééå¨ï¼\n\n * å®¢æ·ç«¯ ï¼Clientï¼ æ¯åå«å½åç¨åºä¸å¡é»è¾çç±»ã\n * å®¢æ·ç«¯æ¥å£ ï¼Targetï¼ æè¿°äºå¶ä»ç±»ä¸å®¢æ·ç«¯ä»£ç åä½æ¶å¿é¡»éµå¾ªçåè®®ã\n * æå¡ ï¼Serviceï¼ ä¸­æä¸äºåè½ç±» ï¼éå¸¸æ¥èªç¬¬ä¸æ¹æéçç³»ç»ï¼ã å®¢æ·ç«¯ä¸å¶æ¥å£ä¸å¼å®¹ï¼ å æ­¤æ æ³ç´æ¥è°ç¨å¶åè½ï¼ä¹å¯ä»¥å«ééèç±»ï¼Adapteeï¼ã\n * ééå¨ ï¼Adapterï¼ æ¯ä¸ä¸ªå¯ä»¥åæ¶ä¸å®¢æ·ç«¯åæå¡äº¤äºçç±»ï¼ å®å¨å®ç°å®¢æ·ç«¯æ¥å£çåæ¶å°è£äºæå¡å¯¹è±¡ã ééå¨æ¥åå®¢æ·ç«¯éè¿ééå¨æ¥å£åèµ·çè°ç¨ï¼ å¹¶å°å¶è½¬æ¢ä¸ºéç¨äºè¢«å°è£æå¡å¯¹è±¡çè°ç¨ã\n * å®¢æ·ç«¯ä»£ç åªééè¿æ¥å£ä¸ééå¨äº¤äºå³å¯ï¼ æ éä¸å·ä½çééå¨ç±»è¦åã å æ­¤ï¼ ä½ å¯ä»¥åç¨åºä¸­æ·»å æ°ç±»åçééå¨èæ éä¿®æ¹å·²æä»£ç ã è¿å¨æå¡ç±»çæ¥å£è¢«æ´æ¹ææ¿æ¢æ¶å¾æç¨ï¼ ä½ æ éä¿®æ¹å®¢æ·ç«¯ä»£ç å°±å¯ä»¥åå»ºæ°çééå¨ç±»ã\n\n\n# Coding\n\nå®ä¹å®¢æ·ç«¯ä½¿ç¨çæ¥å£ï¼ä¸ä¸å¡ç¸å³\n\npublic interface Target {\n\n    /*\n     * å®¢æ·ç«¯è¯·æ±å¤ççæ¹æ³\n     */\n    void request();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå·²ç»å­å¨çæ¥å£ï¼è¿ä¸ªæ¥å£éè¦éç½®\n\npublic class Adaptee {\n\n    /*\n     * åæ¬å­å¨çæ¹æ³\n     */\n    public void specificRequest(){\n    //ä¸å¡ä»£ç \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nééå¨ç±»\n\npublic class Adapter implements Target {\n\n    /*\n     * ææéè¦è¢«ééçæ¥å£å¯¹è±¡\n     */\n    private Adaptee adaptee;\n\n    /*\n     * æé æ¹æ³ï¼ä¼ å¥éè¦è¢«ééçå¯¹è±¡\n     * @param adaptee éè¦è¢«ééçå¯¹è±¡\n     */\n    public Adapter(Adaptee adaptee) {\n        this.adaptee = adaptee;\n    }\n\n    @Override\n    public void request() {\n        // TODO Auto-generated method stub\n        adaptee.specificRequest();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nä½¿ç¨ééå¨çå®¢æ·ç«¯\n\npublic class Client {\n\n    public static void main(String[] args) {\n        //åå»ºéè¦è¢«ééçå¯¹è±¡\n        Adaptee adaptee = new Adaptee();\n        //åå»ºå®¢æ·ç«¯éè¦è°ç¨çæ¥å£å¯¹è±¡\n        Target target = new Adapter(adaptee);\n        //è¯·æ±å¤ç\n        target.request();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ç±»ééå¨\n\nè¿ä¸å®ç°ä½¿ç¨äºç»§æ¿æºå¶ï¼ ééå¨åæ¶ç»§æ¿ä¸¤ä¸ªå¯¹è±¡çæ¥å£ã è¯·æ³¨æï¼ è¿ç§æ¹å¼ä»è½å¨æ¯æå¤éç»§æ¿çç¼ç¨è¯­è¨ä¸­å®ç°ï¼ä¾å¦ C++ï¼ Java ä¸æ¯æå¤éç»§æ¿ï¼ä¹å°±æ²¡æè¿ç§ééå¨äºã\n\nééå¨è®¾è®¡æ¨¡å¼ï¼ç±»ééå¨ï¼\n\nç±»ééå¨ä¸éè¦å°è£ä»»ä½å¯¹è±¡ï¼ å ä¸ºå®åæ¶ç»§æ¿äºå®¢æ·ç«¯åæå¡çè¡ä¸ºã ééåè½å¨éåçæ¹æ³ä¸­å®æã æåçæçééå¨å¯æ¿ä»£å·²æçå®¢æ·ç«¯ç±»è¿è¡ä½¿ç¨ã\n\n\n# Coding\n\nJava è½ç¶ä¸è½å®ç°æ åçç±»ééå¨ï¼ä½æ¯æä¸ç§åéçæ¹å¼ï¼ä¹è½å¤ä½¿ç¨ç»§æ¿æ¥å®ç°æ¥å£çééï¼é£å°±æ¯è®©ééå¨å»å®ç° Target çæ¥å£ï¼ç¶åç»§æ¿ Adaptee çå®ç°ï¼è½ç¶ä¸æ¯ååæ åï¼ä½ææå·®ä¸å¤ã\n\né¦åæä¸ä¸ªå·²å­å¨çå°è¢«ééçç±»\n\npublic class Adaptee {\n    public void adapteeRequest() {\n        System.out.println("è¢«ééèçæ¹æ³");\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nå®ä¹å®¢æ·ç«¯ä½¿ç¨çæ¥å£ï¼ä¸ä¸å¡ç¸å³\n\npublic interface Target {\n\n    void request();\n}\n\n\n1\n2\n3\n4\n\n\næä¹æå¯ä»¥å¨ç®æ æ¥å£ä¸­ç request() è°ç¨ Adaptee ç adapteeRequest() æ¹æ³å¢ï¼ç´æ¥å®ç° Target è¯å®æ¯ä¸è¡çï¼æä»¥æä»¬éè¿ä¸ä¸ªééå¨ç±»ï¼å®ç° Target æ¥å£ï¼åæ¶ç»§æ¿äº Adaptee ç±»ï¼ç¶åå¨å®ç°ç request() æ¹æ³ä¸­è°ç¨ç¶ç±»ç adapteeRequest() å³å¯\n\npublic class Adapter extends Adaptee implements Target{\n    @Override\n    public void request() {\n        //...ä¸äºæä½...\n        super.adapteeRequest();\n        //...ä¸äºæä½...\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½¿ç¨ééå¨çå®¢æ·ç«¯\n\npublic class Client {\n    public static void main(String[] args) {\n\n        Target adapterTarget = new Adapter();\n        adapterTarget.request();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# ééå¨æ¨¡å¼éååºç¨åºæ¯\n\nå½ä½ å¸æä½¿ç¨æä¸ªç±»ï¼ ä½æ¯å¶æ¥å£ä¸å¶ä»ä»£ç ä¸å¼å®¹æ¶ï¼ å¯ä»¥ä½¿ç¨ééå¨ç±»ã\n\nééå¨æ¨¡å¼åè®¸ä½ åå»ºä¸ä¸ªä¸­é´å±ç±»ï¼ å¶å¯ä½ä¸ºä»£ç ä¸éçç±»ã ç¬¬ä¸æ¹ç±»ææä¾æªå¼æ¥å£çç±»ä¹é´çè½¬æ¢å¨ã\n\nå¦ææ¨éè¦å¤ç¨è¿æ ·ä¸äºç±»ï¼ ä»ä»¬å¤äºåä¸ä¸ªç»§æ¿ä½ç³»ï¼ å¹¶ä¸ä»ä»¬åæäºé¢å¤çä¸äºå±åçæ¹æ³ï¼ ä½æ¯è¿äºå±åçæ¹æ³ä¸æ¯ææå¨è¿ä¸ç»§æ¿ä½ç³»ä¸­çå­ç±»æå·æçå±æ§ã\n\nä½ å¯ä»¥æ©å±æ¯ä¸ªå­ç±»ï¼ å°ç¼ºå°çåè½æ·»å å°æ°çå­ç±»ä¸­ã ä½æ¯ï¼ ä½ å¿é¡»å¨æææ°å­ç±»ä¸­éå¤æ·»å è¿äºä»£ç ï¼ è¿æ ·ä¼ä½¿å¾ä»£ç æåå³éã\n\nå°ç¼ºå¤±åè½æ·»å å°ä¸ä¸ªééå¨ç±»ä¸­æ¯ä¸ç§ä¼éå¾å¤çè§£å³æ¹æ¡ã ç¶åä½ å¯ä»¥å°ç¼ºå°åè½çå¯¹è±¡å°è£å¨ééå¨ä¸­ï¼ ä»èå¨æå°è·åæéåè½ã å¦è¦è¿ä¸ç¹æ­£å¸¸è¿ä½ï¼ ç®æ ç±»å¿é¡»è¦æéç¨æ¥å£ï¼ ééå¨çæååéåºå½éµå¾ªè¯¥éç¨æ¥å£ã è¿ç§æ¹å¼åè£é¥°æ¨¡å¼éå¸¸ç¸ä¼¼ã\n\n\n# demo\n\nç¨ä¸ä¸ªçæ´»ä¸­çåçµå¨çä¾å­æ¥è®²è§£ä¸ééå¨ï¼æå½æ°ç¨çµé½æ¯ 220Vï¼èæä»¬çææºåçµä¸è¬éè¦ 5Vã\n\n220V çäº¤æµçµç¸å½äºè¢«ééè Adapteeï¼æä»¬çç®æ  Target æ¯ 5V ç´æµçµï¼åçµå¨æ¬èº«ç¸å½äºä¸ä¸ª Adapterï¼å°220V çè¾å¥çµååæ¢ä¸º 5V è¾åºã\n\né¦åæ¯æä»¬çæ°ç¨çµï¼æå½æ¯ 220Vï¼å½ç¶è¿å¯ä»¥æå¶ä»å½å®¶çå¶ä»åå¤ï¼å¯éæ¶æ©å±ï¼\n\npublic class Volatage220V {\n\n    public final int output = 220;\n\n    public int output220v() {\n        System.out.println("è¾åºçµå " + output);\n        return output;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nééæ¥å£\n\npublic interface IVoltage5V {\n     int output5V();\n}\n\n\n1\n2\n3\n\n\næä»¬çææºåçµï¼åªæ¯æ 5V çµå\n\npublic class Phone {\n\n    public void charging(IVoltage5V v) {\n        if (v.output5V() == 5) {\n            System.out.println("çµå 5V ï¼ç¬¦ååçµæ åï¼å¼å§åçµ");\n        } else {\n            System.out.println("çµåä¸ç¬¦åæ åï¼æ æ³åçµ");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nééå¨\n\npublic class VoltageAdapter implements IVoltage5V {\n\n    private Volatage220V volatage220V;  //èå\n\n    public VoltageAdapter(Volatage220V v) {\n        this.volatage220V = v;\n    }\n\n    @Override\n    public int output5V() {\n        int dst = 0;\n        if (null != volatage220V) {\n            int src = volatage220V.output220v();\n            System.out.println("ééå¨å·¥ä½~~~~~");\n            dst = src / 44;\n            System.out.println("ééå¨å·¥ä½å®æï¼è¾åºçµå" + dst);\n        }\n        return dst;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå·¥ä½ï¼å¦æå»å½å¤ææ¸¸ï¼æä¸åççµåï¼åªéè¦æ©å±ééå¨å³å¯ã\n\npublic class Client {\n    public static void main(String[] args) {\n        Phone phone = new Phone();\n        phone.charging(new VoltageAdapter(new Volatage220V()));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ééå¨æ¨¡å¼ä¼ç¼ºç¹\n\nåä¸èè´£ååï¼ä½ å¯ä»¥å°æ¥å£ææ°æ®è½¬æ¢ä»£ç ä»ç¨åºä¸»è¦ä¸å¡é»è¾ä¸­åç¦»ã\n\nå¼é­ååã åªè¦å®¢æ·ç«¯ä»£ç éè¿å®¢æ·ç«¯æ¥å£ä¸ééå¨è¿è¡äº¤äºï¼ ä½ å°±è½å¨ä¸ä¿®æ¹ç°æå®¢æ·ç«¯ä»£ç çæåµä¸å¨ç¨åºä¸­æ·»å æ°ç±»åçééå¨ã\n\nä»£ç æ´ä½å¤æåº¦å¢å ï¼ å ä¸ºä½ éè¦æ°å¢ä¸ç³»åæ¥å£åç±»ã ææ¶ç´æ¥æ´æ¹æå¡ç±»ä½¿å¶ä¸å¶ä»ä»£ç å¼å®¹ä¼æ´ç®åã\n\n\n# Spring ä¸­çééå¨\n\nSpring æºç ä¸­æå³é®å­Adapter ä¼åºç°å¾å¤å®ç°ç±»ï¼SpringMVC ä¸­ç HandlerAdapter ï¼å°±æ¯ééå¨çåºç¨ã\n\næä»¬ååé¡¾ä¸ SpringMVC å¤çæµç¨ï¼\n\nSpring MVC ä¸­çééå¨æ¨¡å¼ä¸»è¦ç¨äºæ§è¡ç®æ  Controller ä¸­çè¯·æ±å¤çæ¹æ³ã\n\nå¨Spring MVCä¸­ï¼DispatcherServlet ä½ä¸ºç¨æ·ï¼HandlerAdapter ä½ä¸ºæææ¥å£ï¼å·ä½çééå¨å®ç°ç±»ç¨äºå¯¹ç®æ ç±»è¿è¡ééï¼Controller ä½ä¸ºéè¦ééçç±»ã\n\nä¸ºä»ä¹è¦å¨ Spring MVC ä¸­ä½¿ç¨ééå¨æ¨¡å¼ï¼Spring MVC ä¸­ç Controller ç§ç±»ä¼å¤ï¼ä¸åç±»åç Controller éè¿ä¸åçæ¹æ³æ¥å¯¹è¯·æ±è¿è¡å¤çãå¦æä¸å©ç¨ééå¨æ¨¡å¼çè¯ï¼DispatcherServlet ç´æ¥è·åå¯¹åºç±»åç Controllerï¼éè¦çèªè¡æ¥å¤æ­ï¼åä¸é¢è¿æ®µä»£ç ä¸æ ·ï¼\n\nif(mappedHandler.getHandler() instanceof MultiActionController){  \n   ((MultiActionController)mappedHandler.getHandler()).xxx  \n}else if(mappedHandler.getHandler() instanceof XXX){  \n    ...  \n}else if(...){  \n   ...  \n}  \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè¿æ ·åè®¾å¦ææä»¬å¢å ä¸ä¸ª Controllerï¼å°±è¦å¨ä»£ç ä¸­å å¥ä¸è¡ if è¯­å¥ï¼è¿ç§å½¢å¼å°±ä½¿å¾ç¨åºé¾ä»¥ç»´æ¤ï¼ä¹è¿åäºè®¾è®¡æ¨¡å¼ä¸­çå¼é­åå â å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã\n\næä»¬éè¿æºç çç SpringMVC æ¯å¦ä½å®ç°çï¼é¦åçä¸æ ¸å¿ç±» DispatcherServletï¼\n\npublic class DispatcherServlet extends FrameworkServlet {\n  \t//......\n\t//ç»´æ¤ææHandlerAdapterç±»çéå\n    @Nullable\n    private List<HandlerAdapter> handlerAdapters;\n  \n\t//åå§åhandlerAdapters\n    private void initHandlerAdapters(ApplicationContext context) {\n        this.handlerAdapters = null;\n        if (this.detectAllHandlerAdapters) {\n            Map<String, HandlerAdapter> matchingBeans = BeanFactoryUtils.beansOfTypeIncludingAncestors(context, HandlerAdapter.class, true, false);\n            if (!matchingBeans.isEmpty()) {\n                this.handlerAdapters = new ArrayList(matchingBeans.values());\n                AnnotationAwareOrderComparator.sort(this.handlerAdapters);\n            }\n        } else {\n            try {\n                HandlerAdapter ha = (HandlerAdapter)context.getBean("handlerAdapter", HandlerAdapter.class);\n                this.handlerAdapters = Collections.singletonList(ha);\n            } catch (NoSuchBeanDefinitionException var3) {\n            }\n        }\n\n        if (this.handlerAdapters == null) {\n            this.handlerAdapters = this.getDefaultStrategies(context, HandlerAdapter.class);\n            if (this.logger.isTraceEnabled()) {\n                this.logger.trace("No HandlerAdapters declared for servlet \'" + this.getServletName() + "\': using default strategies from DispatcherServlet.properties");\n            }\n        }\n    }\n  \n  //dispatch æ¹æ³ä¸­ä¼è·å HandlerAdapter\n  protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        //...\n    \n\t\t//è·å¾controllerå¯¹åºçééå¨\n        HandlerAdapter ha = this.getHandlerAdapter(mappedHandler.getHandler());          \n\t\t\t\t\n\t\t//è°ç¨ééå¨çhandleræ¹æ³å¤çè¯·æ±ï¼å¹¶è¿åModelAndView\n        mv = ha.handle(processedRequest, response, mappedHandler.getHandler());            \n        //...\n    }\n  \t\n\t  //è¿åå¯¹åºçcontrollerçå¤çå¨\n      protected HandlerAdapter getHandlerAdapter(Object handler) throws ServletException {\n        if (this.handlerAdapters != null) {\n            Iterator var2 = this.handlerAdapters.iterator();\n\n            while(var2.hasNext()) {\n                HandlerAdapter adapter = (HandlerAdapter)var2.next();\n                if (adapter.supports(handler)) {\n                    return adapter;\n                }\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\næ¥ççä¸ HandlerAdapter çæºç ï¼ä¹å°±æ¯ééå¨æ¥å£:\n\npublic interface HandlerAdapter {\n    boolean supports(Object var1);\n\n    @Nullable\n    ModelAndView handle(HttpServletRequest var1, HttpServletResponse var2, Object var3) throws Exception;\n\n    long getLastModified(HttpServletRequest var1, Object var2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåæ¥å±¡ä¸ä¸è¿ä¸ªæµç¨ï¼\n\né¦åæ¯ééå¨æ¥å£ DispatchServlet ä¸­æä¸ä¸ªéåç»´æ¤ææç HandlerAdapterï¼å¦æéç½®æä»¶ä¸­æ²¡æå¯¹ééå¨è¿è¡éç½®ï¼é£ä¹ DispatchServlet ä¼å¨åå»ºæ¶å¯¹è¯¥åéè¿è¡åå§åï¼æ³¨åææé»è®¤ç HandlerAdapterã\n\nå½ä¸ä¸ªè¯·æ±è¿æ¥æ¶ï¼DispatchServlet ä¼æ ¹æ®ä¼ è¿æ¥ç handler ç±»åä»è¯¥éåä¸­å¯»æ¾å¯¹åºç HandlerAdapterå­ç±»è¿è¡å¤çï¼å¹¶ä¸è°ç¨å®ç handler() æ¹æ³ å¯¹åºç HandlerAdapter ä¸­ç handler() æ¹æ³åä¼æ§è¡å¯¹åº Controller ç handleRequest() æ¹æ³\n\nééå¨ä¸ handler æå¯¹åºå³ç³»ï¼èåä¸ªééå¨åé½æ¯ééå¨æ¥å£çå®ç°ç±»ï¼å æ­¤ï¼å®ä»¬é½éµå¾ªç¸åçééå¨æ åï¼æä»¥ç¨æ·å¯ä»¥æç§ç¸åçæ¹å¼ï¼éè¿ä¸åç handler å»å¤çè¯·æ±ã\n\nå½ç¶äºï¼Spring æ¡æ¶ä¸­ä¹ä¸ºæä»¬å®ä¹äºä¸äºé»è®¤ç Handler å¯¹åºçééå¨ã\n\néè¿ééå¨æ¨¡å¼æä»¬å°ææç controller ç»ä¸äº¤ç» HandlerAdapter å¤çï¼åå»äºåå¤§éç if-else è¯­å¥å¯¹ Controller è¿è¡å¤æ­ï¼ä¹æ´å©äºæ©å±æ°ç Controller ç±»åã\n\nåèï¼ ééèå®çééå¨æ¨¡å¼ | Spring ä¸­çééå¨',normalizedContent:'# é®é¢\n\nåè®¾æä»¬å¨åä¸å¥è¡ç¥¨ççç³»ç»ï¼æ°æ®æä¾æ¹ç»æä»¬æä¾ xml æ ¼å¼æ°æ®ï¼æä»¬è·åæ°æ®ç¨æ¥æ¾ç¤ºï¼éçç³»ç»çè¿­ä»£ï¼æä»¬è¦æ´åä¸äºç¬¬ä¸æ¹ç³»ç»çå¯¹å¤æ°æ®ï¼ä½æ¯ä»ä»¬åªæä¾è·å json æ ¼å¼çæ°æ®æ¥å£ã\n\nå¨ä¸æ³æ¹ååæä»£ç é»è¾çæåµä¸ï¼å¦ä½è§£å³å¢ï¼\n\nè¿æ¶åæä»¬å°±å¯ä»¥åå»ºä¸ä¸ªãééå¨ããè¿æ¯ä¸ä¸ªç¹æ®çå¯¹è±¡ï¼ è½å¤è½¬æ¢å¯¹è±¡æ¥å£ï¼ ä½¿å¶è½ä¸å¶ä»å¯¹è±¡è¿è¡äº¤äºã\n\nééå¨æ¨¡å¼éè¿å°è£å¯¹è±¡å°å¤æçè½¬æ¢è¿ç¨éèäºå¹åã è¢«å°è£çå¯¹è±¡çè³å¯è§ä¸å°ééå¨çå­å¨ã\n\n\n\n\n# çå®ä¸çç±»æ¯\n\nééå¨æ¯ä»ä¹ï¼ä¸é¾çè§£ï¼çæ´»ä¸­ä¹éå¤å¯è§ãæ¯å¦ï¼ç¬è®°æ¬çµèççµæºééå¨ãä¸è½åï¼æ¾ç»çå®çæä¸ä¸ªè¿ä¹çé¼çåå­ï¼ãä¸æåæ°æ®çº¿ç­ç­ã\n\n\n# åºæ¬ä»ç»\n\n * ééå¨æ¨¡å¼å°ä¸ä¸ªç±»çæ¥å£ï¼è½¬æ¢æå®¢æ·ææçå¦å¤ä¸ä¸ªæ¥å£ãééå¨è®©åæ¬æ¥å£ä¸å¼å®¹çç±»å¯ä»¥åä½æ é´ãä¹å¯ä»¥å«åè£å¨ï¼wrapperï¼\n\n * ééå¨æ¨¡å¼æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ å®è½ä½¿æ¥å£ä¸å¼å®¹çå¯¹è±¡è½å¤ç¸äºåä½\n\n * ä¸»è¦åä¸ºä¸¤ç±»ï¼ç±»ééå¨æ¨¡å¼ãå¯¹è±¡ééå¨æ¨¡å¼\n\n\n# å·¥ä½åç\n\n * ééå¨æ¨¡å¼ï¼å°ä¸ä¸ªç±»çæ¥å£è½¬æ¢æå¦ä¸ç§æ¥å£ï¼è®©åæ¬æ¥å£ä¸å¼å®¹çç±»å¯ä»¥å¼å®¹\n * ä»ç¨æ·çè§åº¦çä¸å°è¢«ééèï¼æ¯è§£è¦ç\n * ç¨æ·è°ç¨ééå¨è½¬ååºæ¥çç®æ æ¥å£æ¹æ³ï¼ééå¨åè°ç¨è¢«ééèçç¸å³æ¥å£æ¹æ³\n * ç¨æ·æ¶å°åé¦ç»æï¼æè§åªæ¯åç®æ æ¥å£äº¤äº\n\n\n# ééå¨æ¨¡å¼ç»æ\n\n\n# å¯¹è±¡ééå¨\n\nå®ç°æ¶ä½¿ç¨äºææååï¼ ééå¨å®ç°äºå¶ä¸­ä¸ä¸ªå¯¹è±¡çæ¥å£ï¼ å¹¶å¯¹å¦ä¸ä¸ªå¯¹è±¡è¿è¡å°è£ã æææµè¡çç¼ç¨è¯­è¨é½å¯ä»¥å®ç°ééå¨ã\n\nééå¨è®¾è®¡æ¨¡å¼çç»æï¼å¯¹è±¡ééå¨ï¼\n\n * å®¢æ·ç«¯ ï¼clientï¼ æ¯åå«å½åç¨åºä¸å¡é»è¾çç±»ã\n * å®¢æ·ç«¯æ¥å£ ï¼targetï¼ æè¿°äºå¶ä»ç±»ä¸å®¢æ·ç«¯ä»£ç åä½æ¶å¿é¡»éµå¾ªçåè®®ã\n * æå¡ ï¼serviceï¼ ä¸­æä¸äºåè½ç±» ï¼éå¸¸æ¥èªç¬¬ä¸æ¹æéçç³»ç»ï¼ã å®¢æ·ç«¯ä¸å¶æ¥å£ä¸å¼å®¹ï¼ å æ­¤æ æ³ç´æ¥è°ç¨å¶åè½ï¼ä¹å¯ä»¥å«ééèç±»ï¼adapteeï¼ã\n * ééå¨ ï¼adapterï¼ æ¯ä¸ä¸ªå¯ä»¥åæ¶ä¸å®¢æ·ç«¯åæå¡äº¤äºçç±»ï¼ å®å¨å®ç°å®¢æ·ç«¯æ¥å£çåæ¶å°è£äºæå¡å¯¹è±¡ã ééå¨æ¥åå®¢æ·ç«¯éè¿ééå¨æ¥å£åèµ·çè°ç¨ï¼ å¹¶å°å¶è½¬æ¢ä¸ºéç¨äºè¢«å°è£æå¡å¯¹è±¡çè°ç¨ã\n * å®¢æ·ç«¯ä»£ç åªééè¿æ¥å£ä¸ééå¨äº¤äºå³å¯ï¼ æ éä¸å·ä½çééå¨ç±»è¦åã å æ­¤ï¼ ä½ å¯ä»¥åç¨åºä¸­æ·»å æ°ç±»åçééå¨èæ éä¿®æ¹å·²æä»£ç ã è¿å¨æå¡ç±»çæ¥å£è¢«æ´æ¹ææ¿æ¢æ¶å¾æç¨ï¼ ä½ æ éä¿®æ¹å®¢æ·ç«¯ä»£ç å°±å¯ä»¥åå»ºæ°çééå¨ç±»ã\n\n\n# coding\n\nå®ä¹å®¢æ·ç«¯ä½¿ç¨çæ¥å£ï¼ä¸ä¸å¡ç¸å³\n\npublic interface target {\n\n    /*\n     * å®¢æ·ç«¯è¯·æ±å¤ççæ¹æ³\n     */\n    void request();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå·²ç»å­å¨çæ¥å£ï¼è¿ä¸ªæ¥å£éè¦éç½®\n\npublic class adaptee {\n\n    /*\n     * åæ¬å­å¨çæ¹æ³\n     */\n    public void specificrequest(){\n    //ä¸å¡ä»£ç \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nééå¨ç±»\n\npublic class adapter implements target {\n\n    /*\n     * ææéè¦è¢«ééçæ¥å£å¯¹è±¡\n     */\n    private adaptee adaptee;\n\n    /*\n     * æé æ¹æ³ï¼ä¼ å¥éè¦è¢«ééçå¯¹è±¡\n     * @param adaptee éè¦è¢«ééçå¯¹è±¡\n     */\n    public adapter(adaptee adaptee) {\n        this.adaptee = adaptee;\n    }\n\n    @override\n    public void request() {\n        // todo auto-generated method stub\n        adaptee.specificrequest();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nä½¿ç¨ééå¨çå®¢æ·ç«¯\n\npublic class client {\n\n    public static void main(string[] args) {\n        //åå»ºéè¦è¢«ééçå¯¹è±¡\n        adaptee adaptee = new adaptee();\n        //åå»ºå®¢æ·ç«¯éè¦è°ç¨çæ¥å£å¯¹è±¡\n        target target = new adapter(adaptee);\n        //è¯·æ±å¤ç\n        target.request();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# ç±»ééå¨\n\nè¿ä¸å®ç°ä½¿ç¨äºç»§æ¿æºå¶ï¼ ééå¨åæ¶ç»§æ¿ä¸¤ä¸ªå¯¹è±¡çæ¥å£ã è¯·æ³¨æï¼ è¿ç§æ¹å¼ä»è½å¨æ¯æå¤éç»§æ¿çç¼ç¨è¯­è¨ä¸­å®ç°ï¼ä¾å¦ c++ï¼ java ä¸æ¯æå¤éç»§æ¿ï¼ä¹å°±æ²¡æè¿ç§ééå¨äºã\n\nééå¨è®¾è®¡æ¨¡å¼ï¼ç±»ééå¨ï¼\n\nç±»ééå¨ä¸éè¦å°è£ä»»ä½å¯¹è±¡ï¼ å ä¸ºå®åæ¶ç»§æ¿äºå®¢æ·ç«¯åæå¡çè¡ä¸ºã ééåè½å¨éåçæ¹æ³ä¸­å®æã æåçæçééå¨å¯æ¿ä»£å·²æçå®¢æ·ç«¯ç±»è¿è¡ä½¿ç¨ã\n\n\n# coding\n\njava è½ç¶ä¸è½å®ç°æ åçç±»ééå¨ï¼ä½æ¯æä¸ç§åéçæ¹å¼ï¼ä¹è½å¤ä½¿ç¨ç»§æ¿æ¥å®ç°æ¥å£çééï¼é£å°±æ¯è®©ééå¨å»å®ç° target çæ¥å£ï¼ç¶åç»§æ¿ adaptee çå®ç°ï¼è½ç¶ä¸æ¯ååæ åï¼ä½ææå·®ä¸å¤ã\n\né¦åæä¸ä¸ªå·²å­å¨çå°è¢«ééçç±»\n\npublic class adaptee {\n    public void adapteerequest() {\n        system.out.println("è¢«ééèçæ¹æ³");\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nå®ä¹å®¢æ·ç«¯ä½¿ç¨çæ¥å£ï¼ä¸ä¸å¡ç¸å³\n\npublic interface target {\n\n    void request();\n}\n\n\n1\n2\n3\n4\n\n\næä¹æå¯ä»¥å¨ç®æ æ¥å£ä¸­ç request() è°ç¨ adaptee ç adapteerequest() æ¹æ³å¢ï¼ç´æ¥å®ç° target è¯å®æ¯ä¸è¡çï¼æä»¥æä»¬éè¿ä¸ä¸ªééå¨ç±»ï¼å®ç° target æ¥å£ï¼åæ¶ç»§æ¿äº adaptee ç±»ï¼ç¶åå¨å®ç°ç request() æ¹æ³ä¸­è°ç¨ç¶ç±»ç adapteerequest() å³å¯\n\npublic class adapter extends adaptee implements target{\n    @override\n    public void request() {\n        //...ä¸äºæä½...\n        super.adapteerequest();\n        //...ä¸äºæä½...\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½¿ç¨ééå¨çå®¢æ·ç«¯\n\npublic class client {\n    public static void main(string[] args) {\n\n        target adaptertarget = new adapter();\n        adaptertarget.request();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# ééå¨æ¨¡å¼éååºç¨åºæ¯\n\nå½ä½ å¸æä½¿ç¨æä¸ªç±»ï¼ ä½æ¯å¶æ¥å£ä¸å¶ä»ä»£ç ä¸å¼å®¹æ¶ï¼ å¯ä»¥ä½¿ç¨ééå¨ç±»ã\n\nééå¨æ¨¡å¼åè®¸ä½ åå»ºä¸ä¸ªä¸­é´å±ç±»ï¼ å¶å¯ä½ä¸ºä»£ç ä¸éçç±»ã ç¬¬ä¸æ¹ç±»ææä¾æªå¼æ¥å£çç±»ä¹é´çè½¬æ¢å¨ã\n\nå¦ææ¨éè¦å¤ç¨è¿æ ·ä¸äºç±»ï¼ ä»ä»¬å¤äºåä¸ä¸ªç»§æ¿ä½ç³»ï¼ å¹¶ä¸ä»ä»¬åæäºé¢å¤çä¸äºå±åçæ¹æ³ï¼ ä½æ¯è¿äºå±åçæ¹æ³ä¸æ¯ææå¨è¿ä¸ç»§æ¿ä½ç³»ä¸­çå­ç±»æå·æçå±æ§ã\n\nä½ å¯ä»¥æ©å±æ¯ä¸ªå­ç±»ï¼ å°ç¼ºå°çåè½æ·»å å°æ°çå­ç±»ä¸­ã ä½æ¯ï¼ ä½ å¿é¡»å¨æææ°å­ç±»ä¸­éå¤æ·»å è¿äºä»£ç ï¼ è¿æ ·ä¼ä½¿å¾ä»£ç æåå³éã\n\nå°ç¼ºå¤±åè½æ·»å å°ä¸ä¸ªééå¨ç±»ä¸­æ¯ä¸ç§ä¼éå¾å¤çè§£å³æ¹æ¡ã ç¶åä½ å¯ä»¥å°ç¼ºå°åè½çå¯¹è±¡å°è£å¨ééå¨ä¸­ï¼ ä»èå¨æå°è·åæéåè½ã å¦è¦è¿ä¸ç¹æ­£å¸¸è¿ä½ï¼ ç®æ ç±»å¿é¡»è¦æéç¨æ¥å£ï¼ ééå¨çæååéåºå½éµå¾ªè¯¥éç¨æ¥å£ã è¿ç§æ¹å¼åè£é¥°æ¨¡å¼éå¸¸ç¸ä¼¼ã\n\n\n# demo\n\nç¨ä¸ä¸ªçæ´»ä¸­çåçµå¨çä¾å­æ¥è®²è§£ä¸ééå¨ï¼æå½æ°ç¨çµé½æ¯ 220vï¼èæä»¬çææºåçµä¸è¬éè¦ 5vã\n\n220v çäº¤æµçµç¸å½äºè¢«ééè adapteeï¼æä»¬çç®æ  target æ¯ 5v ç´æµçµï¼åçµå¨æ¬èº«ç¸å½äºä¸ä¸ª adapterï¼å°220v çè¾å¥çµååæ¢ä¸º 5v è¾åºã\n\né¦åæ¯æä»¬çæ°ç¨çµï¼æå½æ¯ 220vï¼å½ç¶è¿å¯ä»¥æå¶ä»å½å®¶çå¶ä»åå¤ï¼å¯éæ¶æ©å±ï¼\n\npublic class volatage220v {\n\n    public final int output = 220;\n\n    public int output220v() {\n        system.out.println("è¾åºçµå " + output);\n        return output;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nééæ¥å£\n\npublic interface ivoltage5v {\n     int output5v();\n}\n\n\n1\n2\n3\n\n\næä»¬çææºåçµï¼åªæ¯æ 5v çµå\n\npublic class phone {\n\n    public void charging(ivoltage5v v) {\n        if (v.output5v() == 5) {\n            system.out.println("çµå 5v ï¼ç¬¦ååçµæ åï¼å¼å§åçµ");\n        } else {\n            system.out.println("çµåä¸ç¬¦åæ åï¼æ æ³åçµ");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nééå¨\n\npublic class voltageadapter implements ivoltage5v {\n\n    private volatage220v volatage220v;  //èå\n\n    public voltageadapter(volatage220v v) {\n        this.volatage220v = v;\n    }\n\n    @override\n    public int output5v() {\n        int dst = 0;\n        if (null != volatage220v) {\n            int src = volatage220v.output220v();\n            system.out.println("ééå¨å·¥ä½~~~~~");\n            dst = src / 44;\n            system.out.println("ééå¨å·¥ä½å®æï¼è¾åºçµå" + dst);\n        }\n        return dst;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nå·¥ä½ï¼å¦æå»å½å¤ææ¸¸ï¼æä¸åççµåï¼åªéè¦æ©å±ééå¨å³å¯ã\n\npublic class client {\n    public static void main(string[] args) {\n        phone phone = new phone();\n        phone.charging(new voltageadapter(new volatage220v()));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ééå¨æ¨¡å¼ä¼ç¼ºç¹\n\nåä¸èè´£ååï¼ä½ å¯ä»¥å°æ¥å£ææ°æ®è½¬æ¢ä»£ç ä»ç¨åºä¸»è¦ä¸å¡é»è¾ä¸­åç¦»ã\n\nå¼é­ååã åªè¦å®¢æ·ç«¯ä»£ç éè¿å®¢æ·ç«¯æ¥å£ä¸ééå¨è¿è¡äº¤äºï¼ ä½ å°±è½å¨ä¸ä¿®æ¹ç°æå®¢æ·ç«¯ä»£ç çæåµä¸å¨ç¨åºä¸­æ·»å æ°ç±»åçééå¨ã\n\nä»£ç æ´ä½å¤æåº¦å¢å ï¼ å ä¸ºä½ éè¦æ°å¢ä¸ç³»åæ¥å£åç±»ã ææ¶ç´æ¥æ´æ¹æå¡ç±»ä½¿å¶ä¸å¶ä»ä»£ç å¼å®¹ä¼æ´ç®åã\n\n\n# spring ä¸­çééå¨\n\nspring æºç ä¸­æå³é®å­adapter ä¼åºç°å¾å¤å®ç°ç±»ï¼springmvc ä¸­ç handleradapter ï¼å°±æ¯ééå¨çåºç¨ã\n\næä»¬ååé¡¾ä¸ springmvc å¤çæµç¨ï¼\n\nspring mvc ä¸­çééå¨æ¨¡å¼ä¸»è¦ç¨äºæ§è¡ç®æ  controller ä¸­çè¯·æ±å¤çæ¹æ³ã\n\nå¨spring mvcä¸­ï¼dispatcherservlet ä½ä¸ºç¨æ·ï¼handleradapter ä½ä¸ºæææ¥å£ï¼å·ä½çééå¨å®ç°ç±»ç¨äºå¯¹ç®æ ç±»è¿è¡ééï¼controller ä½ä¸ºéè¦ééçç±»ã\n\nä¸ºä»ä¹è¦å¨ spring mvc ä¸­ä½¿ç¨ééå¨æ¨¡å¼ï¼spring mvc ä¸­ç controller ç§ç±»ä¼å¤ï¼ä¸åç±»åç controller éè¿ä¸åçæ¹æ³æ¥å¯¹è¯·æ±è¿è¡å¤çãå¦æä¸å©ç¨ééå¨æ¨¡å¼çè¯ï¼dispatcherservlet ç´æ¥è·åå¯¹åºç±»åç controllerï¼éè¦çèªè¡æ¥å¤æ­ï¼åä¸é¢è¿æ®µä»£ç ä¸æ ·ï¼\n\nif(mappedhandler.gethandler() instanceof multiactioncontroller){  \n   ((multiactioncontroller)mappedhandler.gethandler()).xxx  \n}else if(mappedhandler.gethandler() instanceof xxx){  \n    ...  \n}else if(...){  \n   ...  \n}  \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè¿æ ·åè®¾å¦ææä»¬å¢å ä¸ä¸ª controllerï¼å°±è¦å¨ä»£ç ä¸­å å¥ä¸è¡ if è¯­å¥ï¼è¿ç§å½¢å¼å°±ä½¿å¾ç¨åºé¾ä»¥ç»´æ¤ï¼ä¹è¿åäºè®¾è®¡æ¨¡å¼ä¸­çå¼é­åå â å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã\n\næä»¬éè¿æºç çç springmvc æ¯å¦ä½å®ç°çï¼é¦åçä¸æ ¸å¿ç±» dispatcherservletï¼\n\npublic class dispatcherservlet extends frameworkservlet {\n  \t//......\n\t//ç»´æ¤ææhandleradapterç±»çéå\n    @nullable\n    private list<handleradapter> handleradapters;\n  \n\t//åå§åhandleradapters\n    private void inithandleradapters(applicationcontext context) {\n        this.handleradapters = null;\n        if (this.detectallhandleradapters) {\n            map<string, handleradapter> matchingbeans = beanfactoryutils.beansoftypeincludingancestors(context, handleradapter.class, true, false);\n            if (!matchingbeans.isempty()) {\n                this.handleradapters = new arraylist(matchingbeans.values());\n                annotationawareordercomparator.sort(this.handleradapters);\n            }\n        } else {\n            try {\n                handleradapter ha = (handleradapter)context.getbean("handleradapter", handleradapter.class);\n                this.handleradapters = collections.singletonlist(ha);\n            } catch (nosuchbeandefinitionexception var3) {\n            }\n        }\n\n        if (this.handleradapters == null) {\n            this.handleradapters = this.getdefaultstrategies(context, handleradapter.class);\n            if (this.logger.istraceenabled()) {\n                this.logger.trace("no handleradapters declared for servlet \'" + this.getservletname() + "\': using default strategies from dispatcherservlet.properties");\n            }\n        }\n    }\n  \n  //dispatch æ¹æ³ä¸­ä¼è·å handleradapter\n  protected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception {\n        //...\n    \n\t\t//è·å¾controllerå¯¹åºçééå¨\n        handleradapter ha = this.gethandleradapter(mappedhandler.gethandler());          \n\t\t\t\t\n\t\t//è°ç¨ééå¨çhandleræ¹æ³å¤çè¯·æ±ï¼å¹¶è¿åmodelandview\n        mv = ha.handle(processedrequest, response, mappedhandler.gethandler());            \n        //...\n    }\n  \t\n\t  //è¿åå¯¹åºçcontrollerçå¤çå¨\n      protected handleradapter gethandleradapter(object handler) throws servletexception {\n        if (this.handleradapters != null) {\n            iterator var2 = this.handleradapters.iterator();\n\n            while(var2.hasnext()) {\n                handleradapter adapter = (handleradapter)var2.next();\n                if (adapter.supports(handler)) {\n                    return adapter;\n                }\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\næ¥ççä¸ handleradapter çæºç ï¼ä¹å°±æ¯ééå¨æ¥å£:\n\npublic interface handleradapter {\n    boolean supports(object var1);\n\n    @nullable\n    modelandview handle(httpservletrequest var1, httpservletresponse var2, object var3) throws exception;\n\n    long getlastmodified(httpservletrequest var1, object var2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåæ¥å±¡ä¸ä¸è¿ä¸ªæµç¨ï¼\n\né¦åæ¯ééå¨æ¥å£ dispatchservlet ä¸­æä¸ä¸ªéåç»´æ¤ææç handleradapterï¼å¦æéç½®æä»¶ä¸­æ²¡æå¯¹ééå¨è¿è¡éç½®ï¼é£ä¹ dispatchservlet ä¼å¨åå»ºæ¶å¯¹è¯¥åéè¿è¡åå§åï¼æ³¨åææé»è®¤ç handleradapterã\n\nå½ä¸ä¸ªè¯·æ±è¿æ¥æ¶ï¼dispatchservlet ä¼æ ¹æ®ä¼ è¿æ¥ç handler ç±»åä»è¯¥éåä¸­å¯»æ¾å¯¹åºç handleradapterå­ç±»è¿è¡å¤çï¼å¹¶ä¸è°ç¨å®ç handler() æ¹æ³ å¯¹åºç handleradapter ä¸­ç handler() æ¹æ³åä¼æ§è¡å¯¹åº controller ç handlerequest() æ¹æ³\n\nééå¨ä¸ handler æå¯¹åºå³ç³»ï¼èåä¸ªééå¨åé½æ¯ééå¨æ¥å£çå®ç°ç±»ï¼å æ­¤ï¼å®ä»¬é½éµå¾ªç¸åçééå¨æ åï¼æä»¥ç¨æ·å¯ä»¥æç§ç¸åçæ¹å¼ï¼éè¿ä¸åç handler å»å¤çè¯·æ±ã\n\nå½ç¶äºï¼spring æ¡æ¶ä¸­ä¹ä¸ºæä»¬å®ä¹äºä¸äºé»è®¤ç handler å¯¹åºçééå¨ã\n\néè¿ééå¨æ¨¡å¼æä»¬å°ææç controller ç»ä¸äº¤ç» handleradapter å¤çï¼åå»äºåå¤§éç if-else è¯­å¥å¯¹ controller è¿è¡å¤æ­ï¼ä¹æ´å©äºæ©å±æ°ç controller ç±»åã\n\nåèï¼ ééèå®çééå¨æ¨¡å¼ | spring ä¸­çééå¨',charsets:{cjk:!0},lastUpdated:"2022/09/20, 22:28:30",lastUpdatedTimestamp:166368411e4},{title:"ä»£çæ¨¡å¼",frontmatter:{title:"ä»£çæ¨¡å¼",date:"2022-05-21T17:28:27.000Z",permalink:"/pages/dd3a6f/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/020.%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/020.ä»£çæ¨¡å¼.md",key:"v-0564ba27",path:"/pages/dd3a6f/",headers:[{level:2,title:"åºæ¬ä»ç»",slug:"åºæ¬ä»ç»",normalizedTitle:"åºæ¬ä»ç»",charIndex:2},{level:2,title:"é®é¢",slug:"é®é¢",normalizedTitle:"é®é¢",charIndex:306},{level:2,title:"è§£å³æ¹æ¡",slug:"è§£å³æ¹æ¡",normalizedTitle:"è§£å³æ¹æ¡",charIndex:505},{level:2,title:"éæä»£ç",slug:"éæä»£ç",normalizedTitle:"éæä»£ç",charIndex:137},{level:2,title:"éæä»£çç±»ä¼ç¼ºç¹",slug:"éæä»£çç±»ä¼ç¼ºç¹",normalizedTitle:"éæä»£çç±»ä¼ç¼ºç¹",charIndex:2823},{level:3,title:"ä¼ç¹ï¼",slug:"ä¼ç¹",normalizedTitle:"ä¼ç¹ï¼",charIndex:2836},{level:3,title:"ç¼ºç¹ï¼",slug:"ç¼ºç¹",normalizedTitle:"ç¼ºç¹ï¼",charIndex:2956},{level:2,title:"å¨æä»£ç",slug:"å¨æä»£ç",normalizedTitle:"å¨æä»£ç",charIndex:199},{level:3,title:"JDK åçå¨æä»£ç",slug:"jdk-åçå¨æä»£ç",normalizedTitle:"jdk åçå¨æä»£ç",charIndex:3192},{level:3,title:"Coding",slug:"coding",normalizedTitle:"coding",charIndex:3382},{level:2,title:"cglib ä»£ç",slug:"cglib-ä»£ç",normalizedTitle:"cglib ä»£ç",charIndex:261},{level:3,title:"Coding",slug:"coding-2",normalizedTitle:"coding",charIndex:3382},{level:2,title:"ä»£çæ¨¡å¼éååºç¨åºæ¯",slug:"ä»£çæ¨¡å¼éååºç¨åºæ¯",normalizedTitle:"ä»£çæ¨¡å¼éååºç¨åºæ¯",charIndex:7232},{level:2,title:"AOP ä¸­çä»£çæ¨¡å¼",slug:"aop-ä¸­çä»£çæ¨¡å¼",normalizedTitle:"aop ä¸­çä»£çæ¨¡å¼",charIndex:7961}],headersStr:"åºæ¬ä»ç» é®é¢ è§£å³æ¹æ¡ éæä»£ç éæä»£çç±»ä¼ç¼ºç¹ ä¼ç¹ï¼ ç¼ºç¹ï¼ å¨æä»£ç JDK åçå¨æä»£ç Coding cglib ä»£ç Coding ä»£çæ¨¡å¼éååºç¨åºæ¯ AOP ä¸­çä»£çæ¨¡å¼",content:'# åºæ¬ä»ç»\n\nä»£çæ¨¡å¼æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ãä¸ºå¯¹è±¡æä¾ä¸ä¸ªæ¿èº«ï¼ä»¥æ§å¶å¯¹è¿ä¸ªå¯¹è±¡çè®¿é®ãå³éè¿ä»£çå¯¹è±¡è®¿é®ç®æ å¯¹è±¡ï¼å¹¶åè®¸å¨å°è¯·æ±æäº¤ç»å¯¹è±¡ååè¿è¡ä¸äºå¤çã\n\nè¢«ä»£ççå¯¹è±¡å¯ä»¥æ¯è¿ç¨å¯¹è±¡ãåå»ºå¼éå¤§çå¯¹è±¡æéè¦å®å¨æ§å¶çå¯¹è±¡ã\n\nä»£çæ¨¡å¼ä¸»è¦æä¸ç§ä¸åçå½¢å¼ï¼\n\n * éæä»£çï¼ç±ç¨åºååå»ºä»£çç±»æç¹å®å·¥å·èªå¨çææºä»£ç åå¯¹å¶ç¼è¯ãå¨ç¨åºè¿è¡åä»£çç±»ç .class æä»¶å°±å·²ç»å­å¨äº\n * å¨æä»£çï¼JDK ä»£çãæ¥å£ä»£çï¼ï¼å¨ç¨åºè¿è¡æ¶è¿ç¨åå°æºå¶å¨æåå»ºèæï¼å¨æå°±æ¯å¨ç¨åºè¿è¡æ¶çæçï¼èä¸æ¯ç¼è¯æ¶ã\n * cglib ä»£çï¼å¯ä»¥å¨åå­å¨æçåå»ºå¯¹è±¡ï¼èä¸æ¯å®ç°æ¥å£ï¼å±äºå¨æä»£ççèç´ï¼\n\n\n# é®é¢\n\nä¸ºä»ä¹è¦æ§å¶å¯¹äºæä¸ªå¯¹è±¡çè®¿é®å¢ï¼ ä¸¾ä¸ªä¾å­ï¼ æè¿æ ·ä¸ä¸ªæ¶èå¤§éç³»ç»èµæºçå·¨åå¯¹è±¡ï¼ ä½ åªæ¯å¶å°éè¦ä½¿ç¨å®ï¼ å¹¶éæ»æ¯éè¦ã\n\n\n\nä½ å¯ä»¥å®ç°å»¶è¿åå§åï¼ å¨å®éæéè¦æ¶ååå»ºè¯¥å¯¹è±¡ã å¯¹è±¡çææå®¢æ·ç«¯é½è¦æ§è¡å»¶è¿åå§ä»£ç ã ä¸å¹¸çæ¯ï¼ è¿å¾å¯è½ä¼å¸¦æ¥å¾å¤éå¤ä»£ç ã\n\nå¨çæ³æåµä¸ï¼ æä»¬å¸æå°ä»£ç ç´æ¥æ¾å¥å¯¹è±¡çç±»ä¸­ï¼ ä½è¿å¹¶éæ»æ¯è½å®ç°ï¼ æ¯å¦ç±»å¯è½æ¯ç¬¬ä¸æ¹å°é­åºçä¸é¨åã\n\n\n# è§£å³æ¹æ¡\n\nä»£çæ¨¡å¼å»ºè®®æ°å»ºä¸ä¸ªä¸åæå¡å¯¹è±¡æ¥å£ç¸åçä»£çç±»ï¼ ç¶åæ´æ°åºç¨ä»¥å°ä»£çå¯¹è±¡ä¼ éç»ææåå§å¯¹è±¡å®¢æ·ç«¯ã ä»£çç±»æ¥æ¶å°å®¢æ·ç«¯è¯·æ±åä¼åå»ºå®éçæå¡å¯¹è±¡ï¼ å¹¶å°ææå·¥ä½å§æ´¾ç»å®ã\n\n\n\nä»£çå°èªå·±ä¼ªè£ææ°æ®åºå¯¹è±¡ï¼ å¯å¨å®¢æ·ç«¯æå®éæ°æ®åºå¯¹è±¡ä¸ç¥æçæåµä¸å¤çå»¶è¿åå§ååç¼å­æ¥è¯¢ç»æçå·¥ä½ã\n\nè¿æä»ä¹å¥½å¤å¢ï¼ å¦æéè¦å¨ç±»çä¸»è¦ä¸å¡é»è¾ååæ§è¡ä¸äºå·¥ä½ï¼ ä½ æ éä¿®æ¹ç±»å°±è½å®æè¿é¡¹å·¥ä½ã ç±äºä»£çå®ç°çæ¥å£ä¸åç±»ç¸åï¼ å æ­¤ä½ å¯å°å¶ä¼ éç»ä»»ä½ä¸ä¸ªä½¿ç¨å®éæå¡å¯¹è±¡çå®¢æ·ç«¯ã\n\n#ä»£çæ¨¡å¼ç»æ\n\n1.æå¡æ¥å£ ï¼Service Interfaceï¼ å£°æäºæå¡æ¥å£ã ä»£çå¿é¡»éµå¾ªè¯¥æ¥å£æè½ä¼ªè£ææå¡å¯¹è±¡ã 2.æå¡ ï¼Serviceï¼ ç±»æä¾äºä¸äºå®ç¨çä¸å¡é»è¾ã 3.ä»£ç ï¼Proxyï¼ ç±»åå«ä¸ä¸ªæåæå¡å¯¹è±¡çå¼ç¨æååéã ä»£çå®æå¶ä»»å¡ ï¼ä¾å¦å»¶è¿åå§åã è®°å½æ¥å¿ã è®¿é®æ§å¶åç¼å­ç­ï¼ åä¼å°è¯·æ±ä¼ éç»æå¡å¯¹è±¡ã éå¸¸æåµä¸ï¼ ä»£çä¼å¯¹å¶æå¡å¯¹è±¡çæ´ä¸ªçå½å¨æè¿è¡ç®¡çã 4.å®¢æ·ç«¯ ï¼Clientï¼ è½éè¿åä¸æ¥å£ä¸æå¡æä»£çè¿è¡äº¤äºï¼ æä»¥ä½ å¯å¨ä¸åéè¦æå¡å¯¹è±¡çä»£ç ä¸­ä½¿ç¨ä»£çã ææ¸¸ææä»£ç»ãä¹°åæ¿å­æä¸­ä»ä»£çãåæ¯å¦ä¸è¬å¬å¸æäºèç½å¹¿åä¹å¯ä»¥æ¾ä»£çå¬å¸ï¼è¿éçä»£ç»ãä¸­ä»ãå¹¿åä»£çå¬å¸æ®æ¼çè§è²é½æ¯ä»£çã\n\nè¿éä¸¾ä¸ªæ´æ¥è¿ç¨åºåçä¾å­ï¼æ¯å¦æäºåæçå¬å¸ä¸åè®¸å¨å¬å¸å·å¾®åï¼çè§é¢ï¼å¯ä»¥éè¿ä¸å±ä»£çæ¥éå¶æä»¬è®¿é®è¿äºç½ç«ã\n\nåºè¯ä¸å¤è¯´ï¼åæ¥ä¸ªéæä»£çã\n\n\n# éæä»£ç\n\n1ãå®ä¹ç½ç»æ¥å£\n\npublic interface Internet {\n    void connectTo(String serverHost) throws Exception;\n}\n\n\n1\n2\n3\n\n\n2ãçæ­£çç½ç»è¿æ¥\n\npublic class RealInternet implements Internet{\n\n    @Override\n    public void connectTo(String serverHost) throws Exception {\n        System.out.println("Connecting to "+ serverHost);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n3ãå¬å¸çç½ç»ä»£ç\n\npublic class ProxyInternet implements Internet {\n\n    //ç®æ å¯¹è±¡ï¼éè¿æ¥å£èå\n    private Internet internet;\n\n    // éè¿æé æ¹æ³ä¼ å¥ç®æ å¯¹è±¡\n    public ProxyInternet(Internet internet){\n        this.internet = internet;\n    }\n    //ç½ç»é»åå\n    private static List<String> bannedSites;\n\n    static\n    {\n        bannedSites = new ArrayList<String>();\n        bannedSites.add("bilibili.com");\n        bannedSites.add("youtube.com");\n        bannedSites.add("weibo.com");\n        bannedSites.add("qq.com");\n    }\n\n    @Override\n    public void connectTo(String serverhost) throws Exception {\n        // æ·»å éå¶åè½\n        if(bannedSites.contains(serverhost.toLowerCase()))\n        {\n            throw new Exception("Access Denied:"+serverhost);\n        }\n        internet.connectTo(serverhost);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n4ãå®¢æ·ç«¯éªè¯\n\npublic class Client {\n\n    public static void main(String[] args) {\n        Internet internet = new ProxyInternet(new RealInternet());\n        try {\n            internet.connectTo("so.com");\n            internet.connectTo("qq.com");\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n5ãè¾åº\n\nConnecting to so.com\nAccess Denied:qq.com\n\n\n1\n2\n\n\nä¸è½è®¿é®å¨±ä¹æ§ç½ç«ï¼ä½æ¯å¯ä»¥ç¨ 360 æç´¢ï¼SO é è°±ï¼åå\n\n\n# éæä»£çç±»ä¼ç¼ºç¹\n\n\n# ä¼ç¹ï¼\n\nå¨ä¸ä¿®æ¹ç®æ å¯¹è±¡çåæä¸ï¼å¯ä»¥éè¿ä»£çå¯¹è±¡å¯¹ç®æ å¯¹è±¡åè½æ©å±\n\nä»£çä½¿å®¢æ·ç«¯ä¸éè¦ç¥éå®ç°ç±»æ¯ä»ä¹ï¼æä¹åçï¼èå®¢æ·ç«¯åªéç¥éä»£çå³å¯ï¼è§£è¦åï¼ï¼å¯¹äºå¦ä¸çå®¢æ·ç«¯ä»£ç ï¼RealInterner() å¯ä»¥åºç¨å·¥åå°å®éèã\n\n\n# ç¼ºç¹ï¼\n\nä»£çç±»åå§æç±»å®ç°äºç¸åçæ¥å£ï¼ä»£çç±»éè¿å§æç±»å®ç°äºç¸åçæ¹æ³ãè¿æ ·å°±åºç°äºå¤§éçä»£ç éå¤ãå¦ææ¥å£å¢å ä¸ä¸ªæ¹æ³ï¼é¤äºææå®ç°ç±»éè¦å®ç°è¿ä¸ªæ¹æ³å¤ï¼ææä»£çç±»ä¹éè¦å®ç°æ­¤æ¹æ³ãå¢å äºä»£ç ç»´æ¤çå¤æåº¦ã\n\nä»£çå¯¹è±¡åªæå¡äºä¸ç§ç±»åçå¯¹è±¡ï¼å¦æè¦æå¡å¤ç±»åçå¯¹è±¡ãå¿å¿è¦ä¸ºæ¯ä¸ç§å¯¹è±¡é½è¿è¡ä»£çï¼éæä»£çå¨ç¨åºè§æ¨¡ç¨å¤§æ¶å°±æ æ³èä»»äºã\n\n\n# å¨æä»£ç\n\néæä»£çä¼äº§çå¾å¤éæç±»ï¼æä»¥æä»¬è¦æ³åæ³å¯ä»¥éè¿ä¸ä¸ªä»£çç±»å®æå¨é¨çä»£çåè½ï¼è¿å°±å¼åºäºå¨æä»£çã\n\n\n# JDK åçå¨æä»£ç\n\n * ä»£çå¯¹è±¡ï¼ä¸éè¦å®ç°æ¥å£ï¼ä½æ¯ç®æ å¯¹è±¡è¦å®ç°æ¥å£ï¼å¦åä¸è½ç¨å¨æä»£ç\n * ä»£çå¯¹è±¡ççæï¼æ¯éè¿ JDK ç APIï¼åå°æºå¶ï¼ï¼å¨æçå¨åå­ä¸­æå»ºä»£çå¯¹è±¡ å¨ Java ä¸­è¦æ³å®ç°å¨æä»£çæºå¶ï¼éè¦ java.lang.reflect.InvocationHandler æ¥å£å java.lang.reflect.Proxy ç±»çæ¯æ\n\n\n# Coding\n\n1ãç½ç»æ¥å£ä¸å\n\npublic interface Internet { void connectTo(String serverHost) throws Exception; } 2ãçæ­£çç½ç»è¿æ¥ï¼ä¹ä¸ä¼æ¹å\n\npublic class RealInternet implements Internet{\n\n@Override\npublic void connectTo(String serverHost) throws Exception {\n    System.out.println("Connecting to "+ serverHost);\n}\n\n\n} 3ãå¨æä»£çï¼éè¦å®ç° InvocationHandlerï¼æä»¬ç¨ Lambda è¡¨è¾¾å¼ç®åä¸\n\npublic class ProxyFactory {\n\n/**\n * ç»´æ¤ä¸ä¸ªç®æ å¯¹è±¡\n **/\nprivate Object target;\n\n/**\n * æé å¨ï¼åå§åç®æ å¯¹è±¡\n **/\npublic ProxyFactory(Object target) {\n    this.target = target;\n}\n\npublic Object getProxyInstance() {\n\n    /**\n     è¢«ä»£çå¯¹è±¡targetéè¿åæ°ä¼ éè¿æ¥ï¼\n     éè¿target.getClass().getClassLoader()è·åClassLoaderå¯¹è±¡ï¼\n     ç¶åéè¿target.getClass().getInterfaces()è·åå®å®ç°çæææ¥å£ï¼\n     åå°targetåè£å°å®ç°äºInvocationHandleræ¥å£çå¯¹è±¡ä¸­ã\n     éè¿newProxyInstanceå½æ°æä»¬å°±è·å¾äºä¸ä¸ªå¨æä»£çå¯¹è±¡ã\n     */\n    return Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), new InvocationHandler() {\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            if(bannedSites.contains(args[0].toString().toLowerCase()))\n            {\n                throw new Exception("Access Denied:"+args[0]);\n            }\n            //åå°æºå¶è°ç¨ç®æ å¯¹è±¡çæ¹æ³\n            Object obj = method.invoke(target, args);\n            return obj;\n        }\n    });\n}\n\nprivate static List<String> bannedSites;\n\nstatic\n{\n    bannedSites = new ArrayList<String>();\n    bannedSites.add("bilibili.com");\n    bannedSites.add("youtube.com");\n    bannedSites.add("weibo.com");\n    bannedSites.add("qq.com");\n}\n\n\n} 4ãå®¢æ·ç«¯\n\npublic class Client {\n\npublic static void main(String[] args) {\n    Internet internet = new ProxyInternet(new RealInternet());\n    try {\n        internet.connectTo("360.cn");\n        internet.connectTo("qq.com");\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}\n\n\n} å¨æä»£ççæ¹å¼ä¸­ï¼ææçå½æ°è°ç¨æç»é½ä¼ç»è¿ invoke å½æ°çè½¬åï¼å æ­¤æä»¬å°±å¯ä»¥å¨è¿éåä¸äºèªå·±æ³åçæä½ï¼æ¯å¦æ¥å¿ç³»ç»ãäºå¡ãæ¦æªå¨ãæéæ§å¶ç­ã\n\n\n# cglib ä»£ç\n\néæä»£çå JDK ä»£çæ¨¡å¼é½è¦æ±ç®æ å¯¹è±¡å®ç°ä¸ä¸ªæ¥å£ï¼ä½ææ¶åç®æ å¯¹è±¡åªæ¯ä¸ä¸ªåç¬çå¯¹è±¡ï¼å¹¶æ²¡æå®ç°ä»»ä½æ¥å£ï¼è¿ä¸ªæ¶åå°±å¯ä»¥ä½¿ç¨ç®æ å¯¹è±¡å­ç±»æ¥å®ç°ä»£çï¼è¿å°±æ¯ cglib ä»£çã\n\ncglib (opens new window)(Code Generation Library)æ¯ä¸ä¸ªåºäº ASM çå­èç çæåºï¼å®åè®¸æä»¬å¨è¿è¡æ¶å¯¹å­èç è¿è¡ä¿®æ¹åå¨æçæãcglib éè¿ç»§æ¿æ¹å¼å®ç°ä»£çãå®å¹¿æ³çè¢«è®¸å¤ AOP çæ¡æ¶ä½¿ç¨ï¼æ¯å¦æä»¬ç Spring AOPã\n\ncglib åçåºå±æ¯éè¿ä½¿ç¨å­èç å¤çæ¡æ¶ ASM æ¥è½¬æ¢å­èç å¹¶çææ°çç±»ã\n\ncglib ä»£çä¹è¢«å«åå­ç±»ä»£çï¼å®æ¯å¨åå­ä¸­æå»ºä¸ä¸ªå­ç±»å¯¹è±¡ä»èå®ç°ç®æ å¯¹è±¡åè½æ©å±ã\n\n\n# Coding\n\næ·»å  cglib ä¾èµ\n\n<dependency>\n    <groupId>cglib</groupId>\n    <artifactId>cglib</artifactId>\n    <version>3.3.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n1ãä¸éè¦æ¥å£\n\npublic class RealInternet{\n\n    public void connectTo(String serverHost) {\n        System.out.println("Connecting to "+ serverHost);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãä»£çå·¥åç±»\n\npublic class ProxyFactory implements MethodInterceptor {\n\n    private Object target;\n\n    public ProxyFactory(Object target){\n        this.target = target;\n    }\n\n    @Override\n    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\n        System.out.println("cglib ä»£çå¼å§ï¼å¯ä»¥æ·»å é»è¾");\n        Object obj = method.invoke(target,objects);\n        System.out.println("cglib ä»£çç»æ");\n        return obj;\n    }\n\n\n    public Object getProxyInstance(){\n        //å·¥å·ç±»ï¼ç±»ä¼¼äºJDKå¨æä»£ççProxyç±»\n        Enhancer enhancer = new Enhancer();\n        //è®¾ç½®ç¶ç±»\n        enhancer.setSuperclass(target.getClass());\n        //è®¾ç½®åè°å½æ°\n        enhancer.setCallback(this);\n        //åå»ºå­ç±»å¯¹è±¡ï¼å³ä»£çå¯¹è±¡\n        return enhancer.create();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n3ãå®¢æ·ç«¯\n\npublic class Client {\n\n    public static void main(String[] args) {\n\n        //ç®æ å¯¹è±¡\n        RealInternet target = new RealInternet();\n        //è·åä»£çå¯¹è±¡,å¹¶ä¸å°ç®æ å¯¹è±¡ä¼ éç»ä»£çå¯¹è±¡\n        RealInternet internet = (RealInternet) new ProxyFactory(target).getProxyInstance();\n        internet.connectTo("so.cn");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n4ãè¾åº\n\ncglib ä»£çå¼å§ï¼å¯ä»¥æ·»å é»è¾\nConnecting to so.cn\ncglib ä»£çç»æ\n\n\n1\n2\n3\n\n\n\n# ä»£çæ¨¡å¼éååºç¨åºæ¯\n\nä½¿ç¨ä»£çæ¨¡å¼çæ¹å¼å¤ç§å¤æ ·ï¼ æä»¬æ¥ççæå¸¸è§çå ç§ã\n\n * å»¶è¿åå§å ï¼èæä»£çï¼ï¼å¦æä½ æä¸ä¸ªå¶å°ä½¿ç¨çééçº§æå¡å¯¹è±¡ï¼ ä¸ç´ä¿æè¯¥å¯¹è±¡è¿è¡ä¼æ¶èç³»ç»èµæºæ¶ï¼ å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n\nä½ æ éå¨ç¨åºå¯å¨æ¶å°±åå»ºè¯¥å¯¹è±¡ï¼ å¯å°å¯¹è±¡çåå§åå»¶è¿å°çæ­£æéè¦çæ¶åã\n\n * è®¿é®æ§å¶ ï¼ä¿æ¤ä»£çï¼ï¼å¦æä½ åªå¸æç¹å®å®¢æ·ç«¯ä½¿ç¨æå¡å¯¹è±¡ï¼ è¿éçå¯¹è±¡å¯ä»¥æ¯æä½ç³»ç»ä¸­éå¸¸éè¦çé¨åï¼ èå®¢æ·ç«¯åæ¯åç§å·²å¯å¨çç¨åº ï¼åæ¬æ¶æç¨åºï¼ï¼ æ­¤æ¶å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n\nä»£çå¯ä»å¨å®¢æ·ç«¯å­æ®æ»¡è¶³è¦æ±æ¶å°è¯·æ±ä¼ éç»æå¡å¯¹è±¡ã\n\n * æ¬å°æ§è¡è¿ç¨æå¡ ï¼è¿ç¨ä»£çï¼ï¼éç¨äºæå¡å¯¹è±¡ä½äºè¿ç¨æå¡å¨ä¸çæå½¢ã\n\nå¨è¿ç§æå½¢ä¸­ï¼ ä»£çéè¿ç½ç»ä¼ éå®¢æ·ç«¯è¯·æ±ï¼ è´è´£å¤çææä¸ç½ç»ç¸å³çå¤æç»èã\n\n * è®°å½æ¥å¿è¯·æ± ï¼æ¥å¿è®°å½ä»£çï¼ï¼éç¨äºå½ä½ éè¦ä¿å­å¯¹äºæå¡å¯¹è±¡çè¯·æ±åå²è®°å½æ¶ã ä»£çå¯ä»¥å¨åæå¡ä¼ éè¯·æ±åè¿è¡è®°å½ã\n\n * ç¼å­è¯·æ±ç»æ ï¼ç¼å­ä»£çï¼ï¼éç¨äºéè¦ç¼å­å®¢æ·è¯·æ±ç»æå¹¶å¯¹ç¼å­çå½å¨æè¿è¡ç®¡çæ¶ï¼ ç¹å«æ¯å½è¿åç»æçä½ç§¯éå¸¸å¤§æ¶ã\n\nä»£çå¯å¯¹éå¤è¯·æ±æéçç¸åç»æè¿è¡ç¼å­ï¼ è¿å¯ä½¿ç¨è¯·æ±åæ°ä½ä¸ºç´¢å¼ç¼å­çé®å¼ãæ¯å¦è¯·æ±å¾çãæä»¶ç­èµæºæ¶ï¼åå°ä»£çç¼å­åï¼å¦ææ²¡æå°±å»å¬ç½åå¹¶ç¼å­å°ä»£çæå¡å¨\n\n * æºè½å¼ç¨ï¼å¯å¨æ²¡æå®¢æ·ç«¯ä½¿ç¨æä¸ªééçº§å¯¹è±¡æ¶ç«å³éæ¯è¯¥å¯¹è±¡ã\n\nä»£çä¼å°ææè·åäºæåæå¡å¯¹è±¡æå¶ç»æçå®¢æ·ç«¯è®°å½å¨æ¡ã ä»£çä¼æ¶ä¸æ¶å°éååä¸ªå®¢æ·ç«¯ï¼ æ£æ¥å®ä»¬æ¯å¦ä»å¨è¿è¡ã å¦æç¸åºçå®¢æ·ç«¯åè¡¨ä¸ºç©ºï¼ ä»£çå°±ä¼éæ¯è¯¥æå¡å¯¹è±¡ï¼ éæ¾åºå±ç³»ç»èµæºã\n\nä»£çè¿å¯ä»¥è®°å½å®¢æ·ç«¯æ¯å¦ä¿®æ¹äºæå¡å¯¹è±¡ã å¶ä»å®¢æ·ç«¯è¿å¯ä»¥å¤ç¨æªä¿®æ¹çå¯¹è±¡ã\n\n\n# AOP ä¸­çä»£çæ¨¡å¼\n\nAOPï¼é¢ååé¢ç¼ç¨ï¼ä¸»è¦ççå®ç°ææ¯ä¸»è¦æ Spring AOP å AspectJ\n\nAspectJ çåºå±ææ¯å°±æ¯éæä»£çï¼ç¨ä¸ç§ AspectJ æ¯æçç¹å®è¯­è¨ç¼ååé¢ï¼éè¿ä¸ä¸ªå½ä»¤æ¥ç¼è¯ï¼çæä¸ä¸ªæ°çä»£çç±»ï¼è¯¥ä»£çç±»å¢å¼ºäºä¸å¡ç±»ï¼è¿æ¯å¨ç¼è¯æ¶å¢å¼ºï¼ç¸å¯¹äºä¸é¢è¯´çè¿è¡æ¶å¢å¼ºï¼ç¼è¯æ¶å¢å¼ºçæ§è½æ´å¥½ãï¼AspectJ çéæä»£çï¼ä¸åæä»¬åè¾¹ä»ç»çéè¦ä¸ºæ¯ä¸ä¸ªç®æ ç±»æå¨ç¼åä¸ä¸ªä»£çç±»ï¼AspectJ æ¡æ¶å¯ä»¥å¨ç¼è¯æ¶å°±çæç®æ ç±»çâä»£çç±»âï¼å¨è¿éå äºä¸ªåå·ï¼æ¯å ä¸ºå®éä¸å®å¹¶æ²¡æçæä¸ä¸ªæ°çç±»ï¼èæ¯æä»£çé»è¾ç´æ¥ç¼è¯å°ç®æ ç±»éé¢äºï¼\n\nSpring AOP éç¨çæ¯å¨æä»£çï¼å¨è¿è¡æé´å¯¹ä¸å¡æ¹æ³è¿è¡å¢å¼ºï¼æä»¥ä¸ä¼çææ°ç±»ï¼å¯¹äºå¨æä»£çææ¯ï¼Spring AOP æä¾äºå¯¹ JDK å¨æä»£ççæ¯æä»¥å CGLib çæ¯æã\n\né»è®¤æåµä¸ï¼Spring å¯¹å®ç°äºæ¥å£çç±»ä½¿ç¨ JDK Proxy æ¹å¼ï¼å¦åçè¯ä½¿ç¨ CGLibãä¸è¿å¯ä»¥éè¿éç½®æå® Spring AOP é½éè¿ CGLib æ¥çæä»£çç±»ã\n\nå·ä½é»è¾å¨ org.springframework.aop.framework.DefaultAopProxyFactory ç±»ä¸­ï¼ä½¿ç¨åªç§æ¹å¼çæç± AopProxy æ ¹æ® AdvisedSupport å¯¹è±¡çéç½®æ¥å³å®æºç å¦ä¸ï¼\n\npublic class DefaultAopProxyFactory implements AopProxyFactory, Serializable {\n    public DefaultAopProxyFactory() {\n    }\n\n    public AopProxy createAopProxy(AdvisedSupport config) throws AopConfigException {\n        if (!config.isOptimize() && !config.isProxyTargetClass() && !this.hasNoUserSuppliedProxyInterfaces(config)) {\n            return new JdkDynamicAopProxy(config);\n        } else {\n            Class<?> targetClass = config.getTargetClass();\n            if (targetClass == null) {\n                throw new AopConfigException("TargetSource cannot determine target class: Either an interface or a target is required for proxy creation.");\n            } else {\n                //å¦æç®æ ç±»æ¯æ¥å£ä¸æ¯ä»£çç±», ä½¿ç¨JDKå¨æä»£çç±»ï¼å¦åä½¿ç¨Cglibçæä»£çç±»\n                return (AopProxy)(!targetClass.isInterface() && !Proxy.isProxyClass(targetClass) ? new ObjenesisCglibAopProxy(config) : new JdkDynamicAopProxy(config));\n            }\n        }\n    }\n\n    private boolean hasNoUserSuppliedProxyInterfaces(AdvisedSupport config) {\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nåèï¼ ä»£çæ¨¡å¼',normalizedContent:'# åºæ¬ä»ç»\n\nä»£çæ¨¡å¼æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ãä¸ºå¯¹è±¡æä¾ä¸ä¸ªæ¿èº«ï¼ä»¥æ§å¶å¯¹è¿ä¸ªå¯¹è±¡çè®¿é®ãå³éè¿ä»£çå¯¹è±¡è®¿é®ç®æ å¯¹è±¡ï¼å¹¶åè®¸å¨å°è¯·æ±æäº¤ç»å¯¹è±¡ååè¿è¡ä¸äºå¤çã\n\nè¢«ä»£ççå¯¹è±¡å¯ä»¥æ¯è¿ç¨å¯¹è±¡ãåå»ºå¼éå¤§çå¯¹è±¡æéè¦å®å¨æ§å¶çå¯¹è±¡ã\n\nä»£çæ¨¡å¼ä¸»è¦æä¸ç§ä¸åçå½¢å¼ï¼\n\n * éæä»£çï¼ç±ç¨åºååå»ºä»£çç±»æç¹å®å·¥å·èªå¨çææºä»£ç åå¯¹å¶ç¼è¯ãå¨ç¨åºè¿è¡åä»£çç±»ç .class æä»¶å°±å·²ç»å­å¨äº\n * å¨æä»£çï¼jdk ä»£çãæ¥å£ä»£çï¼ï¼å¨ç¨åºè¿è¡æ¶è¿ç¨åå°æºå¶å¨æåå»ºèæï¼å¨æå°±æ¯å¨ç¨åºè¿è¡æ¶çæçï¼èä¸æ¯ç¼è¯æ¶ã\n * cglib ä»£çï¼å¯ä»¥å¨åå­å¨æçåå»ºå¯¹è±¡ï¼èä¸æ¯å®ç°æ¥å£ï¼å±äºå¨æä»£ççèç´ï¼\n\n\n# é®é¢\n\nä¸ºä»ä¹è¦æ§å¶å¯¹äºæä¸ªå¯¹è±¡çè®¿é®å¢ï¼ ä¸¾ä¸ªä¾å­ï¼ æè¿æ ·ä¸ä¸ªæ¶èå¤§éç³»ç»èµæºçå·¨åå¯¹è±¡ï¼ ä½ åªæ¯å¶å°éè¦ä½¿ç¨å®ï¼ å¹¶éæ»æ¯éè¦ã\n\n\n\nä½ å¯ä»¥å®ç°å»¶è¿åå§åï¼ å¨å®éæéè¦æ¶ååå»ºè¯¥å¯¹è±¡ã å¯¹è±¡çææå®¢æ·ç«¯é½è¦æ§è¡å»¶è¿åå§ä»£ç ã ä¸å¹¸çæ¯ï¼ è¿å¾å¯è½ä¼å¸¦æ¥å¾å¤éå¤ä»£ç ã\n\nå¨çæ³æåµä¸ï¼ æä»¬å¸æå°ä»£ç ç´æ¥æ¾å¥å¯¹è±¡çç±»ä¸­ï¼ ä½è¿å¹¶éæ»æ¯è½å®ç°ï¼ æ¯å¦ç±»å¯è½æ¯ç¬¬ä¸æ¹å°é­åºçä¸é¨åã\n\n\n# è§£å³æ¹æ¡\n\nä»£çæ¨¡å¼å»ºè®®æ°å»ºä¸ä¸ªä¸åæå¡å¯¹è±¡æ¥å£ç¸åçä»£çç±»ï¼ ç¶åæ´æ°åºç¨ä»¥å°ä»£çå¯¹è±¡ä¼ éç»ææåå§å¯¹è±¡å®¢æ·ç«¯ã ä»£çç±»æ¥æ¶å°å®¢æ·ç«¯è¯·æ±åä¼åå»ºå®éçæå¡å¯¹è±¡ï¼ å¹¶å°ææå·¥ä½å§æ´¾ç»å®ã\n\n\n\nä»£çå°èªå·±ä¼ªè£ææ°æ®åºå¯¹è±¡ï¼ å¯å¨å®¢æ·ç«¯æå®éæ°æ®åºå¯¹è±¡ä¸ç¥æçæåµä¸å¤çå»¶è¿åå§ååç¼å­æ¥è¯¢ç»æçå·¥ä½ã\n\nè¿æä»ä¹å¥½å¤å¢ï¼ å¦æéè¦å¨ç±»çä¸»è¦ä¸å¡é»è¾ååæ§è¡ä¸äºå·¥ä½ï¼ ä½ æ éä¿®æ¹ç±»å°±è½å®æè¿é¡¹å·¥ä½ã ç±äºä»£çå®ç°çæ¥å£ä¸åç±»ç¸åï¼ å æ­¤ä½ å¯å°å¶ä¼ éç»ä»»ä½ä¸ä¸ªä½¿ç¨å®éæå¡å¯¹è±¡çå®¢æ·ç«¯ã\n\n#ä»£çæ¨¡å¼ç»æ\n\n1.æå¡æ¥å£ ï¼service interfaceï¼ å£°æäºæå¡æ¥å£ã ä»£çå¿é¡»éµå¾ªè¯¥æ¥å£æè½ä¼ªè£ææå¡å¯¹è±¡ã 2.æå¡ ï¼serviceï¼ ç±»æä¾äºä¸äºå®ç¨çä¸å¡é»è¾ã 3.ä»£ç ï¼proxyï¼ ç±»åå«ä¸ä¸ªæåæå¡å¯¹è±¡çå¼ç¨æååéã ä»£çå®æå¶ä»»å¡ ï¼ä¾å¦å»¶è¿åå§åã è®°å½æ¥å¿ã è®¿é®æ§å¶åç¼å­ç­ï¼ åä¼å°è¯·æ±ä¼ éç»æå¡å¯¹è±¡ã éå¸¸æåµä¸ï¼ ä»£çä¼å¯¹å¶æå¡å¯¹è±¡çæ´ä¸ªçå½å¨æè¿è¡ç®¡çã 4.å®¢æ·ç«¯ ï¼clientï¼ è½éè¿åä¸æ¥å£ä¸æå¡æä»£çè¿è¡äº¤äºï¼ æä»¥ä½ å¯å¨ä¸åéè¦æå¡å¯¹è±¡çä»£ç ä¸­ä½¿ç¨ä»£çã ææ¸¸ææä»£ç»ãä¹°åæ¿å­æä¸­ä»ä»£çãåæ¯å¦ä¸è¬å¬å¸æäºèç½å¹¿åä¹å¯ä»¥æ¾ä»£çå¬å¸ï¼è¿éçä»£ç»ãä¸­ä»ãå¹¿åä»£çå¬å¸æ®æ¼çè§è²é½æ¯ä»£çã\n\nè¿éä¸¾ä¸ªæ´æ¥è¿ç¨åºåçä¾å­ï¼æ¯å¦æäºåæçå¬å¸ä¸åè®¸å¨å¬å¸å·å¾®åï¼çè§é¢ï¼å¯ä»¥éè¿ä¸å±ä»£çæ¥éå¶æä»¬è®¿é®è¿äºç½ç«ã\n\nåºè¯ä¸å¤è¯´ï¼åæ¥ä¸ªéæä»£çã\n\n\n# éæä»£ç\n\n1ãå®ä¹ç½ç»æ¥å£\n\npublic interface internet {\n    void connectto(string serverhost) throws exception;\n}\n\n\n1\n2\n3\n\n\n2ãçæ­£çç½ç»è¿æ¥\n\npublic class realinternet implements internet{\n\n    @override\n    public void connectto(string serverhost) throws exception {\n        system.out.println("connecting to "+ serverhost);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n3ãå¬å¸çç½ç»ä»£ç\n\npublic class proxyinternet implements internet {\n\n    //ç®æ å¯¹è±¡ï¼éè¿æ¥å£èå\n    private internet internet;\n\n    // éè¿æé æ¹æ³ä¼ å¥ç®æ å¯¹è±¡\n    public proxyinternet(internet internet){\n        this.internet = internet;\n    }\n    //ç½ç»é»åå\n    private static list<string> bannedsites;\n\n    static\n    {\n        bannedsites = new arraylist<string>();\n        bannedsites.add("bilibili.com");\n        bannedsites.add("youtube.com");\n        bannedsites.add("weibo.com");\n        bannedsites.add("qq.com");\n    }\n\n    @override\n    public void connectto(string serverhost) throws exception {\n        // æ·»å éå¶åè½\n        if(bannedsites.contains(serverhost.tolowercase()))\n        {\n            throw new exception("access denied:"+serverhost);\n        }\n        internet.connectto(serverhost);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n4ãå®¢æ·ç«¯éªè¯\n\npublic class client {\n\n    public static void main(string[] args) {\n        internet internet = new proxyinternet(new realinternet());\n        try {\n            internet.connectto("so.com");\n            internet.connectto("qq.com");\n        } catch (exception e) {\n            system.out.println(e.getmessage());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n5ãè¾åº\n\nconnecting to so.com\naccess denied:qq.com\n\n\n1\n2\n\n\nä¸è½è®¿é®å¨±ä¹æ§ç½ç«ï¼ä½æ¯å¯ä»¥ç¨ 360 æç´¢ï¼so é è°±ï¼åå\n\n\n# éæä»£çç±»ä¼ç¼ºç¹\n\n\n# ä¼ç¹ï¼\n\nå¨ä¸ä¿®æ¹ç®æ å¯¹è±¡çåæä¸ï¼å¯ä»¥éè¿ä»£çå¯¹è±¡å¯¹ç®æ å¯¹è±¡åè½æ©å±\n\nä»£çä½¿å®¢æ·ç«¯ä¸éè¦ç¥éå®ç°ç±»æ¯ä»ä¹ï¼æä¹åçï¼èå®¢æ·ç«¯åªéç¥éä»£çå³å¯ï¼è§£è¦åï¼ï¼å¯¹äºå¦ä¸çå®¢æ·ç«¯ä»£ç ï¼realinterner() å¯ä»¥åºç¨å·¥åå°å®éèã\n\n\n# ç¼ºç¹ï¼\n\nä»£çç±»åå§æç±»å®ç°äºç¸åçæ¥å£ï¼ä»£çç±»éè¿å§æç±»å®ç°äºç¸åçæ¹æ³ãè¿æ ·å°±åºç°äºå¤§éçä»£ç éå¤ãå¦ææ¥å£å¢å ä¸ä¸ªæ¹æ³ï¼é¤äºææå®ç°ç±»éè¦å®ç°è¿ä¸ªæ¹æ³å¤ï¼ææä»£çç±»ä¹éè¦å®ç°æ­¤æ¹æ³ãå¢å äºä»£ç ç»´æ¤çå¤æåº¦ã\n\nä»£çå¯¹è±¡åªæå¡äºä¸ç§ç±»åçå¯¹è±¡ï¼å¦æè¦æå¡å¤ç±»åçå¯¹è±¡ãå¿å¿è¦ä¸ºæ¯ä¸ç§å¯¹è±¡é½è¿è¡ä»£çï¼éæä»£çå¨ç¨åºè§æ¨¡ç¨å¤§æ¶å°±æ æ³èä»»äºã\n\n\n# å¨æä»£ç\n\néæä»£çä¼äº§çå¾å¤éæç±»ï¼æä»¥æä»¬è¦æ³åæ³å¯ä»¥éè¿ä¸ä¸ªä»£çç±»å®æå¨é¨çä»£çåè½ï¼è¿å°±å¼åºäºå¨æä»£çã\n\n\n# jdk åçå¨æä»£ç\n\n * ä»£çå¯¹è±¡ï¼ä¸éè¦å®ç°æ¥å£ï¼ä½æ¯ç®æ å¯¹è±¡è¦å®ç°æ¥å£ï¼å¦åä¸è½ç¨å¨æä»£ç\n * ä»£çå¯¹è±¡ççæï¼æ¯éè¿ jdk ç apiï¼åå°æºå¶ï¼ï¼å¨æçå¨åå­ä¸­æå»ºä»£çå¯¹è±¡ å¨ java ä¸­è¦æ³å®ç°å¨æä»£çæºå¶ï¼éè¦ java.lang.reflect.invocationhandler æ¥å£å java.lang.reflect.proxy ç±»çæ¯æ\n\n\n# coding\n\n1ãç½ç»æ¥å£ä¸å\n\npublic interface internet { void connectto(string serverhost) throws exception; } 2ãçæ­£çç½ç»è¿æ¥ï¼ä¹ä¸ä¼æ¹å\n\npublic class realinternet implements internet{\n\n@override\npublic void connectto(string serverhost) throws exception {\n    system.out.println("connecting to "+ serverhost);\n}\n\n\n} 3ãå¨æä»£çï¼éè¦å®ç° invocationhandlerï¼æä»¬ç¨ lambda è¡¨è¾¾å¼ç®åä¸\n\npublic class proxyfactory {\n\n/**\n * ç»´æ¤ä¸ä¸ªç®æ å¯¹è±¡\n **/\nprivate object target;\n\n/**\n * æé å¨ï¼åå§åç®æ å¯¹è±¡\n **/\npublic proxyfactory(object target) {\n    this.target = target;\n}\n\npublic object getproxyinstance() {\n\n    /**\n     è¢«ä»£çå¯¹è±¡targetéè¿åæ°ä¼ éè¿æ¥ï¼\n     éè¿target.getclass().getclassloader()è·åclassloaderå¯¹è±¡ï¼\n     ç¶åéè¿target.getclass().getinterfaces()è·åå®å®ç°çæææ¥å£ï¼\n     åå°targetåè£å°å®ç°äºinvocationhandleræ¥å£çå¯¹è±¡ä¸­ã\n     éè¿newproxyinstanceå½æ°æä»¬å°±è·å¾äºä¸ä¸ªå¨æä»£çå¯¹è±¡ã\n     */\n    return proxy.newproxyinstance(target.getclass().getclassloader(), target.getclass().getinterfaces(), new invocationhandler() {\n        @override\n        public object invoke(object proxy, method method, object[] args) throws throwable {\n            if(bannedsites.contains(args[0].tostring().tolowercase()))\n            {\n                throw new exception("access denied:"+args[0]);\n            }\n            //åå°æºå¶è°ç¨ç®æ å¯¹è±¡çæ¹æ³\n            object obj = method.invoke(target, args);\n            return obj;\n        }\n    });\n}\n\nprivate static list<string> bannedsites;\n\nstatic\n{\n    bannedsites = new arraylist<string>();\n    bannedsites.add("bilibili.com");\n    bannedsites.add("youtube.com");\n    bannedsites.add("weibo.com");\n    bannedsites.add("qq.com");\n}\n\n\n} 4ãå®¢æ·ç«¯\n\npublic class client {\n\npublic static void main(string[] args) {\n    internet internet = new proxyinternet(new realinternet());\n    try {\n        internet.connectto("360.cn");\n        internet.connectto("qq.com");\n    } catch (exception e) {\n        system.out.println(e.getmessage());\n    }\n}\n\n\n} å¨æä»£ççæ¹å¼ä¸­ï¼ææçå½æ°è°ç¨æç»é½ä¼ç»è¿ invoke å½æ°çè½¬åï¼å æ­¤æä»¬å°±å¯ä»¥å¨è¿éåä¸äºèªå·±æ³åçæä½ï¼æ¯å¦æ¥å¿ç³»ç»ãäºå¡ãæ¦æªå¨ãæéæ§å¶ç­ã\n\n\n# cglib ä»£ç\n\néæä»£çå jdk ä»£çæ¨¡å¼é½è¦æ±ç®æ å¯¹è±¡å®ç°ä¸ä¸ªæ¥å£ï¼ä½ææ¶åç®æ å¯¹è±¡åªæ¯ä¸ä¸ªåç¬çå¯¹è±¡ï¼å¹¶æ²¡æå®ç°ä»»ä½æ¥å£ï¼è¿ä¸ªæ¶åå°±å¯ä»¥ä½¿ç¨ç®æ å¯¹è±¡å­ç±»æ¥å®ç°ä»£çï¼è¿å°±æ¯ cglib ä»£çã\n\ncglib (opens new window)(code generation library)æ¯ä¸ä¸ªåºäº asm çå­èç çæåºï¼å®åè®¸æä»¬å¨è¿è¡æ¶å¯¹å­èç è¿è¡ä¿®æ¹åå¨æçæãcglib éè¿ç»§æ¿æ¹å¼å®ç°ä»£çãå®å¹¿æ³çè¢«è®¸å¤ aop çæ¡æ¶ä½¿ç¨ï¼æ¯å¦æä»¬ç spring aopã\n\ncglib åçåºå±æ¯éè¿ä½¿ç¨å­èç å¤çæ¡æ¶ asm æ¥è½¬æ¢å­èç å¹¶çææ°çç±»ã\n\ncglib ä»£çä¹è¢«å«åå­ç±»ä»£çï¼å®æ¯å¨åå­ä¸­æå»ºä¸ä¸ªå­ç±»å¯¹è±¡ä»èå®ç°ç®æ å¯¹è±¡åè½æ©å±ã\n\n\n# coding\n\næ·»å  cglib ä¾èµ\n\n<dependency>\n    <groupid>cglib</groupid>\n    <artifactid>cglib</artifactid>\n    <version>3.3.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n1ãä¸éè¦æ¥å£\n\npublic class realinternet{\n\n    public void connectto(string serverhost) {\n        system.out.println("connecting to "+ serverhost);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãä»£çå·¥åç±»\n\npublic class proxyfactory implements methodinterceptor {\n\n    private object target;\n\n    public proxyfactory(object target){\n        this.target = target;\n    }\n\n    @override\n    public object intercept(object o, method method, object[] objects, methodproxy methodproxy) throws throwable {\n        system.out.println("cglib ä»£çå¼å§ï¼å¯ä»¥æ·»å é»è¾");\n        object obj = method.invoke(target,objects);\n        system.out.println("cglib ä»£çç»æ");\n        return obj;\n    }\n\n\n    public object getproxyinstance(){\n        //å·¥å·ç±»ï¼ç±»ä¼¼äºjdkå¨æä»£ççproxyç±»\n        enhancer enhancer = new enhancer();\n        //è®¾ç½®ç¶ç±»\n        enhancer.setsuperclass(target.getclass());\n        //è®¾ç½®åè°å½æ°\n        enhancer.setcallback(this);\n        //åå»ºå­ç±»å¯¹è±¡ï¼å³ä»£çå¯¹è±¡\n        return enhancer.create();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n3ãå®¢æ·ç«¯\n\npublic class client {\n\n    public static void main(string[] args) {\n\n        //ç®æ å¯¹è±¡\n        realinternet target = new realinternet();\n        //è·åä»£çå¯¹è±¡,å¹¶ä¸å°ç®æ å¯¹è±¡ä¼ éç»ä»£çå¯¹è±¡\n        realinternet internet = (realinternet) new proxyfactory(target).getproxyinstance();\n        internet.connectto("so.cn");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n4ãè¾åº\n\ncglib ä»£çå¼å§ï¼å¯ä»¥æ·»å é»è¾\nconnecting to so.cn\ncglib ä»£çç»æ\n\n\n1\n2\n3\n\n\n\n# ä»£çæ¨¡å¼éååºç¨åºæ¯\n\nä½¿ç¨ä»£çæ¨¡å¼çæ¹å¼å¤ç§å¤æ ·ï¼ æä»¬æ¥ççæå¸¸è§çå ç§ã\n\n * å»¶è¿åå§å ï¼èæä»£çï¼ï¼å¦æä½ æä¸ä¸ªå¶å°ä½¿ç¨çééçº§æå¡å¯¹è±¡ï¼ ä¸ç´ä¿æè¯¥å¯¹è±¡è¿è¡ä¼æ¶èç³»ç»èµæºæ¶ï¼ å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n\nä½ æ éå¨ç¨åºå¯å¨æ¶å°±åå»ºè¯¥å¯¹è±¡ï¼ å¯å°å¯¹è±¡çåå§åå»¶è¿å°çæ­£æéè¦çæ¶åã\n\n * è®¿é®æ§å¶ ï¼ä¿æ¤ä»£çï¼ï¼å¦æä½ åªå¸æç¹å®å®¢æ·ç«¯ä½¿ç¨æå¡å¯¹è±¡ï¼ è¿éçå¯¹è±¡å¯ä»¥æ¯æä½ç³»ç»ä¸­éå¸¸éè¦çé¨åï¼ èå®¢æ·ç«¯åæ¯åç§å·²å¯å¨çç¨åº ï¼åæ¬æ¶æç¨åºï¼ï¼ æ­¤æ¶å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n\nä»£çå¯ä»å¨å®¢æ·ç«¯å­æ®æ»¡è¶³è¦æ±æ¶å°è¯·æ±ä¼ éç»æå¡å¯¹è±¡ã\n\n * æ¬å°æ§è¡è¿ç¨æå¡ ï¼è¿ç¨ä»£çï¼ï¼éç¨äºæå¡å¯¹è±¡ä½äºè¿ç¨æå¡å¨ä¸çæå½¢ã\n\nå¨è¿ç§æå½¢ä¸­ï¼ ä»£çéè¿ç½ç»ä¼ éå®¢æ·ç«¯è¯·æ±ï¼ è´è´£å¤çææä¸ç½ç»ç¸å³çå¤æç»èã\n\n * è®°å½æ¥å¿è¯·æ± ï¼æ¥å¿è®°å½ä»£çï¼ï¼éç¨äºå½ä½ éè¦ä¿å­å¯¹äºæå¡å¯¹è±¡çè¯·æ±åå²è®°å½æ¶ã ä»£çå¯ä»¥å¨åæå¡ä¼ éè¯·æ±åè¿è¡è®°å½ã\n\n * ç¼å­è¯·æ±ç»æ ï¼ç¼å­ä»£çï¼ï¼éç¨äºéè¦ç¼å­å®¢æ·è¯·æ±ç»æå¹¶å¯¹ç¼å­çå½å¨æè¿è¡ç®¡çæ¶ï¼ ç¹å«æ¯å½è¿åç»æçä½ç§¯éå¸¸å¤§æ¶ã\n\nä»£çå¯å¯¹éå¤è¯·æ±æéçç¸åç»æè¿è¡ç¼å­ï¼ è¿å¯ä½¿ç¨è¯·æ±åæ°ä½ä¸ºç´¢å¼ç¼å­çé®å¼ãæ¯å¦è¯·æ±å¾çãæä»¶ç­èµæºæ¶ï¼åå°ä»£çç¼å­åï¼å¦ææ²¡æå°±å»å¬ç½åå¹¶ç¼å­å°ä»£çæå¡å¨\n\n * æºè½å¼ç¨ï¼å¯å¨æ²¡æå®¢æ·ç«¯ä½¿ç¨æä¸ªééçº§å¯¹è±¡æ¶ç«å³éæ¯è¯¥å¯¹è±¡ã\n\nä»£çä¼å°ææè·åäºæåæå¡å¯¹è±¡æå¶ç»æçå®¢æ·ç«¯è®°å½å¨æ¡ã ä»£çä¼æ¶ä¸æ¶å°éååä¸ªå®¢æ·ç«¯ï¼ æ£æ¥å®ä»¬æ¯å¦ä»å¨è¿è¡ã å¦æç¸åºçå®¢æ·ç«¯åè¡¨ä¸ºç©ºï¼ ä»£çå°±ä¼éæ¯è¯¥æå¡å¯¹è±¡ï¼ éæ¾åºå±ç³»ç»èµæºã\n\nä»£çè¿å¯ä»¥è®°å½å®¢æ·ç«¯æ¯å¦ä¿®æ¹äºæå¡å¯¹è±¡ã å¶ä»å®¢æ·ç«¯è¿å¯ä»¥å¤ç¨æªä¿®æ¹çå¯¹è±¡ã\n\n\n# aop ä¸­çä»£çæ¨¡å¼\n\naopï¼é¢ååé¢ç¼ç¨ï¼ä¸»è¦ççå®ç°ææ¯ä¸»è¦æ spring aop å aspectj\n\naspectj çåºå±ææ¯å°±æ¯éæä»£çï¼ç¨ä¸ç§ aspectj æ¯æçç¹å®è¯­è¨ç¼ååé¢ï¼éè¿ä¸ä¸ªå½ä»¤æ¥ç¼è¯ï¼çæä¸ä¸ªæ°çä»£çç±»ï¼è¯¥ä»£çç±»å¢å¼ºäºä¸å¡ç±»ï¼è¿æ¯å¨ç¼è¯æ¶å¢å¼ºï¼ç¸å¯¹äºä¸é¢è¯´çè¿è¡æ¶å¢å¼ºï¼ç¼è¯æ¶å¢å¼ºçæ§è½æ´å¥½ãï¼aspectj çéæä»£çï¼ä¸åæä»¬åè¾¹ä»ç»çéè¦ä¸ºæ¯ä¸ä¸ªç®æ ç±»æå¨ç¼åä¸ä¸ªä»£çç±»ï¼aspectj æ¡æ¶å¯ä»¥å¨ç¼è¯æ¶å°±çæç®æ ç±»çâä»£çç±»âï¼å¨è¿éå äºä¸ªåå·ï¼æ¯å ä¸ºå®éä¸å®å¹¶æ²¡æçæä¸ä¸ªæ°çç±»ï¼èæ¯æä»£çé»è¾ç´æ¥ç¼è¯å°ç®æ ç±»éé¢äºï¼\n\nspring aop éç¨çæ¯å¨æä»£çï¼å¨è¿è¡æé´å¯¹ä¸å¡æ¹æ³è¿è¡å¢å¼ºï¼æä»¥ä¸ä¼çææ°ç±»ï¼å¯¹äºå¨æä»£çææ¯ï¼spring aop æä¾äºå¯¹ jdk å¨æä»£ççæ¯æä»¥å cglib çæ¯æã\n\né»è®¤æåµä¸ï¼spring å¯¹å®ç°äºæ¥å£çç±»ä½¿ç¨ jdk proxy æ¹å¼ï¼å¦åçè¯ä½¿ç¨ cglibãä¸è¿å¯ä»¥éè¿éç½®æå® spring aop é½éè¿ cglib æ¥çæä»£çç±»ã\n\nå·ä½é»è¾å¨ org.springframework.aop.framework.defaultaopproxyfactory ç±»ä¸­ï¼ä½¿ç¨åªç§æ¹å¼çæç± aopproxy æ ¹æ® advisedsupport å¯¹è±¡çéç½®æ¥å³å®æºç å¦ä¸ï¼\n\npublic class defaultaopproxyfactory implements aopproxyfactory, serializable {\n    public defaultaopproxyfactory() {\n    }\n\n    public aopproxy createaopproxy(advisedsupport config) throws aopconfigexception {\n        if (!config.isoptimize() && !config.isproxytargetclass() && !this.hasnousersuppliedproxyinterfaces(config)) {\n            return new jdkdynamicaopproxy(config);\n        } else {\n            class<?> targetclass = config.gettargetclass();\n            if (targetclass == null) {\n                throw new aopconfigexception("targetsource cannot determine target class: either an interface or a target is required for proxy creation.");\n            } else {\n                //å¦æç®æ ç±»æ¯æ¥å£ä¸æ¯ä»£çç±», ä½¿ç¨jdkå¨æä»£çç±»ï¼å¦åä½¿ç¨cglibçæä»£çç±»\n                return (aopproxy)(!targetclass.isinterface() && !proxy.isproxyclass(targetclass) ? new objenesiscglibaopproxy(config) : new jdkdynamicaopproxy(config));\n            }\n        }\n    }\n\n    private boolean hasnousersuppliedproxyinterfaces(advisedsupport config) {\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nåèï¼ ä»£çæ¨¡å¼',charsets:{cjk:!0},lastUpdated:"2022/09/20, 23:34:59",lastUpdatedTimestamp:1663688099e3},{title:"è´£ä»»é¾æ¨¡å¼",frontmatter:{title:"è´£ä»»é¾æ¨¡å¼",date:"2022-05-21T17:28:46.000Z",permalink:"/pages/d3ff35/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/030.%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/030.è´£ä»»é¾æ¨¡å¼.md",key:"v-34f8aaa2",path:"/pages/d3ff35/",headers:[{level:2,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:1127},{level:2,title:"è§è²",slug:"è§è²",normalizedTitle:"è§è²",charIndex:1246},{level:2,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:1521},{level:2,title:"coding",slug:"coding",normalizedTitle:"coding",charIndex:1530},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:3309},{level:2,title:"åºç¨",slug:"åºç¨",normalizedTitle:"åºç¨",charIndex:784},{level:3,title:"Servlet ä¸­çè´£ä»»é¾",slug:"servlet-ä¸­çè´£ä»»é¾",normalizedTitle:"servlet ä¸­çè´£ä»»é¾",charIndex:3615},{level:3,title:"Spring MVC ä¸­çè´£ä»»é¾",slug:"spring-mvc-ä¸­çè´£ä»»é¾",normalizedTitle:"spring mvc ä¸­çè´£ä»»é¾",charIndex:5641},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:8299}],headersStr:"å®ä¹ è§è² ç±»å¾ coding å®ä¾ åºç¨ Servlet ä¸­çè´£ä»»é¾ Spring MVC ä¸­çè´£ä»»é¾ æ»ç»",content:'è´£ä»»é¾ï¼é¡¾åæä¹ï¼å°±æ¯ç¨æ¥å¤çç¸å³äºå¡è´£ä»»çä¸æ¡æ§è¡é¾ï¼æ§è¡é¾ä¸æå¤ä¸ªèç¹ï¼æ¯ä¸ªèç¹é½ææºä¼ï¼æ¡ä»¶å¹éï¼å¤çè¯·æ±äºå¡ï¼å¦ææä¸ªèç¹å¤çå®äºå°±å¯ä»¥æ ¹æ®å®éä¸å¡éæ±ä¼ éç»ä¸ä¸ä¸ªèç¹ç»§ç»­å¤çæèè¿åå¤çå®æ¯ã\n\nè¿ç§æ¨¡å¼ç»äºè¯·æ±çç±»åï¼å¯¹è¯·æ±çåéèåæ¥æ¶èè¿è¡è§£è¦ãå±äºè¡ä¸ºåæ¨¡å¼ã\n\nå¨è¿ç§æ¨¡å¼ä¸­ï¼éå¸¸æ¯ä¸ªæ¥æ¶èé½åå«å¯¹å¦ä¸ä¸ªæ¥æ¶èçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡ä¸è½å¤çè¯¥è¯·æ±ï¼é£ä¹å®ä¼æç¸åçè¯·æ±ä¼ ç»ä¸ä¸ä¸ªæ¥æ¶èï¼ä¾æ­¤ç±»æ¨ã\n\n\n\nåæ¥çä¸æ®µä»£ç \n\npublic void test(int i, Request request){\n  if(i==1){\n    Handler1.response(request);\n  }else if(i == 2){\n    Handler2.response(request);\n  }else if(i == 3){\n    Handler3.response(request);\n  }else if(i == 4){\n    Handler4.response(request);\n  }else{\n    Handler5.response(request);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä»£ç çä¸å¡é»è¾æ¯è¿æ ·çï¼æ¹æ³æä¸¤ä¸ªåæ°ï¼æ´æ° i åä¸ä¸ªè¯·æ± requestï¼æ ¹æ® i çå¼æ¥å³å®ç±è°æ¥å¤ç requestï¼å¦æ i==1ï¼ç± Handler1æ¥å¤çï¼å¦æ i==2ï¼ç± Handler2 æ¥å¤çï¼ä»¥æ­¤ç±»æ¨ãå¨ç¼ç¨ä¸­ï¼è¿ç§å¤çä¸å¡çæ¹æ³éå¸¸å¸¸è§ï¼ææå¤çè¯·æ±çç±»ç± ifâ¦elseâ¦ æ¡ä»¶å¤æ­è¯­å¥è¿æä¸æ¡è´£ä»»é¾æ¥å¯¹è¯·æ±è¿è¡å¤çï¼ç¸ä¿¡å¤§å®¶é½ç»å¸¸ç¨å°ãè¿ç§æ¹æ³çä¼ç¹æ¯éå¸¸ç´è§ï¼ç®åæäºï¼å¹¶ä¸æ¯è¾å®¹æç»´æ¤ï¼ä½æ¯è¿ç§æ¹æ³ä¹å­å¨çå ä¸ªæ¯è¾ä»¤äººå¤´ç¼çé®é¢ï¼\n\nä»£ç èè¿ï¼å®éåºç¨ä¸­çå¤å®æ¡ä»¶éå¸¸ä¸æ¯è¿ä¹ç®åå°å¤æ­æ¯å¦ä¸º1æèæ¯å¦ä¸º2ï¼ä¹è®¸éè¦å¤æçè®¡ç®ï¼ä¹è®¸éè¦æ¥è¯¢æ°æ®åºç­ç­ï¼è¿å°±ä¼æå¾å¤é¢å¤çä»£ç ï¼å¦æå¤æ­æ¡ä»¶åæ¯è¾å¤ï¼é£ä¹è¿ä¸ªifâ¦elseâ¦è¯­å¥åºæ¬ä¸å°±æ²¡æ³çäºã\n\nè¦ååº¦é«ï¼å¦ææä»¬æ³ç»§ç»­æ·»å å¤çè¯·æ±çç±»ï¼é£ä¹å°±è¦ç»§ç»­æ·»å ifâ¦elseâ¦å¤å®æ¡ä»¶ï¼å¦å¤ï¼è¿ä¸ªæ¡ä»¶å¤å®çé¡ºåºä¹æ¯åæ­»çï¼å¦ææ³æ¹åé¡ºåºï¼é£ä¹ä¹åªè½ä¿®æ¹è¿ä¸ªæ¡ä»¶è¯­å¥ã æ¢ç¶ç¼ºç¹æä»¬å·²ç»æ¸æ¥äºï¼å°±è¦æ³åæ³æ¥è§£å³ãè¿ä¸ªåºæ¯çä¸å¡é»è¾å¾ç®åï¼å¦ææ»¡è¶³æ¡ä»¶1ï¼åç± Handler1 æ¥å¤çï¼ä¸æ»¡è¶³ååä¸ä¼ éï¼å¦ææ»¡è¶³æ¡ä»¶2ï¼åç± Handler2 æ¥å¤çï¼ä¸æ»¡è¶³åç»§ç»­åä¸ä¼ éï¼ä»¥æ­¤ç±»æ¨ï¼ç´å°æ¡ä»¶ç»æãå¶å®æ¹è¿çæ¹æ³ä¹å¾ç®åï¼å°±æ¯æå¤å®æ¡ä»¶çé¨åæ¾å°å¤çç±»ä¸­ï¼è¿å°±æ¯è´£ä»»è¿æ¨¡å¼çåçã\n\n\n# å®ä¹\n\nè´£ä»»é¾æ¨¡å¼(Chain of Responsibility Pattern)ï¼ä½¿å¤ä¸ªå¯¹è±¡é½ææºä¼å¤çè¯·æ±ï¼ä»èé¿åäºè¯·æ±çåéèåæ¥åèä¹é´çè¦åå³ç³»ãå°è¿äºå¯¹è±¡è¿æä¸æ¡é¾ï¼å¹¶æ²¿çè¿æ¡é¾ä¼ éè¯¥è¯·æ±ï¼ç´å°æå¯¹è±¡å¤çå®ä¸ºæ­¢ã\n\n\n# è§è²\n\nHandlerï¼ æ½è±¡å¤çç±»ï¼æ½è±¡å¤çç±»ä¸­ä¸»è¦åå«ä¸ä¸ªæåä¸ä¸å¤çç±»çæååé nextHandler åä¸ä¸ªå¤çè¯·æ±çæ¹æ³ handRequestï¼handRequest æ¹æ³çä¸»è¦ä¸»è¦ææ³æ¯ï¼å¦ææ»¡è¶³å¤ççæ¡ä»¶ï¼åç±æ¬å¤çç±»æ¥è¿è¡å¤çï¼å¦åç± nextHandler æ¥å¤ç\n\nConcreteHandlerï¼ å·ä½å¤çç±»ä¸»è¦æ¯å¯¹å·ä½çå¤çé»è¾åå¤ççéç¨æ¡ä»¶è¿è¡å®ç°ãå·ä½å¤çèæ¥å°è¯·æ±åï¼å¯ä»¥éæ©å°è¯·æ±å¤çæï¼æèå°è¯·æ±ä¼ ç»ä¸å®¶ãç±äºå·ä½å¤çèææå¯¹ä¸å®¶çå¼ç¨ï¼å æ­¤ï¼å¦æéè¦ï¼å·ä½å¤çèå¯ä»¥è®¿é®ä¸å®¶\n\nClientï¼å®¢æ·ç«¯\n\n\n# ç±»å¾\n\n\n\n\n# coding\n\npublic abstract class Handler {\n    private Handler nextHandler;\n    private int level;\n\n    public Handler(int level) {\n        this.level = level;\n    }\n\n    public void setNextHandler(Handler handler){\n        this.nextHandler = handler;\n    }\n\n    public final void handlerRequest(Request request){\n        if(level == request.getLevel()){\n            this.response(request);\n        }else{\n            if (this.nextHandler != null){\n                this.nextHandler.handlerRequest(request);\n            }else{\n                System.out.println("===å·²ç»æ²¡æå¤çå¨äº===");\n            }\n        }\n\n    }\n    // æ½è±¡æ¹æ³ï¼å­ç±»å®ç°\n    public abstract void response(Request request);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nclass Request {\n    int level = 0;\n    public Request(int level){\n        this.level = level;\n    }\n    public int getLevel() {\n        return level;\n    }\n}\npublic class ConcreteHandler1 extends Handler {\n    public ConcreteHandler1(int level) {\n        super(level);\n    }\n\n    @Override\n    public void response(Request request) {\n        System.out.println("è¯·æ±ç±å¤çå¨1è¿è¡å¤ç");\n    }\n}\n\npublic class ConcreteHandler2 extends Handler {\n\t//...\n}\n\npublic class ConcreteHandler2 extends Handler {\n\t//...\n}\npublic class Client {\n    public static void main(String[] args) {\n        ConcreteHandler1 handler1 = new ConcreteHandler1(1);\n        ConcreteHandler2 handler2 = new ConcreteHandler2(2);\n        ConcreteHandler3 handler3 = new ConcreteHandler3(3);\n\t\t//å¤çèææä¸ä¸ªç¯å½¢\n        handler1.setNextHandler(handler2);\n        handler2.setNextHandler(handler3);\n\n        handler1.handlerRequest(new Request(1));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# å®ä¾\n\nå½ä½ æ³è¦è®©ä¸ä¸ªä»¥ä¸çå¯¹è±¡ææºä¼è½å¤å¤çæä¸ªè¯·æ±çæ¶åï¼å°±æ¯ç¨è´£ä»»é¾æ¨¡å¼ã\n\néè¿è´£ä»»é¾æ¨¡å¼ï¼ä½ å¯ä»¥ä¸ºæä¸ªè¯·æ±åå»ºä¸ä¸ªå¯¹è±¡é¾ãæ¯ä¸ªå¯¹è±¡ä¾åºæ£æ¥æ­¤è¯·æ±ï¼å¹¶å¯¹å¶è¿è¡å¤çï¼æèå°å®ä¼ ç»é¾ä¸­çä¸ä¸ä¸ªå¯¹è±¡ã\n\næ¯å¦\n\n * ç¨åºåè¦è¯· 3 å¤©ä»¥ä¸çåæï¼å¨ OA ç³è¯·ï¼éè¦ç´æ¥ä¸»ç®¡ãæ»çãHR å±å±å®¡æ¹åæçæãç±»ä¼¼çéè´­å®¡æ¹ãæ¥éå®¡æ¹ããã\n\n * ç¾å¢å¨å¤åè¥éä¸å¡ä¸­èµæºä½å±ç¤ºçé»è¾\n\n\n# åºç¨\n\nJAVA ä¸­çå¼å¸¸å¤çæºå¶ãJAVA WEB ä¸­ Apache Tomcat å¯¹ Encoding çå¤çï¼Struts2 çæ¦æªå¨ï¼JSPãServlet ç Filter åæ¯è´£ä»»é¾çå¸ååºç¨ã\n\n\n# Servlet ä¸­çè´£ä»»é¾\n\npublic final class ApplicationFilterChain implements FilterChain {\n    private static final ThreadLocal<ServletRequest> lastServicedRequest;\n    private static final ThreadLocal<ServletResponse> lastServicedResponse;\n    public static final int INCREMENT = 10;\n    private ApplicationFilterConfig[] filters = new ApplicationFilterConfig[0];\n    private int pos = 0;  //ä¸ä¸ä¸ªè¦æ§è¡çfilterçä½ç½®\n    private int n = 0;    //filterä¸ªæ°\n    private Servlet servlet = null;\n    public ApplicationFilterChain() {\n    }\n\n    public void doFilter(ServletRequest request, ServletResponse response) throws IOException, ServletException {\n        if (Globals.IS_SECURITY_ENABLED) {\n            final ServletRequest req = request;\n            final ServletResponse res = response;\n\n            try {\n                AccessController.doPrivileged(new PrivilegedExceptionAction<Void>() {\n                    public Void run() throws ServletException, IOException {\n                        ApplicationFilterChain.this.internalDoFilter(req, res);\n                        return null;\n                    }\n                });\n            } catch (PrivilegedActionException var7) {\n                Exception e = var7.getException();\n                if (e instanceof ServletException) {\n                    throw (ServletException)e;\n                }\n\n                if (e instanceof IOException) {\n                    throw (IOException)e;\n                }\n\n                if (e instanceof RuntimeException) {\n                    throw (RuntimeException)e;\n                }\n\n                throw new ServletException(e.getMessage(), e);\n            }\n        } else {\n            this.internalDoFilter(request, response);\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nFilterChain å°±æ¯ä¸æ¡è¿æ»¤é¾ãå¶ä¸­æ¯ä¸ªè¿æ»¤å¨ï¼Filterï¼é½å¯ä»¥å³å®æ¯å¦æ§è¡ä¸ä¸æ­¥ãè¿æ»¤åä¸¤ä¸ªæ¹åï¼è¿ååºï¼\n\nè¿ï¼å¨æ ServletRequest å ServletResponse äº¤ç» Servlet ç service æ¹æ³ä¹åï¼éè¦è¿è¡è¿æ»¤\n\nåºï¼å¨serviceæ¹æ³å®æåï¼å¾å®¢æ·ç«¯åéä¹åï¼éè¦è¿è¡è¿æ»¤\n\n\n# Spring MVC ä¸­çè´£ä»»é¾\n\nSpring MVC ç diapatcherServlet ç doDispatch æ¹æ³ä¸­ï¼è·åä¸è¯·æ±å¹éçå¤çå¨ HandlerExecutionChain å°±æ¯ç¨å°äºè´£ä»»é¾æ¨¡å¼ã\n\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        HttpServletRequest processedRequest = request;\n        HandlerExecutionChain mappedHandler = null;    //ä½¿ç¨å°äºè´£ä»»é¾æ¨¡å¼\n        boolean multipartRequestParsed = false;\n        WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);\n\n        try {\n            try {\n                ModelAndView mv = null;\n                Object dispatchException = null;\n\n                try {\n                    processedRequest = this.checkMultipart(request);\n                    multipartRequestParsed = processedRequest != request;\n                    mappedHandler = this.getHandler(processedRequest); \n                    if (mappedHandler == null) {\n                        this.noHandlerFound(processedRequest, response);\n                        return;\n                    }\n\n                    HandlerAdapter ha = this.getHandlerAdapter(mappedHandler.getHandler());\n                    String method = request.getMethod();\n                    boolean isGet = "GET".equals(method);\n                    if (isGet || "HEAD".equals(method)) {\n                        long lastModified = ha.getLastModified(request, mappedHandler.getHandler());\n                        if ((new ServletWebRequest(request, response)).checkNotModified(lastModified) && isGet) {\n                            return;\n                        }\n                    }\n\t\t\t\t\t\t\t\t\t\t//è´£ä»»é¾æ¨¡å¼æ§è¡é¢å¤çæ¹æ³ï¼å¶å®æ¯å°è¯·æ±äº¤ç»æ³¨åçæ¦æªå¨æ§è¡\n                    if (!mappedHandler.applyPreHandle(processedRequest, response)) {\n                        return;\n                    }\n\n                    mv = ha.handle(processedRequest, response, mappedHandler.getHandler());\n                    if (asyncManager.isConcurrentHandlingStarted()) {\n                        return;\n                    }\n\n                    this.applyDefaultViewName(processedRequest, mv);\n                   //è´£ä»»é¾æ§è¡åå¤çæ¹æ³\n                    mappedHandler.applyPostHandle(processedRequest, response, mv);\n                } catch (Exception var22) {\n             //...\n        } finally {\n     }\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n * SpringMVC è¯·æ±çæµç¨ä¸­ï¼æ§è¡äºæ¦æªå¨ç¸å³æ¹æ³ interceptor.preHandler ç­ç­\n\n * å¨å¤ç SpringMVC è¯·æ±æ¶ï¼ä½¿ç¨å°èè´£é¾æ¨¡å¼è¿ä½¿ç¨å°ééå¨æ¨¡å¼\n\n * HandlerExecutionChain ä¸»è¦è´è´£çæ¯è¯·æ±æ¦æªå¨çæ§è¡åè¯·æ±å¤çï¼ä½æ¯ä»æ¬èº«ä¸å¤çè¯·æ±ï¼åªæ¯å°è¯·æ±åéç»é¾ä¸æ³¨åå¤çå¨æ§è¡ï¼è¿æ¯èè´£é¾å®ç°æ¹å¼ï¼åå°èè´£é¾æ¬èº«ä¸å¤çé»è¾ä¹é´çè¦åï¼è§èäºå¤çæµç¨\n\n * HandlerExecutionChain ç»´æ¤äº HandlerInterceptor çéåï¼ å¯ä»¥åå¶ä¸­æ³¨åç¸åºçæ¦æªå¨\n\n\n# æ»ç»\n\nè´£ä»»é¾æ¨¡å¼å¶å®å°±æ¯ä¸ä¸ªçµæ´»çç ifâ¦elseâ¦è¯­å¥ï¼å®å°±æ¯å°è¿äºå¤å®æ¡ä»¶çè¯­å¥æ¾å°äºåä¸ªå¤çç±»ä¸­ï¼è¿æ ·åçä¼ç¹æ¯æ¯è¾çµæ´»äºï¼ä½åæ ·ä¹å¸¦æ¥äºé£é©ï¼æ¯å¦è®¾ç½®å¤çç±»ååå³ç³»æ¶ï¼ä¸å®è¦ç¹å«ä»ç»ï¼æå¯¹å¤çç±»ååé»è¾çæ¡ä»¶å¤æ­å³ç³»ï¼å¹¶ä¸æ³¨æä¸è¦å¨é¾ä¸­åºç°å¾ªç¯å¼ç¨çé®é¢ã\n\nä¼ç¹ï¼\n\néä½è¦ååº¦ï¼å°è¯·æ±åå¤çåå¼ï¼å®ç°è§£è¦ï¼æé«äºç³»ç»ççµæ´»æ§ã\n\nç®åäºå¯¹è±¡ï¼å¯¹è±¡ä¸éè¦ç¥éé¾çç»æ\n\nè¯å¥½çæ©å±æ§ï¼å¢å å¤çèçå®ç°å¾ç®åï¼åªééåå¤çè¯·æ±ä¸å¡é»è¾çæ¹æ³ã\n\nç¼ºç¹ï¼\n\nä»é¾å¤´ååºï¼ç´å°æå¤çèååºï¼å¨è´£ä»»é¾æ¯è¾é¿çæ¶åä¼å½±åç³»ç»æ§è½ï¼ä¸è¬éè¦å¨ Handler ä¸­è®¾ç½®ä¸ä¸ªæå¤§èç¹æ°ã\n\nè¯·æ±éå½ï¼è°è¯æéæ¯è¾éº»ç¦ã\n\nä½¿ç¨åºæ¯ï¼\n\næå¤ä¸ªå¯¹è±¡å¯ä»¥å¤çåä¸ä¸ªè¯·æ±ï¼å·ä½åªä¸ªå¯¹è±¡å¤çè¯¥è¯·æ±ç±è¿è¡æ¶å»èªå¨ç¡®å®ã\n\nå¨ä¸æç¡®æå®æ¥æ¶èçæåµä¸ï¼åå¤ä¸ªå¯¹è±¡ä¸­çä¸ä¸ªæäº¤ä¸ä¸ªè¯·æ±ã\n\nå¯å¨ææå®ä¸ç»å¯¹è±¡å¤çè¯·æ±ã\n\næ¨¡å¼çæ©å±ï¼\n\nèè´£é¾æ¨¡å¼å­å¨ä»¥ä¸ä¸¤ç§æåµã\n\n * çº¯çèè´£é¾æ¨¡å¼ï¼ä¸ä¸ªè¯·æ±å¿é¡»è¢«æä¸ä¸ªå¤çèå¯¹è±¡ææ¥æ¶ï¼ä¸ä¸ä¸ªå·ä½å¤çèå¯¹æä¸ªè¯·æ±çå¤çåªè½éç¨ä»¥ä¸ä¸¤ç§è¡ä¸ºä¹ä¸ï¼èªå·±å¤çï¼æ¿æè´£ä»»ï¼ï¼æè´£ä»»æ¨ç»ä¸å®¶å¤çã\n\n * ä¸çº¯çèè´£é¾æ¨¡å¼ï¼åè®¸åºç°æä¸ä¸ªå·ä½å¤çèå¯¹è±¡å¨æ¿æäºè¯·æ±çä¸é¨åè´£ä»»ååå°å©ä½çè´£ä»»ä¼ ç»ä¸å®¶çæåµï¼ä¸ä¸ä¸ªè¯·æ±å¯ä»¥æç»ä¸è¢«ä»»ä½æ¥æ¶ç«¯å¯¹è±¡ææ¥æ¶ã',normalizedContent:'è´£ä»»é¾ï¼é¡¾åæä¹ï¼å°±æ¯ç¨æ¥å¤çç¸å³äºå¡è´£ä»»çä¸æ¡æ§è¡é¾ï¼æ§è¡é¾ä¸æå¤ä¸ªèç¹ï¼æ¯ä¸ªèç¹é½ææºä¼ï¼æ¡ä»¶å¹éï¼å¤çè¯·æ±äºå¡ï¼å¦ææä¸ªèç¹å¤çå®äºå°±å¯ä»¥æ ¹æ®å®éä¸å¡éæ±ä¼ éç»ä¸ä¸ä¸ªèç¹ç»§ç»­å¤çæèè¿åå¤çå®æ¯ã\n\nè¿ç§æ¨¡å¼ç»äºè¯·æ±çç±»åï¼å¯¹è¯·æ±çåéèåæ¥æ¶èè¿è¡è§£è¦ãå±äºè¡ä¸ºåæ¨¡å¼ã\n\nå¨è¿ç§æ¨¡å¼ä¸­ï¼éå¸¸æ¯ä¸ªæ¥æ¶èé½åå«å¯¹å¦ä¸ä¸ªæ¥æ¶èçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡ä¸è½å¤çè¯¥è¯·æ±ï¼é£ä¹å®ä¼æç¸åçè¯·æ±ä¼ ç»ä¸ä¸ä¸ªæ¥æ¶èï¼ä¾æ­¤ç±»æ¨ã\n\n\n\nåæ¥çä¸æ®µä»£ç \n\npublic void test(int i, request request){\n  if(i==1){\n    handler1.response(request);\n  }else if(i == 2){\n    handler2.response(request);\n  }else if(i == 3){\n    handler3.response(request);\n  }else if(i == 4){\n    handler4.response(request);\n  }else{\n    handler5.response(request);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä»£ç çä¸å¡é»è¾æ¯è¿æ ·çï¼æ¹æ³æä¸¤ä¸ªåæ°ï¼æ´æ° i åä¸ä¸ªè¯·æ± requestï¼æ ¹æ® i çå¼æ¥å³å®ç±è°æ¥å¤ç requestï¼å¦æ i==1ï¼ç± handler1æ¥å¤çï¼å¦æ i==2ï¼ç± handler2 æ¥å¤çï¼ä»¥æ­¤ç±»æ¨ãå¨ç¼ç¨ä¸­ï¼è¿ç§å¤çä¸å¡çæ¹æ³éå¸¸å¸¸è§ï¼ææå¤çè¯·æ±çç±»ç± ifâ¦elseâ¦ æ¡ä»¶å¤æ­è¯­å¥è¿æä¸æ¡è´£ä»»é¾æ¥å¯¹è¯·æ±è¿è¡å¤çï¼ç¸ä¿¡å¤§å®¶é½ç»å¸¸ç¨å°ãè¿ç§æ¹æ³çä¼ç¹æ¯éå¸¸ç´è§ï¼ç®åæäºï¼å¹¶ä¸æ¯è¾å®¹æç»´æ¤ï¼ä½æ¯è¿ç§æ¹æ³ä¹å­å¨çå ä¸ªæ¯è¾ä»¤äººå¤´ç¼çé®é¢ï¼\n\nä»£ç èè¿ï¼å®éåºç¨ä¸­çå¤å®æ¡ä»¶éå¸¸ä¸æ¯è¿ä¹ç®åå°å¤æ­æ¯å¦ä¸º1æèæ¯å¦ä¸º2ï¼ä¹è®¸éè¦å¤æçè®¡ç®ï¼ä¹è®¸éè¦æ¥è¯¢æ°æ®åºç­ç­ï¼è¿å°±ä¼æå¾å¤é¢å¤çä»£ç ï¼å¦æå¤æ­æ¡ä»¶åæ¯è¾å¤ï¼é£ä¹è¿ä¸ªifâ¦elseâ¦è¯­å¥åºæ¬ä¸å°±æ²¡æ³çäºã\n\nè¦ååº¦é«ï¼å¦ææä»¬æ³ç»§ç»­æ·»å å¤çè¯·æ±çç±»ï¼é£ä¹å°±è¦ç»§ç»­æ·»å ifâ¦elseâ¦å¤å®æ¡ä»¶ï¼å¦å¤ï¼è¿ä¸ªæ¡ä»¶å¤å®çé¡ºåºä¹æ¯åæ­»çï¼å¦ææ³æ¹åé¡ºåºï¼é£ä¹ä¹åªè½ä¿®æ¹è¿ä¸ªæ¡ä»¶è¯­å¥ã æ¢ç¶ç¼ºç¹æä»¬å·²ç»æ¸æ¥äºï¼å°±è¦æ³åæ³æ¥è§£å³ãè¿ä¸ªåºæ¯çä¸å¡é»è¾å¾ç®åï¼å¦ææ»¡è¶³æ¡ä»¶1ï¼åç± handler1 æ¥å¤çï¼ä¸æ»¡è¶³ååä¸ä¼ éï¼å¦ææ»¡è¶³æ¡ä»¶2ï¼åç± handler2 æ¥å¤çï¼ä¸æ»¡è¶³åç»§ç»­åä¸ä¼ éï¼ä»¥æ­¤ç±»æ¨ï¼ç´å°æ¡ä»¶ç»æãå¶å®æ¹è¿çæ¹æ³ä¹å¾ç®åï¼å°±æ¯æå¤å®æ¡ä»¶çé¨åæ¾å°å¤çç±»ä¸­ï¼è¿å°±æ¯è´£ä»»è¿æ¨¡å¼çåçã\n\n\n# å®ä¹\n\nè´£ä»»é¾æ¨¡å¼(chain of responsibility pattern)ï¼ä½¿å¤ä¸ªå¯¹è±¡é½ææºä¼å¤çè¯·æ±ï¼ä»èé¿åäºè¯·æ±çåéèåæ¥åèä¹é´çè¦åå³ç³»ãå°è¿äºå¯¹è±¡è¿æä¸æ¡é¾ï¼å¹¶æ²¿çè¿æ¡é¾ä¼ éè¯¥è¯·æ±ï¼ç´å°æå¯¹è±¡å¤çå®ä¸ºæ­¢ã\n\n\n# è§è²\n\nhandlerï¼ æ½è±¡å¤çç±»ï¼æ½è±¡å¤çç±»ä¸­ä¸»è¦åå«ä¸ä¸ªæåä¸ä¸å¤çç±»çæååé nexthandler åä¸ä¸ªå¤çè¯·æ±çæ¹æ³ handrequestï¼handrequest æ¹æ³çä¸»è¦ä¸»è¦ææ³æ¯ï¼å¦ææ»¡è¶³å¤ççæ¡ä»¶ï¼åç±æ¬å¤çç±»æ¥è¿è¡å¤çï¼å¦åç± nexthandler æ¥å¤ç\n\nconcretehandlerï¼ å·ä½å¤çç±»ä¸»è¦æ¯å¯¹å·ä½çå¤çé»è¾åå¤ççéç¨æ¡ä»¶è¿è¡å®ç°ãå·ä½å¤çèæ¥å°è¯·æ±åï¼å¯ä»¥éæ©å°è¯·æ±å¤çæï¼æèå°è¯·æ±ä¼ ç»ä¸å®¶ãç±äºå·ä½å¤çèææå¯¹ä¸å®¶çå¼ç¨ï¼å æ­¤ï¼å¦æéè¦ï¼å·ä½å¤çèå¯ä»¥è®¿é®ä¸å®¶\n\nclientï¼å®¢æ·ç«¯\n\n\n# ç±»å¾\n\n\n\n\n# coding\n\npublic abstract class handler {\n    private handler nexthandler;\n    private int level;\n\n    public handler(int level) {\n        this.level = level;\n    }\n\n    public void setnexthandler(handler handler){\n        this.nexthandler = handler;\n    }\n\n    public final void handlerrequest(request request){\n        if(level == request.getlevel()){\n            this.response(request);\n        }else{\n            if (this.nexthandler != null){\n                this.nexthandler.handlerrequest(request);\n            }else{\n                system.out.println("===å·²ç»æ²¡æå¤çå¨äº===");\n            }\n        }\n\n    }\n    // æ½è±¡æ¹æ³ï¼å­ç±»å®ç°\n    public abstract void response(request request);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nclass request {\n    int level = 0;\n    public request(int level){\n        this.level = level;\n    }\n    public int getlevel() {\n        return level;\n    }\n}\npublic class concretehandler1 extends handler {\n    public concretehandler1(int level) {\n        super(level);\n    }\n\n    @override\n    public void response(request request) {\n        system.out.println("è¯·æ±ç±å¤çå¨1è¿è¡å¤ç");\n    }\n}\n\npublic class concretehandler2 extends handler {\n\t//...\n}\n\npublic class concretehandler2 extends handler {\n\t//...\n}\npublic class client {\n    public static void main(string[] args) {\n        concretehandler1 handler1 = new concretehandler1(1);\n        concretehandler2 handler2 = new concretehandler2(2);\n        concretehandler3 handler3 = new concretehandler3(3);\n\t\t//å¤çèææä¸ä¸ªç¯å½¢\n        handler1.setnexthandler(handler2);\n        handler2.setnexthandler(handler3);\n\n        handler1.handlerrequest(new request(1));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# å®ä¾\n\nå½ä½ æ³è¦è®©ä¸ä¸ªä»¥ä¸çå¯¹è±¡ææºä¼è½å¤å¤çæä¸ªè¯·æ±çæ¶åï¼å°±æ¯ç¨è´£ä»»é¾æ¨¡å¼ã\n\néè¿è´£ä»»é¾æ¨¡å¼ï¼ä½ å¯ä»¥ä¸ºæä¸ªè¯·æ±åå»ºä¸ä¸ªå¯¹è±¡é¾ãæ¯ä¸ªå¯¹è±¡ä¾åºæ£æ¥æ­¤è¯·æ±ï¼å¹¶å¯¹å¶è¿è¡å¤çï¼æèå°å®ä¼ ç»é¾ä¸­çä¸ä¸ä¸ªå¯¹è±¡ã\n\næ¯å¦\n\n * ç¨åºåè¦è¯· 3 å¤©ä»¥ä¸çåæï¼å¨ oa ç³è¯·ï¼éè¦ç´æ¥ä¸»ç®¡ãæ»çãhr å±å±å®¡æ¹åæçæãç±»ä¼¼çéè´­å®¡æ¹ãæ¥éå®¡æ¹ããã\n\n * ç¾å¢å¨å¤åè¥éä¸å¡ä¸­èµæºä½å±ç¤ºçé»è¾\n\n\n# åºç¨\n\njava ä¸­çå¼å¸¸å¤çæºå¶ãjava web ä¸­ apache tomcat å¯¹ encoding çå¤çï¼struts2 çæ¦æªå¨ï¼jspãservlet ç filter åæ¯è´£ä»»é¾çå¸ååºç¨ã\n\n\n# servlet ä¸­çè´£ä»»é¾\n\npublic final class applicationfilterchain implements filterchain {\n    private static final threadlocal<servletrequest> lastservicedrequest;\n    private static final threadlocal<servletresponse> lastservicedresponse;\n    public static final int increment = 10;\n    private applicationfilterconfig[] filters = new applicationfilterconfig[0];\n    private int pos = 0;  //ä¸ä¸ä¸ªè¦æ§è¡çfilterçä½ç½®\n    private int n = 0;    //filterä¸ªæ°\n    private servlet servlet = null;\n    public applicationfilterchain() {\n    }\n\n    public void dofilter(servletrequest request, servletresponse response) throws ioexception, servletexception {\n        if (globals.is_security_enabled) {\n            final servletrequest req = request;\n            final servletresponse res = response;\n\n            try {\n                accesscontroller.doprivileged(new privilegedexceptionaction<void>() {\n                    public void run() throws servletexception, ioexception {\n                        applicationfilterchain.this.internaldofilter(req, res);\n                        return null;\n                    }\n                });\n            } catch (privilegedactionexception var7) {\n                exception e = var7.getexception();\n                if (e instanceof servletexception) {\n                    throw (servletexception)e;\n                }\n\n                if (e instanceof ioexception) {\n                    throw (ioexception)e;\n                }\n\n                if (e instanceof runtimeexception) {\n                    throw (runtimeexception)e;\n                }\n\n                throw new servletexception(e.getmessage(), e);\n            }\n        } else {\n            this.internaldofilter(request, response);\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nfilterchain å°±æ¯ä¸æ¡è¿æ»¤é¾ãå¶ä¸­æ¯ä¸ªè¿æ»¤å¨ï¼filterï¼é½å¯ä»¥å³å®æ¯å¦æ§è¡ä¸ä¸æ­¥ãè¿æ»¤åä¸¤ä¸ªæ¹åï¼è¿ååºï¼\n\nè¿ï¼å¨æ servletrequest å servletresponse äº¤ç» servlet ç service æ¹æ³ä¹åï¼éè¦è¿è¡è¿æ»¤\n\nåºï¼å¨serviceæ¹æ³å®æåï¼å¾å®¢æ·ç«¯åéä¹åï¼éè¦è¿è¡è¿æ»¤\n\n\n# spring mvc ä¸­çè´£ä»»é¾\n\nspring mvc ç diapatcherservlet ç dodispatch æ¹æ³ä¸­ï¼è·åä¸è¯·æ±å¹éçå¤çå¨ handlerexecutionchain å°±æ¯ç¨å°äºè´£ä»»é¾æ¨¡å¼ã\n\nprotected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception {\n        httpservletrequest processedrequest = request;\n        handlerexecutionchain mappedhandler = null;    //ä½¿ç¨å°äºè´£ä»»é¾æ¨¡å¼\n        boolean multipartrequestparsed = false;\n        webasyncmanager asyncmanager = webasyncutils.getasyncmanager(request);\n\n        try {\n            try {\n                modelandview mv = null;\n                object dispatchexception = null;\n\n                try {\n                    processedrequest = this.checkmultipart(request);\n                    multipartrequestparsed = processedrequest != request;\n                    mappedhandler = this.gethandler(processedrequest); \n                    if (mappedhandler == null) {\n                        this.nohandlerfound(processedrequest, response);\n                        return;\n                    }\n\n                    handleradapter ha = this.gethandleradapter(mappedhandler.gethandler());\n                    string method = request.getmethod();\n                    boolean isget = "get".equals(method);\n                    if (isget || "head".equals(method)) {\n                        long lastmodified = ha.getlastmodified(request, mappedhandler.gethandler());\n                        if ((new servletwebrequest(request, response)).checknotmodified(lastmodified) && isget) {\n                            return;\n                        }\n                    }\n\t\t\t\t\t\t\t\t\t\t//è´£ä»»é¾æ¨¡å¼æ§è¡é¢å¤çæ¹æ³ï¼å¶å®æ¯å°è¯·æ±äº¤ç»æ³¨åçæ¦æªå¨æ§è¡\n                    if (!mappedhandler.applyprehandle(processedrequest, response)) {\n                        return;\n                    }\n\n                    mv = ha.handle(processedrequest, response, mappedhandler.gethandler());\n                    if (asyncmanager.isconcurrenthandlingstarted()) {\n                        return;\n                    }\n\n                    this.applydefaultviewname(processedrequest, mv);\n                   //è´£ä»»é¾æ§è¡åå¤çæ¹æ³\n                    mappedhandler.applyposthandle(processedrequest, response, mv);\n                } catch (exception var22) {\n             //...\n        } finally {\n     }\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n * springmvc è¯·æ±çæµç¨ä¸­ï¼æ§è¡äºæ¦æªå¨ç¸å³æ¹æ³ interceptor.prehandler ç­ç­\n\n * å¨å¤ç springmvc è¯·æ±æ¶ï¼ä½¿ç¨å°èè´£é¾æ¨¡å¼è¿ä½¿ç¨å°ééå¨æ¨¡å¼\n\n * handlerexecutionchain ä¸»è¦è´è´£çæ¯è¯·æ±æ¦æªå¨çæ§è¡åè¯·æ±å¤çï¼ä½æ¯ä»æ¬èº«ä¸å¤çè¯·æ±ï¼åªæ¯å°è¯·æ±åéç»é¾ä¸æ³¨åå¤çå¨æ§è¡ï¼è¿æ¯èè´£é¾å®ç°æ¹å¼ï¼åå°èè´£é¾æ¬èº«ä¸å¤çé»è¾ä¹é´çè¦åï¼è§èäºå¤çæµç¨\n\n * handlerexecutionchain ç»´æ¤äº handlerinterceptor çéåï¼ å¯ä»¥åå¶ä¸­æ³¨åç¸åºçæ¦æªå¨\n\n\n# æ»ç»\n\nè´£ä»»é¾æ¨¡å¼å¶å®å°±æ¯ä¸ä¸ªçµæ´»çç ifâ¦elseâ¦è¯­å¥ï¼å®å°±æ¯å°è¿äºå¤å®æ¡ä»¶çè¯­å¥æ¾å°äºåä¸ªå¤çç±»ä¸­ï¼è¿æ ·åçä¼ç¹æ¯æ¯è¾çµæ´»äºï¼ä½åæ ·ä¹å¸¦æ¥äºé£é©ï¼æ¯å¦è®¾ç½®å¤çç±»ååå³ç³»æ¶ï¼ä¸å®è¦ç¹å«ä»ç»ï¼æå¯¹å¤çç±»ååé»è¾çæ¡ä»¶å¤æ­å³ç³»ï¼å¹¶ä¸æ³¨æä¸è¦å¨é¾ä¸­åºç°å¾ªç¯å¼ç¨çé®é¢ã\n\nä¼ç¹ï¼\n\néä½è¦ååº¦ï¼å°è¯·æ±åå¤çåå¼ï¼å®ç°è§£è¦ï¼æé«äºç³»ç»ççµæ´»æ§ã\n\nç®åäºå¯¹è±¡ï¼å¯¹è±¡ä¸éè¦ç¥éé¾çç»æ\n\nè¯å¥½çæ©å±æ§ï¼å¢å å¤çèçå®ç°å¾ç®åï¼åªééåå¤çè¯·æ±ä¸å¡é»è¾çæ¹æ³ã\n\nç¼ºç¹ï¼\n\nä»é¾å¤´ååºï¼ç´å°æå¤çèååºï¼å¨è´£ä»»é¾æ¯è¾é¿çæ¶åä¼å½±åç³»ç»æ§è½ï¼ä¸è¬éè¦å¨ handler ä¸­è®¾ç½®ä¸ä¸ªæå¤§èç¹æ°ã\n\nè¯·æ±éå½ï¼è°è¯æéæ¯è¾éº»ç¦ã\n\nä½¿ç¨åºæ¯ï¼\n\næå¤ä¸ªå¯¹è±¡å¯ä»¥å¤çåä¸ä¸ªè¯·æ±ï¼å·ä½åªä¸ªå¯¹è±¡å¤çè¯¥è¯·æ±ç±è¿è¡æ¶å»èªå¨ç¡®å®ã\n\nå¨ä¸æç¡®æå®æ¥æ¶èçæåµä¸ï¼åå¤ä¸ªå¯¹è±¡ä¸­çä¸ä¸ªæäº¤ä¸ä¸ªè¯·æ±ã\n\nå¯å¨ææå®ä¸ç»å¯¹è±¡å¤çè¯·æ±ã\n\næ¨¡å¼çæ©å±ï¼\n\nèè´£é¾æ¨¡å¼å­å¨ä»¥ä¸ä¸¤ç§æåµã\n\n * çº¯çèè´£é¾æ¨¡å¼ï¼ä¸ä¸ªè¯·æ±å¿é¡»è¢«æä¸ä¸ªå¤çèå¯¹è±¡ææ¥æ¶ï¼ä¸ä¸ä¸ªå·ä½å¤çèå¯¹æä¸ªè¯·æ±çå¤çåªè½éç¨ä»¥ä¸ä¸¤ç§è¡ä¸ºä¹ä¸ï¼èªå·±å¤çï¼æ¿æè´£ä»»ï¼ï¼æè´£ä»»æ¨ç»ä¸å®¶å¤çã\n\n * ä¸çº¯çèè´£é¾æ¨¡å¼ï¼åè®¸åºç°æä¸ä¸ªå·ä½å¤çèå¯¹è±¡å¨æ¿æäºè¯·æ±çä¸é¨åè´£ä»»ååå°å©ä½çè´£ä»»ä¼ ç»ä¸å®¶çæåµï¼ä¸ä¸ä¸ªè¯·æ±å¯ä»¥æç»ä¸è¢«ä»»ä½æ¥æ¶ç«¯å¯¹è±¡ææ¥æ¶ã',charsets:{cjk:!0},lastUpdated:"2022/09/20, 23:34:59",lastUpdatedTimestamp:1663688099e3},{title:"æ¨¡æ¿æ¹æ³æ¨¡å¼",frontmatter:{title:"æ¨¡æ¿æ¹æ³æ¨¡å¼",date:"2022-05-21T17:29:10.000Z",permalink:"/pages/43b656/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/040.%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/040.æ¨¡æ¿æ¹æ³æ¨¡å¼.md",key:"v-28deb9da",path:"/pages/43b656/",headers:[{level:2,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:2},{level:2,title:"åºæ¯é®é¢",slug:"åºæ¯é®é¢",normalizedTitle:"åºæ¯é®é¢",charIndex:94},{level:2,title:"è®¤è¯æ¨¡æ¿æ¹æ³",slug:"è®¤è¯æ¨¡æ¿æ¹æ³",normalizedTitle:"è®¤è¯æ¨¡æ¿æ¹æ³",charIndex:1853},{level:2,title:"JDK ä¸­çæ¨¡æ¿æ¹æ³",slug:"jdk-ä¸­çæ¨¡æ¿æ¹æ³",normalizedTitle:"jdk ä¸­çæ¨¡æ¿æ¹æ³",charIndex:4308},{level:2,title:"Spring ä¸­çæ¨¡æ¿æ¹æ³",slug:"spring-ä¸­çæ¨¡æ¿æ¹æ³",normalizedTitle:"spring ä¸­çæ¨¡æ¿æ¹æ³",charIndex:5336},{level:2,title:"å°æ»ç»",slug:"å°æ»ç»",normalizedTitle:"å°æ»ç»",charIndex:7326},{level:2,title:"ä½¿ç¨åºæ¯",slug:"ä½¿ç¨åºæ¯",normalizedTitle:"ä½¿ç¨åºæ¯",charIndex:7434}],headersStr:"åè¨ åºæ¯é®é¢ è®¤è¯æ¨¡æ¿æ¹æ³ JDK ä¸­çæ¨¡æ¿æ¹æ³ Spring ä¸­çæ¨¡æ¿æ¹æ³ å°æ»ç» ä½¿ç¨åºæ¯",content:'# åè¨\n\næ¨¡æ¿ï¼é¡¾åæä¹ï¼å®æ¯ä¸ä¸ªåºå®åãæ ååçä¸è¥¿ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®å¨è¶ç±»ä¸­å®ä¹äºä¸ä¸ªç®æ³çæ¡æ¶ï¼ åè®¸å­ç±»å¨ä¸ä¿®æ¹ç»æçæåµä¸éåç®æ³çç¹å®æ­¥éª¤ã\n\n\n# åºæ¯é®é¢\n\nç¨åºåä¸æ¿å¤æ¯ï¼ä¸æ¥åå¹²ä¸¤è¡ä»£ç \n\nç½ä¸æ¨¡æ¿æ¹æ³çåºæ¯ç¤ºä¾ç¹å«å¤ï¼ä¸ªäººæè§è¿æ¯ãHead First è®¾è®¡æ¨¡å¼ãä¸­çä¾å­æ¯è¾å¥½ã\n\nåè®¾æä»¬æ¯ä¸å®¶é¥®ååºçå¸åï¼èµ·ç éè¦ä»¥ä¸ä¸¤ä¸ªæèº\n\nçç®ååï¼è¿ä¹çï¼æ­¥éª¤å¤§åå°å¼ï¼æçç¬¬ä¸ååºå°±æ¯åä¸ªä¸å¡æ¥å£ï¼ä¸åçé¥®åå®ç°å¶ä¸­çæ¹æ³å°±è¡ï¼åè¿æ ·\n\nç»å®ç±»å¾ï¼çå°åç°ï¼ç¬¬ä¸æ­¥åç¬¬ä¸æ­¥æ²¡ä»ä¹å·®å«ï¼èä¸åé¥®åæ¯ä¸ªæµç¨å¼çå·¥ä½ï¼æå¸æä½¿ç¨æ¶ï¼ç´æ¥è°ç¨ä¸ä¸ªæ¹æ³ï¼å°±å»æ§è¡å¯¹åºçå¶ä½æ­¥éª¤ã\n\nçµæºä¸å¨ï¼ä¸ç¨æ¥å£äºï¼ç¨ä¸ä¸ªæ½è±¡ç¶ç±»ï¼ææ­¥éª¤æ¹æ³æ¾å¨ä¸ä¸ªå¤§çæµç¨æ¹æ³ makingDrinks() ä¸­ï¼ä¸ç¬¬ä¸æ­¥åç¬¬ä¸æ­¥ï¼å®å¨ä¸æ ·ï¼æ²¡å¿è¦å¨å­ç±»å®ç°ï¼æ¹è¿å¦ä¸\n\nåçä¸æä»¬çè®¾è®¡ï¼æè§è¿ä¸éï¼ç°å¨ç¨åä¸ä¸ª makingDrinks() æ¹æ³æ¥å¤çåå¡åè¶çå¶ä½ï¼èä¸æä»¬ä¸å¸æå­ç±»è¦çè¿ä¸ªæ¹æ³ï¼æä»¥å¯ä»¥ç³æä¸º finalï¼ä¸åçå¶ä½æ­¥éª¤ï¼æä»¬å¸æå­ç±»æ¥æä¾ï¼å¿é¡»å¨ç¶ç±»ç³æä¸ºæ½è±¡æ¹æ³ï¼èç¬¬ä¸æ­¥åç¬¬ä¸æ­¥æä»¬ä¸å¸æå­ç±»éåï¼æä»¥æä»¬å£°æä¸ºéæ½è±¡æ¹æ³\n\npublic abstract class Drinks {\n\n    void boilWater() {\n        System.out.println("å°æ°´ç®æ²¸");\n    }\n\n    abstract void brew();\n\n    void pourInCup() {\n        System.out.println("åå¥æ¯å­");\n    }\n\n    abstract void addCondiments();\n    \n    public final void makingDrinks() {\n        //ç­æ°´\n        boilWater();\n        //å²æ³¡\n        brew();\n        //åè¿æ¯å­\n        pourInCup();\n        //å æ\n        addCondiments();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\næ¥çï¼æä»¬åå«å¤çåå¡åè¶ï¼è¿ä¸¤ä¸ªç±»åªéè¦ç»§æ¿ç¶ç±»ï¼éåå¶ä¸­çæ½è±¡æ¹æ³å³å¯ï¼å®ç°åèªçå²æ³¡åæ·»å è°æï¼\n\npublic class Tea extends Drinks {\n    @Override\n    void brew() {\n        System.out.println("å²è¶å¶");\n    }\n    @Override\n    void addCondiments() {\n        System.out.println("å æ æª¬ç");\n    }\n}\npublic class Coffee extends Drinks {\n    @Override\n    void brew() {\n        System.out.println("å²åå¡ç²");\n    }\n\n    @Override\n    void addCondiments() {\n        System.out.println("å å¥¶å ç³");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nç°å¨å¯ä»¥ä¸å²äºï¼è¯çå¶ä½ä¸åå¡åè¶å§\n\npublic static void main(String[] args) {\n    Drinks coffee = new Coffee();\n    coffee.makingDrinks();\n    System.out.println();\n    Drinks tea = new Tea();\n    tea.makingDrinks();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¥½åï¼åå­¦ä¼ä¸ä¸ªè®¾è®¡æ¨¡å¼ï¼è¿å°±æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼æä»¬ç makingDrinks() å°±æ¯æ¨¡æ¿æ¹æ³ãæä»¬å¯ä»¥çå°ç¸åçæ­¥éª¤ boilWater() å pourInCup() åªå¨ç¶ç±»ä¸­è¿è¡å³å¯ï¼ä¸åçæ­¥éª¤æ¾å¨å­ç±»å®ç°ã\n\n\n# è®¤è¯æ¨¡æ¿æ¹æ³\n\nå¨éå®åå£«çãJAVAä¸æ¨¡å¼ãä¸ä¹¦ä¸­å¼å¤´æ¯è¿æ ·æè¿°æ¨¡æ¿æ¹æ³ï¼Template Methodï¼æ¨¡å¼çï¼\n\n> æ¨¡æ¿æ¹æ³æ¨¡å¼æ¯ç±»çè¡ä¸ºæ¨¡å¼ã åå¤ä¸ä¸ªæ½è±¡ç±»ï¼å°é¨åé»è¾ä»¥å·ä½æ¹æ³ä»¥åå·ä½æé å½æ°çå½¢å¼å®ç°ï¼ ç¶åå£°æä¸äºæ½è±¡æ¹æ³æ¥è¿«ä½¿å­ç±»å®ç°å©ä½çé»è¾ã ä¸åçå­ç±»å¯ä»¥ä»¥ä¸åçæ¹å¼å®ç°è¿äºæ½è±¡æ¹æ³ï¼ä»èå¯¹å©ä½çé»è¾æä¸åçå®ç°ã è¿å°±æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼çç¨æã\n\nåä»£ç çä¸ä¸ªå¾éè¦çæèç¹å°±æ¯âåä¸ä¸åâï¼ç¨åºä¸­åªäºåè½æ¯å¯åçï¼åªäºåè½æ¯ä¸åçï¼æä»¬å¯ä»¥æä¸åçé¨åæ½è±¡åºæ¥ï¼è¿è¡å¬å±çå®ç°ï¼æååçé¨ååç¦»åºæ¥ï¼ç¨æ¥å£æ¥å°è£éç¦»ï¼æç¨æ½è±¡ç±»çº¦æå­ç±»è¡ä¸ºãæ¨¡æ¿æ¹æ³å°±å¾å¥½çä½ç°äºè¿ä¸ç¹ã\n\næ¨¡æ¿æ¹æ³å®ä¹äºä¸ä¸ªç®æ³çæ­¥éª¤ï¼å¹¶åè®¸å­ç±»ä¸ºä¸ä¸ªæå¤ä¸ªæ­¥éª¤æä¾å®ç°ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼æ¯æææ¨¡å¼ä¸­æä¸ºå¸¸è§çå ä¸ªæ¨¡å¼ä¹ä¸ï¼æ¯åºäºç»§æ¿çä»£ç å¤ç¨çåºæ¬ææ¯ï¼æä»¬åçä¸ç±»å¾\n\næ¨¡æ¿æ¹æ³æ¨¡å¼å°±æ¯ç¨æ¥åå»ºä¸ä¸ªç®æ³çæ¨¡æ¿ï¼è¿ä¸ªæ¨¡æ¿å°±æ¯æ¹æ³ï¼è¯¥æ¹æ³å°ç®æ³å®ä¹æä¸ç»æ­¥éª¤ï¼å¶ä¸­çä»»ææ­¥éª¤é½å¯è½æ¯æ½è±¡çï¼ç±å­ç±»è´è´£å®ç°ãè¿æ ·å¯ä»¥ç¡®ä¿ç®æ³çç»æä¿æä¸åï¼åæ¶ç±å­ç±»æä¾é¨åå®ç°ã\n\nååé¡¾ä¸æä»¬å¶ä½åå¡åè¶çä¾å­ï¼æäºé¡¾å®¢è¦ä¸å¸æåå¡å ç³æèä¸å¸æè¶éå æ æª¬ï¼æä»¬è¦æ¹é ä¸æ¨¡æ¿æ¹æ³ï¼å¨å ç¸åºçè°æä¹åï¼é®ä¸é¡¾å®¢\n\npublic abstract class Drinks {\n\n    void boilWater() {\n        System.out.println("å°æ°´ç®æ²¸");\n    }\n\n    abstract void brew();\n\n    void pourInCup() {\n        System.out.println("åå¥æ¯å­");\n    }\n\n    abstract void addCondiments();\n\n    public final void makingDrinks() {\n        boilWater();\n        brew();\n        pourInCup();\n\n        //å¦æé¡¾å®¢éè¦ï¼æå æ\n        if (customerLike()) {\n            addCondiments();\n        }\n    }\n\n    //å®ä¹ä¸ä¸ªç©ºçç¼ºçæ¹æ³ï¼åªè¿å true\n    boolean customerLike() {\n        return true;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nå¦ä¸ï¼æä»¬å äºä¸ä¸ªé»è¾å¤æ­ï¼é»è¾å¤æ­çæ¹æ³æ¯ä¸ä¸ªåªè¿å true çæ¹æ³ï¼è¿ä¸ªæ¹æ³æä»¬å«å é©å­æ¹æ³ã\n\n> é©å­ï¼å¨æ¨¡æ¿æ¹æ³çç¶ç±»ä¸­ï¼æä»¬å¯ä»¥å®ä¹ä¸ä¸ªæ¹æ³ï¼å®é»è®¤ä¸åä»»ä½äºï¼å­ç±»å¯ä»¥è§æåµè¦ä¸è¦è¦çå®ï¼è¯¥æ¹æ³ç§°ä¸ºâé©å­âã\n\né©å­æ¹æ³ä¸è¬æ¯ç©ºçæèæé»è®¤å®ç°ãé©å­çå­å¨ï¼å¯ä»¥è®©å­ç±»æè½åå¯¹ç®æ³çä¸åç¹è¿è¡æé©ãèè¦ä¸è¦æé©ï¼åç±å­ç±»å»å³å®ã\n\næ¯ä¸æ¯å¾æç¨å¢ï¼æä»¬åçä¸åå¡çå¶ä½\n\npublic class Coffee extends Drinks {\n    @Override\n    void brew() {\n        System.out.println("å²åå¡ç²");\n    }\n\n    @Override\n    void addCondiments() {\n        System.out.println("å å¥¶å ç³");\n    }\n\t//è¦çäºé©å­ï¼æä¾äºèªå·±çè¯¢é®åè½ï¼è®©ç¨æ·è¾å¥æ¯å¦éè¦å æ\n    boolean customerLike() {\n        String answer = getUserInput();\n        if (answer.toLowerCase().startsWith("y")) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    //å¤çç¨æ·çè¾å¥\n    private String getUserInput() {\n        String answer = null;\n        System.out.println("æ¨æ³è¦å å¥¶å ç³åï¼è¾å¥ YES æ NO");\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        try {\n            answer = reader.readLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        if (answer == null) {\n            return "no";\n        }\n        return answer;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\næ¥çåå»æµè¯ä¸ä»£ç ï¼ççç»æå§ã\n\nææ³ä½ åºè¯¥ç¥éé©å­çå¥½å¤äºå§ï¼å®å¯ä»¥ä½ä¸ºæ¡ä»¶æ§å¶ï¼å½±åæ½è±¡ç±»ä¸­çç®æ³æµç¨ï¼å½ç¶ä¹å¯ä»¥ä»ä¹é½ä¸åã\n\næ¨¡æ¿æ¹æ³æå¾å¤ç§å®ç°ï¼ææ¶çèµ·æ¥å¯è½ä¸æ¯æä»¬æè°çâä¸­è§ä¸­ç©âçè®¾è®¡ãæ¥ä¸æ¥æä»¬çä¸ JDK å Spring ä¸­æ¯æä¹ä½¿ç¨æ¨¡æ¿æ¹æ³çã\n\n\n# JDK ä¸­çæ¨¡æ¿æ¹æ³\n\næä»¬åä»£ç ç»å¸¸ä¼ç¨å° comparable æ¯è¾å¨æ¥å¯¹æ°ç»å¯¹è±¡è¿è¡æåºï¼æä»¬é½ä¼å®ç°å®ç compareTo() æ¹æ³ï¼ä¹åå°±å¯ä»¥éè¿ Collections.sort() æè Arrays.sort() æ¹æ³è¿è¡æåºäºã\n\nå·ä½çå®ç°ç±»å°±ä¸åäº(å¯ä»¥å» githubï¼starfish-learning ä¸çæçä»£ç )ï¼çä¸ä½¿ç¨\n\n@Override\npublic int compareTo(Object o) {\n    Coffee coffee = (Coffee) o;\n    if(this.price < (coffee.price)){\n        return -1;\n    }else if(this.price == coffee.price){\n        return 0;\n    }else{\n        return 1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\npublic static void main(String[] args) {\n  Coffee[] coffees = {new Coffee("æå°ä¹",38),\n                      new Coffee("æ¿é",32),\n                      new Coffee("æ©å¡",35)};\n \n  Arrays.sort(coffees);\n\n  for (Coffee coffee1 : coffees) {\n    System.out.println(coffee1);\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä½ å¯è½ä¼è¯´ï¼è¿ä¸ªççä¸åæä»¬å¸¸è§çæ¨¡æ¿æ¹æ³ï¼æ¯çãæä»¬çä¸æ¯è¾å¨å®ç°çæ­¥éª¤\n\n 1. æå»ºå¯¹è±¡æ°ç»\n 2. éè¿ Arrays.sort æ¹æ³å¯¹æ°ç»æåºï¼ä¼ åä¸º Comparable æ¥å£çå®ä¾\n 3. æ¯è¾æ¶åä¼è°ç¨æä»¬çå®ç°ç±»ç compareTo() æ¹æ³\n 4. å°æå¥½åºçæ°ç»è®¾ç½®è¿åæ°ç»ä¸­ï¼æåºå®æ ä¸è¸æµé¼ï¼è¿ä¸ªå®ç°ç«ç¶ä¹æ¯æ¨¡æ¿æ¹æ³ã\n\nè¿ä¸ªæ¨¡å¼çéç¹å¨äºæä¾äºä¸ä¸ªåºå®ç®æ³æ¡æ¶ï¼å¹¶è®©å­ç±»å®ç°æäºæ­¥éª¤ï¼è½ç¶ä½¿ç¨ç»§æ¿æ¯æ åçå®ç°æ¹å¼ï¼ä½éè¿åè°æ¥å®ç°ï¼ä¹ä¸è½è¯´è¿å°±ä¸æ¯æ¨¡æ¿æ¹æ³ã\n\nå¶å®å¹¶åç¼ç¨ä¸­æå¸¸è§ï¼ä¹æ¯é¢è¯å¿é®ç AQS å°±æ¯ä¸ä¸ªå¸åçæ¨¡æ¿æ¹æ³ã\n\n\n# Spring ä¸­çæ¨¡æ¿æ¹æ³\n\nSpring ä¸­çè®¾è®¡æ¨¡å¼å¤ªå¤äºï¼èä¸å¤§é¨åæ©å±åè½é½å¯ä»¥çå°æ¨¡æ¿æ¹æ³æ¨¡å¼çå½±å­ã\n\næä»¬çä¸ IOC å®¹å¨åå§åæ¶çæ¨¡æ¿æ¹æ³ï¼ä¸ç®¡æ¯ XML è¿æ¯æ³¨è§£çæ¹å¼ï¼å¯¹äºæ ¸å¿å®¹å¨å¯å¨æµç¨é½æ¯ä¸è´çã\n\nAbstractApplicationContext ç refresh æ¹æ³å®ç°äº IOC å®¹å¨å¯å¨çä¸»è¦é»è¾ã\n\nä¸ä¸ª refresh() æ¹æ³åå«äºå¥½å¤å¶ä»æ­¥éª¤æ¹æ³ï¼åä¸åæä»¬è¯´ç æ¨¡æ¿æ¹æ³ï¼getBeanFactory() ãrefreshBeanFactory() æ¯å­ç±»å¿é¡»å®ç°çæ½è±¡æ¹æ³ï¼postProcessBeanFactory() æ¯é©å­æ¹æ³ã\n\npublic abstract class AbstractApplicationContext extends DefaultResourceLoader\n      implements ConfigurableApplicationContext {\n\t@Override\n\tpublic void refresh() throws BeansException, IllegalStateException {\n\t\tsynchronized (this.startupShutdownMonitor) {\n\t\t\tprepareRefresh();\n\t\t\tConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();\n\t\t\tprepareBeanFactory(beanFactory);\n            postProcessBeanFactory(beanFactory);\n            invokeBeanFactoryPostProcessors(beanFactory);\n            registerBeanPostProcessors(beanFactory);\n            initMessageSource();\n            initApplicationEventMulticaster();\n            onRefresh();\n            registerListeners();\n            finishBeanFactoryInitialization(beanFactory);\n            finishRefresh();\n\t\t}\n\t}\n    // ä¸¤ä¸ªæ½è±¡æ¹æ³\n    @Override\n\tpublic abstract ConfigurableListableBeanFactory getBeanFactory() throws \t\tIllegalStateException;\t\n    \n    protected abstract void refreshBeanFactory() throws BeansException, IllegalStateException;\n    \n    //é©å­æ¹æ³\n    protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n\t}\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\næå¼ä½ ç IDEAï¼æä»¬ä¼åç°å¸¸ç¨ç ClassPathXmlApplicationContext å AnnotationConfigApplicationContext å¯å¨å¥å£ï¼é½æ¯å®çå®ç°ç±»ï¼å­ç±»çå­ç±»çå­ç±»ç...ï¼ã\n\nAbstractApplicationContext çä¸ä¸ªå­ç±» AbstractRefreshableWebApplicationContext ä¸­æé©å­æ¹æ³ onRefresh() çå®ç°ï¼\n\npublic abstract class AbstractRefreshableWebApplicationContext extends â¦â¦ {\n    /**\n\t * Initialize the theme capability.\n\t */\n\t@Override\n\tprotected void onRefresh() {\n\t\tthis.themeSource = UiApplicationContextUtils.initThemeSource(this);\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nçä¸å¤§æ¦çç±»å¾ï¼\n\n\n# å°æ»ç»\n\n * ä¼ç¹ï¼1ãå°è£ä¸åé¨åï¼æ©å±å¯åé¨åã 2ãæåå¬å±ä»£ç ï¼ä¾¿äºç»´æ¤ã 3ãè¡ä¸ºç±ç¶ç±»æ§å¶ï¼å­ç±»å®ç°ã\n\n * ç¼ºç¹ï¼æ¯ä¸ä¸ªä¸åçå®ç°é½éè¦ä¸ä¸ªå­ç±»æ¥å®ç°ï¼å¯¼è´ç±»çä¸ªæ°å¢å ï¼ä½¿å¾ç³»ç»æ´å åºå¤§ã\n\n\n# ä½¿ç¨åºæ¯\n\n 1. æå¤ä¸ªå­ç±»å±æçæ¹æ³ï¼ä¸é»è¾ç¸åã\n 2. éè¦çãå¤æçæ¹æ³ï¼å¯ä»¥èèä½ä¸ºæ¨¡æ¿æ¹æ³ã\n\næ³¨æäºé¡¹ï¼ä¸ºé²æ­¢æ¶ææä½ï¼ä¸è¬æ¨¡æ¿æ¹æ³é½å ä¸ final å³é®è¯ã',normalizedContent:'# åè¨\n\næ¨¡æ¿ï¼é¡¾åæä¹ï¼å®æ¯ä¸ä¸ªåºå®åãæ ååçä¸è¥¿ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®å¨è¶ç±»ä¸­å®ä¹äºä¸ä¸ªç®æ³çæ¡æ¶ï¼ åè®¸å­ç±»å¨ä¸ä¿®æ¹ç»æçæåµä¸éåç®æ³çç¹å®æ­¥éª¤ã\n\n\n# åºæ¯é®é¢\n\nç¨åºåä¸æ¿å¤æ¯ï¼ä¸æ¥åå¹²ä¸¤è¡ä»£ç \n\nç½ä¸æ¨¡æ¿æ¹æ³çåºæ¯ç¤ºä¾ç¹å«å¤ï¼ä¸ªäººæè§è¿æ¯ãhead first è®¾è®¡æ¨¡å¼ãä¸­çä¾å­æ¯è¾å¥½ã\n\nåè®¾æä»¬æ¯ä¸å®¶é¥®ååºçå¸åï¼èµ·ç éè¦ä»¥ä¸ä¸¤ä¸ªæèº\n\nçç®ååï¼è¿ä¹çï¼æ­¥éª¤å¤§åå°å¼ï¼æçç¬¬ä¸ååºå°±æ¯åä¸ªä¸å¡æ¥å£ï¼ä¸åçé¥®åå®ç°å¶ä¸­çæ¹æ³å°±è¡ï¼åè¿æ ·\n\nç»å®ç±»å¾ï¼çå°åç°ï¼ç¬¬ä¸æ­¥åç¬¬ä¸æ­¥æ²¡ä»ä¹å·®å«ï¼èä¸åé¥®åæ¯ä¸ªæµç¨å¼çå·¥ä½ï¼æå¸æä½¿ç¨æ¶ï¼ç´æ¥è°ç¨ä¸ä¸ªæ¹æ³ï¼å°±å»æ§è¡å¯¹åºçå¶ä½æ­¥éª¤ã\n\nçµæºä¸å¨ï¼ä¸ç¨æ¥å£äºï¼ç¨ä¸ä¸ªæ½è±¡ç¶ç±»ï¼ææ­¥éª¤æ¹æ³æ¾å¨ä¸ä¸ªå¤§çæµç¨æ¹æ³ makingdrinks() ä¸­ï¼ä¸ç¬¬ä¸æ­¥åç¬¬ä¸æ­¥ï¼å®å¨ä¸æ ·ï¼æ²¡å¿è¦å¨å­ç±»å®ç°ï¼æ¹è¿å¦ä¸\n\nåçä¸æä»¬çè®¾è®¡ï¼æè§è¿ä¸éï¼ç°å¨ç¨åä¸ä¸ª makingdrinks() æ¹æ³æ¥å¤çåå¡åè¶çå¶ä½ï¼èä¸æä»¬ä¸å¸æå­ç±»è¦çè¿ä¸ªæ¹æ³ï¼æä»¥å¯ä»¥ç³æä¸º finalï¼ä¸åçå¶ä½æ­¥éª¤ï¼æä»¬å¸æå­ç±»æ¥æä¾ï¼å¿é¡»å¨ç¶ç±»ç³æä¸ºæ½è±¡æ¹æ³ï¼èç¬¬ä¸æ­¥åç¬¬ä¸æ­¥æä»¬ä¸å¸æå­ç±»éåï¼æä»¥æä»¬å£°æä¸ºéæ½è±¡æ¹æ³\n\npublic abstract class drinks {\n\n    void boilwater() {\n        system.out.println("å°æ°´ç®æ²¸");\n    }\n\n    abstract void brew();\n\n    void pourincup() {\n        system.out.println("åå¥æ¯å­");\n    }\n\n    abstract void addcondiments();\n    \n    public final void makingdrinks() {\n        //ç­æ°´\n        boilwater();\n        //å²æ³¡\n        brew();\n        //åè¿æ¯å­\n        pourincup();\n        //å æ\n        addcondiments();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\næ¥çï¼æä»¬åå«å¤çåå¡åè¶ï¼è¿ä¸¤ä¸ªç±»åªéè¦ç»§æ¿ç¶ç±»ï¼éåå¶ä¸­çæ½è±¡æ¹æ³å³å¯ï¼å®ç°åèªçå²æ³¡åæ·»å è°æï¼\n\npublic class tea extends drinks {\n    @override\n    void brew() {\n        system.out.println("å²è¶å¶");\n    }\n    @override\n    void addcondiments() {\n        system.out.println("å æ æª¬ç");\n    }\n}\npublic class coffee extends drinks {\n    @override\n    void brew() {\n        system.out.println("å²åå¡ç²");\n    }\n\n    @override\n    void addcondiments() {\n        system.out.println("å å¥¶å ç³");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nç°å¨å¯ä»¥ä¸å²äºï¼è¯çå¶ä½ä¸åå¡åè¶å§\n\npublic static void main(string[] args) {\n    drinks coffee = new coffee();\n    coffee.makingdrinks();\n    system.out.println();\n    drinks tea = new tea();\n    tea.makingdrinks();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¥½åï¼åå­¦ä¼ä¸ä¸ªè®¾è®¡æ¨¡å¼ï¼è¿å°±æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼ï¼æä»¬ç makingdrinks() å°±æ¯æ¨¡æ¿æ¹æ³ãæä»¬å¯ä»¥çå°ç¸åçæ­¥éª¤ boilwater() å pourincup() åªå¨ç¶ç±»ä¸­è¿è¡å³å¯ï¼ä¸åçæ­¥éª¤æ¾å¨å­ç±»å®ç°ã\n\n\n# è®¤è¯æ¨¡æ¿æ¹æ³\n\nå¨éå®åå£«çãjavaä¸æ¨¡å¼ãä¸ä¹¦ä¸­å¼å¤´æ¯è¿æ ·æè¿°æ¨¡æ¿æ¹æ³ï¼template methodï¼æ¨¡å¼çï¼\n\n> æ¨¡æ¿æ¹æ³æ¨¡å¼æ¯ç±»çè¡ä¸ºæ¨¡å¼ã åå¤ä¸ä¸ªæ½è±¡ç±»ï¼å°é¨åé»è¾ä»¥å·ä½æ¹æ³ä»¥åå·ä½æé å½æ°çå½¢å¼å®ç°ï¼ ç¶åå£°æä¸äºæ½è±¡æ¹æ³æ¥è¿«ä½¿å­ç±»å®ç°å©ä½çé»è¾ã ä¸åçå­ç±»å¯ä»¥ä»¥ä¸åçæ¹å¼å®ç°è¿äºæ½è±¡æ¹æ³ï¼ä»èå¯¹å©ä½çé»è¾æä¸åçå®ç°ã è¿å°±æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼çç¨æã\n\nåä»£ç çä¸ä¸ªå¾éè¦çæèç¹å°±æ¯âåä¸ä¸åâï¼ç¨åºä¸­åªäºåè½æ¯å¯åçï¼åªäºåè½æ¯ä¸åçï¼æä»¬å¯ä»¥æä¸åçé¨åæ½è±¡åºæ¥ï¼è¿è¡å¬å±çå®ç°ï¼æååçé¨ååç¦»åºæ¥ï¼ç¨æ¥å£æ¥å°è£éç¦»ï¼æç¨æ½è±¡ç±»çº¦æå­ç±»è¡ä¸ºãæ¨¡æ¿æ¹æ³å°±å¾å¥½çä½ç°äºè¿ä¸ç¹ã\n\næ¨¡æ¿æ¹æ³å®ä¹äºä¸ä¸ªç®æ³çæ­¥éª¤ï¼å¹¶åè®¸å­ç±»ä¸ºä¸ä¸ªæå¤ä¸ªæ­¥éª¤æä¾å®ç°ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼æ¯æææ¨¡å¼ä¸­æä¸ºå¸¸è§çå ä¸ªæ¨¡å¼ä¹ä¸ï¼æ¯åºäºç»§æ¿çä»£ç å¤ç¨çåºæ¬ææ¯ï¼æä»¬åçä¸ç±»å¾\n\næ¨¡æ¿æ¹æ³æ¨¡å¼å°±æ¯ç¨æ¥åå»ºä¸ä¸ªç®æ³çæ¨¡æ¿ï¼è¿ä¸ªæ¨¡æ¿å°±æ¯æ¹æ³ï¼è¯¥æ¹æ³å°ç®æ³å®ä¹æä¸ç»æ­¥éª¤ï¼å¶ä¸­çä»»ææ­¥éª¤é½å¯è½æ¯æ½è±¡çï¼ç±å­ç±»è´è´£å®ç°ãè¿æ ·å¯ä»¥ç¡®ä¿ç®æ³çç»æä¿æä¸åï¼åæ¶ç±å­ç±»æä¾é¨åå®ç°ã\n\nååé¡¾ä¸æä»¬å¶ä½åå¡åè¶çä¾å­ï¼æäºé¡¾å®¢è¦ä¸å¸æåå¡å ç³æèä¸å¸æè¶éå æ æª¬ï¼æä»¬è¦æ¹é ä¸æ¨¡æ¿æ¹æ³ï¼å¨å ç¸åºçè°æä¹åï¼é®ä¸é¡¾å®¢\n\npublic abstract class drinks {\n\n    void boilwater() {\n        system.out.println("å°æ°´ç®æ²¸");\n    }\n\n    abstract void brew();\n\n    void pourincup() {\n        system.out.println("åå¥æ¯å­");\n    }\n\n    abstract void addcondiments();\n\n    public final void makingdrinks() {\n        boilwater();\n        brew();\n        pourincup();\n\n        //å¦æé¡¾å®¢éè¦ï¼æå æ\n        if (customerlike()) {\n            addcondiments();\n        }\n    }\n\n    //å®ä¹ä¸ä¸ªç©ºçç¼ºçæ¹æ³ï¼åªè¿å true\n    boolean customerlike() {\n        return true;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nå¦ä¸ï¼æä»¬å äºä¸ä¸ªé»è¾å¤æ­ï¼é»è¾å¤æ­çæ¹æ³æ¯ä¸ä¸ªåªè¿å true çæ¹æ³ï¼è¿ä¸ªæ¹æ³æä»¬å«å é©å­æ¹æ³ã\n\n> é©å­ï¼å¨æ¨¡æ¿æ¹æ³çç¶ç±»ä¸­ï¼æä»¬å¯ä»¥å®ä¹ä¸ä¸ªæ¹æ³ï¼å®é»è®¤ä¸åä»»ä½äºï¼å­ç±»å¯ä»¥è§æåµè¦ä¸è¦è¦çå®ï¼è¯¥æ¹æ³ç§°ä¸ºâé©å­âã\n\né©å­æ¹æ³ä¸è¬æ¯ç©ºçæèæé»è®¤å®ç°ãé©å­çå­å¨ï¼å¯ä»¥è®©å­ç±»æè½åå¯¹ç®æ³çä¸åç¹è¿è¡æé©ãèè¦ä¸è¦æé©ï¼åç±å­ç±»å»å³å®ã\n\næ¯ä¸æ¯å¾æç¨å¢ï¼æä»¬åçä¸åå¡çå¶ä½\n\npublic class coffee extends drinks {\n    @override\n    void brew() {\n        system.out.println("å²åå¡ç²");\n    }\n\n    @override\n    void addcondiments() {\n        system.out.println("å å¥¶å ç³");\n    }\n\t//è¦çäºé©å­ï¼æä¾äºèªå·±çè¯¢é®åè½ï¼è®©ç¨æ·è¾å¥æ¯å¦éè¦å æ\n    boolean customerlike() {\n        string answer = getuserinput();\n        if (answer.tolowercase().startswith("y")) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    //å¤çç¨æ·çè¾å¥\n    private string getuserinput() {\n        string answer = null;\n        system.out.println("æ¨æ³è¦å å¥¶å ç³åï¼è¾å¥ yes æ no");\n        bufferedreader reader = new bufferedreader(new inputstreamreader(system.in));\n        try {\n            answer = reader.readline();\n        } catch (ioexception e) {\n            e.printstacktrace();\n        }\n        if (answer == null) {\n            return "no";\n        }\n        return answer;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\næ¥çåå»æµè¯ä¸ä»£ç ï¼ççç»æå§ã\n\nææ³ä½ åºè¯¥ç¥éé©å­çå¥½å¤äºå§ï¼å®å¯ä»¥ä½ä¸ºæ¡ä»¶æ§å¶ï¼å½±åæ½è±¡ç±»ä¸­çç®æ³æµç¨ï¼å½ç¶ä¹å¯ä»¥ä»ä¹é½ä¸åã\n\næ¨¡æ¿æ¹æ³æå¾å¤ç§å®ç°ï¼ææ¶çèµ·æ¥å¯è½ä¸æ¯æä»¬æè°çâä¸­è§ä¸­ç©âçè®¾è®¡ãæ¥ä¸æ¥æä»¬çä¸ jdk å spring ä¸­æ¯æä¹ä½¿ç¨æ¨¡æ¿æ¹æ³çã\n\n\n# jdk ä¸­çæ¨¡æ¿æ¹æ³\n\næä»¬åä»£ç ç»å¸¸ä¼ç¨å° comparable æ¯è¾å¨æ¥å¯¹æ°ç»å¯¹è±¡è¿è¡æåºï¼æä»¬é½ä¼å®ç°å®ç compareto() æ¹æ³ï¼ä¹åå°±å¯ä»¥éè¿ collections.sort() æè arrays.sort() æ¹æ³è¿è¡æåºäºã\n\nå·ä½çå®ç°ç±»å°±ä¸åäº(å¯ä»¥å» githubï¼starfish-learning ä¸çæçä»£ç )ï¼çä¸ä½¿ç¨\n\n@override\npublic int compareto(object o) {\n    coffee coffee = (coffee) o;\n    if(this.price < (coffee.price)){\n        return -1;\n    }else if(this.price == coffee.price){\n        return 0;\n    }else{\n        return 1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\npublic static void main(string[] args) {\n  coffee[] coffees = {new coffee("æå°ä¹",38),\n                      new coffee("æ¿é",32),\n                      new coffee("æ©å¡",35)};\n \n  arrays.sort(coffees);\n\n  for (coffee coffee1 : coffees) {\n    system.out.println(coffee1);\n  }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä½ å¯è½ä¼è¯´ï¼è¿ä¸ªççä¸åæä»¬å¸¸è§çæ¨¡æ¿æ¹æ³ï¼æ¯çãæä»¬çä¸æ¯è¾å¨å®ç°çæ­¥éª¤\n\n 1. æå»ºå¯¹è±¡æ°ç»\n 2. éè¿ arrays.sort æ¹æ³å¯¹æ°ç»æåºï¼ä¼ åä¸º comparable æ¥å£çå®ä¾\n 3. æ¯è¾æ¶åä¼è°ç¨æä»¬çå®ç°ç±»ç compareto() æ¹æ³\n 4. å°æå¥½åºçæ°ç»è®¾ç½®è¿åæ°ç»ä¸­ï¼æåºå®æ ä¸è¸æµé¼ï¼è¿ä¸ªå®ç°ç«ç¶ä¹æ¯æ¨¡æ¿æ¹æ³ã\n\nè¿ä¸ªæ¨¡å¼çéç¹å¨äºæä¾äºä¸ä¸ªåºå®ç®æ³æ¡æ¶ï¼å¹¶è®©å­ç±»å®ç°æäºæ­¥éª¤ï¼è½ç¶ä½¿ç¨ç»§æ¿æ¯æ åçå®ç°æ¹å¼ï¼ä½éè¿åè°æ¥å®ç°ï¼ä¹ä¸è½è¯´è¿å°±ä¸æ¯æ¨¡æ¿æ¹æ³ã\n\nå¶å®å¹¶åç¼ç¨ä¸­æå¸¸è§ï¼ä¹æ¯é¢è¯å¿é®ç aqs å°±æ¯ä¸ä¸ªå¸åçæ¨¡æ¿æ¹æ³ã\n\n\n# spring ä¸­çæ¨¡æ¿æ¹æ³\n\nspring ä¸­çè®¾è®¡æ¨¡å¼å¤ªå¤äºï¼èä¸å¤§é¨åæ©å±åè½é½å¯ä»¥çå°æ¨¡æ¿æ¹æ³æ¨¡å¼çå½±å­ã\n\næä»¬çä¸ ioc å®¹å¨åå§åæ¶çæ¨¡æ¿æ¹æ³ï¼ä¸ç®¡æ¯ xml è¿æ¯æ³¨è§£çæ¹å¼ï¼å¯¹äºæ ¸å¿å®¹å¨å¯å¨æµç¨é½æ¯ä¸è´çã\n\nabstractapplicationcontext ç refresh æ¹æ³å®ç°äº ioc å®¹å¨å¯å¨çä¸»è¦é»è¾ã\n\nä¸ä¸ª refresh() æ¹æ³åå«äºå¥½å¤å¶ä»æ­¥éª¤æ¹æ³ï¼åä¸åæä»¬è¯´ç æ¨¡æ¿æ¹æ³ï¼getbeanfactory() ãrefreshbeanfactory() æ¯å­ç±»å¿é¡»å®ç°çæ½è±¡æ¹æ³ï¼postprocessbeanfactory() æ¯é©å­æ¹æ³ã\n\npublic abstract class abstractapplicationcontext extends defaultresourceloader\n      implements configurableapplicationcontext {\n\t@override\n\tpublic void refresh() throws beansexception, illegalstateexception {\n\t\tsynchronized (this.startupshutdownmonitor) {\n\t\t\tpreparerefresh();\n\t\t\tconfigurablelistablebeanfactory beanfactory = obtainfreshbeanfactory();\n\t\t\tpreparebeanfactory(beanfactory);\n            postprocessbeanfactory(beanfactory);\n            invokebeanfactorypostprocessors(beanfactory);\n            registerbeanpostprocessors(beanfactory);\n            initmessagesource();\n            initapplicationeventmulticaster();\n            onrefresh();\n            registerlisteners();\n            finishbeanfactoryinitialization(beanfactory);\n            finishrefresh();\n\t\t}\n\t}\n    // ä¸¤ä¸ªæ½è±¡æ¹æ³\n    @override\n\tpublic abstract configurablelistablebeanfactory getbeanfactory() throws \t\tillegalstateexception;\t\n    \n    protected abstract void refreshbeanfactory() throws beansexception, illegalstateexception;\n    \n    //é©å­æ¹æ³\n    protected void postprocessbeanfactory(configurablelistablebeanfactory beanfactory) {\n\t}\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\næå¼ä½ ç ideaï¼æä»¬ä¼åç°å¸¸ç¨ç classpathxmlapplicationcontext å annotationconfigapplicationcontext å¯å¨å¥å£ï¼é½æ¯å®çå®ç°ç±»ï¼å­ç±»çå­ç±»çå­ç±»ç...ï¼ã\n\nabstractapplicationcontext çä¸ä¸ªå­ç±» abstractrefreshablewebapplicationcontext ä¸­æé©å­æ¹æ³ onrefresh() çå®ç°ï¼\n\npublic abstract class abstractrefreshablewebapplicationcontext extends â¦â¦ {\n    /**\n\t * initialize the theme capability.\n\t */\n\t@override\n\tprotected void onrefresh() {\n\t\tthis.themesource = uiapplicationcontextutils.initthemesource(this);\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nçä¸å¤§æ¦çç±»å¾ï¼\n\n\n# å°æ»ç»\n\n * ä¼ç¹ï¼1ãå°è£ä¸åé¨åï¼æ©å±å¯åé¨åã 2ãæåå¬å±ä»£ç ï¼ä¾¿äºç»´æ¤ã 3ãè¡ä¸ºç±ç¶ç±»æ§å¶ï¼å­ç±»å®ç°ã\n\n * ç¼ºç¹ï¼æ¯ä¸ä¸ªä¸åçå®ç°é½éè¦ä¸ä¸ªå­ç±»æ¥å®ç°ï¼å¯¼è´ç±»çä¸ªæ°å¢å ï¼ä½¿å¾ç³»ç»æ´å åºå¤§ã\n\n\n# ä½¿ç¨åºæ¯\n\n 1. æå¤ä¸ªå­ç±»å±æçæ¹æ³ï¼ä¸é»è¾ç¸åã\n 2. éè¦çãå¤æçæ¹æ³ï¼å¯ä»¥èèä½ä¸ºæ¨¡æ¿æ¹æ³ã\n\næ³¨æäºé¡¹ï¼ä¸ºé²æ­¢æ¶ææä½ï¼ä¸è¬æ¨¡æ¿æ¹æ³é½å ä¸ final å³é®è¯ã',charsets:{cjk:!0},lastUpdated:"2022/09/20, 23:34:59",lastUpdatedTimestamp:1663688099e3},{title:"ç­ç¥æ¨¡å¼",frontmatter:{title:"ç­ç¥æ¨¡å¼",date:"2022-05-21T17:29:26.000Z",permalink:"/pages/78c7aa/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/050.%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/050.ç­ç¥æ¨¡å¼.md",key:"v-5b0157cf",path:"/pages/78c7aa/",headers:[{level:2,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:2},{level:2,title:"è§è²",slug:"è§è²",normalizedTitle:"è§è²",charIndex:1075},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:1229},{level:2,title:"è§£æç­ç¥æ¨¡å¼",slug:"è§£æç­ç¥æ¨¡å¼",normalizedTitle:"è§£æç­ç¥æ¨¡å¼",charIndex:2310},{level:2,title:"è°æ¥éæ©å·ä½çç­ç¥ç®æ³",slug:"è°æ¥éæ©å·ä½çç­ç¥ç®æ³",normalizedTitle:"è°æ¥éæ©å·ä½çç­ç¥ç®æ³",charIndex:2795},{level:2,title:"ä¼ç¼ºç¹",slug:"ä¼ç¼ºç¹",normalizedTitle:"ä¼ç¼ºç¹",charIndex:2992},{level:3,title:"ä¼ç¹ï¼",slug:"ä¼ç¹",normalizedTitle:"ä¼ç¹ï¼",charIndex:3e3},{level:3,title:"ç¼ºç¹ï¼",slug:"ç¼ºç¹",normalizedTitle:"ç¼ºç¹ï¼",charIndex:3092},{level:2,title:"æè",slug:"æè",normalizedTitle:"æè",charIndex:3233},{level:2,title:"ç­ç¥æ¨¡å¼å¨ JDK ä¸­çåºç¨",slug:"ç­ç¥æ¨¡å¼å¨-jdk-ä¸­çåºç¨",normalizedTitle:"ç­ç¥æ¨¡å¼å¨ jdk ä¸­çåºç¨",charIndex:3512}],headersStr:"å®ä¹ è§è² å®ä¾ è§£æç­ç¥æ¨¡å¼ è°æ¥éæ©å·ä½çç­ç¥ç®æ³ ä¼ç¼ºç¹ ä¼ç¹ï¼ ç¼ºç¹ï¼ æè ç­ç¥æ¨¡å¼å¨ JDK ä¸­çåºç¨",content:'# å®ä¹\n\nç­ç¥æ¨¡å¼ï¼Strategy Design Patternï¼ï¼å°è£å¯ä»¥äºæ¢çè¡ä¸ºï¼å¹¶ä½¿ç¨å§ææ¥å³å®è¦ä½¿ç¨åªä¸ä¸ªã\n\nç­ç¥æ¨¡å¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®è½è®©ä½ å®ä¹ä¸ç³»åç®æ³ï¼ å¹¶å°æ¯ç§ç®æ³åå«æ¾å¥ç¬ç«çç±»ä¸­ï¼ ä»¥ä½¿ç®æ³çå¯¹è±¡è½å¤ç¸äºæ¿æ¢ã\n\n> ç¨äººè¯ç¿»è¯åå°±æ¯ï¼è¿è¡æ¶æç»ä½ è¿ä¸ªç±»çæ¹æ³ä¼ ä¸åç âkeyâï¼ä½ è¿ä¸ªæ¹æ³å°±å»æ§è¡ä¸åçä¸å¡é»è¾ã ä½ åï¼ä½ ç»åï¼è¿ä¸å°±æ¯ if else å¹²çäºåï¼\n\nåç´è§ççä¸ä¼ ç»çå¤é if else ä»£ç \n\npublic String getCheckResult(String type) {\n  if ("æ ¡éª1".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾1";\n  } else if ("æ ¡éª2".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾2";\n  } else if ("æ ¡éª3".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾3";\n  } else if ("æ ¡éª4".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾4";\n  } else if ("æ ¡éª5".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾5";\n  } else if ("æ ¡éª6".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾6";\n  } else if ("æ ¡éª7".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾7";\n  } else if ("æ ¡éª8".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾8";\n  } else if ("æ ¡éª9".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾9";\n  }\n  return "ä¸å¨å¤ççé»è¾ä¸­è¿åä¸å¡éè¯¯";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nè¿ä¹çï¼ä½ è¦æ¯è¿è§å¾æºæ¸æ°çè¯ï¼æ³è±¡ä¸è¿äº return éæ¯åç§å¤æçä¸å¡é»è¾æ¹æ³~~\n\nå½ç¶ï¼ç­ç¥æ¨¡å¼çä½ç¨å¯ä¸æ­¢æ¯é¿ååé¿ç if-else æè switch åæ¯ï¼å®è¿å¯ä»¥åæ¨¡æ¿æ¹æ³æ¨¡å¼é£æ ·æä¾æ¡æ¶çæ©å±ç¹ç­ã\n\nç½ä¸çç¤ºä¾å¾å¤ï¼æ¯å¦ä¸åè·¯çº¿çè§åãä¸åæ¯ä»æ¹å¼çéæ© é½æ¯å¸åç if-else é®é¢ï¼ä¹é½æ¯å¸åçç­ç¥æ¨¡å¼é®é¢ï¼æ å­æä»¬å¾ä¼çï¼åçä¸ç­ç¥æ¨¡å¼çç±»å¾ï¼ç¶åå»æ¹é å¤éå¤æ­~\n\n\n# è§è²\n\nç­ç¥æ¨¡å¼æ¶åå°ä¸ä¸ªè§è²ï¼\n\n 1. Strategyï¼ç­ç¥æ¥å£æèç­ç¥æ½è±¡ç±»ï¼ç¨æ¥çº¦æä¸ç³»åçç­ç¥ç®æ³ï¼Context ä½¿ç¨è¿ä¸ªæ¥å£æ¥è°ç¨å·ä½çç­ç¥å®ç°ç®æ³ï¼\n 2. ConcreateStrategyï¼å·ä½çç­ç¥ç±»ï¼å®ç°ç­ç¥æ¥å£æç»§æ¿æ½è±¡ç­ç¥ç±»ï¼\n 3. Contextï¼ä¸ä¸æç±»ï¼ææå·ä½ç­ç¥ç±»çå®ä¾ï¼å¹¶è´è´£è°ç¨ç¸å³çç®æ³ åºç¨ç­ç¥æ¨¡å¼æ¥è§£å³é®é¢çæè·¯\n\n\n# å®ä¾\n\nåççæç®åçç­ç¥æ¨¡å¼ demo:\n\n1ãç­ç¥æ¥å£ï¼å®ä¹ç­ç¥ï¼\n\npublic interface Strategy {\n    void operate();\n}\n\n\n1\n2\n3\n\n\n2ãå·ä½çç®æ³å®ç°\n\npublic class ConcreteStrategyA implements Strategy {\n    @Override\n    public void operate() {\n        //å·ä½çç®æ³å®ç°\n        System.out.println("æ§è¡ä¸å¡é»è¾A");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\npublic class ConcreteStrategyB implements Strategy {\n    @Override\n    public void operate() {\n        //å·ä½çç®æ³å®ç°\n        System.out.println("æ§è¡ä¸å¡é»è¾B");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n3ãä¸ä¸æçå®ç°\n\npublic class Context {\n\n    //ææä¸ä¸ªå·ä½çç­ç¥å¯¹è±¡\n    private Strategy strategy;\n\n    //æé æ¹æ³ï¼ä¼ å¥å·ä½çç­ç¥å¯¹è±¡\n    public Context(Strategy strategy){\n        this.strategy = strategy;\n    }\n\n    public void doSomething(){\n        //è°ç¨å·ä½çç­ç¥å¯¹è±¡è¿æä½\n        strategy.operate();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n4ãå®¢æ·ç«¯ä½¿ç¨ï¼ç­ç¥çä½¿ç¨ï¼\n\npublic static void main(String[] args) {\n  Context context = new Context(new ConcreteStrategyA());\n  context.doSomething();\n}\n\n\n1\n2\n3\n4\n\n\n> psï¼è¿ç§ç­ç¥çä½¿ç¨æ¹å¼å¶å®å¾æ­»æ¿ï¼çæ­£ä½¿ç¨çæ¶åå¦æè¿è¿ä¹åï¼ ååä¸å¤§æ¨ if-else æ²¡ä»ä¹åºå«ï¼æä»¥æä»¬ä¸è¬ä¼ç»åå·¥åç±»ï¼ å¨è¿è¡æ¶å¨æç¡®å®ä½¿ç¨åªç§ç­ç¥ãç­ç¥æ¨¡å¼ä¾§éå¦ä½éæ©ç­ç¥ãå·¥åæ¨¡å¼ä¾§éå¦ä½åå»ºç­ç¥ã\n\n\n# è§£æç­ç¥æ¨¡å¼\n\nç­ç¥æ¨¡å¼çåè½å°±æ¯æå·ä½çç®æ³å®ç°ä»å·ä½çä¸å¡å¤çä¸­ç¬ç«åºæ¥ï¼æå®ä»¬å®ç°æåç¬çç®æ³ç±»ï¼ä»èå½¢æä¸ç³»åç®æ³ï¼å¹¶è®©è¿äºç®æ³å¯ä»¥äºç¸æ¿æ¢ã\n\n> ç­ç¥æ¨¡å¼çéå¿ä¸æ¯å¦ä½æ¥å®ç°ç®æ³ï¼èæ¯å¦ä½ç»ç»ãè°ç¨è¿äºç®æ³ï¼ä»èè®©ç¨åºç»ææ´çµæ´»ï¼å·ææ´å¥½çç»´æ¤æ§åæ©å±æ§ã\n\nå®éä¸ï¼æ¯ä¸ªç­ç¥ç®æ³å·ä½å®ç°çåè½ï¼å°±æ¯åæ¥å¨ if-else ç»æä¸­çå·ä½å®ç°ï¼æ¯ä¸ª if-else è¯­å¥é½æ¯ä¸ä¸ªå¹³ç­çåè½ç»æï¼å¯ä»¥è¯´æ¯åå¼å³ç³»ã\n\nç­ç¥æ¨¡å¼å¢ï¼å°±æ¯æåä¸ªå¹³ç­çå·ä½å®ç°å°è£å°åç¬çç­ç¥å®ç°ç±»äºï¼ç¶åéè¿ä¸ä¸æä¸å·ä½çç­ç¥ç±»è¿è¡äº¤äºã\n\nã ç­ç¥æ¨¡å¼ = å®ç°ç­ç¥æ¥å£ï¼ææ½è±¡ç±»ï¼çæ¯ä¸ªç­ç¥ç±» + ä¸ä¸æçé»è¾åæ´¾ ã\n\n> ç­ç¥æ¨¡å¼çæ¬è´¨ï¼åç¦»ç®æ³ï¼éæ©å®ç° ââãç ç£¨è®¾è®¡æ¨¡å¼ã\n\næä»¥è¯´ï¼ç­ç¥æ¨¡å¼åªæ¯å¨ä»£ç ç»æä¸çä¸ä¸ªè°æ´ï¼å³ä½¿ç¨äºç­ç¥æ¨¡å¼ï¼è¯¥åçé»è¾ä¸ä¸ªä¹å°ä¸äºï¼å°é»è¾åæ´¾çæ¶åï¼åªæ¯åç¸ç if-elseã\n\nèå®çä¼åç¹æ¯æ½è±¡äºåºäºæ¥å£ï¼å°ä¸å¡é»è¾å°è£æä¸ä¸ªä¸ä¸ªçå®ç°ç±»ï¼ä»»æå°æ¿æ¢ãå¨å¤æåºæ¯ï¼ä¸å¡é»è¾è¾å¤ï¼æ¶æ¯ç´æ¥ if-else æ´å¥½ç»´æ¤åæ©å±äºã\n\n\n# è°æ¥éæ©å·ä½çç­ç¥ç®æ³\n\nå¦æä½ æåäºä¸è¾¹ç demoï¼å°±ä¼åç°ï¼è¿ç©æä¸å if-else æ¥çé¡ºæï¼å°¤å¶æ¯å¨å¤æ­é»è¾çæ¶åï¼æ¯ä¸ªé»è¾é½è¦è¦æé ä¸ä¸ªä¸ä¸æå¯¹è±¡ï¼è´¹å²ã\n\nå¶å®ï¼ç­ç¥æ¨¡å¼ä¸­ï¼æä»¬å¯ä»¥èªå·±å®ä¹è°æ¥éæ©å·ä½çç­ç¥ç®æ³ï¼æä¸¤ç§ï¼\n\n * å®¢æ·ç«¯ï¼å½ä½¿ç¨ä¸ä¸ææ¶ï¼ç±å®¢æ·ç«¯éæ©ï¼åæä»¬ä¸è¾¹ç demo\n * ä¸ä¸æï¼å®¢æ·ç«¯ä¸ç¨éï¼ç±ä¸ä¸ææ¥éå·ä½çç­ç¥ç®æ³ï¼å¯ä»¥å¨æé å¨ä¸­æå®\n\n\n# ä¼ç¼ºç¹\n\n\n# ä¼ç¹ï¼\n\né¿åå¤éæ¡ä»¶è¯­å¥ï¼ä¹å°±æ¯é¿åå¤§éç if-else æ´å¥½çæ©å±æ§ï¼å®å¨ç¬¦åå¼é­ååï¼ï¼ç­ç¥æ¨¡å¼ä¸­æ©å±æ°çç­ç¥å®ç°å¾å®¹æï¼æ éå¯¹ä¸ä¸æä¿®æ¹ï¼åªå¢å æ°çç­ç¥å®ç°ç±»å°±å¯ä»¥\n\n\n# ç¼ºç¹ï¼\n\nå®¢æ·å¿é¡»äºè§£æ¯ç§ç­ç¥çä¸åï¼è¿ä¸ªå¯ä»¥éè¿ IOCãä¾èµæ³¨å¥çæ¹å¼è§£å³ï¼ å¢å äºå¯¹è±¡æ°ï¼æ¯ä¸ªå·ä½ç­ç¥é½å°è£æäºç±»ï¼å¯è½å¤éçç­ç¥ä¼å¾å¤ åªéåæå¹³çç®æ³ç»æï¼ç­ç¥æ¨¡å¼çä¸ç³»åç®æ³æ¯å¹³ç­çï¼ä¹å°±æ¯å¨è¿è¡æ¶å»åªæä¸ä¸ªç®æ³ä¼è¢«ä½¿ç¨ï¼è¿å°±éå¶äºç®æ³ä½¿ç¨çå±çº§ï¼ä¸è½åµå¥ä½¿ç¨\n\n\n# æè\n\nå®éä½¿ç¨ä¸­ï¼å¾å¾ä¸ä¼åªæ¯åä¸çæä¸ªè®¾è®¡æ¨¡å¼çå¥ç¨ï¼ä¸è¬é½ä¼æ··åä½¿ç¨ï¼èä¸æ¨¡å¼ä¹é´çç»åä¹æ¯æ²¡æå®å¿çï¼è¦å·ä½é®é¢å·ä½åæã\n\nç­ç¥æ¨¡å¼å¾å¾ä¼ç»åå¶ä»æ¨¡å¼ä¸èµ·ä½¿ç¨ï¼æ¯å¦å·¥åãæ¨¡æ¿ç­ï¼å·ä½ä½¿ç¨éè¦ç»åèªå·±çä¸å¡ã\n\nåè®°ï¼ä¸è¦ä¸ºäºä½¿ç¨è®¾è®¡æ¨¡å¼èå¼ºè¡æ¨¡å¼ï¼ä¸è¦æç®åé®é¢å¤æåã\n\nç­ç¥æ¨¡å¼ä¹ä¸æ¯ä¸ä¸ºæ¶é¤ if-else èççï¼ä¸è¦å if-else åç­å·ãå®ä½ç°äºâå¯¹ä¿®æ¹å³é­ï¼å¯¹æ©å±å¼æ¾âçååã\n\nå¹¶ä¸æ¯è¯´ï¼çå° if-else å°±æ³çç¨ç­ç¥æ¨¡å¼å»ä¼åï¼ä¸å¡é»è¾ç®åï¼å¯è½å ä¸ªæä¸¾ï¼æèå ä¸ªå«è¯­å¥å°±æå®çåºæ¯ï¼å°±ä¸ç¨éå¾ç¡¬å¥è®¾è®¡æ¨¡å¼äºã\n\n\n# ç­ç¥æ¨¡å¼å¨ JDK ä¸­çåºç¨\n\nå¨ JDK ä¸­ï¼Comparator æ¯è¾å¨æ¯ä¸ä¸ªç­ç¥æ¥å£ï¼æä»¬å¸¸ç¨ç compare() æ¹æ³å°±æ¯ä¸ä¸ªå·ä½çç­ç¥å®ç°ï¼ç¨äºå®ä¹æåºè§åã\n\npublic interface Comparator<T> {\n   int compare(T o1, T o2);\n   //......\n}\n\n\n1\n2\n3\n4\n\n\nå½æä»¬æ³èªå®ä¹æåºè§åçæ¶åï¼å°±å¯ä»¥å®ç° Comparator ã\n\nè¿æ¶åæä»¬éåäºæ¥å£ä¸­ç compare() æ¹æ³ï¼å°±æ¯å·ä½çç­ç¥ç±»ï¼åªä¸è¿è¿éå¯è½æ¯åé¨ç±»ï¼ãå½æä»¬å¨è°ç¨ Arrays çæåºæ¹æ³ sort() æ¶ï¼å¯ä»¥ç¨é»è®¤çæåºè§åï¼ä¹å¯ä»¥ç¨èªå®ä¹çè§åã\n\npublic static void main(String[] args) {\n  Integer[] data = {4,2,7,5,1,9};\n  Comparator<Integer> comparator = new Comparator<Integer>() {\n    @Override\n    public int compare(Integer o1, Integer o2) {\n      if(o1 > o2){\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n  };\n\n  Arrays.sort(data,comparator);\n  System.out.println(Arrays.toString(data));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nArrays ç sort() æ¹æ³ï¼æèªå®ä¹è§åå°±æèªå·±çæ¹æ³æåºï¼åä¹èµ°æºç é»è¾ã\n\npublic static <T> void sort(T[] a, Comparator<? super T> c) {\n    if (c == null) {\n        sort(a);\n    } else {\n        if (LegacyMergeSort.userRequested)\n            legacyMergeSort(a, c);\n        else\n            TimSort.sort(a, 0, a.length, c, null, 0, 0);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nè¿æï¼ThreadPoolExecutor ä¸­çæç»ç­ç¥ RejectedExecutionHandler ä¹æ¯å¸åçç­ç¥æ¨¡å¼ï¼æå´è¶£çä¹å¯ä»¥åççæºç ã',normalizedContent:'# å®ä¹\n\nç­ç¥æ¨¡å¼ï¼strategy design patternï¼ï¼å°è£å¯ä»¥äºæ¢çè¡ä¸ºï¼å¹¶ä½¿ç¨å§ææ¥å³å®è¦ä½¿ç¨åªä¸ä¸ªã\n\nç­ç¥æ¨¡å¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®è½è®©ä½ å®ä¹ä¸ç³»åç®æ³ï¼ å¹¶å°æ¯ç§ç®æ³åå«æ¾å¥ç¬ç«çç±»ä¸­ï¼ ä»¥ä½¿ç®æ³çå¯¹è±¡è½å¤ç¸äºæ¿æ¢ã\n\n> ç¨äººè¯ç¿»è¯åå°±æ¯ï¼è¿è¡æ¶æç»ä½ è¿ä¸ªç±»çæ¹æ³ä¼ ä¸åç âkeyâï¼ä½ è¿ä¸ªæ¹æ³å°±å»æ§è¡ä¸åçä¸å¡é»è¾ã ä½ åï¼ä½ ç»åï¼è¿ä¸å°±æ¯ if else å¹²çäºåï¼\n\nåç´è§ççä¸ä¼ ç»çå¤é if else ä»£ç \n\npublic string getcheckresult(string type) {\n  if ("æ ¡éª1".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾1";\n  } else if ("æ ¡éª2".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾2";\n  } else if ("æ ¡éª3".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾3";\n  } else if ("æ ¡éª4".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾4";\n  } else if ("æ ¡éª5".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾5";\n  } else if ("æ ¡éª6".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾6";\n  } else if ("æ ¡éª7".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾7";\n  } else if ("æ ¡éª8".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾8";\n  } else if ("æ ¡éª9".equals(type)) {\n    return "æ§è¡ä¸å¡é»è¾9";\n  }\n  return "ä¸å¨å¤ççé»è¾ä¸­è¿åä¸å¡éè¯¯";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nè¿ä¹çï¼ä½ è¦æ¯è¿è§å¾æºæ¸æ°çè¯ï¼æ³è±¡ä¸è¿äº return éæ¯åç§å¤æçä¸å¡é»è¾æ¹æ³~~\n\nå½ç¶ï¼ç­ç¥æ¨¡å¼çä½ç¨å¯ä¸æ­¢æ¯é¿ååé¿ç if-else æè switch åæ¯ï¼å®è¿å¯ä»¥åæ¨¡æ¿æ¹æ³æ¨¡å¼é£æ ·æä¾æ¡æ¶çæ©å±ç¹ç­ã\n\nç½ä¸çç¤ºä¾å¾å¤ï¼æ¯å¦ä¸åè·¯çº¿çè§åãä¸åæ¯ä»æ¹å¼çéæ© é½æ¯å¸åç if-else é®é¢ï¼ä¹é½æ¯å¸åçç­ç¥æ¨¡å¼é®é¢ï¼æ å­æä»¬å¾ä¼çï¼åçä¸ç­ç¥æ¨¡å¼çç±»å¾ï¼ç¶åå»æ¹é å¤éå¤æ­~\n\n\n# è§è²\n\nç­ç¥æ¨¡å¼æ¶åå°ä¸ä¸ªè§è²ï¼\n\n 1. strategyï¼ç­ç¥æ¥å£æèç­ç¥æ½è±¡ç±»ï¼ç¨æ¥çº¦æä¸ç³»åçç­ç¥ç®æ³ï¼context ä½¿ç¨è¿ä¸ªæ¥å£æ¥è°ç¨å·ä½çç­ç¥å®ç°ç®æ³ï¼\n 2. concreatestrategyï¼å·ä½çç­ç¥ç±»ï¼å®ç°ç­ç¥æ¥å£æç»§æ¿æ½è±¡ç­ç¥ç±»ï¼\n 3. contextï¼ä¸ä¸æç±»ï¼ææå·ä½ç­ç¥ç±»çå®ä¾ï¼å¹¶è´è´£è°ç¨ç¸å³çç®æ³ åºç¨ç­ç¥æ¨¡å¼æ¥è§£å³é®é¢çæè·¯\n\n\n# å®ä¾\n\nåççæç®åçç­ç¥æ¨¡å¼ demo:\n\n1ãç­ç¥æ¥å£ï¼å®ä¹ç­ç¥ï¼\n\npublic interface strategy {\n    void operate();\n}\n\n\n1\n2\n3\n\n\n2ãå·ä½çç®æ³å®ç°\n\npublic class concretestrategya implements strategy {\n    @override\n    public void operate() {\n        //å·ä½çç®æ³å®ç°\n        system.out.println("æ§è¡ä¸å¡é»è¾a");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\npublic class concretestrategyb implements strategy {\n    @override\n    public void operate() {\n        //å·ä½çç®æ³å®ç°\n        system.out.println("æ§è¡ä¸å¡é»è¾b");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n3ãä¸ä¸æçå®ç°\n\npublic class context {\n\n    //ææä¸ä¸ªå·ä½çç­ç¥å¯¹è±¡\n    private strategy strategy;\n\n    //æé æ¹æ³ï¼ä¼ å¥å·ä½çç­ç¥å¯¹è±¡\n    public context(strategy strategy){\n        this.strategy = strategy;\n    }\n\n    public void dosomething(){\n        //è°ç¨å·ä½çç­ç¥å¯¹è±¡è¿æä½\n        strategy.operate();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n4ãå®¢æ·ç«¯ä½¿ç¨ï¼ç­ç¥çä½¿ç¨ï¼\n\npublic static void main(string[] args) {\n  context context = new context(new concretestrategya());\n  context.dosomething();\n}\n\n\n1\n2\n3\n4\n\n\n> psï¼è¿ç§ç­ç¥çä½¿ç¨æ¹å¼å¶å®å¾æ­»æ¿ï¼çæ­£ä½¿ç¨çæ¶åå¦æè¿è¿ä¹åï¼ ååä¸å¤§æ¨ if-else æ²¡ä»ä¹åºå«ï¼æä»¥æä»¬ä¸è¬ä¼ç»åå·¥åç±»ï¼ å¨è¿è¡æ¶å¨æç¡®å®ä½¿ç¨åªç§ç­ç¥ãç­ç¥æ¨¡å¼ä¾§éå¦ä½éæ©ç­ç¥ãå·¥åæ¨¡å¼ä¾§éå¦ä½åå»ºç­ç¥ã\n\n\n# è§£æç­ç¥æ¨¡å¼\n\nç­ç¥æ¨¡å¼çåè½å°±æ¯æå·ä½çç®æ³å®ç°ä»å·ä½çä¸å¡å¤çä¸­ç¬ç«åºæ¥ï¼æå®ä»¬å®ç°æåç¬çç®æ³ç±»ï¼ä»èå½¢æä¸ç³»åç®æ³ï¼å¹¶è®©è¿äºç®æ³å¯ä»¥äºç¸æ¿æ¢ã\n\n> ç­ç¥æ¨¡å¼çéå¿ä¸æ¯å¦ä½æ¥å®ç°ç®æ³ï¼èæ¯å¦ä½ç»ç»ãè°ç¨è¿äºç®æ³ï¼ä»èè®©ç¨åºç»ææ´çµæ´»ï¼å·ææ´å¥½çç»´æ¤æ§åæ©å±æ§ã\n\nå®éä¸ï¼æ¯ä¸ªç­ç¥ç®æ³å·ä½å®ç°çåè½ï¼å°±æ¯åæ¥å¨ if-else ç»æä¸­çå·ä½å®ç°ï¼æ¯ä¸ª if-else è¯­å¥é½æ¯ä¸ä¸ªå¹³ç­çåè½ç»æï¼å¯ä»¥è¯´æ¯åå¼å³ç³»ã\n\nç­ç¥æ¨¡å¼å¢ï¼å°±æ¯æåä¸ªå¹³ç­çå·ä½å®ç°å°è£å°åç¬çç­ç¥å®ç°ç±»äºï¼ç¶åéè¿ä¸ä¸æä¸å·ä½çç­ç¥ç±»è¿è¡äº¤äºã\n\nã ç­ç¥æ¨¡å¼ = å®ç°ç­ç¥æ¥å£ï¼ææ½è±¡ç±»ï¼çæ¯ä¸ªç­ç¥ç±» + ä¸ä¸æçé»è¾åæ´¾ ã\n\n> ç­ç¥æ¨¡å¼çæ¬è´¨ï¼åç¦»ç®æ³ï¼éæ©å®ç° ââãç ç£¨è®¾è®¡æ¨¡å¼ã\n\næä»¥è¯´ï¼ç­ç¥æ¨¡å¼åªæ¯å¨ä»£ç ç»æä¸çä¸ä¸ªè°æ´ï¼å³ä½¿ç¨äºç­ç¥æ¨¡å¼ï¼è¯¥åçé»è¾ä¸ä¸ªä¹å°ä¸äºï¼å°é»è¾åæ´¾çæ¶åï¼åªæ¯åç¸ç if-elseã\n\nèå®çä¼åç¹æ¯æ½è±¡äºåºäºæ¥å£ï¼å°ä¸å¡é»è¾å°è£æä¸ä¸ªä¸ä¸ªçå®ç°ç±»ï¼ä»»æå°æ¿æ¢ãå¨å¤æåºæ¯ï¼ä¸å¡é»è¾è¾å¤ï¼æ¶æ¯ç´æ¥ if-else æ´å¥½ç»´æ¤åæ©å±äºã\n\n\n# è°æ¥éæ©å·ä½çç­ç¥ç®æ³\n\nå¦æä½ æåäºä¸è¾¹ç demoï¼å°±ä¼åç°ï¼è¿ç©æä¸å if-else æ¥çé¡ºæï¼å°¤å¶æ¯å¨å¤æ­é»è¾çæ¶åï¼æ¯ä¸ªé»è¾é½è¦è¦æé ä¸ä¸ªä¸ä¸æå¯¹è±¡ï¼è´¹å²ã\n\nå¶å®ï¼ç­ç¥æ¨¡å¼ä¸­ï¼æä»¬å¯ä»¥èªå·±å®ä¹è°æ¥éæ©å·ä½çç­ç¥ç®æ³ï¼æä¸¤ç§ï¼\n\n * å®¢æ·ç«¯ï¼å½ä½¿ç¨ä¸ä¸ææ¶ï¼ç±å®¢æ·ç«¯éæ©ï¼åæä»¬ä¸è¾¹ç demo\n * ä¸ä¸æï¼å®¢æ·ç«¯ä¸ç¨éï¼ç±ä¸ä¸ææ¥éå·ä½çç­ç¥ç®æ³ï¼å¯ä»¥å¨æé å¨ä¸­æå®\n\n\n# ä¼ç¼ºç¹\n\n\n# ä¼ç¹ï¼\n\né¿åå¤éæ¡ä»¶è¯­å¥ï¼ä¹å°±æ¯é¿åå¤§éç if-else æ´å¥½çæ©å±æ§ï¼å®å¨ç¬¦åå¼é­ååï¼ï¼ç­ç¥æ¨¡å¼ä¸­æ©å±æ°çç­ç¥å®ç°å¾å®¹æï¼æ éå¯¹ä¸ä¸æä¿®æ¹ï¼åªå¢å æ°çç­ç¥å®ç°ç±»å°±å¯ä»¥\n\n\n# ç¼ºç¹ï¼\n\nå®¢æ·å¿é¡»äºè§£æ¯ç§ç­ç¥çä¸åï¼è¿ä¸ªå¯ä»¥éè¿ iocãä¾èµæ³¨å¥çæ¹å¼è§£å³ï¼ å¢å äºå¯¹è±¡æ°ï¼æ¯ä¸ªå·ä½ç­ç¥é½å°è£æäºç±»ï¼å¯è½å¤éçç­ç¥ä¼å¾å¤ åªéåæå¹³çç®æ³ç»æï¼ç­ç¥æ¨¡å¼çä¸ç³»åç®æ³æ¯å¹³ç­çï¼ä¹å°±æ¯å¨è¿è¡æ¶å»åªæä¸ä¸ªç®æ³ä¼è¢«ä½¿ç¨ï¼è¿å°±éå¶äºç®æ³ä½¿ç¨çå±çº§ï¼ä¸è½åµå¥ä½¿ç¨\n\n\n# æè\n\nå®éä½¿ç¨ä¸­ï¼å¾å¾ä¸ä¼åªæ¯åä¸çæä¸ªè®¾è®¡æ¨¡å¼çå¥ç¨ï¼ä¸è¬é½ä¼æ··åä½¿ç¨ï¼èä¸æ¨¡å¼ä¹é´çç»åä¹æ¯æ²¡æå®å¿çï¼è¦å·ä½é®é¢å·ä½åæã\n\nç­ç¥æ¨¡å¼å¾å¾ä¼ç»åå¶ä»æ¨¡å¼ä¸èµ·ä½¿ç¨ï¼æ¯å¦å·¥åãæ¨¡æ¿ç­ï¼å·ä½ä½¿ç¨éè¦ç»åèªå·±çä¸å¡ã\n\nåè®°ï¼ä¸è¦ä¸ºäºä½¿ç¨è®¾è®¡æ¨¡å¼èå¼ºè¡æ¨¡å¼ï¼ä¸è¦æç®åé®é¢å¤æåã\n\nç­ç¥æ¨¡å¼ä¹ä¸æ¯ä¸ä¸ºæ¶é¤ if-else èççï¼ä¸è¦å if-else åç­å·ãå®ä½ç°äºâå¯¹ä¿®æ¹å³é­ï¼å¯¹æ©å±å¼æ¾âçååã\n\nå¹¶ä¸æ¯è¯´ï¼çå° if-else å°±æ³çç¨ç­ç¥æ¨¡å¼å»ä¼åï¼ä¸å¡é»è¾ç®åï¼å¯è½å ä¸ªæä¸¾ï¼æèå ä¸ªå«è¯­å¥å°±æå®çåºæ¯ï¼å°±ä¸ç¨éå¾ç¡¬å¥è®¾è®¡æ¨¡å¼äºã\n\n\n# ç­ç¥æ¨¡å¼å¨ jdk ä¸­çåºç¨\n\nå¨ jdk ä¸­ï¼comparator æ¯è¾å¨æ¯ä¸ä¸ªç­ç¥æ¥å£ï¼æä»¬å¸¸ç¨ç compare() æ¹æ³å°±æ¯ä¸ä¸ªå·ä½çç­ç¥å®ç°ï¼ç¨äºå®ä¹æåºè§åã\n\npublic interface comparator<t> {\n   int compare(t o1, t o2);\n   //......\n}\n\n\n1\n2\n3\n4\n\n\nå½æä»¬æ³èªå®ä¹æåºè§åçæ¶åï¼å°±å¯ä»¥å®ç° comparator ã\n\nè¿æ¶åæä»¬éåäºæ¥å£ä¸­ç compare() æ¹æ³ï¼å°±æ¯å·ä½çç­ç¥ç±»ï¼åªä¸è¿è¿éå¯è½æ¯åé¨ç±»ï¼ãå½æä»¬å¨è°ç¨ arrays çæåºæ¹æ³ sort() æ¶ï¼å¯ä»¥ç¨é»è®¤çæåºè§åï¼ä¹å¯ä»¥ç¨èªå®ä¹çè§åã\n\npublic static void main(string[] args) {\n  integer[] data = {4,2,7,5,1,9};\n  comparator<integer> comparator = new comparator<integer>() {\n    @override\n    public int compare(integer o1, integer o2) {\n      if(o1 > o2){\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n  };\n\n  arrays.sort(data,comparator);\n  system.out.println(arrays.tostring(data));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\narrays ç sort() æ¹æ³ï¼æèªå®ä¹è§åå°±æèªå·±çæ¹æ³æåºï¼åä¹èµ°æºç é»è¾ã\n\npublic static <t> void sort(t[] a, comparator<? super t> c) {\n    if (c == null) {\n        sort(a);\n    } else {\n        if (legacymergesort.userrequested)\n            legacymergesort(a, c);\n        else\n            timsort.sort(a, 0, a.length, c, null, 0, 0);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nè¿æï¼threadpoolexecutor ä¸­çæç»ç­ç¥ rejectedexecutionhandler ä¹æ¯å¸åçç­ç¥æ¨¡å¼ï¼æå´è¶£çä¹å¯ä»¥åççæºç ã',charsets:{cjk:!0},lastUpdated:"2022/09/20, 23:34:59",lastUpdatedTimestamp:1663688099e3},{title:"è§å¯æ¨¡å¼",frontmatter:{title:"è§å¯æ¨¡å¼",date:"2022-05-21T17:29:45.000Z",permalink:"/pages/cbff3c/",categories:["Javaç¸å³","è®¾è®¡æ¨¡å¼"],tags:[null]},regularPath:"/01.Java%E7%9B%B8%E5%85%B3/40.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/060.%E8%A7%82%E5%AF%9F%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Javaç¸å³/40.è®¾è®¡æ¨¡å¼/060.è§å¯æ¨¡å¼.md",key:"v-64f1031c",path:"/pages/cbff3c/",headers:[{level:2,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:344},{level:2,title:"è§è²",slug:"è§è²",normalizedTitle:"è§è²",charIndex:594},{level:2,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:630},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:1386},{level:2,title:"ä¼ç¼ºç¹",slug:"ä¼ç¼ºç¹",normalizedTitle:"ä¼ç¼ºç¹",charIndex:2856},{level:3,title:"ä¼ç¹",slug:"ä¼ç¹",normalizedTitle:"ä¼ç¹",charIndex:2864},{level:3,title:"ç¼ºç¹",slug:"ç¼ºç¹",normalizedTitle:"ç¼ºç¹",charIndex:2857},{level:2,title:"åºç¨",slug:"åºç¨",normalizedTitle:"åºç¨",charIndex:3010},{level:3,title:"JDK ä¸­çè§å¯èæ¨¡å¼",slug:"jdk-ä¸­çè§å¯èæ¨¡å¼",normalizedTitle:"jdk ä¸­çè§å¯èæ¨¡å¼",charIndex:3017},{level:3,title:"Spring ä¸­çè§å¯èæ¨¡å¼",slug:"spring-ä¸­çè§å¯èæ¨¡å¼",normalizedTitle:"spring ä¸­çè§å¯èæ¨¡å¼",charIndex:3164},{level:4,title:"1. Spring ä¸­è§å¯èæ¨¡å¼çåä¸ªè§è²",slug:"_1-spring-ä¸­è§å¯èæ¨¡å¼çåä¸ªè§è²",normalizedTitle:"1. spring ä¸­è§å¯èæ¨¡å¼çåä¸ªè§è²",charIndex:3228},{level:4,title:"2. coding~~~~~~",slug:"_2-coding",normalizedTitle:"2. coding~~~~~~",charIndex:3951}],headersStr:"å®ä¹ è§è² ç±»å¾ å®ä¾ ä¼ç¼ºç¹ ä¼ç¹ ç¼ºç¹ åºç¨ JDK ä¸­çè§å¯èæ¨¡å¼ Spring ä¸­çè§å¯èæ¨¡å¼ 1. Spring ä¸­è§å¯èæ¨¡å¼çåä¸ªè§è² 2. coding~~~~~~",content:'å¨è½¯ä»¶ç³»ç»ä¸­ç»å¸¸ä¼æè¿æ ·çéæ±ï¼å¦æä¸ä¸ªå¯¹è±¡çç¶æåçæ¹åï¼æäºä¸å®ç¸å³çå¯¹è±¡ä¹è¦éä¹ååºç¸åºçååã ä¸¾ä¸ªä¾å­ï¼\n\n * å¾®ä¿¡å¬ä¼å·ï¼å¦æä¸ä¸ªç¨æ·è®¢éäºæä¸ªå¬ä¼å·ï¼é£ä¹ä¾¿ä¼æ¶å°å¬ä¼å·åæ¥çæ¶æ¯ï¼é£ä¹ï¼å¬ä¼å·å°±æ¯ãè¢«è§å¯èãï¼èç¨æ·å°±æ¯ãè§å¯èã\n * æ°è±¡ç«å¯ä»¥å°æ¯å¤©é¢æµå°çæ¸©åº¦ãæ¹¿åº¦ãæ°åç­ä»¥å¬åçå½¢å¼åå¸ç»åç§ç¬¬ä¸æ¹ç½ç«ï¼å¦æå¤©æ°æ°æ®ææ´æ°ï¼è¦è½å¤å®æ¶çéç¥ç»ç¬¬ä¸æ¹ï¼è¿éçæ°è±¡å±å°±æ¯ãè¢«è§å¯èãï¼ç¬¬ä¸æ¹ç½ç«å°±æ¯ãè§å¯èã\n * MVC æ¨¡å¼ä¸­çæ¨¡åä¸è§å¾çå³ç³»ä¹å±äºè§å¯ä¸è¢«è§å¯å³ç³»\n\nè§å¯èæ¨¡å¼æ¯ä½¿ç¨é¢çè¾é«çè®¾è®¡æ¨¡å¼ä¹ä¸ã\n\nè§å¯èæ¨¡å¼åå«è§å¯ç®æ åè§å¯èä¸¤ç±»å¯¹è±¡ï¼ä¸ä¸ªç®æ å¯ä»¥æä»»ææ°ç®çä¸ä¹ç¸ä¾èµçè§å¯èï¼ä¸æ¦è§å¯ç®æ çç¶æåçæ¹åï¼ææçè§å¯èé½å°å¾å°éç¥ã\n\n\n# å®ä¹\n\nè§å¯èæ¨¡å¼(Observer Pattern)ï¼ å®ä¹å¯¹è±¡é´ä¸ç§ä¸å¯¹å¤çä¾èµå³ç³»ï¼ä½¿å¾å½æ¯ä¸ä¸ªå¯¹è±¡æ¹åç¶æï¼åææä¾èµäºå®çå¯¹è±¡é½ä¼å¾å°éç¥å¹¶èªå¨æ´æ°ã\n\nè§å¯èæ¨¡å¼æ¯ä¸ç§å¯¹è±¡è¡ä¸ºåæ¨¡å¼ã\n\nè§å¯èæ¨¡å¼çå«ååæ¬åå¸-è®¢éï¼Publish/Subscribeï¼æ¨¡å¼ãæ¨¡å-è§å¾ï¼Model/Viewï¼æ¨¡å¼ãæº-çå¬å¨ï¼Source/Listenerï¼æ¨¡å¼æä»å±èï¼Dependentsï¼æ¨¡å¼ã\n\nç»ç©¶çè¯ï¼åå¸è®¢éåè§å¯èæäºä¸åï¼å¯ä»¥çè§£æåå¸è®¢éæ¨¡å¼å±äºå¹¿ä¹ä¸çè§å¯èæ¨¡å¼ã\n\n\n\n\n# è§è²\n\n * Subjectï¼ç®æ ï¼ï¼è¢«è§å¯èï¼å®æ¯æè¢«è§å¯çå¯¹è±¡ã ä»ç±»å¾ä¸­å¯ä»¥çå°ï¼ç±»ä¸­æä¸ä¸ªç¨æ¥å­æ¾è§å¯èå¯¹è±¡çVector å®¹å¨ï¼Vectorå¨æ¯å®å¨çï¼èListåæ¯ä¸å®å¨çï¼ï¼è¿ä¸ª Vector å®¹å¨æ¯è¢«è§å¯èç±»çæ ¸å¿ï¼å¦å¤è¿æä¸ä¸ªæ¹æ³ï¼attach æ¹æ³æ¯åè¿ä¸ªå®¹å¨ä¸­æ·»å è§å¯èå¯¹è±¡ï¼detach æ¹æ³æ¯ä»å®¹å¨ä¸­ç§»é¤è§å¯èå¯¹è±¡ï¼notify æ¹æ³æ¯ä¾æ¬¡è°ç¨è§å¯èå¯¹è±¡çå¯¹åºæ¹æ³ãè¿ä¸ªè§è²å¯ä»¥æ¯æ¥å£ï¼ä¹å¯ä»¥æ¯æ½è±¡ç±»æèå·ä½çç±»ï¼å ä¸ºå¾å¤æåµä¸ä¼ä¸å¶ä»çæ¨¡å¼æ··ç¨ï¼æä»¥ä½¿ç¨æ½è±¡ç±»çæåµæ¯è¾å¤ã\n\n * ConcreteSubjectï¼å·ä½ç®æ ï¼ï¼å·ä½ç®æ æ¯ç®æ ç±»çå­ç±»ï¼éå¸¸å®åå«ç»å¸¸åçæ¹åçæ°æ®ï¼å½å®çç¶æåçæ¹åæ¶ï¼åå®çåä¸ªè§å¯èååºéç¥ãåæ¶å®è¿å®ç°äºå¨ç®æ ç±»ä¸­å®ä¹çæ½è±¡ä¸å¡é»è¾æ¹æ³ï¼å¦ææçè¯ï¼ãå¦ææ é¡»æ©å±ç®æ ç±»ï¼åå·ä½ç®æ ç±»å¯ä»¥çç¥ã\n\n * Observerï¼è§å¯èï¼ï¼è§å¯èå°å¯¹è§å¯ç®æ çæ¹åååºååºï¼è§å¯èä¸è¬å®ä¹ä¸ºæ¥å£ï¼è¯¥æ¥å£å£°æäºæ´æ°æ°æ®çæ¹æ³ update()ï¼å æ­¤åç§°ä¸ºæ½è±¡è§å¯èã\n\n * ConcreteObserverï¼å·ä½è§å¯èï¼ï¼å¨å·ä½è§å¯èä¸­ç»´æ¤ä¸ä¸ªæåå·ä½ç®æ å¯¹è±¡çå¼ç¨ï¼å®å­å¨å·ä½è§å¯èçæå³ç¶æï¼è¿äºç¶æéè¦åå·ä½ç®æ çç¶æä¿æä¸è´ï¼å®å®ç°äºå¨æ½è±¡è§å¯è Observer ä¸­å®ä¹ç update() æ¹æ³ãéå¸¸å¨å®ç°æ¶ï¼å¯ä»¥è°ç¨å·ä½ç®æ ç±»ç attach() æ¹æ³å°èªå·±æ·»å å°ç®æ ç±»çéåä¸­æéè¿ detach() æ¹æ³å°èªå·±ä»ç®æ ç±»çéåä¸­å é¤ã\n\n\n# ç±»å¾\n\n\n\nåè®°å½ä¸ UML ç±»å¾çæ³¨æäºé¡¹ï¼è¿éæç Subject æ¯æ½è±¡æ¹æ³ï¼æä»¥ç¨***æä½***ï¼æ½è±¡æ¹æ³ä¹è¦ç¨æä½ï¼å·ä½çåç§ç®­å¤´æä¹ï¼æä¹åä¹æ»ç»è¿ãè®¾è®¡æ¨¡å¼åä¼ ââå­¦è®¾è®¡æ¨¡å¼åä½ è¦ç¥éè¿äºãï¼è¢«ç½ä¸åç§å¸å­æ¯å®³è¿çèªå·±ï¼è®¤çè®°å½~~~ï¼ã\n\n\n# å®ä¾\n\n1ãå®ä¹è§å¯èæ¥å£\n\ninterface Observer {\n    public void update();\n}\n\n\n1\n2\n3\n\n\n2ãå®ä¹è¢«è§å¯è\n\nabstract class Subject {\n    private Vector<Observer> obs = new Vector();\n\n    public void addObserver(Observer obs){\n        this.obs.add(obs);\n    }\n    public void delObserver(Observer obs){\n        this.obs.remove(obs);\n    }\n    protected void notifyObserver(){\n        for(Observer o: obs){\n            o.update();\n        }\n    }\n    public abstract void doSomething();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n3ãå·ä½çè¢«è§å¯è\n\nclass ConcreteSubject extends Subject {\n    public void doSomething(){\n        System.out.println("è¢«è§å¯èäºä»¶åçæ¹å");\n        this.notifyObserver();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n4ãå·ä½çè§å¯è\n\nclass ConcreteObserver1 implements Observer {\n    public void update() {\n        System.out.println("è§å¯è1æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç");\n    }\n}\nclass ConcreteObserver2 implements Observer {\n    public void update() {\n        System.out.println("è§å¯è2æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n5ãå®¢æ·ç«¯\n\npublic class Client {\n    public static void main(String[] args){\n        Subject sub = new ConcreteSubject();\n        sub.addObserver(new ConcreteObserver1()); //æ·»å è§å¯è1\n        sub.addObserver(new ConcreteObserver2()); //æ·»å è§å¯è2\n        sub.doSomething();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè¾åº\n\nè¢«è§å¯èäºä»¶åçæ¹å\nè§å¯è1æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç\nè§å¯è2æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç\n\n\n1\n2\n3\n\n\néè¿è¿è¡ç»æå¯ä»¥çå°ï¼æä»¬åªè°ç¨äº Subject çæ¹æ³ï¼ä½åæ¶ä¸¤ä¸ªè§å¯èçç¸å³æ¹æ³é½è¢«è°ç¨äºãä»ç»çä¸ä¸ä»£ç ï¼å¶å®å¾ç®åï¼å°±æ¯å¨ Subject ç±»ä¸­å³èä¸ä¸ Observer ç±»ï¼å¹¶ä¸å¨ doSomething() æ¹æ³ä¸­éåä¸ä¸ Observer ç update() æ¹æ³å°±è¡äºã\n\n\n# ä¼ç¼ºç¹\n\n\n# ä¼ç¹\n\néä½äºç®æ ä¸è§å¯èä¹é´çè¦åå³ç³»ï¼ä¸¤èä¹é´æ¯æ½è±¡è¦åå³ç³» ç®æ ä¸è§å¯èä¹é´å»ºç«äºä¸å¥è§¦åæºå¶ æ¯æå¹¿æ­éä¿¡ ç¬¦åâå¼é­ååâçè¦æ±\n\n\n# ç¼ºç¹\n\nç®æ ä¸è§å¯èä¹é´çä¾èµå³ç³»å¹¶æ²¡æå®å¨è§£é¤ï¼èä¸æå¯è½åºç°å¾ªç¯å¼ç¨ å½è§å¯èå¯¹è±¡å¾å¤æ¶ï¼éç¥çåå¸ä¼è±è´¹å¾å¤æ¶é´ï¼å½±åç¨åºçæç\n\n\n# åºç¨\n\n\n# JDK ä¸­çè§å¯èæ¨¡å¼\n\nè§å¯èæ¨¡å¼å¨ Java è¯­è¨ä¸­çå°ä½éå¸¸éè¦ãå¨ JDK ç java.util åä¸­ï¼æä¾äº Observable ç±»ä»¥å Observer æ¥å£ï¼å®ä»¬ææäº JDK å¯¹è§å¯èæ¨¡å¼çæ¯æï¼å¯ä»¥å»æ¥çä¸æºç ï¼åçæ¯è¾ä¸¥è°¨ï¼ãbutï¼å¨ Java9 è¢«å¼ç¨äºã\n\n\n# Spring ä¸­çè§å¯èæ¨¡å¼\n\nSpring äºä»¶é©±å¨æ¨¡åä¹æ¯è§å¯èæ¨¡å¼å¾ç»å¸çåºç¨ãå°±æ¯æä»¬é¡¹ç®ä¸­æå¸¸è§çäºä»¶çå¬å¨ã\n\n# 1. Spring ä¸­è§å¯èæ¨¡å¼çåä¸ªè§è²\n\n * äºä»¶ï¼ApplicationEvent æ¯ææäºä»¶å¯¹è±¡çç¶ç±»ãApplicationEvent ç»§æ¿èª jdk ç EventObjectï¼ææçäºä»¶é½éè¦ç»§æ¿ ApplicationEventï¼å¹¶ä¸éè¿ source å¾å°äºä»¶æºã\n\n * Spring ä¹ä¸ºæä»¬æä¾äºå¾å¤åç½®äºä»¶ï¼ContextRefreshedEventãContextStartedEventãContextStoppedEventãContextClosedEventãRequestHandledEventã\n\n * äºä»¶çå¬ï¼ApplicationListenerï¼ä¹å°±æ¯è§å¯èï¼ç»§æ¿èª jdk ç EventListenerï¼è¯¥ç±»ä¸­åªæä¸ä¸ªæ¹æ³ onApplicationEventãå½çå¬çäºä»¶åçåè¯¥æ¹æ³ä¼è¢«æ§è¡ã\n\n * äºä»¶æºï¼ApplicationContextï¼ApplicationContext æ¯ Spring ä¸­çæ ¸å¿å®¹å¨ï¼å¨äºä»¶çå¬ä¸­ ApplicationContext å¯ä»¥ä½ä¸ºäºä»¶çåå¸èï¼ä¹å°±æ¯äºä»¶æºãå ä¸º ApplicationContext ç»§æ¿èª ApplicationEventPublisherãå¨ ApplicationEventPublisher ä¸­å®ä¹äºäºä»¶åå¸çæ¹æ³ï¼publishEvent(Object event)\n\n * äºä»¶ç®¡çï¼ApplicationEventMulticasterï¼ç¨äºäºä»¶çå¬å¨çæ³¨ååäºä»¶çå¹¿æ­ãçå¬å¨çæ³¨åå°±æ¯éè¿å®æ¥å®ç°çï¼å®çä½ç¨æ¯æ Applicationcontext åå¸ç Event å¹¿æ­ç»å®ççå¬å¨åè¡¨ã\n\n# 2. coding~~~~~~\n\n1ãå®ä¹äºä»¶\n\npublic class MyEvent extends ApplicationEvent {\n    public MyEvent(Object source) {\n        super(source);\n        System.out.println("my Event");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãå®ç°äºä»¶çå¬å¨\n\n@Component\nclass MyListenerA implements ApplicationListener<MyEvent> {\n    public void onApplicationEvent(MyEvent AyEvent) {\n        System.out.println("ListenerA received");\n    }\n}\n\n@Component\nclass MyListenerB implements ApplicationListener<MyEvent> {\n    public void onApplicationEvent(MyEvent AyEvent) {\n        System.out.println("ListenerB received");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n3ãäºä»¶åå¸è\n\n@Component\npublic class MyPublisher implements ApplicationContextAware {\n    private ApplicationContext applicationContext;\n    \n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext=applicationContext;\n    }\n    \n    public void publishEvent(ApplicationEvent event){\n        System.out.println("publish event");\n        applicationContext.publishEvent(event);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n4ãæµè¯ï¼åç¨æ³¨è§£æ¹å¼å° MyPublisher æ³¨å¥ Spring\n\n@Configuration\n@ComponentScan\npublic class AppConfig {\n\n    @Bean(name = "myPublisher")\n    public MyPublisher myPublisher(){\n        return new MyPublisher();\n    }\n}\npublic class Client {\n\n    @Test\n    public void main() {\n        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\n        MyPublisher myPublisher = (MyPublisher) context.getBean("myPublisher");\n        myPublisher.publishEvent(new MyEvent(this));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n5ãè¾åº\n\nmy Event\npublish event\nListenerA received\nListenerB received\n\n\n1\n2\n3\n4\n',normalizedContent:'å¨è½¯ä»¶ç³»ç»ä¸­ç»å¸¸ä¼æè¿æ ·çéæ±ï¼å¦æä¸ä¸ªå¯¹è±¡çç¶æåçæ¹åï¼æäºä¸å®ç¸å³çå¯¹è±¡ä¹è¦éä¹ååºç¸åºçååã ä¸¾ä¸ªä¾å­ï¼\n\n * å¾®ä¿¡å¬ä¼å·ï¼å¦æä¸ä¸ªç¨æ·è®¢éäºæä¸ªå¬ä¼å·ï¼é£ä¹ä¾¿ä¼æ¶å°å¬ä¼å·åæ¥çæ¶æ¯ï¼é£ä¹ï¼å¬ä¼å·å°±æ¯ãè¢«è§å¯èãï¼èç¨æ·å°±æ¯ãè§å¯èã\n * æ°è±¡ç«å¯ä»¥å°æ¯å¤©é¢æµå°çæ¸©åº¦ãæ¹¿åº¦ãæ°åç­ä»¥å¬åçå½¢å¼åå¸ç»åç§ç¬¬ä¸æ¹ç½ç«ï¼å¦æå¤©æ°æ°æ®ææ´æ°ï¼è¦è½å¤å®æ¶çéç¥ç»ç¬¬ä¸æ¹ï¼è¿éçæ°è±¡å±å°±æ¯ãè¢«è§å¯èãï¼ç¬¬ä¸æ¹ç½ç«å°±æ¯ãè§å¯èã\n * mvc æ¨¡å¼ä¸­çæ¨¡åä¸è§å¾çå³ç³»ä¹å±äºè§å¯ä¸è¢«è§å¯å³ç³»\n\nè§å¯èæ¨¡å¼æ¯ä½¿ç¨é¢çè¾é«çè®¾è®¡æ¨¡å¼ä¹ä¸ã\n\nè§å¯èæ¨¡å¼åå«è§å¯ç®æ åè§å¯èä¸¤ç±»å¯¹è±¡ï¼ä¸ä¸ªç®æ å¯ä»¥æä»»ææ°ç®çä¸ä¹ç¸ä¾èµçè§å¯èï¼ä¸æ¦è§å¯ç®æ çç¶æåçæ¹åï¼ææçè§å¯èé½å°å¾å°éç¥ã\n\n\n# å®ä¹\n\nè§å¯èæ¨¡å¼(observer pattern)ï¼ å®ä¹å¯¹è±¡é´ä¸ç§ä¸å¯¹å¤çä¾èµå³ç³»ï¼ä½¿å¾å½æ¯ä¸ä¸ªå¯¹è±¡æ¹åç¶æï¼åææä¾èµäºå®çå¯¹è±¡é½ä¼å¾å°éç¥å¹¶èªå¨æ´æ°ã\n\nè§å¯èæ¨¡å¼æ¯ä¸ç§å¯¹è±¡è¡ä¸ºåæ¨¡å¼ã\n\nè§å¯èæ¨¡å¼çå«ååæ¬åå¸-è®¢éï¼publish/subscribeï¼æ¨¡å¼ãæ¨¡å-è§å¾ï¼model/viewï¼æ¨¡å¼ãæº-çå¬å¨ï¼source/listenerï¼æ¨¡å¼æä»å±èï¼dependentsï¼æ¨¡å¼ã\n\nç»ç©¶çè¯ï¼åå¸è®¢éåè§å¯èæäºä¸åï¼å¯ä»¥çè§£æåå¸è®¢éæ¨¡å¼å±äºå¹¿ä¹ä¸çè§å¯èæ¨¡å¼ã\n\n\n\n\n# è§è²\n\n * subjectï¼ç®æ ï¼ï¼è¢«è§å¯èï¼å®æ¯æè¢«è§å¯çå¯¹è±¡ã ä»ç±»å¾ä¸­å¯ä»¥çå°ï¼ç±»ä¸­æä¸ä¸ªç¨æ¥å­æ¾è§å¯èå¯¹è±¡çvector å®¹å¨ï¼vectorå¨æ¯å®å¨çï¼èliståæ¯ä¸å®å¨çï¼ï¼è¿ä¸ª vector å®¹å¨æ¯è¢«è§å¯èç±»çæ ¸å¿ï¼å¦å¤è¿æä¸ä¸ªæ¹æ³ï¼attach æ¹æ³æ¯åè¿ä¸ªå®¹å¨ä¸­æ·»å è§å¯èå¯¹è±¡ï¼detach æ¹æ³æ¯ä»å®¹å¨ä¸­ç§»é¤è§å¯èå¯¹è±¡ï¼notify æ¹æ³æ¯ä¾æ¬¡è°ç¨è§å¯èå¯¹è±¡çå¯¹åºæ¹æ³ãè¿ä¸ªè§è²å¯ä»¥æ¯æ¥å£ï¼ä¹å¯ä»¥æ¯æ½è±¡ç±»æèå·ä½çç±»ï¼å ä¸ºå¾å¤æåµä¸ä¼ä¸å¶ä»çæ¨¡å¼æ··ç¨ï¼æä»¥ä½¿ç¨æ½è±¡ç±»çæåµæ¯è¾å¤ã\n\n * concretesubjectï¼å·ä½ç®æ ï¼ï¼å·ä½ç®æ æ¯ç®æ ç±»çå­ç±»ï¼éå¸¸å®åå«ç»å¸¸åçæ¹åçæ°æ®ï¼å½å®çç¶æåçæ¹åæ¶ï¼åå®çåä¸ªè§å¯èååºéç¥ãåæ¶å®è¿å®ç°äºå¨ç®æ ç±»ä¸­å®ä¹çæ½è±¡ä¸å¡é»è¾æ¹æ³ï¼å¦ææçè¯ï¼ãå¦ææ é¡»æ©å±ç®æ ç±»ï¼åå·ä½ç®æ ç±»å¯ä»¥çç¥ã\n\n * observerï¼è§å¯èï¼ï¼è§å¯èå°å¯¹è§å¯ç®æ çæ¹åååºååºï¼è§å¯èä¸è¬å®ä¹ä¸ºæ¥å£ï¼è¯¥æ¥å£å£°æäºæ´æ°æ°æ®çæ¹æ³ update()ï¼å æ­¤åç§°ä¸ºæ½è±¡è§å¯èã\n\n * concreteobserverï¼å·ä½è§å¯èï¼ï¼å¨å·ä½è§å¯èä¸­ç»´æ¤ä¸ä¸ªæåå·ä½ç®æ å¯¹è±¡çå¼ç¨ï¼å®å­å¨å·ä½è§å¯èçæå³ç¶æï¼è¿äºç¶æéè¦åå·ä½ç®æ çç¶æä¿æä¸è´ï¼å®å®ç°äºå¨æ½è±¡è§å¯è observer ä¸­å®ä¹ç update() æ¹æ³ãéå¸¸å¨å®ç°æ¶ï¼å¯ä»¥è°ç¨å·ä½ç®æ ç±»ç attach() æ¹æ³å°èªå·±æ·»å å°ç®æ ç±»çéåä¸­æéè¿ detach() æ¹æ³å°èªå·±ä»ç®æ ç±»çéåä¸­å é¤ã\n\n\n# ç±»å¾\n\n\n\nåè®°å½ä¸ uml ç±»å¾çæ³¨æäºé¡¹ï¼è¿éæç subject æ¯æ½è±¡æ¹æ³ï¼æä»¥ç¨***æä½***ï¼æ½è±¡æ¹æ³ä¹è¦ç¨æä½ï¼å·ä½çåç§ç®­å¤´æä¹ï¼æä¹åä¹æ»ç»è¿ãè®¾è®¡æ¨¡å¼åä¼ ââå­¦è®¾è®¡æ¨¡å¼åä½ è¦ç¥éè¿äºãï¼è¢«ç½ä¸åç§å¸å­æ¯å®³è¿çèªå·±ï¼è®¤çè®°å½~~~ï¼ã\n\n\n# å®ä¾\n\n1ãå®ä¹è§å¯èæ¥å£\n\ninterface observer {\n    public void update();\n}\n\n\n1\n2\n3\n\n\n2ãå®ä¹è¢«è§å¯è\n\nabstract class subject {\n    private vector<observer> obs = new vector();\n\n    public void addobserver(observer obs){\n        this.obs.add(obs);\n    }\n    public void delobserver(observer obs){\n        this.obs.remove(obs);\n    }\n    protected void notifyobserver(){\n        for(observer o: obs){\n            o.update();\n        }\n    }\n    public abstract void dosomething();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n3ãå·ä½çè¢«è§å¯è\n\nclass concretesubject extends subject {\n    public void dosomething(){\n        system.out.println("è¢«è§å¯èäºä»¶åçæ¹å");\n        this.notifyobserver();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n4ãå·ä½çè§å¯è\n\nclass concreteobserver1 implements observer {\n    public void update() {\n        system.out.println("è§å¯è1æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç");\n    }\n}\nclass concreteobserver2 implements observer {\n    public void update() {\n        system.out.println("è§å¯è2æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n5ãå®¢æ·ç«¯\n\npublic class client {\n    public static void main(string[] args){\n        subject sub = new concretesubject();\n        sub.addobserver(new concreteobserver1()); //æ·»å è§å¯è1\n        sub.addobserver(new concreteobserver2()); //æ·»å è§å¯è2\n        sub.dosomething();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè¾åº\n\nè¢«è§å¯èäºä»¶åçæ¹å\nè§å¯è1æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç\nè§å¯è2æ¶å°ä¿¡æ¯ï¼å¹¶è¿è¡å¤ç\n\n\n1\n2\n3\n\n\néè¿è¿è¡ç»æå¯ä»¥çå°ï¼æä»¬åªè°ç¨äº subject çæ¹æ³ï¼ä½åæ¶ä¸¤ä¸ªè§å¯èçç¸å³æ¹æ³é½è¢«è°ç¨äºãä»ç»çä¸ä¸ä»£ç ï¼å¶å®å¾ç®åï¼å°±æ¯å¨ subject ç±»ä¸­å³èä¸ä¸ observer ç±»ï¼å¹¶ä¸å¨ dosomething() æ¹æ³ä¸­éåä¸ä¸ observer ç update() æ¹æ³å°±è¡äºã\n\n\n# ä¼ç¼ºç¹\n\n\n# ä¼ç¹\n\néä½äºç®æ ä¸è§å¯èä¹é´çè¦åå³ç³»ï¼ä¸¤èä¹é´æ¯æ½è±¡è¦åå³ç³» ç®æ ä¸è§å¯èä¹é´å»ºç«äºä¸å¥è§¦åæºå¶ æ¯æå¹¿æ­éä¿¡ ç¬¦åâå¼é­ååâçè¦æ±\n\n\n# ç¼ºç¹\n\nç®æ ä¸è§å¯èä¹é´çä¾èµå³ç³»å¹¶æ²¡æå®å¨è§£é¤ï¼èä¸æå¯è½åºç°å¾ªç¯å¼ç¨ å½è§å¯èå¯¹è±¡å¾å¤æ¶ï¼éç¥çåå¸ä¼è±è´¹å¾å¤æ¶é´ï¼å½±åç¨åºçæç\n\n\n# åºç¨\n\n\n# jdk ä¸­çè§å¯èæ¨¡å¼\n\nè§å¯èæ¨¡å¼å¨ java è¯­è¨ä¸­çå°ä½éå¸¸éè¦ãå¨ jdk ç java.util åä¸­ï¼æä¾äº observable ç±»ä»¥å observer æ¥å£ï¼å®ä»¬ææäº jdk å¯¹è§å¯èæ¨¡å¼çæ¯æï¼å¯ä»¥å»æ¥çä¸æºç ï¼åçæ¯è¾ä¸¥è°¨ï¼ãbutï¼å¨ java9 è¢«å¼ç¨äºã\n\n\n# spring ä¸­çè§å¯èæ¨¡å¼\n\nspring äºä»¶é©±å¨æ¨¡åä¹æ¯è§å¯èæ¨¡å¼å¾ç»å¸çåºç¨ãå°±æ¯æä»¬é¡¹ç®ä¸­æå¸¸è§çäºä»¶çå¬å¨ã\n\n# 1. spring ä¸­è§å¯èæ¨¡å¼çåä¸ªè§è²\n\n * äºä»¶ï¼applicationevent æ¯ææäºä»¶å¯¹è±¡çç¶ç±»ãapplicationevent ç»§æ¿èª jdk ç eventobjectï¼ææçäºä»¶é½éè¦ç»§æ¿ applicationeventï¼å¹¶ä¸éè¿ source å¾å°äºä»¶æºã\n\n * spring ä¹ä¸ºæä»¬æä¾äºå¾å¤åç½®äºä»¶ï¼contextrefreshedeventãcontextstartedeventãcontextstoppedeventãcontextclosedeventãrequesthandledeventã\n\n * äºä»¶çå¬ï¼applicationlistenerï¼ä¹å°±æ¯è§å¯èï¼ç»§æ¿èª jdk ç eventlistenerï¼è¯¥ç±»ä¸­åªæä¸ä¸ªæ¹æ³ onapplicationeventãå½çå¬çäºä»¶åçåè¯¥æ¹æ³ä¼è¢«æ§è¡ã\n\n * äºä»¶æºï¼applicationcontextï¼applicationcontext æ¯ spring ä¸­çæ ¸å¿å®¹å¨ï¼å¨äºä»¶çå¬ä¸­ applicationcontext å¯ä»¥ä½ä¸ºäºä»¶çåå¸èï¼ä¹å°±æ¯äºä»¶æºãå ä¸º applicationcontext ç»§æ¿èª applicationeventpublisherãå¨ applicationeventpublisher ä¸­å®ä¹äºäºä»¶åå¸çæ¹æ³ï¼publishevent(object event)\n\n * äºä»¶ç®¡çï¼applicationeventmulticasterï¼ç¨äºäºä»¶çå¬å¨çæ³¨ååäºä»¶çå¹¿æ­ãçå¬å¨çæ³¨åå°±æ¯éè¿å®æ¥å®ç°çï¼å®çä½ç¨æ¯æ applicationcontext åå¸ç event å¹¿æ­ç»å®ççå¬å¨åè¡¨ã\n\n# 2. coding~~~~~~\n\n1ãå®ä¹äºä»¶\n\npublic class myevent extends applicationevent {\n    public myevent(object source) {\n        super(source);\n        system.out.println("my event");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãå®ç°äºä»¶çå¬å¨\n\n@component\nclass mylistenera implements applicationlistener<myevent> {\n    public void onapplicationevent(myevent ayevent) {\n        system.out.println("listenera received");\n    }\n}\n\n@component\nclass mylistenerb implements applicationlistener<myevent> {\n    public void onapplicationevent(myevent ayevent) {\n        system.out.println("listenerb received");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n3ãäºä»¶åå¸è\n\n@component\npublic class mypublisher implements applicationcontextaware {\n    private applicationcontext applicationcontext;\n    \n    public void setapplicationcontext(applicationcontext applicationcontext) throws beansexception {\n        this.applicationcontext=applicationcontext;\n    }\n    \n    public void publishevent(applicationevent event){\n        system.out.println("publish event");\n        applicationcontext.publishevent(event);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n4ãæµè¯ï¼åç¨æ³¨è§£æ¹å¼å° mypublisher æ³¨å¥ spring\n\n@configuration\n@componentscan\npublic class appconfig {\n\n    @bean(name = "mypublisher")\n    public mypublisher mypublisher(){\n        return new mypublisher();\n    }\n}\npublic class client {\n\n    @test\n    public void main() {\n        applicationcontext context = new annotationconfigapplicationcontext(appconfig.class);\n        mypublisher mypublisher = (mypublisher) context.getbean("mypublisher");\n        mypublisher.publishevent(new myevent(this));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n5ãè¾åº\n\nmy event\npublish event\nlistenera received\nlistenerb received\n\n\n1\n2\n3\n4\n',charsets:{cjk:!0},lastUpdated:"2022/09/20, 23:34:59",lastUpdatedTimestamp:1663688099e3},{title:"ç®è¿°å¸¸è§ç HTTP ç¶æç çå«ä¹",frontmatter:{title:"ç®è¿°å¸¸è§ç HTTP ç¶æç çå«ä¹",date:"2022-06-23T21:09:29.000Z",permalink:"/pages/f33310/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/010.%E7%AE%80%E8%BF%B0%E5%B8%B8%E8%A7%81%E7%9A%84%20HTTP%20%E7%8A%B6%E6%80%81%E7%A0%81%E7%9A%84%E5%90%AB%E4%B9%89.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/010.ç®è¿°å¸¸è§ç HTTP ç¶æç çå«ä¹.md",key:"v-0a1d1fb4",path:"/pages/f33310/",headers:[{level:2,title:"2XX æå",slug:"_2xx-æå",normalizedTitle:"2xx æå",charIndex:2},{level:2,title:"3XX éå®å",slug:"_3xx-éå®å",normalizedTitle:"3xx éå®å",charIndex:109},{level:2,title:"4XX å®¢æ·ç«¯éè¯¯",slug:"_4xx-å®¢æ·ç«¯éè¯¯",normalizedTitle:"4xx å®¢æ·ç«¯éè¯¯",charIndex:333},{level:2,title:"5XX æå¡å¨éè¯¯",slug:"_5xx-æå¡å¨éè¯¯",normalizedTitle:"5xx æå¡å¨éè¯¯",charIndex:483}],headersStr:"2XX æå 3XX éå®å 4XX å®¢æ·ç«¯éè¯¯ 5XX æå¡å¨éè¯¯",content:"# 2XX æå\n\n200 OKï¼è¡¨ç¤ºä»å®¢æ·ç«¯åæ¥çè¯·æ±å¨æå¡å¨ç«¯è¢«æ­£ç¡®å¤ç\n\n204 No contentï¼è¡¨ç¤ºè¯·æ±æåï¼ä½ååºæ¥æä¸å«å®ä½çä¸»ä½é¨å\n\n206 Partial Contentï¼è¿è¡èå´è¯·æ±\n\n\n# 3XX éå®å\n\n301 moved permanentlyï¼æ°¸ä¹æ§éå®åï¼è¡¨ç¤ºèµæºå·²è¢«åéäºæ°ç URL\n\n302 foundï¼ä¸´æ¶æ§éå®åï¼è¡¨ç¤ºèµæºä¸´æ¶è¢«åéäºæ°ç URL\n\n303 see otherï¼è¡¨ç¤ºèµæºå­å¨çå¦ä¸ä¸ª URLï¼åºä½¿ç¨ GET æ¹æ³å®åè·åèµæº\n\n304 not modifiedï¼è¡¨ç¤ºæå¡å¨åè®¸è®¿é®èµæºï¼ä½å åçè¯·æ±æªæ»¡è¶³æ¡ä»¶çæåµ\n\n307 temporary redirectï¼ä¸´æ¶éå®åï¼å302å«ä¹ç¸å\n\n\n# 4XX å®¢æ·ç«¯éè¯¯\n\n400 bad requestï¼è¯·æ±æ¥æå­å¨è¯­æ³éè¯¯\n\n401 unauthorizedï¼è¡¨ç¤ºåéçè¯·æ±éè¦æéè¿ HTTP è®¤è¯çè®¤è¯ä¿¡æ¯\n\n403 forbiddenï¼è¡¨ç¤ºå¯¹è¯·æ±èµæºçè®¿é®è¢«æå¡å¨æç»\n\n404 not foundï¼è¡¨ç¤ºå¨æå¡å¨ä¸æ²¡ææ¾å°è¯·æ±çèµæº\n\n\n# 5XX æå¡å¨éè¯¯\n\n500 internal sever errorï¼è¡¨ç¤ºæå¡å¨ç«¯å¨æ§è¡è¯·æ±æ¶åçäºéè¯¯\n\n503 service unavailableï¼è¡¨ææå¡å¨ææ¶å¤äºè¶è´è½½ææ­£å¨åæºç»´æ¤ï¼æ æ³å¤çè¯·æ±",normalizedContent:"# 2xx æå\n\n200 okï¼è¡¨ç¤ºä»å®¢æ·ç«¯åæ¥çè¯·æ±å¨æå¡å¨ç«¯è¢«æ­£ç¡®å¤ç\n\n204 no contentï¼è¡¨ç¤ºè¯·æ±æåï¼ä½ååºæ¥æä¸å«å®ä½çä¸»ä½é¨å\n\n206 partial contentï¼è¿è¡èå´è¯·æ±\n\n\n# 3xx éå®å\n\n301 moved permanentlyï¼æ°¸ä¹æ§éå®åï¼è¡¨ç¤ºèµæºå·²è¢«åéäºæ°ç url\n\n302 foundï¼ä¸´æ¶æ§éå®åï¼è¡¨ç¤ºèµæºä¸´æ¶è¢«åéäºæ°ç url\n\n303 see otherï¼è¡¨ç¤ºèµæºå­å¨çå¦ä¸ä¸ª urlï¼åºä½¿ç¨ get æ¹æ³å®åè·åèµæº\n\n304 not modifiedï¼è¡¨ç¤ºæå¡å¨åè®¸è®¿é®èµæºï¼ä½å åçè¯·æ±æªæ»¡è¶³æ¡ä»¶çæåµ\n\n307 temporary redirectï¼ä¸´æ¶éå®åï¼å302å«ä¹ç¸å\n\n\n# 4xx å®¢æ·ç«¯éè¯¯\n\n400 bad requestï¼è¯·æ±æ¥æå­å¨è¯­æ³éè¯¯\n\n401 unauthorizedï¼è¡¨ç¤ºåéçè¯·æ±éè¦æéè¿ http è®¤è¯çè®¤è¯ä¿¡æ¯\n\n403 forbiddenï¼è¡¨ç¤ºå¯¹è¯·æ±èµæºçè®¿é®è¢«æå¡å¨æç»\n\n404 not foundï¼è¡¨ç¤ºå¨æå¡å¨ä¸æ²¡ææ¾å°è¯·æ±çèµæº\n\n\n# 5xx æå¡å¨éè¯¯\n\n500 internal sever errorï¼è¡¨ç¤ºæå¡å¨ç«¯å¨æ§è¡è¯·æ±æ¶åçäºéè¯¯\n\n503 service unavailableï¼è¡¨ææå¡å¨ææ¶å¤äºè¶è´è½½ææ­£å¨åæºç»´æ¤ï¼æ æ³å¤çè¯·æ±",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿° TCP ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æçæµç¨ãä¸ºä»ä¹éè¦ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æï¼",frontmatter:{title:"ç®è¿° TCP ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æçæµç¨ãä¸ºä»ä¹éè¦ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æï¼",date:"2022-03-11T00:51:01.000Z",permalink:"/pages/e00207/",categories:["è®¡ç®æºåºç¡","HTML"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/01.%E7%AE%80%E8%BF%B0%20TCP%20%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%BB%A5%E5%8F%8A%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/01.ç®è¿° TCP ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æ.md",key:"v-470b2fce",path:"/pages/e00207/",headers:[{level:2,title:"å»ºç«è¿æ¥-TCP ä¸æ¬¡æ¡æ",slug:"å»ºç«è¿æ¥-tcp-ä¸æ¬¡æ¡æ",normalizedTitle:"å»ºç«è¿æ¥-tcp ä¸æ¬¡æ¡æ",charIndex:37},{level:2,title:"ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ?",slug:"ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ",normalizedTitle:"ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ?",charIndex:357},{level:2,title:"ç¬¬2æ¬¡æ¡æä¼ åäºACKï¼ä¸ºä»ä¹è¿è¦ä¼ åSYNï¼",slug:"ç¬¬2æ¬¡æ¡æä¼ åäºack-ä¸ºä»ä¹è¿è¦ä¼ åsyn",normalizedTitle:"ç¬¬2æ¬¡æ¡æä¼ åäºackï¼ä¸ºä»ä¹è¿è¦ä¼ åsynï¼",charIndex:695},{level:2,title:"æ­å¼è¿æ¥-TCP åæ¬¡æ¥æ",slug:"æ­å¼è¿æ¥-tcp-åæ¬¡æ¥æ",normalizedTitle:"æ­å¼è¿æ¥-tcp åæ¬¡æ¥æ",charIndex:1036},{level:2,title:"ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼",slug:"ä¸ºä»ä¹è¦åæ¬¡æ¥æ",normalizedTitle:"ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼",charIndex:1546},{level:2,title:"ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ACK å FIN åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼",slug:"ä¸ºä»ä¹ä¸è½ææå¡å¨åéç-ack-å-fin-åå¹¶èµ·æ¥-åæä¸æ¬¡æ¥æ",normalizedTitle:"ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ack å fin åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼",charIndex:1846},{level:2,title:"å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ACK æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼",slug:"å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç-ack-æ²¡æéè¾¾å®¢æ·ç«¯-ä¼ææ ·",normalizedTitle:"å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ack æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼",charIndex:1974},{level:2,title:"ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*MSLï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ CLOSED ç¶æï¼",slug:"ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾-2-msl-æ¥ææ®µæé¿å¯¿å½-æ¶é´åæè¿å¥-closed-ç¶æ",normalizedTitle:"ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*mslï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ closed ç¶æï¼",charIndex:2038},{level:2,title:"é¢è¯å®å¯è½é®ä½ è¿äºé®é¢",slug:"é¢è¯å®å¯è½é®ä½ è¿äºé®é¢",normalizedTitle:"é¢è¯å®å¯è½é®ä½ è¿äºé®é¢",charIndex:2373}],headersStr:"å»ºç«è¿æ¥-TCP ä¸æ¬¡æ¡æ ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ? ç¬¬2æ¬¡æ¡æä¼ åäºACKï¼ä¸ºä»ä¹è¿è¦ä¼ åSYNï¼ æ­å¼è¿æ¥-TCP åæ¬¡æ¥æ ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼ ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ACK å FIN åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼ å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ACK æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼ ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*MSLï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ CLOSED ç¶æï¼ é¢è¯å®å¯è½é®ä½ è¿äºé®é¢",content:"ä¸ºäºåç¡®æ è¯¯å°ææ°æ®éè¾¾ç®æ å¤ï¼TCP åè®®éç¨äºä¸æ¬¡æ¡æç­ç¥ã\n\n\n# å»ºç«è¿æ¥-TCP ä¸æ¬¡æ¡æ\n\nTCP ä¸æ¬¡æ¡æå¾è§£\n\n\n\nå»ºç«ä¸ä¸ª TCP è¿æ¥éè¦âä¸æ¬¡æ¡æâï¼ç¼ºä¸ä¸å¯ ï¼\n\n * ä¸æ¬¡æ¡æ:å®¢æ·ç«¯åéå¸¦æ SYNï¼SEQ=xï¼ æ å¿çæ°æ®å -> æå¡ç«¯ï¼ç¶åå®¢æ·ç«¯è¿å¥ SYN_SEND ç¶æï¼ç­å¾æå¡å¨çç¡®è®¤ï¼\n * äºæ¬¡æ¡æ:æå¡ç«¯åéå¸¦æ SYN+ACK(SEQ=y,ACK=x+1) æ å¿çæ°æ®å â> å®¢æ·ç«¯,ç¶åæå¡ç«¯è¿å¥ SYN_RECV ç¶æ\n * ä¸æ¬¡æ¡æ:å®¢æ·ç«¯åéå¸¦æå¸¦æ ACK(ACK=y+1) æ å¿çæ°æ®å â> æå¡ç«¯ï¼ç¶åå®¢æ·ç«¯åæå¡å¨ç«¯é½è¿å¥ESTABLISHED ç¶æï¼å®æTCPä¸æ¬¡æ¡æã\n\nå½å»ºç«äº 3 æ¬¡æ¡æä¹åï¼å®¢æ·ç«¯åæå¡ç«¯å°±å¯ä»¥ä¼ è¾æ°æ®å¦ï¼\n\n\n# ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ?\n\nä¸æ¬¡æ¡æçç®çæ¯å»ºç«å¯é çéä¿¡ä¿¡éï¼è¯´å°éè®¯ï¼ç®åæ¥è¯´å°±æ¯æ°æ®çåéä¸æ¥æ¶ï¼èä¸æ¬¡æ¡ææä¸»è¦çç®çå°±æ¯åæ¹ç¡®è®¤èªå·±ä¸å¯¹æ¹çåéä¸æ¥æ¶æ¯æ­£å¸¸çã\n\n * ç¬¬ä¸æ¬¡æ¡æ ï¼Client ä»ä¹é½ä¸è½ç¡®è®¤ï¼Server ç¡®è®¤äºå¯¹æ¹åéæ­£å¸¸ï¼èªå·±æ¥æ¶æ­£å¸¸\n * ç¬¬äºæ¬¡æ¡æ ï¼Client ç¡®è®¤äºï¼èªå·±åéãæ¥æ¶æ­£å¸¸ï¼å¯¹æ¹åéãæ¥æ¶æ­£å¸¸ï¼Server ç¡®è®¤äºï¼å¯¹æ¹åéæ­£å¸¸ï¼èªå·±æ¥æ¶æ­£å¸¸\n * ç¬¬ä¸æ¬¡æ¡æ ï¼Client ç¡®è®¤äºï¼èªå·±åéãæ¥æ¶æ­£å¸¸ï¼å¯¹æ¹åéãæ¥æ¶æ­£å¸¸ï¼Server ç¡®è®¤äºï¼èªå·±åéãæ¥æ¶æ­£å¸¸ï¼å¯¹æ¹åéãæ¥æ¶æ­£å¸¸\n\nä¸æ¬¡æ¡æå°±è½ç¡®è®¤ååæ¶ååè½é½æ­£å¸¸ï¼ç¼ºä¸ä¸å¯ã\n\næ´è¯¦ç»çè§£ç­å¯ä»¥çè¿ä¸ªï¼TCP ä¸ºä»ä¹æ¯ä¸æ¬¡æ¡æï¼èä¸æ¯ä¸¤æ¬¡æåæ¬¡ï¼ ã\n\n\n# ç¬¬2æ¬¡æ¡æä¼ åäºACKï¼ä¸ºä»ä¹è¿è¦ä¼ åSYNï¼\n\næå¡ç«¯ä¼ ååéç«¯æåéç ACK æ¯ä¸ºäºåè¯å®¢æ·ç«¯ï¼âææ¥æ¶å°çä¿¡æ¯ç¡®å®å°±æ¯ä½ æåéçä¿¡å·äºâï¼è¿è¡¨æä»å®¢æ·ç«¯å°æå¡ç«¯çéä¿¡æ¯æ­£å¸¸çãåä¼  SYN åæ¯ä¸ºäºå»ºç«å¹¶ç¡®è®¤ä»æå¡ç«¯å°å®¢æ·ç«¯çéä¿¡ã\n\n> SYN åæ­¥åºåç¼å·(Synchronize Sequence Numbers) æ¯ TCP/IP å»ºç«è¿æ¥æ¶ä½¿ç¨çæ¡æä¿¡å·ãå¨å®¢æ·æºåæå¡å¨ä¹é´å»ºç«æ­£å¸¸ç TCP ç½ç»è¿æ¥æ¶ï¼å®¢æ·æºé¦åååºä¸ä¸ª SYN æ¶æ¯ï¼æå¡å¨ä½¿ç¨ SYN-ACK åºç­è¡¨ç¤ºæ¥æ¶å°äºè¿ä¸ªæ¶æ¯ï¼æåå®¢æ·æºåä»¥ ACK(Acknowledgementï¼æ¶æ¯ååºãè¿æ ·å¨å®¢æ·æºåæå¡å¨ä¹é´æè½å»ºç«èµ·å¯é ç TCP è¿æ¥ï¼æ°æ®æå¯ä»¥å¨å®¢æ·æºåæå¡å¨ä¹é´ä¼ éã\n\n\n# æ­å¼è¿æ¥-TCP åæ¬¡æ¥æ\n\nTCP åæ¬¡æ¥æå¾è§£\n\n\n\næ­å¼ä¸ä¸ª TCP è¿æ¥åéè¦âåæ¬¡æ¥æâï¼ç¼ºä¸ä¸å¯ ï¼\n\n * ç¬¬ä¸æ¬¡æ¥æ ï¼å®¢æ·ç«¯åéä¸ä¸ª FINï¼SEQ=Xï¼ æ å¿çæ°æ®å->æå¡ç«¯ï¼ç¨æ¥å³é­å®¢æ·ç«¯å°æå¡å¨çæ°æ®ä¼ éãç¶åï¼å®¢æ·ç«¯è¿å¥ FIN-WAIT-1 ç¶æã\n * ç¬¬äºæ¬¡æ¥æ ï¼æå¡å¨æ¶å°è¿ä¸ª FINï¼SEQ=Xï¼ æ å¿çæ°æ®åï¼å®åéä¸ä¸ª ACK ï¼SEQ=X+1ï¼æ å¿çæ°æ®å->å®¢æ·ç«¯ ãç¶åï¼æ­¤æ¶æå¡ç«¯è¿å¥CLOSE-WAITç¶æï¼å®¢æ·ç«¯è¿å¥FIN-WAIT-2ç¶æã\n * ç¬¬ä¸æ¬¡æ¥æ ï¼æå¡ç«¯å³é­ä¸å®¢æ·ç«¯çè¿æ¥å¹¶åéä¸ä¸ª FIN (SEQ=y)æ å¿çæ°æ®å->å®¢æ·ç«¯è¯·æ±å³é­è¿æ¥ï¼ç¶åï¼æå¡ç«¯è¿å¥LAST-ACKç¶æã\n * ç¬¬åæ¬¡æ¥æ ï¼å®¢æ·ç«¯åé ACK (SEQ=y+1)æ å¿çæ°æ®å->æå¡ç«¯å¹¶ä¸è¿å¥TIME-WAITç¶æï¼æå¡ç«¯å¨æ¶å° ACK (SEQ=y+1)æ å¿çæ°æ®ååè¿å¥ CLOSE ç¶æãæ­¤æ¶ï¼å¦æå®¢æ·ç«¯ç­å¾ 2MSL åä¾ç¶æ²¡ææ¶å°åå¤ï¼å°±è¯ææå¡ç«¯å·²æ­£å¸¸å³é­ï¼éåï¼å®¢æ·ç«¯ä¹å¯ä»¥å³é­è¿æ¥äºã\n\nåªè¦åæ¬¡æ¥ææ²¡æç»æï¼å®¢æ·ç«¯åæå¡ç«¯å°±å¯ä»¥ç»§ç»­ä¼ è¾æ°æ®ï¼\n\n\n# ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼\n\nTCPæ¯å¨åå·¥éä¿¡ï¼å¯ä»¥ååä¼ è¾æ°æ®ãä»»ä½ä¸æ¹é½å¯ä»¥å¨æ°æ®ä¼ éç»æåååºè¿æ¥éæ¾çéç¥ï¼å¾å¯¹æ¹ç¡®è®¤åè¿å¥åå³é­ç¶æãå½å¦ä¸æ¹ä¹æ²¡ææ°æ®ååéçæ¶åï¼åååºè¿æ¥éæ¾éç¥ï¼å¯¹æ¹ç¡®è®¤åå°±å®å¨å³é­äº TCP è¿æ¥ã\n\nä¸¾ä¸ªä¾å­ï¼A å B æçµè¯ï¼éè¯å³å°ç»æåã\n\n 1. ç¬¬ä¸æ¬¡æ¥æ ï¼ A è¯´âææ²¡å¥è¦è¯´çäºâ\n 2. ç¬¬äºæ¬¡æ¥æ ï¼B åç­âæç¥éäºâï¼ä½æ¯ B å¯è½è¿ä¼æè¦è¯´çè¯ï¼A ä¸è½è¦æ± B è·çèªå·±çèå¥ç»æéè¯\n 3. ç¬¬ä¸æ¬¡æ¥æ ï¼äºæ¯ B å¯è½åå·´æå·´æè¯´äºä¸éï¼æå B è¯´âæè¯´å®äºâ\n 4. ç¬¬åæ¬¡æ¥æ ï¼A åç­âç¥éäºâï¼è¿æ ·éè¯æç®ç»æã\n\n\n# ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ACK å FIN åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼\n\nå ä¸ºæå¡å¨æ¶å°å®¢æ·ç«¯æ­å¼è¿æ¥çè¯·æ±æ¶ï¼å¯è½è¿æä¸äºæ°æ®æ²¡æåå®ï¼è¿æ¶ååå¤ ACKï¼è¡¨ç¤ºæ¥æ¶å°äºæ­å¼è¿æ¥çè¯·æ±ãç­å°æ°æ®åå®ä¹ååå FINï¼æ­å¼æå¡å¨å°å®¢æ·ç«¯çæ°æ®ä¼ éã\n\n\n# å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ACK æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼\n\nå®¢æ·ç«¯æ²¡ææ¶å° ACK ç¡®è®¤ï¼ä¼éæ°åé FIN è¯·æ±ã\n\n\n# ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*MSLï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ CLOSED ç¶æï¼\n\nç¬¬åæ¬¡æ¥ææ¶ï¼å®¢æ·ç«¯åéç»æå¡å¨ç ACK æå¯è½ä¸¢å¤±ï¼å¦ææå¡ç«¯æ²¡æå ä¸ºæäºåå èæ²¡ææ¶å° ACK çè¯ï¼æå¡ç«¯å°±ä¼éå FINï¼å¦æå®¢æ·ç«¯å¨ 2*MSL çæ¶é´åæ¶å°äº FINï¼å°±ä¼éæ°åé ACK å¹¶åæ¬¡ç­å¾ 2MSLï¼é²æ­¢ Server æ²¡ææ¶å° ACK èä¸æ­éå FINã\n\nMSL(Maximum Segment Lifetime) : ä¸ä¸ªçæ®µå¨ç½ç»ä¸­æå¤§çå­æ´»æ¶é´ï¼2MSL å°±æ¯ä¸ä¸ªåéåä¸ä¸ªåå¤æéçæå¤§æ¶é´ãå¦æç´å° 2MSLï¼Client é½æ²¡æåæ¬¡æ¶å° FINï¼é£ä¹ Client æ¨æ­ ACK å·²ç»è¢«æåæ¥æ¶ï¼åç»æ TCP è¿æ¥ã\n\n\n# é¢è¯å®å¯è½é®ä½ è¿äºé®é¢\n\n * ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ?\n * ç¬¬ 2 æ¬¡æ¡æä¼ åäºACKï¼ä¸ºä»ä¹è¿è¦ä¼ åSYNï¼\n * ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼\n * ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ACK å FIN åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼\n * å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ACK æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼\n * ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*MSLï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ CLOSED ç¶æï¼",normalizedContent:"ä¸ºäºåç¡®æ è¯¯å°ææ°æ®éè¾¾ç®æ å¤ï¼tcp åè®®éç¨äºä¸æ¬¡æ¡æç­ç¥ã\n\n\n# å»ºç«è¿æ¥-tcp ä¸æ¬¡æ¡æ\n\ntcp ä¸æ¬¡æ¡æå¾è§£\n\n\n\nå»ºç«ä¸ä¸ª tcp è¿æ¥éè¦âä¸æ¬¡æ¡æâï¼ç¼ºä¸ä¸å¯ ï¼\n\n * ä¸æ¬¡æ¡æ:å®¢æ·ç«¯åéå¸¦æ synï¼seq=xï¼ æ å¿çæ°æ®å -> æå¡ç«¯ï¼ç¶åå®¢æ·ç«¯è¿å¥ syn_send ç¶æï¼ç­å¾æå¡å¨çç¡®è®¤ï¼\n * äºæ¬¡æ¡æ:æå¡ç«¯åéå¸¦æ syn+ack(seq=y,ack=x+1) æ å¿çæ°æ®å â> å®¢æ·ç«¯,ç¶åæå¡ç«¯è¿å¥ syn_recv ç¶æ\n * ä¸æ¬¡æ¡æ:å®¢æ·ç«¯åéå¸¦æå¸¦æ ack(ack=y+1) æ å¿çæ°æ®å â> æå¡ç«¯ï¼ç¶åå®¢æ·ç«¯åæå¡å¨ç«¯é½è¿å¥established ç¶æï¼å®ætcpä¸æ¬¡æ¡æã\n\nå½å»ºç«äº 3 æ¬¡æ¡æä¹åï¼å®¢æ·ç«¯åæå¡ç«¯å°±å¯ä»¥ä¼ è¾æ°æ®å¦ï¼\n\n\n# ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ?\n\nä¸æ¬¡æ¡æçç®çæ¯å»ºç«å¯é çéä¿¡ä¿¡éï¼è¯´å°éè®¯ï¼ç®åæ¥è¯´å°±æ¯æ°æ®çåéä¸æ¥æ¶ï¼èä¸æ¬¡æ¡ææä¸»è¦çç®çå°±æ¯åæ¹ç¡®è®¤èªå·±ä¸å¯¹æ¹çåéä¸æ¥æ¶æ¯æ­£å¸¸çã\n\n * ç¬¬ä¸æ¬¡æ¡æ ï¼client ä»ä¹é½ä¸è½ç¡®è®¤ï¼server ç¡®è®¤äºå¯¹æ¹åéæ­£å¸¸ï¼èªå·±æ¥æ¶æ­£å¸¸\n * ç¬¬äºæ¬¡æ¡æ ï¼client ç¡®è®¤äºï¼èªå·±åéãæ¥æ¶æ­£å¸¸ï¼å¯¹æ¹åéãæ¥æ¶æ­£å¸¸ï¼server ç¡®è®¤äºï¼å¯¹æ¹åéæ­£å¸¸ï¼èªå·±æ¥æ¶æ­£å¸¸\n * ç¬¬ä¸æ¬¡æ¡æ ï¼client ç¡®è®¤äºï¼èªå·±åéãæ¥æ¶æ­£å¸¸ï¼å¯¹æ¹åéãæ¥æ¶æ­£å¸¸ï¼server ç¡®è®¤äºï¼èªå·±åéãæ¥æ¶æ­£å¸¸ï¼å¯¹æ¹åéãæ¥æ¶æ­£å¸¸\n\nä¸æ¬¡æ¡æå°±è½ç¡®è®¤ååæ¶ååè½é½æ­£å¸¸ï¼ç¼ºä¸ä¸å¯ã\n\næ´è¯¦ç»çè§£ç­å¯ä»¥çè¿ä¸ªï¼tcp ä¸ºä»ä¹æ¯ä¸æ¬¡æ¡æï¼èä¸æ¯ä¸¤æ¬¡æåæ¬¡ï¼ ã\n\n\n# ç¬¬2æ¬¡æ¡æä¼ åäºackï¼ä¸ºä»ä¹è¿è¦ä¼ åsynï¼\n\næå¡ç«¯ä¼ ååéç«¯æåéç ack æ¯ä¸ºäºåè¯å®¢æ·ç«¯ï¼âææ¥æ¶å°çä¿¡æ¯ç¡®å®å°±æ¯ä½ æåéçä¿¡å·äºâï¼è¿è¡¨æä»å®¢æ·ç«¯å°æå¡ç«¯çéä¿¡æ¯æ­£å¸¸çãåä¼  syn åæ¯ä¸ºäºå»ºç«å¹¶ç¡®è®¤ä»æå¡ç«¯å°å®¢æ·ç«¯çéä¿¡ã\n\n> syn åæ­¥åºåç¼å·(synchronize sequence numbers) æ¯ tcp/ip å»ºç«è¿æ¥æ¶ä½¿ç¨çæ¡æä¿¡å·ãå¨å®¢æ·æºåæå¡å¨ä¹é´å»ºç«æ­£å¸¸ç tcp ç½ç»è¿æ¥æ¶ï¼å®¢æ·æºé¦åååºä¸ä¸ª syn æ¶æ¯ï¼æå¡å¨ä½¿ç¨ syn-ack åºç­è¡¨ç¤ºæ¥æ¶å°äºè¿ä¸ªæ¶æ¯ï¼æåå®¢æ·æºåä»¥ ack(acknowledgementï¼æ¶æ¯ååºãè¿æ ·å¨å®¢æ·æºåæå¡å¨ä¹é´æè½å»ºç«èµ·å¯é ç tcp è¿æ¥ï¼æ°æ®æå¯ä»¥å¨å®¢æ·æºåæå¡å¨ä¹é´ä¼ éã\n\n\n# æ­å¼è¿æ¥-tcp åæ¬¡æ¥æ\n\ntcp åæ¬¡æ¥æå¾è§£\n\n\n\næ­å¼ä¸ä¸ª tcp è¿æ¥åéè¦âåæ¬¡æ¥æâï¼ç¼ºä¸ä¸å¯ ï¼\n\n * ç¬¬ä¸æ¬¡æ¥æ ï¼å®¢æ·ç«¯åéä¸ä¸ª finï¼seq=xï¼ æ å¿çæ°æ®å->æå¡ç«¯ï¼ç¨æ¥å³é­å®¢æ·ç«¯å°æå¡å¨çæ°æ®ä¼ éãç¶åï¼å®¢æ·ç«¯è¿å¥ fin-wait-1 ç¶æã\n * ç¬¬äºæ¬¡æ¥æ ï¼æå¡å¨æ¶å°è¿ä¸ª finï¼seq=xï¼ æ å¿çæ°æ®åï¼å®åéä¸ä¸ª ack ï¼seq=x+1ï¼æ å¿çæ°æ®å->å®¢æ·ç«¯ ãç¶åï¼æ­¤æ¶æå¡ç«¯è¿å¥close-waitç¶æï¼å®¢æ·ç«¯è¿å¥fin-wait-2ç¶æã\n * ç¬¬ä¸æ¬¡æ¥æ ï¼æå¡ç«¯å³é­ä¸å®¢æ·ç«¯çè¿æ¥å¹¶åéä¸ä¸ª fin (seq=y)æ å¿çæ°æ®å->å®¢æ·ç«¯è¯·æ±å³é­è¿æ¥ï¼ç¶åï¼æå¡ç«¯è¿å¥last-ackç¶æã\n * ç¬¬åæ¬¡æ¥æ ï¼å®¢æ·ç«¯åé ack (seq=y+1)æ å¿çæ°æ®å->æå¡ç«¯å¹¶ä¸è¿å¥time-waitç¶æï¼æå¡ç«¯å¨æ¶å° ack (seq=y+1)æ å¿çæ°æ®ååè¿å¥ close ç¶æãæ­¤æ¶ï¼å¦æå®¢æ·ç«¯ç­å¾ 2msl åä¾ç¶æ²¡ææ¶å°åå¤ï¼å°±è¯ææå¡ç«¯å·²æ­£å¸¸å³é­ï¼éåï¼å®¢æ·ç«¯ä¹å¯ä»¥å³é­è¿æ¥äºã\n\nåªè¦åæ¬¡æ¥ææ²¡æç»æï¼å®¢æ·ç«¯åæå¡ç«¯å°±å¯ä»¥ç»§ç»­ä¼ è¾æ°æ®ï¼\n\n\n# ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼\n\ntcpæ¯å¨åå·¥éä¿¡ï¼å¯ä»¥ååä¼ è¾æ°æ®ãä»»ä½ä¸æ¹é½å¯ä»¥å¨æ°æ®ä¼ éç»æåååºè¿æ¥éæ¾çéç¥ï¼å¾å¯¹æ¹ç¡®è®¤åè¿å¥åå³é­ç¶æãå½å¦ä¸æ¹ä¹æ²¡ææ°æ®ååéçæ¶åï¼åååºè¿æ¥éæ¾éç¥ï¼å¯¹æ¹ç¡®è®¤åå°±å®å¨å³é­äº tcp è¿æ¥ã\n\nä¸¾ä¸ªä¾å­ï¼a å b æçµè¯ï¼éè¯å³å°ç»æåã\n\n 1. ç¬¬ä¸æ¬¡æ¥æ ï¼ a è¯´âææ²¡å¥è¦è¯´çäºâ\n 2. ç¬¬äºæ¬¡æ¥æ ï¼b åç­âæç¥éäºâï¼ä½æ¯ b å¯è½è¿ä¼æè¦è¯´çè¯ï¼a ä¸è½è¦æ± b è·çèªå·±çèå¥ç»æéè¯\n 3. ç¬¬ä¸æ¬¡æ¥æ ï¼äºæ¯ b å¯è½åå·´æå·´æè¯´äºä¸éï¼æå b è¯´âæè¯´å®äºâ\n 4. ç¬¬åæ¬¡æ¥æ ï¼a åç­âç¥éäºâï¼è¿æ ·éè¯æç®ç»æã\n\n\n# ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ack å fin åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼\n\nå ä¸ºæå¡å¨æ¶å°å®¢æ·ç«¯æ­å¼è¿æ¥çè¯·æ±æ¶ï¼å¯è½è¿æä¸äºæ°æ®æ²¡æåå®ï¼è¿æ¶ååå¤ ackï¼è¡¨ç¤ºæ¥æ¶å°äºæ­å¼è¿æ¥çè¯·æ±ãç­å°æ°æ®åå®ä¹ååå finï¼æ­å¼æå¡å¨å°å®¢æ·ç«¯çæ°æ®ä¼ éã\n\n\n# å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ack æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼\n\nå®¢æ·ç«¯æ²¡ææ¶å° ack ç¡®è®¤ï¼ä¼éæ°åé fin è¯·æ±ã\n\n\n# ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*mslï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ closed ç¶æï¼\n\nç¬¬åæ¬¡æ¥ææ¶ï¼å®¢æ·ç«¯åéç»æå¡å¨ç ack æå¯è½ä¸¢å¤±ï¼å¦ææå¡ç«¯æ²¡æå ä¸ºæäºåå èæ²¡ææ¶å° ack çè¯ï¼æå¡ç«¯å°±ä¼éå finï¼å¦æå®¢æ·ç«¯å¨ 2*msl çæ¶é´åæ¶å°äº finï¼å°±ä¼éæ°åé ack å¹¶åæ¬¡ç­å¾ 2mslï¼é²æ­¢ server æ²¡ææ¶å° ack èä¸æ­éå finã\n\nmsl(maximum segment lifetime) : ä¸ä¸ªçæ®µå¨ç½ç»ä¸­æå¤§çå­æ´»æ¶é´ï¼2msl å°±æ¯ä¸ä¸ªåéåä¸ä¸ªåå¤æéçæå¤§æ¶é´ãå¦æç´å° 2mslï¼client é½æ²¡æåæ¬¡æ¶å° finï¼é£ä¹ client æ¨æ­ ack å·²ç»è¢«æåæ¥æ¶ï¼åç»æ tcp è¿æ¥ã\n\n\n# é¢è¯å®å¯è½é®ä½ è¿äºé®é¢\n\n * ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ?\n * ç¬¬ 2 æ¬¡æ¡æä¼ åäºackï¼ä¸ºä»ä¹è¿è¦ä¼ åsynï¼\n * ä¸ºä»ä¹è¦åæ¬¡æ¥æï¼\n * ä¸ºä»ä¹ä¸è½ææå¡å¨åéç ack å fin åå¹¶èµ·æ¥ï¼åæä¸æ¬¡æ¥æï¼\n * å¦æç¬¬äºæ¬¡æ¥ææ¶æå¡å¨ç ack æ²¡æéè¾¾å®¢æ·ç«¯ï¼ä¼ææ ·ï¼\n * ä¸ºä»ä¹ç¬¬åæ¬¡æ¥æå®¢æ·ç«¯éè¦ç­å¾ 2*mslï¼æ¥ææ®µæé¿å¯¿å½ï¼æ¶é´åæè¿å¥ closed ç¶æï¼",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ä»è¾å¥ URL å°å±ç°é¡µé¢çå¨è¿ç¨",frontmatter:{title:"ä»è¾å¥ URL å°å±ç°é¡µé¢çå¨è¿ç¨",date:"2022-06-23T21:10:44.000Z",permalink:"/pages/ab48ba/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/020.%E4%BB%8E%E8%BE%93%E5%85%A5%20URL%20%E5%88%B0%E5%B1%95%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/020.ä»è¾å¥ URL å°å±ç°é¡µé¢çå¨è¿ç¨.md",key:"v-6602e3da",path:"/pages/ab48ba/",headers:[{level:2,title:"æ»ä½æ¥è¯´åä¸ºä»¥ä¸å ä¸ªè¿ç¨ï¼",slug:"æ»ä½æ¥è¯´åä¸ºä»¥ä¸å ä¸ªè¿ç¨",normalizedTitle:"æ»ä½æ¥è¯´åä¸ºä»¥ä¸å ä¸ªè¿ç¨ï¼",charIndex:31},{level:2,title:"è¾å¥ç½å",slug:"è¾å¥ç½å",normalizedTitle:"è¾å¥ç½å",charIndex:49},{level:2,title:"DNSè§£æ",slug:"dnsè§£æ",normalizedTitle:"dnsè§£æ",charIndex:57},{level:3,title:"ä»ä¹æ¯IPå°å",slug:"ä»ä¹æ¯ipå°å",normalizedTitle:"ä»ä¹æ¯ipå°å",charIndex:459},{level:3,title:"ä»ä¹æ¯DNS",slug:"ä»ä¹æ¯dns",normalizedTitle:"ä»ä¹æ¯dns",charIndex:608},{level:3,title:"DNSè§£æ",slug:"dnsè§£æ-2",normalizedTitle:"dnsè§£æ",charIndex:57},{level:3,title:"DNSæ¥è¯¢çä¸¤ç§æ¹å¼ï¼éå½æ¥è¯¢åè¿­ä»£æ¥è¯¢",slug:"dnsæ¥è¯¢çä¸¤ç§æ¹å¼-éå½æ¥è¯¢åè¿­ä»£æ¥è¯¢",normalizedTitle:"dnsæ¥è¯¢çä¸¤ç§æ¹å¼ï¼éå½æ¥è¯¢åè¿­ä»£æ¥è¯¢",charIndex:752},{level:3,title:"DNSååç§°ç©ºé´çç»ç»æ¹å¼",slug:"dnsååç§°ç©ºé´çç»ç»æ¹å¼",normalizedTitle:"dnsååç§°ç©ºé´çç»ç»æ¹å¼",charIndex:788},{level:3,title:"DNSè´è½½åè¡¡",slug:"dnsè´è½½åè¡¡",normalizedTitle:"dnsè´è½½åè¡¡",charIndex:808},{level:2,title:"å»ºç«TCP/IPé¾æ¥",slug:"å»ºç«tcp-ipé¾æ¥",normalizedTitle:"å»ºç«tcp/ipé¾æ¥",charIndex:66},{level:3,title:"âä¸æ¬¡æ¡æâçè¯¦è§£",slug:"ä¸æ¬¡æ¡æ-çè¯¦è§£",normalizedTitle:"âä¸æ¬¡æ¡æâçè¯¦è§£",charIndex:1033},{level:3,title:"ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ",slug:"ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ",normalizedTitle:"ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ",charIndex:1049}],headersStr:"æ»ä½æ¥è¯´åä¸ºä»¥ä¸å ä¸ªè¿ç¨ï¼ è¾å¥ç½å DNSè§£æ ä»ä¹æ¯IPå°å ä»ä¹æ¯DNS DNSè§£æ DNSæ¥è¯¢çä¸¤ç§æ¹å¼ï¼éå½æ¥è¯¢åè¿­ä»£æ¥è¯¢ DNSååç§°ç©ºé´çç»ç»æ¹å¼ DNSè´è½½åè¡¡ å»ºç«TCP/IPé¾æ¥ âä¸æ¬¡æ¡æâçè¯¦è§£ ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ",content:"ä»æä»¬è¾å¥ä¸ä¸ªç½åå°é¡µé¢å±ç°çè¿ç¨å°åºåçäºä»ä¹å¢ï¼\n\n\n# æ»ä½æ¥è¯´åä¸ºä»¥ä¸å ä¸ªè¿ç¨ï¼\n\n * è¾å¥ç½å\n * DNSè§£æ\n * å»ºç«TCP/IPé¾æ¥\n * åéHTTPè¯·æ±\n * æå¡å¨å¤çè¯·æ±\n * æå¡å¨è¿åHTTPååº\n * æµè§å¨æ¸²æé¡µé¢å¹¶å±ç°\n * æ­å¼è¿æ¥\n\n\n# è¾å¥ç½å\n\nå½æä»¬æ³è¦æå¼ä¸ä¸ªé¡µé¢æ¶ï¼å¾ç®åçä¼æ³å°å»è¾å¥ä¸ä¸ªç½å æä»¬ä»¥æ¬ç½åä¸ºä¾ï¼è§£éä¸ä¸å®åé¨åçç»æï¼\n\nhttps://www.baidu.com\n\n\n1\n\n\n * https ï¼httpsæ¯åè®®ï¼Protocolï¼ï¼å®è¡¨æäºæµè§å¨ä½¿ç¨ä½ç§åè®®ï¼æhttpãhttpsãftpãmailtoç­ï¼å¶ä¸­httpsæ¯å å¯è®¤è¯ççhttpï¼è¯¦è§ãå¾è§£HTTPãï¼\n\n * www.baidu.com ï¼è¿æ¯ååï¼Domain nameï¼ï¼å®è¡¨ææ­£å¨è¯·æ±åªä¸ªWebæå¡å¨ï¼å¶ä¸­wwwæ¯ä¸»æºåï¼hostï¼\n\n\n# DNSè§£æ\n\nè¾å¥ç½åï¼URLï¼è¿ä¸æ­¥æä»¬å¾å¥½çè§£ï¼ä½æ¯æ¥ä¸æ¥æè°çååè§£ææ¯ä»ä¹å¢ï¼åæ¯ä¸ºä»ä¹è¦è¿è¡ååè§£æå¢ï¼\n\n\n# ä»ä¹æ¯IPå°å\n\nIP å°åï¼Internet Protocol Addressï¼æ¯äºèç½åè®®ç¹æçä¸ç§å°åï¼å®æ¯ IP åè®®æä¾çä¸ç§ç»ä¸çå°åæ ¼å¼ãIP å°åä¸ºäºèç½ä¸çæ¯ä¸ä¸ªç½ç»åæ¯ä¸å°ä¸»æºåéä¸ä¸ªé»è¾å°åï¼ä»¥æ­¤æ¥å±è½ç©çå°åçå·®å¼ã å192.168.59.0å°±æ¯ä¸ä¸ªä¸»æºIPå°å\n\n\n# ä»ä¹æ¯DNS\n\nDNSæå¡å¨ä¸å­å¨çæ å°<åå-IP>ï¼DNSè§£æå°±æ¯å»DNSæå¡å¨æ¥è¯¢IPå°åã\n\n\n# DNSè§£æ\n\nDNSè§£ææç§ä¸é¢é¡ºåºéä¸ªæ¥æ¾ã\n\n * æ¬å°ï¼hostsæä»¶ï¼\n * DNSæå¡å¨ï¼æ¬å°DNS | æ ¹DNSï¼\n * åæå¡å¨\n * è§£ææå¡å¨çå°å\n\n\n\n\n# DNSæ¥è¯¢çä¸¤ç§æ¹å¼ï¼éå½æ¥è¯¢åè¿­ä»£æ¥è¯¢\n\néå½è§£æ è¿­ä»£è§£æ\n\n\n# DNSååç§°ç©ºé´çç»ç»æ¹å¼\n\n\n\n\n# DNSè´è½½åè¡¡\n\nå½ä¸ä¸ªç½ç«æè¶³å¤å¤çç¨æ·çæ¶åï¼åå¦æ¯æ¬¡è¯·æ±çèµæºé½ä½äºåä¸å°æºå¨ä¸é¢ï¼é£ä¹è¿å°æºå¨éæ¶å¯è½ä¼è¹¦æã\n\nå¤çåæ³å°±æ¯ç¨DNSè´è½½åè¡¡ææ¯ï¼å®çåçæ¯å¨DNSæå¡å¨ä¸­ä¸ºåä¸ä¸ªä¸»æºåéç½®å¤ä¸ªIPå°å å¨åºç­DNSæ¥è¯¢æ¶,DNSæå¡å¨å¯¹æ¯ä¸ªæ¥è¯¢å°ä»¥DNSæä»¶ä¸­ä¸»æºè®°å½çIPå°åæé¡ºåºè¿åä¸åçè§£æç»æ,å°å®¢æ·ç«¯çè®¿é®å¼å¯¼å°ä¸åçæºå¨ä¸å»,ä½¿å¾ä¸åçå®¢æ·ç«¯è®¿é®ä¸åçæå¡å¨,ä»èè¾¾å°è´è½½åè¡¡çç®çï½¡\n\n\n# å»ºç«TCP/IPé¾æ¥\n\n\n# âä¸æ¬¡æ¡æâçè¯¦è§£\n\n\n\n\n# ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ\n\n * clienç«¯ é²æ­¢å·²å¤±æçè¿æ¥è¯·æ±æ¥ææ®µçªç¶åä¼ éå°äºæå¡ç«¯ï¼å èäº§çéè¯¯ã clientååºçç¬¬ä¸ä¸ªè¿æ¥è¯·æ±æ¥ææ®µå¹¶æ²¡æä¸¢å¤±ï¼èæ¯å¨æä¸ªç½ç»ç»ç¹é¿æ¶é´çæ»çäºï¼ä»¥è´è¿æ¥éæ¾ä»¥åçæä¸ªæ¶é´æå°è¾¾serverã æ¬æ¥è¿æ¯ä¸ä¸ªæ©å·²å¤±æçæ¥ææ®µãä½serveræ¶å°æ­¤å¤±æçè¿æ¥è¯·æ±æ¥ææ®µåï¼å°±è¯¯è®¤ä¸ºæ¯clientåæ¬¡ååºçä¸ä¸ªæ°çè¿æ¥è¯·æ±ã äºæ¯å°±åclientååºç¡®è®¤æ¥ææ®µï¼åæå»ºç«è¿æ¥ã\n\n * serverç«¯ åè®¾ä¸éç¨âä¸æ¬¡æ¡æâã å¦æåªè¦serverååºç¡®è®¤ï¼æ°çè¿æ¥å°±å»ºç«äºãå¹¶ä¸ç´ç­å¾clientåæ¥æ°æ®ã äºå®æ¯clientå¹¶æ²¡æååºå»ºç«è¿æ¥çè¯·æ±ï¼å æ­¤ä¸ä¼çç¬serverçç¡®è®¤ï¼ä¹ä¸ä¼åserveråéæ°æ®ã ä½serverç«¯å°±ä¼æè®¸å¤è¿æ ·çç­å¾ï¼serverçå¾å¤èµæºå°±ç½ç½æµªè´¹æäºã\n\néç¨âä¸æ¬¡æ¡æâçåæ³å¯ä»¥é²æ­¢ä¸è¿°ç°è±¡åçãä¸»è¦ç®çé²æ­¢serverç«¯ä¸ç´ç­å¾ï¼æµªè´¹èµæºã",normalizedContent:"ä»æä»¬è¾å¥ä¸ä¸ªç½åå°é¡µé¢å±ç°çè¿ç¨å°åºåçäºä»ä¹å¢ï¼\n\n\n# æ»ä½æ¥è¯´åä¸ºä»¥ä¸å ä¸ªè¿ç¨ï¼\n\n * è¾å¥ç½å\n * dnsè§£æ\n * å»ºç«tcp/ipé¾æ¥\n * åéhttpè¯·æ±\n * æå¡å¨å¤çè¯·æ±\n * æå¡å¨è¿åhttpååº\n * æµè§å¨æ¸²æé¡µé¢å¹¶å±ç°\n * æ­å¼è¿æ¥\n\n\n# è¾å¥ç½å\n\nå½æä»¬æ³è¦æå¼ä¸ä¸ªé¡µé¢æ¶ï¼å¾ç®åçä¼æ³å°å»è¾å¥ä¸ä¸ªç½å æä»¬ä»¥æ¬ç½åä¸ºä¾ï¼è§£éä¸ä¸å®åé¨åçç»æï¼\n\nhttps://www.baidu.com\n\n\n1\n\n\n * https ï¼httpsæ¯åè®®ï¼protocolï¼ï¼å®è¡¨æäºæµè§å¨ä½¿ç¨ä½ç§åè®®ï¼æhttpãhttpsãftpãmailtoç­ï¼å¶ä¸­httpsæ¯å å¯è®¤è¯ççhttpï¼è¯¦è§ãå¾è§£httpãï¼\n\n * www.baidu.com ï¼è¿æ¯ååï¼domain nameï¼ï¼å®è¡¨ææ­£å¨è¯·æ±åªä¸ªwebæå¡å¨ï¼å¶ä¸­wwwæ¯ä¸»æºåï¼hostï¼\n\n\n# dnsè§£æ\n\nè¾å¥ç½åï¼urlï¼è¿ä¸æ­¥æä»¬å¾å¥½çè§£ï¼ä½æ¯æ¥ä¸æ¥æè°çååè§£ææ¯ä»ä¹å¢ï¼åæ¯ä¸ºä»ä¹è¦è¿è¡ååè§£æå¢ï¼\n\n\n# ä»ä¹æ¯ipå°å\n\nip å°åï¼internet protocol addressï¼æ¯äºèç½åè®®ç¹æçä¸ç§å°åï¼å®æ¯ ip åè®®æä¾çä¸ç§ç»ä¸çå°åæ ¼å¼ãip å°åä¸ºäºèç½ä¸çæ¯ä¸ä¸ªç½ç»åæ¯ä¸å°ä¸»æºåéä¸ä¸ªé»è¾å°åï¼ä»¥æ­¤æ¥å±è½ç©çå°åçå·®å¼ã å192.168.59.0å°±æ¯ä¸ä¸ªä¸»æºipå°å\n\n\n# ä»ä¹æ¯dns\n\ndnsæå¡å¨ä¸å­å¨çæ å°<åå-ip>ï¼dnsè§£æå°±æ¯å»dnsæå¡å¨æ¥è¯¢ipå°åã\n\n\n# dnsè§£æ\n\ndnsè§£ææç§ä¸é¢é¡ºåºéä¸ªæ¥æ¾ã\n\n * æ¬å°ï¼hostsæä»¶ï¼\n * dnsæå¡å¨ï¼æ¬å°dns | æ ¹dnsï¼\n * åæå¡å¨\n * è§£ææå¡å¨çå°å\n\n\n\n\n# dnsæ¥è¯¢çä¸¤ç§æ¹å¼ï¼éå½æ¥è¯¢åè¿­ä»£æ¥è¯¢\n\néå½è§£æ è¿­ä»£è§£æ\n\n\n# dnsååç§°ç©ºé´çç»ç»æ¹å¼\n\n\n\n\n# dnsè´è½½åè¡¡\n\nå½ä¸ä¸ªç½ç«æè¶³å¤å¤çç¨æ·çæ¶åï¼åå¦æ¯æ¬¡è¯·æ±çèµæºé½ä½äºåä¸å°æºå¨ä¸é¢ï¼é£ä¹è¿å°æºå¨éæ¶å¯è½ä¼è¹¦æã\n\nå¤çåæ³å°±æ¯ç¨dnsè´è½½åè¡¡ææ¯ï¼å®çåçæ¯å¨dnsæå¡å¨ä¸­ä¸ºåä¸ä¸ªä¸»æºåéç½®å¤ä¸ªipå°å å¨åºç­dnsæ¥è¯¢æ¶,dnsæå¡å¨å¯¹æ¯ä¸ªæ¥è¯¢å°ä»¥dnsæä»¶ä¸­ä¸»æºè®°å½çipå°åæé¡ºåºè¿åä¸åçè§£æç»æ,å°å®¢æ·ç«¯çè®¿é®å¼å¯¼å°ä¸åçæºå¨ä¸å»,ä½¿å¾ä¸åçå®¢æ·ç«¯è®¿é®ä¸åçæå¡å¨,ä»èè¾¾å°è´è½½åè¡¡çç®çï½¡\n\n\n# å»ºç«tcp/ipé¾æ¥\n\n\n# âä¸æ¬¡æ¡æâçè¯¦è§£\n\n\n\n\n# ä¸ºä»ä¹è¦ä¸æ¬¡æ¡æ\n\n * clienç«¯ é²æ­¢å·²å¤±æçè¿æ¥è¯·æ±æ¥ææ®µçªç¶åä¼ éå°äºæå¡ç«¯ï¼å èäº§çéè¯¯ã clientååºçç¬¬ä¸ä¸ªè¿æ¥è¯·æ±æ¥ææ®µå¹¶æ²¡æä¸¢å¤±ï¼èæ¯å¨æä¸ªç½ç»ç»ç¹é¿æ¶é´çæ»çäºï¼ä»¥è´è¿æ¥éæ¾ä»¥åçæä¸ªæ¶é´æå°è¾¾serverã æ¬æ¥è¿æ¯ä¸ä¸ªæ©å·²å¤±æçæ¥ææ®µãä½serveræ¶å°æ­¤å¤±æçè¿æ¥è¯·æ±æ¥ææ®µåï¼å°±è¯¯è®¤ä¸ºæ¯clientåæ¬¡ååºçä¸ä¸ªæ°çè¿æ¥è¯·æ±ã äºæ¯å°±åclientååºç¡®è®¤æ¥ææ®µï¼åæå»ºç«è¿æ¥ã\n\n * serverç«¯ åè®¾ä¸éç¨âä¸æ¬¡æ¡æâã å¦æåªè¦serverååºç¡®è®¤ï¼æ°çè¿æ¥å°±å»ºç«äºãå¹¶ä¸ç´ç­å¾clientåæ¥æ°æ®ã äºå®æ¯clientå¹¶æ²¡æååºå»ºç«è¿æ¥çè¯·æ±ï¼å æ­¤ä¸ä¼çç¬serverçç¡®è®¤ï¼ä¹ä¸ä¼åserveråéæ°æ®ã ä½serverç«¯å°±ä¼æè®¸å¤è¿æ ·çç­å¾ï¼serverçå¾å¤èµæºå°±ç½ç½æµªè´¹æäºã\n\néç¨âä¸æ¬¡æ¡æâçåæ³å¯ä»¥é²æ­¢ä¸è¿°ç°è±¡åçãä¸»è¦ç®çé²æ­¢serverç«¯ä¸ç´ç­å¾ï¼æµªè´¹èµæºã",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"HTTP ä¸­ GET å POST åºå«",frontmatter:{title:"HTTP ä¸­ GET å POST åºå«",date:"2022-09-21T22:34:00.000Z",permalink:"/pages/a0e400/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/030.HTTP%20%E4%B8%AD%20GET%20%E5%92%8C%20POST%20%E5%8C%BA%E5%88%AB.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/030.HTTP ä¸­ GET å POST åºå«.md",key:"v-12717373",path:"/pages/a0e400/",headers:[{level:2,title:"ä»ä¹æ¯ HTTP ï¼",slug:"ä»ä¹æ¯-http",normalizedTitle:"ä»ä¹æ¯ http ï¼",charIndex:2},{level:2,title:"ä¸¤ç§ HTTP è¯·æ±æ¹æ³ï¼GET å POST",slug:"ä¸¤ç§-http-è¯·æ±æ¹æ³-get-å-post",normalizedTitle:"ä¸¤ç§ http è¯·æ±æ¹æ³ï¼get å post",charIndex:186},{level:2,title:"GET æ¹æ³",slug:"get-æ¹æ³",normalizedTitle:"get æ¹æ³",charIndex:364},{level:2,title:"POST æ¹æ³",slug:"post-æ¹æ³",normalizedTitle:"post æ¹æ³",charIndex:593},{level:2,title:"æ¯è¾ GET ä¸ POST",slug:"æ¯è¾-get-ä¸-post",normalizedTitle:"æ¯è¾ get ä¸ post",charIndex:834},{level:2,title:"å¶ä» HTTP è¯·æ±æ¹æ³",slug:"å¶ä»-http-è¯·æ±æ¹æ³",normalizedTitle:"å¶ä» http è¯·æ±æ¹æ³",charIndex:1967}],headersStr:"ä»ä¹æ¯ HTTP ï¼ ä¸¤ç§ HTTP è¯·æ±æ¹æ³ï¼GET å POST GET æ¹æ³ POST æ¹æ³ æ¯è¾ GET ä¸ POST å¶ä» HTTP è¯·æ±æ¹æ³",content:"# ä»ä¹æ¯ HTTP ï¼\n\nè¶ææ¬ä¼ è¾åè®®ï¼HTTPï¼çè®¾è®¡ç®çæ¯ä¿è¯å®¢æ·ç«¯ä¸æå¡å¨ä¹é´çéä¿¡ã\n\nHTTP çå·¥ä½æ¹å¼æ¯å®¢æ·ç«¯ä¸æå¡å¨ä¹é´çè¯·æ±-åºç­åè®®ã\n\nweb æµè§å¨å¯è½æ¯å®¢æ·ç«¯ï¼èè®¡ç®æºä¸çç½ç»åºç¨ç¨åºä¹å¯è½ä½ä¸ºæå¡å¨ç«¯ã\n\nä¸¾ä¾ï¼å®¢æ·ç«¯ï¼æµè§å¨ï¼åæå¡å¨æäº¤ HTTP è¯·æ±ï¼æå¡å¨åå®¢æ·ç«¯è¿åååºãååºåå«å³äºè¯·æ±çç¶æä¿¡æ¯ä»¥åå¯è½è¢«è¯·æ±çåå®¹ã\n\n\n# ä¸¤ç§ HTTP è¯·æ±æ¹æ³ï¼GET å POST\n\nå¨å®¢æ·æºåæå¡å¨ä¹é´è¿è¡è¯·æ±-ååºæ¶ï¼ä¸¤ç§æå¸¸è¢«ç¨å°çæ¹æ³æ¯ï¼GET å POSTã\n\n * GET - ä»æå®çèµæºè¯·æ±æ°æ®ã\n * POST - åæå®çèµæºæäº¤è¦è¢«å¤ççæ°æ®ã GET æäº¤åæ°ä¸è¬æ¾ç¤ºå¨ URL ä¸ï¼POST éè¿è¡¨åæäº¤ä¸ä¼æ¾ç¤ºå¨ URL ä¸ï¼POST æ´å·éè½æ§ï¼\n\n\n\n\n# GET æ¹æ³\n\nè¯·æ³¨æï¼æ¥è¯¢å­ç¬¦ä¸²ï¼åç§°/å¼å¯¹ï¼æ¯å¨ GET è¯·æ±ç URL ä¸­åéçï¼\n\n/test/demo_form.php?name1=value1&name2=value2\n\n\n1\n\n\næå³ GET è¯·æ±çå¶ä»ä¸äºæ³¨éï¼\n\n * GET è¯·æ±å¯è¢«ç¼å­\n * GET è¯·æ±ä¿çå¨æµè§å¨åå²è®°å½ä¸­\n * GET è¯·æ±å¯è¢«æ¶èä¸ºä¹¦ç­¾\n * GET è¯·æ±ä¸åºå¨å¤çæææ°æ®æ¶ä½¿ç¨\n * GET è¯·æ±æé¿åº¦éå¶\n * GET è¯·æ±åªåºå½ç¨äºååæ°æ®\n\n\n# POST æ¹æ³\n\nè¯·æ³¨æï¼æ¥è¯¢å­ç¬¦ä¸²ï¼åç§°/å¼å¯¹ï¼æ¯å¨ POST è¯·æ±ç HTTP æ¶æ¯ä¸»ä½ä¸­åéçï¼\n\nPOST /test/demo_form.php HTTP/1.1\nHost: runoob.com\nname1=value1&name2=value2\n\n\n1\n2\n3\n\n\næå³ POST è¯·æ±çå¶ä»ä¸äºæ³¨éï¼\n\n * POST è¯·æ±ä¸ä¼è¢«ç¼å­\n * POST è¯·æ±ä¸ä¼ä¿çå¨æµè§å¨åå²è®°å½ä¸­\n * POST ä¸è½è¢«æ¶èä¸ºä¹¦ç­¾\n * POST è¯·æ±å¯¹æ°æ®é¿åº¦æ²¡æè¦æ±\n\n\n# æ¯è¾ GET ä¸ POST\n\nä¸é¢çè¡¨æ ¼æ¯è¾äºä¸¤ç§ HTTP æ¹æ³ï¼GET å POSTã\n\n           GET                                                       POST\nåéæé®/å·æ°    æ å®³                                                        æ°æ®ä¼è¢«éæ°æäº¤ï¼æµè§å¨åºè¯¥åç¥ç¨æ·æ°æ®ä¼è¢«éæ°æäº¤ï¼ã\nä¹¦ç­¾         å¯æ¶èä¸ºä¹¦ç­¾                                                    ä¸å¯æ¶èä¸ºä¹¦ç­¾\nç¼å­         è½è¢«ç¼å­                                                      ä¸è½ç¼å­\nç¼ç ç±»å       application/x-www-form-urlencoded                         application/x-www-form-urlencoded or\n                                                                     multipart/form-dataãä¸ºäºè¿å¶æ°æ®ä½¿ç¨å¤éç¼ç ã\nåå²         åæ°ä¿çå¨æµè§å¨åå²ä¸­ã                                              åæ°ä¸ä¼ä¿å­å¨æµè§å¨åå²ä¸­ã\nå¯¹æ°æ®é¿åº¦çéå¶   æ¯çãå½åéæ°æ®æ¶ï¼GET æ¹æ³å URL æ·»å æ°æ®ï¼URL çé¿åº¦æ¯åéå¶çï¼URL çæå¤§é¿åº¦æ¯ 2048   æ éå¶ã\n           ä¸ªå­ç¬¦ï¼ã\nå¯¹æ°æ®ç±»åçéå¶   åªåè®¸ ASCII å­ç¬¦ã                                             æ²¡æéå¶ãä¹åè®¸äºè¿å¶æ°æ®ã\nå®å¨æ§        ä¸ POST ç¸æ¯ï¼GET çå®å¨æ§è¾å·®ï¼å ä¸ºæåéçæ°æ®æ¯ URL çä¸é¨åã                  å¨åéå¯ç æå¶ä»ææä¿¡æ¯æ¶ç»ä¸è¦ä½¿ç¨ GET ï¼ POST æ¯ GET æ´å®å¨ï¼å ä¸ºåæ°ä¸ä¼è¢«ä¿å­å¨æµè§å¨åå²æ web\n                                                                     æå¡å¨æ¥å¿ä¸­ã\nå¯è§æ§        æ°æ®å¨ URL ä¸­å¯¹ææäººé½æ¯å¯è§çã                                       æ°æ®ä¸ä¼æ¾ç¤ºå¨ URL ä¸­ã\n\n\n# å¶ä» HTTP è¯·æ±æ¹æ³\n\nä¸é¢çè¡¨æ ¼ååºäºå¶ä»ä¸äº HTTP è¯·æ±æ¹æ³ï¼\n\næ¹æ³        æè¿°\nHEAD      ä¸ GET ç¸åï¼ä½åªè¿å HTTP æ¥å¤´ï¼ä¸è¿åææ¡£ä¸»ä½ã\nPUT       ä¸ä¼ æå®ç URI è¡¨ç¤ºã\nDELETE    å é¤æå®èµæºã\nOPTIONS   è¿åæå¡å¨æ¯æç HTTP æ¹æ³ã\nCONNECT   æè¯·æ±è¿æ¥è½¬æ¢å°éæç TCP/IP ééã",normalizedContent:"# ä»ä¹æ¯ http ï¼\n\nè¶ææ¬ä¼ è¾åè®®ï¼httpï¼çè®¾è®¡ç®çæ¯ä¿è¯å®¢æ·ç«¯ä¸æå¡å¨ä¹é´çéä¿¡ã\n\nhttp çå·¥ä½æ¹å¼æ¯å®¢æ·ç«¯ä¸æå¡å¨ä¹é´çè¯·æ±-åºç­åè®®ã\n\nweb æµè§å¨å¯è½æ¯å®¢æ·ç«¯ï¼èè®¡ç®æºä¸çç½ç»åºç¨ç¨åºä¹å¯è½ä½ä¸ºæå¡å¨ç«¯ã\n\nä¸¾ä¾ï¼å®¢æ·ç«¯ï¼æµè§å¨ï¼åæå¡å¨æäº¤ http è¯·æ±ï¼æå¡å¨åå®¢æ·ç«¯è¿åååºãååºåå«å³äºè¯·æ±çç¶æä¿¡æ¯ä»¥åå¯è½è¢«è¯·æ±çåå®¹ã\n\n\n# ä¸¤ç§ http è¯·æ±æ¹æ³ï¼get å post\n\nå¨å®¢æ·æºåæå¡å¨ä¹é´è¿è¡è¯·æ±-ååºæ¶ï¼ä¸¤ç§æå¸¸è¢«ç¨å°çæ¹æ³æ¯ï¼get å postã\n\n * get - ä»æå®çèµæºè¯·æ±æ°æ®ã\n * post - åæå®çèµæºæäº¤è¦è¢«å¤ççæ°æ®ã get æäº¤åæ°ä¸è¬æ¾ç¤ºå¨ url ä¸ï¼post éè¿è¡¨åæäº¤ä¸ä¼æ¾ç¤ºå¨ url ä¸ï¼post æ´å·éè½æ§ï¼\n\n\n\n\n# get æ¹æ³\n\nè¯·æ³¨æï¼æ¥è¯¢å­ç¬¦ä¸²ï¼åç§°/å¼å¯¹ï¼æ¯å¨ get è¯·æ±ç url ä¸­åéçï¼\n\n/test/demo_form.php?name1=value1&name2=value2\n\n\n1\n\n\næå³ get è¯·æ±çå¶ä»ä¸äºæ³¨éï¼\n\n * get è¯·æ±å¯è¢«ç¼å­\n * get è¯·æ±ä¿çå¨æµè§å¨åå²è®°å½ä¸­\n * get è¯·æ±å¯è¢«æ¶èä¸ºä¹¦ç­¾\n * get è¯·æ±ä¸åºå¨å¤çæææ°æ®æ¶ä½¿ç¨\n * get è¯·æ±æé¿åº¦éå¶\n * get è¯·æ±åªåºå½ç¨äºååæ°æ®\n\n\n# post æ¹æ³\n\nè¯·æ³¨æï¼æ¥è¯¢å­ç¬¦ä¸²ï¼åç§°/å¼å¯¹ï¼æ¯å¨ post è¯·æ±ç http æ¶æ¯ä¸»ä½ä¸­åéçï¼\n\npost /test/demo_form.php http/1.1\nhost: runoob.com\nname1=value1&name2=value2\n\n\n1\n2\n3\n\n\næå³ post è¯·æ±çå¶ä»ä¸äºæ³¨éï¼\n\n * post è¯·æ±ä¸ä¼è¢«ç¼å­\n * post è¯·æ±ä¸ä¼ä¿çå¨æµè§å¨åå²è®°å½ä¸­\n * post ä¸è½è¢«æ¶èä¸ºä¹¦ç­¾\n * post è¯·æ±å¯¹æ°æ®é¿åº¦æ²¡æè¦æ±\n\n\n# æ¯è¾ get ä¸ post\n\nä¸é¢çè¡¨æ ¼æ¯è¾äºä¸¤ç§ http æ¹æ³ï¼get å postã\n\n           get                                                       post\nåéæé®/å·æ°    æ å®³                                                        æ°æ®ä¼è¢«éæ°æäº¤ï¼æµè§å¨åºè¯¥åç¥ç¨æ·æ°æ®ä¼è¢«éæ°æäº¤ï¼ã\nä¹¦ç­¾         å¯æ¶èä¸ºä¹¦ç­¾                                                    ä¸å¯æ¶èä¸ºä¹¦ç­¾\nç¼å­         è½è¢«ç¼å­                                                      ä¸è½ç¼å­\nç¼ç ç±»å       application/x-www-form-urlencoded                         application/x-www-form-urlencoded or\n                                                                     multipart/form-dataãä¸ºäºè¿å¶æ°æ®ä½¿ç¨å¤éç¼ç ã\nåå²         åæ°ä¿çå¨æµè§å¨åå²ä¸­ã                                              åæ°ä¸ä¼ä¿å­å¨æµè§å¨åå²ä¸­ã\nå¯¹æ°æ®é¿åº¦çéå¶   æ¯çãå½åéæ°æ®æ¶ï¼get æ¹æ³å url æ·»å æ°æ®ï¼url çé¿åº¦æ¯åéå¶çï¼url çæå¤§é¿åº¦æ¯ 2048   æ éå¶ã\n           ä¸ªå­ç¬¦ï¼ã\nå¯¹æ°æ®ç±»åçéå¶   åªåè®¸ ascii å­ç¬¦ã                                             æ²¡æéå¶ãä¹åè®¸äºè¿å¶æ°æ®ã\nå®å¨æ§        ä¸ post ç¸æ¯ï¼get çå®å¨æ§è¾å·®ï¼å ä¸ºæåéçæ°æ®æ¯ url çä¸é¨åã                  å¨åéå¯ç æå¶ä»ææä¿¡æ¯æ¶ç»ä¸è¦ä½¿ç¨ get ï¼ post æ¯ get æ´å®å¨ï¼å ä¸ºåæ°ä¸ä¼è¢«ä¿å­å¨æµè§å¨åå²æ web\n                                                                     æå¡å¨æ¥å¿ä¸­ã\nå¯è§æ§        æ°æ®å¨ url ä¸­å¯¹ææäººé½æ¯å¯è§çã                                       æ°æ®ä¸ä¼æ¾ç¤ºå¨ url ä¸­ã\n\n\n# å¶ä» http è¯·æ±æ¹æ³\n\nä¸é¢çè¡¨æ ¼ååºäºå¶ä»ä¸äº http è¯·æ±æ¹æ³ï¼\n\næ¹æ³        æè¿°\nhead      ä¸ get ç¸åï¼ä½åªè¿å http æ¥å¤´ï¼ä¸è¿åææ¡£ä¸»ä½ã\nput       ä¸ä¼ æå®ç uri è¡¨ç¤ºã\ndelete    å é¤æå®èµæºã\noptions   è¿åæå¡å¨æ¯æç http æ¹æ³ã\nconnect   æè¯·æ±è¿æ¥è½¬æ¢å°éæç tcp/ip ééã",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"TCP æä¹ä¿è¯å¯é ä¼ è¾",frontmatter:{title:"TCP æä¹ä¿è¯å¯é ä¼ è¾",date:"2022-09-21T22:34:41.000Z",permalink:"/pages/5fcc49/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/040.TCP%20%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/040.TCP æä¹ä¿è¯å¯é ä¼ è¾.md",key:"v-5047727f",path:"/pages/5fcc49/",headersStr:null,content:"TCP ä½¿ç¨è¶æ¶éä¼ æ¥å®ç°å¯é ä¼ è¾ï¼å¦æä¸ä¸ªå·²ç»åéçæ¥ææ®µå¨è¶æ¶æ¶é´åæ²¡ææ¶å°ç¡®è®¤ï¼é£ä¹å°±éä¼ è¿ä¸ªæ¥ææ®µã\n\nä¸ä¸ªæ¥ææ®µä»åéåå°æ¥æ¶å°ç¡®è®¤æç»è¿çæ¶é´ç§°ä¸ºå¾è¿æ¶é´ RTTï¼å æå¹³åå¾è¿æ¶é´ RTTs è®¡ç®å¦ä¸ï¼\n\n\n\nå¶ä¸­ï¼0 â¤ a ï¼ 1ï¼RTTs éç a çå¢å æ´å®¹æåå° RTT çå½±åã è¶æ¶æ¶é´ RTO åºè¯¥ç¥å¤§äº RTTsï¼TCP ä½¿ç¨çè¶æ¶æ¶é´è®¡ç®å¦ä¸ï¼\n\n\n\nå¶ä¸­ RTTd ä¸ºåå·®çå æå¹³åå¼ã\n\nåèï¼ TCP å¯é ä¼ è¾",normalizedContent:"tcp ä½¿ç¨è¶æ¶éä¼ æ¥å®ç°å¯é ä¼ è¾ï¼å¦æä¸ä¸ªå·²ç»åéçæ¥ææ®µå¨è¶æ¶æ¶é´åæ²¡ææ¶å°ç¡®è®¤ï¼é£ä¹å°±éä¼ è¿ä¸ªæ¥ææ®µã\n\nä¸ä¸ªæ¥ææ®µä»åéåå°æ¥æ¶å°ç¡®è®¤æç»è¿çæ¶é´ç§°ä¸ºå¾è¿æ¶é´ rttï¼å æå¹³åå¾è¿æ¶é´ rtts è®¡ç®å¦ä¸ï¼\n\n\n\nå¶ä¸­ï¼0 â¤ a ï¼ 1ï¼rtts éç a çå¢å æ´å®¹æåå° rtt çå½±åã è¶æ¶æ¶é´ rto åºè¯¥ç¥å¤§äº rttsï¼tcp ä½¿ç¨çè¶æ¶æ¶é´è®¡ç®å¦ä¸ï¼\n\n\n\nå¶ä¸­ rttd ä¸ºåå·®çå æå¹³åå¼ã\n\nåèï¼ tcp å¯é ä¼ è¾",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ä»ä¹æ¯ TCP ç²ååæåï¼",frontmatter:{title:"ä»ä¹æ¯ TCP ç²ååæåï¼",date:"2022-09-21T22:35:01.000Z",permalink:"/pages/2822ac/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/050.%E4%BB%80%E4%B9%88%E6%98%AF%20TCP%20%E7%B2%98%E5%8C%85%E5%92%8C%E6%8B%86%E5%8C%85%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/050.ä»ä¹æ¯ TCP ç²ååæåï¼.md",key:"v-feb79e02",path:"/pages/2822ac/",headers:[{level:2,title:"TCPç²åä¸æå",slug:"tcpç²åä¸æå",normalizedTitle:"tcpç²åä¸æå",charIndex:2},{level:2,title:"ç²ååæååå ",slug:"ç²ååæååå ",normalizedTitle:"ç²ååæååå ",charIndex:510},{level:2,title:"ç²ååæåè§£å³ç­ç¥",slug:"ç²ååæåè§£å³ç­ç¥",normalizedTitle:"ç²ååæåè§£å³ç­ç¥",charIndex:704},{level:2,title:"ç²åçæ¦å¿µ",slug:"ç²åçæ¦å¿µ",normalizedTitle:"ç²åçæ¦å¿µ",charIndex:985},{level:2,title:"åºç°ç²åçåå ",slug:"åºç°ç²åçåå ",normalizedTitle:"åºç°ç²åçåå ",charIndex:1173},{level:2,title:"ç²åçå¤çæ¹å¼",slug:"ç²åçå¤çæ¹å¼",normalizedTitle:"ç²åçå¤çæ¹å¼",charIndex:1711}],headersStr:"TCPç²åä¸æå ç²ååæååå  ç²ååæåè§£å³ç­ç¥ ç²åçæ¦å¿µ åºç°ç²åçåå  ç²åçå¤çæ¹å¼",content:"# TCPç²åä¸æå\n\nTCPæ¯ä¸ªâæµâåè®®ï¼æ²¡æçéçä¸ä¸²æ°æ®ãTCPåºå±å¹¶ä¸äºè§£ä¸å±ä¸å¡æ°æ®çå·ä½å«ä¹ï¼å®ä¼æ ¹æ®TCPç¼å²åºçå®éæåµè¿è¡åçååï¼æä»¥å¨ä¸å¡ä¸è®¤ä¸ºï¼ä¸ä¸ªå®æ´çåå¯è½ä¼è¢«TCPæåæå¤ä¸ªåè¿è¡åéï¼ä¹æå¯è½æå¤ä¸ªå°çåå°è£æä¸ä¸ªå¤§çæ°æ®ååéï¼è¿å°±æ¯æè°çTCPç²ååæåé®é¢ã\n\n\n\nåè®¾å®¢æ·ç«¯åå«åéäºä¸¤ä¸ªæ°æ®åD1åD2ç»æå¡ç«¯ï¼ç±äºæå¡ç«¯ä¸æ¬¡è¯»åå°çå­èæ°æ¯ä¸ç¡®å®çï¼æå¯è½å­å¨ä»¥ä¸4ç§æåµã\n\nï¼1ï¼æå¡ç«¯åä¸¤æ¬¡è¯»åå°äºä¸¤ä¸ªç¬ç«çæ°æ®åï¼åå«æ¯D1åD2ï¼æ²¡æç²ååæåï¼\n\nï¼2ï¼æå¡ç«¯ä¸æ¬¡æ¥æ¶å°äºä¸¤ä¸ªæ°æ®åï¼D1åD2ç²åå¨ä¸èµ·ï¼è¢«ç§°ä¸ºTCPç²åï¼\n\nï¼3ï¼æå¡ç«¯åä¸¤æ¬¡è¯»åå°äºä¸¤ä¸ªæ°æ®åï¼ç¬¬ä¸æ¬¡è¯»åå°äºå®æ´çD1ååD2åçé¨ååå®¹ï¼ç¬¬äºæ¬¡è¯»åå°äºD2åçå©ä½åå®¹ï¼è¿è¢«ç§°ä¸ºTCPæåï¼\n\nï¼4ï¼æå¡ç«¯åä¸¤æ¬¡è¯»åå°äºä¸¤ä¸ªæ°æ®åï¼ç¬¬ä¸æ¬¡è¯»åå°äºD1åçé¨ååå®¹D1_1ï¼ç¬¬äºæ¬¡è¯»åå°äºD1åçå©ä½åå®¹D1_2åD2åçæ´åã\n\nå¦ææ­¤æ¶æå¡ç«¯TCPæ¥æ¶æ»çªéå¸¸å°ï¼èæ°æ®åD1åD2æ¯è¾å¤§ï¼å¾æå¯è½ä¼åçç¬¬äºç§å¯è½ï¼å³æå¡ç«¯åå¤æ¬¡æè½å°D1åD2åæ¥æ¶å®å¨ï¼æé´åçå¤æ¬¡æåã\n\n\n# ç²ååæååå \n\nï¼1ï¼è¦åéçæ°æ®å°äºTCPåéç¼å²åºçå¤§å°ï¼TCPå°å¤æ¬¡åå¥ç¼å²åºçæ°æ®ä¸æ¬¡åéåºå»ï¼å°ä¼åçç²åï¼\n\nï¼2ï¼æ¥æ¶æ°æ®ç«¯çåºç¨å±æ²¡æåæ¶è¯»åæ¥æ¶ç¼å²åºä¸­çæ°æ®ï¼å°åçç²åï¼\n\nï¼3ï¼è¦åéçæ°æ®å¤§äºTCPåéç¼å²åºå©ä½ç©ºé´å¤§å°ï¼å°ä¼åçæåï¼\n\nï¼4ï¼å¾åéæ°æ®å¤§äºMSSï¼æå¤§æ¥æé¿åº¦ï¼ï¼TCPå¨ä¼ è¾åå°è¿è¡æåãå³TCPæ¥æé¿åº¦-TCPå¤´é¨é¿åº¦>MSSã\n\n\n# ç²ååæåè§£å³ç­ç¥\n\nç±äºåºå±çTCPæ æ³çè§£ä¸å±çä¸å¡æ°æ®ï¼æä»¥å¨åºå±æ¯æ æ³ä¿è¯æ°æ®åä¸è¢«æååéç»çï¼è¿ä¸ªé®é¢åªè½éè¿ä¸å±çåºç¨åè®®æ è®¾è®¡æ¥è§£å³ï¼æ ¹æ®ä¸ççä¸»æµåè®®çè§£å³æ¹æ¡ï¼å½çº³å¦ä¸ï¼\n\næ¶æ¯å®é¿ãåéç«¯å°æ¯ä¸ªæ°æ®åå°è£ä¸ºåºå®é¿åº¦ï¼ä¸å¤çå¯ä»¥éè¿è¡¥0å¡«åï¼ï¼è¿æ ·æ¥æ¶ç«¯æ¯æ¬¡æ¥æ¶ç¼å²åºä¸­è¯»ååºå®é¿åº¦çæ°æ®å°±èªç¶èç¶çææ¯ä¸ªæ°æ®åæåå¼æ¥ã\n\nè®¾ç½®æ¶æ¯è¾¹çãæå¡ç«¯ä»ç½ç»æµä¸­ææ¶æ¯è¾¹çåç¦»åºæ¶æ¯åå®¹ãå¨åå°¾å¢å åè½¦æ¢è¡ç¬¦è¿è¡åå²ï¼ä¾å¦FTPåè®®ã\n\nå°æ¶æ¯åä¸ºæ¶æ¯å¤´åæ¶æ¯ä½ï¼æ¶æ¯å¤´ä¸­åå«è¡¨ç¤ºæ¶æ¯æ»é¿åº¦ï¼æèæ¶æ¯ä½é¿åº¦ï¼çå­æ®µã æ´å¤æçåºç¨å±åè®®ã\n\n\n# ç²åçæ¦å¿µ\n\nç²åï¼å¤ä¸ªæ°æ®åè¢«è¿ç»­å­å¨äºè¿ç»­çç¼å­ä¸­ï¼å¨å¯¹æ°æ®åè¿è¡è¯»åæ¶ç±äºæ æ³ç¡®å®åçæ¹çåéè¾¹çï¼èéç¨æä¸ä¼°æµå¼å¤§å°æ¥è¿è¡æ°æ®è¯»åºï¼è¥åæ¹çsizeä¸ä¸è´æ¶å°±ä¼ä½¿æåéæ¹åéçè¥å¹²åæ°æ®å°æ¥æ¶æ¹æ¥æ¶æ¶ç²æä¸åï¼ä»æ¥æ¶ç¼å²åºçï¼åä¸åæ°æ®çå¤´ç´§æ¥çåä¸åæ°æ®çå°¾ã\n\næ¯å¦è¯´ï¼åéæ¹åéäºä¸¤ä¸ªæ°æ®ï¼æ¥æ¶æ¹ä¸æ¬¡æ¶äºä¸ä¸ªåæ°æ®ï¼æ¥æ¶æ¹å¯è½ä¸æ¸æ¥ä¸ä¸ªåæå¤å¤§ï¼\n\n\n\n\n# åºç°ç²åçåå \n\nåºç°ç²åç°è±¡çåå æ¯å¤æ¹é¢çï¼å®æ¢å¯è½ç±åéæ¹é æï¼ä¹å¯è½ç±æ¥æ¶æ¹é æã\n\nåéæ¹å¼èµ·çç²åæ¯ç±TCPåè®®æ¬èº«é æçï¼\n\nTCPä¸ºæé«ä¼ è¾æçï¼åéæ¹å¾å¾è¦æ¶éå°è¶³å¤å¤çæ°æ®åæåéä¸åæ°æ®ãè¥è¿ç»­å æ¬¡åéçæ°æ®é½å¾å°ï¼éå¸¸TCPä¼æ ¹æ®ä¼åç®æ³æè¿äºæ°æ®åæä¸ååä¸æ¬¡åéåºå»ï¼è¿æ ·æ¥æ¶æ¹å°±æ¶å°äºç²åæ°æ®ã\n\n\n\nTCPåè®®è§å®æMSSï¼å¦ææ°æ®åè¿é¿å°±ä¼è¢«åå¼ä¼ è¾ãè¿æ ·æ¥æ¶æ¹å°±æ¶å°äºæåæ°æ®ã\n\n\n\næ¥æ¶æ¹å¼èµ·çç²åæ¯ç±äºæ¥æ¶æ¹ç¨æ·è¿ç¨ä¸åæ¶æ¥æ¶æ°æ®ï¼ä»èå¯¼è´ç²åç°è±¡ãè¿æ¯å ä¸ºæ¥æ¶æ¹åææ¶å°çæ°æ®æ¾å¨ç³»ç»æ¥æ¶ç¼å²åºï¼ç¨æ·è¿ç¨ä»è¯¥ç¼å²åºåæ°æ®ï¼è¥ä¸ä¸åæ°æ®å°è¾¾æ¶åä¸åæ°æ®å°æªè¢«ç¨æ·è¿ç¨åèµ°ï¼åä¸ä¸åæ°æ®æ¾å°ç³»ç»æ¥æ¶ç¼å²åºæ¶å°±æ¥å°åä¸åæ°æ®ä¹åï¼èç¨æ·è¿ç¨æ ¹æ®é¢åè®¾å®çç¼å²åºå¤§å°ä»ç³»ç»æ¥æ¶ç¼å²åºåæ°æ®ï¼è¿æ ·å°±ä¸æ¬¡åå°äºå¤åæ°æ®ã\n\nå¨ä»£ç ä¸­å¸¸è§ä½ç°ï¼\n\nè¦åéçæ°æ®å¤§äºTCPåéç¼å²åºå©ä½ç©ºé´å¤§å°ï¼å°ä¼åçæåã\n\nè¦åéçæ°æ®å¤§äºMSSï¼TCPå¨ä¼ è¾åå°è¿è¡æåã\n\nè¦åéçæ°æ®å°äºTCPåéç¼å²åºçå¤§å°ï¼TCPå°å¤æ¬¡åå¥ç¼å²åºçæ°æ®ä¸æ¬¡åéåºå»ï¼å°ä¼åçç²åã\n\næ¥æ¶æ°æ®ç«¯çåºç¨å±æ²¡æåæ¶è¯»åæ¥æ¶ç¼å²åºä¸­çæ°æ®ï¼å°åçç²åã ç­ç­ã\n\n\n# ç²åçå¤çæ¹å¼\n\nå½ç­è¿æ¥çæåµä¸ï¼ä¸ç¨èèç²åçæåµ\n\nå¦æåéæ°æ®æ ç»æï¼å¦æä»¶ä¼ è¾ï¼è¿æ ·åéæ¹åªç®¡åéï¼æ¥æ¶æ¹åªç®¡æ¥æ¶å­å¨å°±okï¼ä¹ä¸ç¨èèç²å\n\nå¦æåæ¹å»ºç«é¿è¿æ¥ï¼éè¦å¨è¿æ¥åä¸æ®µæ¶é´ååéä¸åç»ææ°æ®\n\nåéç«¯ç»æ¯ä¸ªæ°æ®åæ·»å åé¦é¨ï¼é¦é¨ä¸­åºè¯¥è³å°åå«æ°æ®åçé¿åº¦ï¼è¿æ ·æ¥æ¶ç«¯å¨æ¥æ¶å°æ°æ®åï¼éè¿è¯»ååé¦é¨çé¿åº¦å­æ®µï¼ä¾¿ç¥éæ¯ä¸ä¸ªæ°æ®åçå®éé¿åº¦äºã\n\nåéç«¯å°æ¯ä¸ªæ°æ®åå°è£ä¸ºåºå®é¿åº¦ï¼ä¸å¤çå¯ä»¥éè¿è¡¥0å¡«åï¼ï¼è¿æ ·æ¥æ¶ç«¯æ¯æ¬¡ä»æ¥æ¶ç¼å²åºä¸­è¯»ååºå®é¿åº¦çæ°æ®å°±èªç¶èç¶çææ¯ä¸ªæ°æ®åæåå¼æ¥ã\n\nå¯ä»¥å¨æ°æ®åä¹é´è®¾ç½®è¾¹çï¼å¦æ·»å ç¹æ®ç¬¦å·ï¼è¿æ ·ï¼æ¥æ¶ç«¯éè¿è¿ä¸ªè¾¹çå°±å¯ä»¥å°ä¸åçæ°æ®åæåå¼ã",normalizedContent:"# tcpç²åä¸æå\n\ntcpæ¯ä¸ªâæµâåè®®ï¼æ²¡æçéçä¸ä¸²æ°æ®ãtcpåºå±å¹¶ä¸äºè§£ä¸å±ä¸å¡æ°æ®çå·ä½å«ä¹ï¼å®ä¼æ ¹æ®tcpç¼å²åºçå®éæåµè¿è¡åçååï¼æä»¥å¨ä¸å¡ä¸è®¤ä¸ºï¼ä¸ä¸ªå®æ´çåå¯è½ä¼è¢«tcpæåæå¤ä¸ªåè¿è¡åéï¼ä¹æå¯è½æå¤ä¸ªå°çåå°è£æä¸ä¸ªå¤§çæ°æ®ååéï¼è¿å°±æ¯æè°çtcpç²ååæåé®é¢ã\n\n\n\nåè®¾å®¢æ·ç«¯åå«åéäºä¸¤ä¸ªæ°æ®åd1åd2ç»æå¡ç«¯ï¼ç±äºæå¡ç«¯ä¸æ¬¡è¯»åå°çå­èæ°æ¯ä¸ç¡®å®çï¼æå¯è½å­å¨ä»¥ä¸4ç§æåµã\n\nï¼1ï¼æå¡ç«¯åä¸¤æ¬¡è¯»åå°äºä¸¤ä¸ªç¬ç«çæ°æ®åï¼åå«æ¯d1åd2ï¼æ²¡æç²ååæåï¼\n\nï¼2ï¼æå¡ç«¯ä¸æ¬¡æ¥æ¶å°äºä¸¤ä¸ªæ°æ®åï¼d1åd2ç²åå¨ä¸èµ·ï¼è¢«ç§°ä¸ºtcpç²åï¼\n\nï¼3ï¼æå¡ç«¯åä¸¤æ¬¡è¯»åå°äºä¸¤ä¸ªæ°æ®åï¼ç¬¬ä¸æ¬¡è¯»åå°äºå®æ´çd1ååd2åçé¨ååå®¹ï¼ç¬¬äºæ¬¡è¯»åå°äºd2åçå©ä½åå®¹ï¼è¿è¢«ç§°ä¸ºtcpæåï¼\n\nï¼4ï¼æå¡ç«¯åä¸¤æ¬¡è¯»åå°äºä¸¤ä¸ªæ°æ®åï¼ç¬¬ä¸æ¬¡è¯»åå°äºd1åçé¨ååå®¹d1_1ï¼ç¬¬äºæ¬¡è¯»åå°äºd1åçå©ä½åå®¹d1_2åd2åçæ´åã\n\nå¦ææ­¤æ¶æå¡ç«¯tcpæ¥æ¶æ»çªéå¸¸å°ï¼èæ°æ®åd1åd2æ¯è¾å¤§ï¼å¾æå¯è½ä¼åçç¬¬äºç§å¯è½ï¼å³æå¡ç«¯åå¤æ¬¡æè½å°d1åd2åæ¥æ¶å®å¨ï¼æé´åçå¤æ¬¡æåã\n\n\n# ç²ååæååå \n\nï¼1ï¼è¦åéçæ°æ®å°äºtcpåéç¼å²åºçå¤§å°ï¼tcpå°å¤æ¬¡åå¥ç¼å²åºçæ°æ®ä¸æ¬¡åéåºå»ï¼å°ä¼åçç²åï¼\n\nï¼2ï¼æ¥æ¶æ°æ®ç«¯çåºç¨å±æ²¡æåæ¶è¯»åæ¥æ¶ç¼å²åºä¸­çæ°æ®ï¼å°åçç²åï¼\n\nï¼3ï¼è¦åéçæ°æ®å¤§äºtcpåéç¼å²åºå©ä½ç©ºé´å¤§å°ï¼å°ä¼åçæåï¼\n\nï¼4ï¼å¾åéæ°æ®å¤§äºmssï¼æå¤§æ¥æé¿åº¦ï¼ï¼tcpå¨ä¼ è¾åå°è¿è¡æåãå³tcpæ¥æé¿åº¦-tcpå¤´é¨é¿åº¦>mssã\n\n\n# ç²ååæåè§£å³ç­ç¥\n\nç±äºåºå±çtcpæ æ³çè§£ä¸å±çä¸å¡æ°æ®ï¼æä»¥å¨åºå±æ¯æ æ³ä¿è¯æ°æ®åä¸è¢«æååéç»çï¼è¿ä¸ªé®é¢åªè½éè¿ä¸å±çåºç¨åè®®æ è®¾è®¡æ¥è§£å³ï¼æ ¹æ®ä¸ççä¸»æµåè®®çè§£å³æ¹æ¡ï¼å½çº³å¦ä¸ï¼\n\næ¶æ¯å®é¿ãåéç«¯å°æ¯ä¸ªæ°æ®åå°è£ä¸ºåºå®é¿åº¦ï¼ä¸å¤çå¯ä»¥éè¿è¡¥0å¡«åï¼ï¼è¿æ ·æ¥æ¶ç«¯æ¯æ¬¡æ¥æ¶ç¼å²åºä¸­è¯»ååºå®é¿åº¦çæ°æ®å°±èªç¶èç¶çææ¯ä¸ªæ°æ®åæåå¼æ¥ã\n\nè®¾ç½®æ¶æ¯è¾¹çãæå¡ç«¯ä»ç½ç»æµä¸­ææ¶æ¯è¾¹çåç¦»åºæ¶æ¯åå®¹ãå¨åå°¾å¢å åè½¦æ¢è¡ç¬¦è¿è¡åå²ï¼ä¾å¦ftpåè®®ã\n\nå°æ¶æ¯åä¸ºæ¶æ¯å¤´åæ¶æ¯ä½ï¼æ¶æ¯å¤´ä¸­åå«è¡¨ç¤ºæ¶æ¯æ»é¿åº¦ï¼æèæ¶æ¯ä½é¿åº¦ï¼çå­æ®µã æ´å¤æçåºç¨å±åè®®ã\n\n\n# ç²åçæ¦å¿µ\n\nç²åï¼å¤ä¸ªæ°æ®åè¢«è¿ç»­å­å¨äºè¿ç»­çç¼å­ä¸­ï¼å¨å¯¹æ°æ®åè¿è¡è¯»åæ¶ç±äºæ æ³ç¡®å®åçæ¹çåéè¾¹çï¼èéç¨æä¸ä¼°æµå¼å¤§å°æ¥è¿è¡æ°æ®è¯»åºï¼è¥åæ¹çsizeä¸ä¸è´æ¶å°±ä¼ä½¿æåéæ¹åéçè¥å¹²åæ°æ®å°æ¥æ¶æ¹æ¥æ¶æ¶ç²æä¸åï¼ä»æ¥æ¶ç¼å²åºçï¼åä¸åæ°æ®çå¤´ç´§æ¥çåä¸åæ°æ®çå°¾ã\n\næ¯å¦è¯´ï¼åéæ¹åéäºä¸¤ä¸ªæ°æ®ï¼æ¥æ¶æ¹ä¸æ¬¡æ¶äºä¸ä¸ªåæ°æ®ï¼æ¥æ¶æ¹å¯è½ä¸æ¸æ¥ä¸ä¸ªåæå¤å¤§ï¼\n\n\n\n\n# åºç°ç²åçåå \n\nåºç°ç²åç°è±¡çåå æ¯å¤æ¹é¢çï¼å®æ¢å¯è½ç±åéæ¹é æï¼ä¹å¯è½ç±æ¥æ¶æ¹é æã\n\nåéæ¹å¼èµ·çç²åæ¯ç±tcpåè®®æ¬èº«é æçï¼\n\ntcpä¸ºæé«ä¼ è¾æçï¼åéæ¹å¾å¾è¦æ¶éå°è¶³å¤å¤çæ°æ®åæåéä¸åæ°æ®ãè¥è¿ç»­å æ¬¡åéçæ°æ®é½å¾å°ï¼éå¸¸tcpä¼æ ¹æ®ä¼åç®æ³æè¿äºæ°æ®åæä¸ååä¸æ¬¡åéåºå»ï¼è¿æ ·æ¥æ¶æ¹å°±æ¶å°äºç²åæ°æ®ã\n\n\n\ntcpåè®®è§å®æmssï¼å¦ææ°æ®åè¿é¿å°±ä¼è¢«åå¼ä¼ è¾ãè¿æ ·æ¥æ¶æ¹å°±æ¶å°äºæåæ°æ®ã\n\n\n\næ¥æ¶æ¹å¼èµ·çç²åæ¯ç±äºæ¥æ¶æ¹ç¨æ·è¿ç¨ä¸åæ¶æ¥æ¶æ°æ®ï¼ä»èå¯¼è´ç²åç°è±¡ãè¿æ¯å ä¸ºæ¥æ¶æ¹åææ¶å°çæ°æ®æ¾å¨ç³»ç»æ¥æ¶ç¼å²åºï¼ç¨æ·è¿ç¨ä»è¯¥ç¼å²åºåæ°æ®ï¼è¥ä¸ä¸åæ°æ®å°è¾¾æ¶åä¸åæ°æ®å°æªè¢«ç¨æ·è¿ç¨åèµ°ï¼åä¸ä¸åæ°æ®æ¾å°ç³»ç»æ¥æ¶ç¼å²åºæ¶å°±æ¥å°åä¸åæ°æ®ä¹åï¼èç¨æ·è¿ç¨æ ¹æ®é¢åè®¾å®çç¼å²åºå¤§å°ä»ç³»ç»æ¥æ¶ç¼å²åºåæ°æ®ï¼è¿æ ·å°±ä¸æ¬¡åå°äºå¤åæ°æ®ã\n\nå¨ä»£ç ä¸­å¸¸è§ä½ç°ï¼\n\nè¦åéçæ°æ®å¤§äºtcpåéç¼å²åºå©ä½ç©ºé´å¤§å°ï¼å°ä¼åçæåã\n\nè¦åéçæ°æ®å¤§äºmssï¼tcpå¨ä¼ è¾åå°è¿è¡æåã\n\nè¦åéçæ°æ®å°äºtcpåéç¼å²åºçå¤§å°ï¼tcpå°å¤æ¬¡åå¥ç¼å²åºçæ°æ®ä¸æ¬¡åéåºå»ï¼å°ä¼åçç²åã\n\næ¥æ¶æ°æ®ç«¯çåºç¨å±æ²¡æåæ¶è¯»åæ¥æ¶ç¼å²åºä¸­çæ°æ®ï¼å°åçç²åã ç­ç­ã\n\n\n# ç²åçå¤çæ¹å¼\n\nå½ç­è¿æ¥çæåµä¸ï¼ä¸ç¨èèç²åçæåµ\n\nå¦æåéæ°æ®æ ç»æï¼å¦æä»¶ä¼ è¾ï¼è¿æ ·åéæ¹åªç®¡åéï¼æ¥æ¶æ¹åªç®¡æ¥æ¶å­å¨å°±okï¼ä¹ä¸ç¨èèç²å\n\nå¦æåæ¹å»ºç«é¿è¿æ¥ï¼éè¦å¨è¿æ¥åä¸æ®µæ¶é´ååéä¸åç»ææ°æ®\n\nåéç«¯ç»æ¯ä¸ªæ°æ®åæ·»å åé¦é¨ï¼é¦é¨ä¸­åºè¯¥è³å°åå«æ°æ®åçé¿åº¦ï¼è¿æ ·æ¥æ¶ç«¯å¨æ¥æ¶å°æ°æ®åï¼éè¿è¯»ååé¦é¨çé¿åº¦å­æ®µï¼ä¾¿ç¥éæ¯ä¸ä¸ªæ°æ®åçå®éé¿åº¦äºã\n\nåéç«¯å°æ¯ä¸ªæ°æ®åå°è£ä¸ºåºå®é¿åº¦ï¼ä¸å¤çå¯ä»¥éè¿è¡¥0å¡«åï¼ï¼è¿æ ·æ¥æ¶ç«¯æ¯æ¬¡ä»æ¥æ¶ç¼å²åºä¸­è¯»ååºå®é¿åº¦çæ°æ®å°±èªç¶èç¶çææ¯ä¸ªæ°æ®åæåå¼æ¥ã\n\nå¯ä»¥å¨æ°æ®åä¹é´è®¾ç½®è¾¹çï¼å¦æ·»å ç¹æ®ç¬¦å·ï¼è¿æ ·ï¼æ¥æ¶ç«¯éè¿è¿ä¸ªè¾¹çå°±å¯ä»¥å°ä¸åçæ°æ®åæåå¼ã",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿° HTTPS çå å¯ä¸è®¤è¯è¿ç¨",frontmatter:{title:"ç®è¿° HTTPS çå å¯ä¸è®¤è¯è¿ç¨",date:"2022-09-21T22:35:16.000Z",permalink:"/pages/12c0cc/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/060.%E7%AE%80%E8%BF%B0%20HTTPS%20%E7%9A%84%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/060.ç®è¿° HTTPS çå å¯ä¸è®¤è¯è¿ç¨.md",key:"v-3890e0b4",path:"/pages/12c0cc/",headers:[{level:2,title:"HTTPS åè®®ä¼ç¹",slug:"https-åè®®ä¼ç¹",normalizedTitle:"https åè®®ä¼ç¹",charIndex:2},{level:2,title:"HTTPS çæ ¸å¿âSSL/TLSåè®®",slug:"https-çæ ¸å¿-ssl-tlsåè®®",normalizedTitle:"https çæ ¸å¿âssl/tlsåè®®",charIndex:29},{level:2,title:"SSL å TLS çåºå«ï¼",slug:"ssl-å-tls-çåºå«",normalizedTitle:"ssl å tls çåºå«ï¼",charIndex:150},{level:2,title:"SSL/TLS çå·¥ä½åç",slug:"ssl-tls-çå·¥ä½åç",normalizedTitle:"ssl/tls çå·¥ä½åç",charIndex:131},{level:3,title:"éå¯¹ç§°å å¯",slug:"éå¯¹ç§°å å¯",normalizedTitle:"éå¯¹ç§°å å¯",charIndex:474},{level:3,title:"å¯¹ç§°å å¯",slug:"å¯¹ç§°å å¯",normalizedTitle:"å¯¹ç§°å å¯",charIndex:475},{level:3,title:"å¬é¥ä¼ è¾çä¿¡èµæ§",slug:"å¬é¥ä¼ è¾çä¿¡èµæ§",normalizedTitle:"å¬é¥ä¼ è¾çä¿¡èµæ§",charIndex:1626},{level:3,title:"æ°å­ç­¾å",slug:"æ°å­ç­¾å",normalizedTitle:"æ°å­ç­¾å",charIndex:2381}],headersStr:"HTTPS åè®®ä¼ç¹ HTTPS çæ ¸å¿âSSL/TLSåè®® SSL å TLS çåºå«ï¼ SSL/TLS çå·¥ä½åç éå¯¹ç§°å å¯ å¯¹ç§°å å¯ å¬é¥ä¼ è¾çä¿¡èµæ§ æ°å­ç­¾å",content:"# HTTPS åè®®ä¼ç¹\n\nä¿å¯æ§å¥½ãä¿¡ä»»åº¦é«ã\n\n\n# HTTPS çæ ¸å¿âSSL/TLSåè®®\n\nHTTPS ä¹æä»¥è½è¾¾å°è¾é«çå®å¨æ§è¦æ±ï¼å°±æ¯ç»åäº SSL/TLS å TCP åè®®ï¼å¯¹éä¿¡æ°æ®è¿è¡å å¯ï¼è§£å³äº HTTP æ°æ®éæçé®é¢ãæ¥ä¸æ¥éç¹ä»ç»ä¸ä¸ SSL/TLS çå·¥ä½åçã\n\n\n# SSL å TLS çåºå«ï¼\n\nSSL å TLS æ²¡æå¤ªå¤§çåºå«ã\n\nSSL æå®å¨å¥æ¥å­åè®®ï¼Secure Sockets Layerï¼ï¼é¦æ¬¡åå¸ä¸ 1996 å¹´ãSSL çé¦æ¬¡åå¸å¶å®å·²ç»æ¯ä»ç 3.0 çæ¬ï¼SSL 1.0 ä»æªé¢ä¸ï¼SSL 2.0 åå·æè¾å¤§çç¼ºé·ï¼DROWN ç¼ºé·ââDecrypting RSA with Obsolete and Weakened eNcryptionï¼ãå¾å¿«ï¼å¨ 1999 å¹´ï¼SSL 3.0 è¿ä¸æ­¥åçº§ï¼æ°çæ¬è¢«å½åä¸º TLS 1.0ãå æ­¤ï¼TLS æ¯åºäº SSL ä¹ä¸çï¼ä½ç±äºä¹ æ¯å«æ³ï¼éå¸¸æ HTTPS ä¸­çæ ¸å¿å å¯åè®®æ··æä¸º SSL/TLSã\n\n\n# SSL/TLS çå·¥ä½åç\n\n\n# éå¯¹ç§°å å¯\n\nSSL/TLS çæ ¸å¿è¦ç´ æ¯éå¯¹ç§°å å¯ãéå¯¹ç§°å å¯éç¨ä¸¤ä¸ªå¯é¥ââä¸ä¸ªå¬é¥ï¼ä¸ä¸ªç§é¥ãå¨éä¿¡æ¶ï¼ç§é¥ä»ç±è§£å¯èä¿å­ï¼å¬é¥ç±ä»»ä½ä¸ä¸ªæ³ä¸è§£å¯èéä¿¡çåéèï¼å å¯èï¼æç¥ãå¯ä»¥è®¾æ³ä¸ä¸ªåºæ¯ï¼\n\n> å¨æä¸ªèªå©é®å±ï¼æ¯ä¸ªéä¿¡ä¿¡éé½æ¯ä¸ä¸ªé®ç®±ï¼æ¯ä¸ä¸ªé®ç®±ææèé½å¨æè¾¹ç«äºä¸ä¸ªçå­ï¼ä¸é¢æçä¸æé¥åï¼è¿æ¯æçå¬é¥ï¼åéèè¯·å°ä¿¡ä»¶æ¾å¥æçé®ç®±ï¼å¹¶ç¨å¬é¥éå¥½ã ä½æ¯å¬é¥åªè½å éï¼å¹¶ä¸è½è§£éãè§£éåªè½ç±é®ç®±çææèââå ä¸ºåªæä»ä¿å­çç§é¥ã è¿æ ·ï¼éä¿¡ä¿¡æ¯å°±ä¸ä¼è¢«å¶ä»äººæªè·äºï¼è¿ä¾èµäºç§é¥çä¿å¯æ§ã\n\n\n\néå¯¹ç§°å å¯çå¬é¥åç§é¥éè¦éç¨ä¸ç§å¤æçæ°å­¦æºå¶çæï¼å¯ç å­¦è®¤ä¸ºï¼ä¸ºäºè¾é«çå®å¨æ§ï¼å°½éä¸è¦èªå·±åé å å¯æ¹æ¡ï¼ãå¬ç§é¥å¯¹ççæç®æ³ä¾èµäºååé·é¨å½æ°ã\n\n> ååå½æ°ï¼å·²ç¥ååå½æ° fï¼ç»å®ä»»æä¸ä¸ªè¾å¥ xï¼æè®¡ç®è¾åº y=f(x)ï¼èç»å®ä¸ä¸ªè¾åº yï¼åè®¾å­å¨ f(x)=yï¼å¾é¾æ ¹æ® f æ¥è®¡ç®åº xã ååé·é¨å½æ°ï¼ä¸ä¸ªè¾å¼±çååå½æ°ãå·²ç¥ååé·é¨å½æ° fï¼é·é¨ hï¼ç»å®ä»»æä¸ä¸ªè¾å¥ xï¼æè®¡ç®åºè¾åº y=f(x;h)ï¼èç»å®ä¸ä¸ªè¾åº yï¼åè®¾å­å¨ f(x;h)=yï¼å¾é¾æ ¹æ® f æ¥è®¡ç®åº xï¼ä½å¯ä»¥æ ¹æ® f å h æ¥æ¨å¯¼åº xã\n\n\n\nä¸å¾å°±æ¯ä¸ä¸ªååå½æ°ï¼ä¸æ¯åé¡¹é·é¨å½æ°ï¼ï¼åè®¾æä¸ä¸ªç»ä¸ç§ç±ï¼ä»»ä½ç¥éäºè¿ä¸ªç§ç±çäººé½å¯ä»¥æè¹ææ±æ¦¨æè¹æï¼é£ä¹è¿ä¸ªç§ç±å°±æ¯âé·é¨âäºå§ã\n\nå¨è¿éï¼å½æ° f çè®¡ç®æ¹æ³ç¸å½äºå¬é¥ï¼é·é¨ h ç¸å½äºç§é¥ãå¬é¥ f æ¯å¬å¼çï¼ä»»ä½äººå¯¹å·²æè¾å¥ï¼é½å¯ä»¥ç¨ f å å¯ï¼èè¦æ³æ ¹æ®å å¯ä¿¡æ¯è¿ååºåä¿¡æ¯ï¼å¿é¡»è¦æç§é¥æè¡ã\n\n\n# å¯¹ç§°å å¯\n\nä½¿ç¨ SSL/TLS è¿è¡éä¿¡çåæ¹éè¦ä½¿ç¨éå¯¹ç§°å å¯æ¹æ¡æ¥éä¿¡ï¼ä½æ¯éå¯¹ç§°å å¯è®¾è®¡äºè¾ä¸ºå¤æçæ°å­¦ç®æ³ï¼å¨å®ééä¿¡è¿ç¨ä¸­ï¼è®¡ç®çä»£ä»·è¾é«ï¼æçå¤ªä½ï¼å æ­¤ï¼SSL/TLS å®éå¯¹æ¶æ¯çå å¯ä½¿ç¨çæ¯å¯¹ç§°å å¯ã\n\n> å¯¹ç§°å å¯ï¼éä¿¡åæ¹å±äº«å¯ä¸å¯é¥ kï¼å è§£å¯ç®æ³å·²ç¥ï¼å å¯æ¹å©ç¨å¯é¥ k å å¯ï¼è§£å¯æ¹å©ç¨å¯é¥ k è§£å¯ï¼ä¿å¯æ§ä¾èµäºå¯é¥ k çä¿å¯æ§ã\n\n\n\nå¯¹ç§°å å¯çå¯é¥çæä»£ä»·æ¯å¬ç§é¥å¯¹ççæä»£ä»·ä½å¾å¤ï¼é£ä¹æçäººä¼é®äºï¼ä¸ºä»ä¹ SSL/TLS è¿éè¦ä½¿ç¨éå¯¹ç§°å å¯å¢ï¼ å ä¸ºå¯¹ç§°å å¯çä¿å¯æ§å®å¨ä¾èµäºå¯é¥çä¿å¯æ§ã å¨åæ¹éä¿¡ä¹åï¼éè¦åéä¸ä¸ªç¨äºå¯¹ç§°å å¯çå¯é¥ã æä»¬ç¥éç½ç»éä¿¡çä¿¡éæ¯ä¸å®å¨çï¼ä¼ è¾æ¥æå¯¹ä»»ä½äººæ¯å¯è§çï¼å¯é¥çäº¤æ¢è¯å®ä¸è½ç´æ¥å¨ç½ç»ä¿¡éä¸­ä¼ è¾ã å æ­¤ï¼ä½¿ç¨éå¯¹ç§°å å¯ï¼å¯¹å¯¹ç§°å å¯çå¯é¥è¿è¡å å¯ï¼ä¿æ¤è¯¥å¯é¥ä¸å¨ç½ç»ä¿¡éä¸­è¢«çªå¬ã è¿æ ·ï¼éä¿¡åæ¹åªéè¦ä¸æ¬¡éå¯¹ç§°å å¯ï¼äº¤æ¢å¯¹ç§°å å¯çå¯é¥ï¼å¨ä¹åçä¿¡æ¯éä¿¡ä¸­ï¼ ä½¿ç¨ç»å¯¹å®å¨çå¯é¥ï¼å¯¹ä¿¡æ¯è¿è¡å¯¹ç§°å å¯ï¼å³å¯ä¿è¯ä¼ è¾æ¶æ¯çä¿å¯æ§ã\n\n\n# å¬é¥ä¼ è¾çä¿¡èµæ§\n\nSSL/TLS ä»ç»å°è¿éï¼äºè§£ä¿¡æ¯å®å¨çæååä¼æ³å°ä¸ä¸ªå®å¨éæ£ï¼è®¾æ³ä¸ä¸ªä¸é¢çåºæ¯ï¼\n\n> å®¢æ·ç«¯ C åæå¡å¨ S æ³è¦ä½¿ç¨ SSL/TLS éä¿¡ï¼ç±ä¸è¿° SSL/TLS éä¿¡åçï¼C éè¦åç¥é S çå¬é¥ï¼è S å¬é¥çå¯ä¸è·åéå¾ï¼å°±æ¯æ S å¬é¥å¨ç½ç»ä¿¡éä¸­ä¼ è¾ãè¦æ³¨æç½ç»ä¿¡ééä¿¡ä¸­æå ä¸ªåæï¼\n\n> 1.ä»»ä½äººé½å¯ä»¥æè·éä¿¡å\n> \n> 2.éä¿¡åçä¿å¯æ§ç±åéèè®¾è®¡\n> \n> 3.ä¿å¯ç®æ³è®¾è®¡æ¹æ¡é»è®¤ä¸ºå¬å¼ï¼èï¼è§£å¯ï¼å¯é¥é»è®¤æ¯å®å¨ç\n> \n> å æ­¤ï¼åè®¾ S å¬é¥ä¸åå å¯ï¼å¨ä¿¡éä¸­ä¼ è¾ï¼é£ä¹å¾æå¯è½å­å¨ä¸ä¸ªæ»å»è Aï¼åéç» C ä¸ä¸ªè¯åï¼åè£æ¯ S å¬é¥ï¼å¶å®æ¯è¯±é¥µæå¡å¨ AS çå¬é¥ãå½ C æ¶è·äº AS çå¬é¥ï¼å´ä»¥ä¸ºæ¯ S çå¬é¥ï¼ï¼C åç»­å°±ä¼ä½¿ç¨ AS å¬é¥å¯¹æ°æ®è¿è¡å å¯ï¼å¹¶å¨å¬å¼ä¿¡éä¼ è¾ï¼é£ä¹ A å°æè·è¿äºå å¯åï¼ç¨ AS çç§é¥è§£å¯ï¼å°±æªè·äº C æ¬è¦ç» S åéçåå®¹ï¼è C å S äºäººå¨ç¶ä¸ç¥ã\n\nåæ ·çï¼S å¬é¥å³ä½¿åå å¯ï¼ä¹é¾ä»¥é¿åè¿ç§ä¿¡ä»»æ§é®é¢ï¼C è¢« AS æè·äºï¼\n\n\n\nä¸ºäºå¬é¥ä¼ è¾çä¿¡èµæ§é®é¢ï¼ç¬¬ä¸æ¹æºæåºè¿èçââè¯ä¹¦é¢åæºæï¼CAï¼Certificate Authorityï¼ãCA é»è®¤æ¯åä¿¡ä»»çç¬¬ä¸æ¹ãCA ä¼ç»åä¸ªæå¡å¨é¢åè¯ä¹¦ï¼è¯ä¹¦å­å¨å¨æå¡å¨ä¸ï¼å¹¶éæ CA ççµå­ç­¾åã\n\nå½å®¢æ·ç«¯ï¼æµè§å¨ï¼åæå¡å¨åé HTTPS è¯·æ±æ¶ï¼ä¸å®è¦åè·åç®æ æå¡å¨çè¯ä¹¦ï¼å¹¶æ ¹æ®è¯ä¹¦ä¸çä¿¡æ¯ï¼æ£éªè¯ä¹¦çåæ³æ§ãä¸æ¦å®¢æ·ç«¯æ£æµå°è¯ä¹¦éæ³ï¼å°±ä¼åçéè¯¯ãå®¢æ·ç«¯è·åäºæå¡å¨çè¯ä¹¦åï¼ç±äºè¯ä¹¦çä¿¡ä»»æ§æ¯ç±ç¬¬ä¸æ¹ä¿¡èµæºæè®¤è¯çï¼èè¯ä¹¦ä¸ååå«çæå¡å¨çå¬é¥ä¿¡æ¯ï¼å®¢æ·ç«¯å°±å¯ä»¥æ¾å¿çä¿¡ä»»è¯ä¹¦ä¸çå¬é¥å°±æ¯ç®æ æå¡å¨çå¬é¥ã\n\n\n# æ°å­ç­¾å\n\nå¥½ï¼å°è¿ä¸å°èï¼å·²ç»æ¯ SSL/TLS çå°¾å£°äºãä¸ä¸å°èæå°äºæ°å­ç­¾åï¼æ°å­ç­¾åè¦è§£å³çé®é¢ï¼æ¯é²æ­¢è¯ä¹¦è¢«ä¼ªé ãç¬¬ä¸æ¹ä¿¡èµæºæ CA ä¹æä»¥è½è¢«ä¿¡èµï¼å°±æ¯ é æ°å­ç­¾åææ¯ ã\n\næ°å­ç­¾åï¼æ¯ CA å¨ç»æå¡å¨é¢åè¯ä¹¦æ¶ï¼ä½¿ç¨æ£å+å å¯çç»åææ¯ï¼å¨è¯ä¹¦ä¸çä¸ªç« ï¼ä»¥æ­¤æ¥æä¾éªä¼ªçåè½ãå·ä½è¡ä¸ºå¦ä¸ï¼\n\n> CA ç¥éæå¡å¨çå¬é¥ï¼å¯¹è¯¥å¬é¥éç¨æ£åææ¯çæä¸ä¸ªæè¦ãCA ä½¿ç¨ CA ç§é¥å¯¹è¯¥æè¦è¿è¡å å¯ï¼å¹¶éå¨è¯ä¹¦ä¸æ¹ï¼åéç»æå¡å¨ã\n\n> ç°å¨æå¡å¨å°è¯¥è¯ä¹¦åéç»å®¢æ·ç«¯ï¼å®¢æ·ç«¯éè¦éªè¯è¯¥è¯ä¹¦çèº«ä»½ãå®¢æ·ç«¯æ¾å°ç¬¬ä¸æ¹æºæ CAï¼è·ç¥ CA çå¬é¥ï¼å¹¶ç¨ CA å¬é¥å¯¹è¯ä¹¦çç­¾åè¿è¡è§£å¯ï¼è·å¾äº CA çæçæè¦ã\n\n> å®¢æ·ç«¯å¯¹è¯ä¹¦æ°æ®ï¼ä¹å°±æ¯æå¡å¨çå¬é¥ï¼åç¸åçæ£åå¤çï¼å¾å°æè¦ï¼å¹¶å°è¯¥æè¦ä¸ä¹åä»ç­¾åä¸­è§£ç åºçæè¦åå¯¹æ¯ï¼å¦æç¸åï¼åèº«ä»½éªè¯æåï¼å¦åéªè¯å¤±è´¥ã\n\n\n\næ»ç»æ¥è¯´ï¼å¸¦æè¯ä¹¦çå¬é¥ä¼ è¾æºå¶å¦ä¸ï¼\n\n 1. è®¾ææå¡å¨ Sï¼å®¢æ·ç«¯ Cï¼åç¬¬ä¸æ¹ä¿¡èµæºæ CAã\n 2. S ä¿¡ä»» CAï¼CA æ¯ç¥é S å¬é¥çï¼CA å S é¢åè¯ä¹¦ãå¹¶éä¸ CA ç§é¥å¯¹æ¶æ¯æè¦çå å¯ç­¾åã\n 3. S è·å¾ CA é¢åçè¯ä¹¦ï¼å°è¯¥è¯ä¹¦ä¼ éç» Cã\n 4. C è·å¾ S çè¯ä¹¦ï¼ä¿¡ä»» CA å¹¶ç¥æ CA å¬é¥ï¼ä½¿ç¨ CA å¬é¥å¯¹ S è¯ä¹¦ä¸çç­¾åè§£å¯ï¼åæ¶å¯¹æ¶æ¯è¿è¡æ£åå¤çï¼å¾å°æè¦ãæ¯è¾æè¦ï¼éªè¯ S è¯ä¹¦ççå®æ§ã\n 5. å¦æ C éªè¯ S è¯ä¹¦æ¯çå®çï¼åä¿¡ä»» S çå¬é¥ï¼å¨ S è¯ä¹¦ä¸­ï¼ã\n\n\n\nå¯¹äºæ°å­ç­¾åï¼æè¿éè®²çæ¯è¾ç®åï¼å¦æä½ æ²¡æææ¸æ¥çè¯ï¼å¼ºçæ¨èä½ ççæ°å­ç­¾ååæ°å­è¯ä¹¦åç è¿ä¸ªè§é¢ï¼è¿æ¯æçè¿ææ¸æ°çè®²è§£ã\n\n",normalizedContent:"# https åè®®ä¼ç¹\n\nä¿å¯æ§å¥½ãä¿¡ä»»åº¦é«ã\n\n\n# https çæ ¸å¿âssl/tlsåè®®\n\nhttps ä¹æä»¥è½è¾¾å°è¾é«çå®å¨æ§è¦æ±ï¼å°±æ¯ç»åäº ssl/tls å tcp åè®®ï¼å¯¹éä¿¡æ°æ®è¿è¡å å¯ï¼è§£å³äº http æ°æ®éæçé®é¢ãæ¥ä¸æ¥éç¹ä»ç»ä¸ä¸ ssl/tls çå·¥ä½åçã\n\n\n# ssl å tls çåºå«ï¼\n\nssl å tls æ²¡æå¤ªå¤§çåºå«ã\n\nssl æå®å¨å¥æ¥å­åè®®ï¼secure sockets layerï¼ï¼é¦æ¬¡åå¸ä¸ 1996 å¹´ãssl çé¦æ¬¡åå¸å¶å®å·²ç»æ¯ä»ç 3.0 çæ¬ï¼ssl 1.0 ä»æªé¢ä¸ï¼ssl 2.0 åå·æè¾å¤§çç¼ºé·ï¼drown ç¼ºé·ââdecrypting rsa with obsolete and weakened encryptionï¼ãå¾å¿«ï¼å¨ 1999 å¹´ï¼ssl 3.0 è¿ä¸æ­¥åçº§ï¼æ°çæ¬è¢«å½åä¸º tls 1.0ãå æ­¤ï¼tls æ¯åºäº ssl ä¹ä¸çï¼ä½ç±äºä¹ æ¯å«æ³ï¼éå¸¸æ https ä¸­çæ ¸å¿å å¯åè®®æ··æä¸º ssl/tlsã\n\n\n# ssl/tls çå·¥ä½åç\n\n\n# éå¯¹ç§°å å¯\n\nssl/tls çæ ¸å¿è¦ç´ æ¯éå¯¹ç§°å å¯ãéå¯¹ç§°å å¯éç¨ä¸¤ä¸ªå¯é¥ââä¸ä¸ªå¬é¥ï¼ä¸ä¸ªç§é¥ãå¨éä¿¡æ¶ï¼ç§é¥ä»ç±è§£å¯èä¿å­ï¼å¬é¥ç±ä»»ä½ä¸ä¸ªæ³ä¸è§£å¯èéä¿¡çåéèï¼å å¯èï¼æç¥ãå¯ä»¥è®¾æ³ä¸ä¸ªåºæ¯ï¼\n\n> å¨æä¸ªèªå©é®å±ï¼æ¯ä¸ªéä¿¡ä¿¡éé½æ¯ä¸ä¸ªé®ç®±ï¼æ¯ä¸ä¸ªé®ç®±ææèé½å¨æè¾¹ç«äºä¸ä¸ªçå­ï¼ä¸é¢æçä¸æé¥åï¼è¿æ¯æçå¬é¥ï¼åéèè¯·å°ä¿¡ä»¶æ¾å¥æçé®ç®±ï¼å¹¶ç¨å¬é¥éå¥½ã ä½æ¯å¬é¥åªè½å éï¼å¹¶ä¸è½è§£éãè§£éåªè½ç±é®ç®±çææèââå ä¸ºåªæä»ä¿å­çç§é¥ã è¿æ ·ï¼éä¿¡ä¿¡æ¯å°±ä¸ä¼è¢«å¶ä»äººæªè·äºï¼è¿ä¾èµäºç§é¥çä¿å¯æ§ã\n\n\n\néå¯¹ç§°å å¯çå¬é¥åç§é¥éè¦éç¨ä¸ç§å¤æçæ°å­¦æºå¶çæï¼å¯ç å­¦è®¤ä¸ºï¼ä¸ºäºè¾é«çå®å¨æ§ï¼å°½éä¸è¦èªå·±åé å å¯æ¹æ¡ï¼ãå¬ç§é¥å¯¹ççæç®æ³ä¾èµäºååé·é¨å½æ°ã\n\n> ååå½æ°ï¼å·²ç¥ååå½æ° fï¼ç»å®ä»»æä¸ä¸ªè¾å¥ xï¼æè®¡ç®è¾åº y=f(x)ï¼èç»å®ä¸ä¸ªè¾åº yï¼åè®¾å­å¨ f(x)=yï¼å¾é¾æ ¹æ® f æ¥è®¡ç®åº xã ååé·é¨å½æ°ï¼ä¸ä¸ªè¾å¼±çååå½æ°ãå·²ç¥ååé·é¨å½æ° fï¼é·é¨ hï¼ç»å®ä»»æä¸ä¸ªè¾å¥ xï¼æè®¡ç®åºè¾åº y=f(x;h)ï¼èç»å®ä¸ä¸ªè¾åº yï¼åè®¾å­å¨ f(x;h)=yï¼å¾é¾æ ¹æ® f æ¥è®¡ç®åº xï¼ä½å¯ä»¥æ ¹æ® f å h æ¥æ¨å¯¼åº xã\n\n\n\nä¸å¾å°±æ¯ä¸ä¸ªååå½æ°ï¼ä¸æ¯åé¡¹é·é¨å½æ°ï¼ï¼åè®¾æä¸ä¸ªç»ä¸ç§ç±ï¼ä»»ä½ç¥éäºè¿ä¸ªç§ç±çäººé½å¯ä»¥æè¹ææ±æ¦¨æè¹æï¼é£ä¹è¿ä¸ªç§ç±å°±æ¯âé·é¨âäºå§ã\n\nå¨è¿éï¼å½æ° f çè®¡ç®æ¹æ³ç¸å½äºå¬é¥ï¼é·é¨ h ç¸å½äºç§é¥ãå¬é¥ f æ¯å¬å¼çï¼ä»»ä½äººå¯¹å·²æè¾å¥ï¼é½å¯ä»¥ç¨ f å å¯ï¼èè¦æ³æ ¹æ®å å¯ä¿¡æ¯è¿ååºåä¿¡æ¯ï¼å¿é¡»è¦æç§é¥æè¡ã\n\n\n# å¯¹ç§°å å¯\n\nä½¿ç¨ ssl/tls è¿è¡éä¿¡çåæ¹éè¦ä½¿ç¨éå¯¹ç§°å å¯æ¹æ¡æ¥éä¿¡ï¼ä½æ¯éå¯¹ç§°å å¯è®¾è®¡äºè¾ä¸ºå¤æçæ°å­¦ç®æ³ï¼å¨å®ééä¿¡è¿ç¨ä¸­ï¼è®¡ç®çä»£ä»·è¾é«ï¼æçå¤ªä½ï¼å æ­¤ï¼ssl/tls å®éå¯¹æ¶æ¯çå å¯ä½¿ç¨çæ¯å¯¹ç§°å å¯ã\n\n> å¯¹ç§°å å¯ï¼éä¿¡åæ¹å±äº«å¯ä¸å¯é¥ kï¼å è§£å¯ç®æ³å·²ç¥ï¼å å¯æ¹å©ç¨å¯é¥ k å å¯ï¼è§£å¯æ¹å©ç¨å¯é¥ k è§£å¯ï¼ä¿å¯æ§ä¾èµäºå¯é¥ k çä¿å¯æ§ã\n\n\n\nå¯¹ç§°å å¯çå¯é¥çæä»£ä»·æ¯å¬ç§é¥å¯¹ççæä»£ä»·ä½å¾å¤ï¼é£ä¹æçäººä¼é®äºï¼ä¸ºä»ä¹ ssl/tls è¿éè¦ä½¿ç¨éå¯¹ç§°å å¯å¢ï¼ å ä¸ºå¯¹ç§°å å¯çä¿å¯æ§å®å¨ä¾èµäºå¯é¥çä¿å¯æ§ã å¨åæ¹éä¿¡ä¹åï¼éè¦åéä¸ä¸ªç¨äºå¯¹ç§°å å¯çå¯é¥ã æä»¬ç¥éç½ç»éä¿¡çä¿¡éæ¯ä¸å®å¨çï¼ä¼ è¾æ¥æå¯¹ä»»ä½äººæ¯å¯è§çï¼å¯é¥çäº¤æ¢è¯å®ä¸è½ç´æ¥å¨ç½ç»ä¿¡éä¸­ä¼ è¾ã å æ­¤ï¼ä½¿ç¨éå¯¹ç§°å å¯ï¼å¯¹å¯¹ç§°å å¯çå¯é¥è¿è¡å å¯ï¼ä¿æ¤è¯¥å¯é¥ä¸å¨ç½ç»ä¿¡éä¸­è¢«çªå¬ã è¿æ ·ï¼éä¿¡åæ¹åªéè¦ä¸æ¬¡éå¯¹ç§°å å¯ï¼äº¤æ¢å¯¹ç§°å å¯çå¯é¥ï¼å¨ä¹åçä¿¡æ¯éä¿¡ä¸­ï¼ ä½¿ç¨ç»å¯¹å®å¨çå¯é¥ï¼å¯¹ä¿¡æ¯è¿è¡å¯¹ç§°å å¯ï¼å³å¯ä¿è¯ä¼ è¾æ¶æ¯çä¿å¯æ§ã\n\n\n# å¬é¥ä¼ è¾çä¿¡èµæ§\n\nssl/tls ä»ç»å°è¿éï¼äºè§£ä¿¡æ¯å®å¨çæååä¼æ³å°ä¸ä¸ªå®å¨éæ£ï¼è®¾æ³ä¸ä¸ªä¸é¢çåºæ¯ï¼\n\n> å®¢æ·ç«¯ c åæå¡å¨ s æ³è¦ä½¿ç¨ ssl/tls éä¿¡ï¼ç±ä¸è¿° ssl/tls éä¿¡åçï¼c éè¦åç¥é s çå¬é¥ï¼è s å¬é¥çå¯ä¸è·åéå¾ï¼å°±æ¯æ s å¬é¥å¨ç½ç»ä¿¡éä¸­ä¼ è¾ãè¦æ³¨æç½ç»ä¿¡ééä¿¡ä¸­æå ä¸ªåæï¼\n\n> 1.ä»»ä½äººé½å¯ä»¥æè·éä¿¡å\n> \n> 2.éä¿¡åçä¿å¯æ§ç±åéèè®¾è®¡\n> \n> 3.ä¿å¯ç®æ³è®¾è®¡æ¹æ¡é»è®¤ä¸ºå¬å¼ï¼èï¼è§£å¯ï¼å¯é¥é»è®¤æ¯å®å¨ç\n> \n> å æ­¤ï¼åè®¾ s å¬é¥ä¸åå å¯ï¼å¨ä¿¡éä¸­ä¼ è¾ï¼é£ä¹å¾æå¯è½å­å¨ä¸ä¸ªæ»å»è aï¼åéç» c ä¸ä¸ªè¯åï¼åè£æ¯ s å¬é¥ï¼å¶å®æ¯è¯±é¥µæå¡å¨ as çå¬é¥ãå½ c æ¶è·äº as çå¬é¥ï¼å´ä»¥ä¸ºæ¯ s çå¬é¥ï¼ï¼c åç»­å°±ä¼ä½¿ç¨ as å¬é¥å¯¹æ°æ®è¿è¡å å¯ï¼å¹¶å¨å¬å¼ä¿¡éä¼ è¾ï¼é£ä¹ a å°æè·è¿äºå å¯åï¼ç¨ as çç§é¥è§£å¯ï¼å°±æªè·äº c æ¬è¦ç» s åéçåå®¹ï¼è c å s äºäººå¨ç¶ä¸ç¥ã\n\nåæ ·çï¼s å¬é¥å³ä½¿åå å¯ï¼ä¹é¾ä»¥é¿åè¿ç§ä¿¡ä»»æ§é®é¢ï¼c è¢« as æè·äºï¼\n\n\n\nä¸ºäºå¬é¥ä¼ è¾çä¿¡èµæ§é®é¢ï¼ç¬¬ä¸æ¹æºæåºè¿èçââè¯ä¹¦é¢åæºæï¼caï¼certificate authorityï¼ãca é»è®¤æ¯åä¿¡ä»»çç¬¬ä¸æ¹ãca ä¼ç»åä¸ªæå¡å¨é¢åè¯ä¹¦ï¼è¯ä¹¦å­å¨å¨æå¡å¨ä¸ï¼å¹¶éæ ca ççµå­ç­¾åã\n\nå½å®¢æ·ç«¯ï¼æµè§å¨ï¼åæå¡å¨åé https è¯·æ±æ¶ï¼ä¸å®è¦åè·åç®æ æå¡å¨çè¯ä¹¦ï¼å¹¶æ ¹æ®è¯ä¹¦ä¸çä¿¡æ¯ï¼æ£éªè¯ä¹¦çåæ³æ§ãä¸æ¦å®¢æ·ç«¯æ£æµå°è¯ä¹¦éæ³ï¼å°±ä¼åçéè¯¯ãå®¢æ·ç«¯è·åäºæå¡å¨çè¯ä¹¦åï¼ç±äºè¯ä¹¦çä¿¡ä»»æ§æ¯ç±ç¬¬ä¸æ¹ä¿¡èµæºæè®¤è¯çï¼èè¯ä¹¦ä¸ååå«çæå¡å¨çå¬é¥ä¿¡æ¯ï¼å®¢æ·ç«¯å°±å¯ä»¥æ¾å¿çä¿¡ä»»è¯ä¹¦ä¸çå¬é¥å°±æ¯ç®æ æå¡å¨çå¬é¥ã\n\n\n# æ°å­ç­¾å\n\nå¥½ï¼å°è¿ä¸å°èï¼å·²ç»æ¯ ssl/tls çå°¾å£°äºãä¸ä¸å°èæå°äºæ°å­ç­¾åï¼æ°å­ç­¾åè¦è§£å³çé®é¢ï¼æ¯é²æ­¢è¯ä¹¦è¢«ä¼ªé ãç¬¬ä¸æ¹ä¿¡èµæºæ ca ä¹æä»¥è½è¢«ä¿¡èµï¼å°±æ¯ é æ°å­ç­¾åææ¯ ã\n\næ°å­ç­¾åï¼æ¯ ca å¨ç»æå¡å¨é¢åè¯ä¹¦æ¶ï¼ä½¿ç¨æ£å+å å¯çç»åææ¯ï¼å¨è¯ä¹¦ä¸çä¸ªç« ï¼ä»¥æ­¤æ¥æä¾éªä¼ªçåè½ãå·ä½è¡ä¸ºå¦ä¸ï¼\n\n> ca ç¥éæå¡å¨çå¬é¥ï¼å¯¹è¯¥å¬é¥éç¨æ£åææ¯çæä¸ä¸ªæè¦ãca ä½¿ç¨ ca ç§é¥å¯¹è¯¥æè¦è¿è¡å å¯ï¼å¹¶éå¨è¯ä¹¦ä¸æ¹ï¼åéç»æå¡å¨ã\n\n> ç°å¨æå¡å¨å°è¯¥è¯ä¹¦åéç»å®¢æ·ç«¯ï¼å®¢æ·ç«¯éè¦éªè¯è¯¥è¯ä¹¦çèº«ä»½ãå®¢æ·ç«¯æ¾å°ç¬¬ä¸æ¹æºæ caï¼è·ç¥ ca çå¬é¥ï¼å¹¶ç¨ ca å¬é¥å¯¹è¯ä¹¦çç­¾åè¿è¡è§£å¯ï¼è·å¾äº ca çæçæè¦ã\n\n> å®¢æ·ç«¯å¯¹è¯ä¹¦æ°æ®ï¼ä¹å°±æ¯æå¡å¨çå¬é¥ï¼åç¸åçæ£åå¤çï¼å¾å°æè¦ï¼å¹¶å°è¯¥æè¦ä¸ä¹åä»ç­¾åä¸­è§£ç åºçæè¦åå¯¹æ¯ï¼å¦æç¸åï¼åèº«ä»½éªè¯æåï¼å¦åéªè¯å¤±è´¥ã\n\n\n\næ»ç»æ¥è¯´ï¼å¸¦æè¯ä¹¦çå¬é¥ä¼ è¾æºå¶å¦ä¸ï¼\n\n 1. è®¾ææå¡å¨ sï¼å®¢æ·ç«¯ cï¼åç¬¬ä¸æ¹ä¿¡èµæºæ caã\n 2. s ä¿¡ä»» caï¼ca æ¯ç¥é s å¬é¥çï¼ca å s é¢åè¯ä¹¦ãå¹¶éä¸ ca ç§é¥å¯¹æ¶æ¯æè¦çå å¯ç­¾åã\n 3. s è·å¾ ca é¢åçè¯ä¹¦ï¼å°è¯¥è¯ä¹¦ä¼ éç» cã\n 4. c è·å¾ s çè¯ä¹¦ï¼ä¿¡ä»» ca å¹¶ç¥æ ca å¬é¥ï¼ä½¿ç¨ ca å¬é¥å¯¹ s è¯ä¹¦ä¸çç­¾åè§£å¯ï¼åæ¶å¯¹æ¶æ¯è¿è¡æ£åå¤çï¼å¾å°æè¦ãæ¯è¾æè¦ï¼éªè¯ s è¯ä¹¦ççå®æ§ã\n 5. å¦æ c éªè¯ s è¯ä¹¦æ¯çå®çï¼åä¿¡ä»» s çå¬é¥ï¼å¨ s è¯ä¹¦ä¸­ï¼ã\n\n\n\nå¯¹äºæ°å­ç­¾åï¼æè¿éè®²çæ¯è¾ç®åï¼å¦æä½ æ²¡æææ¸æ¥çè¯ï¼å¼ºçæ¨èä½ ççæ°å­ç­¾ååæ°å­è¯ä¹¦åç è¿ä¸ªè§é¢ï¼è¿æ¯æçè¿ææ¸æ°çè®²è§£ã\n\n",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"TCP ä¸ UDP å¨ç½ç»åè®®ä¸­çåªä¸å±ï¼ä»ä»¬ä¹é´æä»ä¹åºå«ï¼",frontmatter:{title:"TCP ä¸ UDP å¨ç½ç»åè®®ä¸­çåªä¸å±ï¼ä»ä»¬ä¹é´æä»ä¹åºå«ï¼",date:"2022-09-21T22:35:48.000Z",permalink:"/pages/cc4b24/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/080.TCP%20%E4%B8%8E%20UDP%20%E5%9C%A8%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E4%B8%AD%E7%9A%84%E5%93%AA%E4%B8%80%E5%B1%82%EF%BC%8C%E4%BB%96%E4%BB%AC%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/080.TCP ä¸ UDP å¨ç½ç»åè®®ä¸­çåªä¸å±ï¼ä»ä»¬ä¹é´æä»ä¹åºå«ï¼.md",key:"v-c0c0e5c8",path:"/pages/cc4b24/",headers:[{level:2,title:"TCP ä¸ UDP çåºå«ï¼éè¦ï¼",slug:"tcp-ä¸-udp-çåºå«-éè¦",normalizedTitle:"tcp ä¸ udp çåºå«ï¼éè¦ï¼",charIndex:2},{level:2,title:"ä»ä¹æ¶åéæ© TCP,ä»ä¹æ¶åé UDP?",slug:"ä»ä¹æ¶åéæ©-tcp-ä»ä¹æ¶åé-udp",normalizedTitle:"ä»ä¹æ¶åéæ© tcp,ä»ä¹æ¶åé udp?",charIndex:907},{level:2,title:"HTTP åºäº TCP è¿æ¯ UDPï¼",slug:"http-åºäº-tcp-è¿æ¯-udp",normalizedTitle:"http åºäº tcp è¿æ¯ udpï¼",charIndex:1063},{level:2,title:"ä½¿ç¨ TCP çåè®®æåªäº?ä½¿ç¨ UDP çåè®®æåªäº?",slug:"ä½¿ç¨-tcp-çåè®®æåªäº-ä½¿ç¨-udp-çåè®®æåªäº",normalizedTitle:"ä½¿ç¨ tcp çåè®®æåªäº?ä½¿ç¨ udp çåè®®æåªäº?",charIndex:1147}],headersStr:"TCP ä¸ UDP çåºå«ï¼éè¦ï¼ ä»ä¹æ¶åéæ© TCP,ä»ä¹æ¶åé UDP? HTTP åºäº TCP è¿æ¯ UDPï¼ ä½¿ç¨ TCP çåè®®æåªäº?ä½¿ç¨ UDP çåè®®æåªäº?",content:"# TCP ä¸ UDP çåºå«ï¼éè¦ï¼\n\n 1. æ¯å¦é¢åè¿æ¥ ï¼UDP å¨ä¼ éæ°æ®ä¹åä¸éè¦åå»ºç«è¿æ¥ãè TCP æä¾é¢åè¿æ¥çæå¡ï¼å¨ä¼ éæ°æ®ä¹åå¿é¡»åå»ºç«è¿æ¥ï¼æ°æ®ä¼ éç»æåè¦éæ¾è¿æ¥ã\n 2. æ¯å¦æ¯å¯é ä¼ è¾ï¼è¿å°ä¸»æºå¨æ¶å° UDP æ¥æåï¼ä¸éè¦ç»åºä»»ä½ç¡®è®¤ï¼å¹¶ä¸ä¸ä¿è¯æ°æ®ä¸ä¸¢å¤±ï¼ä¸ä¿è¯æ¯å¦é¡ºåºå°è¾¾ãTCP æä¾å¯é çä¼ è¾æå¡ï¼TCP å¨ä¼ éæ°æ®ä¹åï¼ä¼æä¸æ¬¡æ¡ææ¥å»ºç«è¿æ¥ï¼èä¸å¨æ°æ®ä¼ éæ¶ï¼æç¡®è®¤ãçªå£ãéä¼ ãæ¥å¡æ§å¶æºå¶ãéè¿ TCP è¿æ¥ä¼ è¾çæ°æ®ï¼æ å·®éãä¸ä¸¢å¤±ãä¸éå¤ãå¹¶ä¸æåºå°è¾¾ã\n 3. æ¯å¦æç¶æ ï¼è¿ä¸ªåä¸é¢çâæ¯å¦å¯é ä¼ è¾âç¸å¯¹åºãTCP ä¼ è¾æ¯æç¶æçï¼è¿ä¸ªæç¶æè¯´çæ¯ TCP ä¼å»è®°å½èªå·±åéæ¶æ¯çç¶ææ¯å¦æ¶æ¯æ¯å¦åéäºãæ¯å¦è¢«æ¥æ¶äºç­ç­ãä¸ºæ­¤ ï¼TCP éè¦ç»´æå¤æçè¿æ¥ç¶æè¡¨ãè UDP æ¯æ ç¶ææå¡ï¼ç®åæ¥è¯´å°±æ¯ä¸ç®¡ååºå»ä¹åçäºæäºï¼è¿å¾æ¸£ç·ï¼ï¼ã\n 4. ä¼ è¾æç ï¼ç±äºä½¿ç¨ TCP è¿è¡ä¼ è¾çæ¶åå¤äºè¿æ¥ãç¡®è®¤ãéä¼ ç­æºå¶ï¼æä»¥ TCP çä¼ è¾æçè¦æ¯ UDP ä½å¾å¤ã\n 5. ä¼ è¾å½¢å¼ ï¼ TCP æ¯é¢åå­èæµçï¼UDP æ¯é¢åæ¥æçã\n 6. é¦é¨å¼é ï¼TCP é¦é¨å¼éï¼20 ï½ 60 å­èï¼æ¯ UDP é¦é¨å¼éï¼8 å­èï¼è¦å¤§ã\n 7. æ¯å¦æä¾å¹¿æ­æå¤æ­æå¡ ï¼TCP åªæ¯æç¹å¯¹ç¹éä¿¡ï¼UDP æ¯æä¸å¯¹ä¸ãä¸å¯¹å¤ãå¤å¯¹ä¸ãå¤å¯¹å¤ï¼ ...... ææä¸é¢æ»ç»çåå®¹éè¿è¡¨æ ¼å½¢å¼å±ç¤ºåºæ¥äºï¼\n\n              TCP             UDP\næ¯å¦é¢åè¿æ¥        æ¯               å¦\næ¯å¦å¯é           æ¯               å¦\næ¯å¦æç¶æ         æ¯               å¦\nä¼ è¾æç          è¾æ¢              è¾å¿«\nä¼ è¾å½¢å¼          å­èæµ             æ°æ®æ¥ææ®µ\né¦é¨å¼é          20 ï½ 60 bytes   8 bytes\næ¯å¦æä¾å¹¿æ­æå¤æ­æå¡   å¦               æ¯\n\n\n# ä»ä¹æ¶åéæ© TCP,ä»ä¹æ¶åé UDP?\n\n * UDP ä¸è¬ç¨äºå³æ¶éä¿¡ï¼æ¯å¦ï¼ è¯­é³ã è§é¢ ãç´æ­ç­ç­ãè¿äºåºæ¯å¯¹ä¼ è¾æ°æ®çåç¡®æ§è¦æ±ä¸æ¯ç¹å«é«ï¼æ¯å¦ä½ çè§é¢å³ä½¿å°ä¸ªä¸ä¸¤å¸§ï¼å®éç»äººçæè§åºå«ä¹ä¸å¤§ã\n * TCP ç¨äºå¯¹ä¼ è¾åç¡®æ§è¦æ±ç¹å«é«çåºæ¯ï¼æ¯å¦æä»¶ä¼ è¾ãåéåæ¥æ¶é®ä»¶ãè¿ç¨ç»å½ç­ç­ã\n\n\n# HTTP åºäº TCP è¿æ¯ UDPï¼\n\nHTTP åè®®æ¯åºäº TCP åè®®çï¼æä»¥åé HTTP è¯·æ±ä¹åé¦åè¦å»ºç« TCP è¿æ¥ä¹å°±æ¯è¦ç»å 3 æ¬¡æ¡æã\n\n\n# ä½¿ç¨ TCP çåè®®æåªäº?ä½¿ç¨ UDP çåè®®æåªäº?\n\nè¿è¡äº TCP åè®®ä¹ä¸çåè®® ï¼\n\n 1. HTTP åè®® ï¼è¶ææ¬ä¼ è¾åè®®ï¼HTTPï¼HyperText Transfer Protocol)ä¸»è¦æ¯ä¸º Web æµè§å¨ä¸ Web æå¡å¨ä¹é´çéä¿¡èè®¾è®¡çãå½æä»¬ä½¿ç¨æµè§å¨æµè§ç½é¡µçæ¶åï¼æä»¬ç½é¡µå°±æ¯éè¿ HTTP è¯·æ±è¿è¡å è½½çã\n\n 2. HTTPS åè®® ï¼æ´å®å¨çè¶ææ¬ä¼ è¾åè®®(HTTPS,Hypertext Transfer Protocol Secure)ï¼èº«æ« SSL å¤è¡£ç HTTP åè®®\n\n 3. FTP åè®®ï¼æä»¶ä¼ è¾åè®® FTPï¼File Transfer Protocolï¼ï¼æä¾æä»¶ä¼ è¾æå¡ï¼åºäº TCP å®ç°å¯é çä¼ è¾ãä½¿ç¨ FTP ä¼ è¾æä»¶çå¥½å¤æ¯å¯ä»¥å±è½æä½ç³»ç»åæä»¶å­å¨æ¹å¼ã\n\n 4. SMTP åè®®ï¼ç®åé®ä»¶ä¼ è¾åè®®ï¼SMTPï¼Simple Mail Transfer Protocolï¼çç¼©åï¼åºäº TCP åè®®ï¼ç¨æ¥åéçµå­é®ä»¶ãæ³¨æ â ï¸ï¼æ¥åé®ä»¶çåè®®ä¸æ¯ SMTP èæ¯ POP3 åè®®ã\n\n 5. POP3/IMAP åè®®ï¼ POP3 å IMAP ä¸¤èé½æ¯è´è´£é®ä»¶æ¥æ¶çåè®®ã\n\n 6. Telent åè®®ï¼è¿ç¨ç»éåè®®ï¼éè¿ä¸ä¸ªç»ç«¯ç»éå°å¶ä»æå¡å¨ãè¢«ä¸ç§ç§°ä¸º SSH çéå¸¸å®å¨çåè®®æåä»£ã\n\n 7. SSH åè®® : SSHï¼ Secure Shellï¼æ¯ç®åè¾å¯é ï¼ä¸ä¸ºè¿ç¨ç»å½ä¼è¯åå¶ä»ç½ç»æå¡æä¾å®å¨æ§çåè®®ãå©ç¨ SSH åè®®å¯ä»¥ææé²æ­¢è¿ç¨ç®¡çè¿ç¨ä¸­çä¿¡æ¯æ³é²é®é¢ãSSH å»ºç«å¨å¯é çä¼ è¾åè®® TCP ä¹ä¸ã ...... è¿è¡äº UDP åè®®ä¹ä¸çåè®® ï¼\n\n 8. DHCP åè®®ï¼å¨æä¸»æºéç½®åè®®ï¼å¨æéç½® IP å°å\n\n 9. DNS ï¼ ååç³»ç»ï¼DNSï¼Domain Name Systemï¼å°äººç±»å¯è¯»çåå (ä¾å¦ï¼www.baidu.com) è½¬æ¢ä¸ºæºå¨å¯è¯»ç IP å°å (ä¾å¦ï¼220.181.38.148)ã æä»¬å¯ä»¥å°å¶çè§£ä¸ºä¸ä¸ºäºèç½è®¾è®¡ççµè¯èãå®éä¸ DNS åæ¶æ¯æ UDP å TCP åè®®ã",normalizedContent:"# tcp ä¸ udp çåºå«ï¼éè¦ï¼\n\n 1. æ¯å¦é¢åè¿æ¥ ï¼udp å¨ä¼ éæ°æ®ä¹åä¸éè¦åå»ºç«è¿æ¥ãè tcp æä¾é¢åè¿æ¥çæå¡ï¼å¨ä¼ éæ°æ®ä¹åå¿é¡»åå»ºç«è¿æ¥ï¼æ°æ®ä¼ éç»æåè¦éæ¾è¿æ¥ã\n 2. æ¯å¦æ¯å¯é ä¼ è¾ï¼è¿å°ä¸»æºå¨æ¶å° udp æ¥æåï¼ä¸éè¦ç»åºä»»ä½ç¡®è®¤ï¼å¹¶ä¸ä¸ä¿è¯æ°æ®ä¸ä¸¢å¤±ï¼ä¸ä¿è¯æ¯å¦é¡ºåºå°è¾¾ãtcp æä¾å¯é çä¼ è¾æå¡ï¼tcp å¨ä¼ éæ°æ®ä¹åï¼ä¼æä¸æ¬¡æ¡ææ¥å»ºç«è¿æ¥ï¼èä¸å¨æ°æ®ä¼ éæ¶ï¼æç¡®è®¤ãçªå£ãéä¼ ãæ¥å¡æ§å¶æºå¶ãéè¿ tcp è¿æ¥ä¼ è¾çæ°æ®ï¼æ å·®éãä¸ä¸¢å¤±ãä¸éå¤ãå¹¶ä¸æåºå°è¾¾ã\n 3. æ¯å¦æç¶æ ï¼è¿ä¸ªåä¸é¢çâæ¯å¦å¯é ä¼ è¾âç¸å¯¹åºãtcp ä¼ è¾æ¯æç¶æçï¼è¿ä¸ªæç¶æè¯´çæ¯ tcp ä¼å»è®°å½èªå·±åéæ¶æ¯çç¶ææ¯å¦æ¶æ¯æ¯å¦åéäºãæ¯å¦è¢«æ¥æ¶äºç­ç­ãä¸ºæ­¤ ï¼tcp éè¦ç»´æå¤æçè¿æ¥ç¶æè¡¨ãè udp æ¯æ ç¶ææå¡ï¼ç®åæ¥è¯´å°±æ¯ä¸ç®¡ååºå»ä¹åçäºæäºï¼è¿å¾æ¸£ç·ï¼ï¼ã\n 4. ä¼ è¾æç ï¼ç±äºä½¿ç¨ tcp è¿è¡ä¼ è¾çæ¶åå¤äºè¿æ¥ãç¡®è®¤ãéä¼ ç­æºå¶ï¼æä»¥ tcp çä¼ è¾æçè¦æ¯ udp ä½å¾å¤ã\n 5. ä¼ è¾å½¢å¼ ï¼ tcp æ¯é¢åå­èæµçï¼udp æ¯é¢åæ¥æçã\n 6. é¦é¨å¼é ï¼tcp é¦é¨å¼éï¼20 ï½ 60 å­èï¼æ¯ udp é¦é¨å¼éï¼8 å­èï¼è¦å¤§ã\n 7. æ¯å¦æä¾å¹¿æ­æå¤æ­æå¡ ï¼tcp åªæ¯æç¹å¯¹ç¹éä¿¡ï¼udp æ¯æä¸å¯¹ä¸ãä¸å¯¹å¤ãå¤å¯¹ä¸ãå¤å¯¹å¤ï¼ ...... ææä¸é¢æ»ç»çåå®¹éè¿è¡¨æ ¼å½¢å¼å±ç¤ºåºæ¥äºï¼\n\n              tcp             udp\næ¯å¦é¢åè¿æ¥        æ¯               å¦\næ¯å¦å¯é           æ¯               å¦\næ¯å¦æç¶æ         æ¯               å¦\nä¼ è¾æç          è¾æ¢              è¾å¿«\nä¼ è¾å½¢å¼          å­èæµ             æ°æ®æ¥ææ®µ\né¦é¨å¼é          20 ï½ 60 bytes   8 bytes\næ¯å¦æä¾å¹¿æ­æå¤æ­æå¡   å¦               æ¯\n\n\n# ä»ä¹æ¶åéæ© tcp,ä»ä¹æ¶åé udp?\n\n * udp ä¸è¬ç¨äºå³æ¶éä¿¡ï¼æ¯å¦ï¼ è¯­é³ã è§é¢ ãç´æ­ç­ç­ãè¿äºåºæ¯å¯¹ä¼ è¾æ°æ®çåç¡®æ§è¦æ±ä¸æ¯ç¹å«é«ï¼æ¯å¦ä½ çè§é¢å³ä½¿å°ä¸ªä¸ä¸¤å¸§ï¼å®éç»äººçæè§åºå«ä¹ä¸å¤§ã\n * tcp ç¨äºå¯¹ä¼ è¾åç¡®æ§è¦æ±ç¹å«é«çåºæ¯ï¼æ¯å¦æä»¶ä¼ è¾ãåéåæ¥æ¶é®ä»¶ãè¿ç¨ç»å½ç­ç­ã\n\n\n# http åºäº tcp è¿æ¯ udpï¼\n\nhttp åè®®æ¯åºäº tcp åè®®çï¼æä»¥åé http è¯·æ±ä¹åé¦åè¦å»ºç« tcp è¿æ¥ä¹å°±æ¯è¦ç»å 3 æ¬¡æ¡æã\n\n\n# ä½¿ç¨ tcp çåè®®æåªäº?ä½¿ç¨ udp çåè®®æåªäº?\n\nè¿è¡äº tcp åè®®ä¹ä¸çåè®® ï¼\n\n 1. http åè®® ï¼è¶ææ¬ä¼ è¾åè®®ï¼httpï¼hypertext transfer protocol)ä¸»è¦æ¯ä¸º web æµè§å¨ä¸ web æå¡å¨ä¹é´çéä¿¡èè®¾è®¡çãå½æä»¬ä½¿ç¨æµè§å¨æµè§ç½é¡µçæ¶åï¼æä»¬ç½é¡µå°±æ¯éè¿ http è¯·æ±è¿è¡å è½½çã\n\n 2. https åè®® ï¼æ´å®å¨çè¶ææ¬ä¼ è¾åè®®(https,hypertext transfer protocol secure)ï¼èº«æ« ssl å¤è¡£ç http åè®®\n\n 3. ftp åè®®ï¼æä»¶ä¼ è¾åè®® ftpï¼file transfer protocolï¼ï¼æä¾æä»¶ä¼ è¾æå¡ï¼åºäº tcp å®ç°å¯é çä¼ è¾ãä½¿ç¨ ftp ä¼ è¾æä»¶çå¥½å¤æ¯å¯ä»¥å±è½æä½ç³»ç»åæä»¶å­å¨æ¹å¼ã\n\n 4. smtp åè®®ï¼ç®åé®ä»¶ä¼ è¾åè®®ï¼smtpï¼simple mail transfer protocolï¼çç¼©åï¼åºäº tcp åè®®ï¼ç¨æ¥åéçµå­é®ä»¶ãæ³¨æ â ï¸ï¼æ¥åé®ä»¶çåè®®ä¸æ¯ smtp èæ¯ pop3 åè®®ã\n\n 5. pop3/imap åè®®ï¼ pop3 å imap ä¸¤èé½æ¯è´è´£é®ä»¶æ¥æ¶çåè®®ã\n\n 6. telent åè®®ï¼è¿ç¨ç»éåè®®ï¼éè¿ä¸ä¸ªç»ç«¯ç»éå°å¶ä»æå¡å¨ãè¢«ä¸ç§ç§°ä¸º ssh çéå¸¸å®å¨çåè®®æåä»£ã\n\n 7. ssh åè®® : sshï¼ secure shellï¼æ¯ç®åè¾å¯é ï¼ä¸ä¸ºè¿ç¨ç»å½ä¼è¯åå¶ä»ç½ç»æå¡æä¾å®å¨æ§çåè®®ãå©ç¨ ssh åè®®å¯ä»¥ææé²æ­¢è¿ç¨ç®¡çè¿ç¨ä¸­çä¿¡æ¯æ³é²é®é¢ãssh å»ºç«å¨å¯é çä¼ è¾åè®® tcp ä¹ä¸ã ...... è¿è¡äº udp åè®®ä¹ä¸çåè®® ï¼\n\n 8. dhcp åè®®ï¼å¨æä¸»æºéç½®åè®®ï¼å¨æéç½® ip å°å\n\n 9. dns ï¼ ååç³»ç»ï¼dnsï¼domain name systemï¼å°äººç±»å¯è¯»çåå (ä¾å¦ï¼www.baidu.com) è½¬æ¢ä¸ºæºå¨å¯è¯»ç ip å°å (ä¾å¦ï¼220.181.38.148)ã æä»¬å¯ä»¥å°å¶çè§£ä¸ºä¸ä¸ºäºèç½è®¾è®¡ççµè¯èãå®éä¸ dns åæ¶æ¯æ udp å tcp åè®®ã",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"å¦ä½è§£å³ TCP ä¼ è¾ä¸¢åé®é¢ï¼",frontmatter:{title:"å¦ä½è§£å³ TCP ä¼ è¾ä¸¢åé®é¢ï¼",date:"2022-09-21T22:36:03.000Z",permalink:"/pages/a656a9/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/090.%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%20TCP%20%E4%BC%A0%E8%BE%93%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/090.å¦ä½è§£å³ TCP ä¼ è¾ä¸¢åé®é¢ï¼.md",key:"v-aa8887a4",path:"/pages/a656a9/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿°å¯¹ç§°ä¸éå¯¹ç§°å å¯çæ¦å¿µ",frontmatter:{title:"ç®è¿°å¯¹ç§°ä¸éå¯¹ç§°å å¯çæ¦å¿µ",date:"2022-09-21T22:35:34.000Z",permalink:"/pages/057092/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/070.%E7%AE%80%E8%BF%B0%E5%AF%B9%E7%A7%B0%E4%B8%8E%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%9A%84%E6%A6%82%E5%BF%B5.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/070.ç®è¿°å¯¹ç§°ä¸éå¯¹ç§°å å¯çæ¦å¿µ.md",key:"v-eb417bbe",path:"/pages/057092/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"TCP é¿è¿æ¥åç­è¿æ¥æé£ä¹ä¸åçä½¿ç¨åºæ¯ï¼",frontmatter:{title:"TCP é¿è¿æ¥åç­è¿æ¥æé£ä¹ä¸åçä½¿ç¨åºæ¯ï¼",date:"2022-09-21T22:36:19.000Z",permalink:"/pages/dda19e/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/100.TCP%20%E9%95%BF%E8%BF%9E%E6%8E%A5%E5%92%8C%E7%9F%AD%E8%BF%9E%E6%8E%A5%E6%9C%89%E9%82%A3%E4%B9%88%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/100.TCP é¿è¿æ¥åç­è¿æ¥æé£ä¹ä¸åçä½¿ç¨åºæ¯ï¼.md",key:"v-f886ba80",path:"/pages/dda19e/",headers:[{level:2,title:"åæï¼",slug:"åæ",normalizedTitle:"åæï¼",charIndex:2},{level:2,title:"å®ä¹ï¼",slug:"å®ä¹",normalizedTitle:"å®ä¹ï¼",charIndex:125},{level:3,title:"ä¼ç¼ºç¹ï¼",slug:"ä¼ç¼ºç¹",normalizedTitle:"ä¼ç¼ºç¹ï¼",charIndex:338},{level:3,title:"ä½¿ç¨åºæ¯ï¼",slug:"ä½¿ç¨åºæ¯",normalizedTitle:"ä½¿ç¨åºæ¯ï¼",charIndex:504}],headersStr:"åæï¼ å®ä¹ï¼ ä¼ç¼ºç¹ï¼ ä½¿ç¨åºæ¯ï¼",content:"# åæï¼\n\nHTTP/1.0é»è®¤ä½¿ç¨ç­è¿æ¥ï¼HTTP/1.1å¼å§é»è®¤ä½¿ç¨é¿è¿æ¥ï¼\n\nHTTPåè®®çé¿è¿æ¥åç­è¿æ¥ï¼å®è´¨å°±æ¯TCPåè®®çé¿è¿æ¥åç­è¿æ¥ï¼\n\nTCPåè®®å»ºç«è¿æ¥éè¦3æ¬¡æ¡æï¼æ­å¼è¿æ¥éè¦4æ¬¡æ¡æï¼è¿ä¸ªè¿ç¨ä¼æ¶èç½ç»èµæºåæ¶é´ï¼\n\n\n# å®ä¹ï¼\n\n * é¿è¿æ¥ï¼å¨ä¸ä¸ªTCPè¿æ¥ä¸å¯ä»¥åéå¤ä¸ªæ°æ®åï¼ä½æ¯å¦ææ²¡ææ°æ®ååéæ¶ï¼ä¹è¦åæ¹åæ£æµåä»¥ç»´æè¿ä¸ªé¿è¿æ¥ï¼ä¸æ¬¡æ¡æåè¿æ¥ï¼ä¸æ­å¼è¿æ¥ï¼ä¿æå®¢æ·ç«¯åæå¡ç«¯éä¿¡ï¼ç´å°æå¡å¨è¶æ¶èªå¨æ­å¼è¿æ¥ï¼æèå®¢æ·ç«¯ä¸»å¨æ­å¼è¿æ¥ã\n * ç­è¿æ¥ï¼å½åæ¹éè¦æ°æ®äº¤äºçæ¶åï¼å°±å»ºç«ä¸ä¸ªTCPè¿æ¥ï¼æ¬æ¬¡äº¤äºå®ä¹åå°±æ­å¼è¿ä¸ªè¿æ¥ï¼ä¸æ¬¡æ¡æåå»ºç«è¿æ¥ï¼åéæ°æ®åå¹¶å¾å°æå¡å¨è¿åçç»æåï¼éè¿å®¢æ·ç«¯åæå¡å¨çåæ¬¡æ¡æåæ­å¼è¿æ¥ã\n\n\n# ä¼ç¼ºç¹ï¼\n\né¿è¿æ¥å¯ä»¥çå»è¾å¤å»ºç«è¿æ¥åæ­å¼è¿æ¥çæä½ï¼æä»¥æ¯è¾èçèµæºåæ¶é´ï¼ä½æ¯é¿è¿æ¥å¦æä¸ç´å­å¨çè¯ï¼éè¦å¾å¤æ¢æµåçåéæ¥ç»´æè¿ä¸ªè¿æ¥ï¼è¿å¯¹æå¡å¨å°æ¯å¾å¤§çè´æï¼ ç¸å¯¹èè¨ï¼ç­è¿æ¥ä¸éè¦æå¡å¨æ¿æå¤ªå¤§è´æï¼åªè¦å­å¨çè¿æ¥å°±æ¯æç¨çè¿æ¥ï¼ä½å¦æå®¢æ·ç«¯è¯·æ±é¢ç¹ï¼å°±ä¼å¨TCPçå»ºç«è¿æ¥åæ­å¼è¿æ¥ä¸æµªè´¹è¾å¤§çèµæºåæ¶é´ã\n\n\n# ä½¿ç¨åºæ¯ï¼\n\nç­è¿æ¥ï¼éç¨äºç½é¡µæµè§ç­æ°æ®å·æ°é¢åº¦è¾ä½çåºæ¯ãä¸è¬èè¨ååäº¬ä¸ï¼æ·å®è¿äºå¤§åç½ç«ï¼éæ¶é½ä¼ææåä¸ä¸çç¨æ·è¯·æ±ï¼ä¸è¬ä½¿ç¨ç­è¿æ¥ï¼ç¨æ·éå¤ªå¤§ï¼æå¡å¨æä¸ä½é£ä¹å¤é¿è¿æ¥ï¼ é¿è¿æ¥ï¼éç¨äºå®¢æ·ç«¯åæå¡ç«¯éä¿¡é¢ç¹çåºæ¯ï¼ä¾å¦ï¼èå¤©å®¤ï¼å®æ¶æ¸¸æç­åºæ¯ãå³æ¶éè®¯ï¼QQï¼è¬ä½¿ç¨çé½æ¯é¿è¿æ¥ï¼ä½å¹¶ä¸æ¯æ°¸ä¹è¿æ¥ï¼æ¯å¦20åéï¼åä¸ªå°æ¶ï¼ï¼å ä¸ºå³æ¶éè®¯æ¯é¢ç¹çåéè¯·æ±ï¼ä½¿ç¨é¿è¿æ¥åªéè¦å»ºç«ä¸æ¬¡è¿æ¥ï¼åæ¶åæ ¹æ®ä¸å¡è®¾ç½®ä¿ææ¶é´ï¼è¶è¿è¿ä¸ªæ¶é´å°±ä¼æ­å¼è¿æ¥ï¼ä¸å®ç¨åº¦ä¸ä¿è¯äºæå¡å¨çååä¸ä¼è¿å¤§ã\n\n##Socketå¿è·³åæºå¶ï¼ åå¿è·³ä¸æ ·ï¼æ¯éåºå®æ¶é´åæå¡å¨åéä¸ä¸ªåï¼ä»¥æ­¤æ¥åè¯æå¡å¨ï¼è¿ä¸ªå®¢æ·ç«¯è¿æ´»çãä¸ºäºä¿æé¿è¿æ¥ï¼ä¸è¬é½æ¯å¾å°çåï¼èçº¦æµéï¼æèåªæåå¤´çç©ºåã 1.å®¢æ·ç«¯æ¯éä¸æ®µæ¶é´é´éå°±åéä¸ä¸ªæ¢æµåç»æå¡å¨ï¼ 2.å®¢æ·ç«¯ååæ¶å¯å¨ä¸ä¸ªè¶æ¶å®æ¶å¨ï¼ 3.æå¡ç«¯æ¥æ¶å°æ¢æµååä¼ååºä¸ä¸ªåï¼ 4.å¦æå®¢æ·ç«¯æ¶å°æå¡å¨çåºç­åï¼åè¯´ææå¡å¨æ­£å¸¸ï¼å é¤è¶æ¶å®æ¶å¨ï¼å¦ææ²¡ææ¶å°åæå¡å¨å¼å¸¸ã ââââââââââââââââ çæå£°æï¼æ¬æä¸ºCSDNåä¸»ãæµè¯å°æãçååæç« ï¼éµå¾ªCC 4.0 BY-SAçæåè®®ï¼è½¬è½½è¯·éä¸åæåºå¤é¾æ¥åæ¬å£°æã åæé¾æ¥ï¼https://blog.csdn.net/Dave0002/article/details/125973214",normalizedContent:"# åæï¼\n\nhttp/1.0é»è®¤ä½¿ç¨ç­è¿æ¥ï¼http/1.1å¼å§é»è®¤ä½¿ç¨é¿è¿æ¥ï¼\n\nhttpåè®®çé¿è¿æ¥åç­è¿æ¥ï¼å®è´¨å°±æ¯tcpåè®®çé¿è¿æ¥åç­è¿æ¥ï¼\n\ntcpåè®®å»ºç«è¿æ¥éè¦3æ¬¡æ¡æï¼æ­å¼è¿æ¥éè¦4æ¬¡æ¡æï¼è¿ä¸ªè¿ç¨ä¼æ¶èç½ç»èµæºåæ¶é´ï¼\n\n\n# å®ä¹ï¼\n\n * é¿è¿æ¥ï¼å¨ä¸ä¸ªtcpè¿æ¥ä¸å¯ä»¥åéå¤ä¸ªæ°æ®åï¼ä½æ¯å¦ææ²¡ææ°æ®ååéæ¶ï¼ä¹è¦åæ¹åæ£æµåä»¥ç»´æè¿ä¸ªé¿è¿æ¥ï¼ä¸æ¬¡æ¡æåè¿æ¥ï¼ä¸æ­å¼è¿æ¥ï¼ä¿æå®¢æ·ç«¯åæå¡ç«¯éä¿¡ï¼ç´å°æå¡å¨è¶æ¶èªå¨æ­å¼è¿æ¥ï¼æèå®¢æ·ç«¯ä¸»å¨æ­å¼è¿æ¥ã\n * ç­è¿æ¥ï¼å½åæ¹éè¦æ°æ®äº¤äºçæ¶åï¼å°±å»ºç«ä¸ä¸ªtcpè¿æ¥ï¼æ¬æ¬¡äº¤äºå®ä¹åå°±æ­å¼è¿ä¸ªè¿æ¥ï¼ä¸æ¬¡æ¡æåå»ºç«è¿æ¥ï¼åéæ°æ®åå¹¶å¾å°æå¡å¨è¿åçç»æåï¼éè¿å®¢æ·ç«¯åæå¡å¨çåæ¬¡æ¡æåæ­å¼è¿æ¥ã\n\n\n# ä¼ç¼ºç¹ï¼\n\né¿è¿æ¥å¯ä»¥çå»è¾å¤å»ºç«è¿æ¥åæ­å¼è¿æ¥çæä½ï¼æä»¥æ¯è¾èçèµæºåæ¶é´ï¼ä½æ¯é¿è¿æ¥å¦æä¸ç´å­å¨çè¯ï¼éè¦å¾å¤æ¢æµåçåéæ¥ç»´æè¿ä¸ªè¿æ¥ï¼è¿å¯¹æå¡å¨å°æ¯å¾å¤§çè´æï¼ ç¸å¯¹èè¨ï¼ç­è¿æ¥ä¸éè¦æå¡å¨æ¿æå¤ªå¤§è´æï¼åªè¦å­å¨çè¿æ¥å°±æ¯æç¨çè¿æ¥ï¼ä½å¦æå®¢æ·ç«¯è¯·æ±é¢ç¹ï¼å°±ä¼å¨tcpçå»ºç«è¿æ¥åæ­å¼è¿æ¥ä¸æµªè´¹è¾å¤§çèµæºåæ¶é´ã\n\n\n# ä½¿ç¨åºæ¯ï¼\n\nç­è¿æ¥ï¼éç¨äºç½é¡µæµè§ç­æ°æ®å·æ°é¢åº¦è¾ä½çåºæ¯ãä¸è¬èè¨ååäº¬ä¸ï¼æ·å®è¿äºå¤§åç½ç«ï¼éæ¶é½ä¼ææåä¸ä¸çç¨æ·è¯·æ±ï¼ä¸è¬ä½¿ç¨ç­è¿æ¥ï¼ç¨æ·éå¤ªå¤§ï¼æå¡å¨æä¸ä½é£ä¹å¤é¿è¿æ¥ï¼ é¿è¿æ¥ï¼éç¨äºå®¢æ·ç«¯åæå¡ç«¯éä¿¡é¢ç¹çåºæ¯ï¼ä¾å¦ï¼èå¤©å®¤ï¼å®æ¶æ¸¸æç­åºæ¯ãå³æ¶éè®¯ï¼qqï¼è¬ä½¿ç¨çé½æ¯é¿è¿æ¥ï¼ä½å¹¶ä¸æ¯æ°¸ä¹è¿æ¥ï¼æ¯å¦20åéï¼åä¸ªå°æ¶ï¼ï¼å ä¸ºå³æ¶éè®¯æ¯é¢ç¹çåéè¯·æ±ï¼ä½¿ç¨é¿è¿æ¥åªéè¦å»ºç«ä¸æ¬¡è¿æ¥ï¼åæ¶åæ ¹æ®ä¸å¡è®¾ç½®ä¿ææ¶é´ï¼è¶è¿è¿ä¸ªæ¶é´å°±ä¼æ­å¼è¿æ¥ï¼ä¸å®ç¨åº¦ä¸ä¿è¯äºæå¡å¨çååä¸ä¼è¿å¤§ã\n\n##socketå¿è·³åæºå¶ï¼ åå¿è·³ä¸æ ·ï¼æ¯éåºå®æ¶é´åæå¡å¨åéä¸ä¸ªåï¼ä»¥æ­¤æ¥åè¯æå¡å¨ï¼è¿ä¸ªå®¢æ·ç«¯è¿æ´»çãä¸ºäºä¿æé¿è¿æ¥ï¼ä¸è¬é½æ¯å¾å°çåï¼èçº¦æµéï¼æèåªæåå¤´çç©ºåã 1.å®¢æ·ç«¯æ¯éä¸æ®µæ¶é´é´éå°±åéä¸ä¸ªæ¢æµåç»æå¡å¨ï¼ 2.å®¢æ·ç«¯ååæ¶å¯å¨ä¸ä¸ªè¶æ¶å®æ¶å¨ï¼ 3.æå¡ç«¯æ¥æ¶å°æ¢æµååä¼ååºä¸ä¸ªåï¼ 4.å¦æå®¢æ·ç«¯æ¶å°æå¡å¨çåºç­åï¼åè¯´ææå¡å¨æ­£å¸¸ï¼å é¤è¶æ¶å®æ¶å¨ï¼å¦ææ²¡ææ¶å°åæå¡å¨å¼å¸¸ã ââââââââââââââââ çæå£°æï¼æ¬æä¸ºcsdnåä¸»ãæµè¯å°æãçååæç« ï¼éµå¾ªcc 4.0 by-saçæåè®®ï¼è½¬è½½è¯·éä¸åæåºå¤é¾æ¥åæ¬å£°æã åæé¾æ¥ï¼https://blog.csdn.net/dave0002/article/details/125973214",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"TCP ä¸­å¸¸è§çæ¥å¡æ§å¶ç®æ³æåªäºï¼",frontmatter:{title:"TCP ä¸­å¸¸è§çæ¥å¡æ§å¶ç®æ³æåªäºï¼",date:"2022-09-21T22:37:12.000Z",permalink:"/pages/9ccc31/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/130.TCP%20%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/130.TCP ä¸­å¸¸è§çæ¥å¡æ§å¶ç®æ³æåªäºï¼.md",key:"v-75f6731c",path:"/pages/9ccc31/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿° HTTP 1.0ï¼1.1ï¼2.0 çä¸»è¦åºå«",frontmatter:{title:"ç®è¿° HTTP 1.0ï¼1.1ï¼2.0 çä¸»è¦åºå«",date:"2022-09-21T22:37:24.000Z",permalink:"/pages/f50b70/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/140.%E7%AE%80%E8%BF%B0%20HTTP%201.0%EF%BC%8C1.1%EF%BC%8C2.0%20%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB%20.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/140.ç®è¿° HTTP 1.0ï¼1.1ï¼2.0 çä¸»è¦åºå« .md",key:"v-f8f98912",path:"/pages/f50b70/",headers:[{level:2,title:"1 HTTP1.0åHTTP1.1çåºå«",slug:"_1-http1-0åhttp1-1çåºå«",normalizedTitle:"1 http1.0åhttp1.1çåºå«",charIndex:2},{level:3,title:"1.1 é¿è¿æ¥(Persistent Connection)",slug:"_1-1-é¿è¿æ¥-persistent-connection",normalizedTitle:"1.1 é¿è¿æ¥(persistent connection)",charIndex:27},{level:3,title:"1.2 èçº¦å¸¦å®½",slug:"_1-2-èçº¦å¸¦å®½",normalizedTitle:"1.2 èçº¦å¸¦å®½",charIndex:227},{level:3,title:"1.3 HOSTå",slug:"_1-3-hostå",normalizedTitle:"1.3 hostå",charIndex:427},{level:3,title:"1.4ç¼å­å¤ç",slug:"_1-4ç¼å­å¤ç",normalizedTitle:"1.4ç¼å­å¤ç",charIndex:658},{level:3,title:"1.5éè¯¯éç¥çç®¡ç",slug:"_1-5éè¯¯éç¥çç®¡ç",normalizedTitle:"1.5éè¯¯éç¥çç®¡ç",charIndex:829},{level:2,title:"2 HTTP1.1åHTTP2.0çåºå«",slug:"_2-http1-1åhttp2-0çåºå«",normalizedTitle:"2 http1.1åhttp2.0çåºå«",charIndex:935},{level:3,title:"2.1 å¤è·¯å¤ç¨",slug:"_2-1-å¤è·¯å¤ç¨",normalizedTitle:"2.1 å¤è·¯å¤ç¨",charIndex:960},{level:3,title:"2.2 å¤´é¨æ°æ®åç¼©",slug:"_2-2-å¤´é¨æ°æ®åç¼©",normalizedTitle:"2.2 å¤´é¨æ°æ®åç¼©",charIndex:1091},{level:3,title:"2.3 æå¡å¨æ¨é",slug:"_2-3-æå¡å¨æ¨é",normalizedTitle:"2.3 æå¡å¨æ¨é",charIndex:1389}],headersStr:"1 HTTP1.0åHTTP1.1çåºå« 1.1 é¿è¿æ¥(Persistent Connection) 1.2 èçº¦å¸¦å®½ 1.3 HOSTå 1.4ç¼å­å¤ç 1.5éè¯¯éç¥çç®¡ç 2 HTTP1.1åHTTP2.0çåºå« 2.1 å¤è·¯å¤ç¨ 2.2 å¤´é¨æ°æ®åç¼© 2.3 æå¡å¨æ¨é",content:"# 1 HTTP1.0åHTTP1.1çåºå«\n\n\n# 1.1 é¿è¿æ¥(Persistent Connection)\n\n   HTTP1.1æ¯æé¿è¿æ¥åè¯·æ±çæµæ°´çº¿å¤çï¼å¨ä¸ä¸ªTCPè¿æ¥ä¸å¯ä»¥ä¼ éå¤ä¸ªHTTPè¯·æ±åååºï¼åå°äºå»ºç«åå³é­è¿æ¥çæ¶èåå»¶è¿ï¼å¨HTTP1.1ä¸­é»è®¤å¼å¯é¿è¿æ¥keep-aliveï¼ä¸å®ç¨åº¦ä¸å¼¥è¡¥äºHTTP1.0æ¯æ¬¡è¯·æ±é½è¦åå»ºè¿æ¥çç¼ºç¹ãHTTP1.0éè¦ä½¿ç¨keep-aliveåæ°æ¥åç¥æå¡å¨ç«¯è¦å»ºç«ä¸ä¸ªé¿è¿æ¥ã\n\n\n\n# 1.2 èçº¦å¸¦å®½\n\n   HTTP1.0ä¸­å­å¨ä¸äºæµªè´¹å¸¦å®½çç°è±¡ï¼ä¾å¦å®¢æ·ç«¯åªæ¯éè¦æä¸ªå¯¹è±¡çä¸é¨åï¼èæå¡å¨å´å°æ´ä¸ªå¯¹è±¡éè¿æ¥äºï¼å¹¶ä¸ä¸æ¯ææ­ç¹ç»­ä¼ åè½ãHTTP1.1æ¯æåªåéheaderä¿¡æ¯ï¼ä¸å¸¦ä»»ä½bodyä¿¡æ¯ï¼ï¼å¦ææå¡å¨è®¤ä¸ºå®¢æ·ç«¯ææéè¯·æ±æå¡å¨ï¼åè¿å100ï¼å®¢æ·ç«¯æ¥æ¶å°100æå¼å§æè¯·æ±bodyåéå°æå¡å¨ï¼å¦æè¿å401ï¼å®¢æ·ç«¯å°±å¯ä»¥ä¸ç¨åéè¯·æ±bodyäºèçº¦äºå¸¦å®½ã\n\n\n\n# 1.3 HOSTå\n\n   å¨HTTP1.0ä¸­è®¤ä¸ºæ¯å°æå¡å¨é½ç»å®ä¸ä¸ªå¯ä¸çIPå°åï¼å æ­¤ï¼è¯·æ±æ¶æ¯ä¸­çURLå¹¶æ²¡æä¼ éä¸»æºåï¼hostnameï¼ï¼HTTP1.0æ²¡æhoståãéçèæä¸»æºææ¯çåå±ï¼å¨ä¸å°ç©çæå¡å¨ä¸å¯ä»¥å­å¨å¤ä¸ªèæä¸»æºï¼Multi-homed Web Serversï¼ï¼å¹¶ä¸å®ä»¬å±äº«ä¸ä¸ªIPå°åãHTTP1.1çè¯·æ±æ¶æ¯åååºæ¶æ¯é½æ¯æhoståï¼ä¸è¯·æ±æ¶æ¯ä¸­å¦ææ²¡æhoståä¼æ¥åä¸ä¸ªéè¯¯ï¼400 Bad Requestï¼ã\n\n\n\n# 1.4ç¼å­å¤ç\n\n   å¨HTTP1.0ä¸­ä¸»è¦ä½¿ç¨headeréçIf-Modified-Since,Expiresæ¥åä¸ºç¼å­å¤æ­çæ åï¼HTTP1.1åå¼å¥äºæ´å¤çç¼å­æ§å¶ç­ç¥ä¾å¦Entity tagï¼If-Unmodified-Since, If-Match, If-None-Matchç­æ´å¤å¯ä¾éæ©çç¼å­å¤´æ¥æ§å¶ç¼å­ç­ç¥ã\n\n\n\n# 1.5éè¯¯éç¥çç®¡ç\n\n   å¨HTTP1.1ä¸­æ°å¢äº24ä¸ªéè¯¯ç¶æååºç ï¼å¦409ï¼Conflictï¼è¡¨ç¤ºè¯·æ±çèµæºä¸èµæºçå½åç¶æåçå²çªï¼410ï¼Goneï¼è¡¨ç¤ºæå¡å¨ä¸çæä¸ªèµæºè¢«æ°¸ä¹æ§çå é¤ã\n\n\n\n# 2 HTTP1.1åHTTP2.0çåºå«\n\n\n# 2.1 å¤è·¯å¤ç¨\n\n   HTTP2.0ä½¿ç¨äºå¤è·¯å¤ç¨çææ¯ï¼åå°åä¸ä¸ªè¿æ¥å¹¶åå¤çå¤ä¸ªè¯·æ±ï¼èä¸å¹¶åè¯·æ±çæ°éæ¯HTTP1.1å¤§äºå¥½å ä¸ªæ°éçº§ãHTTP1.1ä¹å¯ä»¥å¤å»ºç«å ä¸ªTCPè¿æ¥ï¼æ¥æ¯æå¤çæ´å¤å¹¶åçè¯·æ±ï¼ä½æ¯åå»ºTCPè¿æ¥æ¬èº«ä¹æ¯æå¼éçã\n\n\n\n# 2.2 å¤´é¨æ°æ®åç¼©\n\n   å¨HTTP1.1ä¸­ï¼HTTPè¯·æ±åååºé½æ¯ç±ç¶æè¡ãè¯·æ±/ååºå¤´é¨ãæ¶æ¯ä¸»ä½ä¸é¨åç»æãä¸è¬èè¨ï¼æ¶æ¯ä¸»ä½é½ä¼ç»è¿gzipåç¼©ï¼æèæ¬èº«ä¼ è¾çå°±æ¯åç¼©è¿åçäºè¿å¶æä»¶ï¼ä½ç¶æè¡åå¤´é¨å´æ²¡æç»è¿ä»»ä½åç¼©ï¼ç´æ¥ä»¥çº¯ææ¬ä¼ è¾ãéçWebåè½è¶æ¥è¶å¤æï¼æ¯ä¸ªé¡µé¢äº§ççè¯·æ±æ°ä¹è¶æ¥è¶å¤ï¼å¯¼è´æ¶èå¨å¤´é¨çæµéè¶æ¥è¶å¤ï¼å°¤å¶æ¯æ¯æ¬¡é½è¦ä¼ è¾UserAgentãCookieè¿ç±»ä¸ä¼é¢ç¹åå¨çåå®¹ï¼å®å¨æ¯ä¸ç§æµªè´¹ã\n\n   HTTP1.1ä¸æ¯æheaderæ°æ®çåç¼©ï¼HTTP2.0ä½¿ç¨HPACKç®æ³å¯¹headerçæ°æ®è¿è¡åç¼©ï¼è¿æ ·æ°æ®ä½ç§¯å°äºï¼å¨ç½ç»ä¸ä¼ è¾å°±ä¼æ´å¿«ã\n\n\n\n# 2.3 æå¡å¨æ¨é\n\n   æå¡ç«¯æ¨éæ¯ä¸ç§å¨å®¢æ·ç«¯è¯·æ±ä¹ååéæ°æ®çæºå¶ãç½é¡µä½¿ç¨äºè®¸å¤èµæºï¼HTMLãæ ·å¼è¡¨ãèæ¬ãå¾çç­ç­ãå¨HTTP1.1ä¸­è¿äºèµæºæ¯ä¸ä¸ªé½å¿é¡»æç¡®å°è¯·æ±ãè¿æ¯ä¸ä¸ªå¾æ¢çè¿ç¨ãæµè§å¨ä»è·åHTMLå¼å§ï¼ç¶åå¨å®è§£æåè¯ä¼°é¡µé¢çæ¶åï¼å¢éå°è·åæ´å¤çèµæºãå ä¸ºæå¡å¨å¿é¡»ç­å¾æµè§å¨åæ¯ä¸ä¸ªè¯·æ±ï¼ç½ç»ç»å¸¸æ¯ç©ºé²çåæªååä½¿ç¨çã\n\n   ä¸ºäºæ¹åå»¶è¿ï¼HTTP2.0å¼å¥äºserver pushï¼å®åè®¸æå¡ç«¯æ¨éèµæºç»æµè§å¨ï¼å¨æµè§å¨æç¡®å°è¯·æ±ä¹åï¼åå¾å®¢æ·ç«¯åæ¬¡åå»ºè¿æ¥åéè¯·æ±å°æå¡å¨ç«¯è·åãè¿æ ·å®¢æ·ç«¯å¯ä»¥ç´æ¥ä»æ¬å°å è½½è¿äºèµæºï¼ä¸ç¨åéè¿ç½ç»ã\n\n\nåèï¼ HTTP1.0ãHTTP1.1 å HTTP2.0 çåºå«",normalizedContent:"# 1 http1.0åhttp1.1çåºå«\n\n\n# 1.1 é¿è¿æ¥(persistent connection)\n\n   http1.1æ¯æé¿è¿æ¥åè¯·æ±çæµæ°´çº¿å¤çï¼å¨ä¸ä¸ªtcpè¿æ¥ä¸å¯ä»¥ä¼ éå¤ä¸ªhttpè¯·æ±åååºï¼åå°äºå»ºç«åå³é­è¿æ¥çæ¶èåå»¶è¿ï¼å¨http1.1ä¸­é»è®¤å¼å¯é¿è¿æ¥keep-aliveï¼ä¸å®ç¨åº¦ä¸å¼¥è¡¥äºhttp1.0æ¯æ¬¡è¯·æ±é½è¦åå»ºè¿æ¥çç¼ºç¹ãhttp1.0éè¦ä½¿ç¨keep-aliveåæ°æ¥åç¥æå¡å¨ç«¯è¦å»ºç«ä¸ä¸ªé¿è¿æ¥ã\n\n\n\n# 1.2 èçº¦å¸¦å®½\n\n   http1.0ä¸­å­å¨ä¸äºæµªè´¹å¸¦å®½çç°è±¡ï¼ä¾å¦å®¢æ·ç«¯åªæ¯éè¦æä¸ªå¯¹è±¡çä¸é¨åï¼èæå¡å¨å´å°æ´ä¸ªå¯¹è±¡éè¿æ¥äºï¼å¹¶ä¸ä¸æ¯ææ­ç¹ç»­ä¼ åè½ãhttp1.1æ¯æåªåéheaderä¿¡æ¯ï¼ä¸å¸¦ä»»ä½bodyä¿¡æ¯ï¼ï¼å¦ææå¡å¨è®¤ä¸ºå®¢æ·ç«¯ææéè¯·æ±æå¡å¨ï¼åè¿å100ï¼å®¢æ·ç«¯æ¥æ¶å°100æå¼å§æè¯·æ±bodyåéå°æå¡å¨ï¼å¦æè¿å401ï¼å®¢æ·ç«¯å°±å¯ä»¥ä¸ç¨åéè¯·æ±bodyäºèçº¦äºå¸¦å®½ã\n\n\n\n# 1.3 hostå\n\n   å¨http1.0ä¸­è®¤ä¸ºæ¯å°æå¡å¨é½ç»å®ä¸ä¸ªå¯ä¸çipå°åï¼å æ­¤ï¼è¯·æ±æ¶æ¯ä¸­çurlå¹¶æ²¡æä¼ éä¸»æºåï¼hostnameï¼ï¼http1.0æ²¡æhoståãéçèæä¸»æºææ¯çåå±ï¼å¨ä¸å°ç©çæå¡å¨ä¸å¯ä»¥å­å¨å¤ä¸ªèæä¸»æºï¼multi-homed web serversï¼ï¼å¹¶ä¸å®ä»¬å±äº«ä¸ä¸ªipå°åãhttp1.1çè¯·æ±æ¶æ¯åååºæ¶æ¯é½æ¯æhoståï¼ä¸è¯·æ±æ¶æ¯ä¸­å¦ææ²¡æhoståä¼æ¥åä¸ä¸ªéè¯¯ï¼400 bad requestï¼ã\n\n\n\n# 1.4ç¼å­å¤ç\n\n   å¨http1.0ä¸­ä¸»è¦ä½¿ç¨headeréçif-modified-since,expiresæ¥åä¸ºç¼å­å¤æ­çæ åï¼http1.1åå¼å¥äºæ´å¤çç¼å­æ§å¶ç­ç¥ä¾å¦entity tagï¼if-unmodified-since, if-match, if-none-matchç­æ´å¤å¯ä¾éæ©çç¼å­å¤´æ¥æ§å¶ç¼å­ç­ç¥ã\n\n\n\n# 1.5éè¯¯éç¥çç®¡ç\n\n   å¨http1.1ä¸­æ°å¢äº24ä¸ªéè¯¯ç¶æååºç ï¼å¦409ï¼conflictï¼è¡¨ç¤ºè¯·æ±çèµæºä¸èµæºçå½åç¶æåçå²çªï¼410ï¼goneï¼è¡¨ç¤ºæå¡å¨ä¸çæä¸ªèµæºè¢«æ°¸ä¹æ§çå é¤ã\n\n\n\n# 2 http1.1åhttp2.0çåºå«\n\n\n# 2.1 å¤è·¯å¤ç¨\n\n   http2.0ä½¿ç¨äºå¤è·¯å¤ç¨çææ¯ï¼åå°åä¸ä¸ªè¿æ¥å¹¶åå¤çå¤ä¸ªè¯·æ±ï¼èä¸å¹¶åè¯·æ±çæ°éæ¯http1.1å¤§äºå¥½å ä¸ªæ°éçº§ãhttp1.1ä¹å¯ä»¥å¤å»ºç«å ä¸ªtcpè¿æ¥ï¼æ¥æ¯æå¤çæ´å¤å¹¶åçè¯·æ±ï¼ä½æ¯åå»ºtcpè¿æ¥æ¬èº«ä¹æ¯æå¼éçã\n\n\n\n# 2.2 å¤´é¨æ°æ®åç¼©\n\n   å¨http1.1ä¸­ï¼httpè¯·æ±åååºé½æ¯ç±ç¶æè¡ãè¯·æ±/ååºå¤´é¨ãæ¶æ¯ä¸»ä½ä¸é¨åç»æãä¸è¬èè¨ï¼æ¶æ¯ä¸»ä½é½ä¼ç»è¿gzipåç¼©ï¼æèæ¬èº«ä¼ è¾çå°±æ¯åç¼©è¿åçäºè¿å¶æä»¶ï¼ä½ç¶æè¡åå¤´é¨å´æ²¡æç»è¿ä»»ä½åç¼©ï¼ç´æ¥ä»¥çº¯ææ¬ä¼ è¾ãéçwebåè½è¶æ¥è¶å¤æï¼æ¯ä¸ªé¡µé¢äº§ççè¯·æ±æ°ä¹è¶æ¥è¶å¤ï¼å¯¼è´æ¶èå¨å¤´é¨çæµéè¶æ¥è¶å¤ï¼å°¤å¶æ¯æ¯æ¬¡é½è¦ä¼ è¾useragentãcookieè¿ç±»ä¸ä¼é¢ç¹åå¨çåå®¹ï¼å®å¨æ¯ä¸ç§æµªè´¹ã\n\n   http1.1ä¸æ¯æheaderæ°æ®çåç¼©ï¼http2.0ä½¿ç¨hpackç®æ³å¯¹headerçæ°æ®è¿è¡åç¼©ï¼è¿æ ·æ°æ®ä½ç§¯å°äºï¼å¨ç½ç»ä¸ä¼ è¾å°±ä¼æ´å¿«ã\n\n\n\n# 2.3 æå¡å¨æ¨é\n\n   æå¡ç«¯æ¨éæ¯ä¸ç§å¨å®¢æ·ç«¯è¯·æ±ä¹ååéæ°æ®çæºå¶ãç½é¡µä½¿ç¨äºè®¸å¤èµæºï¼htmlãæ ·å¼è¡¨ãèæ¬ãå¾çç­ç­ãå¨http1.1ä¸­è¿äºèµæºæ¯ä¸ä¸ªé½å¿é¡»æç¡®å°è¯·æ±ãè¿æ¯ä¸ä¸ªå¾æ¢çè¿ç¨ãæµè§å¨ä»è·åhtmlå¼å§ï¼ç¶åå¨å®è§£æåè¯ä¼°é¡µé¢çæ¶åï¼å¢éå°è·åæ´å¤çèµæºãå ä¸ºæå¡å¨å¿é¡»ç­å¾æµè§å¨åæ¯ä¸ä¸ªè¯·æ±ï¼ç½ç»ç»å¸¸æ¯ç©ºé²çåæªååä½¿ç¨çã\n\n   ä¸ºäºæ¹åå»¶è¿ï¼http2.0å¼å¥äºserver pushï¼å®åè®¸æå¡ç«¯æ¨éèµæºç»æµè§å¨ï¼å¨æµè§å¨æç¡®å°è¯·æ±ä¹åï¼åå¾å®¢æ·ç«¯åæ¬¡åå»ºè¿æ¥åéè¯·æ±å°æå¡å¨ç«¯è·åãè¿æ ·å®¢æ·ç«¯å¯ä»¥ç´æ¥ä»æ¬å°å è½½è¿äºèµæºï¼ä¸ç¨åéè¿ç½ç»ã\n\n\nåèï¼ http1.0ãhttp1.1 å http2.0 çåºå«",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"HTTP ä¸ HTTPS æåªäºåºå«ï¼",frontmatter:{title:"HTTP ä¸ HTTPS æåªäºåºå«ï¼",date:"2022-09-21T22:36:56.000Z",permalink:"/pages/253334/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/120.HTTP%20%E4%B8%8E%20HTTPS%20%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/120.HTTP ä¸ HTTPS æåªäºåºå«ï¼.md",key:"v-9aa2c788",path:"/pages/253334/",headers:[{level:2,title:"HTTP åè®®ä»ç»",slug:"http-åè®®ä»ç»",normalizedTitle:"http åè®®ä»ç»",charIndex:2},{level:2,title:"HTTP åè®®éä¿¡è¿ç¨",slug:"http-åè®®éä¿¡è¿ç¨",normalizedTitle:"http åè®®éä¿¡è¿ç¨",charIndex:266},{level:2,title:"HTTP åè®®ä¼ç¹",slug:"http-åè®®ä¼ç¹",normalizedTitle:"http åè®®ä¼ç¹",charIndex:481},{level:2,title:"HTTPS åè®®",slug:"https-åè®®",normalizedTitle:"https åè®®",charIndex:514},{level:3,title:"HTTPS åè®®ä»ç»",slug:"https-åè®®ä»ç»",normalizedTitle:"https åè®®ä»ç»",charIndex:527},{level:3,title:"HTTPS åè®®ä¼ç¹",slug:"https-åè®®ä¼ç¹",normalizedTitle:"https åè®®ä¼ç¹",charIndex:728},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:755}],headersStr:"HTTP åè®®ä»ç» HTTP åè®®éä¿¡è¿ç¨ HTTP åè®®ä¼ç¹ HTTPS åè®® HTTPS åè®®ä»ç» HTTPS åè®®ä¼ç¹ æ»ç»",content:"# HTTP åè®®ä»ç»\n\nHTTP åè®®ï¼å¨ç§°è¶ææ¬ä¼ è¾åè®®ï¼Hypertext Transfer Protocolï¼ãé¡¾åæä¹ï¼HTTP åè®®å°±æ¯ç¨æ¥è§èè¶ææ¬çä¼ è¾ï¼è¶ææ¬ï¼ä¹å°±æ¯ç½ç»ä¸çåæ¬ææ¬å¨åçåå¼åæ ·çæ¶æ¯ï¼å·ä½æ¥è¯´ï¼ä¸»è¦æ¯æ¥è§èæµè§å¨åæå¡å¨ç«¯çè¡ä¸ºçã\n\nå¹¶ä¸ï¼HTTP æ¯ä¸ä¸ªæ ç¶æï¼statelessï¼åè®®ï¼ä¹å°±æ¯è¯´æå¡å¨ä¸ç»´æ¤ä»»ä½æå³å®¢æ·ç«¯è¿å»æåè¯·æ±çæ¶æ¯ãè¿å¶å®æ¯ä¸ç§ææ¿ï¼æç¶æåè®®ä¼æ´å å¤æï¼éè¦ç»´æ¤ç¶æï¼åå²ä¿¡æ¯ï¼ï¼èä¸å¦æå®¢æ·ææå¡å¨å¤±æï¼ä¼äº§çç¶æçä¸ä¸è´ï¼è§£å³è¿ç§ä¸ä¸è´çä»£ä»·æ´é«ã\n\n\n# HTTP åè®®éä¿¡è¿ç¨\n\nHTTP æ¯åºç¨å±åè®®ï¼å®ä»¥ TCPï¼ä¼ è¾å±ï¼ä½ä¸ºåºå±åè®®ï¼é»è®¤ç«¯å£ä¸º 80. éä¿¡è¿ç¨ä¸»è¦å¦ä¸ï¼\n\n 1. æå¡å¨å¨ 80 ç«¯å£ç­å¾å®¢æ·çè¯·æ±ã\n 2. æµè§å¨åèµ·å°æå¡å¨ç TCP è¿æ¥ï¼åå»ºå¥æ¥å­ Socketï¼ã\n 3. æå¡å¨æ¥æ¶æ¥èªæµè§å¨ç TCP è¿æ¥ã\n 4. æµè§å¨ï¼HTTP å®¢æ·ç«¯ï¼ä¸ Web æå¡å¨ï¼HTTP æå¡å¨ï¼äº¤æ¢ HTTP æ¶æ¯ã\n 5. å³é­ TCP è¿æ¥ã\n\n\n# HTTP åè®®ä¼ç¹\n\næ©å±æ§å¼ºãéåº¦å¿«ãè·¨å¹³å°æ¯ææ§å¥½ã\n\n\n# HTTPS åè®®\n\n\n# HTTPS åè®®ä»ç»\n\nHTTPS åè®®ï¼Hyper Text Transfer Protocol Secureï¼ï¼æ¯ HTTP çå å¼ºå®å¨çæ¬ãHTTPS æ¯åºäº HTTP çï¼ä¹æ¯ç¨ TCP ä½ä¸ºåºå±åè®®ï¼å¹¶é¢å¤ä½¿ç¨ SSL/TLS åè®®ç¨ä½å å¯åå®å¨è®¤è¯ãé»è®¤ç«¯å£å·æ¯ 443.\n\nHTTPS åè®®ä¸­ï¼SSL éééå¸¸ä½¿ç¨åºäºå¯é¥çå å¯ç®æ³ï¼å¯é¥é¿åº¦éå¸¸æ¯ 40 æ¯ç¹æ 128 æ¯ç¹ã\n\n\n# HTTPS åè®®ä¼ç¹\n\nä¿å¯æ§å¥½ãä¿¡ä»»åº¦é«ã\n\n\n# æ»ç»\n\nç«¯å£å· ï¼HTTP é»è®¤æ¯ 80ï¼HTTPS é»è®¤æ¯ 443ã URL åç¼ ï¼HTTP ç URL åç¼æ¯ http://ï¼HTTPS ç URL åç¼æ¯ https://ã å®å¨æ§åèµæºæ¶è ï¼ HTTP åè®®è¿è¡å¨ TCP ä¹ä¸ï¼ææä¼ è¾çåå®¹é½æ¯ææï¼å®¢æ·ç«¯åæå¡å¨ç«¯é½æ æ³éªè¯å¯¹æ¹çèº«ä»½ãHTTPS æ¯è¿è¡å¨ SSL/TLS ä¹ä¸ç HTTP åè®®ï¼SSL/TLS è¿è¡å¨ TCP ä¹ä¸ãææä¼ è¾çåå®¹é½ç»è¿å å¯ï¼å å¯éç¨å¯¹ç§°å å¯ï¼ä½å¯¹ç§°å å¯çå¯é¥ç¨æå¡å¨æ¹çè¯ä¹¦è¿è¡äºéå¯¹ç§°å å¯ãæä»¥è¯´ï¼HTTP å®å¨æ§æ²¡æ HTTPS é«ï¼ä½æ¯ HTTPS æ¯ HTTP èè´¹æ´å¤æå¡å¨èµæºã",normalizedContent:"# http åè®®ä»ç»\n\nhttp åè®®ï¼å¨ç§°è¶ææ¬ä¼ è¾åè®®ï¼hypertext transfer protocolï¼ãé¡¾åæä¹ï¼http åè®®å°±æ¯ç¨æ¥è§èè¶ææ¬çä¼ è¾ï¼è¶ææ¬ï¼ä¹å°±æ¯ç½ç»ä¸çåæ¬ææ¬å¨åçåå¼åæ ·çæ¶æ¯ï¼å·ä½æ¥è¯´ï¼ä¸»è¦æ¯æ¥è§èæµè§å¨åæå¡å¨ç«¯çè¡ä¸ºçã\n\nå¹¶ä¸ï¼http æ¯ä¸ä¸ªæ ç¶æï¼statelessï¼åè®®ï¼ä¹å°±æ¯è¯´æå¡å¨ä¸ç»´æ¤ä»»ä½æå³å®¢æ·ç«¯è¿å»æåè¯·æ±çæ¶æ¯ãè¿å¶å®æ¯ä¸ç§ææ¿ï¼æç¶æåè®®ä¼æ´å å¤æï¼éè¦ç»´æ¤ç¶æï¼åå²ä¿¡æ¯ï¼ï¼èä¸å¦æå®¢æ·ææå¡å¨å¤±æï¼ä¼äº§çç¶æçä¸ä¸è´ï¼è§£å³è¿ç§ä¸ä¸è´çä»£ä»·æ´é«ã\n\n\n# http åè®®éä¿¡è¿ç¨\n\nhttp æ¯åºç¨å±åè®®ï¼å®ä»¥ tcpï¼ä¼ è¾å±ï¼ä½ä¸ºåºå±åè®®ï¼é»è®¤ç«¯å£ä¸º 80. éä¿¡è¿ç¨ä¸»è¦å¦ä¸ï¼\n\n 1. æå¡å¨å¨ 80 ç«¯å£ç­å¾å®¢æ·çè¯·æ±ã\n 2. æµè§å¨åèµ·å°æå¡å¨ç tcp è¿æ¥ï¼åå»ºå¥æ¥å­ socketï¼ã\n 3. æå¡å¨æ¥æ¶æ¥èªæµè§å¨ç tcp è¿æ¥ã\n 4. æµè§å¨ï¼http å®¢æ·ç«¯ï¼ä¸ web æå¡å¨ï¼http æå¡å¨ï¼äº¤æ¢ http æ¶æ¯ã\n 5. å³é­ tcp è¿æ¥ã\n\n\n# http åè®®ä¼ç¹\n\næ©å±æ§å¼ºãéåº¦å¿«ãè·¨å¹³å°æ¯ææ§å¥½ã\n\n\n# https åè®®\n\n\n# https åè®®ä»ç»\n\nhttps åè®®ï¼hyper text transfer protocol secureï¼ï¼æ¯ http çå å¼ºå®å¨çæ¬ãhttps æ¯åºäº http çï¼ä¹æ¯ç¨ tcp ä½ä¸ºåºå±åè®®ï¼å¹¶é¢å¤ä½¿ç¨ ssl/tls åè®®ç¨ä½å å¯åå®å¨è®¤è¯ãé»è®¤ç«¯å£å·æ¯ 443.\n\nhttps åè®®ä¸­ï¼ssl éééå¸¸ä½¿ç¨åºäºå¯é¥çå å¯ç®æ³ï¼å¯é¥é¿åº¦éå¸¸æ¯ 40 æ¯ç¹æ 128 æ¯ç¹ã\n\n\n# https åè®®ä¼ç¹\n\nä¿å¯æ§å¥½ãä¿¡ä»»åº¦é«ã\n\n\n# æ»ç»\n\nç«¯å£å· ï¼http é»è®¤æ¯ 80ï¼https é»è®¤æ¯ 443ã url åç¼ ï¼http ç url åç¼æ¯ http://ï¼https ç url åç¼æ¯ https://ã å®å¨æ§åèµæºæ¶è ï¼ http åè®®è¿è¡å¨ tcp ä¹ä¸ï¼ææä¼ è¾çåå®¹é½æ¯ææï¼å®¢æ·ç«¯åæå¡å¨ç«¯é½æ æ³éªè¯å¯¹æ¹çèº«ä»½ãhttps æ¯è¿è¡å¨ ssl/tls ä¹ä¸ç http åè®®ï¼ssl/tls è¿è¡å¨ tcp ä¹ä¸ãææä¼ è¾çåå®¹é½ç»è¿å å¯ï¼å å¯éç¨å¯¹ç§°å å¯ï¼ä½å¯¹ç§°å å¯çå¯é¥ç¨æå¡å¨æ¹çè¯ä¹¦è¿è¡äºéå¯¹ç§°å å¯ãæä»¥è¯´ï¼http å®å¨æ§æ²¡æ https é«ï¼ä½æ¯ https æ¯ http èè´¹æ´å¤æå¡å¨èµæºã",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"TCP ç keepalive äºè§£åï¼è¯´ä¸è¯´å®å HTTP ç keepalive çåºå«ï¼",frontmatter:{title:"TCP ç keepalive äºè§£åï¼è¯´ä¸è¯´å®å HTTP ç keepalive çåºå«ï¼",date:"2022-09-21T22:36:40.000Z",permalink:"/pages/212438/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/110.TCP%20%E7%9A%84%20keepalive%20%E4%BA%86%E8%A7%A3%E5%90%97%EF%BC%9F%E8%AF%B4%E4%B8%80%E8%AF%B4%E5%AE%83%E5%92%8C%20HTTP%20%E7%9A%84%20keepalive%20%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/110.TCP ç keepalive äºè§£åï¼è¯´ä¸è¯´å®å HTTP ç keepalive çåºå«ï¼.md",key:"v-df71a6e0",path:"/pages/212438/",headersStr:null,content:"HTTP Keep-Alive ä¹å« HTTP é¿è¿æ¥ï¼è¯¥å½æ°ç±åºç¨ç¨åºå®ç°,åè®¸ä½¿ç¨ç¸åçTCPè¿æ¥åéåæ¥æ¶å¤ä¸ªHTTPè¯·æ±/ååº,åå°ç±HTTPç­éè¿æ¥äº§ççå¤ä¸ªTCPè¿æ¥çåå»ºåéæ¾ææ¬ã\n\nTCPçå­æ´»è ä¹å« TCP ä¿æ´»æºå¶ï¼è¿ä¸ªå½æ°ç±åæ ¸å®ç°,å½å®¢æ·åæå¡ç«¯å¨ä¸å®æ¶é´åä¸æ°æ®ä¸äº¤äºæ¶,ä¸ºäºç¡®ä¿è¿æ¥ä»ç¶ææ,å°±ä¼åéæ¢æµæ¥æï¼æ£æ¥å¯¹æ¹æ¯å¦è¿å¨ç½ä¸,ç¶åå³å®æ¯å¦å³é­è¿æ¥\n\nåèï¼ é¿éä¸é¢ï¼TCP ç Keepalive å HTTP ç Keep-Alive æ¯ä¸ä¸ªä¸è¥¿å",normalizedContent:"http keep-alive ä¹å« http é¿è¿æ¥ï¼è¯¥å½æ°ç±åºç¨ç¨åºå®ç°,åè®¸ä½¿ç¨ç¸åçtcpè¿æ¥åéåæ¥æ¶å¤ä¸ªhttpè¯·æ±/ååº,åå°ç±httpç­éè¿æ¥äº§ççå¤ä¸ªtcpè¿æ¥çåå»ºåéæ¾ææ¬ã\n\ntcpçå­æ´»è ä¹å« tcp ä¿æ´»æºå¶ï¼è¿ä¸ªå½æ°ç±åæ ¸å®ç°,å½å®¢æ·åæå¡ç«¯å¨ä¸å®æ¶é´åä¸æ°æ®ä¸äº¤äºæ¶,ä¸ºäºç¡®ä¿è¿æ¥ä»ç¶ææ,å°±ä¼åéæ¢æµæ¥æï¼æ£æ¥å¯¹æ¹æ¯å¦è¿å¨ç½ä¸,ç¶åå³å®æ¯å¦å³é­è¿æ¥\n\nåèï¼ é¿éä¸é¢ï¼tcp ç keepalive å http ç keep-alive æ¯ä¸ä¸ªä¸è¥¿å",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ä»ç³»ç»å±é¢ä¸ï¼UDPå¦ä½ä¿è¯å°½éå¯é ï¼",frontmatter:{title:"ä»ç³»ç»å±é¢ä¸ï¼UDPå¦ä½ä¿è¯å°½éå¯é ï¼",date:"2022-09-21T22:37:36.000Z",permalink:"/pages/e57cfe/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/150.%E4%BB%8E%E7%B3%BB%E7%BB%9F%E5%B1%82%E9%9D%A2%E4%B8%8A%EF%BC%8CUDP%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%B0%BD%E9%87%8F%E5%8F%AF%E9%9D%A0%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/150.ä»ç³»ç»å±é¢ä¸ï¼UDPå¦ä½ä¿è¯å°½éå¯é ï¼.md",key:"v-63453344",path:"/pages/e57cfe/",headersStr:null,content:"åºæ¬çææ³ï¼æ¨¡ætcpçå¯é æºå¶æ¥å®ç°,ä¿è¯åä¸ªæ å³å¯ï¼æ ä¸¢å¤±ãæ å¤±åºãæ éè¯¯ãæ éå¤ï¼ å¯ä»¥ä»ä»¥ä¸å ç¹çæï¼\n\n * â å ä¸åºå·\n\n * â¡ç¡®è®¤æºå¶ï¼è¶æ¶éä¼ \n\n * â¢æ ¡éªæºå¶ï¼åºééä¼ \n\næä»¬é½ç¥éUDPæ¯é¢åæ è¿æ¥ï¼ä¸å¯é çä¼ è¾æ¹å¼ï¼èTCPè½ç¶æ¯é¢åè¿æ¥ï¼å¯é å°è¿æ¥ï¼ä½æ¯å¶è¿ç¨å¤ªç¹çï¼æçå¤ªä½ï¼ä¼ è¾éåº¦å¾æ¢ï¼æä»¥æä»¬å¯ä»¥å©ç¨UDPè¿è¡åºå±ä¼ è¾æ°æ®ï¼ä¸å±è¿è¡å°è£ï¼æ¥å¼¥è¡¥UDPçä¸è¶³ã åå°ä»¥ä¸4ç¹ï¼å°±å¯ä»¥ä¿è¯UDPåè®®å¯é ï¼\n\n * â ä¸è¦TCPçä¸æ¬¡æ¡æååæ¬¡æ¥æã\n\n * â¡åéæ¹æ¯æ¬¡ååºçæ°æ®è¿è¡ç¼å·ï¼åæ¶ä¿æé¡ºåºçæ­£ç¡®ã\n\n * â¢æ¯æ¬¡æ¥æ¶æ¹æ¥æ¶å°æ°æ®ï¼ååºåºç­ä¿¡å·ãåæ¶åéæ¹å¨è§å®çæ¶é´æ£æµæ¯å¦æ¥æ¶å°åºç­ï¼å¦ææ²¡ææ¥æ¶å°åºç­ï¼éåï¼ä¸æ¬¡åè¿æªæ¶å°åºç­ç´æ¥å¤æ­åéå¤±è´¥ã\n\n * â£åéæ°æ®æ¶ï¼åéæ¹å¢å æ ¡éªä½ãå¦ææ¥æ¶æ¹æ ¡éªåºéï¼è¯·æ±éåã",normalizedContent:"åºæ¬çææ³ï¼æ¨¡ætcpçå¯é æºå¶æ¥å®ç°,ä¿è¯åä¸ªæ å³å¯ï¼æ ä¸¢å¤±ãæ å¤±åºãæ éè¯¯ãæ éå¤ï¼ å¯ä»¥ä»ä»¥ä¸å ç¹çæï¼\n\n * â å ä¸åºå·\n\n * â¡ç¡®è®¤æºå¶ï¼è¶æ¶éä¼ \n\n * â¢æ ¡éªæºå¶ï¼åºééä¼ \n\næä»¬é½ç¥éudpæ¯é¢åæ è¿æ¥ï¼ä¸å¯é çä¼ è¾æ¹å¼ï¼ètcpè½ç¶æ¯é¢åè¿æ¥ï¼å¯é å°è¿æ¥ï¼ä½æ¯å¶è¿ç¨å¤ªç¹çï¼æçå¤ªä½ï¼ä¼ è¾éåº¦å¾æ¢ï¼æä»¥æä»¬å¯ä»¥å©ç¨udpè¿è¡åºå±ä¼ è¾æ°æ®ï¼ä¸å±è¿è¡å°è£ï¼æ¥å¼¥è¡¥udpçä¸è¶³ã åå°ä»¥ä¸4ç¹ï¼å°±å¯ä»¥ä¿è¯udpåè®®å¯é ï¼\n\n * â ä¸è¦tcpçä¸æ¬¡æ¡æååæ¬¡æ¥æã\n\n * â¡åéæ¹æ¯æ¬¡ååºçæ°æ®è¿è¡ç¼å·ï¼åæ¶ä¿æé¡ºåºçæ­£ç¡®ã\n\n * â¢æ¯æ¬¡æ¥æ¶æ¹æ¥æ¶å°æ°æ®ï¼ååºåºç­ä¿¡å·ãåæ¶åéæ¹å¨è§å®çæ¶é´æ£æµæ¯å¦æ¥æ¶å°åºç­ï¼å¦ææ²¡ææ¥æ¶å°åºç­ï¼éåï¼ä¸æ¬¡åè¿æªæ¶å°åºç­ç´æ¥å¤æ­åéå¤±è´¥ã\n\n * â£åéæ°æ®æ¶ï¼åéæ¹å¢å æ ¡éªä½ãå¦ææ¥æ¶æ¹æ ¡éªåºéï¼è¯·æ±éåã",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"TCP æ¥ææ¶åºç°å¤§é CLOSEWAIT æ TIMEWAIT æä¹è§£å³ï¼",frontmatter:{title:"TCP æ¥ææ¶åºç°å¤§é CLOSE_WAIT æ TIME_WAIT æä¹è§£å³ï¼",date:"2022-09-21T22:37:51.000Z",permalink:"/pages/15d37a/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/160.TCP%20%E6%8C%A5%E6%89%8B%E6%97%B6%E5%87%BA%E7%8E%B0%E5%A4%A7%E9%87%8F%20CLOSE_WAIT%20%E6%88%96%20TIME_WAIT%20%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/160.TCP æ¥ææ¶åºç°å¤§é CLOSE_WAIT æ TIME_WAIT æä¹è§£å³ï¼.md",key:"v-93120d3a",path:"/pages/15d37a/",headers:[{level:2,title:"ç±äºsocketæ¯å¨åå·¥çå·¥ä½æ¨¡å¼ï¼ä¸ä¸ªsocketçå³é­ï¼æ¯éè¦åæ¬¡æ¡ææ¥å®æçã",slug:"ç±äºsocketæ¯å¨åå·¥çå·¥ä½æ¨¡å¼-ä¸ä¸ªsocketçå³é­-æ¯éè¦åæ¬¡æ¡ææ¥å®æçã",normalizedTitle:"ç±äºsocketæ¯å¨åå·¥çå·¥ä½æ¨¡å¼ï¼ä¸ä¸ªsocketçå³é­ï¼æ¯éè¦åæ¬¡æ¡ææ¥å®æçã",charIndex:2},{level:2,title:"time_wait äº§çåå ï¼ç­å¾2MSLæä¹ï¼ï¼",slug:"time-wait-äº§çåå -ç­å¾2mslæä¹",normalizedTitle:"time_wait äº§çåå ï¼ç­å¾2mslæä¹ï¼ï¼",charIndex:404},{level:2,title:"time_waitè¿å¤äº§çåå ï¼",slug:"time-waitè¿å¤äº§çåå ",normalizedTitle:"time_waitè¿å¤äº§çåå ï¼",charIndex:762},{level:2,title:"time_waitè¿å¤è§£å³æ¹æ³ï¼",slug:"time-waitè¿å¤è§£å³æ¹æ³",normalizedTitle:"time_waitè¿å¤è§£å³æ¹æ³ï¼",charIndex:1178},{level:2,title:"ç­è¿æ¥",slug:"ç­è¿æ¥",normalizedTitle:"ç­è¿æ¥",charIndex:882},{level:2,title:"é¿è¿æ¥",slug:"é¿è¿æ¥",normalizedTitle:"é¿è¿æ¥",charIndex:1202},{level:2,title:"close_waitäº§çåå ï¼",slug:"close-waitäº§çåå ",normalizedTitle:"close_waitäº§çåå ï¼",charIndex:2732},{level:2,title:"close_waitå¤ªå¤è§£å³æ¹æ³ï¼",slug:"close-waitå¤ªå¤è§£å³æ¹æ³",normalizedTitle:"close_waitå¤ªå¤è§£å³æ¹æ³ï¼",charIndex:3126}],headersStr:"ç±äºsocketæ¯å¨åå·¥çå·¥ä½æ¨¡å¼ï¼ä¸ä¸ªsocketçå³é­ï¼æ¯éè¦åæ¬¡æ¡ææ¥å®æçã time_wait äº§çåå ï¼ç­å¾2MSLæä¹ï¼ï¼ time_waitè¿å¤äº§çåå ï¼ time_waitè¿å¤è§£å³æ¹æ³ï¼ ç­è¿æ¥ é¿è¿æ¥ close_waitäº§çåå ï¼ close_waitå¤ªå¤è§£å³æ¹æ³ï¼",content:"# ç±äºsocketæ¯å¨åå·¥çå·¥ä½æ¨¡å¼ï¼ä¸ä¸ªsocketçå³é­ï¼æ¯éè¦åæ¬¡æ¡ææ¥å®æçã\n\nä¸»å¨å³é­è¿æ¥çä¸æ¹ï¼è°ç¨close()ï¼åè®®å±åéFINå\n\nè¢«å¨å³é­çä¸æ¹æ¶å°FINååï¼åè®®å±åå¤ACKï¼ç¶åè¢«å¨å³é­çä¸æ¹ï¼è¿å¥CLOSE_WAITç¶æï¼ä¸»å¨å³é­çä¸æ¹ç­å¾å¯¹æ¹å³é­ï¼åè¿å¥FIN_WAIT_2ç¶æï¼æ­¤æ¶ï¼ä¸»å¨å³é­çä¸æ¹ ç­å¾ è¢«å¨å³é­ä¸æ¹çåºç¨ç¨åºï¼è°ç¨closeæä½ã\n\nè¢«å¨å³é­çä¸æ¹å¨å®ææææ°æ®åéåï¼è°ç¨close()æä½ï¼æ­¤æ¶ï¼åè®®å±åéFINåç»ä¸»å¨å³é­çä¸æ¹ï¼ç­å¾å¯¹æ¹çACKï¼è¢«å¨å³é­çä¸æ¹è¿å¥LAST_ACKç¶æï¼\n\nä¸»å¨å³é­çä¸æ¹æ¶å°FINåï¼åè®®å±åå¤ACKï¼æ­¤æ¶ï¼ä¸»å¨å³é­è¿æ¥çä¸æ¹ï¼è¿å¥TIME_WAITç¶æï¼èè¢«å¨å³é­çä¸æ¹ï¼è¿å¥CLOSEDç¶æ\n\nç­å¾2MSLæ¶é´ï¼å¦æ²¡åç°éä¼ çFINï¼ä¸»å¨å³é­çä¸æ¹ï¼ç»æTIME_WAITï¼è¿å¥CLOSEDç¶æ\n\n\n\n\n# time_wait äº§çåå ï¼ç­å¾2MSLæä¹ï¼ï¼\n\nåè®¾æ¯å®¢æ·ç«¯åæå¡ç«¯åèµ·æ­å¼è¿æ¥\n\nä¸ºäºä¿è¯å®¢æ·ç«¯åéçæåä¸ä¸ªACKæ¥ææ®µè½å¤å°è¾¾æå¡å¨ãå ä¸ºè¿ä¸ªACKæå¯è½ä¸¢å¤±ï¼ä»èå¯¼è´å¤å¨LAST-ACKç¶æçæå¡å¨æ¶ä¸å°å¯¹FIN-ACKçç¡®è®¤æ¥æãæå¡å¨ä¼è¶æ¶éä¼ è¿ä¸ªFIN-ACKï¼æ¥çå®¢æ·ç«¯åéä¼ ä¸æ¬¡ç¡®è®¤ï¼éæ°å¯å¨æ¶é´ç­å¾è®¡æ¶å¨ãæåå®¢æ·ç«¯åæå¡å¨é½è½æ­£å¸¸çå³é­ãåè®¾å®¢æ·ç«¯ä¸ç­å¾2MSLï¼èæ¯å¨åéå®ACKä¹åç´æ¥éæ¾å³é­ï¼ä¸ä½è¿ä¸ªACKä¸¢å¤±çè¯ï¼æå¡å¨å°±æ æ³æ­£å¸¸çè¿å¥å³é­è¿æ¥ç¶æã\n\né²æ­¢âå·²å¤±æçè¿æ¥è¯·æ±æ¥ææ®µâåºç°å¨æ¬è¿æ¥ä¸­ã\n\nå®¢æ·ç«¯å¨åéå®æåä¸ä¸ªACKæ¥ææ®µåï¼åç»è¿2MSLï¼å°±å¯ä»¥ä½¿æ¬è¿æ¥æç»­çæ¶é´åæäº§ççæææ¥ææ®µé½ä»ç½ç»ä¸­æ¶å¤±ï¼ä½¿ä¸ä¸ä¸ªæ°çè¿æ¥ä¸­ä¸ä¼åºç°è¿ç§æ§çè¿æ¥è¯·æ±æ¥ææ®µã\n\n\n# time_waitè¿å¤äº§çåå ï¼\n\næ­£å¸¸çTCPå®¢æ·ç«¯è¿æ¥å¨å³é­åï¼ä¼è¿å¥ä¸ä¸ªTIME_WAITçç¶æï¼æç»­çæ¶é´ä¸è¬å¨1-4åéï¼å¯¹äºè¿æ¥æ°ä¸é«çåºæ¯ï¼1-4åéå¶å®å¹¶ä¸é¿ï¼å¯¹ç³»ç»ä¹ä¸ä¼æä»ä¹å½±åï¼ ä½å¦æç­æ¶é´åï¼ä¾å¦1såï¼è¿è¡å¤§éçç­è¿æ¥ï¼åå¯è½åºç°è¿æ ·ä¸ç§æåµï¼å®¢æ·ç«¯æå¨çæä½ç³»ç»çsocketç«¯å£åæä»¶æè¿°ç¬¦è¢«ç¨å°½ï¼ç³»ç»æ æ³ååèµ·æ°çè¿æ¥ï¼\n\nä¸¾ä¾æ¥è¯´ï¼ ââåè®¾æ¯ç§å»ºç«äº1000ä¸ªç­è¿æ¥ï¼Webåºæ¯ä¸æ¯å¾å¸¸è§çï¼ä¾å¦æ¯ä¸ªè¯·æ±é½å»è®¿é®memcachedï¼ï¼åè®¾TIME_WAITçæ¶é´æ¯1åéï¼å1åéåéè¦å»ºç«6Wä¸ªç­è¿æ¥ï¼ç±äºTIME_WAITæ¶é´æ¯1åéï¼è¿äºç­è¿æ¥1åéåé½å¤äºTIME_WAITç¶æï¼é½ä¸ä¼éæ¾ï¼èLinuxé»è®¤çæ¬å°ç«¯å£èå´éç½®æ¯ï¼net.ipv4.ip_local_port_range = 32768 61000ä¸å°3Wï¼å æ­¤è¿ç§æåµä¸æ°çè¯·æ±ç±äºæ²¡ææ¬å°ç«¯å£å°±ä¸è½å»ºç«äºã\n\n\n# time_waitè¿å¤è§£å³æ¹æ³ï¼\n\n1.å¯ä»¥æ¹ä¸ºé¿è¿æ¥ï¼ä½ä»£ä»·è¾å¤§ï¼é¿è¿æ¥å¤ªå¤ä¼å¯¼è´æå¡å¨æ§è½é®é¢å¹¶ä¸å®å¨æ§ä¹è¾å·®ï¼ 2.ä¿®æ¹ipv4.ip_local_port_rangeï¼å¢å¤§å¯ç¨ç«¯å£èå´ï¼ä½åªè½ç¼è§£é®é¢ï¼ä¸è½æ ¹æ¬è§£å³é®é¢ï¼\n\n3.å®¢æ·ç«¯æºå¨æå¼tcp_tw_reuseåtcp_timestampséé¡¹ï¼\n\nå­é¢ææï¼reuse TIME_WAITç¶æçè¿æ¥ãæ¶å»è®°ä½ä¸æ¡socketè¿æ¥ï¼å°±æ¯é£ä¸ªäºåç»ï¼åºç°TIME_WAITç¶æçè¿æ¥ï¼ä¸å®åºç°å¨ä¸»å¨å³é­è¿æ¥çä¸æ¹ãæä»¥ï¼å½ä¸»å¨å³é­è¿æ¥çä¸æ¹ï¼åæ¬¡åå¯¹æ¹åèµ·è¿æ¥è¯·æ±çæ¶åï¼ä¾å¦ï¼å®¢æ·ç«¯å³é­è¿æ¥ï¼å®¢æ·ç«¯åæ¬¡è¿æ¥æå¡ç«¯ï¼æ­¤æ¶å¯ä»¥å¤ç¨äºï¼è´è½½åè¡¡æå¡å¨ï¼ä¸»å¨å³é­åç«¯çè¿æ¥ï¼å½ææ°çHTTPè¯·æ±ï¼è´è½½åè¡¡æå¡å¨åæ¬¡è¿æ¥åç«¯æå¡å¨ï¼æ­¤æ¶ä¹å¯ä»¥å¤ç¨ï¼ï¼å¯ä»¥å¤ç¨TIME_WAITç¶æçè¿æ¥ã\n\néè¿å­é¢è§£éï¼ä»¥åä¾å­è¯´æï¼ä½ çå°äºï¼tcp_tw_reuseåºç¨çåºæ¯ï¼æä¸æ¹ï¼éè¦ä¸æ­çéè¿âç­è¿æ¥âè¿æ¥å¶ä»æå¡å¨ï¼æ»æ¯èªå·±åå³é­è¿æ¥(TIME_WAITå¨èªå·±è¿æ¹)ï¼å³é­ååä¸æ­çéæ°è¿æ¥å¯¹æ¹ã\n\né£ä¹ï¼å½è¿æ¥è¢«å¤ç¨äºä¹åï¼å»¶è¿æèéåçæ°æ®åå°è¾¾ï¼æ°çè¿æ¥æä¹å¤æ­ï¼å°è¾¾çæ°æ®æ¯å±äºå¤ç¨åçè¿æ¥ï¼è¿æ¯å¤ç¨åçè¿æ¥å¢ï¼é£å°±éè¦ä¾èµåé¢æå°çä¸¤ä¸ªæ¶é´å­æ®µäºãå¤ç¨è¿æ¥åï¼è¿æ¡è¿æ¥çæ¶é´è¢«æ´æ°ä¸ºå½åçæ¶é´ï¼å½å»¶è¿çæ°æ®è¾¾å°ï¼å»¶è¿æ°æ®çæ¶é´æ¯å°äºæ°è¿æ¥çæ¶é´ï¼æä»¥ï¼åæ ¸å¯ä»¥éè¿æ¶é´å¤æ­åºï¼å»¶è¿çæ°æ®å¯ä»¥å®å¨çä¸¢å¼æäºã\n\nè¿ä¸ªéç½®ï¼ä¾èµäºè¿æ¥åæ¹ï¼åæ¶å¯¹timestampsçæ¯æãåæ¶ï¼è¿ä¸ªéç½®ï¼ä»ä»å½±åoutboundè¿æ¥ï¼å³åä¸ºå®¢æ·ç«¯çè§è²ï¼è¿æ¥æå¡ç«¯[connect(dest_ip, dest_port)]æ¶å¤ç¨TIME_WAITçsocketã\n\n4.å®¢æ·ç«¯æºå¨æå¼tcp_tw_recycleåtcp_timestampséé¡¹ï¼\n\nå­é¢ææï¼éæ¯æ TIME_WAITã\n\nå½å¼å¯äºè¿ä¸ªéç½®åï¼åæ ¸ä¼å¿«éçåæ¶å¤äºTIME_WAITç¶æçsocketè¿æ¥ãå¤å¿«ï¼ä¸åæ¯2MSLï¼èæ¯ä¸ä¸ªRTOï¼retransmission timeoutï¼æ°æ®åéä¼ çtimeoutæ¶é´ï¼çæ¶é´ï¼è¿ä¸ªæ¶é´æ ¹æ®RTTå¨æè®¡ç®åºæ¥ï¼ä½æ¯è¿å°äº2MSLã\n\næäºè¿ä¸ªéç½®ï¼è¿æ¯éè¦ä¿é ä¸¢å¤±éä¼ æèå»¶è¿çæ°æ®åï¼ä¸ä¼è¢«æ°çè¿æ¥(æ³¨æï¼è¿éä¸åæ¯å¤ç¨äºï¼èæ¯ä¹åå¤äºTIME_WAITç¶æçè¿æ¥å·²ç»è¢«destroyæäºï¼æ°çè¿æ¥ï¼åå¥½æ¯åæä¸ä¸ªè¢«destroyæçè¿æ¥ä½¿ç¨äºç¸åçäºåç»èå·²)æéè¯¯çæ¥æ¶ãå¨å¯ç¨è¯¥éç½®ï¼å½ä¸ä¸ªsocketè¿æ¥è¿å¥TIME_WAITç¶æåï¼åæ ¸éä¼è®°å½åæ¬è¯¥socketè¿æ¥å¯¹åºçäºåç»ä¸­çå¯¹æ¹IPç­å¨åçä¸äºç»è®¡æ°æ®ï¼å½ç¶ä¹åæ¬ä»è¯¥å¯¹æ¹IPææ¥æ¶å°çæè¿çä¸æ¬¡æ°æ®åæ¶é´ãå½ææ°çæ°æ®åå°è¾¾ï¼åªè¦æ¶é´æäºåæ ¸è®°å½çè¿ä¸ªæ¶é´ï¼æ°æ®åé½ä¼è¢«ç»ç»çä¸¢æã\n\n\nè¿ä¸ªéç½®ï¼ä¾èµäºè¿æ¥åæ¹å¯¹timestampsçæ¯æãåæ¶ï¼è¿ä¸ªéç½®ï¼ä¸»è¦å½±åå°äºinboundçè¿æ¥ï¼å¯¹outboundçè¿æ¥ä¹æå½±åï¼ä½æ¯ä¸æ¯å¤ç¨ï¼ï¼å³åä¸ºæå¡ç«¯è§è²ï¼å®¢æ·ç«¯è¿è¿æ¥ï¼æå¡ç«¯ä¸»å¨å³é­äºè¿æ¥ï¼TIME_WAITç¶æçsocketå¤äºæå¡ç«¯ï¼æå¡ç«¯å¿«éçåæ¶è¯¥ç¶æçè¿æ¥ã\n\n\n# ç­è¿æ¥\n\nè¿æ¥->ä¼ è¾æ°æ®->å³é­è¿æ¥ HTTPæ¯æ ç¶æçï¼æµè§å¨åæå¡å¨æ¯è¿è¡ä¸æ¬¡HTTPæä½ï¼å°±å»ºç«ä¸æ¬¡è¿æ¥ï¼ä½ä»»å¡ç»æå°±ä¸­æ­è¿æ¥ã ä¹å¯ä»¥è¿æ ·è¯´ï¼ç­è¿æ¥æ¯æSOCKETè¿æ¥ååéåæ¥æ¶å®æ°æ®åé©¬ä¸æ­å¼è¿æ¥ã\n\n\n# é¿è¿æ¥\n\nè¿æ¥->ä¼ è¾æ°æ®->ä¿æè¿æ¥ -> ä¼ è¾æ°æ®-> ããã ->å³é­è¿æ¥ã é¿è¿æ¥æå»ºç«SOCKETè¿æ¥åä¸ç®¡æ¯å¦ä½¿ç¨é½ä¿æè¿æ¥ï¼ä½å®å¨æ§è¾å·®ã\n\n\n# close_waitäº§çåå ï¼\n\næ¯å¦æ¯å®¢æ·ç«¯è¦ä¸æå¡ç«¯æ­å¼è¿æ¥ï¼ååä¸ä¸ªFINè¡¨ç¤ºèªå·±è¦ä¸»å¨æ­å¼è¿æ¥äºï¼æå¡ç«¯ä¼ååä¸ä¸ªACKï¼è¿æ¶è¡¨ç¤ºå®¢æ·ç«¯æ²¡æ°æ®è¦åäºï¼ä½æå¯è½æå¡ç«¯æ°æ®è¿æ²¡åå®ï¼æä»¥è¦ç»åä¸ä¸ªclose_waitï¼ç­å¾æå¡ç«¯æ°æ®åéå®ï¼ååä¸ä¸ªFINåACKã\n\nclose_waitäº§çå¤ªå¤åå ï¼\n\nclose_wait æç§æ­£å¸¸æä½çè¯åºè¯¥å¾ç­æçä¸ä¸ªç¶æï¼æ¥æ¶å°å®¢æ·ç«¯çfinåå¹¶ä¸åå¤å®¢æ·ç«¯ackä¹åï¼ä¼ç»§ç»­åéFINååç¥å®¢æ·ç«¯å³é­å³é­è¿æ¥ï¼ä¹åè¿ç§»å°Last_ACKç¶æãä½æ¯close_waitè¿å¤åªè½è¯´ææ²¡æè¿ç§»å°Last_ACKï¼ä¹å°±æ¯æå¡ç«¯æ¯å¦åéFINåï¼åªæåéFINåæä¼åçè¿ç§»ï¼æä»¥é®é¢å®ä½å¨æ¯å¦åéFINåãFINåçåºå±å®ç°å¶å®å°±æ¯è°ç¨socketçcloseæ¹æ³ï¼è¿éçé®é¢åºå¨æ²¡ææ§è¡closeæ¹æ³ãè¯´ææå¡ç«¯socketå¿äºè¯»åã\n\n\n# close_waitå¤ªå¤è§£å³æ¹æ³ï¼\n\nä»£ç å±é¢åå° ç¬¬ä¸ï¼ä½¿ç¨å®socketå°±è°ç¨closeæ¹æ³ï¼ ç¬¬äºï¼socketè¯»æ§å¶ï¼å½è¯»åçé¿åº¦ä¸º0æ¶ï¼è¯»å°ç»å°¾ï¼ï¼ç«å³closeï¼ ç¬¬ä¸ï¼å¦æreadè¿å-1ï¼åºç°éè¯¯ï¼æ£æ¥errorè¿åç ï¼æä¸ç§æåµï¼INTRï¼è¢«ä¸­æ­ï¼å¯ä»¥ç»§ç»­è¯»åï¼ï¼WOULDBLOCKï¼è¡¨ç¤ºå½åsocket_fdæä»¶æè¿°ç¬¦æ¯éé»å¡çï¼ä½æ¯ç°å¨è¢«é»å¡äºï¼ï¼AGAINï¼è¡¨ç¤ºç°å¨æ²¡ææ°æ®ç¨åéæ°è¯»åï¼ãå¦æä¸æ¯AGAINï¼ç«å³close å¯ä»¥è®¾ç½®TCPçè¿æ¥æ¶é¿keep_alive_timeè¿ætcpçæ§è¿æ¥çé¢çä»¥åè¿æ¥æ²¡ææ´»å¨å¤é¿æ¶é´è¢«è¿«æ­å¼è¿æ¥ ââââââââââââââââ\n\nåèTCPéä¿¡è¿ç¨ä¸­time_waitåclose_waitäº§çè¿å¤çåå åè§£å³æ¹æ³",normalizedContent:"# ç±äºsocketæ¯å¨åå·¥çå·¥ä½æ¨¡å¼ï¼ä¸ä¸ªsocketçå³é­ï¼æ¯éè¦åæ¬¡æ¡ææ¥å®æçã\n\nä¸»å¨å³é­è¿æ¥çä¸æ¹ï¼è°ç¨close()ï¼åè®®å±åéfinå\n\nè¢«å¨å³é­çä¸æ¹æ¶å°finååï¼åè®®å±åå¤ackï¼ç¶åè¢«å¨å³é­çä¸æ¹ï¼è¿å¥close_waitç¶æï¼ä¸»å¨å³é­çä¸æ¹ç­å¾å¯¹æ¹å³é­ï¼åè¿å¥fin_wait_2ç¶æï¼æ­¤æ¶ï¼ä¸»å¨å³é­çä¸æ¹ ç­å¾ è¢«å¨å³é­ä¸æ¹çåºç¨ç¨åºï¼è°ç¨closeæä½ã\n\nè¢«å¨å³é­çä¸æ¹å¨å®ææææ°æ®åéåï¼è°ç¨close()æä½ï¼æ­¤æ¶ï¼åè®®å±åéfinåç»ä¸»å¨å³é­çä¸æ¹ï¼ç­å¾å¯¹æ¹çackï¼è¢«å¨å³é­çä¸æ¹è¿å¥last_ackç¶æï¼\n\nä¸»å¨å³é­çä¸æ¹æ¶å°finåï¼åè®®å±åå¤ackï¼æ­¤æ¶ï¼ä¸»å¨å³é­è¿æ¥çä¸æ¹ï¼è¿å¥time_waitç¶æï¼èè¢«å¨å³é­çä¸æ¹ï¼è¿å¥closedç¶æ\n\nç­å¾2mslæ¶é´ï¼å¦æ²¡åç°éä¼ çfinï¼ä¸»å¨å³é­çä¸æ¹ï¼ç»ætime_waitï¼è¿å¥closedç¶æ\n\n\n\n\n# time_wait äº§çåå ï¼ç­å¾2mslæä¹ï¼ï¼\n\nåè®¾æ¯å®¢æ·ç«¯åæå¡ç«¯åèµ·æ­å¼è¿æ¥\n\nä¸ºäºä¿è¯å®¢æ·ç«¯åéçæåä¸ä¸ªackæ¥ææ®µè½å¤å°è¾¾æå¡å¨ãå ä¸ºè¿ä¸ªackæå¯è½ä¸¢å¤±ï¼ä»èå¯¼è´å¤å¨last-ackç¶æçæå¡å¨æ¶ä¸å°å¯¹fin-ackçç¡®è®¤æ¥æãæå¡å¨ä¼è¶æ¶éä¼ è¿ä¸ªfin-ackï¼æ¥çå®¢æ·ç«¯åéä¼ ä¸æ¬¡ç¡®è®¤ï¼éæ°å¯å¨æ¶é´ç­å¾è®¡æ¶å¨ãæåå®¢æ·ç«¯åæå¡å¨é½è½æ­£å¸¸çå³é­ãåè®¾å®¢æ·ç«¯ä¸ç­å¾2mslï¼èæ¯å¨åéå®ackä¹åç´æ¥éæ¾å³é­ï¼ä¸ä½è¿ä¸ªackä¸¢å¤±çè¯ï¼æå¡å¨å°±æ æ³æ­£å¸¸çè¿å¥å³é­è¿æ¥ç¶æã\n\né²æ­¢âå·²å¤±æçè¿æ¥è¯·æ±æ¥ææ®µâåºç°å¨æ¬è¿æ¥ä¸­ã\n\nå®¢æ·ç«¯å¨åéå®æåä¸ä¸ªackæ¥ææ®µåï¼åç»è¿2mslï¼å°±å¯ä»¥ä½¿æ¬è¿æ¥æç»­çæ¶é´åæäº§ççæææ¥ææ®µé½ä»ç½ç»ä¸­æ¶å¤±ï¼ä½¿ä¸ä¸ä¸ªæ°çè¿æ¥ä¸­ä¸ä¼åºç°è¿ç§æ§çè¿æ¥è¯·æ±æ¥ææ®µã\n\n\n# time_waitè¿å¤äº§çåå ï¼\n\næ­£å¸¸çtcpå®¢æ·ç«¯è¿æ¥å¨å³é­åï¼ä¼è¿å¥ä¸ä¸ªtime_waitçç¶æï¼æç»­çæ¶é´ä¸è¬å¨1-4åéï¼å¯¹äºè¿æ¥æ°ä¸é«çåºæ¯ï¼1-4åéå¶å®å¹¶ä¸é¿ï¼å¯¹ç³»ç»ä¹ä¸ä¼æä»ä¹å½±åï¼ ä½å¦æç­æ¶é´åï¼ä¾å¦1såï¼è¿è¡å¤§éçç­è¿æ¥ï¼åå¯è½åºç°è¿æ ·ä¸ç§æåµï¼å®¢æ·ç«¯æå¨çæä½ç³»ç»çsocketç«¯å£åæä»¶æè¿°ç¬¦è¢«ç¨å°½ï¼ç³»ç»æ æ³ååèµ·æ°çè¿æ¥ï¼\n\nä¸¾ä¾æ¥è¯´ï¼ ââåè®¾æ¯ç§å»ºç«äº1000ä¸ªç­è¿æ¥ï¼webåºæ¯ä¸æ¯å¾å¸¸è§çï¼ä¾å¦æ¯ä¸ªè¯·æ±é½å»è®¿é®memcachedï¼ï¼åè®¾time_waitçæ¶é´æ¯1åéï¼å1åéåéè¦å»ºç«6wä¸ªç­è¿æ¥ï¼ç±äºtime_waitæ¶é´æ¯1åéï¼è¿äºç­è¿æ¥1åéåé½å¤äºtime_waitç¶æï¼é½ä¸ä¼éæ¾ï¼èlinuxé»è®¤çæ¬å°ç«¯å£èå´éç½®æ¯ï¼net.ipv4.ip_local_port_range = 32768 61000ä¸å°3wï¼å æ­¤è¿ç§æåµä¸æ°çè¯·æ±ç±äºæ²¡ææ¬å°ç«¯å£å°±ä¸è½å»ºç«äºã\n\n\n# time_waitè¿å¤è§£å³æ¹æ³ï¼\n\n1.å¯ä»¥æ¹ä¸ºé¿è¿æ¥ï¼ä½ä»£ä»·è¾å¤§ï¼é¿è¿æ¥å¤ªå¤ä¼å¯¼è´æå¡å¨æ§è½é®é¢å¹¶ä¸å®å¨æ§ä¹è¾å·®ï¼ 2.ä¿®æ¹ipv4.ip_local_port_rangeï¼å¢å¤§å¯ç¨ç«¯å£èå´ï¼ä½åªè½ç¼è§£é®é¢ï¼ä¸è½æ ¹æ¬è§£å³é®é¢ï¼\n\n3.å®¢æ·ç«¯æºå¨æå¼tcp_tw_reuseåtcp_timestampséé¡¹ï¼\n\nå­é¢ææï¼reuse time_waitç¶æçè¿æ¥ãæ¶å»è®°ä½ä¸æ¡socketè¿æ¥ï¼å°±æ¯é£ä¸ªäºåç»ï¼åºç°time_waitç¶æçè¿æ¥ï¼ä¸å®åºç°å¨ä¸»å¨å³é­è¿æ¥çä¸æ¹ãæä»¥ï¼å½ä¸»å¨å³é­è¿æ¥çä¸æ¹ï¼åæ¬¡åå¯¹æ¹åèµ·è¿æ¥è¯·æ±çæ¶åï¼ä¾å¦ï¼å®¢æ·ç«¯å³é­è¿æ¥ï¼å®¢æ·ç«¯åæ¬¡è¿æ¥æå¡ç«¯ï¼æ­¤æ¶å¯ä»¥å¤ç¨äºï¼è´è½½åè¡¡æå¡å¨ï¼ä¸»å¨å³é­åç«¯çè¿æ¥ï¼å½ææ°çhttpè¯·æ±ï¼è´è½½åè¡¡æå¡å¨åæ¬¡è¿æ¥åç«¯æå¡å¨ï¼æ­¤æ¶ä¹å¯ä»¥å¤ç¨ï¼ï¼å¯ä»¥å¤ç¨time_waitç¶æçè¿æ¥ã\n\néè¿å­é¢è§£éï¼ä»¥åä¾å­è¯´æï¼ä½ çå°äºï¼tcp_tw_reuseåºç¨çåºæ¯ï¼æä¸æ¹ï¼éè¦ä¸æ­çéè¿âç­è¿æ¥âè¿æ¥å¶ä»æå¡å¨ï¼æ»æ¯èªå·±åå³é­è¿æ¥(time_waitå¨èªå·±è¿æ¹)ï¼å³é­ååä¸æ­çéæ°è¿æ¥å¯¹æ¹ã\n\né£ä¹ï¼å½è¿æ¥è¢«å¤ç¨äºä¹åï¼å»¶è¿æèéåçæ°æ®åå°è¾¾ï¼æ°çè¿æ¥æä¹å¤æ­ï¼å°è¾¾çæ°æ®æ¯å±äºå¤ç¨åçè¿æ¥ï¼è¿æ¯å¤ç¨åçè¿æ¥å¢ï¼é£å°±éè¦ä¾èµåé¢æå°çä¸¤ä¸ªæ¶é´å­æ®µäºãå¤ç¨è¿æ¥åï¼è¿æ¡è¿æ¥çæ¶é´è¢«æ´æ°ä¸ºå½åçæ¶é´ï¼å½å»¶è¿çæ°æ®è¾¾å°ï¼å»¶è¿æ°æ®çæ¶é´æ¯å°äºæ°è¿æ¥çæ¶é´ï¼æä»¥ï¼åæ ¸å¯ä»¥éè¿æ¶é´å¤æ­åºï¼å»¶è¿çæ°æ®å¯ä»¥å®å¨çä¸¢å¼æäºã\n\nè¿ä¸ªéç½®ï¼ä¾èµäºè¿æ¥åæ¹ï¼åæ¶å¯¹timestampsçæ¯æãåæ¶ï¼è¿ä¸ªéç½®ï¼ä»ä»å½±åoutboundè¿æ¥ï¼å³åä¸ºå®¢æ·ç«¯çè§è²ï¼è¿æ¥æå¡ç«¯[connect(dest_ip, dest_port)]æ¶å¤ç¨time_waitçsocketã\n\n4.å®¢æ·ç«¯æºå¨æå¼tcp_tw_recycleåtcp_timestampséé¡¹ï¼\n\nå­é¢ææï¼éæ¯æ time_waitã\n\nå½å¼å¯äºè¿ä¸ªéç½®åï¼åæ ¸ä¼å¿«éçåæ¶å¤äºtime_waitç¶æçsocketè¿æ¥ãå¤å¿«ï¼ä¸åæ¯2mslï¼èæ¯ä¸ä¸ªrtoï¼retransmission timeoutï¼æ°æ®åéä¼ çtimeoutæ¶é´ï¼çæ¶é´ï¼è¿ä¸ªæ¶é´æ ¹æ®rttå¨æè®¡ç®åºæ¥ï¼ä½æ¯è¿å°äº2mslã\n\næäºè¿ä¸ªéç½®ï¼è¿æ¯éè¦ä¿é ä¸¢å¤±éä¼ æèå»¶è¿çæ°æ®åï¼ä¸ä¼è¢«æ°çè¿æ¥(æ³¨æï¼è¿éä¸åæ¯å¤ç¨äºï¼èæ¯ä¹åå¤äºtime_waitç¶æçè¿æ¥å·²ç»è¢«destroyæäºï¼æ°çè¿æ¥ï¼åå¥½æ¯åæä¸ä¸ªè¢«destroyæçè¿æ¥ä½¿ç¨äºç¸åçäºåç»èå·²)æéè¯¯çæ¥æ¶ãå¨å¯ç¨è¯¥éç½®ï¼å½ä¸ä¸ªsocketè¿æ¥è¿å¥time_waitç¶æåï¼åæ ¸éä¼è®°å½åæ¬è¯¥socketè¿æ¥å¯¹åºçäºåç»ä¸­çå¯¹æ¹ipç­å¨åçä¸äºç»è®¡æ°æ®ï¼å½ç¶ä¹åæ¬ä»è¯¥å¯¹æ¹ipææ¥æ¶å°çæè¿çä¸æ¬¡æ°æ®åæ¶é´ãå½ææ°çæ°æ®åå°è¾¾ï¼åªè¦æ¶é´æäºåæ ¸è®°å½çè¿ä¸ªæ¶é´ï¼æ°æ®åé½ä¼è¢«ç»ç»çä¸¢æã\n\n\nè¿ä¸ªéç½®ï¼ä¾èµäºè¿æ¥åæ¹å¯¹timestampsçæ¯æãåæ¶ï¼è¿ä¸ªéç½®ï¼ä¸»è¦å½±åå°äºinboundçè¿æ¥ï¼å¯¹outboundçè¿æ¥ä¹æå½±åï¼ä½æ¯ä¸æ¯å¤ç¨ï¼ï¼å³åä¸ºæå¡ç«¯è§è²ï¼å®¢æ·ç«¯è¿è¿æ¥ï¼æå¡ç«¯ä¸»å¨å³é­äºè¿æ¥ï¼time_waitç¶æçsocketå¤äºæå¡ç«¯ï¼æå¡ç«¯å¿«éçåæ¶è¯¥ç¶æçè¿æ¥ã\n\n\n# ç­è¿æ¥\n\nè¿æ¥->ä¼ è¾æ°æ®->å³é­è¿æ¥ httpæ¯æ ç¶æçï¼æµè§å¨åæå¡å¨æ¯è¿è¡ä¸æ¬¡httpæä½ï¼å°±å»ºç«ä¸æ¬¡è¿æ¥ï¼ä½ä»»å¡ç»æå°±ä¸­æ­è¿æ¥ã ä¹å¯ä»¥è¿æ ·è¯´ï¼ç­è¿æ¥æ¯æsocketè¿æ¥ååéåæ¥æ¶å®æ°æ®åé©¬ä¸æ­å¼è¿æ¥ã\n\n\n# é¿è¿æ¥\n\nè¿æ¥->ä¼ è¾æ°æ®->ä¿æè¿æ¥ -> ä¼ è¾æ°æ®-> ããã ->å³é­è¿æ¥ã é¿è¿æ¥æå»ºç«socketè¿æ¥åä¸ç®¡æ¯å¦ä½¿ç¨é½ä¿æè¿æ¥ï¼ä½å®å¨æ§è¾å·®ã\n\n\n# close_waitäº§çåå ï¼\n\næ¯å¦æ¯å®¢æ·ç«¯è¦ä¸æå¡ç«¯æ­å¼è¿æ¥ï¼ååä¸ä¸ªfinè¡¨ç¤ºèªå·±è¦ä¸»å¨æ­å¼è¿æ¥äºï¼æå¡ç«¯ä¼ååä¸ä¸ªackï¼è¿æ¶è¡¨ç¤ºå®¢æ·ç«¯æ²¡æ°æ®è¦åäºï¼ä½æå¯è½æå¡ç«¯æ°æ®è¿æ²¡åå®ï¼æä»¥è¦ç»åä¸ä¸ªclose_waitï¼ç­å¾æå¡ç«¯æ°æ®åéå®ï¼ååä¸ä¸ªfinåackã\n\nclose_waitäº§çå¤ªå¤åå ï¼\n\nclose_wait æç§æ­£å¸¸æä½çè¯åºè¯¥å¾ç­æçä¸ä¸ªç¶æï¼æ¥æ¶å°å®¢æ·ç«¯çfinåå¹¶ä¸åå¤å®¢æ·ç«¯ackä¹åï¼ä¼ç»§ç»­åéfinååç¥å®¢æ·ç«¯å³é­å³é­è¿æ¥ï¼ä¹åè¿ç§»å°last_ackç¶æãä½æ¯close_waitè¿å¤åªè½è¯´ææ²¡æè¿ç§»å°last_ackï¼ä¹å°±æ¯æå¡ç«¯æ¯å¦åéfinåï¼åªæåéfinåæä¼åçè¿ç§»ï¼æä»¥é®é¢å®ä½å¨æ¯å¦åéfinåãfinåçåºå±å®ç°å¶å®å°±æ¯è°ç¨socketçcloseæ¹æ³ï¼è¿éçé®é¢åºå¨æ²¡ææ§è¡closeæ¹æ³ãè¯´ææå¡ç«¯socketå¿äºè¯»åã\n\n\n# close_waitå¤ªå¤è§£å³æ¹æ³ï¼\n\nä»£ç å±é¢åå° ç¬¬ä¸ï¼ä½¿ç¨å®socketå°±è°ç¨closeæ¹æ³ï¼ ç¬¬äºï¼socketè¯»æ§å¶ï¼å½è¯»åçé¿åº¦ä¸º0æ¶ï¼è¯»å°ç»å°¾ï¼ï¼ç«å³closeï¼ ç¬¬ä¸ï¼å¦æreadè¿å-1ï¼åºç°éè¯¯ï¼æ£æ¥errorè¿åç ï¼æä¸ç§æåµï¼intrï¼è¢«ä¸­æ­ï¼å¯ä»¥ç»§ç»­è¯»åï¼ï¼wouldblockï¼è¡¨ç¤ºå½åsocket_fdæä»¶æè¿°ç¬¦æ¯éé»å¡çï¼ä½æ¯ç°å¨è¢«é»å¡äºï¼ï¼againï¼è¡¨ç¤ºç°å¨æ²¡ææ°æ®ç¨åéæ°è¯»åï¼ãå¦æä¸æ¯againï¼ç«å³close å¯ä»¥è®¾ç½®tcpçè¿æ¥æ¶é¿keep_alive_timeè¿ætcpçæ§è¿æ¥çé¢çä»¥åè¿æ¥æ²¡ææ´»å¨å¤é¿æ¶é´è¢«è¿«æ­å¼è¿æ¥ ââââââââââââââââ\n\nåètcpéä¿¡è¿ç¨ä¸­time_waitåclose_waitäº§çè¿å¤çåå åè§£å³æ¹æ³",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿° TCP æ»å¨çªå£",frontmatter:{title:"ç®è¿° TCP æ»å¨çªå£",date:"2022-09-21T22:38:09.000Z",permalink:"/pages/dae451/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/170.%E7%AE%80%E8%BF%B0%20TCP%20%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/170.ç®è¿° TCP æ»å¨çªå£.md",key:"v-3e902cd4",path:"/pages/dae451/",headers:[{level:2,title:"æ»å¨çªå£è§£å³ä»ä¹é®é¢ï¼",slug:"æ»å¨çªå£è§£å³ä»ä¹é®é¢",normalizedTitle:"æ»å¨çªå£è§£å³ä»ä¹é®é¢ï¼",charIndex:2},{level:2,title:"æ»å¨çªå£æ¯ä»ä¹ï¼",slug:"æ»å¨çªå£æ¯ä»ä¹",normalizedTitle:"æ»å¨çªå£æ¯ä»ä¹ï¼",charIndex:221},{level:2,title:"çªå£å¤§å°ç±åªä¸æ¹å³å®ï¼",slug:"çªå£å¤§å°ç±åªä¸æ¹å³å®",normalizedTitle:"çªå£å¤§å°ç±åªä¸æ¹å³å®ï¼",charIndex:609},{level:2,title:"ç¨åºæ¯å¦ä½è¡¨ç¤ºåéæ¹çåä¸ªé¨åçå¢ï¼",slug:"ç¨åºæ¯å¦ä½è¡¨ç¤ºåéæ¹çåä¸ªé¨åçå¢",normalizedTitle:"ç¨åºæ¯å¦ä½è¡¨ç¤ºåéæ¹çåä¸ªé¨åçå¢ï¼",charIndex:1217},{level:2,title:"æ¥æ¶æ¹çæ»å¨çªå£",slug:"æ¥æ¶æ¹çæ»å¨çªå£",normalizedTitle:"æ¥æ¶æ¹çæ»å¨çªå£",charIndex:1598},{level:2,title:"æ¥æ¶çªå£ååéçªå£çå¤§å°æ¯ç¸ç­çåï¼",slug:"æ¥æ¶çªå£ååéçªå£çå¤§å°æ¯ç¸ç­çå",normalizedTitle:"æ¥æ¶çªå£ååéçªå£çå¤§å°æ¯ç¸ç­çåï¼",charIndex:1917},{level:2,title:"åèï¼",slug:"åè",normalizedTitle:"åèï¼",charIndex:2106}],headersStr:"æ»å¨çªå£è§£å³ä»ä¹é®é¢ï¼ æ»å¨çªå£æ¯ä»ä¹ï¼ çªå£å¤§å°ç±åªä¸æ¹å³å®ï¼ ç¨åºæ¯å¦ä½è¡¨ç¤ºåéæ¹çåä¸ªé¨åçå¢ï¼ æ¥æ¶æ¹çæ»å¨çªå£ æ¥æ¶çªå£ååéçªå£çå¤§å°æ¯ç¸ç­çåï¼ åèï¼",content:"# æ»å¨çªå£è§£å³ä»ä¹é®é¢ï¼\n\næä»¬é½ç¥é TCP æ¯æ¯åéä¸ä¸ªæ°æ®ï¼é½è¦è¿è¡ä¸æ¬¡ç¡®è®¤åºç­ãå½ä¸ä¸ä¸ªæ°æ®åæ¶å°äºåºç­äºï¼ ååéä¸ä¸ä¸ªã\n\nè¿ä¸ªæ¨¡å¼å°±æç¹åæåä½ é¢å¯¹é¢èå¤©ï¼ä½ ä¸å¥æä¸å¥ãä½è¿ç§æ¹å¼çç¼ºç¹æ¯æçæ¯è¾ä½çã\n\nå¦æä½ è¯´å®ä¸å¥è¯ï¼æå¨å¤çå¶ä»äºæï¼æ²¡æåæ¶åå¤ä½ ï¼é£ä½ ä¸æ¯è¦å¹²ç­çæåå®å¶ä»äºæåï¼æåå¤ä½ ï¼ä½ æè½è¯´ä¸ä¸å¥è¯ï¼å¾æ¾ç¶è¿ä¸ç°å®ã\n\n\n\næä»¥ï¼è¿æ ·çä¼ è¾æ¹å¼æä¸ä¸ªç¼ºç¹ï¼æ°æ®åçå¾è¿æ¶é´è¶é¿ï¼éä¿¡çæçå°±è¶ä½ã\n\n\n# æ»å¨çªå£æ¯ä»ä¹ï¼\n\nä¸ºè§£å³è¿ä¸ªé®é¢ï¼TCP å¼å¥äºçªå£è¿ä¸ªæ¦å¿µãå³ä½¿å¨å¾è¿æ¶é´è¾é¿çæåµä¸ï¼å®ä¹ä¸ä¼éä½ç½ç»éä¿¡çæçã\n\né£ä¹æäºçªå£ï¼å°±å¯ä»¥æå®çªå£å¤§å°ï¼çªå£å¤§å°å°±æ¯ææ éç­å¾ç¡®è®¤åºç­ï¼èå¯ä»¥ç»§ç»­åéæ°æ®çæå¤§å¼ã\n\nçªå£çå®ç°å®éä¸æ¯æä½ç³»ç»å¼è¾çä¸ä¸ªç¼å­ç©ºé´ï¼åéæ¹ä¸»æºå¨ç­å°ç¡®è®¤åºç­è¿åä¹åï¼å¿é¡»å¨ç¼å²åºä¸­ä¿çå·²åéçæ°æ®ãå¦ææææ¶å°ç¡®è®¤åºç­ï¼æ­¤æ¶æ°æ®å°±å¯ä»¥ä»ç¼å­åºæ¸é¤ã\n\nåè®¾çªå£å¤§å°ä¸º 3ä¸ª TCP æ®µï¼é£ä¹åéæ¹å°±å¯ä»¥ãè¿ç»­åéã3ä¸ª TCP æ®µï¼å¹¶ä¸ä¸­éè¥æ ACK ä¸¢å¤±ï¼å¯ä»¥éè¿ãä¸ä¸ä¸ªç¡®è®¤åºç­è¿è¡ç¡®è®¤ããå¦ä¸å¾ï¼\n\n\n\nå¾ä¸­ç ACK 600 ç¡®è®¤åºç­æ¥æä¸¢å¤±ï¼ä¹æ²¡å³ç³»ï¼å ä¸ºå¯ä»¥éè¿ä¸ä¸ä¸ªç¡®è®¤åºç­è¿è¡ç¡®è®¤ï¼åªè¦åéæ¹æ¶å°äº ACK 700 ç¡®è®¤åºç­ï¼å°±æå³ç 700 ä¹åçæææ°æ®ãæ¥æ¶æ¹ãé½æ¶å°äºãè¿ä¸ªæ¨¡å¼å°±å«ç´¯è®¡ç¡®è®¤æèç´¯è®¡åºç­ã\n\n\n# çªå£å¤§å°ç±åªä¸æ¹å³å®ï¼\n\nTCP å¤´éæä¸ä¸ªå­æ®µå« Windowï¼ä¹å°±æ¯çªå£å¤§å°ã\n\nè¿ä¸ªå­æ®µæ¯æ¥æ¶ç«¯åè¯åéç«¯èªå·±è¿æå¤å°ç¼å²åºå¯ä»¥æ¥æ¶æ°æ®ãäºæ¯åéç«¯å°±å¯ä»¥æ ¹æ®è¿ä¸ªæ¥æ¶ç«¯çå¤çè½åæ¥åéæ°æ®ï¼èä¸ä¼å¯¼è´æ¥æ¶ç«¯å¤çä¸è¿æ¥ã\n\næä»¥ï¼éå¸¸çªå£çå¤§å°æ¯ç±æ¥æ¶æ¹ççªå£å¤§å°æ¥å³å®çã\n\nåéæ¹åéçæ°æ®å¤§å°ä¸è½è¶è¿æ¥æ¶æ¹ççªå£å¤§å°ï¼å¦åæ¥æ¶æ¹å°±æ æ³æ­£å¸¸æ¥æ¶å°æ°æ®ã\n\næä»¬åæ¥ççåéæ¹ççªå£ï¼ä¸å¾å°±æ¯åéæ¹ç¼å­çæ°æ®ï¼æ ¹æ®å¤ççæåµåæåä¸ªé¨åï¼å¶ä¸­æ·±èè²æ¹æ¡æ¯åéçªå£ï¼ç´«è²æ¹æ¡æ¯å¯ç¨çªå£ï¼\n\n\n\n 1. äº1æ¯å·²åéå¹¶æ¶å° ACKç¡®è®¤çæ°æ®ï¼1~31 å­è\n 2. äº2æ¯å·²åéä½æªæ¶å° ACKç¡®è®¤çæ°æ®ï¼32~45 å­è\n 3. äº3æ¯æªåéä½æ»å¤§å°å¨æ¥æ¶æ¹å¤çèå´åï¼æ¥æ¶æ¹è¿æç©ºé´ï¼ï¼46~51å­è\n 4. äº4æ¯æªåéä½æ»å¤§å°è¶è¿æ¥æ¶æ¹å¤çèå´ï¼æ¥æ¶æ¹æ²¡æç©ºé´ï¼ï¼52å­èä»¥å å¨ä¸å¾ï¼å½åéæ¹ææ°æ®ãå¨é¨ãé½ä¸ä¸åéåºå»åï¼å¯ç¨çªå£çå¤§å°å°±ä¸º 0 äºï¼è¡¨æå¯ç¨çªå£èå°½ï¼å¨æ²¡æ¶å° ACK ç¡®è®¤ä¹åæ¯æ æ³ç»§ç»­åéæ°æ®äºã\n\n\n\nå¨ä¸å¾ï¼å½æ¶å°ä¹ååéçæ°æ® 32~36å­èç ACK ç¡®è®¤åºç­åï¼å¦æåéçªå£çå¤§å°æ²¡æååï¼åæ»å¨çªå£å¾å³è¾¹ç§»å¨ 5 ä¸ªå­èï¼å ä¸ºæ 5 ä¸ªå­èçæ°æ®è¢«åºç­ç¡®è®¤ï¼æ¥ä¸æ¥ 52~56å­èååæäºå¯ç¨çªå£ï¼é£ä¹åç»­ä¹å°±å¯ä»¥åé 52~56 è¿ 5 ä¸ªå­èçæ°æ®äºã\n\n\n\n\n# ç¨åºæ¯å¦ä½è¡¨ç¤ºåéæ¹çåä¸ªé¨åçå¢ï¼\n\nTCP æ»å¨çªå£æ¹æ¡ä½¿ç¨ä¸ä¸ªæéæ¥è·è¸ªå¨åä¸ªä¼ è¾ç±»å«ä¸­çæ¯ä¸ä¸ªç±»å«ä¸­çå­èãå¶ä¸­ä¸¤ä¸ªæéæ¯ç»å¯¹æéï¼æç¹å®çåºåå·ï¼ï¼ä¸ä¸ªæ¯ç¸å¯¹æéï¼éè¦ååç§»ï¼ã\n\n\n\n * SND.WNDï¼è¡¨ç¤ºåéçªå£çå¤§å°ï¼å¤§å°æ¯ç±æ¥æ¶æ¹æå®çï¼ï¼\n\n * SND.UNAï¼æ¯ä¸ä¸ªç»å¯¹æéï¼å®æåçæ¯å·²åéä½æªæ¶å°ç¡®è®¤çç¬¬ä¸ä¸ªå­èçåºåå·ï¼ä¹å°±æ¯ #2 çç¬¬ä¸ä¸ªå­èã\n\n * SND.NXTï¼ä¹æ¯ä¸ä¸ªç»å¯¹æéï¼å®æåæªåéä½å¯åéèå´çç¬¬ä¸ä¸ªå­èçåºåå·ï¼ä¹å°±æ¯ #3 çç¬¬ä¸ä¸ªå­èã\n\næå #4 çç¬¬ä¸ä¸ªå­èæ¯ä¸ªç¸å¯¹æéï¼å®éè¦ SND.UNA æéå ä¸ SND.WNDå¤§å°çåç§»éï¼å°±å¯ä»¥æå #4 çç¬¬ä¸ä¸ªå­èäºã\n\né£ä¹å¯ç¨çªå£å¤§å°çè®¡ç®å°±å¯ä»¥æ¯ï¼\n\nå¯ç¨çªå£å¤§å° = SND.WND -ï¼SND.NXT - SND.UNAï¼\n\n\n# æ¥æ¶æ¹çæ»å¨çªå£\n\næ¥ä¸æ¥æä»¬ççæ¥æ¶æ¹ççªå£ï¼æ¥æ¶çªå£ç¸å¯¹ç®åä¸äºï¼æ ¹æ®å¤ççæåµååæä¸ä¸ªé¨åï¼\n\n * äº1 + äº2 æ¯å·²æåæ¥æ¶å¹¶ç¡®è®¤çæ°æ®ï¼ç­å¾åºç¨è¿ç¨è¯»åï¼\n * äº3 æ¯æªæ¶å°æ°æ®ä½å¯ä»¥æ¥æ¶çæ°æ®\n * äº4 æªæ¶å°æ°æ®å¹¶ä¸å¯ä»¥æ¥æ¶çæ°æ®\n\n\n\næ¥æ¶çªå£ å¶ä¸­ä¸ä¸ªæ¥æ¶é¨åï¼ä½¿ç¨ä¸¤ä¸ªæéè¿è¡åå:\n\n * RCV.WNDï¼è¡¨ç¤ºæ¥æ¶çªå£çå¤§å°ï¼å®ä¼éåç»åéæ¹ã\n * RCV.NXTï¼æ¯ä¸ä¸ªæéï¼å®æåææä»åéæ¹åéæ¥çä¸ä¸ä¸ªæ°æ®å­èçåºåå·ï¼ä¹å°±æ¯ #3 çç¬¬ä¸ä¸ªå­èã\n * æå #4 çç¬¬ä¸ä¸ªå­èæ¯ä¸ªç¸å¯¹æéï¼å®éè¦RCV.NXTæéå ä¸ RCV.WNDå¤§å°çåç§»éï¼å°±å¯ä»¥æå #4 çç¬¬ä¸ä¸ªå­èäºã\n\n\n# æ¥æ¶çªå£ååéçªå£çå¤§å°æ¯ç¸ç­çåï¼\n\nå¹¶ä¸æ¯å®å¨ç¸ç­ï¼æ¥æ¶çªå£çå¤§å°æ¯çº¦ç­äºåéçªå£çå¤§å°çã\n\nå ä¸ºæ»å¨çªå£å¹¶ä¸æ¯ä¸æä¸åçãæ¯å¦ï¼å½æ¥æ¶æ¹çåºç¨è¿ç¨è¯»åæ°æ®çéåº¦éå¸¸å¿«çè¯ï¼è¿æ ·çè¯æ¥æ¶çªå£å¯ä»¥å¾å¿«çå°±ç©ºç¼ºåºæ¥ãé£ä¹æ°çæ¥æ¶çªå£å¤§å°ï¼æ¯éè¿ TCP æ¥æä¸­ç Windows å­æ®µæ¥åè¯åéæ¹ãé£ä¹è¿ä¸ªä¼ è¾è¿ç¨æ¯å­å¨æ¶å»¶çï¼æä»¥æ¥æ¶çªå£ååéçªå£æ¯çº¦ç­äºçå³ç³»ã\n\n\n# åèï¼\n\nTCPæ»å¨çªå£åéä¼ æºå¶",normalizedContent:"# æ»å¨çªå£è§£å³ä»ä¹é®é¢ï¼\n\næä»¬é½ç¥é tcp æ¯æ¯åéä¸ä¸ªæ°æ®ï¼é½è¦è¿è¡ä¸æ¬¡ç¡®è®¤åºç­ãå½ä¸ä¸ä¸ªæ°æ®åæ¶å°äºåºç­äºï¼ ååéä¸ä¸ä¸ªã\n\nè¿ä¸ªæ¨¡å¼å°±æç¹åæåä½ é¢å¯¹é¢èå¤©ï¼ä½ ä¸å¥æä¸å¥ãä½è¿ç§æ¹å¼çç¼ºç¹æ¯æçæ¯è¾ä½çã\n\nå¦æä½ è¯´å®ä¸å¥è¯ï¼æå¨å¤çå¶ä»äºæï¼æ²¡æåæ¶åå¤ä½ ï¼é£ä½ ä¸æ¯è¦å¹²ç­çæåå®å¶ä»äºæåï¼æåå¤ä½ ï¼ä½ æè½è¯´ä¸ä¸å¥è¯ï¼å¾æ¾ç¶è¿ä¸ç°å®ã\n\n\n\næä»¥ï¼è¿æ ·çä¼ è¾æ¹å¼æä¸ä¸ªç¼ºç¹ï¼æ°æ®åçå¾è¿æ¶é´è¶é¿ï¼éä¿¡çæçå°±è¶ä½ã\n\n\n# æ»å¨çªå£æ¯ä»ä¹ï¼\n\nä¸ºè§£å³è¿ä¸ªé®é¢ï¼tcp å¼å¥äºçªå£è¿ä¸ªæ¦å¿µãå³ä½¿å¨å¾è¿æ¶é´è¾é¿çæåµä¸ï¼å®ä¹ä¸ä¼éä½ç½ç»éä¿¡çæçã\n\né£ä¹æäºçªå£ï¼å°±å¯ä»¥æå®çªå£å¤§å°ï¼çªå£å¤§å°å°±æ¯ææ éç­å¾ç¡®è®¤åºç­ï¼èå¯ä»¥ç»§ç»­åéæ°æ®çæå¤§å¼ã\n\nçªå£çå®ç°å®éä¸æ¯æä½ç³»ç»å¼è¾çä¸ä¸ªç¼å­ç©ºé´ï¼åéæ¹ä¸»æºå¨ç­å°ç¡®è®¤åºç­è¿åä¹åï¼å¿é¡»å¨ç¼å²åºä¸­ä¿çå·²åéçæ°æ®ãå¦ææææ¶å°ç¡®è®¤åºç­ï¼æ­¤æ¶æ°æ®å°±å¯ä»¥ä»ç¼å­åºæ¸é¤ã\n\nåè®¾çªå£å¤§å°ä¸º 3ä¸ª tcp æ®µï¼é£ä¹åéæ¹å°±å¯ä»¥ãè¿ç»­åéã3ä¸ª tcp æ®µï¼å¹¶ä¸ä¸­éè¥æ ack ä¸¢å¤±ï¼å¯ä»¥éè¿ãä¸ä¸ä¸ªç¡®è®¤åºç­è¿è¡ç¡®è®¤ããå¦ä¸å¾ï¼\n\n\n\nå¾ä¸­ç ack 600 ç¡®è®¤åºç­æ¥æä¸¢å¤±ï¼ä¹æ²¡å³ç³»ï¼å ä¸ºå¯ä»¥éè¿ä¸ä¸ä¸ªç¡®è®¤åºç­è¿è¡ç¡®è®¤ï¼åªè¦åéæ¹æ¶å°äº ack 700 ç¡®è®¤åºç­ï¼å°±æå³ç 700 ä¹åçæææ°æ®ãæ¥æ¶æ¹ãé½æ¶å°äºãè¿ä¸ªæ¨¡å¼å°±å«ç´¯è®¡ç¡®è®¤æèç´¯è®¡åºç­ã\n\n\n# çªå£å¤§å°ç±åªä¸æ¹å³å®ï¼\n\ntcp å¤´éæä¸ä¸ªå­æ®µå« windowï¼ä¹å°±æ¯çªå£å¤§å°ã\n\nè¿ä¸ªå­æ®µæ¯æ¥æ¶ç«¯åè¯åéç«¯èªå·±è¿æå¤å°ç¼å²åºå¯ä»¥æ¥æ¶æ°æ®ãäºæ¯åéç«¯å°±å¯ä»¥æ ¹æ®è¿ä¸ªæ¥æ¶ç«¯çå¤çè½åæ¥åéæ°æ®ï¼èä¸ä¼å¯¼è´æ¥æ¶ç«¯å¤çä¸è¿æ¥ã\n\næä»¥ï¼éå¸¸çªå£çå¤§å°æ¯ç±æ¥æ¶æ¹ççªå£å¤§å°æ¥å³å®çã\n\nåéæ¹åéçæ°æ®å¤§å°ä¸è½è¶è¿æ¥æ¶æ¹ççªå£å¤§å°ï¼å¦åæ¥æ¶æ¹å°±æ æ³æ­£å¸¸æ¥æ¶å°æ°æ®ã\n\næä»¬åæ¥ççåéæ¹ççªå£ï¼ä¸å¾å°±æ¯åéæ¹ç¼å­çæ°æ®ï¼æ ¹æ®å¤ççæåµåæåä¸ªé¨åï¼å¶ä¸­æ·±èè²æ¹æ¡æ¯åéçªå£ï¼ç´«è²æ¹æ¡æ¯å¯ç¨çªå£ï¼\n\n\n\n 1. äº1æ¯å·²åéå¹¶æ¶å° ackç¡®è®¤çæ°æ®ï¼1~31 å­è\n 2. äº2æ¯å·²åéä½æªæ¶å° ackç¡®è®¤çæ°æ®ï¼32~45 å­è\n 3. äº3æ¯æªåéä½æ»å¤§å°å¨æ¥æ¶æ¹å¤çèå´åï¼æ¥æ¶æ¹è¿æç©ºé´ï¼ï¼46~51å­è\n 4. äº4æ¯æªåéä½æ»å¤§å°è¶è¿æ¥æ¶æ¹å¤çèå´ï¼æ¥æ¶æ¹æ²¡æç©ºé´ï¼ï¼52å­èä»¥å å¨ä¸å¾ï¼å½åéæ¹ææ°æ®ãå¨é¨ãé½ä¸ä¸åéåºå»åï¼å¯ç¨çªå£çå¤§å°å°±ä¸º 0 äºï¼è¡¨æå¯ç¨çªå£èå°½ï¼å¨æ²¡æ¶å° ack ç¡®è®¤ä¹åæ¯æ æ³ç»§ç»­åéæ°æ®äºã\n\n\n\nå¨ä¸å¾ï¼å½æ¶å°ä¹ååéçæ°æ® 32~36å­èç ack ç¡®è®¤åºç­åï¼å¦æåéçªå£çå¤§å°æ²¡æååï¼åæ»å¨çªå£å¾å³è¾¹ç§»å¨ 5 ä¸ªå­èï¼å ä¸ºæ 5 ä¸ªå­èçæ°æ®è¢«åºç­ç¡®è®¤ï¼æ¥ä¸æ¥ 52~56å­èååæäºå¯ç¨çªå£ï¼é£ä¹åç»­ä¹å°±å¯ä»¥åé 52~56 è¿ 5 ä¸ªå­èçæ°æ®äºã\n\n\n\n\n# ç¨åºæ¯å¦ä½è¡¨ç¤ºåéæ¹çåä¸ªé¨åçå¢ï¼\n\ntcp æ»å¨çªå£æ¹æ¡ä½¿ç¨ä¸ä¸ªæéæ¥è·è¸ªå¨åä¸ªä¼ è¾ç±»å«ä¸­çæ¯ä¸ä¸ªç±»å«ä¸­çå­èãå¶ä¸­ä¸¤ä¸ªæéæ¯ç»å¯¹æéï¼æç¹å®çåºåå·ï¼ï¼ä¸ä¸ªæ¯ç¸å¯¹æéï¼éè¦ååç§»ï¼ã\n\n\n\n * snd.wndï¼è¡¨ç¤ºåéçªå£çå¤§å°ï¼å¤§å°æ¯ç±æ¥æ¶æ¹æå®çï¼ï¼\n\n * snd.unaï¼æ¯ä¸ä¸ªç»å¯¹æéï¼å®æåçæ¯å·²åéä½æªæ¶å°ç¡®è®¤çç¬¬ä¸ä¸ªå­èçåºåå·ï¼ä¹å°±æ¯ #2 çç¬¬ä¸ä¸ªå­èã\n\n * snd.nxtï¼ä¹æ¯ä¸ä¸ªç»å¯¹æéï¼å®æåæªåéä½å¯åéèå´çç¬¬ä¸ä¸ªå­èçåºåå·ï¼ä¹å°±æ¯ #3 çç¬¬ä¸ä¸ªå­èã\n\næå #4 çç¬¬ä¸ä¸ªå­èæ¯ä¸ªç¸å¯¹æéï¼å®éè¦ snd.una æéå ä¸ snd.wndå¤§å°çåç§»éï¼å°±å¯ä»¥æå #4 çç¬¬ä¸ä¸ªå­èäºã\n\né£ä¹å¯ç¨çªå£å¤§å°çè®¡ç®å°±å¯ä»¥æ¯ï¼\n\nå¯ç¨çªå£å¤§å° = snd.wnd -ï¼snd.nxt - snd.unaï¼\n\n\n# æ¥æ¶æ¹çæ»å¨çªå£\n\næ¥ä¸æ¥æä»¬ççæ¥æ¶æ¹ççªå£ï¼æ¥æ¶çªå£ç¸å¯¹ç®åä¸äºï¼æ ¹æ®å¤ççæåµååæä¸ä¸ªé¨åï¼\n\n * äº1 + äº2 æ¯å·²æåæ¥æ¶å¹¶ç¡®è®¤çæ°æ®ï¼ç­å¾åºç¨è¿ç¨è¯»åï¼\n * äº3 æ¯æªæ¶å°æ°æ®ä½å¯ä»¥æ¥æ¶çæ°æ®\n * äº4 æªæ¶å°æ°æ®å¹¶ä¸å¯ä»¥æ¥æ¶çæ°æ®\n\n\n\næ¥æ¶çªå£ å¶ä¸­ä¸ä¸ªæ¥æ¶é¨åï¼ä½¿ç¨ä¸¤ä¸ªæéè¿è¡åå:\n\n * rcv.wndï¼è¡¨ç¤ºæ¥æ¶çªå£çå¤§å°ï¼å®ä¼éåç»åéæ¹ã\n * rcv.nxtï¼æ¯ä¸ä¸ªæéï¼å®æåææä»åéæ¹åéæ¥çä¸ä¸ä¸ªæ°æ®å­èçåºåå·ï¼ä¹å°±æ¯ #3 çç¬¬ä¸ä¸ªå­èã\n * æå #4 çç¬¬ä¸ä¸ªå­èæ¯ä¸ªç¸å¯¹æéï¼å®éè¦rcv.nxtæéå ä¸ rcv.wndå¤§å°çåç§»éï¼å°±å¯ä»¥æå #4 çç¬¬ä¸ä¸ªå­èäºã\n\n\n# æ¥æ¶çªå£ååéçªå£çå¤§å°æ¯ç¸ç­çåï¼\n\nå¹¶ä¸æ¯å®å¨ç¸ç­ï¼æ¥æ¶çªå£çå¤§å°æ¯çº¦ç­äºåéçªå£çå¤§å°çã\n\nå ä¸ºæ»å¨çªå£å¹¶ä¸æ¯ä¸æä¸åçãæ¯å¦ï¼å½æ¥æ¶æ¹çåºç¨è¿ç¨è¯»åæ°æ®çéåº¦éå¸¸å¿«çè¯ï¼è¿æ ·çè¯æ¥æ¶çªå£å¯ä»¥å¾å¿«çå°±ç©ºç¼ºåºæ¥ãé£ä¹æ°çæ¥æ¶çªå£å¤§å°ï¼æ¯éè¿ tcp æ¥æä¸­ç windows å­æ®µæ¥åè¯åéæ¹ãé£ä¹è¿ä¸ªä¼ è¾è¿ç¨æ¯å­å¨æ¶å»¶çï¼æä»¥æ¥æ¶çªå£ååéçªå£æ¯çº¦ç­äºçå³ç³»ã\n\n\n# åèï¼\n\ntcpæ»å¨çªå£åéä¼ æºå¶",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿° JWT çåçåæ ¡éªæºå¶",frontmatter:{title:"ç®è¿° JWT çåçåæ ¡éªæºå¶",date:"2022-09-21T22:38:22.000Z",permalink:"/pages/34d064/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/180.%E7%AE%80%E8%BF%B0%20JWT%20%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E6%A0%A1%E9%AA%8C%E6%9C%BA%E5%88%B6.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/180.ç®è¿° JWT çåçåæ ¡éªæºå¶.md",key:"v-74475c54",path:"/pages/34d064/",headers:[{level:2,title:"ä»ä¹æ¯ Tokenï¼ä»¤çï¼",slug:"ä»ä¹æ¯-token-ä»¤ç",normalizedTitle:"ä»ä¹æ¯ tokenï¼ä»¤çï¼",charIndex:2},{level:3,title:"Acesss Token",slug:"acesss-token",normalizedTitle:"acesss token",charIndex:20},{level:3,title:"Refresh Token",slug:"refresh-token",normalizedTitle:"refresh token",charIndex:648},{level:2,title:"Token å Session çåºå«",slug:"token-å-session-çåºå«",normalizedTitle:"token å session çåºå«",charIndex:1110},{level:2,title:"ä»ä¹æ¯ JWT",slug:"ä»ä¹æ¯-jwt",normalizedTitle:"ä»ä¹æ¯ jwt",charIndex:1773},{level:2,title:"çæ JWT",slug:"çæ-jwt",normalizedTitle:"çæ jwt",charIndex:2064},{level:2,title:"JWT çåç",slug:"jwt-çåç",normalizedTitle:"jwt çåç",charIndex:2127},{level:3,title:"JWT è®¤è¯æµç¨ï¼",slug:"jwt-è®¤è¯æµç¨",normalizedTitle:"jwt è®¤è¯æµç¨ï¼",charIndex:2141},{level:2,title:"JWT çä½¿ç¨æ¹å¼",slug:"jwt-çä½¿ç¨æ¹å¼",normalizedTitle:"jwt çä½¿ç¨æ¹å¼",charIndex:2570},{level:3,title:"æ¹å¼ä¸",slug:"æ¹å¼ä¸",normalizedTitle:"æ¹å¼ä¸",charIndex:2638},{level:3,title:"æ¹å¼äº",slug:"æ¹å¼äº",normalizedTitle:"æ¹å¼äº",charIndex:3096},{level:3,title:"æ¹å¼ä¸",slug:"æ¹å¼ä¸",normalizedTitle:"æ¹å¼ä¸",charIndex:3139},{level:2,title:"Token å JWT çåºå«",slug:"token-å-jwt-çåºå«",normalizedTitle:"token å jwt çåºå«",charIndex:3202},{level:3,title:"ç¸åï¼",slug:"ç¸å",normalizedTitle:"ç¸åï¼",charIndex:3222},{level:3,title:"åºå«ï¼",slug:"åºå«",normalizedTitle:"åºå«ï¼",charIndex:3303},{level:2,title:"å¸¸è§çååç«¯é´ææ¹å¼",slug:"å¸¸è§çååç«¯é´ææ¹å¼",normalizedTitle:"å¸¸è§çååç«¯é´ææ¹å¼",charIndex:3483}],headersStr:"ä»ä¹æ¯ Tokenï¼ä»¤çï¼ Acesss Token Refresh Token Token å Session çåºå« ä»ä¹æ¯ JWT çæ JWT JWT çåç JWT è®¤è¯æµç¨ï¼ JWT çä½¿ç¨æ¹å¼ æ¹å¼ä¸ æ¹å¼äº æ¹å¼ä¸ Token å JWT çåºå« ç¸åï¼ åºå«ï¼ å¸¸è§çååç«¯é´ææ¹å¼",content:"# ä»ä¹æ¯ Tokenï¼ä»¤çï¼\n\n\n# Acesss Token\n\n * è®¿é®èµæºæ¥å£ï¼APIï¼æ¶æéè¦çèµæºå­è¯\n * ç®å token çç»æï¼ uid(ç¨æ·å¯ä¸çèº«ä»½æ è¯)ãtime(å½åæ¶é´çæ¶é´æ³)ãsignï¼ç­¾åï¼token çåå ä½ä»¥åå¸ç®æ³åç¼©æçä¸å®é¿åº¦çåå­è¿å¶å­ç¬¦ä¸²ï¼\n * ç¹ç¹ï¼\n   * æå¡ç«¯æ ç¶æåãå¯æ©å±æ§å¥½\n   * æ¯æç§»å¨ç«¯è®¾å¤\n   * å®å¨\n   * æ¯æè·¨ç¨åºè°ç¨\n * token çèº«ä»½éªè¯æµç¨ï¼\n\n\n\n 1. å®¢æ·ç«¯ä½¿ç¨ç¨æ·åè·å¯ç è¯·æ±ç»å½\n 2. æå¡ç«¯æ¶å°è¯·æ±ï¼å»éªè¯ç¨æ·åä¸å¯ç \n 3. éªè¯æååï¼æå¡ç«¯ä¼ç­¾åä¸ä¸ª token å¹¶æè¿ä¸ª token åéç»å®¢æ·ç«¯\n 4. å®¢æ·ç«¯æ¶å° token ä»¥åï¼ä¼æå®å­å¨èµ·æ¥ï¼æ¯å¦æ¾å¨ cookie éæè localStorage é\n 5. å®¢æ·ç«¯æ¯æ¬¡åæå¡ç«¯è¯·æ±èµæºçæ¶åéè¦å¸¦çæå¡ç«¯ç­¾åç token\n 6. æå¡ç«¯æ¶å°è¯·æ±ï¼ç¶åå»éªè¯å®¢æ·ç«¯è¯·æ±éé¢å¸¦çç token ï¼å¦æéªè¯æåï¼å°±åå®¢æ·ç«¯è¿åè¯·æ±çæ°æ®\n\n * æ¯ä¸æ¬¡è¯·æ±é½éè¦æºå¸¦ tokenï¼éè¦æ token æ¾å° HTTP ç Header é\n * åºäº token çç¨æ·è®¤è¯æ¯ä¸ç§æå¡ç«¯æ ç¶æçè®¤è¯æ¹å¼ï¼æå¡ç«¯ä¸ç¨å­æ¾ token æ°æ®ãç¨è§£æ token çè®¡ç®æ¶é´æ¢å session çå­å¨ç©ºé´ï¼ä»èåè½»æå¡å¨çååï¼åå°é¢ç¹çæ¥è¯¢æ°æ®åº\n * token å®å¨ç±åºç¨ç®¡çï¼æä»¥å®å¯ä»¥é¿å¼åæºç­ç¥\n\n\n# Refresh Token\n\n * å¦å¤ä¸ç§ tokenâârefresh token\n * refresh token æ¯ä¸ç¨äºå·æ° access token ç tokenãå¦ææ²¡æ refresh tokenï¼ä¹å¯ä»¥å·æ° access tokenï¼ä½æ¯æ¬¡å·æ°é½è¦ç¨æ·è¾å¥ç»å½ç¨æ·åä¸å¯ç ï¼ä¼å¾éº»ç¦ãæäº refresh tokenï¼å¯ä»¥åå°è¿ä¸ªéº»ç¦ï¼å®¢æ·ç«¯ç´æ¥ç¨ refresh token å»æ´æ° access tokenï¼æ éç¨æ·è¿è¡é¢å¤çæä½ã\n\n\n\n * Access Token çææææ¯è¾ç­ï¼å½ Acesss Token ç±äºè¿æèå¤±ææ¶ï¼ä½¿ç¨ Refresh Token å°±å¯ä»¥è·åå°æ°ç Tokenï¼å¦æ Refresh Token ä¹å¤±æäºï¼ç¨æ·å°±åªè½éæ°ç»å½äºã\n * Refresh Token åè¿ææ¶é´æ¯å­å¨å¨æå¡å¨çæ°æ®åºä¸­ï¼åªæå¨ç³è¯·æ°ç Acesss Token æ¶æä¼éªè¯ï¼ä¸ä¼å¯¹ä¸å¡æ¥å£ååºæ¶é´é æå½±åï¼ä¹ä¸éè¦å Session ä¸æ ·ä¸ç´ä¿æå¨åå­ä¸­ä»¥åºå¯¹å¤§éçè¯·æ±ã\n\n\n# Token å Session çåºå«\n\n * Session æ¯ä¸ç§è®°å½æå¡å¨åå®¢æ·ç«¯ä¼è¯ç¶æçæºå¶ï¼ä½¿æå¡ç«¯æç¶æåï¼å¯ä»¥è®°å½ä¼è¯ä¿¡æ¯ãè Token æ¯ä»¤çï¼è®¿é®èµæºæ¥å£ï¼APIï¼æ¶æéè¦çèµæºå­è¯ãToken ä½¿æå¡ç«¯æ ç¶æåï¼ä¸ä¼å­å¨ä¼è¯ä¿¡æ¯ã\n\n * Session å Token å¹¶ä¸çç¾ï¼ä½ä¸ºèº«ä»½è®¤è¯ Token å®å¨æ§æ¯ Session å¥½ï¼å ä¸ºæ¯ä¸ä¸ªè¯·æ±é½æç­¾åè¿è½é²æ­¢çå¬ä»¥åéæ¾æ»å»ï¼è Session å°±å¿é¡»ä¾èµé¾è·¯å±æ¥ä¿ééè®¯å®å¨äºãå¦æä½ éè¦å®ç°æç¶æçä¼è¯ï¼ä»ç¶å¯ä»¥å¢å  Session æ¥å¨æå¡å¨ç«¯ä¿å­ä¸äºç¶æã\n\n * æè° Session è®¤è¯åªæ¯ç®åçæ User ä¿¡æ¯å­å¨å° Session éï¼å ä¸º SessionID çä¸å¯é¢æµæ§ï¼æä¸è®¤ä¸ºæ¯å®å¨çãè Token ï¼å¦ææçæ¯ OAuth Token æç±»ä¼¼çæºå¶çè¯ï¼æä¾çæ¯ è®¤è¯ å ææ ï¼è®¤è¯æ¯éå¯¹ç¨æ·ï¼æææ¯éå¯¹ App ãå¶ç®çæ¯è®©æ App ææå©è®¿é®æç¨æ·çä¿¡æ¯ãè¿éç Token æ¯å¯ä¸çãä¸å¯ä»¥è½¬ç§»å°å¶å® Appä¸ï¼ä¹ä¸å¯ä»¥è½¬å°å¶å®ç¨æ·ä¸ãSession åªæä¾ä¸ç§ç®åçè®¤è¯ï¼å³åªè¦ææ­¤ SessionID ï¼å³è®¤ä¸ºææ­¤ User çå¨é¨æå©ãæ¯éè¦ä¸¥æ ¼ä¿å¯çï¼è¿ä¸ªæ°æ®åºè¯¥åªä¿å­å¨ç«æ¹ï¼ä¸åºè¯¥å±äº«ç»å¶å®ç½ç«æèç¬¬ä¸æ¹ Appãæä»¥ç®åæ¥è¯´ï¼å¦æä½ çç¨æ·æ°æ®å¯è½éè¦åç¬¬ä¸æ¹å±äº«ï¼æèåè®¸ç¬¬ä¸æ¹è°ç¨ API æ¥å£ï¼ç¨ Token ãå¦ææ°¸è¿åªæ¯èªå·±çç½ç«ï¼èªå·±ç Appï¼ç¨ä»ä¹å°±æ æè°äºã\n\n\n# ä»ä¹æ¯ JWT\n\n * JSON Web Tokenï¼ç®ç§° JWTï¼æ¯ç®åææµè¡çè·¨åè®¤è¯è§£å³æ¹æ¡ã\n * æ¯ä¸ç§è®¤è¯æææºå¶ã\n * JWT æ¯ä¸ºäºå¨ç½ç»åºç¨ç¯å¢é´ä¼ éå£°æèæ§è¡çä¸ç§åºäº JSON çå¼æ¾æ åï¼RFC 7519ï¼ãJWT çå£°æä¸è¬è¢«ç¨æ¥å¨èº«ä»½æä¾èåæå¡æä¾èé´ä¼ éè¢«è®¤è¯çç¨æ·èº«ä»½ä¿¡æ¯ï¼ä»¥ä¾¿äºä»èµæºæå¡å¨è·åèµæºãæ¯å¦ç¨å¨ç¨æ·ç»å½ä¸ã å¯ä»¥ä½¿ç¨ HMAC ç®æ³æèæ¯ RSA çå¬/ç§ç§é¥å¯¹ JWT è¿è¡ç­¾åãå ä¸ºæ°å­ç­¾åçå­å¨ï¼è¿äºä¼ éçä¿¡æ¯æ¯å¯ä¿¡çã é®ä¸å³°èå¸ç JSON Web Token å¥é¨æç¨ è®²çéå¸¸éä¿ææï¼è¿éå°±ä¸åç­é¨å¼æ§äº\n\n\n# çæ JWT\n\n * https://jwt.io/\n * https://www.jsonwebtoken.io/\n\n\n# JWT çåç\n\n\n\n\n# JWT è®¤è¯æµç¨ï¼\n\n * ç¨æ·è¾å¥ç¨æ·å/å¯ç ç»å½ï¼æå¡ç«¯è®¤è¯æååï¼ä¼è¿åç»å®¢æ·ç«¯ä¸ä¸ª JWT\n * å®¢æ·ç«¯å° token ä¿å­å°æ¬å°ï¼éå¸¸ä½¿ç¨ localstorageï¼ä¹å¯ä»¥ä½¿ç¨ cookieï¼\n * å½ç¨æ·å¸æè®¿é®ä¸ä¸ªåä¿æ¤çè·¯ç±æèèµæºçæ¶åï¼éè¦è¯·æ±å¤´ç Authorization å­æ®µä¸­ä½¿ç¨Bearer æ¨¡å¼æ·»å  JWTï¼å¶åå®¹çèµ·æ¥æ¯ä¸é¢è¿æ ·\n\nAuthorization: Bearer <token>\n\n\n1\n\n * æå¡ç«¯çä¿æ¤è·¯ç±å°ä¼æ£æ¥è¯·æ±å¤´ Authorization ä¸­ç JWT ä¿¡æ¯ï¼å¦æåæ³ï¼ååè®¸ç¨æ·çè¡ä¸º\n * å ä¸º JWT æ¯èªåå«çï¼åé¨åå«äºä¸äºä¼è¯ä¿¡æ¯ï¼ï¼å æ­¤åå°äºéè¦æ¥è¯¢æ°æ®åºçéè¦\n * å ä¸º JWT å¹¶ä¸ä½¿ç¨ Cookie çï¼æä»¥ä½ å¯ä»¥ä½¿ç¨ä»»ä½ååæä¾ä½ ç API æå¡èä¸éè¦æå¿è·¨åèµæºå±äº«é®é¢ï¼CORSï¼\n * å ä¸ºç¨æ·çç¶æä¸åå­å¨å¨æå¡ç«¯çåå­ä¸­ï¼æä»¥è¿æ¯ä¸ç§æ ç¶æçè®¤è¯æºå¶\n\n\n# JWT çä½¿ç¨æ¹å¼\n\nå®¢æ·ç«¯æ¶å°æå¡å¨è¿åç JWTï¼å¯ä»¥å¨å­å¨ Cookie éé¢ï¼ä¹å¯ä»¥å¨å­å¨ localStorageã\n\n\n# æ¹å¼ä¸\n\n * å½ç¨æ·å¸æè®¿é®ä¸ä¸ªåä¿æ¤çè·¯ç±æèèµæºçæ¶åï¼å¯ä»¥æå®æ¾å¨ Cookie éé¢èªå¨åéï¼ä½æ¯è¿æ ·ä¸è½è·¨åï¼æä»¥æ´å¥½çåæ³æ¯æ¾å¨ HTTP è¯·æ±å¤´ä¿¡æ¯ç Authorization å­æ®µéï¼ä½¿ç¨ Bearer æ¨¡å¼æ·»å  JWTã\n\nGET /calendar/v1/events\nHost: api.example.com\nAuthorization: Bearer <token>\n\n\n1\n2\n3\n\n * ç¨æ·çç¶æä¸ä¼å­å¨å¨æå¡ç«¯çåå­ä¸­ï¼è¿æ¯ä¸ç§ æ ç¶æçè®¤è¯æºå¶\n * æå¡ç«¯çä¿æ¤è·¯ç±å°ä¼æ£æ¥è¯·æ±å¤´ Authorization ä¸­ç JWT ä¿¡æ¯ï¼å¦æåæ³ï¼ååè®¸ç¨æ·çè¡ä¸ºã\n * ç±äº JWT æ¯èªåå«çï¼å æ­¤åå°äºéè¦æ¥è¯¢æ°æ®åºçéè¦\n * JWT çè¿äºç¹æ§ä½¿å¾æä»¬å¯ä»¥å®å¨ä¾èµå¶æ ç¶æçç¹æ§æä¾æ°æ® API æå¡ï¼çè³æ¯åå»ºä¸ä¸ªä¸è½½æµæå¡ã\n * å ä¸º JWT å¹¶ä¸ä½¿ç¨ Cookie ï¼æä»¥ä½ å¯ä»¥ä½¿ç¨ä»»ä½ååæä¾ä½ ç API æå¡èä¸éè¦æå¿è·¨åèµæºå±äº«é®é¢ï¼CORSï¼\n\n\n# æ¹å¼äº\n\n * è·¨åçæ¶åï¼å¯ä»¥æ JWT æ¾å¨ POST è¯·æ±çæ°æ®ä½éã\n\n\n# æ¹å¼ä¸\n\néè¿ URL ä¼ è¾\n\nhttp://www.example.com/user?token=xxx\n\n\n1\n\n\n\n# Token å JWT çåºå«\n\n\n# ç¸åï¼\n\n * é½æ¯è®¿é®èµæºçä»¤ç\n * é½å¯ä»¥è®°å½ç¨æ·çä¿¡æ¯\n * é½æ¯ä½¿æå¡ç«¯æ ç¶æå\n * é½æ¯åªæéªè¯æååï¼å®¢æ·ç«¯æè½è®¿é®æå¡ç«¯ä¸åä¿æ¤çèµæº\n\n\n# åºå«ï¼\n\n * Tokenï¼æå¡ç«¯éªè¯å®¢æ·ç«¯åéè¿æ¥ç Token æ¶ï¼è¿éè¦æ¥è¯¢æ°æ®åºè·åç¨æ·ä¿¡æ¯ï¼ç¶åéªè¯ Token æ¯å¦ææã\n * JWTï¼å° Token å Payload å å¯åå­å¨äºå®¢æ·ç«¯ï¼æå¡ç«¯åªéè¦ä½¿ç¨å¯é¥è§£å¯è¿è¡æ ¡éªï¼æ ¡éªä¹æ¯ JWT èªå·±å®ç°çï¼å³å¯ï¼ä¸éè¦æ¥è¯¢æèåå°æ¥è¯¢æ°æ®åºï¼å ä¸º JWT èªåå«äºç¨æ·ä¿¡æ¯åå å¯çæ°æ®ã\n\n\n# å¸¸è§çååç«¯é´ææ¹å¼\n\nSession-Cookie Token éªè¯ï¼åæ¬ JWTï¼SSOï¼ OAuth2.0ï¼å¼æ¾ææï¼\n\nåèï¼ è¿åä¸æ¸ CookieãSessionãTokenãJWTï¼",normalizedContent:"# ä»ä¹æ¯ tokenï¼ä»¤çï¼\n\n\n# acesss token\n\n * è®¿é®èµæºæ¥å£ï¼apiï¼æ¶æéè¦çèµæºå­è¯\n * ç®å token çç»æï¼ uid(ç¨æ·å¯ä¸çèº«ä»½æ è¯)ãtime(å½åæ¶é´çæ¶é´æ³)ãsignï¼ç­¾åï¼token çåå ä½ä»¥åå¸ç®æ³åç¼©æçä¸å®é¿åº¦çåå­è¿å¶å­ç¬¦ä¸²ï¼\n * ç¹ç¹ï¼\n   * æå¡ç«¯æ ç¶æåãå¯æ©å±æ§å¥½\n   * æ¯æç§»å¨ç«¯è®¾å¤\n   * å®å¨\n   * æ¯æè·¨ç¨åºè°ç¨\n * token çèº«ä»½éªè¯æµç¨ï¼\n\n\n\n 1. å®¢æ·ç«¯ä½¿ç¨ç¨æ·åè·å¯ç è¯·æ±ç»å½\n 2. æå¡ç«¯æ¶å°è¯·æ±ï¼å»éªè¯ç¨æ·åä¸å¯ç \n 3. éªè¯æååï¼æå¡ç«¯ä¼ç­¾åä¸ä¸ª token å¹¶æè¿ä¸ª token åéç»å®¢æ·ç«¯\n 4. å®¢æ·ç«¯æ¶å° token ä»¥åï¼ä¼æå®å­å¨èµ·æ¥ï¼æ¯å¦æ¾å¨ cookie éæè localstorage é\n 5. å®¢æ·ç«¯æ¯æ¬¡åæå¡ç«¯è¯·æ±èµæºçæ¶åéè¦å¸¦çæå¡ç«¯ç­¾åç token\n 6. æå¡ç«¯æ¶å°è¯·æ±ï¼ç¶åå»éªè¯å®¢æ·ç«¯è¯·æ±éé¢å¸¦çç token ï¼å¦æéªè¯æåï¼å°±åå®¢æ·ç«¯è¿åè¯·æ±çæ°æ®\n\n * æ¯ä¸æ¬¡è¯·æ±é½éè¦æºå¸¦ tokenï¼éè¦æ token æ¾å° http ç header é\n * åºäº token çç¨æ·è®¤è¯æ¯ä¸ç§æå¡ç«¯æ ç¶æçè®¤è¯æ¹å¼ï¼æå¡ç«¯ä¸ç¨å­æ¾ token æ°æ®ãç¨è§£æ token çè®¡ç®æ¶é´æ¢å session çå­å¨ç©ºé´ï¼ä»èåè½»æå¡å¨çååï¼åå°é¢ç¹çæ¥è¯¢æ°æ®åº\n * token å®å¨ç±åºç¨ç®¡çï¼æä»¥å®å¯ä»¥é¿å¼åæºç­ç¥\n\n\n# refresh token\n\n * å¦å¤ä¸ç§ tokenâârefresh token\n * refresh token æ¯ä¸ç¨äºå·æ° access token ç tokenãå¦ææ²¡æ refresh tokenï¼ä¹å¯ä»¥å·æ° access tokenï¼ä½æ¯æ¬¡å·æ°é½è¦ç¨æ·è¾å¥ç»å½ç¨æ·åä¸å¯ç ï¼ä¼å¾éº»ç¦ãæäº refresh tokenï¼å¯ä»¥åå°è¿ä¸ªéº»ç¦ï¼å®¢æ·ç«¯ç´æ¥ç¨ refresh token å»æ´æ° access tokenï¼æ éç¨æ·è¿è¡é¢å¤çæä½ã\n\n\n\n * access token çææææ¯è¾ç­ï¼å½ acesss token ç±äºè¿æèå¤±ææ¶ï¼ä½¿ç¨ refresh token å°±å¯ä»¥è·åå°æ°ç tokenï¼å¦æ refresh token ä¹å¤±æäºï¼ç¨æ·å°±åªè½éæ°ç»å½äºã\n * refresh token åè¿ææ¶é´æ¯å­å¨å¨æå¡å¨çæ°æ®åºä¸­ï¼åªæå¨ç³è¯·æ°ç acesss token æ¶æä¼éªè¯ï¼ä¸ä¼å¯¹ä¸å¡æ¥å£ååºæ¶é´é æå½±åï¼ä¹ä¸éè¦å session ä¸æ ·ä¸ç´ä¿æå¨åå­ä¸­ä»¥åºå¯¹å¤§éçè¯·æ±ã\n\n\n# token å session çåºå«\n\n * session æ¯ä¸ç§è®°å½æå¡å¨åå®¢æ·ç«¯ä¼è¯ç¶æçæºå¶ï¼ä½¿æå¡ç«¯æç¶æåï¼å¯ä»¥è®°å½ä¼è¯ä¿¡æ¯ãè token æ¯ä»¤çï¼è®¿é®èµæºæ¥å£ï¼apiï¼æ¶æéè¦çèµæºå­è¯ãtoken ä½¿æå¡ç«¯æ ç¶æåï¼ä¸ä¼å­å¨ä¼è¯ä¿¡æ¯ã\n\n * session å token å¹¶ä¸çç¾ï¼ä½ä¸ºèº«ä»½è®¤è¯ token å®å¨æ§æ¯ session å¥½ï¼å ä¸ºæ¯ä¸ä¸ªè¯·æ±é½æç­¾åè¿è½é²æ­¢çå¬ä»¥åéæ¾æ»å»ï¼è session å°±å¿é¡»ä¾èµé¾è·¯å±æ¥ä¿ééè®¯å®å¨äºãå¦æä½ éè¦å®ç°æç¶æçä¼è¯ï¼ä»ç¶å¯ä»¥å¢å  session æ¥å¨æå¡å¨ç«¯ä¿å­ä¸äºç¶æã\n\n * æè° session è®¤è¯åªæ¯ç®åçæ user ä¿¡æ¯å­å¨å° session éï¼å ä¸º sessionid çä¸å¯é¢æµæ§ï¼æä¸è®¤ä¸ºæ¯å®å¨çãè token ï¼å¦ææçæ¯ oauth token æç±»ä¼¼çæºå¶çè¯ï¼æä¾çæ¯ è®¤è¯ å ææ ï¼è®¤è¯æ¯éå¯¹ç¨æ·ï¼æææ¯éå¯¹ app ãå¶ç®çæ¯è®©æ app ææå©è®¿é®æç¨æ·çä¿¡æ¯ãè¿éç token æ¯å¯ä¸çãä¸å¯ä»¥è½¬ç§»å°å¶å® appä¸ï¼ä¹ä¸å¯ä»¥è½¬å°å¶å®ç¨æ·ä¸ãsession åªæä¾ä¸ç§ç®åçè®¤è¯ï¼å³åªè¦ææ­¤ sessionid ï¼å³è®¤ä¸ºææ­¤ user çå¨é¨æå©ãæ¯éè¦ä¸¥æ ¼ä¿å¯çï¼è¿ä¸ªæ°æ®åºè¯¥åªä¿å­å¨ç«æ¹ï¼ä¸åºè¯¥å±äº«ç»å¶å®ç½ç«æèç¬¬ä¸æ¹ appãæä»¥ç®åæ¥è¯´ï¼å¦æä½ çç¨æ·æ°æ®å¯è½éè¦åç¬¬ä¸æ¹å±äº«ï¼æèåè®¸ç¬¬ä¸æ¹è°ç¨ api æ¥å£ï¼ç¨ token ãå¦ææ°¸è¿åªæ¯èªå·±çç½ç«ï¼èªå·±ç appï¼ç¨ä»ä¹å°±æ æè°äºã\n\n\n# ä»ä¹æ¯ jwt\n\n * json web tokenï¼ç®ç§° jwtï¼æ¯ç®åææµè¡çè·¨åè®¤è¯è§£å³æ¹æ¡ã\n * æ¯ä¸ç§è®¤è¯æææºå¶ã\n * jwt æ¯ä¸ºäºå¨ç½ç»åºç¨ç¯å¢é´ä¼ éå£°æèæ§è¡çä¸ç§åºäº json çå¼æ¾æ åï¼rfc 7519ï¼ãjwt çå£°æä¸è¬è¢«ç¨æ¥å¨èº«ä»½æä¾èåæå¡æä¾èé´ä¼ éè¢«è®¤è¯çç¨æ·èº«ä»½ä¿¡æ¯ï¼ä»¥ä¾¿äºä»èµæºæå¡å¨è·åèµæºãæ¯å¦ç¨å¨ç¨æ·ç»å½ä¸ã å¯ä»¥ä½¿ç¨ hmac ç®æ³æèæ¯ rsa çå¬/ç§ç§é¥å¯¹ jwt è¿è¡ç­¾åãå ä¸ºæ°å­ç­¾åçå­å¨ï¼è¿äºä¼ éçä¿¡æ¯æ¯å¯ä¿¡çã é®ä¸å³°èå¸ç json web token å¥é¨æç¨ è®²çéå¸¸éä¿ææï¼è¿éå°±ä¸åç­é¨å¼æ§äº\n\n\n# çæ jwt\n\n * https://jwt.io/\n * https://www.jsonwebtoken.io/\n\n\n# jwt çåç\n\n\n\n\n# jwt è®¤è¯æµç¨ï¼\n\n * ç¨æ·è¾å¥ç¨æ·å/å¯ç ç»å½ï¼æå¡ç«¯è®¤è¯æååï¼ä¼è¿åç»å®¢æ·ç«¯ä¸ä¸ª jwt\n * å®¢æ·ç«¯å° token ä¿å­å°æ¬å°ï¼éå¸¸ä½¿ç¨ localstorageï¼ä¹å¯ä»¥ä½¿ç¨ cookieï¼\n * å½ç¨æ·å¸æè®¿é®ä¸ä¸ªåä¿æ¤çè·¯ç±æèèµæºçæ¶åï¼éè¦è¯·æ±å¤´ç authorization å­æ®µä¸­ä½¿ç¨bearer æ¨¡å¼æ·»å  jwtï¼å¶åå®¹çèµ·æ¥æ¯ä¸é¢è¿æ ·\n\nauthorization: bearer <token>\n\n\n1\n\n * æå¡ç«¯çä¿æ¤è·¯ç±å°ä¼æ£æ¥è¯·æ±å¤´ authorization ä¸­ç jwt ä¿¡æ¯ï¼å¦æåæ³ï¼ååè®¸ç¨æ·çè¡ä¸º\n * å ä¸º jwt æ¯èªåå«çï¼åé¨åå«äºä¸äºä¼è¯ä¿¡æ¯ï¼ï¼å æ­¤åå°äºéè¦æ¥è¯¢æ°æ®åºçéè¦\n * å ä¸º jwt å¹¶ä¸ä½¿ç¨ cookie çï¼æä»¥ä½ å¯ä»¥ä½¿ç¨ä»»ä½ååæä¾ä½ ç api æå¡èä¸éè¦æå¿è·¨åèµæºå±äº«é®é¢ï¼corsï¼\n * å ä¸ºç¨æ·çç¶æä¸åå­å¨å¨æå¡ç«¯çåå­ä¸­ï¼æä»¥è¿æ¯ä¸ç§æ ç¶æçè®¤è¯æºå¶\n\n\n# jwt çä½¿ç¨æ¹å¼\n\nå®¢æ·ç«¯æ¶å°æå¡å¨è¿åç jwtï¼å¯ä»¥å¨å­å¨ cookie éé¢ï¼ä¹å¯ä»¥å¨å­å¨ localstorageã\n\n\n# æ¹å¼ä¸\n\n * å½ç¨æ·å¸æè®¿é®ä¸ä¸ªåä¿æ¤çè·¯ç±æèèµæºçæ¶åï¼å¯ä»¥æå®æ¾å¨ cookie éé¢èªå¨åéï¼ä½æ¯è¿æ ·ä¸è½è·¨åï¼æä»¥æ´å¥½çåæ³æ¯æ¾å¨ http è¯·æ±å¤´ä¿¡æ¯ç authorization å­æ®µéï¼ä½¿ç¨ bearer æ¨¡å¼æ·»å  jwtã\n\nget /calendar/v1/events\nhost: api.example.com\nauthorization: bearer <token>\n\n\n1\n2\n3\n\n * ç¨æ·çç¶æä¸ä¼å­å¨å¨æå¡ç«¯çåå­ä¸­ï¼è¿æ¯ä¸ç§ æ ç¶æçè®¤è¯æºå¶\n * æå¡ç«¯çä¿æ¤è·¯ç±å°ä¼æ£æ¥è¯·æ±å¤´ authorization ä¸­ç jwt ä¿¡æ¯ï¼å¦æåæ³ï¼ååè®¸ç¨æ·çè¡ä¸ºã\n * ç±äº jwt æ¯èªåå«çï¼å æ­¤åå°äºéè¦æ¥è¯¢æ°æ®åºçéè¦\n * jwt çè¿äºç¹æ§ä½¿å¾æä»¬å¯ä»¥å®å¨ä¾èµå¶æ ç¶æçç¹æ§æä¾æ°æ® api æå¡ï¼çè³æ¯åå»ºä¸ä¸ªä¸è½½æµæå¡ã\n * å ä¸º jwt å¹¶ä¸ä½¿ç¨ cookie ï¼æä»¥ä½ å¯ä»¥ä½¿ç¨ä»»ä½ååæä¾ä½ ç api æå¡èä¸éè¦æå¿è·¨åèµæºå±äº«é®é¢ï¼corsï¼\n\n\n# æ¹å¼äº\n\n * è·¨åçæ¶åï¼å¯ä»¥æ jwt æ¾å¨ post è¯·æ±çæ°æ®ä½éã\n\n\n# æ¹å¼ä¸\n\néè¿ url ä¼ è¾\n\nhttp://www.example.com/user?token=xxx\n\n\n1\n\n\n\n# token å jwt çåºå«\n\n\n# ç¸åï¼\n\n * é½æ¯è®¿é®èµæºçä»¤ç\n * é½å¯ä»¥è®°å½ç¨æ·çä¿¡æ¯\n * é½æ¯ä½¿æå¡ç«¯æ ç¶æå\n * é½æ¯åªæéªè¯æååï¼å®¢æ·ç«¯æè½è®¿é®æå¡ç«¯ä¸åä¿æ¤çèµæº\n\n\n# åºå«ï¼\n\n * tokenï¼æå¡ç«¯éªè¯å®¢æ·ç«¯åéè¿æ¥ç token æ¶ï¼è¿éè¦æ¥è¯¢æ°æ®åºè·åç¨æ·ä¿¡æ¯ï¼ç¶åéªè¯ token æ¯å¦ææã\n * jwtï¼å° token å payload å å¯åå­å¨äºå®¢æ·ç«¯ï¼æå¡ç«¯åªéè¦ä½¿ç¨å¯é¥è§£å¯è¿è¡æ ¡éªï¼æ ¡éªä¹æ¯ jwt èªå·±å®ç°çï¼å³å¯ï¼ä¸éè¦æ¥è¯¢æèåå°æ¥è¯¢æ°æ®åºï¼å ä¸º jwt èªåå«äºç¨æ·ä¿¡æ¯åå å¯çæ°æ®ã\n\n\n# å¸¸è§çååç«¯é´ææ¹å¼\n\nsession-cookie token éªè¯ï¼åæ¬ jwtï¼ssoï¼ oauth2.0ï¼å¼æ¾ææï¼\n\nåèï¼ è¿åä¸æ¸ cookieãsessionãtokenãjwtï¼",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿° iPv4 å iPv6 çåºå«",frontmatter:{title:"ç®è¿° iPv4 å iPv6 çåºå«",date:"2022-09-21T22:38:54.000Z",permalink:"/pages/6a2e50/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/200.%E7%AE%80%E8%BF%B0%20iPv4%20%E5%92%8C%20iPv6%20%E7%9A%84%E5%8C%BA%E5%88%AB.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/200.ç®è¿° iPv4 å iPv6 çåºå«.md",key:"v-730f9a6a",path:"/pages/6a2e50/",headers:[{level:2,title:"ä»ä¹æ¯IPv4åIPv6ï¼",slug:"ä»ä¹æ¯ipv4åipv6",normalizedTitle:"ä»ä¹æ¯ipv4åipv6ï¼",charIndex:249},{level:2,title:"IPv4å°å",slug:"ipv4å°å",normalizedTitle:"ipv4å°å",charIndex:414},{level:2,title:"IPv6å°å",slug:"ipv6å°å",normalizedTitle:"ipv6å°å",charIndex:844},{level:2,title:"IPv4åIPv6ä¹é´çåºå«",slug:"ipv4åipv6ä¹é´çåºå«",normalizedTitle:"ipv4åipv6ä¹é´çåºå«",charIndex:264},{level:2,title:"IPv4æIPv6ï¼ä½¿ç¨åªä¸ªï¼",slug:"ipv4æipv6-ä½¿ç¨åªä¸ª",normalizedTitle:"ipv4æipv6ï¼ä½¿ç¨åªä¸ªï¼",charIndex:280},{level:2,title:"é£ä¹ä¸ºä»ä¹æä»¬ä»å¨ä½¿ç¨IPv4ï¼",slug:"é£ä¹ä¸ºä»ä¹æä»¬ä»å¨ä½¿ç¨ipv4",normalizedTitle:"é£ä¹ä¸ºä»ä¹æä»¬ä»å¨ä½¿ç¨ipv4ï¼",charIndex:2104},{level:2,title:"æ¨éè¦ä»ä¹æè½ä½¿ç¨IPv6ï¼",slug:"æ¨éè¦ä»ä¹æè½ä½¿ç¨ipv6",normalizedTitle:"æ¨éè¦ä»ä¹æè½ä½¿ç¨ipv6ï¼",charIndex:2328},{level:2,title:"IPv4ä¸IPv6çå®å¨æ§",slug:"ipv4ä¸ipv6çå®å¨æ§",normalizedTitle:"ipv4ä¸ipv6çå®å¨æ§",charIndex:2528},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:2794},{level:2,title:"åèï¼",slug:"åè",normalizedTitle:"åèï¼",charIndex:2924}],headersStr:"ä»ä¹æ¯IPv4åIPv6ï¼ IPv4å°å IPv6å°å IPv4åIPv6ä¹é´çåºå« IPv4æIPv6ï¼ä½¿ç¨åªä¸ªï¼ é£ä¹ä¸ºä»ä¹æä»¬ä»å¨ä½¿ç¨IPv4ï¼ æ¨éè¦ä»ä¹æè½ä½¿ç¨IPv6ï¼ IPv4ä¸IPv6çå®å¨æ§ æ»ç» åèï¼",content:"åè¨\n\n\n\nInternetåè®®ï¼IPï¼æ¯ä¸ºè¿æ¥å°Internetç½ç»çæ¯ä¸ªè®¾å¤åéçæ°å­å°åã\n\nå®ç±»ä¼¼äºçµè¯å·ç ï¼æ¯ä¸ç§ç¬ç¹çæ°å­ç»åï¼åè®¸ç¨æ·ä¸ä»äººéä¿¡ã\n\nIPå°åä¸»è¦æä¸¤ä¸ªä¸»è¦åè½ã\n\né¦åï¼æäºIPï¼ç¨æ·è½å¤å¨Internetä¸è¢«è¯å«ã\n\nç¬¬äºï¼IPå°ååè®¸è®¡ç®æºéè¿Internetåéåæ¥æ¶æ°æ®ï¼ä¹å°±æ¯æä»¬ç»å¸¸è¯´çéä¿¡ã\n\nå¨æ¬æä¸­ï¼æä»¬å°æ·±å¥ç ç©¶ä¸¤ç§ç±»åçIPå°åï¼IPv4ä¸IPv6ã\n\næä»¬å°ä»ä»¥ä¸å ä¸ªæ¹é¢æ¥ç»å¤§å®¶ä»ç»è¿ä¸¤ç§ç±»åçIPå°åï¼è®©å¤§å®¶äºè§£å°ä¸¤ç±»IPçå¿å¤ç¥è¯ï¼\n\nä»ä¹æ¯IPv4åIPv6ï¼\n\nIPv4åIPv6ä¹é´çåºå«\n\nIPv4æIPv6ï¼ä½¿ç¨åªä¸ªï¼\n\nIPv4ä¸IPv6å®å¨æ§å¦ä½\n\n\n# ä»ä¹æ¯IPv4åIPv6ï¼\n\nIPv4åIPv6æ¯ä¸åç±»åçIPå°åã\n\nå®ä»¬çä¸»è¦ç¨éç¸åï¼æ è®°ä¸åçç¨æ·ï¼å¹¶ä¸è®©ç¨æ·è½éè¿IPè¿è¡éä¿¡ã\n\nä¸»è¦åºå«å¨äºIPv6æ¯ææ°ä¸ä»£çIPå°åã\n\n\n# IPv4å°å\n\nIPv4å°åçæ¦å¿µæ¯å¨1980å¹´ä»£åææåºçã\n\nå³ä½¿ææ°çæ¬çIPå°åï¼IPv4å°åä»ç¶æ¯Internetç¨æ·ä½¿ç¨æå¹¿æ³çå°åã\n\néå¸¸ï¼IPv4å°åä»¥ç¹ååè¿å¶è¡¨ç¤ºãæ¯ä¸ªé¨åä»£è¡¨ä¸ç»ææ8ä½å°åæ¹æ¡ç8ä½å°åã\n\n\n\nIPv4å°åç»åçæ°éæ¯æéçãæ»ä½èè¨ï¼å¯ä»¥ç®åº40äº¿ï¼256 4ï¼ä¸ªå¯ä¸å°åã\n\nå¨IPv4å°åæå¼å§æ¶ï¼è¿ä¸ªæ°å­ä¼¼ä¹æ°¸è¿ä¸ä¼è¿æãä½æ¯ï¼ç°å¨æåµææä¸åäºã\n\n2011å¹´ï¼å¨çäºèç½ç¼å·åéæºæï¼IANAï¼ååäºIPv4å°åç©ºé´çæåä¸åã\n\n2015å¹´ï¼IANAæ­£å¼å®£å¸ç¾å½å·²ç¨å®IPv4å°åã\n\nç´å°ä»å¤©ï¼IPv4å°åä»ç¶æ¿è½½çæå¤ï¼è¶è¿90ï¼ï¼çäºèç½æµéã\n\nå°ç®åä¸ºæ­¢ï¼å³ä½¿ç®åå­å¨IPv4å°åèå°½çé®é¢ï¼ä¹æä¸äºæ¹æ³å¯ä»¥ç»§ç»­ä½¿ç¨IPv4å°åã\n\nä¾å¦ï¼å½ä»éè¦ä¸ä¸ªå¯ä¸çIPå°åæ¥ä»£è¡¨ä¸ç»è®¾å¤æ¶ï¼ç½ç»å°åè½¬æ¢ï¼NATï¼æ¯ä¸ç§æ¹æ³ã\n\né¤æ­¤ä¹å¤ï¼IPå°åå¯ä»¥éå¤ä½¿ç¨ãå½ç¶ï¼æä»¬å·²ç»æäºå½»åºèå°½çè§£å³æ¹æ¡-IPv6å°åã\n\n\n# IPv6å°å\n\nä»ç»è§å¯ï¼æ¨ä¼åç°IPv6å°åå¹¶ä¸æ¯ä¸ç§å¨æ°çææ¯ã\n\nå®æ¯Internetåè®®çææ°çæ¬ï¼ä½å®æ¯å¨1998å¹´å¼åçï¼æ¨å¨æ¿æ¢IPv4å°åã\n\nIPv6å°åä½¿ç¨ä»¥åå·åéçåå­è¿å¶æ°å­ã\n\nå®åä¸ºå«ä¸ª16ä½åï¼ææä¸ä¸ª128ä½å°åæ¹æ¡ã\n\n\n\nIPv6ä¹å­å¨æ°ééå¶ãä¸è¿å¯ç¨çIPæ°éè¿å¤§äºIPv4ã\n\nä»çè®ºä¸è®²ï¼å¯ä»¥åå»ºå¤§çº¦3.4Ã10 38ä¸ªå°åã\n\nè¿ä¸æ°æ®å¬èµ·æ¥å¾é«ï¼è¿è¶äºIPv4çæ»æ°40äº¿ä¸ªï¼ä½æ¯æä¸å¤©ä¹å¯è½åºç°ä¸å¤çæåµã\n\nä½å°±ç®åèè¨ï¼è¿äºå°åå°å¯ä»¥ä¾æä»¬ä½¿ç¨å¾é¿ä¸æ®µæ¶é´ã\n\n\n# IPv4åIPv6ä¹é´çåºå«\n\nIPv4åIPv6ç¨äºç¨æ·æ è¯åInternetä¸ä¸åè®¾å¤ä¹é´çéä¿¡ã\n\nIPv4æ¯32ä½IPå°åï¼èIPv6æ¯128ä½IPå°åã\n\nIPv4æ¯æ°å­å°åï¼ç¨ç¹åéãIPv6æ¯ä¸ä¸ªå­æ¯æ°å­å°åï¼ç¨åå·åéã\n\næä»¬åå«è¯¦ç»ä»ç»äºIPv4åIPv6ç±»åã\n\nç°å¨ï¼æä»¬å¯ä»¥æ¯è¾è¿äºç±»åï¼å¹¶æ¾åºè¿ä¸¤ç§åè®®ä¹é´çä¸»è¦åºå«ã\n\næä»¬åä¸¾äºIPv4åIPv6ä¹é´çå«ä¸ªä¸»è¦åºå«ã\n\n\n\n 1. å°åç±»åãIPv4å·æä¸ç§ä¸åç±»åçå°åï¼å¤æ­ï¼å¹¿æ­ååæ­ãIPv6è¿å·æä¸ç§ä¸åç±»åçå°åï¼ä»»æå¹¿æ­ï¼åæ­åå¤æ­ã\n\n 2. æ°æ®åå¤§å°ãå¯¹äºIPv4ï¼æå°æ°æ®åå¤§å°ä¸º576å­èãå¯¹äºIPv6ï¼æå°æ°æ®åå¤§å°ä¸º1208å­èã\n\n 3. headeråºåå­æ®µæ°ãIPv4å·æ12ä¸ªæ å¤´å­æ®µï¼èIPv6æ¯æ8ä¸ªæ å¤´å­æ®µã\n\n 4. å¯éå­æ®µãIPv4å·æå¯éå­æ®µï¼èIPv6æ²¡æãä½æ¯ï¼IPv6å·ææ©å±headerï¼å¯ä»¥å¨å°æ¥æ©å±åè®®èä¸ä¼å½±åä¸»åç»æã\n\n 5. éç½®ãå¨IPv4ä¸­ï¼æ°è£çç³»ç»å¿é¡»éç½®å¥½æè½ä¸å¶ä»ç³»ç»éä¿¡ãå¨IPv6ä¸­ï¼éç½®æ¯å¯éçï¼å®åè®¸æ ¹æ®æéåè½è¿è¡éæ©ã\n\n 6. å®å¨æ§ãå¨IPv4ä¸­ï¼å®å¨æ§ä¸»è¦åå³äºç½ç«ååºç¨ç¨åºãå®ä¸æ¯éå¯¹å®å¨æ§èå¼åçIPåè®®ãèIPv6éæäºInternetåè®®å®å¨æ åï¼IPSecï¼ãIPv6çç½ç»å®å¨ä¸åIPv4æ¯å¯éé¡¹ï¼IPv6éçç½ç»å®å¨é¡¹æ¯å¼ºå¶æ§çã\n\n 7. ä¸ç§»å¨è®¾å¤çå¼å®¹æ§ãIPv4ä¸éåç§»å¨ç½ç»ï¼å ä¸ºæ­£å¦æä»¬åé¢æå°çï¼å®ä½¿ç¨ç¹ååè¿å¶è¡¨ç¤ºæ³ï¼èIPv6ä½¿ç¨åå·ï¼æ¯ç§»å¨è®¾å¤çæ´å¥½éæ©ã\n\n 8. ä¸»è¦åè½ãIPv6åè®¸ç´æ¥å¯»åï¼å ä¸ºå­å¨å¤§éå¯è½çå°åãä½æ¯ï¼IPv4å·²ç»å¹¿æ³ä¼ æ­å¹¶å¾å°è®¸å¤è®¾å¤çæ¯æï¼è¿ä½¿å¶æ´æäºä½¿ç¨ã\n\n\n# IPv4æIPv6ï¼ä½¿ç¨åªä¸ªï¼\n\nå¯¹äºä½¿ç¨IPv6è¿æ¯IPv4è¿ä¸ªé®é¢ï¼æ²¡ææ åç­æ¡ã\n\nå¨èèæªæ¥çç½ç»ä½éªæ¶ï¼IPv6å°åå°±æ¾å¾è³å³éè¦ã\n\nå³ä½¿å¨æä»¬å·²ç»æ²¡æç½ç»å°åçæåµä¸ä»ç¶å¯ä»¥æå¶ä»åæ³ä½¿ç¨IPv4å°åï¼\n\nä½æ¯è¿äºéé¡¹ä¹å¯è½ä¼è½»å¾®å½±åå°ç½ç»éåº¦æå¼èµ·å¶ä»é®é¢ã\n\nä¸è¿ï¼ä½¿ç¨IPv6éè¦å¼åæ¯æIPv6çæ°ææ¯åäº§åã\n\nIPv6çéåº¦æ¾ç¶ä¸æ¯IPv4å¿«ï¼ä½æ¯ä»IPv4å®å¨æ´æ¹ä¸ºIPv6å°ä¸ºInternetæä¾æ´å¤§çå¯ä¸IPæ± ã\n\n\n# é£ä¹ä¸ºä»ä¹æä»¬ä»å¨ä½¿ç¨IPv4ï¼\n\né®é¢å°±å¨äºIPv4åIPv6æ æ³ç¸äºéä¿¡ã\n\nè¿å°±æ¯ä¸ºä»ä¹IPv6çéæåééå¾å¤æã\n\nå¤§å¤æ°ç½ç«æåºç¨ç¨åºä»æ¯æIPv4ç±»åçIPå°åãæ³è±¡ä¸ä¸çªç¶æ´æ¹æ¯ä¸ªè®¾å¤çIPå°åã\n\nç¨æ·å°æ æ³è®¿é®å¤§å¤æ°ç½ç«æåºç¨ç¨åºï¼èæä»¬å¨äºèç½ä¸å°é·å¥ä¸çæ··ä¹±ã\n\nä»æ§çIPç±»åè½¬æ¢ä¸ºæ°çIPç±»åçè¿ç¨åºåæ­¥å®æã\n\nä¾å¦ï¼è¿ä¸¤ä¸ªåè®®è½å¤å¹¶è¡è¿è¡ã\n\næ­¤åè½ç§°ä¸ºåéå æ ãå®åè®¸ç¨æ·åæ¶è®¿é®IPv4åIPv6åå®¹ã\n\n\n# æ¨éè¦ä»ä¹æè½ä½¿ç¨IPv6ï¼\n\n 1. æä½ç³»ç»å¿é¡»ä¸IPv6å¼å®¹ãWindows VistaåWindowsçè¾æ°çæ¬ï¼Mac OS Xçç°ä»£çæ¬ä»¥åLinuxã\n\n 2. å¤§å¤æ°è·¯ç±å¨ä¸æ¯æIPv6ãå¦ææ¨æ³å°è¯ä½¿ç¨IPv6ï¼è¯·æ£æ¥è·¯ç±å¨çè¯¦ç»ä¿¡æ¯ã\n\n 3. Internetæå¡æä¾åï¼ISPï¼ä¹å¿é¡»æ¯æIPv6ãå³ä½¿æ¨å·æåéçæä½ç³»ç»åè·¯ç±å¨ï¼æ¨çISPä¹å¿é¡»æä¾IPv6è¿æ¥ã\n\n\n# IPv4ä¸IPv6çå®å¨æ§\n\nIPv6çå¼åèèäºå®å¨æ§ãè¿å°±æ¯å°IPSecéæå¨IPv6ä¸­çåå ï¼èå¯¹äºIPv4ï¼IPSecæ¯å¯éçã\n\nä»ä¹æ¯IPSecï¼\n\nIPSecï¼Internetåè®®å®å¨æ§ï¼æ¯ä¸ç§å®å¨çç½ç»åè®®ï¼å®å¯¹æ°æ®åè¿è¡èº«ä»½éªè¯åå å¯ï¼ä»¥å¨è®¾å¤ä¹é´æä¾å®å¨çéä¿¡ã\n\nå å¯æ¯åªæç»è¿ç¡®è®¤çåæ¹æè½çè§£çä¸ç§ç§å¯ä»£ç ãå®æå©äºç¡®ä¿éè¿å¬å±ç½ç»åéçä¿¡æ¯çå®å¨ã\n\nç±äºIPv4è¿å¯ä»¥éæ©éæIPSecï¼å æ­¤æä»¬å¯ä»¥åè®¾å¨å®å¨æ§æ¹é¢IPv4ä¸IPv6å ä¹ç¸åã\n\nä½æ¯ï¼å¦æå·²ç»éæäºå®å¨æªæ½ï¼åè¦ç®åå¾å¤ã\n\n\n# æ»ç»\n\nIPv6æ¯IPå°åçæªæ¥ã ä½æ¯ï¼ä»IPv4è¿æ¸¡å°IPv6çè¿ç¨å´æ¯æ¼«é¿èå¤æçã\n\nå¦ææ¨å¯¹ä½¿ç¨IPv6å°åæå°å¥½å¥ï¼å»ºè®®å°å¶ç¨æ³ä¸IPv4ç»åä½¿ç¨ï¼å ä¸ºå¤§å¤æ°ç½ç«ååºç¨ç¨åºä»ä»æ¯æIPv4å°åã\n\nIPv4åIPv6ä½¿ç¨çç»åç§°ä¸ºåéå æ \n\n\n# åèï¼\n\nIPv4 vs. IPv6: What is the Difference?",normalizedContent:"åè¨\n\n\n\ninternetåè®®ï¼ipï¼æ¯ä¸ºè¿æ¥å°internetç½ç»çæ¯ä¸ªè®¾å¤åéçæ°å­å°åã\n\nå®ç±»ä¼¼äºçµè¯å·ç ï¼æ¯ä¸ç§ç¬ç¹çæ°å­ç»åï¼åè®¸ç¨æ·ä¸ä»äººéä¿¡ã\n\nipå°åä¸»è¦æä¸¤ä¸ªä¸»è¦åè½ã\n\né¦åï¼æäºipï¼ç¨æ·è½å¤å¨internetä¸è¢«è¯å«ã\n\nç¬¬äºï¼ipå°ååè®¸è®¡ç®æºéè¿internetåéåæ¥æ¶æ°æ®ï¼ä¹å°±æ¯æä»¬ç»å¸¸è¯´çéä¿¡ã\n\nå¨æ¬æä¸­ï¼æä»¬å°æ·±å¥ç ç©¶ä¸¤ç§ç±»åçipå°åï¼ipv4ä¸ipv6ã\n\næä»¬å°ä»ä»¥ä¸å ä¸ªæ¹é¢æ¥ç»å¤§å®¶ä»ç»è¿ä¸¤ç§ç±»åçipå°åï¼è®©å¤§å®¶äºè§£å°ä¸¤ç±»ipçå¿å¤ç¥è¯ï¼\n\nä»ä¹æ¯ipv4åipv6ï¼\n\nipv4åipv6ä¹é´çåºå«\n\nipv4æipv6ï¼ä½¿ç¨åªä¸ªï¼\n\nipv4ä¸ipv6å®å¨æ§å¦ä½\n\n\n# ä»ä¹æ¯ipv4åipv6ï¼\n\nipv4åipv6æ¯ä¸åç±»åçipå°åã\n\nå®ä»¬çä¸»è¦ç¨éç¸åï¼æ è®°ä¸åçç¨æ·ï¼å¹¶ä¸è®©ç¨æ·è½éè¿ipè¿è¡éä¿¡ã\n\nä¸»è¦åºå«å¨äºipv6æ¯ææ°ä¸ä»£çipå°åã\n\n\n# ipv4å°å\n\nipv4å°åçæ¦å¿µæ¯å¨1980å¹´ä»£åææåºçã\n\nå³ä½¿ææ°çæ¬çipå°åï¼ipv4å°åä»ç¶æ¯internetç¨æ·ä½¿ç¨æå¹¿æ³çå°åã\n\néå¸¸ï¼ipv4å°åä»¥ç¹ååè¿å¶è¡¨ç¤ºãæ¯ä¸ªé¨åä»£è¡¨ä¸ç»ææ8ä½å°åæ¹æ¡ç8ä½å°åã\n\n\n\nipv4å°åç»åçæ°éæ¯æéçãæ»ä½èè¨ï¼å¯ä»¥ç®åº40äº¿ï¼256 4ï¼ä¸ªå¯ä¸å°åã\n\nå¨ipv4å°åæå¼å§æ¶ï¼è¿ä¸ªæ°å­ä¼¼ä¹æ°¸è¿ä¸ä¼è¿æãä½æ¯ï¼ç°å¨æåµææä¸åäºã\n\n2011å¹´ï¼å¨çäºèç½ç¼å·åéæºæï¼ianaï¼ååäºipv4å°åç©ºé´çæåä¸åã\n\n2015å¹´ï¼ianaæ­£å¼å®£å¸ç¾å½å·²ç¨å®ipv4å°åã\n\nç´å°ä»å¤©ï¼ipv4å°åä»ç¶æ¿è½½çæå¤ï¼è¶è¿90ï¼ï¼çäºèç½æµéã\n\nå°ç®åä¸ºæ­¢ï¼å³ä½¿ç®åå­å¨ipv4å°åèå°½çé®é¢ï¼ä¹æä¸äºæ¹æ³å¯ä»¥ç»§ç»­ä½¿ç¨ipv4å°åã\n\nä¾å¦ï¼å½ä»éè¦ä¸ä¸ªå¯ä¸çipå°åæ¥ä»£è¡¨ä¸ç»è®¾å¤æ¶ï¼ç½ç»å°åè½¬æ¢ï¼natï¼æ¯ä¸ç§æ¹æ³ã\n\né¤æ­¤ä¹å¤ï¼ipå°åå¯ä»¥éå¤ä½¿ç¨ãå½ç¶ï¼æä»¬å·²ç»æäºå½»åºèå°½çè§£å³æ¹æ¡-ipv6å°åã\n\n\n# ipv6å°å\n\nä»ç»è§å¯ï¼æ¨ä¼åç°ipv6å°åå¹¶ä¸æ¯ä¸ç§å¨æ°çææ¯ã\n\nå®æ¯internetåè®®çææ°çæ¬ï¼ä½å®æ¯å¨1998å¹´å¼åçï¼æ¨å¨æ¿æ¢ipv4å°åã\n\nipv6å°åä½¿ç¨ä»¥åå·åéçåå­è¿å¶æ°å­ã\n\nå®åä¸ºå«ä¸ª16ä½åï¼ææä¸ä¸ª128ä½å°åæ¹æ¡ã\n\n\n\nipv6ä¹å­å¨æ°ééå¶ãä¸è¿å¯ç¨çipæ°éè¿å¤§äºipv4ã\n\nä»çè®ºä¸è®²ï¼å¯ä»¥åå»ºå¤§çº¦3.4Ã10 38ä¸ªå°åã\n\nè¿ä¸æ°æ®å¬èµ·æ¥å¾é«ï¼è¿è¶äºipv4çæ»æ°40äº¿ä¸ªï¼ä½æ¯æä¸å¤©ä¹å¯è½åºç°ä¸å¤çæåµã\n\nä½å°±ç®åèè¨ï¼è¿äºå°åå°å¯ä»¥ä¾æä»¬ä½¿ç¨å¾é¿ä¸æ®µæ¶é´ã\n\n\n# ipv4åipv6ä¹é´çåºå«\n\nipv4åipv6ç¨äºç¨æ·æ è¯åinternetä¸ä¸åè®¾å¤ä¹é´çéä¿¡ã\n\nipv4æ¯32ä½ipå°åï¼èipv6æ¯128ä½ipå°åã\n\nipv4æ¯æ°å­å°åï¼ç¨ç¹åéãipv6æ¯ä¸ä¸ªå­æ¯æ°å­å°åï¼ç¨åå·åéã\n\næä»¬åå«è¯¦ç»ä»ç»äºipv4åipv6ç±»åã\n\nç°å¨ï¼æä»¬å¯ä»¥æ¯è¾è¿äºç±»åï¼å¹¶æ¾åºè¿ä¸¤ç§åè®®ä¹é´çä¸»è¦åºå«ã\n\næä»¬åä¸¾äºipv4åipv6ä¹é´çå«ä¸ªä¸»è¦åºå«ã\n\n\n\n 1. å°åç±»åãipv4å·æä¸ç§ä¸åç±»åçå°åï¼å¤æ­ï¼å¹¿æ­ååæ­ãipv6è¿å·æä¸ç§ä¸åç±»åçå°åï¼ä»»æå¹¿æ­ï¼åæ­åå¤æ­ã\n\n 2. æ°æ®åå¤§å°ãå¯¹äºipv4ï¼æå°æ°æ®åå¤§å°ä¸º576å­èãå¯¹äºipv6ï¼æå°æ°æ®åå¤§å°ä¸º1208å­èã\n\n 3. headeråºåå­æ®µæ°ãipv4å·æ12ä¸ªæ å¤´å­æ®µï¼èipv6æ¯æ8ä¸ªæ å¤´å­æ®µã\n\n 4. å¯éå­æ®µãipv4å·æå¯éå­æ®µï¼èipv6æ²¡æãä½æ¯ï¼ipv6å·ææ©å±headerï¼å¯ä»¥å¨å°æ¥æ©å±åè®®èä¸ä¼å½±åä¸»åç»æã\n\n 5. éç½®ãå¨ipv4ä¸­ï¼æ°è£çç³»ç»å¿é¡»éç½®å¥½æè½ä¸å¶ä»ç³»ç»éä¿¡ãå¨ipv6ä¸­ï¼éç½®æ¯å¯éçï¼å®åè®¸æ ¹æ®æéåè½è¿è¡éæ©ã\n\n 6. å®å¨æ§ãå¨ipv4ä¸­ï¼å®å¨æ§ä¸»è¦åå³äºç½ç«ååºç¨ç¨åºãå®ä¸æ¯éå¯¹å®å¨æ§èå¼åçipåè®®ãèipv6éæäºinternetåè®®å®å¨æ åï¼ipsecï¼ãipv6çç½ç»å®å¨ä¸åipv4æ¯å¯éé¡¹ï¼ipv6éçç½ç»å®å¨é¡¹æ¯å¼ºå¶æ§çã\n\n 7. ä¸ç§»å¨è®¾å¤çå¼å®¹æ§ãipv4ä¸éåç§»å¨ç½ç»ï¼å ä¸ºæ­£å¦æä»¬åé¢æå°çï¼å®ä½¿ç¨ç¹ååè¿å¶è¡¨ç¤ºæ³ï¼èipv6ä½¿ç¨åå·ï¼æ¯ç§»å¨è®¾å¤çæ´å¥½éæ©ã\n\n 8. ä¸»è¦åè½ãipv6åè®¸ç´æ¥å¯»åï¼å ä¸ºå­å¨å¤§éå¯è½çå°åãä½æ¯ï¼ipv4å·²ç»å¹¿æ³ä¼ æ­å¹¶å¾å°è®¸å¤è®¾å¤çæ¯æï¼è¿ä½¿å¶æ´æäºä½¿ç¨ã\n\n\n# ipv4æipv6ï¼ä½¿ç¨åªä¸ªï¼\n\nå¯¹äºä½¿ç¨ipv6è¿æ¯ipv4è¿ä¸ªé®é¢ï¼æ²¡ææ åç­æ¡ã\n\nå¨èèæªæ¥çç½ç»ä½éªæ¶ï¼ipv6å°åå°±æ¾å¾è³å³éè¦ã\n\nå³ä½¿å¨æä»¬å·²ç»æ²¡æç½ç»å°åçæåµä¸ä»ç¶å¯ä»¥æå¶ä»åæ³ä½¿ç¨ipv4å°åï¼\n\nä½æ¯è¿äºéé¡¹ä¹å¯è½ä¼è½»å¾®å½±åå°ç½ç»éåº¦æå¼èµ·å¶ä»é®é¢ã\n\nä¸è¿ï¼ä½¿ç¨ipv6éè¦å¼åæ¯æipv6çæ°ææ¯åäº§åã\n\nipv6çéåº¦æ¾ç¶ä¸æ¯ipv4å¿«ï¼ä½æ¯ä»ipv4å®å¨æ´æ¹ä¸ºipv6å°ä¸ºinternetæä¾æ´å¤§çå¯ä¸ipæ± ã\n\n\n# é£ä¹ä¸ºä»ä¹æä»¬ä»å¨ä½¿ç¨ipv4ï¼\n\né®é¢å°±å¨äºipv4åipv6æ æ³ç¸äºéä¿¡ã\n\nè¿å°±æ¯ä¸ºä»ä¹ipv6çéæåééå¾å¤æã\n\nå¤§å¤æ°ç½ç«æåºç¨ç¨åºä»æ¯æipv4ç±»åçipå°åãæ³è±¡ä¸ä¸çªç¶æ´æ¹æ¯ä¸ªè®¾å¤çipå°åã\n\nç¨æ·å°æ æ³è®¿é®å¤§å¤æ°ç½ç«æåºç¨ç¨åºï¼èæä»¬å¨äºèç½ä¸å°é·å¥ä¸çæ··ä¹±ã\n\nä»æ§çipç±»åè½¬æ¢ä¸ºæ°çipç±»åçè¿ç¨åºåæ­¥å®æã\n\nä¾å¦ï¼è¿ä¸¤ä¸ªåè®®è½å¤å¹¶è¡è¿è¡ã\n\næ­¤åè½ç§°ä¸ºåéå æ ãå®åè®¸ç¨æ·åæ¶è®¿é®ipv4åipv6åå®¹ã\n\n\n# æ¨éè¦ä»ä¹æè½ä½¿ç¨ipv6ï¼\n\n 1. æä½ç³»ç»å¿é¡»ä¸ipv6å¼å®¹ãwindows vistaåwindowsçè¾æ°çæ¬ï¼mac os xçç°ä»£çæ¬ä»¥ålinuxã\n\n 2. å¤§å¤æ°è·¯ç±å¨ä¸æ¯æipv6ãå¦ææ¨æ³å°è¯ä½¿ç¨ipv6ï¼è¯·æ£æ¥è·¯ç±å¨çè¯¦ç»ä¿¡æ¯ã\n\n 3. internetæå¡æä¾åï¼ispï¼ä¹å¿é¡»æ¯æipv6ãå³ä½¿æ¨å·æåéçæä½ç³»ç»åè·¯ç±å¨ï¼æ¨çispä¹å¿é¡»æä¾ipv6è¿æ¥ã\n\n\n# ipv4ä¸ipv6çå®å¨æ§\n\nipv6çå¼åèèäºå®å¨æ§ãè¿å°±æ¯å°ipsecéæå¨ipv6ä¸­çåå ï¼èå¯¹äºipv4ï¼ipsecæ¯å¯éçã\n\nä»ä¹æ¯ipsecï¼\n\nipsecï¼internetåè®®å®å¨æ§ï¼æ¯ä¸ç§å®å¨çç½ç»åè®®ï¼å®å¯¹æ°æ®åè¿è¡èº«ä»½éªè¯åå å¯ï¼ä»¥å¨è®¾å¤ä¹é´æä¾å®å¨çéä¿¡ã\n\nå å¯æ¯åªæç»è¿ç¡®è®¤çåæ¹æè½çè§£çä¸ç§ç§å¯ä»£ç ãå®æå©äºç¡®ä¿éè¿å¬å±ç½ç»åéçä¿¡æ¯çå®å¨ã\n\nç±äºipv4è¿å¯ä»¥éæ©éæipsecï¼å æ­¤æä»¬å¯ä»¥åè®¾å¨å®å¨æ§æ¹é¢ipv4ä¸ipv6å ä¹ç¸åã\n\nä½æ¯ï¼å¦æå·²ç»éæäºå®å¨æªæ½ï¼åè¦ç®åå¾å¤ã\n\n\n# æ»ç»\n\nipv6æ¯ipå°åçæªæ¥ã ä½æ¯ï¼ä»ipv4è¿æ¸¡å°ipv6çè¿ç¨å´æ¯æ¼«é¿èå¤æçã\n\nå¦ææ¨å¯¹ä½¿ç¨ipv6å°åæå°å¥½å¥ï¼å»ºè®®å°å¶ç¨æ³ä¸ipv4ç»åä½¿ç¨ï¼å ä¸ºå¤§å¤æ°ç½ç«ååºç¨ç¨åºä»ä»æ¯æipv4å°åã\n\nipv4åipv6ä½¿ç¨çç»åç§°ä¸ºåéå æ \n\n\n# åèï¼\n\nipv4 vs. ipv6: what is the difference?",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿°TCPéä¼ æºå¶",frontmatter:{title:"ç®è¿°TCPéä¼ æºå¶",date:"2022-09-27T22:26:11.000Z",permalink:"/pages/a219df/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/171.%20%E7%AE%80%E8%BF%B0TCP%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/171. ç®è¿°TCPéä¼ æºå¶.md",key:"v-52edac80",path:"/pages/a219df/",headers:[{level:2,title:"éä¼ æºå¶",slug:"éä¼ æºå¶",normalizedTitle:"éä¼ æºå¶",charIndex:2},{level:2,title:"è¶æ¶éä¼ ",slug:"è¶æ¶éä¼ ",normalizedTitle:"è¶æ¶éä¼ ",charIndex:101},{level:2,title:"å¿«ééä¼ ",slug:"å¿«ééä¼ ",normalizedTitle:"å¿«ééä¼ ",charIndex:109},{level:2,title:"SACK æ¹æ³",slug:"sack-æ¹æ³",normalizedTitle:"sack æ¹æ³",charIndex:1791},{level:2,title:"Duplicate SACK",slug:"duplicate-sack",normalizedTitle:"duplicate sack",charIndex:2063},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:2811}],headersStr:"éä¼ æºå¶ è¶æ¶éä¼  å¿«ééä¼  SACK æ¹æ³ Duplicate SACK åè",content:"# éä¼ æºå¶\n\nTCP å®ç°å¯é ä¼ è¾çæ¹å¼ä¹ä¸ï¼æ¯éè¿åºåå·ä¸ç¡®è®¤åºç­ã\n\nå¨ TCP ä¸­ï¼å½åéç«¯çæ°æ®å°è¾¾æ¥æ¶ä¸»æºæ¶ï¼æ¥æ¶ç«¯ä¸»æºä¼è¿åä¸ä¸ªç¡®è®¤åºç­æ¶æ¯ï¼è¡¨ç¤ºå·²æ¶å°æ¶æ¯ã\n\nå¸¸è§çéä¼ æºå¶ï¼\n\n * è¶æ¶éä¼ \n * å¿«ééä¼ \n * SACK D-SACK\n\n\n# è¶æ¶éä¼ \n\néä¼ æºå¶çå¶ä¸­ä¸ä¸ªæ¹å¼ï¼å°±æ¯å¨åéæ°æ®æ¶ï¼è®¾å®ä¸ä¸ªå®æ¶å¨ï¼å½è¶è¿æå®çæ¶é´åï¼æ²¡ææ¶å°å¯¹æ¹ç ACK ç¡®è®¤åºç­æ¥æï¼å°±ä¼éåè¯¥æ°æ®ï¼ä¹å°±æ¯æä»¬å¸¸è¯´çè¶æ¶éä¼ ã\n\nTCP ä¼å¨ä»¥ä¸ä¸¤ç§æåµåçè¶æ¶éä¼ ï¼\n\n * æ°æ®åä¸¢å¤±\n * ç¡®è®¤åºç­ä¸¢å¤±\n\nè¶æ¶æ¶é´åºè¯¥è®¾ç½®ä¸ºå¤å°å¢ï¼\n\n\n\nRTT å°±æ¯æ°æ®ä»ç½ç»ä¸ç«¯ä¼ éå°å¦ä¸ç«¯æéçæ¶é´ï¼ä¹å°±æ¯åçå¾è¿æ¶é´ã\n\nè¶æ¶éä¼ æ¶é´æ¯ä»¥ RTO ï¼Retransmission Timeout è¶æ¶éä¼ æ¶é´ï¼è¡¨ç¤ºã\n\nåè®¾å¨éä¼ çæåµä¸ï¼è¶æ¶æ¶é´ RTO ãè¾é¿æè¾ç­ãæ¶ï¼ä¼åçä»ä¹äºæå¢ï¼\n\n\n\nä¸å¾ä¸­æä¸¤ç§è¶æ¶æ¶é´ä¸åçæåµï¼\n\n * å½è¶æ¶æ¶é´ RTO è¾å¤§æ¶ï¼éåå°±æ¢ï¼ä¸¢äºèåå¤©æéåï¼æ²¡ææçï¼æ§è½å·®ï¼\n * å½è¶æ¶æ¶é´ RTO è¾å°æ¶ï¼ä¼å¯¼è´å¯è½å¹¶æ²¡æä¸¢å°±éåï¼äºæ¯éåçå°±å¿«ï¼ä¼å¢å ç½ç»æ¥å¡ï¼å¯¼è´æ´å¤çè¶æ¶ï¼æ´å¤çè¶æ¶å¯¼è´æ´å¤çéåã\n\næ ¹æ®ä¸è¿°çä¸¤ç§æåµï¼æä»¬å¯ä»¥å¾ç¥ï¼è¶æ¶éä¼ æ¶é´ RTO çå¼åºè¯¥ç¥å¤§äºæ¥æå¾è¿ RTT çå¼ã\n\n\n\nå¥½åå°±æ¯å¨åéç«¯ååæ¶è®°ä¸t0 ï¼ç¶åæ¥æ¶ç«¯åæè¿ä¸ªack åæ¥æ¶åè®°ä¸ä¸ªt1ï¼äºæ¯RTT = t1 â t0ãæ²¡é£ä¹ç®åï¼è¿åªæ¯ä¸ä¸ªéæ ·ï¼ä¸è½ä»£è¡¨æ®éæåµã\n\nå®éä¸ãæ¥æå¾è¿ RTT çå¼ãæ¯ç»å¸¸ååçï¼å ä¸ºæä»¬çç½ç»ä¹æ¯æ¶å¸¸ååçãä¹å°±å ä¸ºãæ¥æå¾è¿ RTT çå¼ã æ¯ç»å¸¸æ³¢å¨ååçï¼æä»¥ãè¶æ¶éä¼ æ¶é´ RTO çå¼ãåºè¯¥æ¯ä¸ä¸ªå¨æååçå¼ã\n\nä¼°è®¡å¾è¿æ¶é´ï¼éå¸¸éè¦éæ ·ä»¥ä¸ä¸¤ä¸ªï¼\n\n * éè¦ TCP éè¿éæ · RTT çæ¶é´ï¼ç¶åè¿è¡å æå¹³åï¼ç®åºä¸ä¸ªå¹³æ» RTT çå¼ï¼èä¸è¿ä¸ªå¼è¿æ¯è¦ä¸æ­ååçï¼å ä¸ºç½ç»ç¶åµä¸æ­å°ååã\n * é¤äºéæ · RTTï¼è¿è¦éæ · RTT çæ³¢å¨èå´ï¼è¿æ ·å°±é¿åå¦æ RTT æä¸ä¸ªå¤§çæ³¢å¨çè¯ï¼å¾é¾è¢«åç°çæåµã RFC6289 å»ºè®®ä½¿ç¨ä»¥ä¸çå¬å¼è®¡ç® RTOï¼\n\n\n\nå¶ä¸­ SRTT æ¯è®¡ç®å¹³æ»çRTT ï¼DevRTR æ¯è®¡ç®å¹³æ»çRTT ä¸ ææ° RTT çå·®è·ã\n\nå¨ Linux ä¸ï¼Î± = 0.125ï¼Î² = 0.25ï¼ Î¼ = 1ï¼â = 4ãå«é®æä¹æ¥çï¼é®å°±æ¯å¤§éå®éªä¸­è°åºæ¥çã\n\nå¦æè¶æ¶éåçæ°æ®ï¼åæ¬¡è¶æ¶çæ¶åï¼åéè¦éä¼ çæ¶åï¼TCP çç­ç¥æ¯è¶æ¶æ¶é´éå åã\n\nä¹å°±æ¯æ¯å½éå°ä¸æ¬¡è¶æ¶éä¼ çæ¶åï¼é½ä¼å°ä¸ä¸æ¬¡è¶æ¶æ¶é´é´éè®¾ä¸ºååå¼çä¸¤åãä¸¤æ¬¡è¶æ¶ï¼å°±è¯´æç½ç»ç¯å¢å·®ï¼ä¸å®é¢ç¹åå¤åéã\n\nè¶æ¶è§¦åéä¼ å­å¨çé®é¢æ¯ï¼è¶æ¶å¨æå¯è½ç¸å¯¹è¾é¿ãé£æ¯ä¸æ¯å¯ä»¥ææ´å¿«çæ¹å¼å¢ï¼\n\näºæ¯å°±å¯ä»¥ç¨ãå¿«ééä¼ ãæºå¶æ¥è§£å³è¶æ¶éåçæ¶é´ç­å¾ã\n\n\n# å¿«ééä¼ \n\nTCP è¿æå¦å¤ä¸ç§å¿«ééä¼ ï¼Fast Retransmitï¼æºå¶ï¼å®ä¸ä»¥æ¶é´ä¸ºé©±å¨ï¼èæ¯ä»¥æ°æ®é©±å¨éä¼ ã\n\n\n\nå¨ä¸å¾ï¼åéæ¹ååºäº 1ï¼2ï¼3ï¼4ï¼5 ä»½æ°æ®ï¼\n\n * ç¬¬ä¸ä»½ Seq1 åéå°äºï¼äºæ¯å°± Ack å 2ï¼\n * ç»æ Seq2 å ä¸ºæäºåå æ²¡æ¶å°ï¼Seq3 å°è¾¾äºï¼äºæ¯è¿æ¯ Ack å 2ï¼\n * åé¢ç Seq4 å Seq5 é½å°äºï¼ä½è¿æ¯ Ack å 2ï¼å ä¸º Seq2 è¿æ¯æ²¡ææ¶å°ï¼\n * åéç«¯æ¶å°äºä¸ä¸ª Ack = 2 çç¡®è®¤ï¼ç¥éäº Seq2 è¿æ²¡ææ¶å°ï¼å°±ä¼å¨å®æ¶å¨è¿æä¹åï¼éä¼ ä¸¢å¤±ç Seq2ã\n * æåï¼æ¶å°äº Seq2ï¼æ­¤æ¶å ä¸º Seq3ï¼Seq4ï¼Seq5 é½æ¶å°äºï¼äºæ¯ Ack å 6 ã\n\næä»¥ï¼å¿«ééä¼ çå·¥ä½æ¹å¼æ¯å½æ¶å°ä¸ä¸ªç¸åç ACK æ¥ææ¶ï¼ä¼å¨å®æ¶å¨è¿æä¹åï¼éä¼ ä¸¢å¤±çæ¥ææ®µã\n\nå¿«ééä¼ æºå¶åªè§£å³äºä¸ä¸ªé®é¢ï¼å°±æ¯è¶æ¶æ¶é´çé®é¢ï¼ä½æ¯å®ä¾ç¶é¢ä¸´çå¦å¤ä¸ä¸ªé®é¢ãå°±æ¯éä¼ çæ¶åï¼æ¯éä¼ ä¹åçä¸ä¸ªï¼è¿æ¯éä¼ ææçé®é¢ã\n\næ¯å¦å¯¹äºä¸é¢çä¾å­ï¼æ¯éä¼  Seq2 å¢ï¼è¿æ¯éä¼  Seq2ãSeq3ãSeq4ãSeq5 å¢ï¼å ä¸ºåéç«¯å¹¶ä¸æ¸æ¥è¿è¿ç»­çä¸ä¸ª Ack 2 æ¯è°ä¼ åæ¥çã\n\nä¸ºäºè§£å³ä¸ç¥éè¯¥éä¼ åªäº TCP æ¥æï¼äºæ¯å°±æ SACK æ¹æ³ã\n\n\n# SACK æ¹æ³\n\nè¿æä¸ç§å®ç°éä¼ æºå¶çæ¹å¼å«ï¼SACKï¼ Selective Acknowledgment éæ©æ§ç¡®è®¤ï¼ã\n\nè¿ç§æ¹å¼éè¦å¨ TCP å¤´é¨ãéé¡¹ãå­æ®µéå ä¸ä¸ª SACKçä¸è¥¿ï¼å®å¯ä»¥å°ç¼å­çæ°æ®åéç»åéæ¹ï¼è¿æ ·åéæ¹å°±å¯ä»¥ç¥éåªäºæ°æ®æ¶å°äºï¼åªäºæ°æ®æ²¡æ¶å°ï¼ç¥éäºè¿äºä¿¡æ¯ï¼å°±å¯ä»¥åªéä¼ ä¸¢å¤±çæ°æ®ã\n\nå¦ä¸å¾ï¼åéæ¹æ¶å°äºä¸æ¬¡åæ ·ç ACK ç¡®è®¤æ¥æï¼äºæ¯å°±ä¼è§¦åå¿«ééåæºå¶ï¼éè¿ SACK ä¿¡æ¯åç°åªæ 200~299 è¿æ®µæ°æ®ä¸¢å¤±ï¼åéåæ¶ï¼å°±åªéæ©äºè¿ä¸ª TCP æ®µè¿è¡éå¤ã\n\n\n\n\n# Duplicate SACK\n\nDuplicate SACK åç§° D-SACKï¼å¶ä¸»è¦ä½¿ç¨äº SACK æ¥åè¯ãåéæ¹ãæåªäºæ°æ®è¢«éå¤æ¥æ¶äºã\n\nä¸é¢ä¸¾ä¾ä¸¤ä¸ªæ å­ï¼æ¥è¯´æ D-SACK çä½ç¨ã\n\næ å­ä¸å·ï¼ACK ä¸¢å:\n\n\n\nãæ¥æ¶æ¹ãåç»ãåéæ¹ãçä¸¤ä¸ª ACK ç¡®è®¤åºç­é½ä¸¢å¤±äºï¼æä»¥åéæ¹è¶æ¶åï¼éä¼ ç¬¬ä¸ä¸ªæ°æ®åï¼3000 ~ 3499ï¼ äºæ¯ãæ¥æ¶æ¹ãåç°æ°æ®æ¯éå¤æ¶å°çï¼äºæ¯åäºä¸ä¸ª SACK = 3000~3500ï¼åè¯ãåéæ¹ã 3000~3500 çæ°æ®æ©å·²è¢«æ¥æ¶äºï¼å ä¸º ACK é½å°äº 4000 äºï¼å·²ç»æå³ç 4000 ä¹åçæææ°æ®é½å·²æ¶å°ï¼æä»¥è¿ä¸ª SACK å°±ä»£è¡¨ç D-SACKã è¿æ ·ãåéæ¹ãå°±ç¥éäºï¼æ°æ®æ²¡æä¸¢ï¼æ¯ãæ¥æ¶æ¹ãç ACK ç¡®è®¤æ¥æä¸¢äºã æ å­äºå·ï¼ç½ç»å»¶æ¶:\n\n\n\n * æ°æ®åï¼1000~1499ï¼ è¢«ç½ç»å»¶è¿äºï¼å¯¼è´ãåéæ¹ãæ²¡ææ¶å° Ack 1500 çç¡®è®¤æ¥æã\n * èåé¢æ¥æå°è¾¾çä¸ä¸ªç¸åç ACK ç¡®è®¤æ¥æï¼å°±è§¦åäºå¿«ééä¼ æºå¶ï¼ä½æ¯å¨éä¼ åï¼è¢«å»¶è¿çæ°æ®åï¼1000~1499ï¼åå°äºãæ¥æ¶æ¹ãï¼\n * æä»¥ãæ¥æ¶æ¹ãåäºä¸ä¸ª SACK=1000~1500ï¼å ä¸º ACK å·²ç»å°äº 3000ï¼æä»¥è¿ä¸ª SACK æ¯ D-SACKï¼è¡¨ç¤ºæ¶å°äºéå¤çåã\n * è¿æ ·åéæ¹å°±ç¥éå¿«ééä¼ è§¦åçåå ä¸æ¯ååºå»çåä¸¢äºï¼ä¹ä¸æ¯å ä¸ºååºç ACK åä¸¢äºï¼èæ¯å ä¸ºç½ç»å»¶è¿äºã\n\nå¯è§ï¼D-SACK æè¿ä¹å ä¸ªå¥½å¤ï¼\n\n 1. å¯ä»¥è®©ãåéæ¹ãç¥éï¼æ¯ååºå»çåä¸¢äºï¼è¿æ¯æ¥æ¶æ¹ååºç ACK åä¸¢äº;\n 2. å¯ä»¥ç¥éæ¯ä¸æ¯ãåéæ¹ãçæ°æ®åè¢«ç½ç»å»¶è¿äº;\n 3. å¯ä»¥ç¥éç½ç»ä¸­æ¯ä¸æ¯æãåéæ¹ãçæ°æ®åç»å¤å¶äº;\n\n\n# åè\n\nTCPæ»å¨çªå£åéä¼ æºå¶",normalizedContent:"# éä¼ æºå¶\n\ntcp å®ç°å¯é ä¼ è¾çæ¹å¼ä¹ä¸ï¼æ¯éè¿åºåå·ä¸ç¡®è®¤åºç­ã\n\nå¨ tcp ä¸­ï¼å½åéç«¯çæ°æ®å°è¾¾æ¥æ¶ä¸»æºæ¶ï¼æ¥æ¶ç«¯ä¸»æºä¼è¿åä¸ä¸ªç¡®è®¤åºç­æ¶æ¯ï¼è¡¨ç¤ºå·²æ¶å°æ¶æ¯ã\n\nå¸¸è§çéä¼ æºå¶ï¼\n\n * è¶æ¶éä¼ \n * å¿«ééä¼ \n * sack d-sack\n\n\n# è¶æ¶éä¼ \n\néä¼ æºå¶çå¶ä¸­ä¸ä¸ªæ¹å¼ï¼å°±æ¯å¨åéæ°æ®æ¶ï¼è®¾å®ä¸ä¸ªå®æ¶å¨ï¼å½è¶è¿æå®çæ¶é´åï¼æ²¡ææ¶å°å¯¹æ¹ç ack ç¡®è®¤åºç­æ¥æï¼å°±ä¼éåè¯¥æ°æ®ï¼ä¹å°±æ¯æä»¬å¸¸è¯´çè¶æ¶éä¼ ã\n\ntcp ä¼å¨ä»¥ä¸ä¸¤ç§æåµåçè¶æ¶éä¼ ï¼\n\n * æ°æ®åä¸¢å¤±\n * ç¡®è®¤åºç­ä¸¢å¤±\n\nè¶æ¶æ¶é´åºè¯¥è®¾ç½®ä¸ºå¤å°å¢ï¼\n\n\n\nrtt å°±æ¯æ°æ®ä»ç½ç»ä¸ç«¯ä¼ éå°å¦ä¸ç«¯æéçæ¶é´ï¼ä¹å°±æ¯åçå¾è¿æ¶é´ã\n\nè¶æ¶éä¼ æ¶é´æ¯ä»¥ rto ï¼retransmission timeout è¶æ¶éä¼ æ¶é´ï¼è¡¨ç¤ºã\n\nåè®¾å¨éä¼ çæåµä¸ï¼è¶æ¶æ¶é´ rto ãè¾é¿æè¾ç­ãæ¶ï¼ä¼åçä»ä¹äºæå¢ï¼\n\n\n\nä¸å¾ä¸­æä¸¤ç§è¶æ¶æ¶é´ä¸åçæåµï¼\n\n * å½è¶æ¶æ¶é´ rto è¾å¤§æ¶ï¼éåå°±æ¢ï¼ä¸¢äºèåå¤©æéåï¼æ²¡ææçï¼æ§è½å·®ï¼\n * å½è¶æ¶æ¶é´ rto è¾å°æ¶ï¼ä¼å¯¼è´å¯è½å¹¶æ²¡æä¸¢å°±éåï¼äºæ¯éåçå°±å¿«ï¼ä¼å¢å ç½ç»æ¥å¡ï¼å¯¼è´æ´å¤çè¶æ¶ï¼æ´å¤çè¶æ¶å¯¼è´æ´å¤çéåã\n\næ ¹æ®ä¸è¿°çä¸¤ç§æåµï¼æä»¬å¯ä»¥å¾ç¥ï¼è¶æ¶éä¼ æ¶é´ rto çå¼åºè¯¥ç¥å¤§äºæ¥æå¾è¿ rtt çå¼ã\n\n\n\nå¥½åå°±æ¯å¨åéç«¯ååæ¶è®°ä¸t0 ï¼ç¶åæ¥æ¶ç«¯åæè¿ä¸ªack åæ¥æ¶åè®°ä¸ä¸ªt1ï¼äºæ¯rtt = t1 â t0ãæ²¡é£ä¹ç®åï¼è¿åªæ¯ä¸ä¸ªéæ ·ï¼ä¸è½ä»£è¡¨æ®éæåµã\n\nå®éä¸ãæ¥æå¾è¿ rtt çå¼ãæ¯ç»å¸¸ååçï¼å ä¸ºæä»¬çç½ç»ä¹æ¯æ¶å¸¸ååçãä¹å°±å ä¸ºãæ¥æå¾è¿ rtt çå¼ã æ¯ç»å¸¸æ³¢å¨ååçï¼æä»¥ãè¶æ¶éä¼ æ¶é´ rto çå¼ãåºè¯¥æ¯ä¸ä¸ªå¨æååçå¼ã\n\nä¼°è®¡å¾è¿æ¶é´ï¼éå¸¸éè¦éæ ·ä»¥ä¸ä¸¤ä¸ªï¼\n\n * éè¦ tcp éè¿éæ · rtt çæ¶é´ï¼ç¶åè¿è¡å æå¹³åï¼ç®åºä¸ä¸ªå¹³æ» rtt çå¼ï¼èä¸è¿ä¸ªå¼è¿æ¯è¦ä¸æ­ååçï¼å ä¸ºç½ç»ç¶åµä¸æ­å°ååã\n * é¤äºéæ · rttï¼è¿è¦éæ · rtt çæ³¢å¨èå´ï¼è¿æ ·å°±é¿åå¦æ rtt æä¸ä¸ªå¤§çæ³¢å¨çè¯ï¼å¾é¾è¢«åç°çæåµã rfc6289 å»ºè®®ä½¿ç¨ä»¥ä¸çå¬å¼è®¡ç® rtoï¼\n\n\n\nå¶ä¸­ srtt æ¯è®¡ç®å¹³æ»çrtt ï¼devrtr æ¯è®¡ç®å¹³æ»çrtt ä¸ ææ° rtt çå·®è·ã\n\nå¨ linux ä¸ï¼Î± = 0.125ï¼Î² = 0.25ï¼ Î¼ = 1ï¼â = 4ãå«é®æä¹æ¥çï¼é®å°±æ¯å¤§éå®éªä¸­è°åºæ¥çã\n\nå¦æè¶æ¶éåçæ°æ®ï¼åæ¬¡è¶æ¶çæ¶åï¼åéè¦éä¼ çæ¶åï¼tcp çç­ç¥æ¯è¶æ¶æ¶é´éå åã\n\nä¹å°±æ¯æ¯å½éå°ä¸æ¬¡è¶æ¶éä¼ çæ¶åï¼é½ä¼å°ä¸ä¸æ¬¡è¶æ¶æ¶é´é´éè®¾ä¸ºååå¼çä¸¤åãä¸¤æ¬¡è¶æ¶ï¼å°±è¯´æç½ç»ç¯å¢å·®ï¼ä¸å®é¢ç¹åå¤åéã\n\nè¶æ¶è§¦åéä¼ å­å¨çé®é¢æ¯ï¼è¶æ¶å¨æå¯è½ç¸å¯¹è¾é¿ãé£æ¯ä¸æ¯å¯ä»¥ææ´å¿«çæ¹å¼å¢ï¼\n\näºæ¯å°±å¯ä»¥ç¨ãå¿«ééä¼ ãæºå¶æ¥è§£å³è¶æ¶éåçæ¶é´ç­å¾ã\n\n\n# å¿«ééä¼ \n\ntcp è¿æå¦å¤ä¸ç§å¿«ééä¼ ï¼fast retransmitï¼æºå¶ï¼å®ä¸ä»¥æ¶é´ä¸ºé©±å¨ï¼èæ¯ä»¥æ°æ®é©±å¨éä¼ ã\n\n\n\nå¨ä¸å¾ï¼åéæ¹ååºäº 1ï¼2ï¼3ï¼4ï¼5 ä»½æ°æ®ï¼\n\n * ç¬¬ä¸ä»½ seq1 åéå°äºï¼äºæ¯å°± ack å 2ï¼\n * ç»æ seq2 å ä¸ºæäºåå æ²¡æ¶å°ï¼seq3 å°è¾¾äºï¼äºæ¯è¿æ¯ ack å 2ï¼\n * åé¢ç seq4 å seq5 é½å°äºï¼ä½è¿æ¯ ack å 2ï¼å ä¸º seq2 è¿æ¯æ²¡ææ¶å°ï¼\n * åéç«¯æ¶å°äºä¸ä¸ª ack = 2 çç¡®è®¤ï¼ç¥éäº seq2 è¿æ²¡ææ¶å°ï¼å°±ä¼å¨å®æ¶å¨è¿æä¹åï¼éä¼ ä¸¢å¤±ç seq2ã\n * æåï¼æ¶å°äº seq2ï¼æ­¤æ¶å ä¸º seq3ï¼seq4ï¼seq5 é½æ¶å°äºï¼äºæ¯ ack å 6 ã\n\næä»¥ï¼å¿«ééä¼ çå·¥ä½æ¹å¼æ¯å½æ¶å°ä¸ä¸ªç¸åç ack æ¥ææ¶ï¼ä¼å¨å®æ¶å¨è¿æä¹åï¼éä¼ ä¸¢å¤±çæ¥ææ®µã\n\nå¿«ééä¼ æºå¶åªè§£å³äºä¸ä¸ªé®é¢ï¼å°±æ¯è¶æ¶æ¶é´çé®é¢ï¼ä½æ¯å®ä¾ç¶é¢ä¸´çå¦å¤ä¸ä¸ªé®é¢ãå°±æ¯éä¼ çæ¶åï¼æ¯éä¼ ä¹åçä¸ä¸ªï¼è¿æ¯éä¼ ææçé®é¢ã\n\næ¯å¦å¯¹äºä¸é¢çä¾å­ï¼æ¯éä¼  seq2 å¢ï¼è¿æ¯éä¼  seq2ãseq3ãseq4ãseq5 å¢ï¼å ä¸ºåéç«¯å¹¶ä¸æ¸æ¥è¿è¿ç»­çä¸ä¸ª ack 2 æ¯è°ä¼ åæ¥çã\n\nä¸ºäºè§£å³ä¸ç¥éè¯¥éä¼ åªäº tcp æ¥æï¼äºæ¯å°±æ sack æ¹æ³ã\n\n\n# sack æ¹æ³\n\nè¿æä¸ç§å®ç°éä¼ æºå¶çæ¹å¼å«ï¼sackï¼ selective acknowledgment éæ©æ§ç¡®è®¤ï¼ã\n\nè¿ç§æ¹å¼éè¦å¨ tcp å¤´é¨ãéé¡¹ãå­æ®µéå ä¸ä¸ª sackçä¸è¥¿ï¼å®å¯ä»¥å°ç¼å­çæ°æ®åéç»åéæ¹ï¼è¿æ ·åéæ¹å°±å¯ä»¥ç¥éåªäºæ°æ®æ¶å°äºï¼åªäºæ°æ®æ²¡æ¶å°ï¼ç¥éäºè¿äºä¿¡æ¯ï¼å°±å¯ä»¥åªéä¼ ä¸¢å¤±çæ°æ®ã\n\nå¦ä¸å¾ï¼åéæ¹æ¶å°äºä¸æ¬¡åæ ·ç ack ç¡®è®¤æ¥æï¼äºæ¯å°±ä¼è§¦åå¿«ééåæºå¶ï¼éè¿ sack ä¿¡æ¯åç°åªæ 200~299 è¿æ®µæ°æ®ä¸¢å¤±ï¼åéåæ¶ï¼å°±åªéæ©äºè¿ä¸ª tcp æ®µè¿è¡éå¤ã\n\n\n\n\n# duplicate sack\n\nduplicate sack åç§° d-sackï¼å¶ä¸»è¦ä½¿ç¨äº sack æ¥åè¯ãåéæ¹ãæåªäºæ°æ®è¢«éå¤æ¥æ¶äºã\n\nä¸é¢ä¸¾ä¾ä¸¤ä¸ªæ å­ï¼æ¥è¯´æ d-sack çä½ç¨ã\n\næ å­ä¸å·ï¼ack ä¸¢å:\n\n\n\nãæ¥æ¶æ¹ãåç»ãåéæ¹ãçä¸¤ä¸ª ack ç¡®è®¤åºç­é½ä¸¢å¤±äºï¼æä»¥åéæ¹è¶æ¶åï¼éä¼ ç¬¬ä¸ä¸ªæ°æ®åï¼3000 ~ 3499ï¼ äºæ¯ãæ¥æ¶æ¹ãåç°æ°æ®æ¯éå¤æ¶å°çï¼äºæ¯åäºä¸ä¸ª sack = 3000~3500ï¼åè¯ãåéæ¹ã 3000~3500 çæ°æ®æ©å·²è¢«æ¥æ¶äºï¼å ä¸º ack é½å°äº 4000 äºï¼å·²ç»æå³ç 4000 ä¹åçæææ°æ®é½å·²æ¶å°ï¼æä»¥è¿ä¸ª sack å°±ä»£è¡¨ç d-sackã è¿æ ·ãåéæ¹ãå°±ç¥éäºï¼æ°æ®æ²¡æä¸¢ï¼æ¯ãæ¥æ¶æ¹ãç ack ç¡®è®¤æ¥æä¸¢äºã æ å­äºå·ï¼ç½ç»å»¶æ¶:\n\n\n\n * æ°æ®åï¼1000~1499ï¼ è¢«ç½ç»å»¶è¿äºï¼å¯¼è´ãåéæ¹ãæ²¡ææ¶å° ack 1500 çç¡®è®¤æ¥æã\n * èåé¢æ¥æå°è¾¾çä¸ä¸ªç¸åç ack ç¡®è®¤æ¥æï¼å°±è§¦åäºå¿«ééä¼ æºå¶ï¼ä½æ¯å¨éä¼ åï¼è¢«å»¶è¿çæ°æ®åï¼1000~1499ï¼åå°äºãæ¥æ¶æ¹ãï¼\n * æä»¥ãæ¥æ¶æ¹ãåäºä¸ä¸ª sack=1000~1500ï¼å ä¸º ack å·²ç»å°äº 3000ï¼æä»¥è¿ä¸ª sack æ¯ d-sackï¼è¡¨ç¤ºæ¶å°äºéå¤çåã\n * è¿æ ·åéæ¹å°±ç¥éå¿«ééä¼ è§¦åçåå ä¸æ¯ååºå»çåä¸¢äºï¼ä¹ä¸æ¯å ä¸ºååºç ack åä¸¢äºï¼èæ¯å ä¸ºç½ç»å»¶è¿äºã\n\nå¯è§ï¼d-sack æè¿ä¹å ä¸ªå¥½å¤ï¼\n\n 1. å¯ä»¥è®©ãåéæ¹ãç¥éï¼æ¯ååºå»çåä¸¢äºï¼è¿æ¯æ¥æ¶æ¹ååºç ack åä¸¢äº;\n 2. å¯ä»¥ç¥éæ¯ä¸æ¯ãåéæ¹ãçæ°æ®åè¢«ç½ç»å»¶è¿äº;\n 3. å¯ä»¥ç¥éç½ç»ä¸­æ¯ä¸æ¯æãåéæ¹ãçæ°æ®åç»å¤å¶äº;\n\n\n# åè\n\ntcpæ»å¨çªå£åéä¼ æºå¶",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ä¸ºä»ä¹éè¦åºååï¼æä»ä¹åºååçæ¹å¼ï¼",frontmatter:{title:"ä¸ºä»ä¹éè¦åºååï¼æä»ä¹åºååçæ¹å¼ï¼",date:"2022-09-21T22:38:38.000Z",permalink:"/pages/68d6c8/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/190.%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/190.ä¸ºä»ä¹éè¦åºååï¼æä»ä¹åºååçæ¹å¼ï¼.md",key:"v-0e7ed85a",path:"/pages/68d6c8/",headers:[{level:2,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:2},{level:2,title:"2.ä¸ºä»ä¹è¦åºååï¼å®ç°åºååçä½ç¨æ¯ä»ä¹ï¼",slug:"_2-ä¸ºä»ä¹è¦åºåå-å®ç°åºååçä½ç¨æ¯ä»ä¹",normalizedTitle:"2.ä¸ºä»ä¹è¦åºååï¼å®ç°åºååçä½ç¨æ¯ä»ä¹ï¼",charIndex:68},{level:2,title:"3.ä»ä¹æåµä¸éè¦åºååï¼",slug:"_3-ä»ä¹æåµä¸éè¦åºåå",normalizedTitle:"3.ä»ä¹æåµä¸éè¦åºååï¼",charIndex:467},{level:2,title:"4.åºååçæ¹å¼",slug:"_4-åºååçæ¹å¼",normalizedTitle:"4.åºååçæ¹å¼",charIndex:599},{level:2,title:"5.åºååææ¯éåçå ä¸ªå³é®ç¹",slug:"_5-åºååææ¯éåçå ä¸ªå³é®ç¹",normalizedTitle:"5.åºååææ¯éåçå ä¸ªå³é®ç¹",charIndex:735}],headersStr:"å®ä¹ 2.ä¸ºä»ä¹è¦åºååï¼å®ç°åºååçä½ç¨æ¯ä»ä¹ï¼ 3.ä»ä¹æåµä¸éè¦åºååï¼ 4.åºååçæ¹å¼ 5.åºååææ¯éåçå ä¸ªå³é®ç¹",content:"# å®ä¹\n\n1ï¼åºååï¼æå¯¹è±¡è½¬åä¸ºå¯ä¼ è¾çå­èåºåè¿ç¨ç§°ä¸ºåºååã\n\n2ï¼ååºååï¼æå­èåºåè¿åä¸ºå¯¹è±¡çè¿ç¨ç§°ä¸ºååºååã\n\n\n# 2.ä¸ºä»ä¹è¦åºååï¼å®ç°åºååçä½ç¨æ¯ä»ä¹ï¼\n\nå¦æåçå®ä¹ææ³ä½ å¾é¾ä¸ä¸å­çè§£åºååçæä¹ï¼é£ä¹æä»¬å¯ä»¥ä»å¦ä¸ä¸ªè§åº¦æ¥æ¨å¯¼åºä»ä¹æ¯åºåå, é£ä¹ç©¶ç«åºååçç®çæ¯ä»ä¹ï¼\n\nå¶å®åºååæç»çç®çæ¯ä¸ºäºå¯¹è±¡å¯ä»¥è·¨å¹³å°å­å¨ï¼åè¿è¡ç½ç»ä¼ è¾ãèæä»¬è¿è¡è·¨å¹³å°å­å¨åç½ç»ä¼ è¾çæ¹å¼å°±æ¯IOï¼èæä»¬çIOæ¯æçæ°æ®æ ¼å¼å°±æ¯å­èæ°ç»ã\n\nå ä¸ºæä»¬åæ¹é¢çåªæå¯¹è±¡è½¬æå­èæ°ç»è¿ä¸è¡ï¼å ä¸ºæ²¡æè§åçå­èæ°ç»æä»¬æ¯æ²¡åæ³æå¯¹è±¡çæ¬æ¥é¢ç®è¿ååæ¥çï¼æä»¥æä»¬å¿é¡»å¨æå¯¹è±¡è½¬æå­èæ°ç»çæ¶åå°±å¶å®ä¸ç§è§åï¼åºååï¼ï¼é£ä¹æä»¬ä»IOæµéé¢è¯»åºæ°æ®çæ¶ååä»¥è¿ç§è§åæå¯¹è±¡è¿ååæ¥ï¼ååºååï¼ã\n\nå¦ææä»¬è¦æä¸æ æ¿å­ä»ä¸ä¸ªå°æ¹è¿è¾å°å¦ä¸ä¸ªå°æ¹å»ï¼åºååå°±æ¯æææ¿å­ææä¸ä¸ªä¸ªçç åæ¾å°è½¦å­éï¼ç¶åçä¸ä¸å¼ æ¿å­åæ¥ç»æçå¾çº¸ï¼ååºååå°±æ¯æä»¬ææ¿å­è¿è¾å°äºç®çå°ä»¥åï¼æ ¹æ®å¾çº¸æä¸ååç å¤´è¿åææ¿å­åæ¥é¢ç®çè¿ç¨\n\n\n# 3.ä»ä¹æåµä¸éè¦åºååï¼\n\néè¿ä¸é¢ææ³ä½ å·²ç»ç¥éäºå¡æ¯éè¦è¿è¡âè·¨å¹³å°å­å¨âåâç½ç»ä¼ è¾âçæ°æ®ï¼é½éè¦è¿è¡åºååã\n\næ¬è´¨ä¸å­å¨åç½ç»ä¼ è¾ é½éè¦ç»è¿ æä¸ä¸ªå¯¹è±¡ç¶æä¿å­æä¸ç§è·¨å¹³å°è¯å«çå­èæ ¼å¼ï¼ç¶åå¶ä»çå¹³å°æå¯ä»¥éè¿å­èä¿¡æ¯è§£æè¿åå¯¹è±¡ä¿¡æ¯ã\n\n\n# 4.åºååçæ¹å¼\n\nåºåååªæ¯ä¸ç§æè£ç»è£å¯¹è±¡çè§åï¼é£ä¹è¿ç§è§åè¯å®ä¹å¯è½æå¤ç§å¤æ ·ï¼æ¯å¦ç°å¨å¸¸è§çåºååæ¹å¼æï¼\n\nJDKï¼ä¸æ¯æè·¨è¯­è¨ï¼ãJSONãXMLãHessianãKryoï¼ä¸æ¯æè·¨è¯­è¨ï¼ãThriftãProtostuffãFSTï¼ä¸æ¯æè·¨è¯­è¨ï¼\n\n\n# 5.åºååææ¯éåçå ä¸ªå³é®ç¹\n\nåºåååè®®åæåç§ï¼ä¸è½ç®åçè¯´ä¸ç§åºåååè®®æ¯æå¥½çï¼åªè½ä»ä½ çå½æ¶ç¯å¢ä¸å»éæ©æéåä½ ä»¬çåºåååè®®ï¼å¦æä½ è¦ä¸ºä½ çå¬å¸é¡¹ç®è¿è¡åºååææ¯çéåï¼é£ä¹ä¸»è¦ä»ä»¥ä¸å ä¸ªå ç´ ã\n\nåè®®æ¯å¦æ¯æè·¨å¹³å°\n\nå¦æä½ ä»¬å¬å¸æå¥½å¤ç§è¯­è¨è¿è¡æ··åå¼åï¼é£ä¹å°±è¯å®ä¸éåç¨æè¯­è¨å±éæ§çåºåååè®®ï¼è¦ä¸ç¶ä½ JDKåºåååºæ¥çæ ¼å¼ï¼å¶ä»è¯­è¨å¹¶æ²¡æ³æ¯æã\n\nåºååçéåº¦\n\nå¦æåºååçé¢çéå¸¸é«ï¼é£ä¹éæ©åºååéåº¦å¿«çåè®®ä¼ä¸ºä½ çç³»ç»æ§è½æåä¸å°ã\n\nåºåååºæ¥çå¤§å°\n\nå¦æé¢ç¹çå¨ç½ç»ä¸­ä¼ è¾çæ°æ®é£å°±éè¦æ°æ®è¶å°è¶å¥½ï¼å°çæ°æ®ä¼ è¾å¿«ï¼ä¹ä¸å å¸¦å®½ï¼ä¹è½æ´ä½æåç³»ç»çæ§è½ã",normalizedContent:"# å®ä¹\n\n1ï¼åºååï¼æå¯¹è±¡è½¬åä¸ºå¯ä¼ è¾çå­èåºåè¿ç¨ç§°ä¸ºåºååã\n\n2ï¼ååºååï¼æå­èåºåè¿åä¸ºå¯¹è±¡çè¿ç¨ç§°ä¸ºååºååã\n\n\n# 2.ä¸ºä»ä¹è¦åºååï¼å®ç°åºååçä½ç¨æ¯ä»ä¹ï¼\n\nå¦æåçå®ä¹ææ³ä½ å¾é¾ä¸ä¸å­çè§£åºååçæä¹ï¼é£ä¹æä»¬å¯ä»¥ä»å¦ä¸ä¸ªè§åº¦æ¥æ¨å¯¼åºä»ä¹æ¯åºåå, é£ä¹ç©¶ç«åºååçç®çæ¯ä»ä¹ï¼\n\nå¶å®åºååæç»çç®çæ¯ä¸ºäºå¯¹è±¡å¯ä»¥è·¨å¹³å°å­å¨ï¼åè¿è¡ç½ç»ä¼ è¾ãèæä»¬è¿è¡è·¨å¹³å°å­å¨åç½ç»ä¼ è¾çæ¹å¼å°±æ¯ioï¼èæä»¬çioæ¯æçæ°æ®æ ¼å¼å°±æ¯å­èæ°ç»ã\n\nå ä¸ºæä»¬åæ¹é¢çåªæå¯¹è±¡è½¬æå­èæ°ç»è¿ä¸è¡ï¼å ä¸ºæ²¡æè§åçå­èæ°ç»æä»¬æ¯æ²¡åæ³æå¯¹è±¡çæ¬æ¥é¢ç®è¿ååæ¥çï¼æä»¥æä»¬å¿é¡»å¨æå¯¹è±¡è½¬æå­èæ°ç»çæ¶åå°±å¶å®ä¸ç§è§åï¼åºååï¼ï¼é£ä¹æä»¬ä»ioæµéé¢è¯»åºæ°æ®çæ¶ååä»¥è¿ç§è§åæå¯¹è±¡è¿ååæ¥ï¼ååºååï¼ã\n\nå¦ææä»¬è¦æä¸æ æ¿å­ä»ä¸ä¸ªå°æ¹è¿è¾å°å¦ä¸ä¸ªå°æ¹å»ï¼åºååå°±æ¯æææ¿å­ææä¸ä¸ªä¸ªçç åæ¾å°è½¦å­éï¼ç¶åçä¸ä¸å¼ æ¿å­åæ¥ç»æçå¾çº¸ï¼ååºååå°±æ¯æä»¬ææ¿å­è¿è¾å°äºç®çå°ä»¥åï¼æ ¹æ®å¾çº¸æä¸ååç å¤´è¿åææ¿å­åæ¥é¢ç®çè¿ç¨\n\n\n# 3.ä»ä¹æåµä¸éè¦åºååï¼\n\néè¿ä¸é¢ææ³ä½ å·²ç»ç¥éäºå¡æ¯éè¦è¿è¡âè·¨å¹³å°å­å¨âåâç½ç»ä¼ è¾âçæ°æ®ï¼é½éè¦è¿è¡åºååã\n\næ¬è´¨ä¸å­å¨åç½ç»ä¼ è¾ é½éè¦ç»è¿ æä¸ä¸ªå¯¹è±¡ç¶æä¿å­æä¸ç§è·¨å¹³å°è¯å«çå­èæ ¼å¼ï¼ç¶åå¶ä»çå¹³å°æå¯ä»¥éè¿å­èä¿¡æ¯è§£æè¿åå¯¹è±¡ä¿¡æ¯ã\n\n\n# 4.åºååçæ¹å¼\n\nåºåååªæ¯ä¸ç§æè£ç»è£å¯¹è±¡çè§åï¼é£ä¹è¿ç§è§åè¯å®ä¹å¯è½æå¤ç§å¤æ ·ï¼æ¯å¦ç°å¨å¸¸è§çåºååæ¹å¼æï¼\n\njdkï¼ä¸æ¯æè·¨è¯­è¨ï¼ãjsonãxmlãhessianãkryoï¼ä¸æ¯æè·¨è¯­è¨ï¼ãthriftãprotostuffãfstï¼ä¸æ¯æè·¨è¯­è¨ï¼\n\n\n# 5.åºååææ¯éåçå ä¸ªå³é®ç¹\n\nåºåååè®®åæåç§ï¼ä¸è½ç®åçè¯´ä¸ç§åºåååè®®æ¯æå¥½çï¼åªè½ä»ä½ çå½æ¶ç¯å¢ä¸å»éæ©æéåä½ ä»¬çåºåååè®®ï¼å¦æä½ è¦ä¸ºä½ çå¬å¸é¡¹ç®è¿è¡åºååææ¯çéåï¼é£ä¹ä¸»è¦ä»ä»¥ä¸å ä¸ªå ç´ ã\n\nåè®®æ¯å¦æ¯æè·¨å¹³å°\n\nå¦æä½ ä»¬å¬å¸æå¥½å¤ç§è¯­è¨è¿è¡æ··åå¼åï¼é£ä¹å°±è¯å®ä¸éåç¨æè¯­è¨å±éæ§çåºåååè®®ï¼è¦ä¸ç¶ä½ jdkåºåååºæ¥çæ ¼å¼ï¼å¶ä»è¯­è¨å¹¶æ²¡æ³æ¯æã\n\nåºååçéåº¦\n\nå¦æåºååçé¢çéå¸¸é«ï¼é£ä¹éæ©åºååéåº¦å¿«çåè®®ä¼ä¸ºä½ çç³»ç»æ§è½æåä¸å°ã\n\nåºåååºæ¥çå¤§å°\n\nå¦æé¢ç¹çå¨ç½ç»ä¸­ä¼ è¾çæ°æ®é£å°±éè¦æ°æ®è¶å°è¶å¥½ï¼å°çæ°æ®ä¼ è¾å¿«ï¼ä¹ä¸å å¸¦å®½ï¼ä¹è½æ´ä½æåç³»ç»çæ§è½ã",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"TCP ä¸­ SYN æ»å»æ¯ä»ä¹ï¼å¦ä½é²æ­¢ï¼",frontmatter:{title:"TCP ä¸­ SYN æ»å»æ¯ä»ä¹ï¼å¦ä½é²æ­¢ï¼",date:"2022-09-21T22:39:09.000Z",permalink:"/pages/d0c6d3/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/210.TCP%20%E4%B8%AD%20SYN%20%E6%94%BB%E5%87%BB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E9%98%B2%E6%AD%A2%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/210.TCP ä¸­ SYN æ»å»æ¯ä»ä¹ï¼å¦ä½é²æ­¢ï¼.md",key:"v-15fe5424",path:"/pages/d0c6d3/",headers:[{level:2,title:"SYN Floodingç®ä»",slug:"syn-floodingç®ä»",normalizedTitle:"syn floodingç®ä»",charIndex:2},{level:2,title:"TCP SYN Floodæ»å»åç",slug:"tcp-syn-floodæ»å»åç",normalizedTitle:"tcp syn floodæ»å»åç",charIndex:361},{level:2,title:"å¦ä½æ£æµSYNæ»å»",slug:"å¦ä½æ£æµsynæ»å»",normalizedTitle:"å¦ä½æ£æµsynæ»å»",charIndex:1553},{level:2,title:"å¸¸è§çé²å¾¡SYNæ»å»æ¹æ³",slug:"å¸¸è§çé²å¾¡synæ»å»æ¹æ³",normalizedTitle:"å¸¸è§çé²å¾¡synæ»å»æ¹æ³",charIndex:1651},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:1756}],headersStr:"SYN Floodingç®ä» TCP SYN Floodæ»å»åç å¦ä½æ£æµSYNæ»å» å¸¸è§çé²å¾¡SYNæ»å»æ¹æ³ åè",content:"# SYN Floodingç®ä»\n\næç»æå¡æ»å»ï¼DDoSï¼ä»1970 å¹´åºç°ç´å°ä»å¤©é½ä¾ç¶å¨ä½ç¥\n\nå¹¶ç»å¨çèå´åçåå¤§ç»ç»å¸¦æ¥äºä¸å¯ä¼°éçæå¤±ã\n\nSYN Floodæ¯äºèç½ä¸æç»å¸çDDoSæ»å»æ¹å¼ä¹ä¸ï¼\n\nææ©åºç°äº 1999 å¹´å·¦å³ï¼éèæ¯å½æ¶æèåçåå®³èã\n\nSYN Floodæ»å»å©ç¨äº TCP ä¸æ¬¡æ¡æçç¼ºé·ï¼è½å¤ä»¥è¾å°ä»£ä»·ä½¿ç®æ æå¡å¨æ æ³ååºï¼ä¸é¾ä»¥è¿½æ¥ã\n\nSYN flood æ¯ä¸ç§å¸¸è§ç DOSï¼denial of serviceæç»æå¡ï¼å DDos(distributed denial of serivce åå¸å¼æç»æå¡ï¼æ»å»æ¹å¼ã\n\nè¿æ¯ä¸ç§ä½¿ç¨TCPåè®®ç¼ºé·ï¼åéå¤§éçä¼ªé ç TCP è¿æ¥è¯·æ±ï¼\n\nä½¿å¾è¢«æ»å»æ¹ CPU æåå­èµæºèå°½ï¼æç»å¯¼è´è¢«æ»å»æ¹æ æ³æä¾æ­£å¸¸çæå¡ã\n\n\n# TCP SYN Floodæ»å»åç\n\nTCP SYN Flood æ»å»å©ç¨çæ¯ TCP çä¸æ¬¡æ¡æï¼SYN -> SYN/ACK -> ACKï¼ï¼\n\nåè®¾è¿æ¥åèµ·æ¹æ¯Aï¼è¿æ¥æ¥åæ¹æ¯ Bï¼å³ B å¨æä¸ªç«¯å£ï¼Portï¼ä¸çå¬Aååºçè¿æ¥è¯·æ±ï¼\n\nè¿ç¨å¦ä¸å¾æç¤ºï¼å·¦è¾¹æ¯Aï¼å³è¾¹æ¯Bã\n\n\n\nA é¦ååé SYNï¼Synchronizationï¼æ¶æ¯ç» Bï¼è¦æ± B åå¥½æ¥æ¶æ°æ®çåå¤ï¼\n\nB æ¶å°ååé¦ SYN-ACKï¼Synchronization-Acknowledgementï¼ æ¶æ¯ç»Aï¼è¿ä¸ªæ¶æ¯çç®çæä¸¤ä¸ªï¼\n\n * å A ç¡®è®¤å·²åå¥½æ¥æ¶æ°æ®çåå¤\n\n * åæ¶è¦æ± A ä¹åå¥½æ¥æ¶æ°æ®çåå¤ï¼æ­¤æ¶ B å·²å A ç¡®è®¤å¥½æ¥æ¶ç¶æï¼å¹¶ç­å¾ A çç¡®è®¤ï¼è¿æ¥å¤äºåå¼ç¶æï¼Half-Openï¼ï¼é¡¾åæä¹åªå¼äºä¸åï¼A æ¶å°ååæ¬¡åéACK (Acknowledgement) æ¶æ¯ç»Bï¼å B ç¡®è®¤ä¹åå¥½äºæ¥æ¶æ°æ®çåå¤ï¼è³æ­¤ä¸æ¬¡æ¡æå®æï¼ãè¿æ¥ãå°±å»ºç«äºï¼\n\nå¤§å®¶æ³¨æå°æ²¡æï¼æå³é®çä¸ç¹å¨äºåæ¹æ¯å¦é½æå¯¹æ¹çè¦æ±è¿å¥äºå¯ä»¥æ¥æ¶æ¶æ¯çç¶æãèè¿ä¸ªç¶æçç¡®è®¤ä¸»è¦æ¯åæ¹å°è¦ä½¿ç¨çæ¶æ¯åºå·(SquenceNum)ï¼TCP ä¸ºä¿è¯æ¶æ¯æåéé¡ºåºæµè¾¾æ¥æ¶æ¹çä¸å±åºç¨ï¼éè¦ç¨æ¶æ¯åºå·æ¥æ è®°æ¶æ¯çåéååé¡ºåºçã\n\nTCPæ¯ãåå·¥ã(Duplex)è¿æ¥ï¼åæ¶æ¯æååéä¿¡ï¼ä¹å°±æ¯åæ¹åæ¶å¯åå¯¹æ¹åéæ¶æ¯ï¼å¶ä¸­ SYN å SYN-ACK æ¶æ¯å¼å¯äºAâBçååéä¿¡ééï¼B è·ç¥äº A çæ¶æ¯åºå·ï¼ï¼SYN-ACK å ACK æ¶æ¯å¼å¯äºBâAååéä¿¡ééï¼Aè·ç¥äºBçæ¶æ¯åºå·ï¼ã\n\nä¸é¢è®¨è®ºçæ¯åæ¹å¨è¯å®å®ä¿¡ï¼æ­£å¸¸æåµä¸çéä¿¡ã\n\nä½å®éæåµæ¯ï¼ç½ç»å¯è½ä¸ç¨³å®ä¼ä¸¢åï¼ä½¿æ¡ææ¶æ¯ä¸è½æµè¾¾å¯¹æ¹ï¼ä¹å¯è½æ¯å¯¹æ¹ææä¸æè§ç©æ¥ï¼ææå»¶è¿æä¸åéæ¡æç¡®è®¤æ¶æ¯ã\n\nåè®¾ B éè¿æ TCP ç«¯å£æä¾æå¡ï¼B å¨æ¶å° A ç SYN æ¶æ¯æ¶ï¼ç§¯æçåé¦äºSYN-ACK æ¶æ¯ï¼\n\nä½¿è¿æ¥è¿å¥åå¼ç¶æï¼å ä¸º B ä¸ç¡®å®èªå·±åç» A ç SYN-ACK æ¶æ¯æ A åé¦ç ACK æ¶æ¯æ¯å¦ä¼ä¸¢å¨åè·¯ï¼\n\næä»¥ä¼ç»æ¯ä¸ªå¾å®æçåå¼è¿æ¥é½è®¾ä¸ä¸ªTimerï¼å¦æè¶è¿æ¶é´è¿æ²¡ææ¶å° A ç ACK æ¶æ¯ï¼\n\nåéæ°åéä¸æ¬¡ SYN-ACK æ¶æ¯ç»Aï¼ç´å°éè¯è¶è¿ä¸å®æ¬¡æ°æ¶æä¼æ¾å¼ã\n\n\n\nB ä¸ºå¸®å© A è½é¡ºå©è¿æ¥ï¼éè¦åéåæ ¸èµæºç»´æ¤åå¼è¿æ¥ï¼é£ä¹å½ B é¢ä¸´æµ·éçè¿æ¥ A æ¶ï¼å¦ä¸å¾æç¤ºï¼SYN Flood æ»å»å°±å½¢æäºãæ»å»æ¹ A å¯ä»¥æ§å¶èé¸¡å B åéå¤§é SYN æ¶æ¯ä½ä¸ååº ACK æ¶æ¯ï¼æèå¹²èä¼ªé  SYN æ¶æ¯ä¸­ç Source IPï¼ä½¿ B åé¦ç SYN-ACK æ¶æ¯ç³æ²å¤§æµ·ï¼å¯¼è´ B è¢«å¤§éæ³¨å®ä¸è½å®æçåå¼è¿æ¥å æ®ï¼ç´å°èµæºèå°½ï¼åæ­¢ååºæ­£å¸¸çè¿æ¥è¯·æ±ã\n\n\n# å¦ä½æ£æµSYNæ»å»\n\næ¥çæå¡å¨ä¸æ¯å¦è½çå°å¤§éçåè¿æ¥ç¶ææ¶ï¼ç¹å«æ¶æºIPå°åæ¶éæºçï¼åºæ¬å¯ä»¥æ­å®è¿æ¯ä¸æ¬¡SYNæ»å»\n\nnetstat -ntp|grep SYB_RECV\n\n\n1\n\n\n\n# å¸¸è§çé²å¾¡SYNæ»å»æ¹æ³\n\n * ç¼©ç­è¶æ¶ï¼SYN Timeout) æ¶é´\n * å¢å æå¤§åè¿æ¥æ°ï¼SYNéåï¼\n * è¿æ»¤ç½å³é²æ¤\n * SYN cookiesææ¯\n * åå°syn+ackéä¼ æ¬¡æ°\n\n\n# åè\n\nTCP/IPå¸¸è§æ»å»ææ®µ",normalizedContent:"# syn floodingç®ä»\n\næç»æå¡æ»å»ï¼ddosï¼ä»1970 å¹´åºç°ç´å°ä»å¤©é½ä¾ç¶å¨ä½ç¥\n\nå¹¶ç»å¨çèå´åçåå¤§ç»ç»å¸¦æ¥äºä¸å¯ä¼°éçæå¤±ã\n\nsyn floodæ¯äºèç½ä¸æç»å¸çddosæ»å»æ¹å¼ä¹ä¸ï¼\n\nææ©åºç°äº 1999 å¹´å·¦å³ï¼éèæ¯å½æ¶æèåçåå®³èã\n\nsyn floodæ»å»å©ç¨äº tcp ä¸æ¬¡æ¡æçç¼ºé·ï¼è½å¤ä»¥è¾å°ä»£ä»·ä½¿ç®æ æå¡å¨æ æ³ååºï¼ä¸é¾ä»¥è¿½æ¥ã\n\nsyn flood æ¯ä¸ç§å¸¸è§ç dosï¼denial of serviceæç»æå¡ï¼å ddos(distributed denial of serivce åå¸å¼æç»æå¡ï¼æ»å»æ¹å¼ã\n\nè¿æ¯ä¸ç§ä½¿ç¨tcpåè®®ç¼ºé·ï¼åéå¤§éçä¼ªé ç tcp è¿æ¥è¯·æ±ï¼\n\nä½¿å¾è¢«æ»å»æ¹ cpu æåå­èµæºèå°½ï¼æç»å¯¼è´è¢«æ»å»æ¹æ æ³æä¾æ­£å¸¸çæå¡ã\n\n\n# tcp syn floodæ»å»åç\n\ntcp syn flood æ»å»å©ç¨çæ¯ tcp çä¸æ¬¡æ¡æï¼syn -> syn/ack -> ackï¼ï¼\n\nåè®¾è¿æ¥åèµ·æ¹æ¯aï¼è¿æ¥æ¥åæ¹æ¯ bï¼å³ b å¨æä¸ªç«¯å£ï¼portï¼ä¸çå¬aååºçè¿æ¥è¯·æ±ï¼\n\nè¿ç¨å¦ä¸å¾æç¤ºï¼å·¦è¾¹æ¯aï¼å³è¾¹æ¯bã\n\n\n\na é¦ååé synï¼synchronizationï¼æ¶æ¯ç» bï¼è¦æ± b åå¥½æ¥æ¶æ°æ®çåå¤ï¼\n\nb æ¶å°ååé¦ syn-ackï¼synchronization-acknowledgementï¼ æ¶æ¯ç»aï¼è¿ä¸ªæ¶æ¯çç®çæä¸¤ä¸ªï¼\n\n * å a ç¡®è®¤å·²åå¥½æ¥æ¶æ°æ®çåå¤\n\n * åæ¶è¦æ± a ä¹åå¥½æ¥æ¶æ°æ®çåå¤ï¼æ­¤æ¶ b å·²å a ç¡®è®¤å¥½æ¥æ¶ç¶æï¼å¹¶ç­å¾ a çç¡®è®¤ï¼è¿æ¥å¤äºåå¼ç¶æï¼half-openï¼ï¼é¡¾åæä¹åªå¼äºä¸åï¼a æ¶å°ååæ¬¡åéack (acknowledgement) æ¶æ¯ç»bï¼å b ç¡®è®¤ä¹åå¥½äºæ¥æ¶æ°æ®çåå¤ï¼è³æ­¤ä¸æ¬¡æ¡æå®æï¼ãè¿æ¥ãå°±å»ºç«äºï¼\n\nå¤§å®¶æ³¨æå°æ²¡æï¼æå³é®çä¸ç¹å¨äºåæ¹æ¯å¦é½æå¯¹æ¹çè¦æ±è¿å¥äºå¯ä»¥æ¥æ¶æ¶æ¯çç¶æãèè¿ä¸ªç¶æçç¡®è®¤ä¸»è¦æ¯åæ¹å°è¦ä½¿ç¨çæ¶æ¯åºå·(squencenum)ï¼tcp ä¸ºä¿è¯æ¶æ¯æåéé¡ºåºæµè¾¾æ¥æ¶æ¹çä¸å±åºç¨ï¼éè¦ç¨æ¶æ¯åºå·æ¥æ è®°æ¶æ¯çåéååé¡ºåºçã\n\ntcpæ¯ãåå·¥ã(duplex)è¿æ¥ï¼åæ¶æ¯æååéä¿¡ï¼ä¹å°±æ¯åæ¹åæ¶å¯åå¯¹æ¹åéæ¶æ¯ï¼å¶ä¸­ syn å syn-ack æ¶æ¯å¼å¯äºaâbçååéä¿¡ééï¼b è·ç¥äº a çæ¶æ¯åºå·ï¼ï¼syn-ack å ack æ¶æ¯å¼å¯äºbâaååéä¿¡ééï¼aè·ç¥äºbçæ¶æ¯åºå·ï¼ã\n\nä¸é¢è®¨è®ºçæ¯åæ¹å¨è¯å®å®ä¿¡ï¼æ­£å¸¸æåµä¸çéä¿¡ã\n\nä½å®éæåµæ¯ï¼ç½ç»å¯è½ä¸ç¨³å®ä¼ä¸¢åï¼ä½¿æ¡ææ¶æ¯ä¸è½æµè¾¾å¯¹æ¹ï¼ä¹å¯è½æ¯å¯¹æ¹ææä¸æè§ç©æ¥ï¼ææå»¶è¿æä¸åéæ¡æç¡®è®¤æ¶æ¯ã\n\nåè®¾ b éè¿æ tcp ç«¯å£æä¾æå¡ï¼b å¨æ¶å° a ç syn æ¶æ¯æ¶ï¼ç§¯æçåé¦äºsyn-ack æ¶æ¯ï¼\n\nä½¿è¿æ¥è¿å¥åå¼ç¶æï¼å ä¸º b ä¸ç¡®å®èªå·±åç» a ç syn-ack æ¶æ¯æ a åé¦ç ack æ¶æ¯æ¯å¦ä¼ä¸¢å¨åè·¯ï¼\n\næä»¥ä¼ç»æ¯ä¸ªå¾å®æçåå¼è¿æ¥é½è®¾ä¸ä¸ªtimerï¼å¦æè¶è¿æ¶é´è¿æ²¡ææ¶å° a ç ack æ¶æ¯ï¼\n\nåéæ°åéä¸æ¬¡ syn-ack æ¶æ¯ç»aï¼ç´å°éè¯è¶è¿ä¸å®æ¬¡æ°æ¶æä¼æ¾å¼ã\n\n\n\nb ä¸ºå¸®å© a è½é¡ºå©è¿æ¥ï¼éè¦åéåæ ¸èµæºç»´æ¤åå¼è¿æ¥ï¼é£ä¹å½ b é¢ä¸´æµ·éçè¿æ¥ a æ¶ï¼å¦ä¸å¾æç¤ºï¼syn flood æ»å»å°±å½¢æäºãæ»å»æ¹ a å¯ä»¥æ§å¶èé¸¡å b åéå¤§é syn æ¶æ¯ä½ä¸ååº ack æ¶æ¯ï¼æèå¹²èä¼ªé  syn æ¶æ¯ä¸­ç source ipï¼ä½¿ b åé¦ç syn-ack æ¶æ¯ç³æ²å¤§æµ·ï¼å¯¼è´ b è¢«å¤§éæ³¨å®ä¸è½å®æçåå¼è¿æ¥å æ®ï¼ç´å°èµæºèå°½ï¼åæ­¢ååºæ­£å¸¸çè¿æ¥è¯·æ±ã\n\n\n# å¦ä½æ£æµsynæ»å»\n\næ¥çæå¡å¨ä¸æ¯å¦è½çå°å¤§éçåè¿æ¥ç¶ææ¶ï¼ç¹å«æ¶æºipå°åæ¶éæºçï¼åºæ¬å¯ä»¥æ­å®è¿æ¯ä¸æ¬¡synæ»å»\n\nnetstat -ntp|grep syb_recv\n\n\n1\n\n\n\n# å¸¸è§çé²å¾¡synæ»å»æ¹æ³\n\n * ç¼©ç­è¶æ¶ï¼syn timeout) æ¶é´\n * å¢å æå¤§åè¿æ¥æ°ï¼synéåï¼\n * è¿æ»¤ç½å³é²æ¤\n * syn cookiesææ¯\n * åå°syn+ackéä¼ æ¬¡æ°\n\n\n# åè\n\ntcp/ipå¸¸è§æ»å»ææ®µ",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ä»ä¹æ¯ ARP åè®®ï¼ç®è¿°å¶ä½¿ç¨åºæ¯",frontmatter:{title:"ä»ä¹æ¯ ARP åè®®ï¼ç®è¿°å¶ä½¿ç¨åºæ¯",date:"2022-09-21T22:53:54.000Z",permalink:"/pages/665162/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/230.%E4%BB%80%E4%B9%88%E6%98%AF%20ARP%20%E5%8D%8F%E8%AE%AE%EF%BC%9F%E7%AE%80%E8%BF%B0%E5%85%B6%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/230.ä»ä¹æ¯ ARP åè®®ï¼ç®è¿°å¶ä½¿ç¨åºæ¯.md",key:"v-01df2b5d",path:"/pages/665162/",headers:[{level:2,title:"ä»ä¹æ¯ Mac å°åï¼",slug:"ä»ä¹æ¯-mac-å°å",normalizedTitle:"ä»ä¹æ¯ mac å°åï¼",charIndex:2},{level:2,title:"ARP åè®®è§£å³äºä»ä¹é®é¢å°ä½å¦ä½ï¼",slug:"arp-åè®®è§£å³äºä»ä¹é®é¢å°ä½å¦ä½",normalizedTitle:"arp åè®®è§£å³äºä»ä¹é®é¢å°ä½å¦ä½ï¼",charIndex:832},{level:2,title:"ARP åè®®å·¥ä½åç",slug:"arp-åè®®å·¥ä½åç",normalizedTitle:"arp åè®®å·¥ä½åç",charIndex:1036},{level:3,title:"åä¸å±åç½åç MAC å¯»å",slug:"åä¸å±åç½åç-mac-å¯»å",normalizedTitle:"åä¸å±åç½åç mac å¯»å",charIndex:1237},{level:3,title:"ä¸åå±åç½åç MAC å¯»å",slug:"ä¸åå±åç½åç-mac-å¯»å",normalizedTitle:"ä¸åå±åç½åç mac å¯»å",charIndex:2663}],headersStr:"ä»ä¹æ¯ Mac å°åï¼ ARP åè®®è§£å³äºä»ä¹é®é¢å°ä½å¦ä½ï¼ ARP åè®®å·¥ä½åç åä¸å±åç½åç MAC å¯»å ä¸åå±åç½åç MAC å¯»å",content:"# ä»ä¹æ¯ Mac å°åï¼\n\nMAC å°åçå¨ç§°æ¯ åªä½è®¿é®æ§å¶å°åï¼Media Access Control Addressï¼ã\n\nå¦æè¯´ï¼äºèç½ä¸­æ¯ä¸ä¸ªèµæºé½ç± IP å°åå¯ä¸æ è¯ï¼IP åè®®åå®¹ï¼ï¼é£ä¹ä¸åç½ç»è®¾å¤é½ç± MAC å°åå¯ä¸æ è¯ã\n\n\n\nè·¯ç±å¨çèé¢å°±ä¼æ³¨æ MAC ä½å.\n\nå¯ä»¥çè§£ä¸ºï¼MAC å°åæ¯ä¸ä¸ªç½ç»è®¾å¤çæ­£çèº«ä»½è¯å·ï¼IP å°ååªæ¯ä¸ç§ä¸éå¤çå®ä½æ¹å¼ï¼æ¯å¦è¯´ä½å¨æçæå¸æè¡éçå¼ ä¸ï¼è¿ç§é»è¾å®ä½æ¯ IP å°åï¼ä»çèº«ä»½è¯å·ææ¯ä»ç MAC å°åï¼ï¼ä¹å¯ä»¥çè§£ä¸º MAC å°åæ¯èº«ä»½è¯å·ï¼IP å°åæ¯é®æ¿å°åãMAC å°åä¹æä¸äºå«ç§°ï¼å¦ LAN å°åãç©çå°åãä»¥å¤ªç½å°åç­ã\n\nè¿æä¸ç¹è¦ç¥éçæ¯ï¼ä¸ä»ä»æ¯ç½ç»èµæºææ IP å°åï¼ç½ç»è®¾å¤ä¹æ IP å°åï¼æ¯å¦è·¯ç±å¨ãä½ä»ç»æä¸è¯´ï¼è·¯ç±å¨ç­ç½ç»è®¾å¤çä½ç¨æ¯ç»æä¸ä¸ªç½ç»ï¼èä¸éå¸¸æ¯åç½ï¼æä»¥å®ä»¬ä½¿ç¨ç IP å°åéå¸¸æ¯åç½ IPï¼åç½çè®¾å¤å¨ä¸åç½ä»¥å¤çè®¾å¤è¿è¡éä¿¡æ¶ï¼éè¦ç¨å° NAT åè®®ã MAC å°åçé¿åº¦ä¸º 6 å­èï¼48 æ¯ç¹ï¼ï¼å°åç©ºé´å¤§å°æ 280 ä¸äº¿ä¹å¤ï¼$2^{48}$ï¼ï¼MAC å°åç± IEEE ç»ä¸ç®¡çä¸åéï¼çè®ºä¸ï¼ä¸ä¸ªç½ç»è®¾å¤ä¸­çç½å¡ä¸ç MAC å°åæ¯æ°¸ä¹çãä¸åçç½å¡çäº§åä» IEEE é£éè´­ä¹°èªå·±ç MAC å°åç©ºé´ï¼MAC çå 24 æ¯ç¹ï¼ï¼ä¹å°±æ¯å 24 æ¯ç¹ç± IEEE ç»ä¸ç®¡çï¼ä¿è¯ä¸ä¼éå¤ãèå 24 æ¯ç¹ï¼ç±åå®¶çäº§åèªå·±ç®¡çï¼åæ ·ä¿è¯çäº§çä¸¤åç½å¡ç MAC å°åä¸ä¼éå¤ã\n\nMAC å°åå·æå¯æºå¸¦æ§ãæ°¸ä¹æ§ï¼èº«ä»½è¯å·æ°¸ä¹å°æ è¯ä¸ä¸ªäººçèº«ä»½ï¼ä¸è®ºä»å°åªéé½ä¸ä¼æ¹åãè IP å°åä¸å·æè¿äºæ§è´¨ï¼å½ä¸å°è®¾å¤æ´æ¢äºç½ç»ï¼å®ç IP å°åä¹å°±å¯è½åçæ¹åï¼ä¹å°±æ¯å®å¨äºèç½ä¸­çå®ä½åçäºååã\n\næåï¼è®°ä½ï¼MAC å°åæä¸ä¸ªç¹æ®å°åï¼FF-FF-FF-FF-FF-FFï¼å¨ 1 å°åï¼ï¼è¯¥å°åè¡¨ç¤ºå¹¿æ­å°åã\n\n\n# ARP åè®®è§£å³äºä»ä¹é®é¢å°ä½å¦ä½ï¼\n\nARP åè®®ï¼å¨ç§° å°åè§£æåè®®ï¼Address Resolution Protocolï¼ï¼å®è§£å³çæ¯ç½ç»å±å°ååé¾è·¯å±å°åä¹é´çè½¬æ¢é®é¢ã\n\nå ä¸ºä¸ä¸ª IP æ°æ®æ¥å¨ç©çä¸ä¼ è¾çè¿ç¨ä¸­ï¼æ»æ¯éè¦ç¥éä¸ä¸è·³ï¼ç©çä¸çä¸ä¸ä¸ªç®çå°ï¼è¯¥å»å¾ä½å¤ï¼ä½ IP å°åå±äºé»è¾å°åï¼è MAC å°åææ¯ç©çå°å.\n\nARP åè®®è§£å³äº IP å°åè½¬ MAC å°åçé®é¢ã\n\n\n# ARP åè®®å·¥ä½åç\n\nARP åè®®å·¥ä½æ¶æä¸ä¸ªå¤§åæï¼é£å°±æ¯ ARP è¡¨ã\n\nå¨ä¸ä¸ªå±åç½åï¼æ¯ä¸ªç½ç»è®¾å¤é½èªå·±ç»´æ¤äºä¸ä¸ª ARP è¡¨ï¼ARP è¡¨è®°å½äºæäºå¶ä»ç½ç»è®¾å¤ç IP å°å-MAC å°åæ å°å³ç³»ï¼è¯¥æ å°å³ç³»ä»¥ <IP, MAC, TTL> ä¸åç»çå½¢å¼å­å¨ãå¶ä¸­ï¼TTL ä¸ºè¯¥æ å°å³ç³»ççå­å¨æï¼å¸åå¼ä¸º 20 åéï¼è¶è¿è¯¥æ¶é´ï¼è¯¥æ¡ç®å°è¢«ä¸¢å¼ã\n\nARP çå·¥ä½åçå°åä¸¤ç§åºæ¯è®¨è®ºï¼\n\nåä¸å±åç½åç MAC å¯»åï¼ ä»ä¸ä¸ªå±åç½å°å¦ä¸ä¸ªå±åç½ä¸­çç½ç»è®¾å¤çå¯»åã\n\n\n# åä¸å±åç½åç MAC å¯»å\n\nåè®¾å½åæå¦ä¸åºæ¯ï¼IP å°åä¸º137.196.7.23çä¸»æº Aï¼æ³è¦ç»åä¸å±åç½åç IP å°åä¸º137.196.7.14ä¸»æº Bï¼åé IP æ°æ®æ¥æã\n\nåæ¬¡å¼ºè°ï¼å½ä¸»æºåé IP æ°æ®æ¥ææ¶ï¼ç½ç»å±ï¼ï¼ä»ç¥éç®çå°ç IP å°åï¼å¹¶ä¸æ¸æ¥ç®çå°ç MAC å°åï¼è ARP åè®®å°±æ¯è§£å³è¿ä¸é®é¢çã ä¸ºäºè¾¾æè¿ä¸ç®æ ï¼ä¸»æº A å°ä¸å¾ä¸éè¿ ARP åè®®æ¥è·åä¸»æº B ç MAC å°åï¼å¹¶å° IP æ¥æå°è£æé¾è·¯å±å¸§ï¼åéå°ä¸ä¸è·³ä¸ãå¨è¯¥å±åç½åï¼å³äºæ­¤å°æç§æ¶é´é¡ºåºï¼ä¾æ¬¡åçå¦ä¸äºä»¶ï¼\n\n 1. ä¸»æº A æ£ç´¢èªå·±ç ARP è¡¨ï¼åç° ARP è¡¨ä¸­å¹¶æ ä¸»æº B ç IP å°åå¯¹åºçæ å°æ¡ç®ï¼ä¹å°±æ ä»ç¥éä¸»æº B ç MAC å°åã\n\n 2. ä¸»æº A å°æé ä¸ä¸ª ARP æ¥è¯¢åç»ï¼å¹¶å°å¶å¹¿æ­å°æå¨çå±åç½ä¸­ã\n\nARP åç»æ¯ä¸ç§ç¹æ®æ¥æï¼ARP åç»æä¸¤ç±»ï¼ä¸ç§æ¯æ¥è¯¢åç»ï¼å¦ä¸ç§æ¯ååºåç»ï¼å®ä»¬å·æç¸åçæ ¼å¼ï¼ååå«äºåéåæ¥æ¶ç IP å°åãåéåæ¥æ¶ç MAC å°åãå½ç¶äºï¼æ¥è¯¢åç»ä¸­ï¼åéç IP å°åï¼å³ä¸ºä¸»æº A ç IP å°åï¼æ¥æ¶ç IP å°åå³ä¸ºä¸»æº B ç IP å°åï¼åéç MAC å°åä¹æ¯ä¸»æº A ç MAC å°åï¼ä½æ¥æ¶ç MAC å°åç»ä¸ä¼æ¯ä¸»æº B ç MAC å°åï¼å ä¸ºè¿æ­£æ¯æä»¬è¦é®è¯¢çï¼ï¼ï¼èæ¯ä¸ä¸ªç¹æ®å¼ââFF-FF-FF-FF-FF-FFï¼ä¹åè¯´è¿ï¼è¯¥ MAC å°åæ¯å¹¿æ­å°åï¼ä¹å°±æ¯è¯´ï¼æ¥è¯¢åç»å°å¹¿æ­ç»è¯¥å±åç½åçææè®¾å¤ã\n\n 3. ä¸»æº A æé çæ¥è¯¢åç»å°å¨è¯¥å±åç½åå¹¿æ­ï¼çè®ºä¸ï¼æ¯ä¸ä¸ªè®¾å¤é½ä¼æ¶å°è¯¥åç»ï¼å¹¶æ£æ¥æ¥è¯¢åç»çæ¥æ¶ IP å°åæ¯å¦ä¸ºèªå·±ç IP å°åï¼å¦ææ¯ï¼è¯´ææ¥è¯¢åç»å·²ç»å°è¾¾äºä¸»æº Bï¼å¦åï¼è¯¥æ¥è¯¢åç»å¯¹å½åè®¾å¤æ æï¼ä¸¢å¼ä¹ã\n\n 4. ä¸»æº B æ¶å°äºæ¥è¯¢åç»ä¹åï¼éªè¯æ¯å¯¹èªå·±çé®è¯¢ï¼æ¥çæé ä¸ä¸ª ARP ååºåç»ï¼è¯¥åç»çç®çå°åªæä¸ä¸ªââä¸»æº Aï¼åéç»ä¸»æº Aãåæ¶ï¼ä¸»æº B æåæ¥è¯¢åç»ä¸­ç IP å°åå MAC å°åä¿¡æ¯ï¼å¨èªå·±ç ARP è¡¨ä¸­æé ä¸æ¡ä¸»æº A ç IP-MAC æ å°è®°å½ã\n\nARP ååºåç»å·æå ARP æ¥è¯¢åç»ç¸åçæé ï¼ä¸åçæ¯ï¼åéåæ¥åç IP å°åæ°æ°ç¸åï¼åéç MAC å°åä¸ºåéèæ¬èº«ï¼ç®æ  MAC å°åä¸ºæ¥è¯¢åç»çåéèï¼ä¹å°±æ¯è¯´ï¼ARP ååºåç»åªæä¸ä¸ªç®çå°ï¼èéå¹¿æ­ã\n\n 5. ä¸»æº A ç»å°æ¶å°ä¸»æº B çååºåç»ï¼æååºè¯¥åç»ä¸­ç IP å°åå MAC å°ååï¼æé æ å°ä¿¡æ¯ï¼å å¥å°èªå·±ç ARP è¡¨ä¸­ã\n\n\n\nå¨æ´ä¸ªè¿ç¨ä¸­ï¼æå ç¹éè¦è¡¥åè¯´æçæ¯ï¼\n\n 1. ä¸»æº A æ³è¦ç»ä¸»æº B åé IP æ°æ®æ¥ï¼å¦æä¸»æº B ç IP-MAC æ å°ä¿¡æ¯å·²ç»å­å¨äºä¸»æº A ç ARP è¡¨ä¸­ï¼é£ä¹ä¸»æº A æ éå¹¿æ­ï¼åªéæå MAC å°åå¹¶æé é¾è·¯å±å¸§åéå³å¯ã\n\n 2. ARP è¡¨ä¸­çæ å°ä¿¡æ¯æ¯æçå­å¨æçï¼å¸åå¼ä¸º 20 åéã\n\n 3. ç®æ ä¸»æºæ¥æ¶å°äºé®è¯¢ä¸»æºæé çé®è¯¢æ¥æåï¼å°åæé®è¯¢ä¸»æºç IP-MAC æ å°å­è¿èªå·±ç ARP è¡¨ä¸­ï¼è¿æ ·æè½è·åå°ååºçç®æ  MAC å°åï¼é¡ºå©çåéååºåç»ã\n\næ»ç»æ¥è¯´ï¼ARP åè®®æ¯ä¸ä¸ªå¹¿æ­é®è¯¢ï¼åæ­ååºåè®®ã\n\n\n# ä¸åå±åç½åç MAC å¯»å\n\næ´å¤æçæåµæ¯ï¼åéä¸»æº A åæ¥æ¶ä¸»æº B ä¸å¨åä¸ä¸ªå­ç½ä¸­ï¼\n\nåè®¾ä¸ä¸ªä¸è¬åºæ¯ï¼ä¸¤å°ä¸»æºæå¨çå­ç½ç±ä¸å°è·¯ç±å¨èéãè¿ééè¦æ³¨æçæ¯ï¼\n\nä¸è¬æåµä¸ï¼æä»¬è¯´ç½ç»è®¾å¤é½æä¸ä¸ª IP å°ååä¸ä¸ª MAC å°åï¼è¿éè¯´çç½ç»è®¾å¤ï¼\n\næ´ä¸¥è°¨çè¯´æ³åºè¯¥æ¯ä¸ä¸ªæ¥å£ãè·¯ç±å¨ä½ä¸ºäºèè®¾å¤ï¼å·æå¤ä¸ªæ¥å£ï¼æ¯ä¸ªæ¥å£åæ ·ä¹åºè¯¥å·å¤ä¸éå¤ç IP å°åå MAC å°åã\n\nå æ­¤ï¼å¨è®¨è®º ARP è¡¨æ¶ï¼è·¯ç±å¨çå¤ä¸ªæ¥å£é½ä¸ªåèªç»´æ¤ä¸ä¸ª ARP è¡¨ï¼èéä¸ä¸ªè·¯ç±å¨åªç»´æ¤ä¸ä¸ª ARP è¡¨ã\n\næ¥ä¸æ¥ï¼åé¡¾åä¸å­ç½åç MAC å¯»åï¼å¦æä¸»æº A åéä¸ä¸ªå¹¿æ­é®è¯¢åç»ï¼é£ä¹ A æå¨å­ç½åçææè®¾å¤ï¼æ¥å£ï¼é½å°ä¸ä¼æè·è¯¥åç»ï¼\n\nå ä¸ºè¯¥åç»çç®ç IP å°åå¨å¦ä¸ä¸ªå­ç½ä¸­ï¼æ¬å­ç½åä¸ä¼æè®¾å¤æåæ¥æ¶ã\n\né£ä¹ï¼ä¸»æº A åºè¯¥åéææ ·çæ¥è¯¢åç»å¢ï¼æ´ä¸ªè¿ç¨æç§æ¶é´é¡ºåºåççäºä»¶å¦ä¸ï¼\n\n 1. ä¸»æº A æ¥è¯¢ ARP è¡¨ï¼ææå¯»æ¾å°ç®æ è·¯ç±å¨çæ¬å­ç½æ¥å£ç MAC å°åã\n\nç®æ è·¯ç±å¨æçæ¯ï¼æ ¹æ®ç®çä¸»æº B ç IP å°åï¼åæåº B æå¨çå­ç½ï¼è½å¤ææ¥æè½¬åå° B æå¨å­ç½çé£ä¸ªè·¯ç±å¨ã\n\n 2. ä¸»æº A æªè½æ¾å°ç®æ è·¯ç±å¨çæ¬å­ç½æ¥å£ç MAC å°åï¼å°éç¨ ARP åè®®ï¼é®è¯¢å°è¯¥ MAC å°åï¼ç±äºç®æ æ¥å£ä¸ä¸»æº A å¨åä¸ä¸ªå­ç½åï¼è¯¥è¿ç¨ä¸åä¸å±åç½åç MAC å¯»åç¸åã\n\n 3. ä¸»æº A è·åå°ç®æ æ¥å£ç MAC å°åï¼åæé  IP æ°æ®æ¥ï¼å¶ä¸­æº IP æ¯ A ç IP å°åï¼ç®ç IP å°åæ¯ B ç IP å°åï¼åæé é¾è·¯å±å¸§ï¼å¶ä¸­æº MAC å°åæ¯ A ç MAC å°åï¼ç®ç MAC å°åæ¯æ¬å­ç½åä¸è·¯ç±å¨è¿æ¥çæ¥å£ç MAC å°åãä¸»æº A å°æè¿ä¸ªé¾è·¯å±å¸§ï¼ä»¥åæ­çæ¹å¼ï¼åéç»ç®æ æ¥å£ã\n\n 4. ç®æ æ¥å£æ¥æ¶å°äºä¸»æº A åè¿æ¥çé¾è·¯å±å¸§ï¼è§£æï¼æ ¹æ®ç®ç IP å°åï¼æ¥è¯¢è½¬åè¡¨ï¼å°è¯¥ IP æ°æ®æ¥è½¬åå°ä¸ä¸»æº B æå¨å­ç½ç¸è¿çæ¥å£ä¸ã\n\nå°æ­¤ï¼è¯¥å¸§å·²ç»ä»ä¸»æº A æå¨çå­ç½ï¼è½¬ç§»å°äºä¸»æº B æå¨çå­ç½äºã\n\n 5. è·¯ç±å¨æ¥å£æ¥è¯¢ ARP è¡¨ï¼ææå¯»æ¾å°ä¸»æº B ç MAC å°åã\n\n 6. è·¯ç±å¨æ¥å£å¦æªè½æ¾å°ä¸»æº B ç MAC å°åï¼å°éç¨ ARP åè®®ï¼å¹¿æ­é®è¯¢ï¼åæ­ååºï¼è·åå°ä¸»æº B ç MAC å°åã\n\n 7. è·¯ç±å¨æ¥å£å°å¯¹ IP æ°æ®æ¥éæ°å°è£æé¾è·¯å±å¸§ï¼ç®æ  MAC å°åä¸ºä¸»æº B ç MAC å°åï¼åæ­åéï¼ç´å°ç®çå°ã\n\n",normalizedContent:"# ä»ä¹æ¯ mac å°åï¼\n\nmac å°åçå¨ç§°æ¯ åªä½è®¿é®æ§å¶å°åï¼media access control addressï¼ã\n\nå¦æè¯´ï¼äºèç½ä¸­æ¯ä¸ä¸ªèµæºé½ç± ip å°åå¯ä¸æ è¯ï¼ip åè®®åå®¹ï¼ï¼é£ä¹ä¸åç½ç»è®¾å¤é½ç± mac å°åå¯ä¸æ è¯ã\n\n\n\nè·¯ç±å¨çèé¢å°±ä¼æ³¨æ mac ä½å.\n\nå¯ä»¥çè§£ä¸ºï¼mac å°åæ¯ä¸ä¸ªç½ç»è®¾å¤çæ­£çèº«ä»½è¯å·ï¼ip å°ååªæ¯ä¸ç§ä¸éå¤çå®ä½æ¹å¼ï¼æ¯å¦è¯´ä½å¨æçæå¸æè¡éçå¼ ä¸ï¼è¿ç§é»è¾å®ä½æ¯ ip å°åï¼ä»çèº«ä»½è¯å·ææ¯ä»ç mac å°åï¼ï¼ä¹å¯ä»¥çè§£ä¸º mac å°åæ¯èº«ä»½è¯å·ï¼ip å°åæ¯é®æ¿å°åãmac å°åä¹æä¸äºå«ç§°ï¼å¦ lan å°åãç©çå°åãä»¥å¤ªç½å°åç­ã\n\nè¿æä¸ç¹è¦ç¥éçæ¯ï¼ä¸ä»ä»æ¯ç½ç»èµæºææ ip å°åï¼ç½ç»è®¾å¤ä¹æ ip å°åï¼æ¯å¦è·¯ç±å¨ãä½ä»ç»æä¸è¯´ï¼è·¯ç±å¨ç­ç½ç»è®¾å¤çä½ç¨æ¯ç»æä¸ä¸ªç½ç»ï¼èä¸éå¸¸æ¯åç½ï¼æä»¥å®ä»¬ä½¿ç¨ç ip å°åéå¸¸æ¯åç½ ipï¼åç½çè®¾å¤å¨ä¸åç½ä»¥å¤çè®¾å¤è¿è¡éä¿¡æ¶ï¼éè¦ç¨å° nat åè®®ã mac å°åçé¿åº¦ä¸º 6 å­èï¼48 æ¯ç¹ï¼ï¼å°åç©ºé´å¤§å°æ 280 ä¸äº¿ä¹å¤ï¼$2^{48}$ï¼ï¼mac å°åç± ieee ç»ä¸ç®¡çä¸åéï¼çè®ºä¸ï¼ä¸ä¸ªç½ç»è®¾å¤ä¸­çç½å¡ä¸ç mac å°åæ¯æ°¸ä¹çãä¸åçç½å¡çäº§åä» ieee é£éè´­ä¹°èªå·±ç mac å°åç©ºé´ï¼mac çå 24 æ¯ç¹ï¼ï¼ä¹å°±æ¯å 24 æ¯ç¹ç± ieee ç»ä¸ç®¡çï¼ä¿è¯ä¸ä¼éå¤ãèå 24 æ¯ç¹ï¼ç±åå®¶çäº§åèªå·±ç®¡çï¼åæ ·ä¿è¯çäº§çä¸¤åç½å¡ç mac å°åä¸ä¼éå¤ã\n\nmac å°åå·æå¯æºå¸¦æ§ãæ°¸ä¹æ§ï¼èº«ä»½è¯å·æ°¸ä¹å°æ è¯ä¸ä¸ªäººçèº«ä»½ï¼ä¸è®ºä»å°åªéé½ä¸ä¼æ¹åãè ip å°åä¸å·æè¿äºæ§è´¨ï¼å½ä¸å°è®¾å¤æ´æ¢äºç½ç»ï¼å®ç ip å°åä¹å°±å¯è½åçæ¹åï¼ä¹å°±æ¯å®å¨äºèç½ä¸­çå®ä½åçäºååã\n\næåï¼è®°ä½ï¼mac å°åæä¸ä¸ªç¹æ®å°åï¼ff-ff-ff-ff-ff-ffï¼å¨ 1 å°åï¼ï¼è¯¥å°åè¡¨ç¤ºå¹¿æ­å°åã\n\n\n# arp åè®®è§£å³äºä»ä¹é®é¢å°ä½å¦ä½ï¼\n\narp åè®®ï¼å¨ç§° å°åè§£æåè®®ï¼address resolution protocolï¼ï¼å®è§£å³çæ¯ç½ç»å±å°ååé¾è·¯å±å°åä¹é´çè½¬æ¢é®é¢ã\n\nå ä¸ºä¸ä¸ª ip æ°æ®æ¥å¨ç©çä¸ä¼ è¾çè¿ç¨ä¸­ï¼æ»æ¯éè¦ç¥éä¸ä¸è·³ï¼ç©çä¸çä¸ä¸ä¸ªç®çå°ï¼è¯¥å»å¾ä½å¤ï¼ä½ ip å°åå±äºé»è¾å°åï¼è mac å°åææ¯ç©çå°å.\n\narp åè®®è§£å³äº ip å°åè½¬ mac å°åçé®é¢ã\n\n\n# arp åè®®å·¥ä½åç\n\narp åè®®å·¥ä½æ¶æä¸ä¸ªå¤§åæï¼é£å°±æ¯ arp è¡¨ã\n\nå¨ä¸ä¸ªå±åç½åï¼æ¯ä¸ªç½ç»è®¾å¤é½èªå·±ç»´æ¤äºä¸ä¸ª arp è¡¨ï¼arp è¡¨è®°å½äºæäºå¶ä»ç½ç»è®¾å¤ç ip å°å-mac å°åæ å°å³ç³»ï¼è¯¥æ å°å³ç³»ä»¥ <ip, mac, ttl> ä¸åç»çå½¢å¼å­å¨ãå¶ä¸­ï¼ttl ä¸ºè¯¥æ å°å³ç³»ççå­å¨æï¼å¸åå¼ä¸º 20 åéï¼è¶è¿è¯¥æ¶é´ï¼è¯¥æ¡ç®å°è¢«ä¸¢å¼ã\n\narp çå·¥ä½åçå°åä¸¤ç§åºæ¯è®¨è®ºï¼\n\nåä¸å±åç½åç mac å¯»åï¼ ä»ä¸ä¸ªå±åç½å°å¦ä¸ä¸ªå±åç½ä¸­çç½ç»è®¾å¤çå¯»åã\n\n\n# åä¸å±åç½åç mac å¯»å\n\nåè®¾å½åæå¦ä¸åºæ¯ï¼ip å°åä¸º137.196.7.23çä¸»æº aï¼æ³è¦ç»åä¸å±åç½åç ip å°åä¸º137.196.7.14ä¸»æº bï¼åé ip æ°æ®æ¥æã\n\nåæ¬¡å¼ºè°ï¼å½ä¸»æºåé ip æ°æ®æ¥ææ¶ï¼ç½ç»å±ï¼ï¼ä»ç¥éç®çå°ç ip å°åï¼å¹¶ä¸æ¸æ¥ç®çå°ç mac å°åï¼è arp åè®®å°±æ¯è§£å³è¿ä¸é®é¢çã ä¸ºäºè¾¾æè¿ä¸ç®æ ï¼ä¸»æº a å°ä¸å¾ä¸éè¿ arp åè®®æ¥è·åä¸»æº b ç mac å°åï¼å¹¶å° ip æ¥æå°è£æé¾è·¯å±å¸§ï¼åéå°ä¸ä¸è·³ä¸ãå¨è¯¥å±åç½åï¼å³äºæ­¤å°æç§æ¶é´é¡ºåºï¼ä¾æ¬¡åçå¦ä¸äºä»¶ï¼\n\n 1. ä¸»æº a æ£ç´¢èªå·±ç arp è¡¨ï¼åç° arp è¡¨ä¸­å¹¶æ ä¸»æº b ç ip å°åå¯¹åºçæ å°æ¡ç®ï¼ä¹å°±æ ä»ç¥éä¸»æº b ç mac å°åã\n\n 2. ä¸»æº a å°æé ä¸ä¸ª arp æ¥è¯¢åç»ï¼å¹¶å°å¶å¹¿æ­å°æå¨çå±åç½ä¸­ã\n\narp åç»æ¯ä¸ç§ç¹æ®æ¥æï¼arp åç»æä¸¤ç±»ï¼ä¸ç§æ¯æ¥è¯¢åç»ï¼å¦ä¸ç§æ¯ååºåç»ï¼å®ä»¬å·æç¸åçæ ¼å¼ï¼ååå«äºåéåæ¥æ¶ç ip å°åãåéåæ¥æ¶ç mac å°åãå½ç¶äºï¼æ¥è¯¢åç»ä¸­ï¼åéç ip å°åï¼å³ä¸ºä¸»æº a ç ip å°åï¼æ¥æ¶ç ip å°åå³ä¸ºä¸»æº b ç ip å°åï¼åéç mac å°åä¹æ¯ä¸»æº a ç mac å°åï¼ä½æ¥æ¶ç mac å°åç»ä¸ä¼æ¯ä¸»æº b ç mac å°åï¼å ä¸ºè¿æ­£æ¯æä»¬è¦é®è¯¢çï¼ï¼ï¼èæ¯ä¸ä¸ªç¹æ®å¼ââff-ff-ff-ff-ff-ffï¼ä¹åè¯´è¿ï¼è¯¥ mac å°åæ¯å¹¿æ­å°åï¼ä¹å°±æ¯è¯´ï¼æ¥è¯¢åç»å°å¹¿æ­ç»è¯¥å±åç½åçææè®¾å¤ã\n\n 3. ä¸»æº a æé çæ¥è¯¢åç»å°å¨è¯¥å±åç½åå¹¿æ­ï¼çè®ºä¸ï¼æ¯ä¸ä¸ªè®¾å¤é½ä¼æ¶å°è¯¥åç»ï¼å¹¶æ£æ¥æ¥è¯¢åç»çæ¥æ¶ ip å°åæ¯å¦ä¸ºèªå·±ç ip å°åï¼å¦ææ¯ï¼è¯´ææ¥è¯¢åç»å·²ç»å°è¾¾äºä¸»æº bï¼å¦åï¼è¯¥æ¥è¯¢åç»å¯¹å½åè®¾å¤æ æï¼ä¸¢å¼ä¹ã\n\n 4. ä¸»æº b æ¶å°äºæ¥è¯¢åç»ä¹åï¼éªè¯æ¯å¯¹èªå·±çé®è¯¢ï¼æ¥çæé ä¸ä¸ª arp ååºåç»ï¼è¯¥åç»çç®çå°åªæä¸ä¸ªââä¸»æº aï¼åéç»ä¸»æº aãåæ¶ï¼ä¸»æº b æåæ¥è¯¢åç»ä¸­ç ip å°åå mac å°åä¿¡æ¯ï¼å¨èªå·±ç arp è¡¨ä¸­æé ä¸æ¡ä¸»æº a ç ip-mac æ å°è®°å½ã\n\narp ååºåç»å·æå arp æ¥è¯¢åç»ç¸åçæé ï¼ä¸åçæ¯ï¼åéåæ¥åç ip å°åæ°æ°ç¸åï¼åéç mac å°åä¸ºåéèæ¬èº«ï¼ç®æ  mac å°åä¸ºæ¥è¯¢åç»çåéèï¼ä¹å°±æ¯è¯´ï¼arp ååºåç»åªæä¸ä¸ªç®çå°ï¼èéå¹¿æ­ã\n\n 5. ä¸»æº a ç»å°æ¶å°ä¸»æº b çååºåç»ï¼æååºè¯¥åç»ä¸­ç ip å°åå mac å°ååï¼æé æ å°ä¿¡æ¯ï¼å å¥å°èªå·±ç arp è¡¨ä¸­ã\n\n\n\nå¨æ´ä¸ªè¿ç¨ä¸­ï¼æå ç¹éè¦è¡¥åè¯´æçæ¯ï¼\n\n 1. ä¸»æº a æ³è¦ç»ä¸»æº b åé ip æ°æ®æ¥ï¼å¦æä¸»æº b ç ip-mac æ å°ä¿¡æ¯å·²ç»å­å¨äºä¸»æº a ç arp è¡¨ä¸­ï¼é£ä¹ä¸»æº a æ éå¹¿æ­ï¼åªéæå mac å°åå¹¶æé é¾è·¯å±å¸§åéå³å¯ã\n\n 2. arp è¡¨ä¸­çæ å°ä¿¡æ¯æ¯æçå­å¨æçï¼å¸åå¼ä¸º 20 åéã\n\n 3. ç®æ ä¸»æºæ¥æ¶å°äºé®è¯¢ä¸»æºæé çé®è¯¢æ¥æåï¼å°åæé®è¯¢ä¸»æºç ip-mac æ å°å­è¿èªå·±ç arp è¡¨ä¸­ï¼è¿æ ·æè½è·åå°ååºçç®æ  mac å°åï¼é¡ºå©çåéååºåç»ã\n\næ»ç»æ¥è¯´ï¼arp åè®®æ¯ä¸ä¸ªå¹¿æ­é®è¯¢ï¼åæ­ååºåè®®ã\n\n\n# ä¸åå±åç½åç mac å¯»å\n\næ´å¤æçæåµæ¯ï¼åéä¸»æº a åæ¥æ¶ä¸»æº b ä¸å¨åä¸ä¸ªå­ç½ä¸­ï¼\n\nåè®¾ä¸ä¸ªä¸è¬åºæ¯ï¼ä¸¤å°ä¸»æºæå¨çå­ç½ç±ä¸å°è·¯ç±å¨èéãè¿ééè¦æ³¨æçæ¯ï¼\n\nä¸è¬æåµä¸ï¼æä»¬è¯´ç½ç»è®¾å¤é½æä¸ä¸ª ip å°ååä¸ä¸ª mac å°åï¼è¿éè¯´çç½ç»è®¾å¤ï¼\n\næ´ä¸¥è°¨çè¯´æ³åºè¯¥æ¯ä¸ä¸ªæ¥å£ãè·¯ç±å¨ä½ä¸ºäºèè®¾å¤ï¼å·æå¤ä¸ªæ¥å£ï¼æ¯ä¸ªæ¥å£åæ ·ä¹åºè¯¥å·å¤ä¸éå¤ç ip å°åå mac å°åã\n\nå æ­¤ï¼å¨è®¨è®º arp è¡¨æ¶ï¼è·¯ç±å¨çå¤ä¸ªæ¥å£é½ä¸ªåèªç»´æ¤ä¸ä¸ª arp è¡¨ï¼èéä¸ä¸ªè·¯ç±å¨åªç»´æ¤ä¸ä¸ª arp è¡¨ã\n\næ¥ä¸æ¥ï¼åé¡¾åä¸å­ç½åç mac å¯»åï¼å¦æä¸»æº a åéä¸ä¸ªå¹¿æ­é®è¯¢åç»ï¼é£ä¹ a æå¨å­ç½åçææè®¾å¤ï¼æ¥å£ï¼é½å°ä¸ä¼æè·è¯¥åç»ï¼\n\nå ä¸ºè¯¥åç»çç®ç ip å°åå¨å¦ä¸ä¸ªå­ç½ä¸­ï¼æ¬å­ç½åä¸ä¼æè®¾å¤æåæ¥æ¶ã\n\né£ä¹ï¼ä¸»æº a åºè¯¥åéææ ·çæ¥è¯¢åç»å¢ï¼æ´ä¸ªè¿ç¨æç§æ¶é´é¡ºåºåççäºä»¶å¦ä¸ï¼\n\n 1. ä¸»æº a æ¥è¯¢ arp è¡¨ï¼ææå¯»æ¾å°ç®æ è·¯ç±å¨çæ¬å­ç½æ¥å£ç mac å°åã\n\nç®æ è·¯ç±å¨æçæ¯ï¼æ ¹æ®ç®çä¸»æº b ç ip å°åï¼åæåº b æå¨çå­ç½ï¼è½å¤ææ¥æè½¬åå° b æå¨å­ç½çé£ä¸ªè·¯ç±å¨ã\n\n 2. ä¸»æº a æªè½æ¾å°ç®æ è·¯ç±å¨çæ¬å­ç½æ¥å£ç mac å°åï¼å°éç¨ arp åè®®ï¼é®è¯¢å°è¯¥ mac å°åï¼ç±äºç®æ æ¥å£ä¸ä¸»æº a å¨åä¸ä¸ªå­ç½åï¼è¯¥è¿ç¨ä¸åä¸å±åç½åç mac å¯»åç¸åã\n\n 3. ä¸»æº a è·åå°ç®æ æ¥å£ç mac å°åï¼åæé  ip æ°æ®æ¥ï¼å¶ä¸­æº ip æ¯ a ç ip å°åï¼ç®ç ip å°åæ¯ b ç ip å°åï¼åæé é¾è·¯å±å¸§ï¼å¶ä¸­æº mac å°åæ¯ a ç mac å°åï¼ç®ç mac å°åæ¯æ¬å­ç½åä¸è·¯ç±å¨è¿æ¥çæ¥å£ç mac å°åãä¸»æº a å°æè¿ä¸ªé¾è·¯å±å¸§ï¼ä»¥åæ­çæ¹å¼ï¼åéç»ç®æ æ¥å£ã\n\n 4. ç®æ æ¥å£æ¥æ¶å°äºä¸»æº a åè¿æ¥çé¾è·¯å±å¸§ï¼è§£æï¼æ ¹æ®ç®ç ip å°åï¼æ¥è¯¢è½¬åè¡¨ï¼å°è¯¥ ip æ°æ®æ¥è½¬åå°ä¸ä¸»æº b æå¨å­ç½ç¸è¿çæ¥å£ä¸ã\n\nå°æ­¤ï¼è¯¥å¸§å·²ç»ä»ä¸»æº a æå¨çå­ç½ï¼è½¬ç§»å°äºä¸»æº b æå¨çå­ç½äºã\n\n 5. è·¯ç±å¨æ¥å£æ¥è¯¢ arp è¡¨ï¼ææå¯»æ¾å°ä¸»æº b ç mac å°åã\n\n 6. è·¯ç±å¨æ¥å£å¦æªè½æ¾å°ä¸»æº b ç mac å°åï¼å°éç¨ arp åè®®ï¼å¹¿æ­é®è¯¢ï¼åæ­ååºï¼è·åå°ä¸»æº b ç mac å°åã\n\n 7. è·¯ç±å¨æ¥å£å°å¯¹ ip æ°æ®æ¥éæ°å°è£æé¾è·¯å±å¸§ï¼ç®æ  mac å°åä¸ºä¸»æº b ç mac å°åï¼åæ­åéï¼ç´å°ç®çå°ã\n\n",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ä»ä¹æ¯è·¨åï¼ä»ä¹æåµä¸ä¼åçè·¨åè¯·æ±ï¼",frontmatter:{title:"ä»ä¹æ¯è·¨åï¼ä»ä¹æåµä¸ä¼åçè·¨åè¯·æ±ï¼",date:"2022-09-21T22:54:11.000Z",permalink:"/pages/eadd05/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/240.%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F%EF%BC%8C%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E5%8F%91%E7%94%9F%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/240.ä»ä¹æ¯è·¨åï¼ä»ä¹æåµä¸ä¼åçè·¨åè¯·æ±ï¼.md",key:"v-7370facf",path:"/pages/eadd05/",headersStr:null,content:'è¯´èµ·è·¨åè¯·æ±ï¼å¿é¡»è¦äºè§£æµè§å¨çåæºç­ç¥ï¼åæºç­ç¥/SOPï¼Same origin policyï¼æ¯ä¸ç§çº¦å®ï¼ç± Netscape å¬å¸ 1995å¹´å¼å¥æµè§å¨ï¼å®æ¯æµè§å¨ææ ¸å¿ä¹æåºæ¬çå®å¨åè½ï¼å¦æç¼ºå°äºåæºç­ç¥ï¼æµè§å¨å¾å®¹æåå° XSSãCSFR ç­æ»å»ãæè°åæºæ¯æ"åè®®+åå+ç«¯å£"ä¸èç¸åï¼å³ä¾¿ä¸¤ä¸ªä¸åçååæååä¸ä¸ª ip å°åï¼ä¹éåæºã\n\nè§£å³è·¨åè¯·æ±çå¸¸ç¨æ¹æ³æ¯ï¼\n\n * éè¿ä»£çæ¥é¿åï¼æ¯å¦ä½¿ç¨ Nginx å¨åç«¯è½¬åè¯·æ±ï¼é¿åäºåç«¯åºç°è·¨åçé®é¢ã\n * éè¿ Jsonp è·¨å\n * å¶å®è·¨åè§£å³æ¹æ¡\n\néç¹è°ä¸ä¸ Jsonp è·¨ååçãæµè§å¨çåæºç­ç¥æè·¨åè¯·æ±é½ç¦æ­¢äºï¼ä½æ¯é¡µé¢ä¸­ç',normalizedContent:'è¯´èµ·è·¨åè¯·æ±ï¼å¿é¡»è¦äºè§£æµè§å¨çåæºç­ç¥ï¼åæºç­ç¥/sopï¼same origin policyï¼æ¯ä¸ç§çº¦å®ï¼ç± netscape å¬å¸ 1995å¹´å¼å¥æµè§å¨ï¼å®æ¯æµè§å¨ææ ¸å¿ä¹æåºæ¬çå®å¨åè½ï¼å¦æç¼ºå°äºåæºç­ç¥ï¼æµè§å¨å¾å®¹æåå° xssãcsfr ç­æ»å»ãæè°åæºæ¯æ"åè®®+åå+ç«¯å£"ä¸èç¸åï¼å³ä¾¿ä¸¤ä¸ªä¸åçååæååä¸ä¸ª ip å°åï¼ä¹éåæºã\n\nè§£å³è·¨åè¯·æ±çå¸¸ç¨æ¹æ³æ¯ï¼\n\n * éè¿ä»£çæ¥é¿åï¼æ¯å¦ä½¿ç¨ nginx å¨åç«¯è½¬åè¯·æ±ï¼é¿åäºåç«¯åºç°è·¨åçé®é¢ã\n * éè¿ jsonp è·¨å\n * å¶å®è·¨åè§£å³æ¹æ¡\n\néç¹è°ä¸ä¸ jsonp è·¨ååçãæµè§å¨çåæºç­ç¥æè·¨åè¯·æ±é½ç¦æ­¢äºï¼ä½æ¯é¡µé¢ä¸­ç',charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿° DDOS æ»å»åçï¼å¦ä½é²èå®ï¼",frontmatter:{title:"ç®è¿° DDOS æ»å»åçï¼å¦ä½é²èå®ï¼",date:"2022-09-21T22:53:23.000Z",permalink:"/pages/056828/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/220.%E7%AE%80%E8%BF%B0%20DDOS%20%E6%94%BB%E5%87%BB%E5%8E%9F%E7%90%86%EF%BC%8C%E5%A6%82%E4%BD%95%E9%98%B2%E8%8C%83%E5%AE%83%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/220.ç®è¿° DDOS æ»å»åçï¼å¦ä½é²èå®ï¼.md",key:"v-7fc8ca51",path:"/pages/056828/",headers:[{level:2,title:"DDoS æ»å»ç©¶ç«æ¯ä»ä¹ï¼",slug:"ddos-æ»å»ç©¶ç«æ¯ä»ä¹",normalizedTitle:"ddos æ»å»ç©¶ç«æ¯ä»ä¹ï¼",charIndex:216},{level:2,title:"ä¸¾ä¸ªä¾å­",slug:"ä¸¾ä¸ªä¾å­",normalizedTitle:"ä¸¾ä¸ªä¾å­",charIndex:458},{level:2,title:"SYN Floodè¿è¡DDoSæ»å»çå®ç°åç",slug:"syn-floodè¿è¡ddosæ»å»çå®ç°åç",normalizedTitle:"syn floodè¿è¡ddosæ»å»çå®ç°åç",charIndex:766},{level:2,title:"å¦ä½åºå¯¹ DDoS æ»å»ï¼",slug:"å¦ä½åºå¯¹-ddos-æ»å»",normalizedTitle:"å¦ä½åºå¯¹ ddos æ»å»ï¼",charIndex:1157}],headersStr:"DDoS æ»å»ç©¶ç«æ¯ä»ä¹ï¼ ä¸¾ä¸ªä¾å­ SYN Floodè¿è¡DDoSæ»å»çå®ç°åç å¦ä½åºå¯¹ DDoS æ»å»ï¼",content:"å¶å®ï¼åå¨çäºèç½åå¤§å¬å¸ï¼åé­åè¿å¤§éç DDoSã\n\n2018å¹´ï¼GitHub å¨ä¸ç¬é´é­å°é«è¾¾ 1.35Tbps çå¸¦å®½æ»å»ã\n\nè¿æ¬¡ DDoS æ»å»å ä¹å¯ä»¥å ªç§°æ¯äºèç½æå²ä»¥æ¥è§æ¨¡æå¤§ãå¨åæå¤§ç DDoS æ»å»äºã\n\nå¨ GitHub é­å°æ»å»åï¼ä»ä»ä¸å¨åï¼DDoS æ»å»åå¼å§å¯¹ Googleãäºé©¬éçè³ Pornhub ç­ç½ç«è¿è¡äº DDoS æ»å»ã\n\nåç»­ç DDoS æ»å»å¸¦å®½æé«ä¹è¾¾å°äº 1Tbpsã\n\n\n# DDoS æ»å»ç©¶ç«æ¯ä»ä¹ï¼\n\nDDos å¨å Distributed Denial of Serviceï¼ç¿»è¯æä¸­æå°±æ¯åå¸å¼æç»æå¡ã\n\næçæ¯å¤äºä¸åä½ç½®çå¤ä¸ªæ»å»èåæ¶åä¸ä¸ªææ°ä¸ªç®æ åå¨æ»å»ï¼æ¯ä¸ç§åå¸çãååçå¤§è§æ¨¡æ»å»æ¹å¼ã\n\nåä¸çDoSæ»å»ä¸è¬æ¯éç¨ä¸å¯¹ä¸æ¹å¼çï¼å®å©ç¨ç½ç»åè®®åæä½ç³»ç»çä¸äºç¼ºé·ï¼éç¨æ¬ºéªåä¼ªè£çç­ç¥æ¥è¿è¡ç½ç»æ»å»ï¼\n\nä½¿ç½ç«æå¡å¨åæ¥å¤§éè¦æ±åå¤çä¿¡æ¯ï¼æ¶èç½ç»å¸¦å®½æç³»ç»èµæºï¼å¯¼è´ç½ç»æç³»ç»ä¸èè´è·ä»¥è³äºç«çªèåæ­¢æä¾æ­£å¸¸çç½ç»æå¡ã\n\n\n# ä¸¾ä¸ªä¾å­\n\næå¼äºä¸å®¶æäºåä¸ªåº§ä½çéåºç«éåºï¼ç±äºç¨æä¸ç­ï¼ç«¥åæ æ¬ºã\n\nå¹³æ¶é¨åº­è¥å¸ï¼çæç¹å«çº¢ç«ï¼èå¯¹é¢äºçå®¶çç«éåºå´æ äººé®æ´¥ã\n\näºçä¸ºäºå¯¹ä»æï¼æ³äºä¸ä¸ªåæ³ï¼å«äºäºåä¸ªäººæ¥æçç«éåºåçå´ä¸ç¹èï¼è®©å«çå®¢äººæ æ³åé¥­ã\n\nä¸é¢è¿ä¸ªä¾å­è®²çå°±æ¯å¸åç DDoS æ»å»ï¼ä¸è¬æ¥è¯´æ¯ææ»å»èå©ç¨âèé¸¡âå¯¹ç®æ ç½ç«å¨è¾ç­çæ¶é´ååèµ·å¤§éè¯·æ±ï¼\n\nå¤§è§æ¨¡æ¶èç®æ ç½ç«çä¸»æºèµæºï¼è®©å®æ æ³æ­£å¸¸æå¡ãå¨çº¿æ¸¸æãäºèç½éèç­é¢åæ¯ DDoS æ»å»çé«åè¡ä¸ã\n\næ»å»æ¹å¼å¾å¤ï¼æ¯å¦ ICMP FloodãUDP FloodãNTP FloodãSYN FloodãCC æ»å»ãDNS Query Floodç­ç­ã\n\n\n# SYN Floodè¿è¡DDoSæ»å»çå®ç°åç\n\nSYN Flood æ¯ä¸ç§å©ç¨ TCP åè®®ç¼ºé·ï¼åéå¤§éä¼ªé ç TCP è¿æ¥è¯·æ±ï¼ä»èä½¿å¾è¢«æ»å»æ¹èµæºèå°½ï¼CPUæ»¡è´è·æåå­ä¸è¶³ï¼çæ»å»æ¹å¼ã\n\nä¸æ¬¡æ­£å¸¸çå»ºç« TCP è¿æ¥ï¼éè¦ä¸æ¬¡æ¡æï¼å®¢æ·ç«¯åé SYN æ¥æï¼æå¡ç«¯æ¶å°è¯·æ±å¹¶è¿åæ¥æè¡¨ç¤ºæ¥åï¼å®¢æ·ç«¯ä¹è¿åç¡®è®¤ï¼å®æè¿æ¥ã\n\nSYN Flood å°±æ¯ç¨æ·åæå¡å¨åéæ¥æåçªç¶æ­»æºææçº¿ï¼é£ä¹æå¡å¨å¨ååºåºç­æ¥æåå°±æ æ³æ¶å°å®¢æ·ç«¯çç¡®è®¤æ¥æï¼ç¬¬ä¸æ¬¡æ¡ææ æ³å®æï¼ï¼è¿æ¶æå¡å¨ç«¯ä¸è¬ä¼éè¯å¹¶ç­å¾ä¸æ®µæ¶é´ååä¸¢å¼è¿ä¸ªæªå®æçè¿æ¥ã\n\nä¸ä¸ªç¨æ·åºç°å¼å¸¸å¯¼è´æå¡å¨çä¸ä¸ªçº¿ç¨ç­å¾ä¸ä¼å¿å¹¶ä¸æ¯å¤§é®é¢ï¼ä½æ¶ææ»å»èå¤§éæ¨¡æè¿ç§æåµï¼æå¡å¨ç«¯ä¸ºäºç»´æ¤æ°ä»¥ä¸è®¡çåè¿æ¥èæ¶èéå¸¸å¤çèµæºï¼ç»æå¾å¾æ¯æ æçç¬å®¢æ·çæ­£å¸¸è¯·æ±ï¼çè³å´©æºãä»æ­£å¸¸å®¢æ·çè§åº¦çæ¥ï¼ç½ç«å¤±å»äºååºï¼æ æ³è®¿é®ã\n\n\n# å¦ä½åºå¯¹ DDoS æ»å»ï¼\n\n 1. é«é²æå¡å¨ è¿æ¯æ¿å¼çéåºç«éåºä¸¾ä¾ï¼é«é²æå¡å¨å°±æ¯æç»éåºç«éåºå¢å äºä¸¤åä¿å®ï¼è¿ä¸¤åä¿å®å¯ä»¥è®©ä¿æ¤åºéºä¸åæµæ°éªæ°ï¼å¹¶ä¸è¿ä¼å®æå¨åºéºå¨å´å·¡é»é²æ­¢æµæ°éªæ°ã\n\né«é²æå¡å¨ä¸»è¦æ¯æè½ç¬ç«ç¡¬é²å¾¡ 50Gbps ä»¥ä¸çæå¡å¨ï¼è½å¤å¸®å©ç½ç«æç»æå¡æ»å»ï¼å®ææ«æç½ç»ä¸»èç¹ç­ï¼è¿ä¸è¥¿æ¯ä¸éï¼å°±æ¯è´µ~\n\n 2. é»åå é¢å¯¹ç«éåºéé¢çæµæ°ï¼æä¸æä¹ä¸å°ä»ä»¬æç§å¥æ¡£ï¼å¹¶ç¦æ­¢ä»ä»¬è¸å¥åºéºï¼ä½æ¯æçæ¶åéå°é¿å¾åçäººä¹ä¼ç¦æ­¢ä»è¿å¥åºéºãè¿ä¸ªå°±æ¯è®¾ç½®é»ååï¼æ­¤æ¹æ³ç§æ¿çå°±æ¯âéæä¸åï¼ä¹ä¸æ¾ä¸ç¾âçååï¼ä¼å°éæ­£å¸¸æµéï¼å½±åå°æ­£å¸¸ä¸å¡ã\n\n 3. DDoS æ¸æ´ DDos æ¸æ´ï¼å°±æ¯æåç°å®¢äººè¿åºå åéä»¥åï¼ä½æ¯ä¸ç´ä¸ç¹é¤ï¼æå°±æä»è¸¢åºåºéã\n\nDDoS æ¸æ´ä¼å¯¹ç¨æ·è¯·æ±æ°æ®è¿è¡å®æ¶çæ§ï¼åæ¶åç° **DOS **æ»å»ç­å¼å¸¸æµéï¼å¨ä¸å½±åæ­£å¸¸ä¸å¡å¼å±çæåµä¸æ¸æ´æè¿äºå¼å¸¸æµéã\n\n 4. CDN å é CDN å éï¼æä»¬å¯ä»¥è¿ä¹çè§£ï¼ä¸ºäºåå°æµæ°éªæ°ï¼æå¹²èå°ç«éåºå¼å°äºçº¿ä¸ï¼æ¿æ¥å¤åæå¡ï¼è¿æ ·æµæ°æ¾ä¸å°åºå¨åªéï¼ä¹èä¸æ¥æµæ°äºã\n\nå¨ç°å®ä¸­ï¼CDN æå¡å°ç½ç«è®¿é®æµéåéå°äºåä¸ªèç¹ä¸­ï¼è¿æ ·ä¸æ¹é¢éèç½ç«ççå® IPï¼å¦ä¸æ¹é¢å³ä½¿é­é DDoS æ»å»ï¼ä¹å¯ä»¥å°æµéåæ£å°åä¸ªèç¹ä¸­ï¼é²æ­¢æºç«å´©æºã",normalizedContent:"å¶å®ï¼åå¨çäºèç½åå¤§å¬å¸ï¼åé­åè¿å¤§éç ddosã\n\n2018å¹´ï¼github å¨ä¸ç¬é´é­å°é«è¾¾ 1.35tbps çå¸¦å®½æ»å»ã\n\nè¿æ¬¡ ddos æ»å»å ä¹å¯ä»¥å ªç§°æ¯äºèç½æå²ä»¥æ¥è§æ¨¡æå¤§ãå¨åæå¤§ç ddos æ»å»äºã\n\nå¨ github é­å°æ»å»åï¼ä»ä»ä¸å¨åï¼ddos æ»å»åå¼å§å¯¹ googleãäºé©¬éçè³ pornhub ç­ç½ç«è¿è¡äº ddos æ»å»ã\n\nåç»­ç ddos æ»å»å¸¦å®½æé«ä¹è¾¾å°äº 1tbpsã\n\n\n# ddos æ»å»ç©¶ç«æ¯ä»ä¹ï¼\n\nddos å¨å distributed denial of serviceï¼ç¿»è¯æä¸­æå°±æ¯åå¸å¼æç»æå¡ã\n\næçæ¯å¤äºä¸åä½ç½®çå¤ä¸ªæ»å»èåæ¶åä¸ä¸ªææ°ä¸ªç®æ åå¨æ»å»ï¼æ¯ä¸ç§åå¸çãååçå¤§è§æ¨¡æ»å»æ¹å¼ã\n\nåä¸çdosæ»å»ä¸è¬æ¯éç¨ä¸å¯¹ä¸æ¹å¼çï¼å®å©ç¨ç½ç»åè®®åæä½ç³»ç»çä¸äºç¼ºé·ï¼éç¨æ¬ºéªåä¼ªè£çç­ç¥æ¥è¿è¡ç½ç»æ»å»ï¼\n\nä½¿ç½ç«æå¡å¨åæ¥å¤§éè¦æ±åå¤çä¿¡æ¯ï¼æ¶èç½ç»å¸¦å®½æç³»ç»èµæºï¼å¯¼è´ç½ç»æç³»ç»ä¸èè´è·ä»¥è³äºç«çªèåæ­¢æä¾æ­£å¸¸çç½ç»æå¡ã\n\n\n# ä¸¾ä¸ªä¾å­\n\næå¼äºä¸å®¶æäºåä¸ªåº§ä½çéåºç«éåºï¼ç±äºç¨æä¸ç­ï¼ç«¥åæ æ¬ºã\n\nå¹³æ¶é¨åº­è¥å¸ï¼çæç¹å«çº¢ç«ï¼èå¯¹é¢äºçå®¶çç«éåºå´æ äººé®æ´¥ã\n\näºçä¸ºäºå¯¹ä»æï¼æ³äºä¸ä¸ªåæ³ï¼å«äºäºåä¸ªäººæ¥æçç«éåºåçå´ä¸ç¹èï¼è®©å«çå®¢äººæ æ³åé¥­ã\n\nä¸é¢è¿ä¸ªä¾å­è®²çå°±æ¯å¸åç ddos æ»å»ï¼ä¸è¬æ¥è¯´æ¯ææ»å»èå©ç¨âèé¸¡âå¯¹ç®æ ç½ç«å¨è¾ç­çæ¶é´ååèµ·å¤§éè¯·æ±ï¼\n\nå¤§è§æ¨¡æ¶èç®æ ç½ç«çä¸»æºèµæºï¼è®©å®æ æ³æ­£å¸¸æå¡ãå¨çº¿æ¸¸æãäºèç½éèç­é¢åæ¯ ddos æ»å»çé«åè¡ä¸ã\n\næ»å»æ¹å¼å¾å¤ï¼æ¯å¦ icmp floodãudp floodãntp floodãsyn floodãcc æ»å»ãdns query floodç­ç­ã\n\n\n# syn floodè¿è¡ddosæ»å»çå®ç°åç\n\nsyn flood æ¯ä¸ç§å©ç¨ tcp åè®®ç¼ºé·ï¼åéå¤§éä¼ªé ç tcp è¿æ¥è¯·æ±ï¼ä»èä½¿å¾è¢«æ»å»æ¹èµæºèå°½ï¼cpuæ»¡è´è·æåå­ä¸è¶³ï¼çæ»å»æ¹å¼ã\n\nä¸æ¬¡æ­£å¸¸çå»ºç« tcp è¿æ¥ï¼éè¦ä¸æ¬¡æ¡æï¼å®¢æ·ç«¯åé syn æ¥æï¼æå¡ç«¯æ¶å°è¯·æ±å¹¶è¿åæ¥æè¡¨ç¤ºæ¥åï¼å®¢æ·ç«¯ä¹è¿åç¡®è®¤ï¼å®æè¿æ¥ã\n\nsyn flood å°±æ¯ç¨æ·åæå¡å¨åéæ¥æåçªç¶æ­»æºææçº¿ï¼é£ä¹æå¡å¨å¨ååºåºç­æ¥æåå°±æ æ³æ¶å°å®¢æ·ç«¯çç¡®è®¤æ¥æï¼ç¬¬ä¸æ¬¡æ¡ææ æ³å®æï¼ï¼è¿æ¶æå¡å¨ç«¯ä¸è¬ä¼éè¯å¹¶ç­å¾ä¸æ®µæ¶é´ååä¸¢å¼è¿ä¸ªæªå®æçè¿æ¥ã\n\nä¸ä¸ªç¨æ·åºç°å¼å¸¸å¯¼è´æå¡å¨çä¸ä¸ªçº¿ç¨ç­å¾ä¸ä¼å¿å¹¶ä¸æ¯å¤§é®é¢ï¼ä½æ¶ææ»å»èå¤§éæ¨¡æè¿ç§æåµï¼æå¡å¨ç«¯ä¸ºäºç»´æ¤æ°ä»¥ä¸è®¡çåè¿æ¥èæ¶èéå¸¸å¤çèµæºï¼ç»æå¾å¾æ¯æ æçç¬å®¢æ·çæ­£å¸¸è¯·æ±ï¼çè³å´©æºãä»æ­£å¸¸å®¢æ·çè§åº¦çæ¥ï¼ç½ç«å¤±å»äºååºï¼æ æ³è®¿é®ã\n\n\n# å¦ä½åºå¯¹ ddos æ»å»ï¼\n\n 1. é«é²æå¡å¨ è¿æ¯æ¿å¼çéåºç«éåºä¸¾ä¾ï¼é«é²æå¡å¨å°±æ¯æç»éåºç«éåºå¢å äºä¸¤åä¿å®ï¼è¿ä¸¤åä¿å®å¯ä»¥è®©ä¿æ¤åºéºä¸åæµæ°éªæ°ï¼å¹¶ä¸è¿ä¼å®æå¨åºéºå¨å´å·¡é»é²æ­¢æµæ°éªæ°ã\n\né«é²æå¡å¨ä¸»è¦æ¯æè½ç¬ç«ç¡¬é²å¾¡ 50gbps ä»¥ä¸çæå¡å¨ï¼è½å¤å¸®å©ç½ç«æç»æå¡æ»å»ï¼å®ææ«æç½ç»ä¸»èç¹ç­ï¼è¿ä¸è¥¿æ¯ä¸éï¼å°±æ¯è´µ~\n\n 2. é»åå é¢å¯¹ç«éåºéé¢çæµæ°ï¼æä¸æä¹ä¸å°ä»ä»¬æç§å¥æ¡£ï¼å¹¶ç¦æ­¢ä»ä»¬è¸å¥åºéºï¼ä½æ¯æçæ¶åéå°é¿å¾åçäººä¹ä¼ç¦æ­¢ä»è¿å¥åºéºãè¿ä¸ªå°±æ¯è®¾ç½®é»ååï¼æ­¤æ¹æ³ç§æ¿çå°±æ¯âéæä¸åï¼ä¹ä¸æ¾ä¸ç¾âçååï¼ä¼å°éæ­£å¸¸æµéï¼å½±åå°æ­£å¸¸ä¸å¡ã\n\n 3. ddos æ¸æ´ ddos æ¸æ´ï¼å°±æ¯æåç°å®¢äººè¿åºå åéä»¥åï¼ä½æ¯ä¸ç´ä¸ç¹é¤ï¼æå°±æä»è¸¢åºåºéã\n\nddos æ¸æ´ä¼å¯¹ç¨æ·è¯·æ±æ°æ®è¿è¡å®æ¶çæ§ï¼åæ¶åç° **dos **æ»å»ç­å¼å¸¸æµéï¼å¨ä¸å½±åæ­£å¸¸ä¸å¡å¼å±çæåµä¸æ¸æ´æè¿äºå¼å¸¸æµéã\n\n 4. cdn å é cdn å éï¼æä»¬å¯ä»¥è¿ä¹çè§£ï¼ä¸ºäºåå°æµæ°éªæ°ï¼æå¹²èå°ç«éåºå¼å°äºçº¿ä¸ï¼æ¿æ¥å¤åæå¡ï¼è¿æ ·æµæ°æ¾ä¸å°åºå¨åªéï¼ä¹èä¸æ¥æµæ°äºã\n\nå¨ç°å®ä¸­ï¼cdn æå¡å°ç½ç«è®¿é®æµéåéå°äºåä¸ªèç¹ä¸­ï¼è¿æ ·ä¸æ¹é¢éèç½ç«ççå® ipï¼å¦ä¸æ¹é¢å³ä½¿é­é ddos æ»å»ï¼ä¹å¯ä»¥å°æµéåæ£å°åä¸ªèç¹ä¸­ï¼é²æ­¢æºç«å´©æºã",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"Cookie å Session çå³ç³»ååºå«æ¯ä»ä¹ï¼",frontmatter:{title:"Cookie å Session çå³ç³»ååºå«æ¯ä»ä¹ï¼",date:"2022-09-21T22:54:25.000Z",permalink:"/pages/980cc7/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/250.Cookie%20%E5%92%8C%20Session%20%E7%9A%84%E5%85%B3%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/250.Cookie å Session çå³ç³»ååºå«æ¯ä»ä¹ï¼.md",key:"v-15ca313a",path:"/pages/980cc7/",headers:[{level:2,title:"ä»ä¹æ¯è®¤è¯ï¼Authenticationï¼",slug:"ä»ä¹æ¯è®¤è¯-authentication",normalizedTitle:"ä»ä¹æ¯è®¤è¯ï¼authenticationï¼",charIndex:2},{level:2,title:"ä»ä¹æ¯ææï¼Authorizationï¼",slug:"ä»ä¹æ¯ææ-authorization",normalizedTitle:"ä»ä¹æ¯ææï¼authorizationï¼",charIndex:175},{level:2,title:"ä»ä¹æ¯å­è¯ï¼Credentialsï¼",slug:"ä»ä¹æ¯å­è¯-credentials",normalizedTitle:"ä»ä¹æ¯å­è¯ï¼credentialsï¼",charIndex:362},{level:2,title:"ä»ä¹æ¯ Cookie",slug:"ä»ä¹æ¯-cookie",normalizedTitle:"ä»ä¹æ¯ cookie",charIndex:764},{level:2,title:"ä»ä¹æ¯ Session",slug:"ä»ä¹æ¯-session",normalizedTitle:"ä»ä¹æ¯ session",charIndex:1164},{level:2,title:"äºï¼CookieåSessionçåºå«ï¼",slug:"äº-cookieåsessionçåºå«",normalizedTitle:"äºï¼cookieåsessionçåºå«ï¼",charIndex:1718},{level:2,title:"ä¸ï¼ä¸ºä»ä¹éè¦CookieåSessionï¼å®ä»¬çèç³»æ¯ä»ä¹ï¼",slug:"ä¸-ä¸ºä»ä¹éè¦cookieåsession-å®ä»¬çèç³»æ¯ä»ä¹",normalizedTitle:"ä¸ï¼ä¸ºä»ä¹éè¦cookieåsessionï¼å®ä»¬çèç³»æ¯ä»ä¹ï¼",charIndex:2008},{level:2,title:"åï¼å¦ææµè§å¨ç¦æ­¢ä½¿ç¨cookieï¼é£å¦ä½ä¿è¯å¤æ­ç¨æ·æ¯å¦ç»å½çæºå¶æ­£å¸¸æ§è¡ï¼",slug:"å-å¦ææµè§å¨ç¦æ­¢ä½¿ç¨cookie-é£å¦ä½ä¿è¯å¤æ­ç¨æ·æ¯å¦ç»å½çæºå¶æ­£å¸¸æ§è¡",normalizedTitle:"åï¼å¦ææµè§å¨ç¦æ­¢ä½¿ç¨cookieï¼é£å¦ä½ä¿è¯å¤æ­ç¨æ·æ¯å¦ç»å½çæºå¶æ­£å¸¸æ§è¡ï¼",charIndex:2476},{level:2,title:"äºï¼å¦ä½èèåå¸å¼ Session é®é¢ï¼",slug:"äº-å¦ä½èèåå¸å¼-session-é®é¢",normalizedTitle:"äºï¼å¦ä½èèåå¸å¼ session é®é¢ï¼",charIndex:2842}],headersStr:"ä»ä¹æ¯è®¤è¯ï¼Authenticationï¼ ä»ä¹æ¯ææï¼Authorizationï¼ ä»ä¹æ¯å­è¯ï¼Credentialsï¼ ä»ä¹æ¯ Cookie ä»ä¹æ¯ Session äºï¼CookieåSessionçåºå«ï¼ ä¸ï¼ä¸ºä»ä¹éè¦CookieåSessionï¼å®ä»¬çèç³»æ¯ä»ä¹ï¼ åï¼å¦ææµè§å¨ç¦æ­¢ä½¿ç¨cookieï¼é£å¦ä½ä¿è¯å¤æ­ç¨æ·æ¯å¦ç»å½çæºå¶æ­£å¸¸æ§è¡ï¼ äºï¼å¦ä½èèåå¸å¼ Session é®é¢ï¼",content:"# ä»ä¹æ¯è®¤è¯ï¼Authenticationï¼\n\néä¿å°è®²å°±æ¯éªè¯å½åç¨æ·çèº«ä»½ï¼è¯æâä½ æ¯ä½ èªå·±âï¼æ¯å¦ï¼ä½ æ¯å¤©ä¸ä¸ç­æå¡ï¼é½éè¦éè¿æçº¹æå¡ï¼å½ä½ çæçº¹åç³»ç»éå½å¥çæçº¹ç¸å¹éæ¶ï¼å°±æå¡æåï¼ äºèç½ä¸­çè®¤è¯ï¼\n\n * ç¨æ·åå¯ç ç»å½\n * é®ç®±åéç»å½é¾æ¥\n * ææºå·æ¥æ¶éªè¯ç \n * åªè¦ä½ è½æ¶å°é®ç®±/éªè¯ç ï¼å°±é»è®¤ä½ æ¯è´¦å·çä¸»äºº\n\n\n# ä»ä¹æ¯ææï¼Authorizationï¼\n\nç¨æ·æäºç¬¬ä¸æ¹åºç¨è®¿é®è¯¥ç¨æ·æäºèµæºçæé\n\n * ä½ å¨å®è£ææºåºç¨çæ¶åï¼APP ä¼è¯¢é®æ¯å¦åè®¸æäºæéï¼è®¿é®ç¸åãå°çä½ç½®ç­æéï¼\n * ä½ å¨è®¿é®å¾®ä¿¡å°ç¨åºæ¶ï¼å½ç»å½æ¶ï¼å°ç¨åºä¼è¯¢é®æ¯å¦åè®¸æäºæéï¼è·åæµç§°ãå¤´åãå°åºãæ§å«ç­ä¸ªäººä¿¡æ¯ï¼\n * å®ç°ææçæ¹å¼æï¼cookieãsessionãtokenãOAuth\n\n\n# ä»ä¹æ¯å­è¯ï¼Credentialsï¼\n\nå®ç°è®¤è¯åææçåææ¯éè¦ä¸ç§åªä»ï¼è¯ä¹¦ï¼ æ¥æ è®°è®¿é®èçèº«ä»½\n\n * å¨æå½æ¶æï¼åéåæ³ï¼åæäºç§èº«å¸ãç§èº«å¸ç±å®åºåæ¾ï¼æ¯ä¸åæç£¨åæ»ç»å¯çç«¹æ¿ï¼ä¸é¢å»æææäººçå¤´ååç±è´¯ä¿¡æ¯ãå½äººå¿é¡»ææï¼å¦è¥æ²¡æå°±è¢«è®¤ä¸ºæ¯é»æ·ï¼æèé´è°ä¹ç±»çã\n * å¨ç°å®çæ´»ä¸­ï¼æ¯ä¸ªäººé½ä¼æä¸å¼ ä¸å±çå±æ°èº«ä»½è¯ï¼æ¯ç¨äºè¯æææäººèº«ä»½çä¸ç§æ³å®è¯ä»¶ãéè¿èº«ä»½è¯ï¼æä»¬å¯ä»¥åçææºå¡/é¶è¡å¡/ä¸ªäººè´·æ¬¾/äº¤éåºè¡ç­ç­ï¼è¿å°±æ¯è®¤è¯çå­è¯ã\n * å¨äºèç½åºç¨ä¸­ï¼ä¸è¬ç½ç«ï¼å¦æéï¼ä¼æä¸¤ç§æ¨¡å¼ï¼æ¸¸å®¢æ¨¡å¼åç»å½æ¨¡å¼ãæ¸¸å®¢æ¨¡å¼ä¸ï¼å¯ä»¥æ­£å¸¸æµè§ç½ç«ä¸é¢çæç« ï¼ä¸æ¦æ³è¦ç¹èµ/æ¶è/åäº«æç« ï¼å°±éè¦ç»å½æèæ³¨åè´¦å·ãå½ç¨æ·ç»å½æååï¼æå¡å¨ä¼ç»è¯¥ç¨æ·ä½¿ç¨çæµè§å¨é¢åä¸ä¸ªä»¤çï¼tokenï¼ï¼è¿ä¸ªä»¤çç¨æ¥è¡¨æä½ çèº«ä»½ï¼æ¯æ¬¡æµè§å¨åéè¯·æ±æ¶ä¼å¸¦ä¸è¿ä¸ªä»¤çï¼å°±å¯ä»¥ä½¿ç¨æ¸¸å®¢æ¨¡å¼ä¸æ æ³ä½¿ç¨çåè½ã\n\n\n# ä»ä¹æ¯ Cookie\n\n * HTTP æ¯æ ç¶æçåè®®ï¼å¯¹äºäºå¡å¤çæ²¡æè®°å¿è½åï¼æ¯æ¬¡å®¢æ·ç«¯åæå¡ç«¯ä¼è¯å®ææ¶ï¼æå¡ç«¯ä¸ä¼ä¿å­ä»»ä½ä¼è¯ä¿¡æ¯ï¼ï¼æ¯ä¸ªè¯·æ±é½æ¯å®å¨ç¬ç«çï¼æå¡ç«¯æ æ³ç¡®è®¤å½åè®¿é®èçèº«ä»½ä¿¡æ¯ï¼æ æ³åè¾¨ä¸ä¸æ¬¡çè¯·æ±åéèåè¿ä¸æ¬¡çåéèæ¯ä¸æ¯åä¸ä¸ªäººãæä»¥æå¡å¨ä¸æµè§å¨ä¸ºäºè¿è¡ä¼è¯è·è¸ªï¼ç¥éæ¯è°å¨è®¿é®æï¼ï¼å°±å¿é¡»ä¸»å¨çå»ç»´æ¤ä¸ä¸ªç¶æï¼è¿ä¸ªç¶æç¨äºåç¥æå¡ç«¯ååä¸¤ä¸ªè¯·æ±æ¯å¦æ¥èªåä¸æµè§å¨ãèè¿ä¸ªç¶æéè¦éè¿ cookie æè session å»å®ç°ã\n * cookie å­å¨å¨å®¢æ·ç«¯ï¼ cookie æ¯æå¡å¨åéå°ç¨æ·æµè§å¨å¹¶ä¿å­å¨æ¬å°çä¸å°åæ°æ®ï¼å®ä¼å¨æµè§å¨ä¸æ¬¡ååä¸æå¡å¨ååèµ·è¯·æ±æ¶è¢«æºå¸¦å¹¶åéå°æå¡å¨ä¸ã cookie æ¯ä¸å¯è·¨åçï¼ æ¯ä¸ª cookie é½ä¼ç»å®åä¸çååï¼æ æ³å¨å«çååä¸è·åä½¿ç¨ï¼ä¸çº§åååäºçº§ååä¹é´æ¯åè®¸å±äº«ä½¿ç¨çï¼é çæ¯ domainï¼ã\n\n\n# ä»ä¹æ¯ Session\n\n * session æ¯å¦ä¸ç§è®°å½æå¡å¨åå®¢æ·ç«¯ä¼è¯ç¶æçæºå¶\n * session æ¯åºäº cookie å®ç°çï¼session å­å¨å¨æå¡å¨ç«¯ï¼sessionId ä¼è¢«å­å¨å°å®¢æ·ç«¯çcookie ä¸­\n\n\n\nsession è®¤è¯æµç¨ï¼\n\n * ç¨æ·ç¬¬ä¸æ¬¡è¯·æ±æå¡å¨çæ¶åï¼æå¡å¨æ ¹æ®ç¨æ·æäº¤çç¸å³ä¿¡æ¯ï¼åå»ºå¯¹åºç Session\n * è¯·æ±è¿åæ¶å°æ­¤ Session çå¯ä¸æ è¯ä¿¡æ¯ SessionID è¿åç»æµè§å¨\n * æµè§å¨æ¥æ¶å°æå¡å¨è¿åç SessionID ä¿¡æ¯åï¼ä¼å°æ­¤ä¿¡æ¯å­å¥å° Cookie ä¸­ï¼åæ¶ Cookie è®°å½æ­¤ SessionID å±äºåªä¸ªåå\n * å½ç¨æ·ç¬¬äºæ¬¡è®¿é®æå¡å¨çæ¶åï¼è¯·æ±ä¼èªå¨å¤æ­æ­¤ååä¸æ¯å¦å­å¨ Cookie ä¿¡æ¯ï¼å¦æå­å¨èªå¨å° Cookie ä¿¡æ¯ä¹åéç»æå¡ç«¯ï¼æå¡ç«¯ä¼ä» Cookie ä¸­è·å SessionIDï¼åæ ¹æ® SessionID æ¥æ¾å¯¹åºç Session ä¿¡æ¯ï¼å¦ææ²¡ææ¾å°è¯´æç¨æ·æ²¡æç»å½æèç»å½å¤±æï¼å¦ææ¾å° Session è¯æç¨æ·å·²ç»ç»å½å¯æ§è¡åé¢æä½ã\n\næ ¹æ®ä»¥ä¸æµç¨å¯ç¥ï¼SessionID æ¯è¿æ¥ Cookie å Session çä¸éæ¡¥æ¢ï¼å¤§é¨åç³»ç»ä¹æ¯æ ¹æ®æ­¤åçæ¥éªè¯ç¨æ·ç»å½ç¶æã\n\n\n# äºï¼CookieåSessionçåºå«ï¼\n\nå­å¨ä½ç½®ä¸åï¼cookieä¿å­å¨å®¢æ·ç«¯æµè§å¨ï¼sessionä¿å­å¨æå¡å¨ç«¯ï¼\n\nå­åæ¹å¼ä¸åï¼cookieåªè½ä¿å­ASCIIï¼æ¯åºäºæä¸å­æ¯çä¸å¥çµèç¼ç ç³»ç»ï¼ï¼sessionè½ä¿å­ä»»ææ°æ®ç±»åï¼\n\næææä¸åï¼cookieä¸­çæ°æ®å¯ä»¥é¿æ¶é´å­å¨ï¼sessionä¸­çæ°æ®å¨ä¼è¯ç»ææèæµè§å¨å³é­æ¶å¤±æï¼\n\næ°æ®å®å¨æ§ä¸åï¼å ä¸ºcookieæ¯ä¿å­å¨æµè§å¨ä¸­çï¼æ°æ®å®å¨æ§ç¸å¯¹è¾å·®ï¼sessionæ¯å­å¨å¨æå¡å¨ç«¯çï¼å®å¨æ§ç¸å¯¹è¾é«ï¼\n\nå­å¨å¤§å°ä¸åï¼cookieä¸è¬ä¿å­çæ°æ®å¤§å°ä¸ä¼è¶è¿4Kï¼èsessionçè®ºä¸æ¥è¯´æ²¡æéå¶ï¼\n\n\n# ä¸ï¼ä¸ºä»ä¹éè¦CookieåSessionï¼å®ä»¬çèç³»æ¯ä»ä¹ï¼\n\nå ä¸ºæµè§å¨æ¯æ ç¶æçï¼httpåè®®æ¯æ ç¶æï¼ï¼æµè§å¨å¹¶ä¸ç¥éæ¯è°å¨è·æå¡å¨èç³»ï¼è¿ä¸ªæ¶åå°±éè¦ä¸ä¸ªæºå¶æ¥åè¯æå¡å¨ï¼æ¯è°å¨æä½æµè§å¨ï¼æä½äººæ¯å¦ç»å½ç­ï¼è¦å®ç°è¿ä¸ªæºå¶ï¼å°±éè¦cookieåsessionéåå®æï¼\n\nå½ç¨æ·ç¬¬ä¸æ¬¡è®¿é®æå¡å¨æ¶ï¼æå¡å¨ä¼æ ¹æ®ç¨æ·æäº¤çä¿¡æ¯çæsessionï¼ç¶åç»æµè§å¨è¿åä¸ä¸ªsessionIdï¼æµè§å¨æ¥æ¶å°è¿ä¸ªsessionIdåï¼ä¿å­å¨cookieä¸­ï¼åæ¶cookieè®°å½æ­¤sessionIdå±äºåªä¸ªååï¼\n\nç¨æ·åæ¬¡è®¿é®æå¡å¨æ¶ï¼è¯·æ±ä¼èªå¨å¤æ­æ­¤ååä¸æ¯å¦ç¨cookieä¿¡æ¯ï¼å¦æå­å¨cookieï¼åå°cookieåéç»æå¡å¨ï¼æå¡å¨è§£æcookieæ¿å°sessionIdï¼ç¶åæ ¹æ®sessionIdæ¥è¯¢sessionä¿¡æ¯ï¼å¦æè½æ¾å°sessionä¿¡æ¯ï¼åå¯ä»¥æ§è¡åé¢çæä½ï¼å¦ææ²¡æåè¯´ææ²¡æç»å½æèç»å½å·²ç»å¤±æï¼\n\nsessionIdæ¯èç³»cookieåsessionçæ¡¥æ¢ï¼å¤§é¨åç³»ç»ä¹æ¯éè¿è¿ä¸ªæ¥å¤æ­ç¨æ·æ¯å¦ç»å½ï¼\n\n\n# åï¼å¦ææµè§å¨ç¦æ­¢ä½¿ç¨cookieï¼é£å¦ä½ä¿è¯å¤æ­ç¨æ·æ¯å¦ç»å½çæºå¶æ­£å¸¸æ§è¡ï¼\n\nç¬¬ä¸ç§æ¹æ¡ï¼æ¯æ¬¡è¯·æ±ä¸­é½æºå¸¦ä¸ä¸ª SessionID çåæ°ï¼ä¹å¯ä»¥ Post çæ¹å¼æäº¤ï¼ä¹å¯ä»¥å¨è¯·æ±çå°ååé¢æ¼æ¥ xxx?SessionID=123456...ã\n\nç¬¬äºç§æ¹æ¡ï¼Token æºå¶ãToken æºå¶å¤ç¨äº App å®¢æ·ç«¯åæå¡å¨äº¤äºçæ¨¡å¼ï¼ä¹å¯ä»¥ç¨äº Web ç«¯åç¨æ·ç¶æç®¡çã\n\nToken çæææ¯âä»¤çâï¼æ¯æå¡ç«¯çæçä¸ä¸²å­ç¬¦ä¸²ï¼ä½ä¸ºå®¢æ·ç«¯è¿è¡è¯·æ±çä¸ä¸ªæ è¯ãToken æºå¶å Cookie å Session çä½¿ç¨æºå¶æ¯è¾ç±»ä¼¼ã\n\nå½ç¨æ·ç¬¬ä¸æ¬¡ç»å½åï¼æå¡å¨æ ¹æ®æäº¤çç¨æ·ä¿¡æ¯çæä¸ä¸ª Tokenï¼ååºæ¶å° Token è¿åç»å®¢æ·ç«¯ï¼ä»¥åå®¢æ·ç«¯åªéå¸¦ä¸è¿ä¸ª Token åæ¥è¯·æ±æ°æ®å³å¯ï¼æ éåæ¬¡ç»å½éªè¯ã\n\n\n# äºï¼å¦ä½èèåå¸å¼ Session é®é¢ï¼\n\nå¨äºèç½å¬å¸ä¸ºäºå¯ä»¥æ¯ææ´å¤§çæµéï¼åç«¯å¾å¾éè¦å¤å°æå¡å¨å±åæ¥æ¯æåç«¯ç¨æ·è¯·æ±ï¼é£å¦æç¨æ·å¨ A æå¡å¨ç»å½äºï¼ç¬¬äºæ¬¡è¯·æ±è·å°æå¡ B å°±ä¼åºç°ç»å½å¤±æé®é¢ã\n\nåå¸å¼ Session ä¸è¬ä¼æä»¥ä¸å ç§è§£å³æ¹æ¡ï¼\n\nNginx ip_hash ç­ç¥ï¼æå¡ç«¯ä½¿ç¨ Nginx ä»£çï¼æ¯ä¸ªè¯·æ±æè®¿é® IP ç hash åéï¼è¿æ ·æ¥èªåä¸ IP åºå®è®¿é®ä¸ä¸ªåå°æå¡å¨ï¼é¿åäºå¨æå¡å¨ A åå»º Sessionï¼ç¬¬äºæ¬¡ååå°æå¡å¨ B çç°è±¡ã\n\nSession å¤å¶ï¼ä»»ä½ä¸ä¸ªæå¡å¨ä¸ç Session åçæ¹åï¼å¢å æ¹ï¼ï¼è¯¥èç¹ä¼æè¿ä¸ª Session çææåå®¹åºååï¼ç¶åå¹¿æ­ç»ææå¶å®èç¹ã\n\nå±äº« Sessionï¼æå¡ç«¯æ ç¶æè¯ï¼å°ç¨æ·ç Session ç­ä¿¡æ¯ä½¿ç¨ç¼å­ä¸­é´ä»¶æ¥ç»ä¸ç®¡çï¼ä¿éååå°æ¯ä¸ä¸ªæå¡å¨çååºç»æé½ä¸è´ã\n\nå»ºè®®éç¨ç¬¬ä¸ç§æ¹æ¡ã\n\nåèï¼ è¿åä¸æ¸ CookieãSessionãTokenãJWTï¼",normalizedContent:"# ä»ä¹æ¯è®¤è¯ï¼authenticationï¼\n\néä¿å°è®²å°±æ¯éªè¯å½åç¨æ·çèº«ä»½ï¼è¯æâä½ æ¯ä½ èªå·±âï¼æ¯å¦ï¼ä½ æ¯å¤©ä¸ä¸ç­æå¡ï¼é½éè¦éè¿æçº¹æå¡ï¼å½ä½ çæçº¹åç³»ç»éå½å¥çæçº¹ç¸å¹éæ¶ï¼å°±æå¡æåï¼ äºèç½ä¸­çè®¤è¯ï¼\n\n * ç¨æ·åå¯ç ç»å½\n * é®ç®±åéç»å½é¾æ¥\n * ææºå·æ¥æ¶éªè¯ç \n * åªè¦ä½ è½æ¶å°é®ç®±/éªè¯ç ï¼å°±é»è®¤ä½ æ¯è´¦å·çä¸»äºº\n\n\n# ä»ä¹æ¯ææï¼authorizationï¼\n\nç¨æ·æäºç¬¬ä¸æ¹åºç¨è®¿é®è¯¥ç¨æ·æäºèµæºçæé\n\n * ä½ å¨å®è£ææºåºç¨çæ¶åï¼app ä¼è¯¢é®æ¯å¦åè®¸æäºæéï¼è®¿é®ç¸åãå°çä½ç½®ç­æéï¼\n * ä½ å¨è®¿é®å¾®ä¿¡å°ç¨åºæ¶ï¼å½ç»å½æ¶ï¼å°ç¨åºä¼è¯¢é®æ¯å¦åè®¸æäºæéï¼è·åæµç§°ãå¤´åãå°åºãæ§å«ç­ä¸ªäººä¿¡æ¯ï¼\n * å®ç°ææçæ¹å¼æï¼cookieãsessionãtokenãoauth\n\n\n# ä»ä¹æ¯å­è¯ï¼credentialsï¼\n\nå®ç°è®¤è¯åææçåææ¯éè¦ä¸ç§åªä»ï¼è¯ä¹¦ï¼ æ¥æ è®°è®¿é®èçèº«ä»½\n\n * å¨æå½æ¶æï¼åéåæ³ï¼åæäºç§èº«å¸ãç§èº«å¸ç±å®åºåæ¾ï¼æ¯ä¸åæç£¨åæ»ç»å¯çç«¹æ¿ï¼ä¸é¢å»æææäººçå¤´ååç±è´¯ä¿¡æ¯ãå½äººå¿é¡»ææï¼å¦è¥æ²¡æå°±è¢«è®¤ä¸ºæ¯é»æ·ï¼æèé´è°ä¹ç±»çã\n * å¨ç°å®çæ´»ä¸­ï¼æ¯ä¸ªäººé½ä¼æä¸å¼ ä¸å±çå±æ°èº«ä»½è¯ï¼æ¯ç¨äºè¯æææäººèº«ä»½çä¸ç§æ³å®è¯ä»¶ãéè¿èº«ä»½è¯ï¼æä»¬å¯ä»¥åçææºå¡/é¶è¡å¡/ä¸ªäººè´·æ¬¾/äº¤éåºè¡ç­ç­ï¼è¿å°±æ¯è®¤è¯çå­è¯ã\n * å¨äºèç½åºç¨ä¸­ï¼ä¸è¬ç½ç«ï¼å¦æéï¼ä¼æä¸¤ç§æ¨¡å¼ï¼æ¸¸å®¢æ¨¡å¼åç»å½æ¨¡å¼ãæ¸¸å®¢æ¨¡å¼ä¸ï¼å¯ä»¥æ­£å¸¸æµè§ç½ç«ä¸é¢çæç« ï¼ä¸æ¦æ³è¦ç¹èµ/æ¶è/åäº«æç« ï¼å°±éè¦ç»å½æèæ³¨åè´¦å·ãå½ç¨æ·ç»å½æååï¼æå¡å¨ä¼ç»è¯¥ç¨æ·ä½¿ç¨çæµè§å¨é¢åä¸ä¸ªä»¤çï¼tokenï¼ï¼è¿ä¸ªä»¤çç¨æ¥è¡¨æä½ çèº«ä»½ï¼æ¯æ¬¡æµè§å¨åéè¯·æ±æ¶ä¼å¸¦ä¸è¿ä¸ªä»¤çï¼å°±å¯ä»¥ä½¿ç¨æ¸¸å®¢æ¨¡å¼ä¸æ æ³ä½¿ç¨çåè½ã\n\n\n# ä»ä¹æ¯ cookie\n\n * http æ¯æ ç¶æçåè®®ï¼å¯¹äºäºå¡å¤çæ²¡æè®°å¿è½åï¼æ¯æ¬¡å®¢æ·ç«¯åæå¡ç«¯ä¼è¯å®ææ¶ï¼æå¡ç«¯ä¸ä¼ä¿å­ä»»ä½ä¼è¯ä¿¡æ¯ï¼ï¼æ¯ä¸ªè¯·æ±é½æ¯å®å¨ç¬ç«çï¼æå¡ç«¯æ æ³ç¡®è®¤å½åè®¿é®èçèº«ä»½ä¿¡æ¯ï¼æ æ³åè¾¨ä¸ä¸æ¬¡çè¯·æ±åéèåè¿ä¸æ¬¡çåéèæ¯ä¸æ¯åä¸ä¸ªäººãæä»¥æå¡å¨ä¸æµè§å¨ä¸ºäºè¿è¡ä¼è¯è·è¸ªï¼ç¥éæ¯è°å¨è®¿é®æï¼ï¼å°±å¿é¡»ä¸»å¨çå»ç»´æ¤ä¸ä¸ªç¶æï¼è¿ä¸ªç¶æç¨äºåç¥æå¡ç«¯ååä¸¤ä¸ªè¯·æ±æ¯å¦æ¥èªåä¸æµè§å¨ãèè¿ä¸ªç¶æéè¦éè¿ cookie æè session å»å®ç°ã\n * cookie å­å¨å¨å®¢æ·ç«¯ï¼ cookie æ¯æå¡å¨åéå°ç¨æ·æµè§å¨å¹¶ä¿å­å¨æ¬å°çä¸å°åæ°æ®ï¼å®ä¼å¨æµè§å¨ä¸æ¬¡ååä¸æå¡å¨ååèµ·è¯·æ±æ¶è¢«æºå¸¦å¹¶åéå°æå¡å¨ä¸ã cookie æ¯ä¸å¯è·¨åçï¼ æ¯ä¸ª cookie é½ä¼ç»å®åä¸çååï¼æ æ³å¨å«çååä¸è·åä½¿ç¨ï¼ä¸çº§åååäºçº§ååä¹é´æ¯åè®¸å±äº«ä½¿ç¨çï¼é çæ¯ domainï¼ã\n\n\n# ä»ä¹æ¯ session\n\n * session æ¯å¦ä¸ç§è®°å½æå¡å¨åå®¢æ·ç«¯ä¼è¯ç¶æçæºå¶\n * session æ¯åºäº cookie å®ç°çï¼session å­å¨å¨æå¡å¨ç«¯ï¼sessionid ä¼è¢«å­å¨å°å®¢æ·ç«¯çcookie ä¸­\n\n\n\nsession è®¤è¯æµç¨ï¼\n\n * ç¨æ·ç¬¬ä¸æ¬¡è¯·æ±æå¡å¨çæ¶åï¼æå¡å¨æ ¹æ®ç¨æ·æäº¤çç¸å³ä¿¡æ¯ï¼åå»ºå¯¹åºç session\n * è¯·æ±è¿åæ¶å°æ­¤ session çå¯ä¸æ è¯ä¿¡æ¯ sessionid è¿åç»æµè§å¨\n * æµè§å¨æ¥æ¶å°æå¡å¨è¿åç sessionid ä¿¡æ¯åï¼ä¼å°æ­¤ä¿¡æ¯å­å¥å° cookie ä¸­ï¼åæ¶ cookie è®°å½æ­¤ sessionid å±äºåªä¸ªåå\n * å½ç¨æ·ç¬¬äºæ¬¡è®¿é®æå¡å¨çæ¶åï¼è¯·æ±ä¼èªå¨å¤æ­æ­¤ååä¸æ¯å¦å­å¨ cookie ä¿¡æ¯ï¼å¦æå­å¨èªå¨å° cookie ä¿¡æ¯ä¹åéç»æå¡ç«¯ï¼æå¡ç«¯ä¼ä» cookie ä¸­è·å sessionidï¼åæ ¹æ® sessionid æ¥æ¾å¯¹åºç session ä¿¡æ¯ï¼å¦ææ²¡ææ¾å°è¯´æç¨æ·æ²¡æç»å½æèç»å½å¤±æï¼å¦ææ¾å° session è¯æç¨æ·å·²ç»ç»å½å¯æ§è¡åé¢æä½ã\n\næ ¹æ®ä»¥ä¸æµç¨å¯ç¥ï¼sessionid æ¯è¿æ¥ cookie å session çä¸éæ¡¥æ¢ï¼å¤§é¨åç³»ç»ä¹æ¯æ ¹æ®æ­¤åçæ¥éªè¯ç¨æ·ç»å½ç¶æã\n\n\n# äºï¼cookieåsessionçåºå«ï¼\n\nå­å¨ä½ç½®ä¸åï¼cookieä¿å­å¨å®¢æ·ç«¯æµè§å¨ï¼sessionä¿å­å¨æå¡å¨ç«¯ï¼\n\nå­åæ¹å¼ä¸åï¼cookieåªè½ä¿å­asciiï¼æ¯åºäºæä¸å­æ¯çä¸å¥çµèç¼ç ç³»ç»ï¼ï¼sessionè½ä¿å­ä»»ææ°æ®ç±»åï¼\n\næææä¸åï¼cookieä¸­çæ°æ®å¯ä»¥é¿æ¶é´å­å¨ï¼sessionä¸­çæ°æ®å¨ä¼è¯ç»ææèæµè§å¨å³é­æ¶å¤±æï¼\n\næ°æ®å®å¨æ§ä¸åï¼å ä¸ºcookieæ¯ä¿å­å¨æµè§å¨ä¸­çï¼æ°æ®å®å¨æ§ç¸å¯¹è¾å·®ï¼sessionæ¯å­å¨å¨æå¡å¨ç«¯çï¼å®å¨æ§ç¸å¯¹è¾é«ï¼\n\nå­å¨å¤§å°ä¸åï¼cookieä¸è¬ä¿å­çæ°æ®å¤§å°ä¸ä¼è¶è¿4kï¼èsessionçè®ºä¸æ¥è¯´æ²¡æéå¶ï¼\n\n\n# ä¸ï¼ä¸ºä»ä¹éè¦cookieåsessionï¼å®ä»¬çèç³»æ¯ä»ä¹ï¼\n\nå ä¸ºæµè§å¨æ¯æ ç¶æçï¼httpåè®®æ¯æ ç¶æï¼ï¼æµè§å¨å¹¶ä¸ç¥éæ¯è°å¨è·æå¡å¨èç³»ï¼è¿ä¸ªæ¶åå°±éè¦ä¸ä¸ªæºå¶æ¥åè¯æå¡å¨ï¼æ¯è°å¨æä½æµè§å¨ï¼æä½äººæ¯å¦ç»å½ç­ï¼è¦å®ç°è¿ä¸ªæºå¶ï¼å°±éè¦cookieåsessionéåå®æï¼\n\nå½ç¨æ·ç¬¬ä¸æ¬¡è®¿é®æå¡å¨æ¶ï¼æå¡å¨ä¼æ ¹æ®ç¨æ·æäº¤çä¿¡æ¯çæsessionï¼ç¶åç»æµè§å¨è¿åä¸ä¸ªsessionidï¼æµè§å¨æ¥æ¶å°è¿ä¸ªsessionidåï¼ä¿å­å¨cookieä¸­ï¼åæ¶cookieè®°å½æ­¤sessionidå±äºåªä¸ªååï¼\n\nç¨æ·åæ¬¡è®¿é®æå¡å¨æ¶ï¼è¯·æ±ä¼èªå¨å¤æ­æ­¤ååä¸æ¯å¦ç¨cookieä¿¡æ¯ï¼å¦æå­å¨cookieï¼åå°cookieåéç»æå¡å¨ï¼æå¡å¨è§£æcookieæ¿å°sessionidï¼ç¶åæ ¹æ®sessionidæ¥è¯¢sessionä¿¡æ¯ï¼å¦æè½æ¾å°sessionä¿¡æ¯ï¼åå¯ä»¥æ§è¡åé¢çæä½ï¼å¦ææ²¡æåè¯´ææ²¡æç»å½æèç»å½å·²ç»å¤±æï¼\n\nsessionidæ¯èç³»cookieåsessionçæ¡¥æ¢ï¼å¤§é¨åç³»ç»ä¹æ¯éè¿è¿ä¸ªæ¥å¤æ­ç¨æ·æ¯å¦ç»å½ï¼\n\n\n# åï¼å¦ææµè§å¨ç¦æ­¢ä½¿ç¨cookieï¼é£å¦ä½ä¿è¯å¤æ­ç¨æ·æ¯å¦ç»å½çæºå¶æ­£å¸¸æ§è¡ï¼\n\nç¬¬ä¸ç§æ¹æ¡ï¼æ¯æ¬¡è¯·æ±ä¸­é½æºå¸¦ä¸ä¸ª sessionid çåæ°ï¼ä¹å¯ä»¥ post çæ¹å¼æäº¤ï¼ä¹å¯ä»¥å¨è¯·æ±çå°ååé¢æ¼æ¥ xxx?sessionid=123456...ã\n\nç¬¬äºç§æ¹æ¡ï¼token æºå¶ãtoken æºå¶å¤ç¨äº app å®¢æ·ç«¯åæå¡å¨äº¤äºçæ¨¡å¼ï¼ä¹å¯ä»¥ç¨äº web ç«¯åç¨æ·ç¶æç®¡çã\n\ntoken çæææ¯âä»¤çâï¼æ¯æå¡ç«¯çæçä¸ä¸²å­ç¬¦ä¸²ï¼ä½ä¸ºå®¢æ·ç«¯è¿è¡è¯·æ±çä¸ä¸ªæ è¯ãtoken æºå¶å cookie å session çä½¿ç¨æºå¶æ¯è¾ç±»ä¼¼ã\n\nå½ç¨æ·ç¬¬ä¸æ¬¡ç»å½åï¼æå¡å¨æ ¹æ®æäº¤çç¨æ·ä¿¡æ¯çæä¸ä¸ª tokenï¼ååºæ¶å° token è¿åç»å®¢æ·ç«¯ï¼ä»¥åå®¢æ·ç«¯åªéå¸¦ä¸è¿ä¸ª token åæ¥è¯·æ±æ°æ®å³å¯ï¼æ éåæ¬¡ç»å½éªè¯ã\n\n\n# äºï¼å¦ä½èèåå¸å¼ session é®é¢ï¼\n\nå¨äºèç½å¬å¸ä¸ºäºå¯ä»¥æ¯ææ´å¤§çæµéï¼åç«¯å¾å¾éè¦å¤å°æå¡å¨å±åæ¥æ¯æåç«¯ç¨æ·è¯·æ±ï¼é£å¦æç¨æ·å¨ a æå¡å¨ç»å½äºï¼ç¬¬äºæ¬¡è¯·æ±è·å°æå¡ b å°±ä¼åºç°ç»å½å¤±æé®é¢ã\n\nåå¸å¼ session ä¸è¬ä¼æä»¥ä¸å ç§è§£å³æ¹æ¡ï¼\n\nnginx ip_hash ç­ç¥ï¼æå¡ç«¯ä½¿ç¨ nginx ä»£çï¼æ¯ä¸ªè¯·æ±æè®¿é® ip ç hash åéï¼è¿æ ·æ¥èªåä¸ ip åºå®è®¿é®ä¸ä¸ªåå°æå¡å¨ï¼é¿åäºå¨æå¡å¨ a åå»º sessionï¼ç¬¬äºæ¬¡ååå°æå¡å¨ b çç°è±¡ã\n\nsession å¤å¶ï¼ä»»ä½ä¸ä¸ªæå¡å¨ä¸ç session åçæ¹åï¼å¢å æ¹ï¼ï¼è¯¥èç¹ä¼æè¿ä¸ª session çææåå®¹åºååï¼ç¶åå¹¿æ­ç»ææå¶å®èç¹ã\n\nå±äº« sessionï¼æå¡ç«¯æ ç¶æè¯ï¼å°ç¨æ·ç session ç­ä¿¡æ¯ä½¿ç¨ç¼å­ä¸­é´ä»¶æ¥ç»ä¸ç®¡çï¼ä¿éååå°æ¯ä¸ä¸ªæå¡å¨çååºç»æé½ä¸è´ã\n\nå»ºè®®éç¨ç¬¬ä¸ç§æ¹æ¡ã\n\nåèï¼ è¿åä¸æ¸ cookieãsessionãtokenãjwtï¼",charsets:{cjk:!0},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿° WebSocket æ¯å¦ä½è¿è¡ä¼ è¾ç",frontmatter:{title:"ç®è¿° WebSocket æ¯å¦ä½è¿è¡ä¼ è¾ç",date:"2022-09-21T22:54:37.000Z",permalink:"/pages/172129/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/260.%E7%AE%80%E8%BF%B0%20WebSocket%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E4%BC%A0%E8%BE%93%E7%9A%84.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/260.ç®è¿° WebSocket æ¯å¦ä½è¿è¡ä¼ è¾ç.md",key:"v-7707a260",path:"/pages/172129/",headers:[{level:2,title:"WebSocket åè®®",slug:"websocket-åè®®",normalizedTitle:"websocket åè®®",charIndex:729},{level:2,title:"WebSocketä¸TCPãHttpåè®®ä¹é´çå³ç³»",slug:"websocketä¸tcpãhttpåè®®ä¹é´çå³ç³»",normalizedTitle:"websocketä¸tcpãhttpåè®®ä¹é´çå³ç³»",charIndex:1550}],headersStr:"WebSocket åè®® WebSocketä¸TCPãHttpåè®®ä¹é´çå³ç³»",content:"ä¸ãä»ä¹æ¯ WebSocket ï¼ WebSocket ââä¸ç§å¨ 2011 å¹´è¢«äºèç½å·¥ç¨ä»»å¡ç»ï¼ IETF ï¼æ ååçåè®®ã\n\nWebSocket è§£å³äºä¸ä¸ªé¿æå­å¨çé®é¢ï¼æ¢ç¶åºå±çåè®®ï¼ HTTP ï¼æ¯ä¸ä¸ªè¯·æ± / ååºæ¨¡å¼çäº¤äºåºåï¼\n\né£ä¹å¦ä½å®æ¶å°åå¸ä¿¡æ¯å¢ï¼\n\nAJAX æä¾äºä¸å®ç¨åº¦ä¸çæ¹åï¼ä½æ¯æ°æ®æµä»ç¶æ¯ç±å®¢æ·ç«¯æåéçè¯·æ±é©±å¨çã\n\nè¿æå¶ä»çä¸äºæå¤æå°çåå·§æ¹å¼(Comet) WebSocket è§èä»¥åå®çå®ç°ä»£è¡¨äºå¯¹ä¸ç§æ´å ææçè§£å³æ¹æ¡çå°è¯ã\n\nç®åå°è¯´ï¼WebSocket æä¾äºâå¨ä¸ä¸ªåä¸ªç TCP è¿æ¥ä¸æä¾ååçéä¿¡â¦â¦ç»å WebSocket API â¦â¦\n\nå®ä¸ºç½é¡µåè¿ç¨æå¡å¨ä¹é´çååéä¿¡æä¾äºä¸ç§æ¿ä»£ HTTP è½®è¯¢çæ¹æ¡ã\n\nä½æ¯æç»å®ä»¬ä»ç¶å±äºæ©å±æ§åéçåéä¹æ³ãä¹å°±æ¯è¯´ï¼WebSocket å¨å®¢æ·ç«¯å\n\næå¡å¨ä¹é´æä¾äºçæ­£çååæ°æ®äº¤æ¢ã\n\nWebSocket è¿æ¥åè®¸å®¢æ·ç«¯åæå¡å¨ä¹é´è¿è¡å¨åå·¥éä¿¡ï¼\n\nä»¥ä¾¿ä»»ä¸æ¹é½å¯ä»¥éè¿å»ºç«çè¿æ¥å°æ°æ®æ¨éå°å¦ä¸ç«¯ã\n\nWebSocket åªéè¦å»ºç«ä¸æ¬¡è¿æ¥ï¼å°±å¯ä»¥ä¸ç´ä¿æè¿æ¥ç¶æãè¿ç¸æ¯äºè½®è¯¢æ¹å¼çä¸åå»ºç«è¿æ¥æ¾ç¶æçè¦å¤§å¤§æé«ã\n\nWeb æµè§å¨åæå¡å¨é½å¿é¡»å®ç° WebSockets åè®®æ¥å»ºç«åç»´æ¤è¿æ¥ã ç¹ç¹\n\n 1. HTML5 ä¸­çåè®®ï¼å®ç°ä¸å®¢æ·ç«¯ä¸æå¡å¨ååï¼åºäºæ¶æ¯çææ¬æäºè¿å¶æ°æ®éä¿¡\n\n 2. éåäºå¯¹æ°æ®çå®æ¶æ§è¦æ±æ¯è¾å¼ºçåºæ¯ï¼å¦éä¿¡ãç´æ­ãå±äº«æ¡é¢ï¼ç¹å«éåäºå®¢æ·ä¸æå¡é¢ç¹äº¤äºçæåµä¸ï¼å¦å®æ¶å±äº«ãå¤äººåä½ç­å¹³å°ã\n\n 3. éç¨æ°çåè®®ï¼åç«¯éè¦åç¬å®ç°\n\n 4. å®¢æ·ç«¯å¹¶ä¸æ¯æææµè§å¨é½æ¯æ\n\n\n# WebSocket åè®®\n\nWebSocketåè®®æ¯ä¸ç§ååéä¿¡åè®®ï¼å®å»ºç«å¨TCPä¹ä¸ï¼åhttpä¸æ ·éè¿TCPæ¥ä¼ è¾æ°æ®ï¼\n\nä½æ¯å®åhttpæå¤§çä¸åæä¸¤ç¹ï¼\n\n 1. WebSocketæ¯ä¸ç§ååéä¿¡åè®®ï¼å¨å»ºç«è¿æ¥åï¼WebSocketæå¡å¨åBrowser/UAé½è½ä¸»å¨çåå¯¹æ¹åéææ¥æ¶æ°æ®ï¼å°±åSocketä¸æ ·ï¼\n\nä¸åçæ¯WebSocketæ¯ä¸ç§å»ºç«å¨Webåºç¡ä¸çä¸ç§ç®åæ¨¡æSocketçåè®®ï¼\n\n 2. WebSocketéè¦éè¿æ¡æè¿æ¥ï¼ç±»ä¼¼äºTCPå®ä¹éè¦å®¢æ·ç«¯åæå¡å¨ç«¯è¿è¡æ¡æè¿æ¥ï¼è¿æ¥æååæè½ç¸äºéä¿¡ã\n\nä¸é¢æ¯ä¸ä¸ªç®åçå»ºç«æ¡æçæ¶åºå¾ï¼\n\n\n\nè¿éç®åè¯´æä¸ä¸WebSocketæ¡æçè¿ç¨ã\n\nå½Webåºç¨ç¨åºè°ç¨new WebSocket(url)æ¥å£æ¶ï¼Browserå°±å¼å§äºä¸å°åä¸ºurlçWebServerå»ºç«æ¡æè¿æ¥çè¿ç¨ã\n\n 1. Browserä¸WebSocketæå¡å¨éè¿TCPä¸æ¬¡æ¡æå»ºç«è¿æ¥ï¼å¦æè¿ä¸ªå»ºç«è¿æ¥å¤±è´¥ï¼é£ä¹åé¢çè¿ç¨å°±ä¸ä¼æ§è¡ï¼Webåºç¨ç¨åºå°æ¶å°éè¯¯æ¶æ¯éç¥ã\n\n 2. å¨TCPå»ºç«è¿æ¥æååï¼Browser/UAéè¿httpåè®®ä¼ éWebSocketæ¯æççæ¬å·ï¼åè®®çå­çæ¬å·ï¼åå§å°åï¼ä¸»æºå°åç­ç­ä¸äºåå­æ®µç»æå¡å¨ç«¯ã\n\nä¾å¦ï¼\n\n\n\n 3. WebSocketæå¡å¨æ¶å°Browser/UAåéæ¥çæ¡æè¯·æ±åï¼å¦ææ°æ®åæ°æ®åæ ¼å¼æ­£ç¡®ï¼å®¢æ·ç«¯åæå¡å¨ç«¯çåè®®çæ¬å·å¹éç­ç­ï¼\n\nå°±æ¥åæ¬æ¬¡æ¡æè¿æ¥ï¼å¹¶ç»åºç¸åºçæ°æ®åå¤ï¼åæ ·åå¤çæ°æ®åä¹æ¯éç¨httpåè®®ä¼ è¾ã\n\n\n\n 4. Browseræ¶å°æå¡å¨åå¤çæ°æ®ååï¼å¦ææ°æ®ååå®¹ãæ ¼å¼é½æ²¡æé®é¢çè¯ï¼å°±è¡¨ç¤ºæ¬æ¬¡è¿æ¥æåï¼è§¦åonopenæ¶æ¯ï¼æ­¤æ¶Webå¼åèå°±å¯ä»¥å¨æ­¤æ¶éè¿sendæ¥å£æ³æå¡å¨åéæ°æ®ãå¦åï¼æ¡æè¿æ¥å¤±è´¥ï¼Webåºç¨ç¨åºä¼æ¶å°onerroræ¶æ¯ï¼å¹¶ä¸è½ç¥éè¿æ¥å¤±è´¥çåå ã\n\n\n# WebSocketä¸TCPãHttpåè®®ä¹é´çå³ç³»\n\nWebSocketä¸httpåè®®ä¸æ ·é½æ¯åºäºTCPçï¼æä»¥ä»ä»¬é½æ¯å¯é çåè®®ï¼\n\nWebå¼åèè°ç¨çWebSocketçsendå½æ°å¨browserçå®ç°ä¸­æç»é½æ¯éè¿TCPçç³»ç»æ¥å£è¿è¡ä¼ è¾çã\n\nWebSocketåHttpåè®®ä¸æ ·é½å±äºåºç¨å±çåè®®ï¼é£ä¹ä»ä»¬ä¹é´ææ²¡æä»ä¹å³ç³»å¢ï¼\n\nç­æ¡æ¯è¯å®çï¼WebSocketå¨å»ºç«æ¡æè¿æ¥æ¶ï¼æ°æ®æ¯éè¿httpåè®®ä¼ è¾çï¼æ­£å¦æä»¬ä¹åæçå°çâGET/chat HTTP/1.1âï¼\n\nè¿éé¢ç¨å°çåªæ¯httpåè®®ä¸äºç®åçå­æ®µãä½æ¯å¨å»ºç«è¿æ¥ä¹åï¼çæ­£çæ°æ®ä¼ è¾é¶æ®µæ¯ä¸éè¦httpåè®®åä¸çã\n\nå·ä½å³ç³»å¯ä»¥åèä¸å¾ï¼\n\n",normalizedContent:"ä¸ãä»ä¹æ¯ websocket ï¼ websocket ââä¸ç§å¨ 2011 å¹´è¢«äºèç½å·¥ç¨ä»»å¡ç»ï¼ ietf ï¼æ ååçåè®®ã\n\nwebsocket è§£å³äºä¸ä¸ªé¿æå­å¨çé®é¢ï¼æ¢ç¶åºå±çåè®®ï¼ http ï¼æ¯ä¸ä¸ªè¯·æ± / ååºæ¨¡å¼çäº¤äºåºåï¼\n\né£ä¹å¦ä½å®æ¶å°åå¸ä¿¡æ¯å¢ï¼\n\najax æä¾äºä¸å®ç¨åº¦ä¸çæ¹åï¼ä½æ¯æ°æ®æµä»ç¶æ¯ç±å®¢æ·ç«¯æåéçè¯·æ±é©±å¨çã\n\nè¿æå¶ä»çä¸äºæå¤æå°çåå·§æ¹å¼(comet) websocket è§èä»¥åå®çå®ç°ä»£è¡¨äºå¯¹ä¸ç§æ´å ææçè§£å³æ¹æ¡çå°è¯ã\n\nç®åå°è¯´ï¼websocket æä¾äºâå¨ä¸ä¸ªåä¸ªç tcp è¿æ¥ä¸æä¾ååçéä¿¡â¦â¦ç»å websocket api â¦â¦\n\nå®ä¸ºç½é¡µåè¿ç¨æå¡å¨ä¹é´çååéä¿¡æä¾äºä¸ç§æ¿ä»£ http è½®è¯¢çæ¹æ¡ã\n\nä½æ¯æç»å®ä»¬ä»ç¶å±äºæ©å±æ§åéçåéä¹æ³ãä¹å°±æ¯è¯´ï¼websocket å¨å®¢æ·ç«¯å\n\næå¡å¨ä¹é´æä¾äºçæ­£çååæ°æ®äº¤æ¢ã\n\nwebsocket è¿æ¥åè®¸å®¢æ·ç«¯åæå¡å¨ä¹é´è¿è¡å¨åå·¥éä¿¡ï¼\n\nä»¥ä¾¿ä»»ä¸æ¹é½å¯ä»¥éè¿å»ºç«çè¿æ¥å°æ°æ®æ¨éå°å¦ä¸ç«¯ã\n\nwebsocket åªéè¦å»ºç«ä¸æ¬¡è¿æ¥ï¼å°±å¯ä»¥ä¸ç´ä¿æè¿æ¥ç¶æãè¿ç¸æ¯äºè½®è¯¢æ¹å¼çä¸åå»ºç«è¿æ¥æ¾ç¶æçè¦å¤§å¤§æé«ã\n\nweb æµè§å¨åæå¡å¨é½å¿é¡»å®ç° websockets åè®®æ¥å»ºç«åç»´æ¤è¿æ¥ã ç¹ç¹\n\n 1. html5 ä¸­çåè®®ï¼å®ç°ä¸å®¢æ·ç«¯ä¸æå¡å¨ååï¼åºäºæ¶æ¯çææ¬æäºè¿å¶æ°æ®éä¿¡\n\n 2. éåäºå¯¹æ°æ®çå®æ¶æ§è¦æ±æ¯è¾å¼ºçåºæ¯ï¼å¦éä¿¡ãç´æ­ãå±äº«æ¡é¢ï¼ç¹å«éåäºå®¢æ·ä¸æå¡é¢ç¹äº¤äºçæåµä¸ï¼å¦å®æ¶å±äº«ãå¤äººåä½ç­å¹³å°ã\n\n 3. éç¨æ°çåè®®ï¼åç«¯éè¦åç¬å®ç°\n\n 4. å®¢æ·ç«¯å¹¶ä¸æ¯æææµè§å¨é½æ¯æ\n\n\n# websocket åè®®\n\nwebsocketåè®®æ¯ä¸ç§ååéä¿¡åè®®ï¼å®å»ºç«å¨tcpä¹ä¸ï¼åhttpä¸æ ·éè¿tcpæ¥ä¼ è¾æ°æ®ï¼\n\nä½æ¯å®åhttpæå¤§çä¸åæä¸¤ç¹ï¼\n\n 1. websocketæ¯ä¸ç§ååéä¿¡åè®®ï¼å¨å»ºç«è¿æ¥åï¼websocketæå¡å¨åbrowser/uaé½è½ä¸»å¨çåå¯¹æ¹åéææ¥æ¶æ°æ®ï¼å°±åsocketä¸æ ·ï¼\n\nä¸åçæ¯websocketæ¯ä¸ç§å»ºç«å¨webåºç¡ä¸çä¸ç§ç®åæ¨¡æsocketçåè®®ï¼\n\n 2. websocketéè¦éè¿æ¡æè¿æ¥ï¼ç±»ä¼¼äºtcpå®ä¹éè¦å®¢æ·ç«¯åæå¡å¨ç«¯è¿è¡æ¡æè¿æ¥ï¼è¿æ¥æååæè½ç¸äºéä¿¡ã\n\nä¸é¢æ¯ä¸ä¸ªç®åçå»ºç«æ¡æçæ¶åºå¾ï¼\n\n\n\nè¿éç®åè¯´æä¸ä¸websocketæ¡æçè¿ç¨ã\n\nå½webåºç¨ç¨åºè°ç¨new websocket(url)æ¥å£æ¶ï¼browserå°±å¼å§äºä¸å°åä¸ºurlçwebserverå»ºç«æ¡æè¿æ¥çè¿ç¨ã\n\n 1. browserä¸websocketæå¡å¨éè¿tcpä¸æ¬¡æ¡æå»ºç«è¿æ¥ï¼å¦æè¿ä¸ªå»ºç«è¿æ¥å¤±è´¥ï¼é£ä¹åé¢çè¿ç¨å°±ä¸ä¼æ§è¡ï¼webåºç¨ç¨åºå°æ¶å°éè¯¯æ¶æ¯éç¥ã\n\n 2. å¨tcpå»ºç«è¿æ¥æååï¼browser/uaéè¿httpåè®®ä¼ éwebsocketæ¯æççæ¬å·ï¼åè®®çå­çæ¬å·ï¼åå§å°åï¼ä¸»æºå°åç­ç­ä¸äºåå­æ®µç»æå¡å¨ç«¯ã\n\nä¾å¦ï¼\n\n\n\n 3. websocketæå¡å¨æ¶å°browser/uaåéæ¥çæ¡æè¯·æ±åï¼å¦ææ°æ®åæ°æ®åæ ¼å¼æ­£ç¡®ï¼å®¢æ·ç«¯åæå¡å¨ç«¯çåè®®çæ¬å·å¹éç­ç­ï¼\n\nå°±æ¥åæ¬æ¬¡æ¡æè¿æ¥ï¼å¹¶ç»åºç¸åºçæ°æ®åå¤ï¼åæ ·åå¤çæ°æ®åä¹æ¯éç¨httpåè®®ä¼ è¾ã\n\n\n\n 4. browseræ¶å°æå¡å¨åå¤çæ°æ®ååï¼å¦ææ°æ®ååå®¹ãæ ¼å¼é½æ²¡æé®é¢çè¯ï¼å°±è¡¨ç¤ºæ¬æ¬¡è¿æ¥æåï¼è§¦åonopenæ¶æ¯ï¼æ­¤æ¶webå¼åèå°±å¯ä»¥å¨æ­¤æ¶éè¿sendæ¥å£æ³æå¡å¨åéæ°æ®ãå¦åï¼æ¡æè¿æ¥å¤±è´¥ï¼webåºç¨ç¨åºä¼æ¶å°onerroræ¶æ¯ï¼å¹¶ä¸è½ç¥éè¿æ¥å¤±è´¥çåå ã\n\n\n# websocketä¸tcpãhttpåè®®ä¹é´çå³ç³»\n\nwebsocketä¸httpåè®®ä¸æ ·é½æ¯åºäºtcpçï¼æä»¥ä»ä»¬é½æ¯å¯é çåè®®ï¼\n\nwebå¼åèè°ç¨çwebsocketçsendå½æ°å¨browserçå®ç°ä¸­æç»é½æ¯éè¿tcpçç³»ç»æ¥å£è¿è¡ä¼ è¾çã\n\nwebsocketåhttpåè®®ä¸æ ·é½å±äºåºç¨å±çåè®®ï¼é£ä¹ä»ä»¬ä¹é´ææ²¡æä»ä¹å³ç³»å¢ï¼\n\nç­æ¡æ¯è¯å®çï¼websocketå¨å»ºç«æ¡æè¿æ¥æ¶ï¼æ°æ®æ¯éè¿httpåè®®ä¼ è¾çï¼æ­£å¦æä»¬ä¹åæçå°çâget/chat http/1.1âï¼\n\nè¿éé¢ç¨å°çåªæ¯httpåè®®ä¸äºç®åçå­æ®µãä½æ¯å¨å»ºç«è¿æ¥ä¹åï¼çæ­£çæ°æ®ä¼ è¾é¶æ®µæ¯ä¸éè¦httpåè®®åä¸çã\n\nå·ä½å³ç³»å¯ä»¥åèä¸å¾ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"DNS æ¥è¯¢æå¡å¨çåºæ¬æµç¨æ¯ä»ä¹ï¼DNS å«ææ¯ä»ä¹ï¼",frontmatter:{title:"DNS æ¥è¯¢æå¡å¨çåºæ¬æµç¨æ¯ä»ä¹ï¼DNS å«ææ¯ä»ä¹ï¼",date:"2022-09-21T22:54:50.000Z",permalink:"/pages/017113/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/270.DNS%20%E6%9F%A5%E8%AF%A2%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9FDNS%20%E5%8A%AB%E6%8C%81%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/270.DNS æ¥è¯¢æå¡å¨çåºæ¬æµç¨æ¯ä»ä¹ï¼DNS å«ææ¯ä»ä¹ï¼.md",key:"v-a9abf6a0",path:"/pages/017113/",headers:[{level:2,title:"1ãDNSæ¯ä»ä¹ï¼",slug:"_1ãdnsæ¯ä»ä¹",normalizedTitle:"1ãdnsæ¯ä»ä¹ï¼",charIndex:2},{level:2,title:"2ãä¸ºä»ä¹ä¼åºDNSè¿ç§ä¸è¥¿ï¼",slug:"_2ãä¸ºä»ä¹ä¼åºdnsè¿ç§ä¸è¥¿",normalizedTitle:"2ãä¸ºä»ä¹ä¼åºdnsè¿ç§ä¸è¥¿ï¼",charIndex:53},{level:2,title:"3ãé£DNSå¨æä»¬çæ´»ä¸­æä¹ç¨çï¼",slug:"_3ãé£dnså¨æä»¬çæ´»ä¸­æä¹ç¨ç",normalizedTitle:"3ãé£dnså¨æä»¬çæ´»ä¸­æä¹ç¨çï¼",charIndex:172},{level:2,title:"4ãDNSå«ææ¯ä»ä¹ï¼",slug:"_4ãdnså«ææ¯ä»ä¹",normalizedTitle:"4ãdnså«ææ¯ä»ä¹ï¼",charIndex:719},{level:2,title:"å¦ä½é²æ­¢DNSå«æï¼",slug:"å¦ä½é²æ­¢dnså«æ",normalizedTitle:"å¦ä½é²æ­¢dnså«æï¼",charIndex:779},{level:2,title:"DNSå«æå·ä½æåªäºææ¯ææ®µå¢ï¼",slug:"dnså«æå·ä½æåªäºææ¯ææ®µå¢",normalizedTitle:"dnså«æå·ä½æåªäºææ¯ææ®µå¢ï¼",charIndex:888}],headersStr:"1ãDNSæ¯ä»ä¹ï¼ 2ãä¸ºä»ä¹ä¼åºDNSè¿ç§ä¸è¥¿ï¼ 3ãé£DNSå¨æä»¬çæ´»ä¸­æä¹ç¨çï¼ 4ãDNSå«ææ¯ä»ä¹ï¼ å¦ä½é²æ­¢DNSå«æï¼ DNSå«æå·ä½æåªäºææ¯ææ®µå¢ï¼",content:"# 1ãDNSæ¯ä»ä¹ï¼\n\nååè§£æç³»ç»ï¼å¯ä»¥å°ååä¸IPå°åå»ºç«æ å°å³ç³»ï¼éè¿ååå¾ç¥ç®æ IPã\n\n\n# 2ãä¸ºä»ä¹ä¼åºDNSè¿ç§ä¸è¥¿ï¼\n\nå¨ç½ç»ä¸­ï¼æ³è¦è®¿é®ä¸»æºèµæºæèæå¡å¨èµæºéè¦ç¥éç®æ çIPå°åï¼ä½æ¯IPå°ååé¿æ°å­åå¾å®¹æè®°éï¼èä¸å¨ä¸çé£ä¹å¤IPå°åæä¹è®°ä¸ä½ï¼æä¹åï¼å°±éè¦ååæ¥ä»£è¡¨ä¸ä¸ªIPå°åï¼è¿è¡ç¸äºä¹é´çæ å°å³ç³»\n\n\n# 3ãé£DNSå¨æä»¬çæ´»ä¸­æä¹ç¨çï¼\n\næ¯å¦ï¼å¨æä»¬å¹³å¸¸è®¿é®ç¾åº¦å¨ç½é¡µå°åæ è¾å¥ï¼ è¿æ ·æä»¬å°±ä¼è¿å¥ç¾åº¦çä¸»é¡µã\n\n\n\nDNSå®ç°è¿ç¨\n\n 1. ç¬¬ä¸æ­¥ï¼å½å¨æµè§å¨ä¸è¾å¥ååæ¶ï¼æä»¬çPCæºä¼èªå¨æåºååè§£æè¯·æ±ï¼å¹¶å°è¯·æ±åéç»æä»¬æéç½®çååæå¡å¨è¿è¡è§£æ\n\n 2. ç¬¬äºæ­¥ï¼ååæå¡å¨æ¶å°æä»¬PCæºçååè§£æè¯·æ±å¼åï¼ä¼åæ¥è¯¢æ¬å°çç¼å­ï¼DNSç¼å­ï¼ï¼å¦ææå¯¹åºçååä¸IPå°åæ¡ç®ï¼ååæå¡å¨ä¼å°ç»æç´æ¥åéç»æä»¬çPCæºï¼ä¸ä¼è¿ä¸æ­¥è§£ææä½ã\n\n 3. ç¬¬ä¸æ­¥ï¼ä½æ¯å¦æååæå¡å¨çæ¬å°ç¼å­ä¸­æ²¡æè¯¥çºªå½ï¼åæ¬å°ååæå¡å¨å°±ä¼æè¯·æ±åç»æ ¹ååæå¡å¨è¿è¡è§£æï¼ç¶åæ ¹ååæå¡å¨æ¶å°ååè¿åç»æ¬å°ååæå¡å¨ä¸ä¸ªææ¥è¯¢å(æ ¹çå­å) çä¸»ååæå¡å¨çå°åç»æä»¬çPCæºã\n\n 4. ç¬¬åæ­¥ï¼æ¬å°æå¡å¨ååä¸ä¸æ­¥è¿åçååæå¡å¨åéè¯·æ±ï¼ç¶åæ¥åè¯·æ±çååæå¡å¨ä¼ç»§ç»­æ¥è¯¢èªå·±çç¼å­ï¼å¦ææ²¡æè¯¥çºªå½ï¼åè¿åç¸å³çä¸çº§çååæå¡å¨çå°åã\n\n 5. ç¬¬äºæ­¥ï¼æç»­è¿è¡ç¬¬åæ­¥çæ¥è¯¢è§£ææä½ï¼ç´è³è§£æå°å¯¹åºççºªå½ã\n\n 6. ç¬¬å­æ­¥ï¼æ¬å°ååæå¡å¨ææ­æ¯å°ççºªå½è¿åçç»æä¿å­å°ç¼å­ï¼ä»¥å¤ä¸ä¸æ¬¡ä½¿ç¨ï¼åæ¶è¿å°ç»æè¿åç»å®¢æ·æº\n\n 7. ç¬¬ä¸æ­¥ï¼å®¢æ·æºæ¶å°ç»æåååç®æ IPååºè®¿é®è¯·æ±ï¼è¿è¡è®¿é®\n\n\n# 4ãDNSå«ææ¯ä»ä¹ï¼\n\nå½æä»¬è®¿é®æä¸ªç½é¡µæ¶ï¼å¦è¾å¥ç¾åº¦çååï¼ä½æ¯è¿å¥é¡µé¢æ¶å¶ä»çç½é¡µï¼è¿å°±æ¯DNSå«æã\n\n\n# å¦ä½é²æ­¢DNSå«æï¼\n\néå¸¸æä»¬ä½¿ç¨çDNSæå¡å¨ä½¿ç¨çæ¯æå¡åååæå¡å¨ï¼æä»¬åºæ¥å¯ä»¥åè¿è¥ååé¦è¿ç§æåµå¤ï¼è¿å¯ä»¥å°èªå·±çDNSæå¡å¨åæ¢ä¸ºå¶ä»ç¬¬ä¸æ¹DNSæå¡å¨ï¼å¦ç¾åº¦DNSãé¿éDNSç­ç­é½æ¯å¯ä»¥çã\n\n\n# DNSå«æå·ä½æåªäºææ¯ææ®µå¢ï¼\n\n 1. DNSç¼å­ææ\n\næ»å»èä½¿ç¨DNSè¯·æ±å°æ°æ®æ¾å¥èå¼±çDNSæå¡å¨çç¼å­ãç¶åè¿äºç¼å­ä¿¡æ¯å¨ç¨æ·è¿è¡DNSè®¿é®æ¶è¿åç¨æ·ï¼å°å¯¹éå¸¸çååçè®¿é®å¼å¯¼å°å¥ä¾µèè®¾å®çéé±¼ãæé©¬ç­é¡µé¢ï¼æéè¿ä¼ªé é®ä»¶æå¶ä»serveræå¡åå¾ç¨æ·å¯ç ä¿¡æ¯ä¼ç»å®¢äººå¸¦æ¥è¿ä¸æ­¥çä¾µå®³ã\n\n 2. DNSä¿¡æ¯å«æ\n\nTCP/IPç³»ç»é¿åä»¥è¯¸å¦åºåå·ç­åç§æ¹å¼æå¥éé±¼æ°æ®ï¼ä½æ¯å¥ä¾µèå¯ä»¥éè¿æªåå®¢æ·ç«¯ä¸DNSæå¡å¨çäº¤äºæ¥æ¨æµæå¡å¨ååºäºå®¢æ·ç«¯çDNSæ¥è¯¢IDãæ¯ä¸ªDNSæ¥ååæ¬ç¸å³èç16ä½IDå·ï¼å¹¶ä¸DNSæå¡å¨ä»è¯¥IDå·è·åè¯·æ±æºä½ç½®ãæ»å»èå¨DNSæå¡å¨ååç¨æ·åéèååºç­ï¼æ¬ºéªå®¢æ·è®¿é®æ¶æç½ç«ã\n\n 3. DNSéå®å\n\næ»å»èå¦æå°æå¨DNSæå¡å¨éå®åå°æ¶æDNSæå¡å¨ï¼é£ä¹è¢«å«æååçè§£æå°±å®å¨ç½®äºæ»å»èçæ§å¶ä¹ä¸ã\n\n 4. çç¨DNSæå¡å¨\n\nå¨è¯¥æ»å»ä¸­ï¼æ»å»èä¸ä»å¯ä»¥ç ´åDNSæå¡å¨è¿å¯ä»¥æ¹åDNSè®°å½ï¼å°DNSè¯·æ±éå®åå°æ¶æç½ç«ã\n\n 5. ä¸­é´äººï¼MiTMï¼DNSæ»å»\n\nå¨DNSå«æä¸­è¿æä¸ç§ç±»åæ¯ï¼æ»å»èæ§è¡ä¸­é´äººï¼MiTMï¼æ»å»ä»¥æªæ­ç¨æ·ä¸DNSæå¡å¨ä¹é´çéä¿¡ï¼å¹¶åæ¶æç½ç«éå®åç¨æ·ï¼ä»¥æä¾ä¸åçç®æ IPå°åã\n\n 6. æµæ°DNSæå¡å¨\n\nå¨æ­¤æ»å»ä¸­ï¼æ»å»èå¯ä»¥ç ´è§£DNSæå¡å¨ï¼å¹¶æ´æ¹DNSè®°å½ä»¥å°DNSè¯·æ±éå®åå°æ¶æç«ç¹ã",normalizedContent:"# 1ãdnsæ¯ä»ä¹ï¼\n\nååè§£æç³»ç»ï¼å¯ä»¥å°ååä¸ipå°åå»ºç«æ å°å³ç³»ï¼éè¿ååå¾ç¥ç®æ ipã\n\n\n# 2ãä¸ºä»ä¹ä¼åºdnsè¿ç§ä¸è¥¿ï¼\n\nå¨ç½ç»ä¸­ï¼æ³è¦è®¿é®ä¸»æºèµæºæèæå¡å¨èµæºéè¦ç¥éç®æ çipå°åï¼ä½æ¯ipå°ååé¿æ°å­åå¾å®¹æè®°éï¼èä¸å¨ä¸çé£ä¹å¤ipå°åæä¹è®°ä¸ä½ï¼æä¹åï¼å°±éè¦ååæ¥ä»£è¡¨ä¸ä¸ªipå°åï¼è¿è¡ç¸äºä¹é´çæ å°å³ç³»\n\n\n# 3ãé£dnså¨æä»¬çæ´»ä¸­æä¹ç¨çï¼\n\næ¯å¦ï¼å¨æä»¬å¹³å¸¸è®¿é®ç¾åº¦å¨ç½é¡µå°åæ è¾å¥ï¼ è¿æ ·æä»¬å°±ä¼è¿å¥ç¾åº¦çä¸»é¡µã\n\n\n\ndnså®ç°è¿ç¨\n\n 1. ç¬¬ä¸æ­¥ï¼å½å¨æµè§å¨ä¸è¾å¥ååæ¶ï¼æä»¬çpcæºä¼èªå¨æåºååè§£æè¯·æ±ï¼å¹¶å°è¯·æ±åéç»æä»¬æéç½®çååæå¡å¨è¿è¡è§£æ\n\n 2. ç¬¬äºæ­¥ï¼ååæå¡å¨æ¶å°æä»¬pcæºçååè§£æè¯·æ±å¼åï¼ä¼åæ¥è¯¢æ¬å°çç¼å­ï¼dnsç¼å­ï¼ï¼å¦ææå¯¹åºçååä¸ipå°åæ¡ç®ï¼ååæå¡å¨ä¼å°ç»æç´æ¥åéç»æä»¬çpcæºï¼ä¸ä¼è¿ä¸æ­¥è§£ææä½ã\n\n 3. ç¬¬ä¸æ­¥ï¼ä½æ¯å¦æååæå¡å¨çæ¬å°ç¼å­ä¸­æ²¡æè¯¥çºªå½ï¼åæ¬å°ååæå¡å¨å°±ä¼æè¯·æ±åç»æ ¹ååæå¡å¨è¿è¡è§£æï¼ç¶åæ ¹ååæå¡å¨æ¶å°ååè¿åç»æ¬å°ååæå¡å¨ä¸ä¸ªææ¥è¯¢å(æ ¹çå­å) çä¸»ååæå¡å¨çå°åç»æä»¬çpcæºã\n\n 4. ç¬¬åæ­¥ï¼æ¬å°æå¡å¨ååä¸ä¸æ­¥è¿åçååæå¡å¨åéè¯·æ±ï¼ç¶åæ¥åè¯·æ±çååæå¡å¨ä¼ç»§ç»­æ¥è¯¢èªå·±çç¼å­ï¼å¦ææ²¡æè¯¥çºªå½ï¼åè¿åç¸å³çä¸çº§çååæå¡å¨çå°åã\n\n 5. ç¬¬äºæ­¥ï¼æç»­è¿è¡ç¬¬åæ­¥çæ¥è¯¢è§£ææä½ï¼ç´è³è§£æå°å¯¹åºççºªå½ã\n\n 6. ç¬¬å­æ­¥ï¼æ¬å°ååæå¡å¨ææ­æ¯å°ççºªå½è¿åçç»æä¿å­å°ç¼å­ï¼ä»¥å¤ä¸ä¸æ¬¡ä½¿ç¨ï¼åæ¶è¿å°ç»æè¿åç»å®¢æ·æº\n\n 7. ç¬¬ä¸æ­¥ï¼å®¢æ·æºæ¶å°ç»æåååç®æ ipååºè®¿é®è¯·æ±ï¼è¿è¡è®¿é®\n\n\n# 4ãdnså«ææ¯ä»ä¹ï¼\n\nå½æä»¬è®¿é®æä¸ªç½é¡µæ¶ï¼å¦è¾å¥ç¾åº¦çååï¼ä½æ¯è¿å¥é¡µé¢æ¶å¶ä»çç½é¡µï¼è¿å°±æ¯dnså«æã\n\n\n# å¦ä½é²æ­¢dnså«æï¼\n\néå¸¸æä»¬ä½¿ç¨çdnsæå¡å¨ä½¿ç¨çæ¯æå¡åååæå¡å¨ï¼æä»¬åºæ¥å¯ä»¥åè¿è¥ååé¦è¿ç§æåµå¤ï¼è¿å¯ä»¥å°èªå·±çdnsæå¡å¨åæ¢ä¸ºå¶ä»ç¬¬ä¸æ¹dnsæå¡å¨ï¼å¦ç¾åº¦dnsãé¿édnsç­ç­é½æ¯å¯ä»¥çã\n\n\n# dnså«æå·ä½æåªäºææ¯ææ®µå¢ï¼\n\n 1. dnsç¼å­ææ\n\næ»å»èä½¿ç¨dnsè¯·æ±å°æ°æ®æ¾å¥èå¼±çdnsæå¡å¨çç¼å­ãç¶åè¿äºç¼å­ä¿¡æ¯å¨ç¨æ·è¿è¡dnsè®¿é®æ¶è¿åç¨æ·ï¼å°å¯¹éå¸¸çååçè®¿é®å¼å¯¼å°å¥ä¾µèè®¾å®çéé±¼ãæé©¬ç­é¡µé¢ï¼æéè¿ä¼ªé é®ä»¶æå¶ä»serveræå¡åå¾ç¨æ·å¯ç ä¿¡æ¯ä¼ç»å®¢äººå¸¦æ¥è¿ä¸æ­¥çä¾µå®³ã\n\n 2. dnsä¿¡æ¯å«æ\n\ntcp/ipç³»ç»é¿åä»¥è¯¸å¦åºåå·ç­åç§æ¹å¼æå¥éé±¼æ°æ®ï¼ä½æ¯å¥ä¾µèå¯ä»¥éè¿æªåå®¢æ·ç«¯ä¸dnsæå¡å¨çäº¤äºæ¥æ¨æµæå¡å¨ååºäºå®¢æ·ç«¯çdnsæ¥è¯¢idãæ¯ä¸ªdnsæ¥ååæ¬ç¸å³èç16ä½idå·ï¼å¹¶ä¸dnsæå¡å¨ä»è¯¥idå·è·åè¯·æ±æºä½ç½®ãæ»å»èå¨dnsæå¡å¨ååç¨æ·åéèååºç­ï¼æ¬ºéªå®¢æ·è®¿é®æ¶æç½ç«ã\n\n 3. dnséå®å\n\næ»å»èå¦æå°æå¨dnsæå¡å¨éå®åå°æ¶ædnsæå¡å¨ï¼é£ä¹è¢«å«æååçè§£æå°±å®å¨ç½®äºæ»å»èçæ§å¶ä¹ä¸ã\n\n 4. çç¨dnsæå¡å¨\n\nå¨è¯¥æ»å»ä¸­ï¼æ»å»èä¸ä»å¯ä»¥ç ´ådnsæå¡å¨è¿å¯ä»¥æ¹ådnsè®°å½ï¼å°dnsè¯·æ±éå®åå°æ¶æç½ç«ã\n\n 5. ä¸­é´äººï¼mitmï¼dnsæ»å»\n\nå¨dnså«æä¸­è¿æä¸ç§ç±»åæ¯ï¼æ»å»èæ§è¡ä¸­é´äººï¼mitmï¼æ»å»ä»¥æªæ­ç¨æ·ä¸dnsæå¡å¨ä¹é´çéä¿¡ï¼å¹¶åæ¶æç½ç«éå®åç¨æ·ï¼ä»¥æä¾ä¸åçç®æ ipå°åã\n\n 6. æµæ°dnsæå¡å¨\n\nå¨æ­¤æ»å»ä¸­ï¼æ»å»èå¯ä»¥ç ´è§£dnsæå¡å¨ï¼å¹¶æ´æ¹dnsè®°å½ä»¥å°dnsè¯·æ±éå®åå°æ¶æç«ç¹ã",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"RestFul æ¯ä»ä¹ï¼RestFul è¯·æ±ç URL æä»ä¹ç¹ç¹ï¼",frontmatter:{title:"RestFul æ¯ä»ä¹ï¼RestFul è¯·æ±ç URL æä»ä¹ç¹ç¹ï¼",date:"2022-09-21T22:55:07.000Z",permalink:"/pages/c08bb6/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/280.RestFul%20%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9FRestFul%20%E8%AF%B7%E6%B1%82%E7%9A%84%20URL%20%E6%9C%89%E4%BB%80%E4%B9%88%E7%89%B9%E7%82%B9%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/280.RestFul æ¯ä»ä¹ï¼RestFul è¯·æ±ç URL æä»ä¹ç¹ç¹ï¼.md",key:"v-693fb010",path:"/pages/c08bb6/",headers:[{level:2,title:"REST è®¾è®¡é£æ ¼",slug:"rest-è®¾è®¡é£æ ¼",normalizedTitle:"rest è®¾è®¡é£æ ¼",charIndex:2},{level:2,title:"çè§£ REST",slug:"çè§£-rest",normalizedTitle:"çè§£ rest",charIndex:611},{level:2,title:"RESTful çç³»ç»",slug:"restful-çç³»ç»",normalizedTitle:"restful çç³»ç»",charIndex:4659},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:9427}],headersStr:"REST è®¾è®¡é£æ ¼ çè§£ REST RESTful çç³»ç» åè",content:'# REST è®¾è®¡é£æ ¼\n\nå¾å¤äººä¼æ¿ REST ä¸ RPC äºç¸æ¯è¾ï¼å¶å®ï¼REST æ è®ºæ¯å¨ææ³ä¸ãæ¦å¿µä¸ï¼è¿æ¯ä½¿ç¨èå´ä¸ï¼ä¸ RPC é½ä¸å°½ç¸åï¼åå¶éåªè½ç®æ¯æä¸äºç¸ä¼¼ï¼\n\nåºç¨ä¼æä¸é¨åéåä¹å¤ï¼ä½æ¬è´¨ä¸å¹¶ä¸æ¯åä¸ç±»åçä¸è¥¿ã\n\nREST ä¸ RPC å¨ææ³ä¸å·®å¼çæ ¸å¿æ¯æ½è±¡çç®æ ä¸ä¸æ ·ï¼å³é¢åèµæºçç¼ç¨ææ³ä¸é¢åè¿ç¨çç¼ç¨ææ³ä¸¤èä¹é´çåºå«ã\n\né¢åè¿ç¨ç¼ç¨ãé¢åå¯¹è±¡ç¼ç¨å¤§å®¶æ³å¿å¬è¯´è¿ï¼ä½ä»ä¹æ¯é¢åèµæºç¼ç¨ï¼\n\nè¿ä¸ªé®é¢ç­ä»ç»å® REST çç¹å¾ä¹åæä»¬ååå¤´ç»è¯´ã\n\nèæ¦å¿µä¸çä¸åæ¯æ REST å¹¶ä¸æ¯ä¸ç§è¿ç¨æå¡è°ç¨åè®®ï¼çè³å¯ä»¥æå®è¯­ä¹å»æï¼å®å°±ä¸æ¯ä¸ç§åè®®ã\n\nåè®®é½å¸¦æä¸å®çè§èæ§åå¼ºå¶æ§ï¼æèµ·ç ä¹è¯¥æä¸ªè§çº¦ææ¡£ï¼è­¬å¦ JSON-RPCï¼å®åªæåç®åï¼ä¹è¦æä¸ªãJSON-RPC Specificationã æ¥è§å®åè®®çæ ¼å¼ç»èãå¼å¸¸ãååºç ç­ä¿¡æ¯ï¼\n\nä½æ¯ REST å¹¶æ²¡æå®ä¹è¿äºåå®¹ï¼å°½ç®¡æä¸äºæå¯¼ååï¼ä½å®éä¸å¹¶ä¸åä»»ä½å¼ºå¶ççº¦æã\n\nå¸¸æäººæ¹è¯æä¸ªç³»ç»æ¥å£âè®¾è®¡å¾ä¸å¤ RESTfulâï¼å¶å®è¿å¥è¯æ¬èº«å°±æäºäºè®®ï¼REST åªè½è¯´æ¯é£æ ¼èä¸æ¯è§èãåè®®ï¼\n\nå¹¶ä¸è½å®å¨è¾¾å° REST æææå¯¼ååçç³»ç»ä¹æ¯ä¸å¤è§çï¼è¿ä¸ç¹æä»¬åæ ·å°å¨åæä¸­è¯¦ç»è®¨è®ºã\n\nè³äºä½¿ç¨èå´ï¼REST ä¸ RPC ä½ä¸ºä¸»æµçä¸¤ç§è¿ç¨è°ç¨æ¹å¼ï¼å¨ä½¿ç¨ä¸æ¯ç¡®æéåçï¼ä½éåçåºåæå¤å¤§å°±è§ä»è§æºäºã\n\n\n# çè§£ REST\n\nä¸ªäººä¼æå¥½æ¶åç±ï¼ä½è®¡ç®æºç§å­¦æ¯å¡å®çï¼æäº RPCï¼è¿ä¼æåº RESTï¼æäºé¢åè¿ç¨ç¼ç¨ä¹åï¼è¿è½äº§çé¢åèµæºç¼ç¨ï¼å¹¶å¼èµ·å¹¿æ³çå³æ³¨ãä½¿ç¨åè®¨è®ºï¼\n\nè¯´æåèä¸å®æ¯æä¸äºåèæ²¡æçéªåç¹ï¼æèè§£å³ãé¿åäºä¸äºé¢åè¿ç¨ä¸­çç¼ºé·ãæä»¬ä¸å¦¨åå»çè§£ REST ä¸ºä»ä¹ä¼åºç°ï¼ç¶ååæ¥è®¨è®ºè¯ä»·å®ã\n\nç®åæç´¢å°±è½æ¾å° REST æºäº Roy Thomas Fielding å¨ 2000 å¹´åè¡¨çåå£«è®ºæï¼ãArchitectural Styles and the Design of Network-based Software Architecturesã ï¼æ­¤æçç¡®æ¯ REST çæºå¤´ï¼ä½æä»¬ä¸åºè¯¥å¿½ç¥ Fielding çèº«ä»½åæ­¤åçå·¥ä½èæ¯ï¼è¿äºä¿¡æ¯å¯¹çè§£ REST çè®¾è®¡ææ³è³å³éè¦ã\n\né¦åï¼Fielding æ¯ä¸åå¾ä¼ç§çè½¯ä»¶å·¥ç¨å¸ï¼ä»æ¯ Apache æå¡å¨çæ ¸å¿å¼åèï¼åæ¥æä¸ºäºèåçApache è½¯ä»¶åºéä¼ çèååå§äººï¼\n\nåæ¶ï¼Fielding ä¹æ¯ HTTP 1.0 åè®®ï¼1996 å¹´åå¸ï¼çä¸å®¶ç»æåï¼åæ¥è¿æåä¸º HTTP 1.1 åè®®ï¼1999 å¹´åå¸ï¼çè´è´£äººã\n\nHTTP 1.1 åè®®è®¾è®¡å¾æä¸ºæåï¼ä»¥è³äºåå¸ä¹åé¿è¾¾åå¹´çæ¶é´éï¼é½æ²¡ææ¶å°å¤å°ä¿®è®¢çæè§ã\n\nç¨æ¥æå¯¼ HTTP 1.1 åè®®è®¾è®¡ççè®ºåææ³ï¼æåæ¯ä»¥å¤å¿å½çå½¢å¼ç¨ä½ä¸å®¶ç»æåä¹é´äº¤æµï¼é¤äº IETFãW3C çä¸å®¶å¤ï¼å¹¶æ²¡æå¨å¤çå¹¿æ³æµä¼ ã\n\nä»æ¶é´ä¸çï¼å¯¹ HTTP 1.1 åè®®çè®¾è®¡å·¥ä½è´¯ç©¿äº Fielding çæ´ä¸ªåå£«ç ç©¶çæ¶¯ï¼å½èµ·è HTTP 1.1 åè®®çå·¥ä½å®æåï¼Fielding åå°äºå å·å¤§å­¦æ¬§æåæ ¡ç»§ç»­æ»è¯»èªå·±çåå£«å­¦ä½ã\n\nç¬¬äºå¹´ï¼ä»æ´ä¸ºç³»ç»ãä¸¥è°¨å°éè¿°äºè¿å¥çè®ºæ¡æ¶ï¼å¹¶ä¸ä»¥è¿å¥çè®ºæ¡æ¶å¯¼åºäºä¸ç§æ°çç¼ç¨ææ³ï¼ä»ä¸ºè¿ç§ç¨åºè®¾è®¡é£æ ¼åäºä¸ä¸ªå¾å¤äººé¾ä»¥çè§£ï¼ä½æ¯ä»å¤©å·²ç»å¹¿ä¸ºäººç¥çåå­ RESTï¼å³âè¡¨å¾ç¶æè½¬ç§»âçç¼©åã\n\nåªæå¯¹ç¼ç¨åç½ç»é½å¾çæçåå­¦ï¼åªä»æ é¢ä¸­ä¹ä¸å¤ªå¯è½ç´æ¥å¼æç½ä»ä¹å«âè¡¨å¾âãå¥ä¸è¥¿çâç¶æâãä»åªâè½¬ç§»âå°åªã\n\nå°½ç®¡å¨è®ºæåæä¸­ç¡®æè®ºè¿°è¿äºæ¦å¿µï¼ä½åå¾ç¡®å®ç¸å½æ¦æ¶©ï¼ä¸æ³è¯»è±æçåå­¦ä»æ­¤å¤è·å¾ä¸­æç¿»è¯çæ¬ï¼ï¼ç¬èæ¨èæ¯è¾å®¹æçè§£ REST ææ³çéå¾æ¯åçè§£ä»ä¹æ¯ HTTPï¼\n\nåéåä¸äºå®éä¾å­æ¥è¿è¡ç±»æ¯ï¼ä½ ä¼åç°âRESTâï¼Representational State Transferï¼å®éä¸æ¯âHTTâï¼Hypertext Transferï¼çè¿ä¸æ­¥æ½è±¡ï¼ä¸¤èå°±å¦åæ¥å£ä¸å®ç°ç±»çå³ç³»ä¸è¬ã\n\nHTTP ä¸­ä½¿ç¨çâè¶ææ¬âï¼Hypertextï¼ä¸è¯æ¯ç¾å½ç¤¾ä¼å­¦å®¶ Theodor Holm Nelson å¨ 1967 å¹´äºãBrief Words on the Hypertextã ä¸æéæåºçï¼ä¸é¢å¼ç¨çæ¯ä»æ¬äººå¨ 1992 å¹´ä¿®æ­£åçå®ä¹ï¼\n\n> Hypertext\n\n> By now the word "hypertext" has become generally accepted for branching and responding text, but the corresponding word "hypermedia", meaning complexes of branching and responding graphics, movies and sound â as well as text â is much less used.\n\n> ç°å¨ï¼"è¶ææ¬ "ä¸è¯å·²è¢«æ®éæ¥åï¼å®æçæ¯è½å¤è¿è¡åæ¯å¤æ­åå·®å¼ååºçææ¬ï¼ç¸åºå°ï¼ "è¶åªä½ "ä¸è¯æçæ¯è½å¤è¿è¡åæ¯å¤æ­åå·®å¼ååºçå¾å½¢ãçµå½±åå£°é³ï¼ä¹åæ¬ææ¬ï¼çå¤åä½ã\n\n> ââ Theodor Holm Nelson Literary Machines, 1992\n\nä»¥ä¸å®ä¹æè¿°çâè¶ææ¬ï¼æè¶åªä½ï¼Hypermediaï¼âæ¯ä¸ç§âè½å¤å¯¹æä½è¿è¡å¤æ­åååºçææ¬ï¼æå£°é³ãå¾åç­ï¼âï¼è¿ä¸ªæ¦å¿µå¨ä¸ä¸çºª 60 å¹´ä»£æåºæ¶åºè¯¥è¿å±äºç§å¹»çèç´ï¼ä½æ¯ä»å¤©å¤§ä¼å·²ç»å®å¨æ¥åäºå®ï¼äºèç½ä¸­ä¸æ®µæå­å¯ä»¥ç¹å»ãå¯ä»¥è§¦åèæ¬æ§è¡ãå¯ä»¥è°ç¨æå¡ç«¯ï¼è¿ä¸åå·²æ¯«ä¸ç¨å¥ãä¸é¢æä»¬ç»§ç»­å°è¯ä»âè¶ææ¬âæèâè¶åªä½âçå«ä¹æ¥çè§£ä»ä¹æ¯âè¡¨å¾âä»¥å REST ä¸­å¶ä»å³é®æ¦å¿µï¼è¿éä½¿ç¨ä¸ä¸ªå·ä½äºä¾å°å¶æè¿°å¦ä¸ã\n\n * èµæºï¼Resourceï¼ï¼è­¬å¦ä½ ç°å¨æ­£å¨éè¯»ä¸ç¯åä¸ºãREST è®¾è®¡é£æ ¼ãçæç« ï¼è¿ç¯æç« çåå®¹æ¬èº«ï¼ä½ å¯ä»¥å°å¶çè§£ä¸ºå¶è´å«çä¿¡æ¯ãæ°æ®ï¼æä»¬ç§°ä¹ä¸ºâèµæºâãæ è®ºä½ æ¯è´­ä¹°çä¹¦ç±ãæ¯å¨æµè§å¨ççç½é¡µãæ¯æå°åºæ¥ççæç¨¿ãæ¯å¨çµèå±å¹ä¸éè¯»æææ¯ææºä¸æµè§ï¼å°½ç®¡åç°çæ ·å­åä¸ç¸åï¼ä½å¶ä¸­çä¿¡æ¯æ¯ä¸åçï¼ä½ æéè¯»çä»æ¯åä¸ä»½âèµæºâã\n\n * è¡¨å¾ï¼Representationï¼ï¼å½ä½ éè¿çµèæµè§å¨éè¯»æ­¤æç« æ¶ï¼æµè§å¨åæå¡ç«¯ååºè¯·æ±âæéè¦è¿ä¸ªèµæºç HTML æ ¼å¼âï¼æå¡ç«¯åæµè§å¨è¿åçè¿ä¸ª HTML å°±è¢«ç§°ä¹ä¸ºâè¡¨å¾âï¼ä½ å¯è½éè¿å¶ä»æ¹å¼æ¿å°æ¬æç PDFãMarkdownãRSS ç­å¶ä»å½¢å¼ççæ¬ï¼å®ä»¬ä¹åæ ·æ¯ä¸ä¸ªèµæºçå¤ç§è¡¨å¾ãå¯è§âè¡¨å¾âè¿ä¸ªæ¦å¿µæ¯æä¿¡æ¯ä¸ç¨æ·äº¤äºæ¶çè¡¨ç¤ºå½¢å¼ï¼è¿ä¸æä»¬è½¯ä»¶åå±æ¶æä¸­å¸¸è¯´çâè¡¨ç¤ºå±âï¼Presentation Layerï¼çè¯­ä¹å¶å®æ¯ä¸è´çã\n\n * ç¶æï¼Stateï¼ï¼å½ä½ è¯»å®äºè¿ç¯æç« ï¼æ³çåé¢æ¯ä»ä¹åå®¹æ¶ï¼ä½ åæå¡å¨ååºè¯·æ±âç»æä¸ä¸ç¯æç« âãä½æ¯âä¸ä¸ç¯âæ¯ä¸ªç¸å¯¹æ¦å¿µï¼å¿é¡»ä¾èµâå½åä½ æ­£å¨éè¯»çæç« æ¯åªä¸ç¯âæè½æ­£ç¡®ååºï¼è¿ç±»å¨ç¹å®è¯­å¢ä¸­æè½äº§ççä¸ä¸æä¿¡æ¯å³è¢«ç§°ä¸ºâç¶æâãæä»¬æè¯´çæç¶æï¼Statefulï¼æææ¯æ ç¶æï¼Statelessï¼ï¼é½æ¯åªç¸å¯¹äºæå¡ç«¯æ¥è¯´çï¼æå¡å¨è¦å®æâåä¸ä¸ç¯âçè¯·æ±ï¼è¦ä¹èªå·±è®°ä½ç¨æ·çç¶æï¼è¿ä¸ªç¨æ·ç°å¨éè¯»çæ¯åªä¸ç¯æç« ï¼è¿ç§°ä¸ºæç¶æï¼è¦ä¹å®¢æ·ç«¯æ¥è®°ä½ç¶æï¼å¨è¯·æ±çæ¶åæç¡®åè¯æå¡å¨ï¼ææ­£å¨éè¯»æææç« ï¼ç°å¨è¦è¯»å®çä¸ä¸ç¯ï¼è¿ç§°ä¸ºæ ç¶æã\n\n * è½¬ç§»ï¼Transferï¼ï¼æ è®ºç¶ææ¯ç±æå¡ç«¯è¿æ¯å®¢æ·ç«¯æ¥æä¾çï¼âåä¸ä¸ç¯æç« âè¿ä¸ªè¡ä¸ºé»è¾å¿ç¶åªè½ç±æå¡ç«¯æ¥æä¾ï¼å ä¸ºåªææå¡ç«¯æ¥æè¯¥èµæºåå¶è¡¨å¾å½¢å¼ãæå¡å¨éè¿æç§æ¹å¼ï¼æâç¨æ·å½åéè¯»çæç« âè½¬åæâä¸ä¸ç¯æç« âï¼è¿å°±è¢«ç§°ä¸ºâè¡¨å¾ç¶æè½¬ç§»âã\n\néè¿âéè¯»æç« âè¿ä¸ªä¾å­ï¼ç¬èå¯¹èµæºç­æ¦å¿µè¿è¡éä¿çéä¹ï¼ä½ åºè¯¥è½å¤çè§£ REST æè¯´çâè¡¨å¾ç¶æè½¬ç§»âçå«ä¹äºãåçè¿ä¸ªæäºçä¸ä¸æç¶æï¼ç¬èåç»§ç»­ä»ç»å ä¸ªç°å¨ä¸æ¶åä½ç¨åè¦ç¨å°çæ¦å¿µåè¯ã\n\n * ç»ä¸æ¥å£ï¼Uniform Interfaceï¼ï¼ä¸é¢è¯´çæå¡å¨âéè¿æç§æ¹å¼âè®©è¡¨å¾ç¶æåçè½¬ç§»ï¼å·ä½æ¯ä»ä¹æ¹å¼ï¼å¦æä½ ççæ¯ç¨æµè§å¨éè¯»æ¬æçµå­ççè¯ï¼è¯·ææ¬ææ»å¨å°ç»å°¾å¤ï¼å³ä¸è§æä¸ä¸ç¯æç« ç URI è¶é¾æ¥å°åï¼è¿æ¯æå¡ç«¯æ¸²æè¿ç¯æç« æ¶å°±é¢ç½®å¥½çï¼ç¹å»å®è®©é¡µé¢è·³è½¬å°ä¸ä¸ç¯ï¼å°±æ¯æè°âæç§æ¹å¼âçå¶ä¸­ä¸ç§æ¹å¼ãä»»ä½äººé½ä¸ä¼å¯¹ç¹å»è¶é¾æ¥ç½é¡µä¼åºç°è·³è½¬æå°å¥æªï¼ä½ä½ ç»æ³ä¸ä¸ï¼URI çå«ä¹æ¯ç»ä¸èµæºæ è¯ç¬¦ï¼æ¯ä¸ä¸ªåè¯ï¼å¦ä½è½è¡¨è¾¾åºâè½¬ç§»âå¨ä½çå«ä¹å¢ï¼ç­æ¡æ¯ HTTP åè®®ä¸­å·²ç»æåçº¦å®å¥½äºä¸å¥âç»ä¸æ¥å£âï¼å®åæ¬ï¼GETãHEADãPOSTãPUTãDELETEãTRACEãOPTIONS ä¸ç§åºæ¬æä½ï¼ä»»ä½ä¸ä¸ªæ¯æ HTTP åè®®çæå¡å¨é½ä¼éµå®è¿å¥è§å®ï¼å¯¹ç¹å®ç URI éåè¿äºæä½ï¼æå¡å¨å°±ä¼è§¦åç¸åºçè¡¨å¾ç¶æè½¬ç§»ã\n\n * è¶ææ¬é©±å¨ï¼Hypertext Drivenï¼ï¼å°½ç®¡è¡¨å¾ç¶æè½¬ç§»æ¯ç±æµè§å¨ä¸»å¨åæå¡å¨ååºè¯·æ±æå¼åçï¼è¯¥è¯·æ±å¯¼è´äºâå¨æµè§å¨å±å¹ä¸æ¾ç¤ºåºäºä¸ä¸ç¯æç« çåå®¹âè¿ä¸ªç»æçåºç°ãä½æ¯ï¼ä½ æé½æ¸æ¥è¿ä¸å¯è½ççæ¯æµè§å¨çä¸»å¨æå¾ï¼æµè§å¨æ¯æ ¹æ®ç¨æ·è¾å¥ç URI å°åæ¥æ¾å°ç½ç«é¦é¡µï¼æå¡å¨ç»äºçé¦é¡µè¶ææ¬åå®¹åï¼æµè§å¨åéè¿è¶ææ¬åé¨çé¾æ¥æ¥å¯¼èªå°äºè¿ç¯æç« ï¼éè¯»ç»ææ¶ï¼ä¹æ¯éè¿è¶ææ¬åé¨çé¾æ¥æ¥åå¯¼èªå°ä¸ä¸ç¯ãæµè§å¨ä½ä¸ºææç½ç«çéç¨çå®¢æ·ç«¯ï¼ä»»ä½ç½ç«çå¯¼èªï¼ç¶æè½¬ç§»ï¼è¡ä¸ºé½ä¸å¯è½æ¯é¢ç½®äºæµè§å¨ä»£ç ä¹ä¸­ï¼èæ¯ç±æå¡å¨ååºçè¯·æ±ååºä¿¡æ¯ï¼è¶ææ¬ï¼æ¥é©±å¨çãè¿ç¹ä¸å¶ä»å¸¦æå®¢æ·ç«¯çè½¯ä»¶æååæ¬è´¨çåºå«ï¼å¨é£äºè½¯ä»¶ä¸­ï¼ä¸å¡é»è¾å¾å¾æ¯é¢ç½®äºç¨åºä»£ç ä¹ä¸­çï¼æä¸é¨çé¡µé¢æ§å¶å¨ï¼æ è®ºå¨æå¡ç«¯è¿æ¯å¨å®¢æ·ç«¯ä¸­ï¼æ¥é©±å¨é¡µé¢çç¶æè½¬ç§»ã\n\n * èªæè¿°æ¶æ¯ï¼Self-Descriptive Messagesï¼ï¼ç±äºèµæºçè¡¨å¾å¯è½å­å¨å¤ç§ä¸åå½¢æï¼å¨æ¶æ¯ä¸­åºå½ææç¡®çä¿¡æ¯æ¥åç¥å®¢æ·ç«¯è¯¥æ¶æ¯çç±»åä»¥ååºå¦ä½å¤çè¿æ¡æ¶æ¯ãä¸ç§è¢«å¹¿æ³éç¨çèªæè¿°æ¹æ³æ¯å¨åä¸ºâContent-Typeâç HTTP Header ä¸­æ è¯åºäºèç½åªä½ç±»åï¼MIME typeï¼ï¼è­¬å¦âContent-Type : application/json; charset=utf-8âï¼åè¯´æè¯¥èµæºä¼ä»¥ JSON çæ ¼å¼æ¥è¿åï¼è¯·ä½¿ç¨ UTF-8 å­ç¬¦éè¿è¡å¤çã\n\né¤äºä»¥ä¸ååºçè¿äºçåå­ä¸å®¹æå¼æçæ¦å¿µå¤ï¼å¨çè§£ REST çè¿ç¨ä¸­ï¼è¿æä¸ä¸ªå¸¸è§çè¯¯åºå¼å¾æ³¨æï¼Fielding æåº REST æ¶æè°è®ºçèå´æ¯âæ¶æé£æ ¼ä¸ç½ç»çè½¯ä»¶æ¶æè®¾è®¡âï¼Architectural Styles and Design of Network-based Software Architecturesï¼ï¼èä¸æ¯ç°å¨è¢«äººä»¬æç­ä¹çè§£çä¸ç§âè¿ç¨æå¡è®¾è®¡é£æ ¼âï¼è¿ä¸¤èçèå´å·®å«å°±å¥½æ¯æ¬ä¹¦æè°è®ºçè¯é¢âè½¯ä»¶æ¶æâä¸æ¬ç« è°è®ºè¯é¢âè®¿é®è¿ç¨æå¡âçå³ç³»é£æ ·ï¼åèæ¯åèçä¸ä¸ªå¾å¤§çè¶éï¼å°½ç®¡åºäºæ¬èçä¸»é¢åå¤æ°äººçå³æ³¨ç¹èèï¼æä»¬ç¡®å®æ¯ä¼ä»¥âè¿ç¨æå¡è®¾è®¡é£æ ¼âä½ä¸ºè®¨è®ºçéç¹ï¼ä½è³å°åºè¯¥è¯´ææ¸æ¥å®ä»¬èå´ä¸çå·®å«ã\n\n\n# RESTful çç³»ç»\n\nå¦æä½ å·²ç»çè§£äºä¸é¢è¿äºæ¦å¿µï¼æä»¬å°±å¯ä»¥å¼å§è®¨è®ºé¢åèµæºçç¼ç¨ææ³ä¸ Fielding ææåºçå ä¸ªå·ä½çè½¯ä»¶æ¶æè®¾è®¡ååäºãFielding è®¤ä¸ºï¼ä¸å¥çæ³çãå®å¨æ»¡è¶³ REST é£æ ¼çç³»ç»åºè¯¥æ»¡è¶³ä»¥ä¸å­å¤§ååã\n\n 1. æå¡ç«¯ä¸å®¢æ·ç«¯åç¦»ï¼Client-Serverï¼ å°ç¨æ·çé¢æå³æ³¨çé»è¾åæ°æ®å­å¨æå³æ³¨çé»è¾åç¦»å¼æ¥ï¼æå©äºæé«ç¨æ·çé¢çè·¨å¹³å°çå¯ç§»æ¤æ§ï¼è¿ä¸ç¹æ­£è¶æ¥è¶åå°å¹¿å¤§å¼åèæè®¤å¯ï¼ä»¥åå®å¨åºäºæå¡ç«¯æ§å¶åæ¸²æï¼å¦ JSF è¿ç±»ï¼æ¡æ¶å®éç¨æ·å·²çå°ï¼èå¨æå¡ç«¯è¿è¡çé¢æ§å¶ï¼Controllerï¼ï¼éè¿æå¡ç«¯æèå®¢æ·ç«¯çæ¨¡çæ¸²æå¼ææ¥è¿è¡çé¢æ¸²æçæ¡æ¶ï¼å¦ StrutsãSpringMVC è¿ç±»ï¼ä¹åå°äºé¢å¤§çå²å»ãè¿ä¸ç¹ä¸»è¦æ¨å¨åéä¸ REST å¯è½å³ç³»å¹¶ä¸å¤§ï¼åç«¯ææ¯ï¼ä» ES è§èï¼å°è¯­è¨å®ç°ï¼å°åç«¯æ¡æ¶ç­ï¼çè¿å¹´æ¥çé«éåå±ï¼ä½¿å¾åç«¯è¡¨è¾¾è½åå¤§å¹åº¦å å¼ºææ¯çæ­£çå¹åæ¨æãç±äºåç«¯çæ¥æ¸å¼ºå¿ï¼ç°å¨è¿æµè¡èµ·ç±åç«¯ä»£ç åè¿æ¥é©±å¨æå¡ç«¯è¿è¡æ¸²æç SSRï¼Server-Side Renderingï¼ææ¯ï¼å¨ ServerlessãSEO ç­åºæ¯ä¸­å·²ç»å é¢äºä¸åé¢å°ã\n\n 2. æ ç¶æï¼Statelessï¼ æ ç¶ææ¯ REST çä¸æ¡æ ¸å¿ååï¼é¨åå¼åèå¨åæå¡æ¥å£è§åæ¶ï¼è§å¾ REST é£æ ¼çæå¡æä¹è®¾è®¡é½æè§å«æ­ï¼å¾æå¯è½çä¸ç§åå æ¯å¨æå¡ç«¯ææçæ¯è¾éçç¶æãREST å¸ææå¡å¨ä¸è¦å»è´è´£ç»´æ¤ç¶æï¼æ¯ä¸æ¬¡ä»å®¢æ·ç«¯åéçè¯·æ±ä¸­ï¼åºåæ¬ææçå¿è¦çä¸ä¸æä¿¡æ¯ï¼ä¼è¯ä¿¡æ¯ä¹ç±å®¢æ·ç«¯è´è´£ä¿å­ç»´æ¤ï¼æå¡ç«¯ä¾æ®å®¢æ·ç«¯ä¼ éçç¶ææ¥æ§è¡ä¸å¡å¤çé»è¾ï¼é©±å¨æ´ä¸ªåºç¨çç¶æåè¿ãå®¢æ·ç«¯æ¿æç¶æç»´æ¤èè´£ä»¥åï¼ä¼äº§çä¸äºæ°çé®é¢ï¼è­¬å¦èº«ä»½è®¤è¯ãææç­å¯ä¿¡é®é¢ï¼å®ä»¬é½åºæéå¯¹æ§çè§£å³æ¹æ¡ï¼è¿é¨ååå®¹å¯åè§âå®å¨æ¶æâçåå®¹ï¼ã ä½å¿é¡»æ¿è®¤çç°ç¶æ¯ï¼ç®åå¤§å¤æ°çç³»ç»é½è¾¾ä¸å°è¿ä¸ªè¦æ±ï¼å¾å¾è¶å¤æãè¶å¤§åçç³»ç»è¶æ¯å¦æ­¤ãæå¡ç«¯æ ç¶æå¯ä»¥å¨åå¸å¼è®¡ç®ä¸­è·å¾éå¸¸é«ä»·å¼çå¥½å¤ï¼ä½å¤§åç³»ç»çä¸ä¸æç¶ææ°éå®å¨å¯è½è¨èå°è®©å®¢æ·ç«¯å¨æ¯æ¬¡è¯·æ±æ¶æä¾åå¾ä¸åå®éçç¨åº¦ï¼å¨æå¡ç«¯çåå­ãä¼è¯ãæ°æ®åºæèç¼å­ç­å°æ¹ææä¸å®çç¶ææä¸ºä¸ç§æ¯äºå®ä¸å­å¨ï¼å¹¶å°é¿æå­å¨ãè¢«å¹¿æ³ä½¿ç¨çä¸»æµçæ¹æ¡ã\n\n 3. å¯ç¼å­ï¼Cacheabilityï¼ æ ç¶ææå¡è½ç¶æåäºç³»ç»çå¯è§æ§ãå¯é æ§åå¯ä¼¸ç¼©æ§ï¼ä½éä½äºç³»ç»çç½ç»æ§ãâéä½ç½ç»æ§âçéä¿è§£éæ¯æä¸ªåè½å¦æä½¿ç¨æç¶æçè®¾è®¡åªéè¦ä¸æ¬¡ï¼æå°éï¼è¯·æ±å°±è½å®æï¼ä½¿ç¨æ ç¶æçè®¾è®¡åå¯è½ä¼éè¦å¤æ¬¡è¯·æ±ï¼æèå¨è¯·æ±ä¸­å¸¦æé¢å¤åä½çä¿¡æ¯ãä¸ºäºç¼è§£è¿ä¸ªçç¾ï¼REST å¸æè½¯ä»¶ç³»ç»è½å¤å¦åä¸ç»´ç½ä¸æ ·ï¼åè®¸å®¢æ·ç«¯åä¸­é´çéè®¯ä¼ éèï¼è­¬å¦ä»£çï¼å°é¨åæå¡ç«¯çåºç­ç¼å­èµ·æ¥ãå½ç¶ï¼ä¸ºäºç¼å­è½å¤æ­£ç¡®å°è¿ä½ï¼æå¡ç«¯çåºç­ä¸­å¿é¡»æç¡®å°æèé´æ¥å°è¡¨ææ¬èº«æ¯å¦å¯ä»¥è¿è¡ç¼å­ãå¯ä»¥ç¼å­å¤é¿æ¶é´ï¼ä»¥é¿åå®¢æ·ç«¯å¨å°æ¥è¿è¡è¯·æ±çæ¶åå¾å°è¿æ¶çæ°æ®ãè¿ä½è¯å¥½çç¼å­æºå¶å¯ä»¥åå°å®¢æ·ç«¯ãæå¡å¨ä¹é´çäº¤äºï¼çè³æäºåºæ¯ä¸­å¯ä»¥å®å¨é¿åäº¤äºï¼è¿å°±è¿ä¸æ­¥æé«äºæ§è½ã\n\n 4. åå±ç³»ç»ï¼Layered Systemï¼ è¿éææçå¹¶ä¸æ¯è¡¨ç¤ºå±ãæå¡å±ãæä¹å±è¿ç§æä¹ä¸çåå±ãèæ¯æå®¢æ·ç«¯ä¸è¬ä¸éè¦ç¥éæ¯å¦ç´æ¥è¿æ¥å°äºæç»çæå¡å¨ï¼ææè¿æ¥å°è·¯å¾ä¸çä¸­é´æå¡å¨ãä¸­é´æå¡å¨å¯ä»¥éè¿è´è½½åè¡¡åå±äº«ç¼å­çæºå¶æé«ç³»ç»çå¯æ©å±æ§ï¼è¿æ ·ä¹ä¾¿äºç¼å­ãä¼¸ç¼©åå®å¨ç­ç¥çé¨ç½²ãè¯¥ååçå¸åçåºç¨æ¯åå®¹ååç½ç»ï¼Content Distribution Networkï¼CDNï¼ãå¦æä½ æ¯éè¿ç½ç«æµè§å°è¿ç¯æç« çè¯ï¼ä½ æååºçè¯·æ±ä¸è¬ï¼åè®¾ä½ å¨ä¸­å½å½å¢åçè¯ï¼å¹¶ä¸æ¯ç´æ¥è®¿é®ä½äº GitHub Pages çæºæå¡å¨ï¼èæ¯è®¿é®äºä½äºå½åç CDN æå¡å¨ï¼ä½ä½ä¸ºç¨æ·ï¼ä½ å®å¨ä¸éè¦æç¥å°è¿ä¸ç¹ãæä»¬å°å¨âéæå¤çº§åæµç³»ç»âä¸­è®¨è®ºå¦ä½æå»ºèªå¨çãå¯ç¼å­çåå±ç³»ç»ã\n\n 5. ç»ä¸æ¥å£ï¼Uniform Interfaceï¼ è¿æ¯ REST çå¦ä¸æ¡æ ¸å¿ååï¼REST å¸æå¼åèé¢åèµæºç¼ç¨ï¼å¸æè½¯ä»¶ç³»ç»è®¾è®¡çéç¹æ¾å¨æ½è±¡ç³»ç»è¯¥æåªäºèµæºä¸ï¼èä¸æ¯æ½è±¡ç³»ç»è¯¥æåªäºè¡ä¸ºï¼æå¡ï¼ä¸ãè¿æ¡ååä½ å¯ä»¥ç±»æ¯è®¡ç®æºä¸­å¯¹æä»¶ç®¡ççæä½æ¥çè§£ï¼ç®¡çæä»¶å¯è½ä¼è¿è¡åå»ºãä¿®æ¹ãå é¤ãç§»å¨ç­æä½ï¼è¿äºæä½æ°éæ¯å¯æ°çï¼èä¸å¯¹æææä»¶é½æ¯åºå®çãç»ä¸çãå¦æé¢åèµæºæ¥è®¾è®¡ç³»ç»ï¼åæ ·ä¼å·æç±»ä¼¼çæä½ç¹å¾ï¼ç±äº REST å¹¶æ²¡æè®¾è®¡æ°çåè®®ï¼æä»¥è¿äºæä½é½åç¨äº HTTP åè®®ä¸­åºæçæä½å½ä»¤æ¥å®æã ç»ä¸æ¥å£ä¹æ¯ REST æå®¹æé·å¥äºè®ºçå°æ¹ï¼åºäºç½ç»çè½¯ä»¶ç³»ç»ï¼å°åºæ¯é¢åèµæºæ´å¥½ï¼è¿æ¯é¢åæå¡æ´åéï¼è¿äºæåªææ¯å¾é¿æ¶é´éé½ä¸ä¼æä¸ªå®è®ºï¼ä¹è®¸æ°¸è¿é½æ²¡æãä½æ¯ï¼å·²ç»æä¸ä¸ªåºæ¬æ¸æ°çç»è®ºæ¯ï¼é¢åèµæºç¼ç¨çæ½è±¡ç¨åº¦éå¸¸æ´é«ãæ½è±¡ç¨åº¦é«æå³çåå¤æ¯å¾å¾è·ç¦»äººç±»çæç»´æ¹å¼æ´è¿ï¼èå¥½å¤æ¯å¾å¾éç¨ç¨åº¦ä¼æ´å¥½ãç¨è¿æ ·çè¯­è¨å»è¯ é RESTï¼å¤§æ¦æ¬èº«å°±æºæ½è±¡çï¼ç¬èè¿æ¯ä¸¾ä¸ªä¾å­æ¥è¯´æï¼è­¬å¦ï¼å ä¹æ¯ä¸ªç³»ç»é½æçç»å½åæ³¨éåè½ï¼å¦æä½ çè§£æç»å½å¯¹åºäº login()æå¡ï¼æ³¨éå¯¹åºäº logout()æå¡è¿æ ·ä¸¤ä¸ªç¬ç«æå¡ï¼è¿æ¯âç¬¦åäººç±»æç»´âçï¼å¦æä½ çè§£æç»å½æ¯ PUT Sessionï¼æ³¨éæ¯ DELETE Sessionï¼è¿æ ·ä½ åªéè¦è®¾è®¡ä¸ç§âSession èµæºâå³å¯æ»¡è¶³éæ±ï¼çè³ä»¥åå¯¹ Session çå¶ä»éæ±ï¼å¦æ¥è¯¢ç»éç¨æ·çä¿¡æ¯ï¼å°±æ¯ GET Session èå·²ï¼å¶ä»æä½å¦ä¿®æ¹ç¨æ·ä¿¡æ¯ç­é½å¯ä»¥è¢«è¿åä¸å¥è®¾è®¡åæ¬å¨åï¼è¿ä¾¿æ¯âæ½è±¡ç¨åº¦æ´é«âå¸¦æ¥çå¥½å¤ã æ³è¦å¨æ¶æè®¾è®¡ä¸­åçæ°å½å°å©ç¨ç»ä¸æ¥å£ï¼Fielding å»ºè®®ç³»ç»åºè½åå°æ¯æ¬¡è¯·æ±ä¸­é½åå«èµæºç IDï¼æææä½åéè¿èµæº ID æ¥è¿è¡ï¼å»ºè®®æ¯ä¸ªèµæºé½åºè¯¥æ¯èªæè¿°çæ¶æ¯ï¼å»ºè®®éè¿è¶ææ¬æ¥é©±å¨åºç¨ç¶æçè½¬ç§»ã\n\n 6. æéä»£ç ï¼Code-On-Demand ï¼ æéä»£ç è¢« Fielding åä¸ºä¸æ¡å¯éååãå®æ¯æä»»ä½æç§å®¢æ·ç«¯ï¼è­¬å¦æµè§å¨ï¼çè¯·æ±ï¼å°å¯æ§è¡çè½¯ä»¶ç¨åºä»æå¡å¨åéå°å®¢æ·ç«¯çææ¯ï¼æéä»£ç èµäºäºå®¢æ·ç«¯æ éäºåç¥éæææ¥èªæå¡ç«¯çä¿¡æ¯åºè¯¥å¦ä½å¤çãå¦ä½è¿è¡çå®½å®¹åº¦ãä¸¾ä¸ªå·ä½ä¾å­ï¼ä»¥åçJava Applet ææ¯ï¼ä»å¤©çWebAssembly ç­é½å±äºå¸åçæéä»£ç ï¼è´å«çå·ä½æ§è¡é»è¾çä»£ç æ¯å­æ¾å¨æå¡ç«¯ï¼åªæå½å®¢æ·ç«¯è¯·æ±äºæä¸ª Java Applet ä¹åï¼ä»£ç æä¼è¢«ä¼ è¾å¹¶å¨å®¢æ·ç«¯æºå¨ä¸­è¿è¡ï¼ç»æåéå¸¸ä¹ä¼éå³å¨å®¢æ·ç«¯ä¸­è¢«éæ¯æãå°æéä»£ç åä¸ºå¯éååçåå å¹¶éæ¯å®ç¹å«é¾ä»¥è¾¾å°ï¼èæ´å¤æ¯åºäºå¿è¦æ§åæ§ä»·æ¯çå®éèèã\n\nè³æ­¤ï¼REST ä¸­çä¸»è¦æ¦å¿µä¸ææ³ååå·²ç»ä»ç»å®æ¯ï¼æä»¬ååè¿å¤´æ¥è®¨è®ºæ¬èå¼ç¯æåºç REST ä¸ RPC å¨ææ³ä¸çå·®å¼ãREST çåºæ¬ææ³æ¯é¢åèµæºæ¥æ½è±¡é®é¢ï¼å®ä¸æ­¤åæµè¡çç¼ç¨ææ³ââé¢åè¿ç¨çç¼ç¨å¨æ½è±¡ä¸»ä½ä¸ææ¬è´¨çå·®å«ãå¨ REST æåºä»¥åï¼äººä»¬è®¾è®¡åå¸å¼ç³»ç»æå¡çå¯ä¸æ¹æ¡å°±åªæ RPCï¼RPC æ¯å°æ¬å°çæ¹æ³è°ç¨æè·¯è¿ç§»å°è¿ç¨æ¹æ³è°ç¨ä¸ï¼å¼åèæ¯å´ç»çâè¿ç¨æ¹æ³âå»è®¾è®¡ä¸¤ä¸ªç³»ç»é´äº¤äºçï¼è­¬å¦ CORBAãRMIãDCOMï¼ç­ç­ãè¿æ ·åçåå¤ä¸ä»æ¯âå¦ä½å¨å¼æç³»ç»é´è¡¨ç¤ºä¸ä¸ªæ¹æ³âãâå¦ä½è·å¾æ¥å£è½å¤æä¾çæ¹æ³æ¸åâé½æäºéè¦ä¸é¨åè®®å»è§£å³çé®é¢ï¼RPC çä¸å¤§åºæ¬é®é¢ä¹ä¸ï¼ï¼æ´å¨äºæå¡çæ¯ä¸ªæ¹æ³é½æ¯å®å¨ç¬ç«çï¼æå¡ä½¿ç¨èå¿é¡»éä¸ªå­¦ä¹ æè½æ­£ç¡®å°ä½¿ç¨å®ä»¬ãGoogle å¨ãGoogle API Design Guideã ä¸­æ¾ç»åä¸è¿æ ·ä¸æ®µè¯ï¼\n\n> Traditionally, people design RPC APIs in terms of API interfaces and methods, such as CORBA and Windows COM. As time goes by, more and more interfaces and methods are introduced. The end result can be an overwhelming number of interfaces and methods, each of them different from the others. Developers have to learn each one carefully in order to use it correctly, which can be both time consuming and error prone\n\nä»¥åï¼äººä»¬é¢åæ¹æ³å»è®¾è®¡ RPC APIï¼è­¬å¦ CORBA å DCOMï¼éçæ¶é´æ¨ç§»ï¼æ¥å£ä¸æ¹æ³è¶æ¥è¶å¤å´ååä¸ç¸åï¼å¼åäººåå¿é¡»äºè§£æ¯ä¸ä¸ªæ¹æ³æè½æ­£ç¡®ä½¿ç¨å®ä»¬ï¼è¿æ ·æ¢èæ¶åå®¹æåºéã\n\nââ Google API Design Guide, 2017\n\nREST æåºä»¥èµæºä¸ºä¸»ä½è¿è¡æå¡è®¾è®¡çé£æ ¼ï¼è½ä¸ºå®å¸¦æ¥ä¸å°å¥½å¤ï¼èªç¶ä¹æåå¤ï¼ç¬èå°å¨ä¸ä¸èéä¸­è°è®º REST çä¸è¶³ä¸äºè®®ï¼ï¼è­¬å¦ï¼\n\n * éä½çæå¡æ¥å£çå­¦ä¹ ææ¬ãç»ä¸æ¥å£ï¼Uniform Interfaceï¼æ¯ REST çéè¦æ å¿ï¼å°å¯¹èµæºçæ åæä½é½æ å°å°äºæ åç HTTP æ¹æ³ä¸å»ï¼è¿äºæ¹æ³å¯¹äºæ¯ä¸ªèµæºçç¨æ³é½æ¯ä¸è´çï¼è¯­ä¹é½æ¯ç±»ä¼¼çï¼ä¸éè¦å»æå»å­¦ä¹ ï¼æ´ä¸éè¦æä»ä¹ Interface Description Language ä¹ç±»çåè®®å­å¨ã\n\n * èµæºå¤©ç¶å·æéåä¸å±æ¬¡ç»æãä»¥æ¹æ³ä¸ºä¸­å¿æ½è±¡çæ¥å£ï¼ç±äºæ¹æ³æ¯å¨è¯ï¼é»è¾ä¸å³å®äºæ¯ä¸ªæ¥å£é½æ¯äºç¸ç¬ç«çï¼ä½ä»¥èµæºä¸ºä¸­å¿æ½è±¡çæ¥å£ï¼ç±äºèµæºæ¯åè¯ï¼å¤©ç¶å°±å¯ä»¥äº§çéåä¸å±æ¬¡ç»æãä¸¾ä¸ªå·ä½ä¾å­ï¼ä½ æ³åä¸ä¸ªååç¨æ·ä¸­å¿çæ¥å£è®¾è®¡ï¼ç¨æ·èµæºä¼æ¥æå¤ä¸ªä¸åçä¸çº§çèµæºï¼è­¬å¦è¥å¹²æ¡ç­æ¶æ¯èµæºãä¸ä»½ç¨æ·èµæèµæºãä¸é¨è´­ç©è½¦èµæºï¼è´­ç©è½¦ä¸­åä¼æèªå·±çä¸çº§èµæºï¼è­¬å¦å¤æ¬ä¹¦ç±èµæºãå¾å®¹æå¨ç¨åºæ¥å£ä¸­æé åºè¿äºèµæºçéåå³ç³»ä¸å±æ¬¡å³ç³»ï¼èä¸æ¯ç¬¦åäººä»¬é¿æå¨åæºæç½ç»ç¯å¢ä¸­ç®¡çæ°æ®çç´è§çãç¸ä¿¡ä½ ä¸éè¦ä¸é¨éè¯»æ¥å£è¯´æä¹¦ï¼ä¹è½è½»ææ¨æ­åºè·åç¨æ·icyfenixçè´­ç©è½¦ä¸­çç¬¬2æ¬ä¹¦ç REST æ¥å£åºè¯¥è¡¨ç¤ºä¸ºï¼\n\nGET /users/icyfenix/cart/2\n\n\n1\n\n\n * REST ç»å®äº HTTP åè®®ãé¢åèµæºç¼ç¨ä¸æ¯å¿é¡»æç­å¨ HTTP ä¹ä¸ï¼ä½ REST æ¯ï¼è¿æ¯ç¼ºç¹ï¼ä¹æ¯ä¼ç¹ãå ä¸º HTTP æ¬æ¥å°±æ¯é¢åèµæºèè®¾è®¡çç½ç»åè®®ï¼çº¯ç²¹åªç¨ HTTPï¼èä¸æ¯ SOAP over HTTP é£æ ·å¨åæç­åè®®ï¼å¸¦æ¥çå¥½å¤æ¯ RPC ä¸­ç Wire Protocol é®é¢å°±æ éåå¤èèäºï¼REST å°å¤ç¨ HTTP åè®®ä¸­å·²ç»å®ä¹çæ¦å¿µåç¸å³åºç¡æ¯ææ¥è§£å³é®é¢ãHTTP åè®®å·²ç»ææè¿ä½äºä¸åå¹´ï¼å¶ç¸å³çææ¯åºç¡è®¾æ½å·²æ¯åé¤ç¾ç¼ï¼æ æ¯æçãèåå¤èªç¶æ¯ï¼å½ä½ æ³å»èèé£äº HTTP ä¸æä¾çç¹æ§æ¶ï¼ä¾¿ä¼å½»åºå°æææ ç­ã\n\n * â¦â¦\n\nä»¥ä¸åä¸¾äºä¸äºé¢åèµæºçä¼ç¹ï¼ç¬èå¹¶éè¦è¯æå®æ¯é¢åè¿ç¨ãé¢åå¯¹è±¡æ´ä¼ç§ï¼æ¯å¦éç¨ REST ç API è®¾è®¡é£æ ¼ï¼éè¦æè¡¡çæ¯ä½ çéæ±åºæ¯ãä½ å¢éçè®¾è®¡åå¼åäººåæ¯å¦è½å¤éåºé¢åèµæºçææ³æ¥è®¾è®¡è½¯ä»¶ï¼æ¥ç¼åä»£ç ãå¨äºèç½ä¸­ï¼é¢åèµæºæ¥è¿è¡ç½ç»ä¼ è¾æ¯è¿ä¸åå¹´æ¥ HTTP åè®®ç²¾å¿å¹å»åºæ¥çç¨æ·ä¹ æ¯ï¼å¦æå¼åèè½å¤éåº REST ä¸å¤ªç¬¦åäººç±»æç»´ä¹ æ¯çæ½è±¡æ¹å¼ï¼é£ REST éå¸¸è½å¤æ´å¥½å°å¹éå¨ HTTP åºç¡ä¸æå»ºçäºèç½ï¼å¨æçä¸æ©å±æ§æ¹é¢ä¼æå¯è§çæ¶çã\n\n\n# åè\n\nRESTè®¾è®¡é£æ ¼',normalizedContent:'# rest è®¾è®¡é£æ ¼\n\nå¾å¤äººä¼æ¿ rest ä¸ rpc äºç¸æ¯è¾ï¼å¶å®ï¼rest æ è®ºæ¯å¨ææ³ä¸ãæ¦å¿µä¸ï¼è¿æ¯ä½¿ç¨èå´ä¸ï¼ä¸ rpc é½ä¸å°½ç¸åï¼åå¶éåªè½ç®æ¯æä¸äºç¸ä¼¼ï¼\n\nåºç¨ä¼æä¸é¨åéåä¹å¤ï¼ä½æ¬è´¨ä¸å¹¶ä¸æ¯åä¸ç±»åçä¸è¥¿ã\n\nrest ä¸ rpc å¨ææ³ä¸å·®å¼çæ ¸å¿æ¯æ½è±¡çç®æ ä¸ä¸æ ·ï¼å³é¢åèµæºçç¼ç¨ææ³ä¸é¢åè¿ç¨çç¼ç¨ææ³ä¸¤èä¹é´çåºå«ã\n\né¢åè¿ç¨ç¼ç¨ãé¢åå¯¹è±¡ç¼ç¨å¤§å®¶æ³å¿å¬è¯´è¿ï¼ä½ä»ä¹æ¯é¢åèµæºç¼ç¨ï¼\n\nè¿ä¸ªé®é¢ç­ä»ç»å® rest çç¹å¾ä¹åæä»¬ååå¤´ç»è¯´ã\n\nèæ¦å¿µä¸çä¸åæ¯æ rest å¹¶ä¸æ¯ä¸ç§è¿ç¨æå¡è°ç¨åè®®ï¼çè³å¯ä»¥æå®è¯­ä¹å»æï¼å®å°±ä¸æ¯ä¸ç§åè®®ã\n\nåè®®é½å¸¦æä¸å®çè§èæ§åå¼ºå¶æ§ï¼æèµ·ç ä¹è¯¥æä¸ªè§çº¦ææ¡£ï¼è­¬å¦ json-rpcï¼å®åªæåç®åï¼ä¹è¦æä¸ªãjson-rpc specificationã æ¥è§å®åè®®çæ ¼å¼ç»èãå¼å¸¸ãååºç ç­ä¿¡æ¯ï¼\n\nä½æ¯ rest å¹¶æ²¡æå®ä¹è¿äºåå®¹ï¼å°½ç®¡æä¸äºæå¯¼ååï¼ä½å®éä¸å¹¶ä¸åä»»ä½å¼ºå¶ççº¦æã\n\nå¸¸æäººæ¹è¯æä¸ªç³»ç»æ¥å£âè®¾è®¡å¾ä¸å¤ restfulâï¼å¶å®è¿å¥è¯æ¬èº«å°±æäºäºè®®ï¼rest åªè½è¯´æ¯é£æ ¼èä¸æ¯è§èãåè®®ï¼\n\nå¹¶ä¸è½å®å¨è¾¾å° rest æææå¯¼ååçç³»ç»ä¹æ¯ä¸å¤è§çï¼è¿ä¸ç¹æä»¬åæ ·å°å¨åæä¸­è¯¦ç»è®¨è®ºã\n\nè³äºä½¿ç¨èå´ï¼rest ä¸ rpc ä½ä¸ºä¸»æµçä¸¤ç§è¿ç¨è°ç¨æ¹å¼ï¼å¨ä½¿ç¨ä¸æ¯ç¡®æéåçï¼ä½éåçåºåæå¤å¤§å°±è§ä»è§æºäºã\n\n\n# çè§£ rest\n\nä¸ªäººä¼æå¥½æ¶åç±ï¼ä½è®¡ç®æºç§å­¦æ¯å¡å®çï¼æäº rpcï¼è¿ä¼æåº restï¼æäºé¢åè¿ç¨ç¼ç¨ä¹åï¼è¿è½äº§çé¢åèµæºç¼ç¨ï¼å¹¶å¼èµ·å¹¿æ³çå³æ³¨ãä½¿ç¨åè®¨è®ºï¼\n\nè¯´æåèä¸å®æ¯æä¸äºåèæ²¡æçéªåç¹ï¼æèè§£å³ãé¿åäºä¸äºé¢åè¿ç¨ä¸­çç¼ºé·ãæä»¬ä¸å¦¨åå»çè§£ rest ä¸ºä»ä¹ä¼åºç°ï¼ç¶ååæ¥è®¨è®ºè¯ä»·å®ã\n\nç®åæç´¢å°±è½æ¾å° rest æºäº roy thomas fielding å¨ 2000 å¹´åè¡¨çåå£«è®ºæï¼ãarchitectural styles and the design of network-based software architecturesã ï¼æ­¤æçç¡®æ¯ rest çæºå¤´ï¼ä½æä»¬ä¸åºè¯¥å¿½ç¥ fielding çèº«ä»½åæ­¤åçå·¥ä½èæ¯ï¼è¿äºä¿¡æ¯å¯¹çè§£ rest çè®¾è®¡ææ³è³å³éè¦ã\n\né¦åï¼fielding æ¯ä¸åå¾ä¼ç§çè½¯ä»¶å·¥ç¨å¸ï¼ä»æ¯ apache æå¡å¨çæ ¸å¿å¼åèï¼åæ¥æä¸ºäºèåçapache è½¯ä»¶åºéä¼ çèååå§äººï¼\n\nåæ¶ï¼fielding ä¹æ¯ http 1.0 åè®®ï¼1996 å¹´åå¸ï¼çä¸å®¶ç»æåï¼åæ¥è¿æåä¸º http 1.1 åè®®ï¼1999 å¹´åå¸ï¼çè´è´£äººã\n\nhttp 1.1 åè®®è®¾è®¡å¾æä¸ºæåï¼ä»¥è³äºåå¸ä¹åé¿è¾¾åå¹´çæ¶é´éï¼é½æ²¡ææ¶å°å¤å°ä¿®è®¢çæè§ã\n\nç¨æ¥æå¯¼ http 1.1 åè®®è®¾è®¡ççè®ºåææ³ï¼æåæ¯ä»¥å¤å¿å½çå½¢å¼ç¨ä½ä¸å®¶ç»æåä¹é´äº¤æµï¼é¤äº ietfãw3c çä¸å®¶å¤ï¼å¹¶æ²¡æå¨å¤çå¹¿æ³æµä¼ ã\n\nä»æ¶é´ä¸çï¼å¯¹ http 1.1 åè®®çè®¾è®¡å·¥ä½è´¯ç©¿äº fielding çæ´ä¸ªåå£«ç ç©¶çæ¶¯ï¼å½èµ·è http 1.1 åè®®çå·¥ä½å®æåï¼fielding åå°äºå å·å¤§å­¦æ¬§æåæ ¡ç»§ç»­æ»è¯»èªå·±çåå£«å­¦ä½ã\n\nç¬¬äºå¹´ï¼ä»æ´ä¸ºç³»ç»ãä¸¥è°¨å°éè¿°äºè¿å¥çè®ºæ¡æ¶ï¼å¹¶ä¸ä»¥è¿å¥çè®ºæ¡æ¶å¯¼åºäºä¸ç§æ°çç¼ç¨ææ³ï¼ä»ä¸ºè¿ç§ç¨åºè®¾è®¡é£æ ¼åäºä¸ä¸ªå¾å¤äººé¾ä»¥çè§£ï¼ä½æ¯ä»å¤©å·²ç»å¹¿ä¸ºäººç¥çåå­ restï¼å³âè¡¨å¾ç¶æè½¬ç§»âçç¼©åã\n\nåªæå¯¹ç¼ç¨åç½ç»é½å¾çæçåå­¦ï¼åªä»æ é¢ä¸­ä¹ä¸å¤ªå¯è½ç´æ¥å¼æç½ä»ä¹å«âè¡¨å¾âãå¥ä¸è¥¿çâç¶æâãä»åªâè½¬ç§»âå°åªã\n\nå°½ç®¡å¨è®ºæåæä¸­ç¡®æè®ºè¿°è¿äºæ¦å¿µï¼ä½åå¾ç¡®å®ç¸å½æ¦æ¶©ï¼ä¸æ³è¯»è±æçåå­¦ä»æ­¤å¤è·å¾ä¸­æç¿»è¯çæ¬ï¼ï¼ç¬èæ¨èæ¯è¾å®¹æçè§£ rest ææ³çéå¾æ¯åçè§£ä»ä¹æ¯ httpï¼\n\nåéåä¸äºå®éä¾å­æ¥è¿è¡ç±»æ¯ï¼ä½ ä¼åç°ârestâï¼representational state transferï¼å®éä¸æ¯âhttâï¼hypertext transferï¼çè¿ä¸æ­¥æ½è±¡ï¼ä¸¤èå°±å¦åæ¥å£ä¸å®ç°ç±»çå³ç³»ä¸è¬ã\n\nhttp ä¸­ä½¿ç¨çâè¶ææ¬âï¼hypertextï¼ä¸è¯æ¯ç¾å½ç¤¾ä¼å­¦å®¶ theodor holm nelson å¨ 1967 å¹´äºãbrief words on the hypertextã ä¸æéæåºçï¼ä¸é¢å¼ç¨çæ¯ä»æ¬äººå¨ 1992 å¹´ä¿®æ­£åçå®ä¹ï¼\n\n> hypertext\n\n> by now the word "hypertext" has become generally accepted for branching and responding text, but the corresponding word "hypermedia", meaning complexes of branching and responding graphics, movies and sound â as well as text â is much less used.\n\n> ç°å¨ï¼"è¶ææ¬ "ä¸è¯å·²è¢«æ®éæ¥åï¼å®æçæ¯è½å¤è¿è¡åæ¯å¤æ­åå·®å¼ååºçææ¬ï¼ç¸åºå°ï¼ "è¶åªä½ "ä¸è¯æçæ¯è½å¤è¿è¡åæ¯å¤æ­åå·®å¼ååºçå¾å½¢ãçµå½±åå£°é³ï¼ä¹åæ¬ææ¬ï¼çå¤åä½ã\n\n> ââ theodor holm nelson literary machines, 1992\n\nä»¥ä¸å®ä¹æè¿°çâè¶ææ¬ï¼æè¶åªä½ï¼hypermediaï¼âæ¯ä¸ç§âè½å¤å¯¹æä½è¿è¡å¤æ­åååºçææ¬ï¼æå£°é³ãå¾åç­ï¼âï¼è¿ä¸ªæ¦å¿µå¨ä¸ä¸çºª 60 å¹´ä»£æåºæ¶åºè¯¥è¿å±äºç§å¹»çèç´ï¼ä½æ¯ä»å¤©å¤§ä¼å·²ç»å®å¨æ¥åäºå®ï¼äºèç½ä¸­ä¸æ®µæå­å¯ä»¥ç¹å»ãå¯ä»¥è§¦åèæ¬æ§è¡ãå¯ä»¥è°ç¨æå¡ç«¯ï¼è¿ä¸åå·²æ¯«ä¸ç¨å¥ãä¸é¢æä»¬ç»§ç»­å°è¯ä»âè¶ææ¬âæèâè¶åªä½âçå«ä¹æ¥çè§£ä»ä¹æ¯âè¡¨å¾âä»¥å rest ä¸­å¶ä»å³é®æ¦å¿µï¼è¿éä½¿ç¨ä¸ä¸ªå·ä½äºä¾å°å¶æè¿°å¦ä¸ã\n\n * èµæºï¼resourceï¼ï¼è­¬å¦ä½ ç°å¨æ­£å¨éè¯»ä¸ç¯åä¸ºãrest è®¾è®¡é£æ ¼ãçæç« ï¼è¿ç¯æç« çåå®¹æ¬èº«ï¼ä½ å¯ä»¥å°å¶çè§£ä¸ºå¶è´å«çä¿¡æ¯ãæ°æ®ï¼æä»¬ç§°ä¹ä¸ºâèµæºâãæ è®ºä½ æ¯è´­ä¹°çä¹¦ç±ãæ¯å¨æµè§å¨ççç½é¡µãæ¯æå°åºæ¥ççæç¨¿ãæ¯å¨çµèå±å¹ä¸éè¯»æææ¯ææºä¸æµè§ï¼å°½ç®¡åç°çæ ·å­åä¸ç¸åï¼ä½å¶ä¸­çä¿¡æ¯æ¯ä¸åçï¼ä½ æéè¯»çä»æ¯åä¸ä»½âèµæºâã\n\n * è¡¨å¾ï¼representationï¼ï¼å½ä½ éè¿çµèæµè§å¨éè¯»æ­¤æç« æ¶ï¼æµè§å¨åæå¡ç«¯ååºè¯·æ±âæéè¦è¿ä¸ªèµæºç html æ ¼å¼âï¼æå¡ç«¯åæµè§å¨è¿åçè¿ä¸ª html å°±è¢«ç§°ä¹ä¸ºâè¡¨å¾âï¼ä½ å¯è½éè¿å¶ä»æ¹å¼æ¿å°æ¬æç pdfãmarkdownãrss ç­å¶ä»å½¢å¼ççæ¬ï¼å®ä»¬ä¹åæ ·æ¯ä¸ä¸ªèµæºçå¤ç§è¡¨å¾ãå¯è§âè¡¨å¾âè¿ä¸ªæ¦å¿µæ¯æä¿¡æ¯ä¸ç¨æ·äº¤äºæ¶çè¡¨ç¤ºå½¢å¼ï¼è¿ä¸æä»¬è½¯ä»¶åå±æ¶æä¸­å¸¸è¯´çâè¡¨ç¤ºå±âï¼presentation layerï¼çè¯­ä¹å¶å®æ¯ä¸è´çã\n\n * ç¶æï¼stateï¼ï¼å½ä½ è¯»å®äºè¿ç¯æç« ï¼æ³çåé¢æ¯ä»ä¹åå®¹æ¶ï¼ä½ åæå¡å¨ååºè¯·æ±âç»æä¸ä¸ç¯æç« âãä½æ¯âä¸ä¸ç¯âæ¯ä¸ªç¸å¯¹æ¦å¿µï¼å¿é¡»ä¾èµâå½åä½ æ­£å¨éè¯»çæç« æ¯åªä¸ç¯âæè½æ­£ç¡®ååºï¼è¿ç±»å¨ç¹å®è¯­å¢ä¸­æè½äº§ççä¸ä¸æä¿¡æ¯å³è¢«ç§°ä¸ºâç¶æâãæä»¬æè¯´çæç¶æï¼statefulï¼æææ¯æ ç¶æï¼statelessï¼ï¼é½æ¯åªç¸å¯¹äºæå¡ç«¯æ¥è¯´çï¼æå¡å¨è¦å®æâåä¸ä¸ç¯âçè¯·æ±ï¼è¦ä¹èªå·±è®°ä½ç¨æ·çç¶æï¼è¿ä¸ªç¨æ·ç°å¨éè¯»çæ¯åªä¸ç¯æç« ï¼è¿ç§°ä¸ºæç¶æï¼è¦ä¹å®¢æ·ç«¯æ¥è®°ä½ç¶æï¼å¨è¯·æ±çæ¶åæç¡®åè¯æå¡å¨ï¼ææ­£å¨éè¯»æææç« ï¼ç°å¨è¦è¯»å®çä¸ä¸ç¯ï¼è¿ç§°ä¸ºæ ç¶æã\n\n * è½¬ç§»ï¼transferï¼ï¼æ è®ºç¶ææ¯ç±æå¡ç«¯è¿æ¯å®¢æ·ç«¯æ¥æä¾çï¼âåä¸ä¸ç¯æç« âè¿ä¸ªè¡ä¸ºé»è¾å¿ç¶åªè½ç±æå¡ç«¯æ¥æä¾ï¼å ä¸ºåªææå¡ç«¯æ¥æè¯¥èµæºåå¶è¡¨å¾å½¢å¼ãæå¡å¨éè¿æç§æ¹å¼ï¼æâç¨æ·å½åéè¯»çæç« âè½¬åæâä¸ä¸ç¯æç« âï¼è¿å°±è¢«ç§°ä¸ºâè¡¨å¾ç¶æè½¬ç§»âã\n\néè¿âéè¯»æç« âè¿ä¸ªä¾å­ï¼ç¬èå¯¹èµæºç­æ¦å¿µè¿è¡éä¿çéä¹ï¼ä½ åºè¯¥è½å¤çè§£ rest æè¯´çâè¡¨å¾ç¶æè½¬ç§»âçå«ä¹äºãåçè¿ä¸ªæäºçä¸ä¸æç¶æï¼ç¬èåç»§ç»­ä»ç»å ä¸ªç°å¨ä¸æ¶åä½ç¨åè¦ç¨å°çæ¦å¿µåè¯ã\n\n * ç»ä¸æ¥å£ï¼uniform interfaceï¼ï¼ä¸é¢è¯´çæå¡å¨âéè¿æç§æ¹å¼âè®©è¡¨å¾ç¶æåçè½¬ç§»ï¼å·ä½æ¯ä»ä¹æ¹å¼ï¼å¦æä½ ççæ¯ç¨æµè§å¨éè¯»æ¬æçµå­ççè¯ï¼è¯·ææ¬ææ»å¨å°ç»å°¾å¤ï¼å³ä¸è§æä¸ä¸ç¯æç« ç uri è¶é¾æ¥å°åï¼è¿æ¯æå¡ç«¯æ¸²æè¿ç¯æç« æ¶å°±é¢ç½®å¥½çï¼ç¹å»å®è®©é¡µé¢è·³è½¬å°ä¸ä¸ç¯ï¼å°±æ¯æè°âæç§æ¹å¼âçå¶ä¸­ä¸ç§æ¹å¼ãä»»ä½äººé½ä¸ä¼å¯¹ç¹å»è¶é¾æ¥ç½é¡µä¼åºç°è·³è½¬æå°å¥æªï¼ä½ä½ ç»æ³ä¸ä¸ï¼uri çå«ä¹æ¯ç»ä¸èµæºæ è¯ç¬¦ï¼æ¯ä¸ä¸ªåè¯ï¼å¦ä½è½è¡¨è¾¾åºâè½¬ç§»âå¨ä½çå«ä¹å¢ï¼ç­æ¡æ¯ http åè®®ä¸­å·²ç»æåçº¦å®å¥½äºä¸å¥âç»ä¸æ¥å£âï¼å®åæ¬ï¼getãheadãpostãputãdeleteãtraceãoptions ä¸ç§åºæ¬æä½ï¼ä»»ä½ä¸ä¸ªæ¯æ http åè®®çæå¡å¨é½ä¼éµå®è¿å¥è§å®ï¼å¯¹ç¹å®ç uri éåè¿äºæä½ï¼æå¡å¨å°±ä¼è§¦åç¸åºçè¡¨å¾ç¶æè½¬ç§»ã\n\n * è¶ææ¬é©±å¨ï¼hypertext drivenï¼ï¼å°½ç®¡è¡¨å¾ç¶æè½¬ç§»æ¯ç±æµè§å¨ä¸»å¨åæå¡å¨ååºè¯·æ±æå¼åçï¼è¯¥è¯·æ±å¯¼è´äºâå¨æµè§å¨å±å¹ä¸æ¾ç¤ºåºäºä¸ä¸ç¯æç« çåå®¹âè¿ä¸ªç»æçåºç°ãä½æ¯ï¼ä½ æé½æ¸æ¥è¿ä¸å¯è½ççæ¯æµè§å¨çä¸»å¨æå¾ï¼æµè§å¨æ¯æ ¹æ®ç¨æ·è¾å¥ç uri å°åæ¥æ¾å°ç½ç«é¦é¡µï¼æå¡å¨ç»äºçé¦é¡µè¶ææ¬åå®¹åï¼æµè§å¨åéè¿è¶ææ¬åé¨çé¾æ¥æ¥å¯¼èªå°äºè¿ç¯æç« ï¼éè¯»ç»ææ¶ï¼ä¹æ¯éè¿è¶ææ¬åé¨çé¾æ¥æ¥åå¯¼èªå°ä¸ä¸ç¯ãæµè§å¨ä½ä¸ºææç½ç«çéç¨çå®¢æ·ç«¯ï¼ä»»ä½ç½ç«çå¯¼èªï¼ç¶æè½¬ç§»ï¼è¡ä¸ºé½ä¸å¯è½æ¯é¢ç½®äºæµè§å¨ä»£ç ä¹ä¸­ï¼èæ¯ç±æå¡å¨ååºçè¯·æ±ååºä¿¡æ¯ï¼è¶ææ¬ï¼æ¥é©±å¨çãè¿ç¹ä¸å¶ä»å¸¦æå®¢æ·ç«¯çè½¯ä»¶æååæ¬è´¨çåºå«ï¼å¨é£äºè½¯ä»¶ä¸­ï¼ä¸å¡é»è¾å¾å¾æ¯é¢ç½®äºç¨åºä»£ç ä¹ä¸­çï¼æä¸é¨çé¡µé¢æ§å¶å¨ï¼æ è®ºå¨æå¡ç«¯è¿æ¯å¨å®¢æ·ç«¯ä¸­ï¼æ¥é©±å¨é¡µé¢çç¶æè½¬ç§»ã\n\n * èªæè¿°æ¶æ¯ï¼self-descriptive messagesï¼ï¼ç±äºèµæºçè¡¨å¾å¯è½å­å¨å¤ç§ä¸åå½¢æï¼å¨æ¶æ¯ä¸­åºå½ææç¡®çä¿¡æ¯æ¥åç¥å®¢æ·ç«¯è¯¥æ¶æ¯çç±»åä»¥ååºå¦ä½å¤çè¿æ¡æ¶æ¯ãä¸ç§è¢«å¹¿æ³éç¨çèªæè¿°æ¹æ³æ¯å¨åä¸ºâcontent-typeâç http header ä¸­æ è¯åºäºèç½åªä½ç±»åï¼mime typeï¼ï¼è­¬å¦âcontent-type : application/json; charset=utf-8âï¼åè¯´æè¯¥èµæºä¼ä»¥ json çæ ¼å¼æ¥è¿åï¼è¯·ä½¿ç¨ utf-8 å­ç¬¦éè¿è¡å¤çã\n\né¤äºä»¥ä¸ååºçè¿äºçåå­ä¸å®¹æå¼æçæ¦å¿µå¤ï¼å¨çè§£ rest çè¿ç¨ä¸­ï¼è¿æä¸ä¸ªå¸¸è§çè¯¯åºå¼å¾æ³¨æï¼fielding æåº rest æ¶æè°è®ºçèå´æ¯âæ¶æé£æ ¼ä¸ç½ç»çè½¯ä»¶æ¶æè®¾è®¡âï¼architectural styles and design of network-based software architecturesï¼ï¼èä¸æ¯ç°å¨è¢«äººä»¬æç­ä¹çè§£çä¸ç§âè¿ç¨æå¡è®¾è®¡é£æ ¼âï¼è¿ä¸¤èçèå´å·®å«å°±å¥½æ¯æ¬ä¹¦æè°è®ºçè¯é¢âè½¯ä»¶æ¶æâä¸æ¬ç« è°è®ºè¯é¢âè®¿é®è¿ç¨æå¡âçå³ç³»é£æ ·ï¼åèæ¯åèçä¸ä¸ªå¾å¤§çè¶éï¼å°½ç®¡åºäºæ¬èçä¸»é¢åå¤æ°äººçå³æ³¨ç¹èèï¼æä»¬ç¡®å®æ¯ä¼ä»¥âè¿ç¨æå¡è®¾è®¡é£æ ¼âä½ä¸ºè®¨è®ºçéç¹ï¼ä½è³å°åºè¯¥è¯´ææ¸æ¥å®ä»¬èå´ä¸çå·®å«ã\n\n\n# restful çç³»ç»\n\nå¦æä½ å·²ç»çè§£äºä¸é¢è¿äºæ¦å¿µï¼æä»¬å°±å¯ä»¥å¼å§è®¨è®ºé¢åèµæºçç¼ç¨ææ³ä¸ fielding ææåºçå ä¸ªå·ä½çè½¯ä»¶æ¶æè®¾è®¡ååäºãfielding è®¤ä¸ºï¼ä¸å¥çæ³çãå®å¨æ»¡è¶³ rest é£æ ¼çç³»ç»åºè¯¥æ»¡è¶³ä»¥ä¸å­å¤§ååã\n\n 1. æå¡ç«¯ä¸å®¢æ·ç«¯åç¦»ï¼client-serverï¼ å°ç¨æ·çé¢æå³æ³¨çé»è¾åæ°æ®å­å¨æå³æ³¨çé»è¾åç¦»å¼æ¥ï¼æå©äºæé«ç¨æ·çé¢çè·¨å¹³å°çå¯ç§»æ¤æ§ï¼è¿ä¸ç¹æ­£è¶æ¥è¶åå°å¹¿å¤§å¼åèæè®¤å¯ï¼ä»¥åå®å¨åºäºæå¡ç«¯æ§å¶åæ¸²æï¼å¦ jsf è¿ç±»ï¼æ¡æ¶å®éç¨æ·å·²çå°ï¼èå¨æå¡ç«¯è¿è¡çé¢æ§å¶ï¼controllerï¼ï¼éè¿æå¡ç«¯æèå®¢æ·ç«¯çæ¨¡çæ¸²æå¼ææ¥è¿è¡çé¢æ¸²æçæ¡æ¶ï¼å¦ strutsãspringmvc è¿ç±»ï¼ä¹åå°äºé¢å¤§çå²å»ãè¿ä¸ç¹ä¸»è¦æ¨å¨åéä¸ rest å¯è½å³ç³»å¹¶ä¸å¤§ï¼åç«¯ææ¯ï¼ä» es è§èï¼å°è¯­è¨å®ç°ï¼å°åç«¯æ¡æ¶ç­ï¼çè¿å¹´æ¥çé«éåå±ï¼ä½¿å¾åç«¯è¡¨è¾¾è½åå¤§å¹åº¦å å¼ºææ¯çæ­£çå¹åæ¨æãç±äºåç«¯çæ¥æ¸å¼ºå¿ï¼ç°å¨è¿æµè¡èµ·ç±åç«¯ä»£ç åè¿æ¥é©±å¨æå¡ç«¯è¿è¡æ¸²æç ssrï¼server-side renderingï¼ææ¯ï¼å¨ serverlessãseo ç­åºæ¯ä¸­å·²ç»å é¢äºä¸åé¢å°ã\n\n 2. æ ç¶æï¼statelessï¼ æ ç¶ææ¯ rest çä¸æ¡æ ¸å¿ååï¼é¨åå¼åèå¨åæå¡æ¥å£è§åæ¶ï¼è§å¾ rest é£æ ¼çæå¡æä¹è®¾è®¡é½æè§å«æ­ï¼å¾æå¯è½çä¸ç§åå æ¯å¨æå¡ç«¯ææçæ¯è¾éçç¶æãrest å¸ææå¡å¨ä¸è¦å»è´è´£ç»´æ¤ç¶æï¼æ¯ä¸æ¬¡ä»å®¢æ·ç«¯åéçè¯·æ±ä¸­ï¼åºåæ¬ææçå¿è¦çä¸ä¸æä¿¡æ¯ï¼ä¼è¯ä¿¡æ¯ä¹ç±å®¢æ·ç«¯è´è´£ä¿å­ç»´æ¤ï¼æå¡ç«¯ä¾æ®å®¢æ·ç«¯ä¼ éçç¶ææ¥æ§è¡ä¸å¡å¤çé»è¾ï¼é©±å¨æ´ä¸ªåºç¨çç¶æåè¿ãå®¢æ·ç«¯æ¿æç¶æç»´æ¤èè´£ä»¥åï¼ä¼äº§çä¸äºæ°çé®é¢ï¼è­¬å¦èº«ä»½è®¤è¯ãææç­å¯ä¿¡é®é¢ï¼å®ä»¬é½åºæéå¯¹æ§çè§£å³æ¹æ¡ï¼è¿é¨ååå®¹å¯åè§âå®å¨æ¶æâçåå®¹ï¼ã ä½å¿é¡»æ¿è®¤çç°ç¶æ¯ï¼ç®åå¤§å¤æ°çç³»ç»é½è¾¾ä¸å°è¿ä¸ªè¦æ±ï¼å¾å¾è¶å¤æãè¶å¤§åçç³»ç»è¶æ¯å¦æ­¤ãæå¡ç«¯æ ç¶æå¯ä»¥å¨åå¸å¼è®¡ç®ä¸­è·å¾éå¸¸é«ä»·å¼çå¥½å¤ï¼ä½å¤§åç³»ç»çä¸ä¸æç¶ææ°éå®å¨å¯è½è¨èå°è®©å®¢æ·ç«¯å¨æ¯æ¬¡è¯·æ±æ¶æä¾åå¾ä¸åå®éçç¨åº¦ï¼å¨æå¡ç«¯çåå­ãä¼è¯ãæ°æ®åºæèç¼å­ç­å°æ¹ææä¸å®çç¶ææä¸ºä¸ç§æ¯äºå®ä¸å­å¨ï¼å¹¶å°é¿æå­å¨ãè¢«å¹¿æ³ä½¿ç¨çä¸»æµçæ¹æ¡ã\n\n 3. å¯ç¼å­ï¼cacheabilityï¼ æ ç¶ææå¡è½ç¶æåäºç³»ç»çå¯è§æ§ãå¯é æ§åå¯ä¼¸ç¼©æ§ï¼ä½éä½äºç³»ç»çç½ç»æ§ãâéä½ç½ç»æ§âçéä¿è§£éæ¯æä¸ªåè½å¦æä½¿ç¨æç¶æçè®¾è®¡åªéè¦ä¸æ¬¡ï¼æå°éï¼è¯·æ±å°±è½å®æï¼ä½¿ç¨æ ç¶æçè®¾è®¡åå¯è½ä¼éè¦å¤æ¬¡è¯·æ±ï¼æèå¨è¯·æ±ä¸­å¸¦æé¢å¤åä½çä¿¡æ¯ãä¸ºäºç¼è§£è¿ä¸ªçç¾ï¼rest å¸æè½¯ä»¶ç³»ç»è½å¤å¦åä¸ç»´ç½ä¸æ ·ï¼åè®¸å®¢æ·ç«¯åä¸­é´çéè®¯ä¼ éèï¼è­¬å¦ä»£çï¼å°é¨åæå¡ç«¯çåºç­ç¼å­èµ·æ¥ãå½ç¶ï¼ä¸ºäºç¼å­è½å¤æ­£ç¡®å°è¿ä½ï¼æå¡ç«¯çåºç­ä¸­å¿é¡»æç¡®å°æèé´æ¥å°è¡¨ææ¬èº«æ¯å¦å¯ä»¥è¿è¡ç¼å­ãå¯ä»¥ç¼å­å¤é¿æ¶é´ï¼ä»¥é¿åå®¢æ·ç«¯å¨å°æ¥è¿è¡è¯·æ±çæ¶åå¾å°è¿æ¶çæ°æ®ãè¿ä½è¯å¥½çç¼å­æºå¶å¯ä»¥åå°å®¢æ·ç«¯ãæå¡å¨ä¹é´çäº¤äºï¼çè³æäºåºæ¯ä¸­å¯ä»¥å®å¨é¿åäº¤äºï¼è¿å°±è¿ä¸æ­¥æé«äºæ§è½ã\n\n 4. åå±ç³»ç»ï¼layered systemï¼ è¿éææçå¹¶ä¸æ¯è¡¨ç¤ºå±ãæå¡å±ãæä¹å±è¿ç§æä¹ä¸çåå±ãèæ¯æå®¢æ·ç«¯ä¸è¬ä¸éè¦ç¥éæ¯å¦ç´æ¥è¿æ¥å°äºæç»çæå¡å¨ï¼ææè¿æ¥å°è·¯å¾ä¸çä¸­é´æå¡å¨ãä¸­é´æå¡å¨å¯ä»¥éè¿è´è½½åè¡¡åå±äº«ç¼å­çæºå¶æé«ç³»ç»çå¯æ©å±æ§ï¼è¿æ ·ä¹ä¾¿äºç¼å­ãä¼¸ç¼©åå®å¨ç­ç¥çé¨ç½²ãè¯¥ååçå¸åçåºç¨æ¯åå®¹ååç½ç»ï¼content distribution networkï¼cdnï¼ãå¦æä½ æ¯éè¿ç½ç«æµè§å°è¿ç¯æç« çè¯ï¼ä½ æååºçè¯·æ±ä¸è¬ï¼åè®¾ä½ å¨ä¸­å½å½å¢åçè¯ï¼å¹¶ä¸æ¯ç´æ¥è®¿é®ä½äº github pages çæºæå¡å¨ï¼èæ¯è®¿é®äºä½äºå½åç cdn æå¡å¨ï¼ä½ä½ä¸ºç¨æ·ï¼ä½ å®å¨ä¸éè¦æç¥å°è¿ä¸ç¹ãæä»¬å°å¨âéæå¤çº§åæµç³»ç»âä¸­è®¨è®ºå¦ä½æå»ºèªå¨çãå¯ç¼å­çåå±ç³»ç»ã\n\n 5. ç»ä¸æ¥å£ï¼uniform interfaceï¼ è¿æ¯ rest çå¦ä¸æ¡æ ¸å¿ååï¼rest å¸æå¼åèé¢åèµæºç¼ç¨ï¼å¸æè½¯ä»¶ç³»ç»è®¾è®¡çéç¹æ¾å¨æ½è±¡ç³»ç»è¯¥æåªäºèµæºä¸ï¼èä¸æ¯æ½è±¡ç³»ç»è¯¥æåªäºè¡ä¸ºï¼æå¡ï¼ä¸ãè¿æ¡ååä½ å¯ä»¥ç±»æ¯è®¡ç®æºä¸­å¯¹æä»¶ç®¡ççæä½æ¥çè§£ï¼ç®¡çæä»¶å¯è½ä¼è¿è¡åå»ºãä¿®æ¹ãå é¤ãç§»å¨ç­æä½ï¼è¿äºæä½æ°éæ¯å¯æ°çï¼èä¸å¯¹æææä»¶é½æ¯åºå®çãç»ä¸çãå¦æé¢åèµæºæ¥è®¾è®¡ç³»ç»ï¼åæ ·ä¼å·æç±»ä¼¼çæä½ç¹å¾ï¼ç±äº rest å¹¶æ²¡æè®¾è®¡æ°çåè®®ï¼æä»¥è¿äºæä½é½åç¨äº http åè®®ä¸­åºæçæä½å½ä»¤æ¥å®æã ç»ä¸æ¥å£ä¹æ¯ rest æå®¹æé·å¥äºè®ºçå°æ¹ï¼åºäºç½ç»çè½¯ä»¶ç³»ç»ï¼å°åºæ¯é¢åèµæºæ´å¥½ï¼è¿æ¯é¢åæå¡æ´åéï¼è¿äºæåªææ¯å¾é¿æ¶é´éé½ä¸ä¼æä¸ªå®è®ºï¼ä¹è®¸æ°¸è¿é½æ²¡æãä½æ¯ï¼å·²ç»æä¸ä¸ªåºæ¬æ¸æ°çç»è®ºæ¯ï¼é¢åèµæºç¼ç¨çæ½è±¡ç¨åº¦éå¸¸æ´é«ãæ½è±¡ç¨åº¦é«æå³çåå¤æ¯å¾å¾è·ç¦»äººç±»çæç»´æ¹å¼æ´è¿ï¼èå¥½å¤æ¯å¾å¾éç¨ç¨åº¦ä¼æ´å¥½ãç¨è¿æ ·çè¯­è¨å»è¯ é restï¼å¤§æ¦æ¬èº«å°±æºæ½è±¡çï¼ç¬èè¿æ¯ä¸¾ä¸ªä¾å­æ¥è¯´æï¼è­¬å¦ï¼å ä¹æ¯ä¸ªç³»ç»é½æçç»å½åæ³¨éåè½ï¼å¦æä½ çè§£æç»å½å¯¹åºäº login()æå¡ï¼æ³¨éå¯¹åºäº logout()æå¡è¿æ ·ä¸¤ä¸ªç¬ç«æå¡ï¼è¿æ¯âç¬¦åäººç±»æç»´âçï¼å¦æä½ çè§£æç»å½æ¯ put sessionï¼æ³¨éæ¯ delete sessionï¼è¿æ ·ä½ åªéè¦è®¾è®¡ä¸ç§âsession èµæºâå³å¯æ»¡è¶³éæ±ï¼çè³ä»¥åå¯¹ session çå¶ä»éæ±ï¼å¦æ¥è¯¢ç»éç¨æ·çä¿¡æ¯ï¼å°±æ¯ get session èå·²ï¼å¶ä»æä½å¦ä¿®æ¹ç¨æ·ä¿¡æ¯ç­é½å¯ä»¥è¢«è¿åä¸å¥è®¾è®¡åæ¬å¨åï¼è¿ä¾¿æ¯âæ½è±¡ç¨åº¦æ´é«âå¸¦æ¥çå¥½å¤ã æ³è¦å¨æ¶æè®¾è®¡ä¸­åçæ°å½å°å©ç¨ç»ä¸æ¥å£ï¼fielding å»ºè®®ç³»ç»åºè½åå°æ¯æ¬¡è¯·æ±ä¸­é½åå«èµæºç idï¼æææä½åéè¿èµæº id æ¥è¿è¡ï¼å»ºè®®æ¯ä¸ªèµæºé½åºè¯¥æ¯èªæè¿°çæ¶æ¯ï¼å»ºè®®éè¿è¶ææ¬æ¥é©±å¨åºç¨ç¶æçè½¬ç§»ã\n\n 6. æéä»£ç ï¼code-on-demand ï¼ æéä»£ç è¢« fielding åä¸ºä¸æ¡å¯éååãå®æ¯æä»»ä½æç§å®¢æ·ç«¯ï¼è­¬å¦æµè§å¨ï¼çè¯·æ±ï¼å°å¯æ§è¡çè½¯ä»¶ç¨åºä»æå¡å¨åéå°å®¢æ·ç«¯çææ¯ï¼æéä»£ç èµäºäºå®¢æ·ç«¯æ éäºåç¥éæææ¥èªæå¡ç«¯çä¿¡æ¯åºè¯¥å¦ä½å¤çãå¦ä½è¿è¡çå®½å®¹åº¦ãä¸¾ä¸ªå·ä½ä¾å­ï¼ä»¥åçjava applet ææ¯ï¼ä»å¤©çwebassembly ç­é½å±äºå¸åçæéä»£ç ï¼è´å«çå·ä½æ§è¡é»è¾çä»£ç æ¯å­æ¾å¨æå¡ç«¯ï¼åªæå½å®¢æ·ç«¯è¯·æ±äºæä¸ª java applet ä¹åï¼ä»£ç æä¼è¢«ä¼ è¾å¹¶å¨å®¢æ·ç«¯æºå¨ä¸­è¿è¡ï¼ç»æåéå¸¸ä¹ä¼éå³å¨å®¢æ·ç«¯ä¸­è¢«éæ¯æãå°æéä»£ç åä¸ºå¯éååçåå å¹¶éæ¯å®ç¹å«é¾ä»¥è¾¾å°ï¼èæ´å¤æ¯åºäºå¿è¦æ§åæ§ä»·æ¯çå®éèèã\n\nè³æ­¤ï¼rest ä¸­çä¸»è¦æ¦å¿µä¸ææ³ååå·²ç»ä»ç»å®æ¯ï¼æä»¬ååè¿å¤´æ¥è®¨è®ºæ¬èå¼ç¯æåºç rest ä¸ rpc å¨ææ³ä¸çå·®å¼ãrest çåºæ¬ææ³æ¯é¢åèµæºæ¥æ½è±¡é®é¢ï¼å®ä¸æ­¤åæµè¡çç¼ç¨ææ³ââé¢åè¿ç¨çç¼ç¨å¨æ½è±¡ä¸»ä½ä¸ææ¬è´¨çå·®å«ãå¨ rest æåºä»¥åï¼äººä»¬è®¾è®¡åå¸å¼ç³»ç»æå¡çå¯ä¸æ¹æ¡å°±åªæ rpcï¼rpc æ¯å°æ¬å°çæ¹æ³è°ç¨æè·¯è¿ç§»å°è¿ç¨æ¹æ³è°ç¨ä¸ï¼å¼åèæ¯å´ç»çâè¿ç¨æ¹æ³âå»è®¾è®¡ä¸¤ä¸ªç³»ç»é´äº¤äºçï¼è­¬å¦ corbaãrmiãdcomï¼ç­ç­ãè¿æ ·åçåå¤ä¸ä»æ¯âå¦ä½å¨å¼æç³»ç»é´è¡¨ç¤ºä¸ä¸ªæ¹æ³âãâå¦ä½è·å¾æ¥å£è½å¤æä¾çæ¹æ³æ¸åâé½æäºéè¦ä¸é¨åè®®å»è§£å³çé®é¢ï¼rpc çä¸å¤§åºæ¬é®é¢ä¹ä¸ï¼ï¼æ´å¨äºæå¡çæ¯ä¸ªæ¹æ³é½æ¯å®å¨ç¬ç«çï¼æå¡ä½¿ç¨èå¿é¡»éä¸ªå­¦ä¹ æè½æ­£ç¡®å°ä½¿ç¨å®ä»¬ãgoogle å¨ãgoogle api design guideã ä¸­æ¾ç»åä¸è¿æ ·ä¸æ®µè¯ï¼\n\n> traditionally, people design rpc apis in terms of api interfaces and methods, such as corba and windows com. as time goes by, more and more interfaces and methods are introduced. the end result can be an overwhelming number of interfaces and methods, each of them different from the others. developers have to learn each one carefully in order to use it correctly, which can be both time consuming and error prone\n\nä»¥åï¼äººä»¬é¢åæ¹æ³å»è®¾è®¡ rpc apiï¼è­¬å¦ corba å dcomï¼éçæ¶é´æ¨ç§»ï¼æ¥å£ä¸æ¹æ³è¶æ¥è¶å¤å´ååä¸ç¸åï¼å¼åäººåå¿é¡»äºè§£æ¯ä¸ä¸ªæ¹æ³æè½æ­£ç¡®ä½¿ç¨å®ä»¬ï¼è¿æ ·æ¢èæ¶åå®¹æåºéã\n\nââ google api design guide, 2017\n\nrest æåºä»¥èµæºä¸ºä¸»ä½è¿è¡æå¡è®¾è®¡çé£æ ¼ï¼è½ä¸ºå®å¸¦æ¥ä¸å°å¥½å¤ï¼èªç¶ä¹æåå¤ï¼ç¬èå°å¨ä¸ä¸èéä¸­è°è®º rest çä¸è¶³ä¸äºè®®ï¼ï¼è­¬å¦ï¼\n\n * éä½çæå¡æ¥å£çå­¦ä¹ ææ¬ãç»ä¸æ¥å£ï¼uniform interfaceï¼æ¯ rest çéè¦æ å¿ï¼å°å¯¹èµæºçæ åæä½é½æ å°å°äºæ åç http æ¹æ³ä¸å»ï¼è¿äºæ¹æ³å¯¹äºæ¯ä¸ªèµæºçç¨æ³é½æ¯ä¸è´çï¼è¯­ä¹é½æ¯ç±»ä¼¼çï¼ä¸éè¦å»æå»å­¦ä¹ ï¼æ´ä¸éè¦æä»ä¹ interface description language ä¹ç±»çåè®®å­å¨ã\n\n * èµæºå¤©ç¶å·æéåä¸å±æ¬¡ç»æãä»¥æ¹æ³ä¸ºä¸­å¿æ½è±¡çæ¥å£ï¼ç±äºæ¹æ³æ¯å¨è¯ï¼é»è¾ä¸å³å®äºæ¯ä¸ªæ¥å£é½æ¯äºç¸ç¬ç«çï¼ä½ä»¥èµæºä¸ºä¸­å¿æ½è±¡çæ¥å£ï¼ç±äºèµæºæ¯åè¯ï¼å¤©ç¶å°±å¯ä»¥äº§çéåä¸å±æ¬¡ç»æãä¸¾ä¸ªå·ä½ä¾å­ï¼ä½ æ³åä¸ä¸ªååç¨æ·ä¸­å¿çæ¥å£è®¾è®¡ï¼ç¨æ·èµæºä¼æ¥æå¤ä¸ªä¸åçä¸çº§çèµæºï¼è­¬å¦è¥å¹²æ¡ç­æ¶æ¯èµæºãä¸ä»½ç¨æ·èµæèµæºãä¸é¨è´­ç©è½¦èµæºï¼è´­ç©è½¦ä¸­åä¼æèªå·±çä¸çº§èµæºï¼è­¬å¦å¤æ¬ä¹¦ç±èµæºãå¾å®¹æå¨ç¨åºæ¥å£ä¸­æé åºè¿äºèµæºçéåå³ç³»ä¸å±æ¬¡å³ç³»ï¼èä¸æ¯ç¬¦åäººä»¬é¿æå¨åæºæç½ç»ç¯å¢ä¸­ç®¡çæ°æ®çç´è§çãç¸ä¿¡ä½ ä¸éè¦ä¸é¨éè¯»æ¥å£è¯´æä¹¦ï¼ä¹è½è½»ææ¨æ­åºè·åç¨æ·icyfenixçè´­ç©è½¦ä¸­çç¬¬2æ¬ä¹¦ç rest æ¥å£åºè¯¥è¡¨ç¤ºä¸ºï¼\n\nget /users/icyfenix/cart/2\n\n\n1\n\n\n * rest ç»å®äº http åè®®ãé¢åèµæºç¼ç¨ä¸æ¯å¿é¡»æç­å¨ http ä¹ä¸ï¼ä½ rest æ¯ï¼è¿æ¯ç¼ºç¹ï¼ä¹æ¯ä¼ç¹ãå ä¸º http æ¬æ¥å°±æ¯é¢åèµæºèè®¾è®¡çç½ç»åè®®ï¼çº¯ç²¹åªç¨ httpï¼èä¸æ¯ soap over http é£æ ·å¨åæç­åè®®ï¼å¸¦æ¥çå¥½å¤æ¯ rpc ä¸­ç wire protocol é®é¢å°±æ éåå¤èèäºï¼rest å°å¤ç¨ http åè®®ä¸­å·²ç»å®ä¹çæ¦å¿µåç¸å³åºç¡æ¯ææ¥è§£å³é®é¢ãhttp åè®®å·²ç»ææè¿ä½äºä¸åå¹´ï¼å¶ç¸å³çææ¯åºç¡è®¾æ½å·²æ¯åé¤ç¾ç¼ï¼æ æ¯æçãèåå¤èªç¶æ¯ï¼å½ä½ æ³å»èèé£äº http ä¸æä¾çç¹æ§æ¶ï¼ä¾¿ä¼å½»åºå°æææ ç­ã\n\n * â¦â¦\n\nä»¥ä¸åä¸¾äºä¸äºé¢åèµæºçä¼ç¹ï¼ç¬èå¹¶éè¦è¯æå®æ¯é¢åè¿ç¨ãé¢åå¯¹è±¡æ´ä¼ç§ï¼æ¯å¦éç¨ rest ç api è®¾è®¡é£æ ¼ï¼éè¦æè¡¡çæ¯ä½ çéæ±åºæ¯ãä½ å¢éçè®¾è®¡åå¼åäººåæ¯å¦è½å¤éåºé¢åèµæºçææ³æ¥è®¾è®¡è½¯ä»¶ï¼æ¥ç¼åä»£ç ãå¨äºèç½ä¸­ï¼é¢åèµæºæ¥è¿è¡ç½ç»ä¼ è¾æ¯è¿ä¸åå¹´æ¥ http åè®®ç²¾å¿å¹å»åºæ¥çç¨æ·ä¹ æ¯ï¼å¦æå¼åèè½å¤éåº rest ä¸å¤ªç¬¦åäººç±»æç»´ä¹ æ¯çæ½è±¡æ¹å¼ï¼é£ rest éå¸¸è½å¤æ´å¥½å°å¹éå¨ http åºç¡ä¸æå»ºçäºèç½ï¼å¨æçä¸æ©å±æ§æ¹é¢ä¼æå¯è§çæ¶çã\n\n\n# åè\n\nrestè®¾è®¡é£æ ¼',charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿° HTTP æ¥æå¤´é¨çç»æç»æ",frontmatter:{title:"ç®è¿° HTTP æ¥æå¤´é¨çç»æç»æ",date:"2022-09-21T22:55:20.000Z",permalink:"/pages/dfb780/",categories:["è®¡ç®æºåºç¡","è®¡ç®æºç½ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/10.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/290.%E7%AE%80%E8%BF%B0%20HTTP%20%E6%8A%A5%E6%96%87%E5%A4%B4%E9%83%A8%E7%9A%84%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84.html",relativePath:"02.è®¡ç®æºåºç¡/10.è®¡ç®æºç½ç»/290.ç®è¿° HTTP æ¥æå¤´é¨çç»æç»æ.md",key:"v-51f24219",path:"/pages/dfb780/",headers:[{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:2}],headersStr:"åè",content:"# åè\n\nHTTP æ¥æç»æè¯¦è§£",normalizedContent:"# åè\n\nhttp æ¥æç»æè¯¦è§£",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿°èªæéä¸äºæ¥éçä½¿ç¨åºæ¯",frontmatter:{title:"ç®è¿°èªæéä¸äºæ¥éçä½¿ç¨åºæ¯",date:"2022-09-21T23:00:00.000Z",permalink:"/pages/9e6232/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/010.%E7%AE%80%E8%BF%B0%E8%87%AA%E6%97%8B%E9%94%81%E4%B8%8E%E4%BA%92%E6%96%A5%E9%94%81%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/010.ç®è¿°èªæéä¸äºæ¥éçä½¿ç¨åºæ¯.md",key:"v-fe1405b0",path:"/pages/9e6232/",headers:[{level:2,title:"èªæé",slug:"èªæé",normalizedTitle:"èªæé",charIndex:2},{level:2,title:"èªæéä¼ç¼ºç¹",slug:"èªæéä¼ç¼ºç¹",normalizedTitle:"èªæéä¼ç¼ºç¹",charIndex:571},{level:2,title:"èªæéçä½¿ç¨åºæ¯",slug:"èªæéçä½¿ç¨åºæ¯",normalizedTitle:"èªæéçä½¿ç¨åºæ¯",charIndex:913},{level:2,title:"äºæ¥é",slug:"äºæ¥é",normalizedTitle:"äºæ¥é",charIndex:1214},{level:2,title:"èªæéåäºæ¥éçä½¿ç¨åºæ¯",slug:"èªæéåäºæ¥éçä½¿ç¨åºæ¯",normalizedTitle:"èªæéåäºæ¥éçä½¿ç¨åºæ¯",charIndex:1530}],headersStr:"èªæé èªæéä¼ç¼ºç¹ èªæéçä½¿ç¨åºæ¯ äºæ¥é èªæéåäºæ¥éçä½¿ç¨åºæ¯",content:"# èªæé\n\nèªæéæ¯æå°è¯è·åéççº¿ç¨ä¸ä¼ç«å³é»å¡ï¼èæ¯éç¨å¾ªç¯çæ¹å¼å»å°è¯è·åéï¼è¿æ ·çå¥½å¤æ¯åå°çº¿ç¨ä¸ä¸æåæ¢çæ¶èï¼ç¼ºç¹æ¯å¾ªç¯ä¼æ¶è CPU\n\n\n\n/**\n * é¢è¯é¢åäº«ï¼æåä¸ä¸ªèªæé\n *\n **/\npublic class SpinLockDemo {\n\n    AtomicReference<Thread> lock = new AtomicReference<>();\n\n    public void myLock(){\n        Thread thread = Thread.currentThread();\n        //å¦æä¸ä¸ºç©ºï¼èªæ\n        while (!lock.compareAndSet(null,thread)){\n\n        }\n    }\n\n    public void myUnlock(){\n        Thread thread = Thread.currentThread();\n        //è§£éåï¼å°éç½®ä¸º null\n        lock.compareAndSet(thread,null);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# èªæéä¼ç¼ºç¹\n\nç¼ºç¹ï¼\n\n 1. å¦ææä¸ªçº¿ç¨ææéçæ¶é´è¿é¿ï¼å°±ä¼å¯¼è´å¶å®ç­å¾è·åéççº¿ç¨è¿å¥å¾ªç¯ç­å¾ï¼æ¶èCPUãä½¿ç¨ä¸å½ä¼é æCPU ä½¿ç¨çæé«ã\n 2. ä¸é¢ Java å®ç°çèªæéä¸æ¯å¬å¹³çï¼å³æ æ³æ»¡è¶³ç­å¾æ¶é´æé¿ççº¿ç¨ä¼åè·åéãä¸å¬å¹³çéå°±ä¼å­å¨âçº¿ç¨é¥¥é¥¿âé®é¢ã\n\nä¼ç¹ï¼\n\n 1. èªæéä¸ä¼ä½¿çº¿ç¨ç¶æåçåæ¢ï¼ä¸ç´å¤äºç¨æ·æï¼å³çº¿ç¨ä¸ç´é½æ¯ active çï¼ä¸ä¼ä½¿çº¿ç¨è¿å¥é»å¡ç¶æï¼åå°äºä¸å¿è¦çä¸ä¸æåæ¢ï¼æ§è¡éåº¦å¿«\n 2. éèªæéå¨è·åä¸å°éçæ¶åä¼è¿å¥é»å¡ç¶æï¼ä»èè¿å¥åæ ¸æï¼å½è·åå°éçæ¶åéè¦ä»åæ ¸ææ¢å¤ï¼éè¦çº¿ç¨ä¸ä¸æåæ¢ã ï¼çº¿ç¨è¢«é»å¡åä¾¿è¿å¥åæ ¸ï¼Linuxï¼è°åº¦ç¶æï¼è¿ä¸ªä¼å¯¼è´ç³»ç»å¨ç¨æ·æä¸åæ ¸æä¹é´æ¥ååæ¢ï¼ä¸¥éå½±åéçæ§è½ï¼\n\n\n# èªæéçä½¿ç¨åºæ¯\n\nå¦æéçä½¿ç¨èææéçæ¶é´éå¸¸é¿ï¼é£ä¹å¶ä½çç­å¾è·å¾éççº¿ç¨å°±ä¼ä¸ç´åèªææä½ï¼è¿æ¯éå¸¸æµªè´¹ CPU çä½¿å¾ CPU ææå©ç¨çå¤§å¤§éä½ãå¶æ¬¡å¦æå¹¶åæ¢éççº¿ç¨éå¸¸å¤ï¼ä¹ä¼å å¤§è¿ç§æµªè´¹ã\n\né£ä¹æ¾ç¶éçæææ¶é´éå¸¸ç­æ¯ä½¿ç¨èªæéçåºæ¯ã\n\nå ä¸ºèªæéä¸ä¼é»å¡ä¸ä¼é·å¥åæ ¸éæ°è°åº¦å¶ä»çº¿ç¨ï¼æä»¥å¦æèªæå¸¦æ¥ç CPU æ¶èæ¯é»å¡ï¼é·å¥åæ ¸ï¼OS è°åº¦å¶ä»çº¿ç¨ï¼åååç¨æ·æè¿ä¸ç³»åè¿ç¨æ¥ç CPU æ¶èå°é£ä¹èªæéå°±è½å¤èç CPUï¼è®© CPU æ´å¤çå»æ§è¡ææä»£ç ï¼ å ä¸ºçº¿ç¨åæ¢ï¼é·å¥åæ ¸ç­ç­è¿ä¸ç³»åçæä½åå»å»çèªææä½ä¸æ ·é½æ¯å¨åâæ æä¹âäºæï¼ç½ç½çæ¶è CPUã\n\n\n# äºæ¥é\n\näºæ¥éæ¯ä¸ç§ãç¬å éãï¼æ¯å¦å½çº¿ç¨ A å éæååï¼æ­¤æ¶äºæ¥éå·²ç»è¢«çº¿ç¨ A ç¬å äºï¼åªè¦çº¿ç¨ A æ²¡æéæ¾æä¸­çéï¼çº¿ç¨ B å éå°±ä¼å¤±è´¥ï¼äºæ¯å°±ä¼éæ¾ CPU è®©ç»å¶ä»çº¿ç¨ï¼æ¢ç¶çº¿ç¨ B éæ¾æäº CPUï¼èªç¶çº¿ç¨ B å éçä»£ç å°±ä¼è¢«é»å¡\n\n\n\nå¯¹äºäºæ¥éå éå¤±è´¥èé»å¡çç°è±¡ï¼æ¯ç±æä½ç³»ç»åæ ¸å®ç°çã\n\nå½å éå¤±è´¥æ¶ï¼åæ ¸ä¼å°çº¿ç¨ç½®ä¸ºãç¡ç ãç¶æï¼ç­å°éè¢«éæ¾åï¼åæ ¸ä¼å¨åéçæ¶æºå¤éçº¿ç¨ï¼å½è¿ä¸ªçº¿ç¨æåè·åå°éåï¼äºæ¯å°±å¯ä»¥ç»§ç»­æ§è¡ã\n\næä»¥ï¼äºæ¥éå éå¤±è´¥æ¶ï¼ä¼ä»ç¨æ·æé·å¥å°åæ ¸æï¼è®©åæ ¸å¸®æä»¬åæ¢çº¿ç¨ï¼è½ç¶ç®åäºä½¿ç¨éçé¾åº¦ï¼ä½æ¯å­å¨ä¸å®çæ§è½å¼éææ¬ã\n\næ§è½å¼éçææ¬å°±æ¯ä¸ä¸æåæ¢çææ¬ã\n\n\n# èªæéåäºæ¥éçä½¿ç¨åºæ¯\n\na. å¦ææä»¬æç¡®ç¥éè¢«éä½çä»£ç çæ§è¡æ¶é´å¾ç­ï¼é£æä»¬åºè¯¥éæ©å¼éæ¯è¾å°çèªæé b. å¦æä¸´çåºéè¦ç¡ç ï¼åºè¯¥éæ©äºæ¥é c. ä¸­æ­éåºè¯¥ä½¿ç¨èªæéï¼å ä¸ºä¸­æ­å¤çä¸­ä¸åè®¸ç¡ç ",normalizedContent:"# èªæé\n\nèªæéæ¯æå°è¯è·åéççº¿ç¨ä¸ä¼ç«å³é»å¡ï¼èæ¯éç¨å¾ªç¯çæ¹å¼å»å°è¯è·åéï¼è¿æ ·çå¥½å¤æ¯åå°çº¿ç¨ä¸ä¸æåæ¢çæ¶èï¼ç¼ºç¹æ¯å¾ªç¯ä¼æ¶è cpu\n\n\n\n/**\n * é¢è¯é¢åäº«ï¼æåä¸ä¸ªèªæé\n *\n **/\npublic class spinlockdemo {\n\n    atomicreference<thread> lock = new atomicreference<>();\n\n    public void mylock(){\n        thread thread = thread.currentthread();\n        //å¦æä¸ä¸ºç©ºï¼èªæ\n        while (!lock.compareandset(null,thread)){\n\n        }\n    }\n\n    public void myunlock(){\n        thread thread = thread.currentthread();\n        //è§£éåï¼å°éç½®ä¸º null\n        lock.compareandset(thread,null);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# èªæéä¼ç¼ºç¹\n\nç¼ºç¹ï¼\n\n 1. å¦ææä¸ªçº¿ç¨ææéçæ¶é´è¿é¿ï¼å°±ä¼å¯¼è´å¶å®ç­å¾è·åéççº¿ç¨è¿å¥å¾ªç¯ç­å¾ï¼æ¶ècpuãä½¿ç¨ä¸å½ä¼é æcpu ä½¿ç¨çæé«ã\n 2. ä¸é¢ java å®ç°çèªæéä¸æ¯å¬å¹³çï¼å³æ æ³æ»¡è¶³ç­å¾æ¶é´æé¿ççº¿ç¨ä¼åè·åéãä¸å¬å¹³çéå°±ä¼å­å¨âçº¿ç¨é¥¥é¥¿âé®é¢ã\n\nä¼ç¹ï¼\n\n 1. èªæéä¸ä¼ä½¿çº¿ç¨ç¶æåçåæ¢ï¼ä¸ç´å¤äºç¨æ·æï¼å³çº¿ç¨ä¸ç´é½æ¯ active çï¼ä¸ä¼ä½¿çº¿ç¨è¿å¥é»å¡ç¶æï¼åå°äºä¸å¿è¦çä¸ä¸æåæ¢ï¼æ§è¡éåº¦å¿«\n 2. éèªæéå¨è·åä¸å°éçæ¶åä¼è¿å¥é»å¡ç¶æï¼ä»èè¿å¥åæ ¸æï¼å½è·åå°éçæ¶åéè¦ä»åæ ¸ææ¢å¤ï¼éè¦çº¿ç¨ä¸ä¸æåæ¢ã ï¼çº¿ç¨è¢«é»å¡åä¾¿è¿å¥åæ ¸ï¼linuxï¼è°åº¦ç¶æï¼è¿ä¸ªä¼å¯¼è´ç³»ç»å¨ç¨æ·æä¸åæ ¸æä¹é´æ¥ååæ¢ï¼ä¸¥éå½±åéçæ§è½ï¼\n\n\n# èªæéçä½¿ç¨åºæ¯\n\nå¦æéçä½¿ç¨èææéçæ¶é´éå¸¸é¿ï¼é£ä¹å¶ä½çç­å¾è·å¾éççº¿ç¨å°±ä¼ä¸ç´åèªææä½ï¼è¿æ¯éå¸¸æµªè´¹ cpu çä½¿å¾ cpu ææå©ç¨çå¤§å¤§éä½ãå¶æ¬¡å¦æå¹¶åæ¢éççº¿ç¨éå¸¸å¤ï¼ä¹ä¼å å¤§è¿ç§æµªè´¹ã\n\né£ä¹æ¾ç¶éçæææ¶é´éå¸¸ç­æ¯ä½¿ç¨èªæéçåºæ¯ã\n\nå ä¸ºèªæéä¸ä¼é»å¡ä¸ä¼é·å¥åæ ¸éæ°è°åº¦å¶ä»çº¿ç¨ï¼æä»¥å¦æèªæå¸¦æ¥ç cpu æ¶èæ¯é»å¡ï¼é·å¥åæ ¸ï¼os è°åº¦å¶ä»çº¿ç¨ï¼åååç¨æ·æè¿ä¸ç³»åè¿ç¨æ¥ç cpu æ¶èå°é£ä¹èªæéå°±è½å¤èç cpuï¼è®© cpu æ´å¤çå»æ§è¡ææä»£ç ï¼ å ä¸ºçº¿ç¨åæ¢ï¼é·å¥åæ ¸ç­ç­è¿ä¸ç³»åçæä½åå»å»çèªææä½ä¸æ ·é½æ¯å¨åâæ æä¹âäºæï¼ç½ç½çæ¶è cpuã\n\n\n# äºæ¥é\n\näºæ¥éæ¯ä¸ç§ãç¬å éãï¼æ¯å¦å½çº¿ç¨ a å éæååï¼æ­¤æ¶äºæ¥éå·²ç»è¢«çº¿ç¨ a ç¬å äºï¼åªè¦çº¿ç¨ a æ²¡æéæ¾æä¸­çéï¼çº¿ç¨ b å éå°±ä¼å¤±è´¥ï¼äºæ¯å°±ä¼éæ¾ cpu è®©ç»å¶ä»çº¿ç¨ï¼æ¢ç¶çº¿ç¨ b éæ¾æäº cpuï¼èªç¶çº¿ç¨ b å éçä»£ç å°±ä¼è¢«é»å¡\n\n\n\nå¯¹äºäºæ¥éå éå¤±è´¥èé»å¡çç°è±¡ï¼æ¯ç±æä½ç³»ç»åæ ¸å®ç°çã\n\nå½å éå¤±è´¥æ¶ï¼åæ ¸ä¼å°çº¿ç¨ç½®ä¸ºãç¡ç ãç¶æï¼ç­å°éè¢«éæ¾åï¼åæ ¸ä¼å¨åéçæ¶æºå¤éçº¿ç¨ï¼å½è¿ä¸ªçº¿ç¨æåè·åå°éåï¼äºæ¯å°±å¯ä»¥ç»§ç»­æ§è¡ã\n\næä»¥ï¼äºæ¥éå éå¤±è´¥æ¶ï¼ä¼ä»ç¨æ·æé·å¥å°åæ ¸æï¼è®©åæ ¸å¸®æä»¬åæ¢çº¿ç¨ï¼è½ç¶ç®åäºä½¿ç¨éçé¾åº¦ï¼ä½æ¯å­å¨ä¸å®çæ§è½å¼éææ¬ã\n\næ§è½å¼éçææ¬å°±æ¯ä¸ä¸æåæ¢çææ¬ã\n\n\n# èªæéåäºæ¥éçä½¿ç¨åºæ¯\n\na. å¦ææä»¬æç¡®ç¥éè¢«éä½çä»£ç çæ§è¡æ¶é´å¾ç­ï¼é£æä»¬åºè¯¥éæ©å¼éæ¯è¾å°çèªæé b. å¦æä¸´çåºéè¦ç¡ç ï¼åºè¯¥éæ©äºæ¥é c. ä¸­æ­éåºè¯¥ä½¿ç¨èªæéï¼å ä¸ºä¸­æ­å¤çä¸­ä¸åè®¸ç¡ç ",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"è¿ç¨é´æåªäºéä¿¡æ¹å¼ï¼",frontmatter:{title:"è¿ç¨é´æåªäºéä¿¡æ¹å¼ï¼",date:"2022-03-11T00:51:48.000Z",permalink:"/pages/e5f2d7/",categories:["è®¡ç®æºåºç¡","CSS"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01.%E8%BF%9B%E7%A8%8B%E9%97%B4%E6%9C%89%E5%93%AA%E4%BA%9B%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/01.è¿ç¨é´æåªäºéä¿¡æ¹å¼ï¼.md",key:"v-18f7a69e",path:"/pages/e5f2d7/",headers:[{level:2,title:"ç®¡é",slug:"ç®¡é",normalizedTitle:"ç®¡é",charIndex:136},{level:2,title:"2. FIFO",slug:"_2-fifo",normalizedTitle:"2. fifo",charIndex:288},{level:2,title:"3. æ¶æ¯éå",slug:"_3-æ¶æ¯éå",normalizedTitle:"3. æ¶æ¯éå",charIndex:510},{level:2,title:"4. ä¿¡å·é",slug:"_4-ä¿¡å·é",normalizedTitle:"4. ä¿¡å·é",charIndex:665},{level:2,title:"5. å±äº«å­å¨",slug:"_5-å±äº«å­å¨",normalizedTitle:"5. å±äº«å­å¨",charIndex:706},{level:2,title:"6. å¥æ¥å­",slug:"_6-å¥æ¥å­",normalizedTitle:"6. å¥æ¥å­",charIndex:850},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:890}],headersStr:"ç®¡é 2. FIFO 3. æ¶æ¯éå 4. ä¿¡å·é 5. å±äº«å­å¨ 6. å¥æ¥å­ åè",content:"è¿ç¨åæ­¥ä¸è¿ç¨éä¿¡å¾å®¹ææ··æ·ï¼å®ä»¬çåºå«å¨äºï¼\n\n * è¿ç¨åæ­¥ï¼æ§å¶å¤ä¸ªè¿ç¨æä¸å®é¡ºåºæ§è¡ï¼\n * è¿ç¨éä¿¡ï¼è¿ç¨é´ä¼ è¾ä¿¡æ¯ã\n\nè¿ç¨éä¿¡æ¯ä¸ç§ææ®µï¼èè¿ç¨åæ­¥æ¯ä¸ç§ç®çãä¹å¯ä»¥è¯´ï¼ä¸ºäºè½å¤è¾¾å°è¿ç¨åæ­¥çç®çï¼éè¦è®©è¿ç¨è¿è¡éä¿¡ï¼ä¼ è¾ä¸äºè¿ç¨åæ­¥æéè¦çä¿¡æ¯ã\n\n\n# ç®¡é\n\nç®¡éæ¯éè¿è°ç¨ pipe å½æ°åå»ºçï¼fd[0] ç¨äºè¯»ï¼fd[1] ç¨äºåã\n\n#include <unistd.h>\nint pipe(int fd[2]);\n\n\n1\n2\n\n\nå®å·æä»¥ä¸éå¶ï¼\n\n * åªæ¯æååå·¥éä¿¡ï¼ååäº¤æ¿ä¼ è¾ï¼ï¼\n * åªè½å¨ç¶å­è¿ç¨æèåå¼è¿ç¨ä¸­ä½¿ç¨ã\n\n\n\n\n# 2. FIFO\n\nä¹ç§°ä¸ºå½åç®¡éï¼å»é¤äºç®¡éåªè½å¨ç¶å­è¿ç¨ä¸­ä½¿ç¨çéå¶ã\n\n#include <sys/stat.h>\nint mkfifo(const char *path, mode_t mode);\nint mkfifoat(int fd, const char *path, mode_t mode);\n\n\n1\n2\n3\n\n\nFIFO å¸¸ç¨äºå®¢æ·-æå¡å¨åºç¨ç¨åºä¸­ï¼FIFO ç¨ä½æ±èç¹ï¼å¨å®¢æ·è¿ç¨åæå¡å¨è¿ç¨ä¹é´ä¼ éæ°æ®ã\n\n\n\n\n# 3. æ¶æ¯éå\n\nç¸æ¯äº FIFOï¼æ¶æ¯éåå·æä»¥ä¸ä¼ç¹ï¼\n\næ¶æ¯éåå¯ä»¥ç¬ç«äºè¯»åè¿ç¨å­å¨ï¼ä»èé¿åäº FIFO ä¸­åæ­¥ç®¡éçæå¼åå³é­æ¶å¯è½äº§ççå°é¾ï¼ é¿åäº FIFO çåæ­¥é»å¡é®é¢ï¼ä¸éè¦è¿ç¨èªå·±æä¾åæ­¥æ¹æ³ï¼ è¯»è¿ç¨å¯ä»¥æ ¹æ®æ¶æ¯ç±»åæéæ©å°æ¥æ¶æ¶æ¯ï¼èä¸å FIFO é£æ ·åªè½é»è®¤å°æ¥æ¶ã\n\n\n# 4. ä¿¡å·é\n\nå®æ¯ä¸ä¸ªè®¡æ°å¨ï¼ç¨äºä¸ºå¤ä¸ªè¿ç¨æä¾å¯¹å±äº«æ°æ®å¯¹è±¡çè®¿é®ã\n\n\n# 5. å±äº«å­å¨\n\nåè®¸å¤ä¸ªè¿ç¨å±äº«ä¸ä¸ªç»å®çå­å¨åºãå ä¸ºæ°æ®ä¸éè¦å¨è¿ç¨ä¹é´å¤å¶ï¼æä»¥è¿æ¯æå¿«çä¸ç§ IPCã\n\néè¦ä½¿ç¨ä¿¡å·éç¨æ¥åæ­¥å¯¹å±äº«å­å¨çè®¿é®ã\n\nå¤ä¸ªè¿ç¨å¯ä»¥å°åä¸ä¸ªæä»¶æ å°å°å®ä»¬çå°åç©ºé´ä»èå®ç°å±äº«åå­ãå¦å¤ XSI å±äº«åå­ä¸æ¯ä½¿ç¨æä»¶ï¼èæ¯ä½¿ç¨åå­çå¿åæ®µã\n\n\n# 6. å¥æ¥å­\n\nä¸å¶å®éä¿¡æºå¶ä¸åçæ¯ï¼å®å¯ç¨äºä¸åæºå¨é´çè¿ç¨éä¿¡ã\n\n\n# åè\n\nè¿ç¨éä¿¡",normalizedContent:"è¿ç¨åæ­¥ä¸è¿ç¨éä¿¡å¾å®¹ææ··æ·ï¼å®ä»¬çåºå«å¨äºï¼\n\n * è¿ç¨åæ­¥ï¼æ§å¶å¤ä¸ªè¿ç¨æä¸å®é¡ºåºæ§è¡ï¼\n * è¿ç¨éä¿¡ï¼è¿ç¨é´ä¼ è¾ä¿¡æ¯ã\n\nè¿ç¨éä¿¡æ¯ä¸ç§ææ®µï¼èè¿ç¨åæ­¥æ¯ä¸ç§ç®çãä¹å¯ä»¥è¯´ï¼ä¸ºäºè½å¤è¾¾å°è¿ç¨åæ­¥çç®çï¼éè¦è®©è¿ç¨è¿è¡éä¿¡ï¼ä¼ è¾ä¸äºè¿ç¨åæ­¥æéè¦çä¿¡æ¯ã\n\n\n# ç®¡é\n\nç®¡éæ¯éè¿è°ç¨ pipe å½æ°åå»ºçï¼fd[0] ç¨äºè¯»ï¼fd[1] ç¨äºåã\n\n#include <unistd.h>\nint pipe(int fd[2]);\n\n\n1\n2\n\n\nå®å·æä»¥ä¸éå¶ï¼\n\n * åªæ¯æååå·¥éä¿¡ï¼ååäº¤æ¿ä¼ è¾ï¼ï¼\n * åªè½å¨ç¶å­è¿ç¨æèåå¼è¿ç¨ä¸­ä½¿ç¨ã\n\n\n\n\n# 2. fifo\n\nä¹ç§°ä¸ºå½åç®¡éï¼å»é¤äºç®¡éåªè½å¨ç¶å­è¿ç¨ä¸­ä½¿ç¨çéå¶ã\n\n#include <sys/stat.h>\nint mkfifo(const char *path, mode_t mode);\nint mkfifoat(int fd, const char *path, mode_t mode);\n\n\n1\n2\n3\n\n\nfifo å¸¸ç¨äºå®¢æ·-æå¡å¨åºç¨ç¨åºä¸­ï¼fifo ç¨ä½æ±èç¹ï¼å¨å®¢æ·è¿ç¨åæå¡å¨è¿ç¨ä¹é´ä¼ éæ°æ®ã\n\n\n\n\n# 3. æ¶æ¯éå\n\nç¸æ¯äº fifoï¼æ¶æ¯éåå·æä»¥ä¸ä¼ç¹ï¼\n\næ¶æ¯éåå¯ä»¥ç¬ç«äºè¯»åè¿ç¨å­å¨ï¼ä»èé¿åäº fifo ä¸­åæ­¥ç®¡éçæå¼åå³é­æ¶å¯è½äº§ççå°é¾ï¼ é¿åäº fifo çåæ­¥é»å¡é®é¢ï¼ä¸éè¦è¿ç¨èªå·±æä¾åæ­¥æ¹æ³ï¼ è¯»è¿ç¨å¯ä»¥æ ¹æ®æ¶æ¯ç±»åæéæ©å°æ¥æ¶æ¶æ¯ï¼èä¸å fifo é£æ ·åªè½é»è®¤å°æ¥æ¶ã\n\n\n# 4. ä¿¡å·é\n\nå®æ¯ä¸ä¸ªè®¡æ°å¨ï¼ç¨äºä¸ºå¤ä¸ªè¿ç¨æä¾å¯¹å±äº«æ°æ®å¯¹è±¡çè®¿é®ã\n\n\n# 5. å±äº«å­å¨\n\nåè®¸å¤ä¸ªè¿ç¨å±äº«ä¸ä¸ªç»å®çå­å¨åºãå ä¸ºæ°æ®ä¸éè¦å¨è¿ç¨ä¹é´å¤å¶ï¼æä»¥è¿æ¯æå¿«çä¸ç§ ipcã\n\néè¦ä½¿ç¨ä¿¡å·éç¨æ¥åæ­¥å¯¹å±äº«å­å¨çè®¿é®ã\n\nå¤ä¸ªè¿ç¨å¯ä»¥å°åä¸ä¸ªæä»¶æ å°å°å®ä»¬çå°åç©ºé´ä»èå®ç°å±äº«åå­ãå¦å¤ xsi å±äº«åå­ä¸æ¯ä½¿ç¨æä»¶ï¼èæ¯ä½¿ç¨åå­çå¿åæ®µã\n\n\n# 6. å¥æ¥å­\n\nä¸å¶å®éä¿¡æºå¶ä¸åçæ¯ï¼å®å¯ç¨äºä¸åæºå¨é´çè¿ç¨éä¿¡ã\n\n\n# åè\n\nè¿ç¨éä¿¡",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"è¿ç¨åçº¿ç¨ä¹é´æä»ä¹åºå«ï¼",frontmatter:{title:"è¿ç¨åçº¿ç¨ä¹é´æä»ä¹åºå«ï¼",date:"2022-09-21T23:00:14.000Z",permalink:"/pages/c2fd8a/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/020.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/020.è¿ç¨åçº¿ç¨ä¹é´æä»ä¹åºå«ï¼.md",key:"v-a0ab5810",path:"/pages/c2fd8a/",headers:[{level:2,title:"1. è¿ç¨",slug:"_1-è¿ç¨",normalizedTitle:"1. è¿ç¨",charIndex:2},{level:2,title:"2. çº¿ç¨",slug:"_2-çº¿ç¨",normalizedTitle:"2. çº¿ç¨",charIndex:145},{level:2,title:"3. åºå«",slug:"_3-åºå«",normalizedTitle:"3. åºå«",charIndex:302},{level:3,title:"â  æ¥æèµæº",slug:"i-æ¥æèµæº",normalizedTitle:"â° æ¥æèµæº",charIndex:312},{level:3,title:"â¡ è°åº¦",slug:"ii-è°åº¦",normalizedTitle:"â± è°åº¦",charIndex:362},{level:3,title:"â¢ ç³»ç»å¼é",slug:"iii-ç³»ç»å¼é",normalizedTitle:"â² ç³»ç»å¼é",charIndex:438},{level:3,title:"â£ éä¿¡æ¹é¢",slug:"iv-éä¿¡æ¹é¢",normalizedTitle:"â³ éä¿¡æ¹é¢",charIndex:585}],headersStr:"1. è¿ç¨ 2. çº¿ç¨ 3. åºå« â  æ¥æèµæº â¡ è°åº¦ â¢ ç³»ç»å¼é â£ éä¿¡æ¹é¢",content:"# 1. è¿ç¨\n\nè¿ç¨æ¯èµæºåéçåºæ¬åä½ã\n\nè¿ç¨æ§å¶å (Process Control Block, PCB) æè¿°è¿ç¨çåºæ¬ä¿¡æ¯åè¿è¡ç¶æï¼æè°çåå»ºè¿ç¨åæ¤éè¿ç¨ï¼é½æ¯æå¯¹ PCB çæä½ã\n\nä¸å¾æ¾ç¤ºäº 4 ä¸ªç¨åºåå»ºäº 4 ä¸ªè¿ç¨ï¼è¿ 4 ä¸ªè¿ç¨å¯ä»¥å¹¶åå°æ§è¡ã\n\n\n\n\n# 2. çº¿ç¨\n\nçº¿ç¨æ¯ç¬ç«è°åº¦çåºæ¬åä½ã\n\nä¸ä¸ªè¿ç¨ä¸­å¯ä»¥æå¤ä¸ªçº¿ç¨ï¼å®ä»¬å±äº«è¿ç¨èµæºã\n\nQQ åæµè§å¨æ¯ä¸¤ä¸ªè¿ç¨ï¼æµè§å¨è¿ç¨éé¢æå¾å¤çº¿ç¨ï¼ä¾å¦ HTTP è¯·æ±çº¿ç¨ãäºä»¶ååºçº¿ç¨ãæ¸²æçº¿ç¨ç­ç­ï¼çº¿ç¨çå¹¶åæ§è¡ä½¿å¾å¨æµè§å¨ä¸­ç¹å»ä¸ä¸ªæ°é¾æ¥ä»èåèµ· HTTP è¯·æ±æ¶ï¼æµè§å¨è¿å¯ä»¥ååºç¨æ·çå¶å®äºä»¶ã\n\n\n\n\n# 3. åºå«\n\n\n# â  æ¥æèµæº\n\nè¿ç¨æ¯èµæºåéçåºæ¬åä½ï¼ä½æ¯çº¿ç¨ä¸æ¥æèµæºï¼çº¿ç¨å¯ä»¥è®¿é®é¶å±è¿ç¨çèµæºã\n\n\n# â¡ è°åº¦\n\nçº¿ç¨æ¯ç¬ç«è°åº¦çåºæ¬åä½ï¼å¨åä¸è¿ç¨ä¸­ï¼çº¿ç¨çåæ¢ä¸ä¼å¼èµ·è¿ç¨åæ¢ï¼ä»ä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨åæ¢å°å¦ä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨æ¶ï¼ä¼å¼èµ·è¿ç¨åæ¢ã\n\n\n# â¢ ç³»ç»å¼é\n\nç±äºåå»ºææ¤éè¿ç¨æ¶ï¼ç³»ç»é½è¦ä¸ºä¹åéæåæ¶èµæºï¼å¦åå­ç©ºé´ãI/O è®¾å¤ç­ï¼æä»åºçå¼éè¿å¤§äºåå»ºææ¤éçº¿ç¨æ¶çå¼éãç±»ä¼¼å°ï¼å¨è¿è¡è¿ç¨åæ¢æ¶ï¼æ¶åå½åæ§è¡è¿ç¨ CPU ç¯å¢çä¿å­åæ°è°åº¦è¿ç¨ CPU ç¯å¢çè®¾ç½®ï¼èçº¿ç¨åæ¢æ¶åªéä¿å­åè®¾ç½®å°éå¯å­å¨åå®¹ï¼å¼éå¾å°ã\n\n\n# â£ éä¿¡æ¹é¢\n\nçº¿ç¨é´å¯ä»¥éè¿ç´æ¥è¯»ååä¸è¿ç¨ä¸­çæ°æ®è¿è¡éä¿¡ï¼ä½æ¯è¿ç¨éä¿¡éè¦åå© IPCã",normalizedContent:"# 1. è¿ç¨\n\nè¿ç¨æ¯èµæºåéçåºæ¬åä½ã\n\nè¿ç¨æ§å¶å (process control block, pcb) æè¿°è¿ç¨çåºæ¬ä¿¡æ¯åè¿è¡ç¶æï¼æè°çåå»ºè¿ç¨åæ¤éè¿ç¨ï¼é½æ¯æå¯¹ pcb çæä½ã\n\nä¸å¾æ¾ç¤ºäº 4 ä¸ªç¨åºåå»ºäº 4 ä¸ªè¿ç¨ï¼è¿ 4 ä¸ªè¿ç¨å¯ä»¥å¹¶åå°æ§è¡ã\n\n\n\n\n# 2. çº¿ç¨\n\nçº¿ç¨æ¯ç¬ç«è°åº¦çåºæ¬åä½ã\n\nä¸ä¸ªè¿ç¨ä¸­å¯ä»¥æå¤ä¸ªçº¿ç¨ï¼å®ä»¬å±äº«è¿ç¨èµæºã\n\nqq åæµè§å¨æ¯ä¸¤ä¸ªè¿ç¨ï¼æµè§å¨è¿ç¨éé¢æå¾å¤çº¿ç¨ï¼ä¾å¦ http è¯·æ±çº¿ç¨ãäºä»¶ååºçº¿ç¨ãæ¸²æçº¿ç¨ç­ç­ï¼çº¿ç¨çå¹¶åæ§è¡ä½¿å¾å¨æµè§å¨ä¸­ç¹å»ä¸ä¸ªæ°é¾æ¥ä»èåèµ· http è¯·æ±æ¶ï¼æµè§å¨è¿å¯ä»¥ååºç¨æ·çå¶å®äºä»¶ã\n\n\n\n\n# 3. åºå«\n\n\n# â° æ¥æèµæº\n\nè¿ç¨æ¯èµæºåéçåºæ¬åä½ï¼ä½æ¯çº¿ç¨ä¸æ¥æèµæºï¼çº¿ç¨å¯ä»¥è®¿é®é¶å±è¿ç¨çèµæºã\n\n\n# â± è°åº¦\n\nçº¿ç¨æ¯ç¬ç«è°åº¦çåºæ¬åä½ï¼å¨åä¸è¿ç¨ä¸­ï¼çº¿ç¨çåæ¢ä¸ä¼å¼èµ·è¿ç¨åæ¢ï¼ä»ä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨åæ¢å°å¦ä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨æ¶ï¼ä¼å¼èµ·è¿ç¨åæ¢ã\n\n\n# â² ç³»ç»å¼é\n\nç±äºåå»ºææ¤éè¿ç¨æ¶ï¼ç³»ç»é½è¦ä¸ºä¹åéæåæ¶èµæºï¼å¦åå­ç©ºé´ãi/o è®¾å¤ç­ï¼æä»åºçå¼éè¿å¤§äºåå»ºææ¤éçº¿ç¨æ¶çå¼éãç±»ä¼¼å°ï¼å¨è¿è¡è¿ç¨åæ¢æ¶ï¼æ¶åå½åæ§è¡è¿ç¨ cpu ç¯å¢çä¿å­åæ°è°åº¦è¿ç¨ cpu ç¯å¢çè®¾ç½®ï¼èçº¿ç¨åæ¢æ¶åªéä¿å­åè®¾ç½®å°éå¯å­å¨åå®¹ï¼å¼éå¾å°ã\n\n\n# â³ éä¿¡æ¹é¢\n\nçº¿ç¨é´å¯ä»¥éè¿ç´æ¥è¯»ååä¸è¿ç¨ä¸­çæ°æ®è¿è¡éä¿¡ï¼ä½æ¯è¿ç¨éä¿¡éè¦åå© ipcã",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"ç®è¿° select, poll, epoll çä½¿ç¨åºæ¯ä»¥ååºå«",frontmatter:{title:"ç®è¿° select, poll, epoll çä½¿ç¨åºæ¯ä»¥ååºå«",date:"2022-09-21T23:01:24.000Z",permalink:"/pages/68ea00/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/070.%E7%AE%80%E8%BF%B0%20select,%20poll,%20epoll%20%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E4%BB%A5%E5%8F%8A%E5%8C%BA%E5%88%AB.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/070.ç®è¿° select, poll, epoll çä½¿ç¨åºæ¯ä»¥ååºå«.md",key:"v-5a37154c",path:"/pages/68ea00/",headers:[{level:2,title:"select",slug:"select",normalizedTitle:"select",charIndex:0},{level:2,title:"poll",slug:"poll",normalizedTitle:"poll",charIndex:7},{level:2,title:"æ¯è¾",slug:"æ¯è¾",normalizedTitle:"æ¯è¾",charIndex:2467},{level:3,title:"1. åè½",slug:"_1-åè½",normalizedTitle:"1. åè½",charIndex:2474},{level:3,title:"2. éåº¦",slug:"_2-éåº¦",normalizedTitle:"2. éåº¦",charIndex:2775},{level:3,title:"3. å¯ç§»æ¤æ§",slug:"_3-å¯ç§»æ¤æ§",normalizedTitle:"3. å¯ç§»æ¤æ§",charIndex:2838},{level:2,title:"epoll",slug:"epoll",normalizedTitle:"epoll",charIndex:12},{level:2,title:"å·¥ä½æ¨¡å¼",slug:"å·¥ä½æ¨¡å¼",normalizedTitle:"å·¥ä½æ¨¡å¼",charIndex:5260},{level:3,title:"1. LT æ¨¡å¼",slug:"_1-lt-æ¨¡å¼",normalizedTitle:"1. lt æ¨¡å¼",charIndex:5327},{level:3,title:"2. ET æ¨¡å¼",slug:"_2-et-æ¨¡å¼",normalizedTitle:"2. et æ¨¡å¼",charIndex:5456},{level:2,title:"åºç¨åºæ¯",slug:"åºç¨åºæ¯",normalizedTitle:"åºç¨åºæ¯",charIndex:5626},{level:3,title:"1. select åºç¨åºæ¯",slug:"_1-select-åºç¨åºæ¯",normalizedTitle:"1. select åºç¨åºæ¯",charIndex:5698},{level:3,title:"2. poll åºç¨åºæ¯",slug:"_2-poll-åºç¨åºæ¯",normalizedTitle:"2. poll åºç¨åºæ¯",charIndex:5829},{level:3,title:"3. epoll åºç¨åºæ¯",slug:"_3-epoll-åºç¨åºæ¯",normalizedTitle:"3. epoll åºç¨åºæ¯",charIndex:5904}],headersStr:"select poll æ¯è¾ 1. åè½ 2. éåº¦ 3. å¯ç§»æ¤æ§ epoll å·¥ä½æ¨¡å¼ 1. LT æ¨¡å¼ 2. ET æ¨¡å¼ åºç¨åºæ¯ 1. select åºç¨åºæ¯ 2. poll åºç¨åºæ¯ 3. epoll åºç¨åºæ¯",content:"select/poll/epoll é½æ¯ I/O å¤è·¯å¤ç¨çå·ä½å®ç°ï¼select åºç°çææ©ï¼ä¹åæ¯ pollï¼åæ¯ epollã\n\n\n# select\n\nint select(int n, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, struct timeval *timeout);\n\n\n1\n\n\nselect åè®¸åºç¨ç¨åºçè§ä¸ç»æä»¶æè¿°ç¬¦ï¼ç­å¾ä¸ä¸ªæèå¤ä¸ªæè¿°ç¬¦æä¸ºå°±ç»ªç¶æï¼ä»èå®æ I/O æä½ã\n\n * fd_set ä½¿ç¨æ°ç»å®ç°ï¼æ°ç»å¤§å°ä½¿ç¨ FD_SETSIZE å®ä¹ï¼æä»¥åªè½çå¬å°äº FD_SETSIZE æ°éçæè¿°ç¬¦ãæä¸ç§ç±»åçæè¿°ç¬¦ç±»åï¼readsetãwritesetãexceptsetï¼åå«å¯¹åºè¯»ãåãå¼å¸¸æ¡ä»¶çæè¿°ç¬¦éåã\n\n * timeout ä¸ºè¶æ¶åæ°ï¼è°ç¨ select ä¼ä¸ç´é»å¡ç´å°ææè¿°ç¬¦çäºä»¶å°è¾¾æèç­å¾çæ¶é´è¶è¿ timeoutã\n\n * æåè°ç¨è¿åç»æå¤§äº 0ï¼åºéè¿åç»æä¸º -1ï¼è¶æ¶è¿åç»æä¸º 0ã\n\nfd_set fd_in, fd_out;\nstruct timeval tv;\n\n// Reset the sets\nFD_ZERO( &fd_in );\nFD_ZERO( &fd_out );\n\n// Monitor sock1 for input events\nFD_SET( sock1, &fd_in );\n\n// Monitor sock2 for output events\nFD_SET( sock2, &fd_out );\n\n// Find out which socket has the largest numeric value as select requires it\nint largest_sock = sock1 > sock2 ? sock1 : sock2;\n\n// Wait up to 10 seconds\ntv.tv_sec = 10;\ntv.tv_usec = 0;\n\n// Call the select\nint ret = select( largest_sock + 1, &fd_in, &fd_out, NULL, &tv );\n\n// Check if select actually succeed\nif ( ret == -1 )\n    // report error and abort\nelse if ( ret == 0 )\n    // timeout; no event detected\nelse\n{\n    if ( FD_ISSET( sock1, &fd_in ) )\n        // input event on sock1\n\n    if ( FD_ISSET( sock2, &fd_out ) )\n        // output event on sock2\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# poll\n\nint poll(struct pollfd *fds, unsigned int nfds, int timeout);\n\n\n1\n\n\npoll çåè½ä¸ select ç±»ä¼¼ï¼ä¹æ¯ç­å¾ä¸ç»æè¿°ç¬¦ä¸­çä¸ä¸ªæä¸ºå°±ç»ªç¶æã\n\npoll ä¸­çæè¿°ç¬¦æ¯ pollfd ç±»åçæ°ç»ï¼pollfd çå®ä¹å¦ä¸ï¼\n\nstruct pollfd {\n               int   fd;         /* file descriptor */\n               short events;     /* requested events */\n               short revents;    /* returned events */\n           };\n\n\n1\n2\n3\n4\n5\n\n\n// The structure for two events\nstruct pollfd fds[2];\n\n// Monitor sock1 for input\nfds[0].fd = sock1;\nfds[0].events = POLLIN;\n\n// Monitor sock2 for output\nfds[1].fd = sock2;\nfds[1].events = POLLOUT;\n\n// Wait 10 seconds\nint ret = poll( &fds, 2, 10000 );\n// Check if poll actually succeed\nif ( ret == -1 )\n    // report error and abort\nelse if ( ret == 0 )\n    // timeout; no event detected\nelse\n{\n    // If we detect the event, zero it out so we can reuse the structure\n    if ( fds[0].revents & POLLIN )\n        fds[0].revents = 0;\n        // input event on sock1\n\n    if ( fds[1].revents & POLLOUT )\n        fds[1].revents = 0;\n        // output event on sock2\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# æ¯è¾\n\n\n# 1. åè½\n\nselect å poll çåè½åºæ¬ç¸åï¼ä¸è¿å¨ä¸äºå®ç°ç»èä¸ææä¸åã\n\n * select ä¼ä¿®æ¹æè¿°ç¬¦ï¼è poll ä¸ä¼ï¼\n * select çæè¿°ç¬¦ç±»åä½¿ç¨æ°ç»å®ç°ï¼FD_SETSIZE å¤§å°é»è®¤ä¸º 1024ï¼å æ­¤é»è®¤åªè½çå¬å°äº 1024 ä¸ªæè¿°ç¬¦ãå¦æè¦çå¬æ´å¤æè¿°ç¬¦çè¯ï¼éè¦ä¿®æ¹ FD_SETSIZE ä¹åéæ°ç¼è¯ï¼è poll æ²¡ææè¿°ç¬¦æ°éçéå¶ï¼\n * poll æä¾äºæ´å¤çäºä»¶ç±»åï¼å¹¶ä¸å¯¹æè¿°ç¬¦çéå¤å©ç¨ä¸æ¯ select é«ã\n * å¦æä¸ä¸ªçº¿ç¨å¯¹æä¸ªæè¿°ç¬¦è°ç¨äº select æè pollï¼å¦ä¸ä¸ªçº¿ç¨å³é­äºè¯¥æè¿°ç¬¦ï¼ä¼å¯¼è´è°ç¨ç»æä¸ç¡®å®ã\n\n\n# 2. éåº¦\n\nselect å poll éåº¦é½æ¯è¾æ¢ï¼æ¯æ¬¡è°ç¨é½éè¦å°å¨é¨æè¿°ç¬¦ä»åºç¨è¿ç¨ç¼å²åºå¤å¶å°åæ ¸ç¼å²åºã\n\n\n# 3. å¯ç§»æ¤æ§\n\nå ä¹ææçç³»ç»é½æ¯æ selectï¼ä½æ¯åªææ¯è¾æ°çç³»ç»æ¯æ pollã\n\n\n# epoll\n\nint epoll_create(int size);\nint epoll_ctl(int epfd, int op, int fd, struct epoll_event *event)ï¼\nint epoll_wait(int epfd, struct epoll_event * events, int maxevents, int timeout);\n\n\n1\n2\n3\n\n\nepoll_ctl() ç¨äºååæ ¸æ³¨åæ°çæè¿°ç¬¦æèæ¯æ¹åæä¸ªæä»¶æè¿°ç¬¦çç¶æãå·²æ³¨åçæè¿°ç¬¦å¨åæ ¸ä¸­ä¼è¢«ç»´æ¤å¨ä¸æ£µçº¢é»æ ä¸ï¼éè¿åè°å½æ°åæ ¸ä¼å° I/O åå¤å¥½çæè¿°ç¬¦å å¥å°ä¸ä¸ªé¾è¡¨ä¸­ç®¡çï¼è¿ç¨è°ç¨ epoll_wait() ä¾¿å¯ä»¥å¾å°äºä»¶å®æçæè¿°ç¬¦ã\n\nä»ä¸é¢çæè¿°å¯ä»¥çåºï¼epoll åªéè¦å°æè¿°ç¬¦ä»è¿ç¨ç¼å²åºååæ ¸ç¼å²åºæ·è´ä¸æ¬¡ï¼å¹¶ä¸è¿ç¨ä¸éè¦éè¿è½®è¯¢æ¥è·å¾äºä»¶å®æçæè¿°ç¬¦ã\n\nepoll ä»éç¨äº Linux OSã\n\nepoll æ¯ select å poll æ´å çµæ´»èä¸æ²¡ææè¿°ç¬¦æ°ééå¶ã\n\nepoll å¯¹å¤çº¿ç¨ç¼ç¨æ´æåå¥½ï¼ä¸ä¸ªçº¿ç¨è°ç¨äº epoll_wait() å¦ä¸ä¸ªçº¿ç¨å³é­äºåä¸ä¸ªæè¿°ç¬¦ä¹ä¸ä¼äº§çå select å poll çä¸ç¡®å®æåµã\n\n// Create the epoll descriptor. Only one is needed per app, and is used to monitor all sockets.\n// The function argument is ignored (it was not before, but now it is), so put your favorite number here\nint pollingfd = epoll_create( 0xCAFE );\n\nif ( pollingfd < 0 )\n // report error\n\n// Initialize the epoll structure in case more members are added in future\nstruct epoll_event ev = { 0 };\n\n// Associate the connection class instance with the event. You can associate anything\n// you want, epoll does not use this information. We store a connection class pointer, pConnection1\nev.data.ptr = pConnection1;\n\n// Monitor for input, and do not automatically rearm the descriptor after the event\nev.events = EPOLLIN | EPOLLONESHOT;\n// Add the descriptor into the monitoring list. We can do it even if another thread is\n// waiting in epoll_wait - the descriptor will be properly added\nif ( epoll_ctl( epollfd, EPOLL_CTL_ADD, pConnection1->getSocket(), &ev ) != 0 )\n    // report error\n\n// Wait for up to 20 events (assuming we have added maybe 200 sockets before that it may happen)\nstruct epoll_event pevents[ 20 ];\n\n// Wait for 10 seconds, and retrieve less than 20 epoll_event and store them into epoll_event array\nint ready = epoll_wait( pollingfd, pevents, 20, 10000 );\n// Check if epoll actually succeed\nif ( ret == -1 )\n    // report error and abort\nelse if ( ret == 0 )\n    // timeout; no event detected\nelse\n{\n    // Check if any events detected\n    for ( int i = 0; i < ready; i++ )\n    {\n        if ( pevents[i].events & EPOLLIN )\n        {\n            // Get back our connection pointer\n            Connection * c = (Connection*) pevents[i].data.ptr;\n            c->handleReadEvent();\n         }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# å·¥ä½æ¨¡å¼\n\nepoll çæè¿°ç¬¦äºä»¶æä¸¤ç§è§¦åæ¨¡å¼ï¼LTï¼level triggerï¼å ETï¼edge triggerï¼ã\n\n\n# 1. LT æ¨¡å¼\n\nå½ epoll_wait() æ£æµå°æè¿°ç¬¦äºä»¶å°è¾¾æ¶ï¼å°æ­¤äºä»¶éç¥è¿ç¨ï¼è¿ç¨å¯ä»¥ä¸ç«å³å¤çè¯¥äºä»¶ï¼ä¸æ¬¡è°ç¨ epoll_wait() ä¼åæ¬¡éç¥è¿ç¨ãæ¯é»è®¤çä¸ç§æ¨¡å¼ï¼å¹¶ä¸åæ¶æ¯æ Blocking å No-Blockingã\n\n\n# 2. ET æ¨¡å¼\n\nå LT æ¨¡å¼ä¸åçæ¯ï¼éç¥ä¹åè¿ç¨å¿é¡»ç«å³å¤çäºä»¶ï¼ä¸æ¬¡åè°ç¨ epoll_wait() æ¶ä¸ä¼åå¾å°äºä»¶å°è¾¾çéç¥ã\n\nå¾å¤§ç¨åº¦ä¸åå°äº epoll äºä»¶è¢«éå¤è§¦åçæ¬¡æ°ï¼å æ­¤æçè¦æ¯ LT æ¨¡å¼é«ãåªæ¯æ No-Blockingï¼ä»¥é¿åç±äºä¸ä¸ªæä»¶å¥æçé»å¡è¯»/é»å¡åæä½æå¤çå¤ä¸ªæä»¶æè¿°ç¬¦çä»»å¡é¥¿æ­»ã\n\n\n# åºç¨åºæ¯\n\nå¾å®¹æäº§çä¸ç§éè§è®¤ä¸ºåªè¦ç¨ epoll å°±å¯ä»¥äºï¼select å poll é½å·²ç»è¿æ¶äºï¼å¶å®å®ä»¬é½æåèªçä½¿ç¨åºæ¯ã\n\n\n# 1. select åºç¨åºæ¯\n\nselect ç timeout åæ°ç²¾åº¦ä¸ºå¾®ç§ï¼è poll å epoll ä¸ºæ¯«ç§ï¼å æ­¤ select æ´å éç¨äºå®æ¶æ§è¦æ±æ¯è¾é«çåºæ¯ï¼æ¯å¦æ ¸ååºå çæ§å¶ã\n\nselect å¯ç§»æ¤æ§æ´å¥½ï¼å ä¹è¢«ææä¸»æµå¹³å°ææ¯æã\n\n\n# 2. poll åºç¨åºæ¯\n\npoll æ²¡ææå¤§æè¿°ç¬¦æ°éçéå¶ï¼å¦æå¹³å°æ¯æå¹¶ä¸å¯¹å®æ¶æ§è¦æ±ä¸é«ï¼åºè¯¥ä½¿ç¨ poll èä¸æ¯ selectã\n\n\n# 3. epoll åºç¨åºæ¯\n\nåªéè¦è¿è¡å¨ Linux å¹³å°ä¸ï¼æå¤§éçæè¿°ç¬¦éè¦åæ¶è½®è¯¢ï¼å¹¶ä¸è¿äºè¿æ¥æå¥½æ¯é¿è¿æ¥ã\n\néè¦åæ¶çæ§å°äº 1000 ä¸ªæè¿°ç¬¦ï¼å°±æ²¡æå¿è¦ä½¿ç¨ epollï¼å ä¸ºè¿ä¸ªåºç¨åºæ¯ä¸å¹¶ä¸è½ä½ç° epoll çä¼å¿ã\n\néè¦çæ§çæè¿°ç¬¦ç¶æååå¤ï¼èä¸é½æ¯éå¸¸ç­æçï¼ä¹æ²¡æå¿è¦ä½¿ç¨ epollã\n\nå ä¸º epoll ä¸­çæææè¿°ç¬¦é½å­å¨å¨åæ ¸ä¸­ï¼é ææ¯æ¬¡éè¦å¯¹æè¿°ç¬¦çç¶ææ¹åé½éè¦éè¿ epoll_ctl() è¿è¡ç³»ç»è°ç¨ï¼é¢ç¹ç³»ç»è°ç¨éä½æçã\n\nå¹¶ä¸ epoll çæè¿°ç¬¦å­å¨å¨åæ ¸ï¼ä¸å®¹æè°è¯ã",normalizedContent:"select/poll/epoll é½æ¯ i/o å¤è·¯å¤ç¨çå·ä½å®ç°ï¼select åºç°çææ©ï¼ä¹åæ¯ pollï¼åæ¯ epollã\n\n\n# select\n\nint select(int n, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, struct timeval *timeout);\n\n\n1\n\n\nselect åè®¸åºç¨ç¨åºçè§ä¸ç»æä»¶æè¿°ç¬¦ï¼ç­å¾ä¸ä¸ªæèå¤ä¸ªæè¿°ç¬¦æä¸ºå°±ç»ªç¶æï¼ä»èå®æ i/o æä½ã\n\n * fd_set ä½¿ç¨æ°ç»å®ç°ï¼æ°ç»å¤§å°ä½¿ç¨ fd_setsize å®ä¹ï¼æä»¥åªè½çå¬å°äº fd_setsize æ°éçæè¿°ç¬¦ãæä¸ç§ç±»åçæè¿°ç¬¦ç±»åï¼readsetãwritesetãexceptsetï¼åå«å¯¹åºè¯»ãåãå¼å¸¸æ¡ä»¶çæè¿°ç¬¦éåã\n\n * timeout ä¸ºè¶æ¶åæ°ï¼è°ç¨ select ä¼ä¸ç´é»å¡ç´å°ææè¿°ç¬¦çäºä»¶å°è¾¾æèç­å¾çæ¶é´è¶è¿ timeoutã\n\n * æåè°ç¨è¿åç»æå¤§äº 0ï¼åºéè¿åç»æä¸º -1ï¼è¶æ¶è¿åç»æä¸º 0ã\n\nfd_set fd_in, fd_out;\nstruct timeval tv;\n\n// reset the sets\nfd_zero( &fd_in );\nfd_zero( &fd_out );\n\n// monitor sock1 for input events\nfd_set( sock1, &fd_in );\n\n// monitor sock2 for output events\nfd_set( sock2, &fd_out );\n\n// find out which socket has the largest numeric value as select requires it\nint largest_sock = sock1 > sock2 ? sock1 : sock2;\n\n// wait up to 10 seconds\ntv.tv_sec = 10;\ntv.tv_usec = 0;\n\n// call the select\nint ret = select( largest_sock + 1, &fd_in, &fd_out, null, &tv );\n\n// check if select actually succeed\nif ( ret == -1 )\n    // report error and abort\nelse if ( ret == 0 )\n    // timeout; no event detected\nelse\n{\n    if ( fd_isset( sock1, &fd_in ) )\n        // input event on sock1\n\n    if ( fd_isset( sock2, &fd_out ) )\n        // output event on sock2\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# poll\n\nint poll(struct pollfd *fds, unsigned int nfds, int timeout);\n\n\n1\n\n\npoll çåè½ä¸ select ç±»ä¼¼ï¼ä¹æ¯ç­å¾ä¸ç»æè¿°ç¬¦ä¸­çä¸ä¸ªæä¸ºå°±ç»ªç¶æã\n\npoll ä¸­çæè¿°ç¬¦æ¯ pollfd ç±»åçæ°ç»ï¼pollfd çå®ä¹å¦ä¸ï¼\n\nstruct pollfd {\n               int   fd;         /* file descriptor */\n               short events;     /* requested events */\n               short revents;    /* returned events */\n           };\n\n\n1\n2\n3\n4\n5\n\n\n// the structure for two events\nstruct pollfd fds[2];\n\n// monitor sock1 for input\nfds[0].fd = sock1;\nfds[0].events = pollin;\n\n// monitor sock2 for output\nfds[1].fd = sock2;\nfds[1].events = pollout;\n\n// wait 10 seconds\nint ret = poll( &fds, 2, 10000 );\n// check if poll actually succeed\nif ( ret == -1 )\n    // report error and abort\nelse if ( ret == 0 )\n    // timeout; no event detected\nelse\n{\n    // if we detect the event, zero it out so we can reuse the structure\n    if ( fds[0].revents & pollin )\n        fds[0].revents = 0;\n        // input event on sock1\n\n    if ( fds[1].revents & pollout )\n        fds[1].revents = 0;\n        // output event on sock2\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# æ¯è¾\n\n\n# 1. åè½\n\nselect å poll çåè½åºæ¬ç¸åï¼ä¸è¿å¨ä¸äºå®ç°ç»èä¸ææä¸åã\n\n * select ä¼ä¿®æ¹æè¿°ç¬¦ï¼è poll ä¸ä¼ï¼\n * select çæè¿°ç¬¦ç±»åä½¿ç¨æ°ç»å®ç°ï¼fd_setsize å¤§å°é»è®¤ä¸º 1024ï¼å æ­¤é»è®¤åªè½çå¬å°äº 1024 ä¸ªæè¿°ç¬¦ãå¦æè¦çå¬æ´å¤æè¿°ç¬¦çè¯ï¼éè¦ä¿®æ¹ fd_setsize ä¹åéæ°ç¼è¯ï¼è poll æ²¡ææè¿°ç¬¦æ°éçéå¶ï¼\n * poll æä¾äºæ´å¤çäºä»¶ç±»åï¼å¹¶ä¸å¯¹æè¿°ç¬¦çéå¤å©ç¨ä¸æ¯ select é«ã\n * å¦æä¸ä¸ªçº¿ç¨å¯¹æä¸ªæè¿°ç¬¦è°ç¨äº select æè pollï¼å¦ä¸ä¸ªçº¿ç¨å³é­äºè¯¥æè¿°ç¬¦ï¼ä¼å¯¼è´è°ç¨ç»æä¸ç¡®å®ã\n\n\n# 2. éåº¦\n\nselect å poll éåº¦é½æ¯è¾æ¢ï¼æ¯æ¬¡è°ç¨é½éè¦å°å¨é¨æè¿°ç¬¦ä»åºç¨è¿ç¨ç¼å²åºå¤å¶å°åæ ¸ç¼å²åºã\n\n\n# 3. å¯ç§»æ¤æ§\n\nå ä¹ææçç³»ç»é½æ¯æ selectï¼ä½æ¯åªææ¯è¾æ°çç³»ç»æ¯æ pollã\n\n\n# epoll\n\nint epoll_create(int size);\nint epoll_ctl(int epfd, int op, int fd, struct epoll_event *event)ï¼\nint epoll_wait(int epfd, struct epoll_event * events, int maxevents, int timeout);\n\n\n1\n2\n3\n\n\nepoll_ctl() ç¨äºååæ ¸æ³¨åæ°çæè¿°ç¬¦æèæ¯æ¹åæä¸ªæä»¶æè¿°ç¬¦çç¶æãå·²æ³¨åçæè¿°ç¬¦å¨åæ ¸ä¸­ä¼è¢«ç»´æ¤å¨ä¸æ£µçº¢é»æ ä¸ï¼éè¿åè°å½æ°åæ ¸ä¼å° i/o åå¤å¥½çæè¿°ç¬¦å å¥å°ä¸ä¸ªé¾è¡¨ä¸­ç®¡çï¼è¿ç¨è°ç¨ epoll_wait() ä¾¿å¯ä»¥å¾å°äºä»¶å®æçæè¿°ç¬¦ã\n\nä»ä¸é¢çæè¿°å¯ä»¥çåºï¼epoll åªéè¦å°æè¿°ç¬¦ä»è¿ç¨ç¼å²åºååæ ¸ç¼å²åºæ·è´ä¸æ¬¡ï¼å¹¶ä¸è¿ç¨ä¸éè¦éè¿è½®è¯¢æ¥è·å¾äºä»¶å®æçæè¿°ç¬¦ã\n\nepoll ä»éç¨äº linux osã\n\nepoll æ¯ select å poll æ´å çµæ´»èä¸æ²¡ææè¿°ç¬¦æ°ééå¶ã\n\nepoll å¯¹å¤çº¿ç¨ç¼ç¨æ´æåå¥½ï¼ä¸ä¸ªçº¿ç¨è°ç¨äº epoll_wait() å¦ä¸ä¸ªçº¿ç¨å³é­äºåä¸ä¸ªæè¿°ç¬¦ä¹ä¸ä¼äº§çå select å poll çä¸ç¡®å®æåµã\n\n// create the epoll descriptor. only one is needed per app, and is used to monitor all sockets.\n// the function argument is ignored (it was not before, but now it is), so put your favorite number here\nint pollingfd = epoll_create( 0xcafe );\n\nif ( pollingfd < 0 )\n // report error\n\n// initialize the epoll structure in case more members are added in future\nstruct epoll_event ev = { 0 };\n\n// associate the connection class instance with the event. you can associate anything\n// you want, epoll does not use this information. we store a connection class pointer, pconnection1\nev.data.ptr = pconnection1;\n\n// monitor for input, and do not automatically rearm the descriptor after the event\nev.events = epollin | epolloneshot;\n// add the descriptor into the monitoring list. we can do it even if another thread is\n// waiting in epoll_wait - the descriptor will be properly added\nif ( epoll_ctl( epollfd, epoll_ctl_add, pconnection1->getsocket(), &ev ) != 0 )\n    // report error\n\n// wait for up to 20 events (assuming we have added maybe 200 sockets before that it may happen)\nstruct epoll_event pevents[ 20 ];\n\n// wait for 10 seconds, and retrieve less than 20 epoll_event and store them into epoll_event array\nint ready = epoll_wait( pollingfd, pevents, 20, 10000 );\n// check if epoll actually succeed\nif ( ret == -1 )\n    // report error and abort\nelse if ( ret == 0 )\n    // timeout; no event detected\nelse\n{\n    // check if any events detected\n    for ( int i = 0; i < ready; i++ )\n    {\n        if ( pevents[i].events & epollin )\n        {\n            // get back our connection pointer\n            connection * c = (connection*) pevents[i].data.ptr;\n            c->handlereadevent();\n         }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# å·¥ä½æ¨¡å¼\n\nepoll çæè¿°ç¬¦äºä»¶æä¸¤ç§è§¦åæ¨¡å¼ï¼ltï¼level triggerï¼å etï¼edge triggerï¼ã\n\n\n# 1. lt æ¨¡å¼\n\nå½ epoll_wait() æ£æµå°æè¿°ç¬¦äºä»¶å°è¾¾æ¶ï¼å°æ­¤äºä»¶éç¥è¿ç¨ï¼è¿ç¨å¯ä»¥ä¸ç«å³å¤çè¯¥äºä»¶ï¼ä¸æ¬¡è°ç¨ epoll_wait() ä¼åæ¬¡éç¥è¿ç¨ãæ¯é»è®¤çä¸ç§æ¨¡å¼ï¼å¹¶ä¸åæ¶æ¯æ blocking å no-blockingã\n\n\n# 2. et æ¨¡å¼\n\nå lt æ¨¡å¼ä¸åçæ¯ï¼éç¥ä¹åè¿ç¨å¿é¡»ç«å³å¤çäºä»¶ï¼ä¸æ¬¡åè°ç¨ epoll_wait() æ¶ä¸ä¼åå¾å°äºä»¶å°è¾¾çéç¥ã\n\nå¾å¤§ç¨åº¦ä¸åå°äº epoll äºä»¶è¢«éå¤è§¦åçæ¬¡æ°ï¼å æ­¤æçè¦æ¯ lt æ¨¡å¼é«ãåªæ¯æ no-blockingï¼ä»¥é¿åç±äºä¸ä¸ªæä»¶å¥æçé»å¡è¯»/é»å¡åæä½æå¤çå¤ä¸ªæä»¶æè¿°ç¬¦çä»»å¡é¥¿æ­»ã\n\n\n# åºç¨åºæ¯\n\nå¾å®¹æäº§çä¸ç§éè§è®¤ä¸ºåªè¦ç¨ epoll å°±å¯ä»¥äºï¼select å poll é½å·²ç»è¿æ¶äºï¼å¶å®å®ä»¬é½æåèªçä½¿ç¨åºæ¯ã\n\n\n# 1. select åºç¨åºæ¯\n\nselect ç timeout åæ°ç²¾åº¦ä¸ºå¾®ç§ï¼è poll å epoll ä¸ºæ¯«ç§ï¼å æ­¤ select æ´å éç¨äºå®æ¶æ§è¦æ±æ¯è¾é«çåºæ¯ï¼æ¯å¦æ ¸ååºå çæ§å¶ã\n\nselect å¯ç§»æ¤æ§æ´å¥½ï¼å ä¹è¢«ææä¸»æµå¹³å°ææ¯æã\n\n\n# 2. poll åºç¨åºæ¯\n\npoll æ²¡ææå¤§æè¿°ç¬¦æ°éçéå¶ï¼å¦æå¹³å°æ¯æå¹¶ä¸å¯¹å®æ¶æ§è¦æ±ä¸é«ï¼åºè¯¥ä½¿ç¨ poll èä¸æ¯ selectã\n\n\n# 3. epoll åºç¨åºæ¯\n\nåªéè¦è¿è¡å¨ linux å¹³å°ä¸ï¼æå¤§éçæè¿°ç¬¦éè¦åæ¶è½®è¯¢ï¼å¹¶ä¸è¿äºè¿æ¥æå¥½æ¯é¿è¿æ¥ã\n\néè¦åæ¶çæ§å°äº 1000 ä¸ªæè¿°ç¬¦ï¼å°±æ²¡æå¿è¦ä½¿ç¨ epollï¼å ä¸ºè¿ä¸ªåºç¨åºæ¯ä¸å¹¶ä¸è½ä½ç° epoll çä¼å¿ã\n\néè¦çæ§çæè¿°ç¬¦ç¶æååå¤ï¼èä¸é½æ¯éå¸¸ç­æçï¼ä¹æ²¡æå¿è¦ä½¿ç¨ epollã\n\nå ä¸º epoll ä¸­çæææè¿°ç¬¦é½å­å¨å¨åæ ¸ä¸­ï¼é ææ¯æ¬¡éè¦å¯¹æè¿°ç¬¦çç¶ææ¹åé½éè¦éè¿ epoll_ctl() è¿è¡ç³»ç»è°ç¨ï¼é¢ç¹ç³»ç»è°ç¨éä½æçã\n\nå¹¶ä¸ epoll çæè¿°ç¬¦å­å¨å¨åæ ¸ï¼ä¸å®¹æè°è¯ã",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"è¿ç¨æå¤å°ç§ç¶æï¼",frontmatter:{title:"è¿ç¨æå¤å°ç§ç¶æï¼",date:"2022-09-21T23:01:06.000Z",permalink:"/pages/165ea8/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/060.%E8%BF%9B%E7%A8%8B%E6%9C%89%E5%A4%9A%E5%B0%91%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/060.è¿ç¨æå¤å°ç§ç¶æï¼.md",key:"v-262f2c87",path:"/pages/165ea8/",headersStr:null,content:" * å°±ç»ªç¶æï¼readyï¼ï¼ç­å¾è¢«è°åº¦\n\n * è¿è¡ç¶æï¼runningï¼\n\n * é»å¡ç¶æï¼waitingï¼ï¼ç­å¾èµæº åºè¯¥æ³¨æä»¥ä¸åå®¹ï¼\n\n * åªæå°±ç»ªæåè¿è¡æå¯ä»¥ç¸äºè½¬æ¢ï¼å¶å®çé½æ¯ååè½¬æ¢ãå°±ç»ªç¶æçè¿ç¨éè¿è°åº¦ç®æ³ä»èè·å¾ CPU æ¶é´ï¼è½¬ä¸ºè¿è¡ç¶æï¼èè¿è¡ç¶æçè¿ç¨ï¼å¨åéç»å®ç CPU æ¶é´çç¨å®ä¹åå°±ä¼è½¬ä¸ºå°±ç»ªç¶æï¼ç­å¾ä¸ä¸æ¬¡è°åº¦ã\n\n * é»å¡ç¶ææ¯ç¼ºå°éè¦çèµæºä»èç±è¿è¡ç¶æè½¬æ¢èæ¥ï¼ä½æ¯è¯¥èµæºä¸åæ¬ CPU æ¶é´ï¼ç¼ºå° CPU æ¶é´ä¼ä»è¿è¡æè½¬æ¢ä¸ºå°±ç»ªæã",normalizedContent:" * å°±ç»ªç¶æï¼readyï¼ï¼ç­å¾è¢«è°åº¦\n\n * è¿è¡ç¶æï¼runningï¼\n\n * é»å¡ç¶æï¼waitingï¼ï¼ç­å¾èµæº åºè¯¥æ³¨æä»¥ä¸åå®¹ï¼\n\n * åªæå°±ç»ªæåè¿è¡æå¯ä»¥ç¸äºè½¬æ¢ï¼å¶å®çé½æ¯ååè½¬æ¢ãå°±ç»ªç¶æçè¿ç¨éè¿è°åº¦ç®æ³ä»èè·å¾ cpu æ¶é´ï¼è½¬ä¸ºè¿è¡ç¶æï¼èè¿è¡ç¶æçè¿ç¨ï¼å¨åéç»å®ç cpu æ¶é´çç¨å®ä¹åå°±ä¼è½¬ä¸ºå°±ç»ªç¶æï¼ç­å¾ä¸ä¸æ¬¡è°åº¦ã\n\n * é»å¡ç¶ææ¯ç¼ºå°éè¦çèµæºä»èç±è¿è¡ç¶æè½¬æ¢èæ¥ï¼ä½æ¯è¯¥èµæºä¸åæ¬ cpu æ¶é´ï¼ç¼ºå° cpu æ¶é´ä¼ä»è¿è¡æè½¬æ¢ä¸ºå°±ç»ªæã",charsets:{cjk:!0},lastUpdated:"2022/10/09, 11:12:48",lastUpdatedTimestamp:1665285168e3},{title:"Linux ä¸å¦ä½ææ¥ CPU ä»¥å åå­å ç¨è¿å¤ï¼",frontmatter:{title:"Linux ä¸å¦ä½ææ¥ CPU ä»¥å åå­å ç¨è¿å¤ï¼",date:"2022-09-21T23:01:37.000Z",permalink:"/pages/b043a6/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/080.Linux%20%E4%B8%8B%E5%A6%82%E4%BD%95%E6%8E%92%E6%9F%A5%20CPU%20%E4%BB%A5%E5%8F%8A%20%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E8%BF%87%E5%A4%9A%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/080.Linux ä¸å¦ä½ææ¥ CPU ä»¥å åå­å ç¨è¿å¤ï¼.md",key:"v-05845816",path:"/pages/b043a6/",headers:[{level:4,title:"ä¸ãéè¿topå½ä»¤å®ä½å ç¨cpué«çè¿ç¨",slug:"ä¸ãéè¿topå½ä»¤å®ä½å ç¨cpué«çè¿ç¨",normalizedTitle:"ä¸ãéè¿topå½ä»¤å®ä½å ç¨cpué«çè¿ç¨",charIndex:73},{level:4,title:"äºãéè¿topå½ä»¤å®ä½é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµ",slug:"äºãéè¿topå½ä»¤å®ä½é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµ",normalizedTitle:"äºãéè¿topå½ä»¤å®ä½é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµ",charIndex:1318},{level:4,title:"ä¸ãéè¿jstack å½ä»¤å®ä½é®é¢ä»£ç ",slug:"ä¸ãéè¿jstack-å½ä»¤å®ä½é®é¢ä»£ç ",normalizedTitle:"ä¸ãéè¿jstack å½ä»¤å®ä½é®é¢ä»£ç ",charIndex:1512}],headersStr:"ä¸ãéè¿topå½ä»¤å®ä½å ç¨cpué«çè¿ç¨ äºãéè¿topå½ä»¤å®ä½é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµ ä¸ãéè¿jstack å½ä»¤å®ä½é®é¢ä»£ç ",content:'ä¸ä¸ªåºç¨å ç¨CPUå¾é«ï¼é¤äºç¡®å®æ¯è®¡ç®å¯éååºç¨ä¹å¤ï¼éå¸¸åå é½æ¯åºç°äºæ­»å¾ªç¯ã ä¸é¢æä»¬å°ä¸æ­¥æ­¥å®ä½é®é¢ï¼è¯¦å°½çä»ç»æ¯ä¸æ­¥éª¤çç¸å³ç¥è¯ã\n\n# ä¸ãéè¿topå½ä»¤å®ä½å ç¨cpué«çè¿ç¨\n\næ§è¡topå½ä»¤å¾å°ä»¥ä¸ç»æï¼\n\n\n\ntopå½ä»¤æ§è¡ç»æ\n\néè¿ä¸å¾å¯ä»¥ææ¾çåºè¿ç¨PID41843å ç¨cpuè¿é«ï¼ææ¾å­å¨é®é¢ï¼å®ä½å°äºè¿ç¨idãå½ç¶å¦æä½ æ³åªè§å¯è¿ç¨PID41843çCPUååå­ä»¥åè´è½½æåµï¼å¯ä»¥ä½¿ç¨ä»¥ä¸å½ä»¤\n\n> top -p 41843ã\n\nç»æå¦ä¸ï¼\n\n\n\ntop -p 41843å½ä»¤æ§è¡ç»æ\n\nè¿éé¡ºä¾¿è§£éä¸ä¸å¾åä¸ªåæ°çæä¹ï¼æå©äºè¯»èæ´å¥½çææ¥é®é¢ã\n\n 1. ç¬¬ä¸è¡æ¯ä»»å¡éåä¿¡æ¯ top - 14:06:34 up 537 days, 6 min, 6 users, load average: 0.41, 0.45, 0.43\n\nä»»å¡éåä¿¡æ¯                           å«ä¹\n14:06:34                         å½åæ¶é´\n537 days                         ç³»ç»è¿è¡æ¶é´\n6 min                            ç¨æ·å¨çº¿æ¶é´\n6 users                          å¨çº¿ç¨æ·æ°\nload average: 0.41, 0.45, 0.43   ç³»ç»è´è½½ï¼å³ä»»å¡éåçå¹³åé¿åº¦ã1åéåã5åéåã15åéåå¹³åè´è½½\n\n2)ç¬¬äºè¡ä¸ºè¿ç¨çä¿¡æ¯\n\nè¿ç¨ä¿¡æ¯             å«ä¹\nTasks: 1 total   è¿ç¨æ»æ°\n0 running        æ­£å¨è¿è¡çè¿ç¨æ°\n1 sleeping       ç¡ç çè¿ç¨æ°\n0 stopped        åæ­¢çè¿ç¨æ°\n0 zombie         åµå°¸è¿ç¨æ°\n\n 1. ç¬¬ä¸è¡ä¸ºcpuä¿¡æ¯\n\nCPUä¿¡æ¯      å«ä¹\n6.1% us    ç¨æ·ç©ºé´å ç¨CPUç¾åæ¯\n1.5% sy    åæ ¸ç©ºé´å ç¨CPUç¾åæ¯\n0.0% ni    ç¨æ·è¿ç¨ç©ºé´åæ¹åè¿ä¼åçº§çè¿ç¨å ç¨CPUç¾åæ¯\n92.2% id   ç©ºé²CPUç¾åæ¯\n0.0% wa    ç­å¾è¾å¥è¾åºçCPUæ¶é´ç¾åæ¯\n0.0% hi    ç¡¬ä»¶ä¸­æ­\n0.0% si    è½¯ä»¶ä¸­æ­\n0.0%st     å®æ¶\n\n 1. ç¬¬åãäºè¡ä¸ºåå­ä¿¡æ¯ã åå®¹å¦ä¸ï¼\n\nç©çåå­ä¿¡æ¯               å«ä¹\nMem: 191272k total   ç©çåå­æ»é\n173656k used         ä½¿ç¨çç©çåå­æ»é\n17616k free          ç©ºé²åå­æ»é\n22052k buffers       ç¨ä½åæ ¸ç¼å­çåå­é\n\näº¤æ¢åºä¿¡æ¯                 å«ä¹\nSwap: 192772k total   äº¤æ¢åºæ»é\n0k used               ä½¿ç¨çäº¤æ¢åºæ»é\n192772k free          ç©ºé²äº¤æ¢åºæ»é\n123988k cached        ç¼å²çäº¤æ¢åºæ»é\n\n# äºãéè¿topå½ä»¤å®ä½é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµ\n\néè¿é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµä½¿ç¨å¯ä»¥ä½¿ç¨å¦ä¸å½ä»¤ï¼\n\n> top -p 41843 -H\n\næ¥çè¿ç¨PID41843çæ¯ä¸ä¸ªçº¿ç¨å ç¨CPUæåµï¼å¦å¾ã\n\n\n\ntop -p 41843 -Hçæ§è¡ç»æ\n\nç±ä¸å¾ææ¾å¯ä»¥åç°ï¼çº¿ç¨PID41892CPUå ç¨çæé«ï¼æ¥ä¸æ¥å®ä½è¯¥çº¿ç¨çä»£ç æ¯å¦åºç°å¼å¸¸å¯¼è´cpuå ç¨è¿é«ã\n\n# ä¸ãéè¿jstack å½ä»¤å®ä½é®é¢ä»£ç \n\nä¸ä¸æ­¥åç°PID41892å ç¨çCPUè¿é«ï¼å°±å°è¿ä¸ªPIDè½¬æ¢æ16è¿å¶ï¼æç¥ï¼PID41892è½¬åæ16è¿å¶ä¸ºa3a4ãä½¿ç¨å¦ä¸å½ä»¤å½ä»¤å®ä½é®é¢ä»£ç ï¼\n\n> jstack 41892 | grep a3a4\n\nè¾åºå¦ä¸ï¼\n\n> "Thread" prio=10 tid=0x00007f950043e000 nid=0x54ee in test()ï¼\n\nå¯ä»¥åæå¾å°ï¼ çº¿ç¨Threadä¸çwait()å½æ°cpuä½¿ç¨çå¾é«ï¼æ¥çæºä»£ç ä¸­çtest()å½æ°ä»£ç å¦ä¸ï¼\n\npublic void test(){\n  while(true){\n     for(int i = 0 ;i<100;i++);\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\nwhileå¾ªç¯æ æ³ç»æï¼ä¸ç´æ¢å cpuï¼å¯¼è´ç¨åºcpuä½¿ç¨è¿é«ï¼ä¿®æ¹ä»£ç å³å¯ã å°æ­¤ä¸ºæ­¢ï¼å ä¸ºä»£ç é®é¢å¯¼è´çcpuä½¿ç¨è¿é«çæéææ¥æ¹æ³å°±ä»ç»å®äºã\n\nåè',normalizedContent:'ä¸ä¸ªåºç¨å ç¨cpuå¾é«ï¼é¤äºç¡®å®æ¯è®¡ç®å¯éååºç¨ä¹å¤ï¼éå¸¸åå é½æ¯åºç°äºæ­»å¾ªç¯ã ä¸é¢æä»¬å°ä¸æ­¥æ­¥å®ä½é®é¢ï¼è¯¦å°½çä»ç»æ¯ä¸æ­¥éª¤çç¸å³ç¥è¯ã\n\n# ä¸ãéè¿topå½ä»¤å®ä½å ç¨cpué«çè¿ç¨\n\næ§è¡topå½ä»¤å¾å°ä»¥ä¸ç»æï¼\n\n\n\ntopå½ä»¤æ§è¡ç»æ\n\néè¿ä¸å¾å¯ä»¥ææ¾çåºè¿ç¨pid41843å ç¨cpuè¿é«ï¼ææ¾å­å¨é®é¢ï¼å®ä½å°äºè¿ç¨idãå½ç¶å¦æä½ æ³åªè§å¯è¿ç¨pid41843çcpuååå­ä»¥åè´è½½æåµï¼å¯ä»¥ä½¿ç¨ä»¥ä¸å½ä»¤\n\n> top -p 41843ã\n\nç»æå¦ä¸ï¼\n\n\n\ntop -p 41843å½ä»¤æ§è¡ç»æ\n\nè¿éé¡ºä¾¿è§£éä¸ä¸å¾åä¸ªåæ°çæä¹ï¼æå©äºè¯»èæ´å¥½çææ¥é®é¢ã\n\n 1. ç¬¬ä¸è¡æ¯ä»»å¡éåä¿¡æ¯ top - 14:06:34 up 537 days, 6 min, 6 users, load average: 0.41, 0.45, 0.43\n\nä»»å¡éåä¿¡æ¯                           å«ä¹\n14:06:34                         å½åæ¶é´\n537 days                         ç³»ç»è¿è¡æ¶é´\n6 min                            ç¨æ·å¨çº¿æ¶é´\n6 users                          å¨çº¿ç¨æ·æ°\nload average: 0.41, 0.45, 0.43   ç³»ç»è´è½½ï¼å³ä»»å¡éåçå¹³åé¿åº¦ã1åéåã5åéåã15åéåå¹³åè´è½½\n\n2)ç¬¬äºè¡ä¸ºè¿ç¨çä¿¡æ¯\n\nè¿ç¨ä¿¡æ¯             å«ä¹\ntasks: 1 total   è¿ç¨æ»æ°\n0 running        æ­£å¨è¿è¡çè¿ç¨æ°\n1 sleeping       ç¡ç çè¿ç¨æ°\n0 stopped        åæ­¢çè¿ç¨æ°\n0 zombie         åµå°¸è¿ç¨æ°\n\n 1. ç¬¬ä¸è¡ä¸ºcpuä¿¡æ¯\n\ncpuä¿¡æ¯      å«ä¹\n6.1% us    ç¨æ·ç©ºé´å ç¨cpuç¾åæ¯\n1.5% sy    åæ ¸ç©ºé´å ç¨cpuç¾åæ¯\n0.0% ni    ç¨æ·è¿ç¨ç©ºé´åæ¹åè¿ä¼åçº§çè¿ç¨å ç¨cpuç¾åæ¯\n92.2% id   ç©ºé²cpuç¾åæ¯\n0.0% wa    ç­å¾è¾å¥è¾åºçcpuæ¶é´ç¾åæ¯\n0.0% hi    ç¡¬ä»¶ä¸­æ­\n0.0% si    è½¯ä»¶ä¸­æ­\n0.0%st     å®æ¶\n\n 1. ç¬¬åãäºè¡ä¸ºåå­ä¿¡æ¯ã åå®¹å¦ä¸ï¼\n\nç©çåå­ä¿¡æ¯               å«ä¹\nmem: 191272k total   ç©çåå­æ»é\n173656k used         ä½¿ç¨çç©çåå­æ»é\n17616k free          ç©ºé²åå­æ»é\n22052k buffers       ç¨ä½åæ ¸ç¼å­çåå­é\n\näº¤æ¢åºä¿¡æ¯                 å«ä¹\nswap: 192772k total   äº¤æ¢åºæ»é\n0k used               ä½¿ç¨çäº¤æ¢åºæ»é\n192772k free          ç©ºé²äº¤æ¢åºæ»é\n123988k cached        ç¼å²çäº¤æ¢åºæ»é\n\n# äºãéè¿topå½ä»¤å®ä½é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµ\n\néè¿é®é¢è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨å ç¨cpuæåµä½¿ç¨å¯ä»¥ä½¿ç¨å¦ä¸å½ä»¤ï¼\n\n> top -p 41843 -h\n\næ¥çè¿ç¨pid41843çæ¯ä¸ä¸ªçº¿ç¨å ç¨cpuæåµï¼å¦å¾ã\n\n\n\ntop -p 41843 -hçæ§è¡ç»æ\n\nç±ä¸å¾ææ¾å¯ä»¥åç°ï¼çº¿ç¨pid41892cpuå ç¨çæé«ï¼æ¥ä¸æ¥å®ä½è¯¥çº¿ç¨çä»£ç æ¯å¦åºç°å¼å¸¸å¯¼è´cpuå ç¨è¿é«ã\n\n# ä¸ãéè¿jstack å½ä»¤å®ä½é®é¢ä»£ç \n\nä¸ä¸æ­¥åç°pid41892å ç¨çcpuè¿é«ï¼å°±å°è¿ä¸ªpidè½¬æ¢æ16è¿å¶ï¼æç¥ï¼pid41892è½¬åæ16è¿å¶ä¸ºa3a4ãä½¿ç¨å¦ä¸å½ä»¤å½ä»¤å®ä½é®é¢ä»£ç ï¼\n\n> jstack 41892 | grep a3a4\n\nè¾åºå¦ä¸ï¼\n\n> "thread" prio=10 tid=0x00007f950043e000 nid=0x54ee in test()ï¼\n\nå¯ä»¥åæå¾å°ï¼ çº¿ç¨threadä¸çwait()å½æ°cpuä½¿ç¨çå¾é«ï¼æ¥çæºä»£ç ä¸­çtest()å½æ°ä»£ç å¦ä¸ï¼\n\npublic void test(){\n  while(true){\n     for(int i = 0 ;i<100;i++);\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\nwhileå¾ªç¯æ æ³ç»æï¼ä¸ç´æ¢å cpuï¼å¯¼è´ç¨åºcpuä½¿ç¨è¿é«ï¼ä¿®æ¹ä»£ç å³å¯ã å°æ­¤ä¸ºæ­¢ï¼å ä¸ºä»£ç é®é¢å¯¼è´çcpuä½¿ç¨è¿é«çæéææ¥æ¹æ³å°±ä»ç»å®äºã\n\nåè',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ç®è¿°å ä¸ªå¸¸ç¨ç Linux å½ä»¤ä»¥åä»ä»¬çåè½",frontmatter:{title:"ç®è¿°å ä¸ªå¸¸ç¨ç Linux å½ä»¤ä»¥åä»ä»¬çåè½",date:"2022-09-21T23:00:27.000Z",permalink:"/pages/198887/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/030.%E7%AE%80%E8%BF%B0%E5%87%A0%E4%B8%AA%E5%B8%B8%E7%94%A8%E7%9A%84%20Linux%20%E5%91%BD%E4%BB%A4%E4%BB%A5%E5%8F%8A%E4%BB%96%E4%BB%AC%E7%9A%84%E5%8A%9F%E8%83%BD.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/030.ç®è¿°å ä¸ªå¸¸ç¨ç Linux å½ä»¤ä»¥åä»ä»¬çåè½.md",key:"v-32c73af0",path:"/pages/198887/",headers:[{level:2,title:"ls",slug:"ls",normalizedTitle:"ls",charIndex:2},{level:2,title:"é¿æ ¼å¼æ¾ç¤ºé¡¹",slug:"é¿æ ¼å¼æ¾ç¤ºé¡¹",normalizedTitle:"é¿æ ¼å¼æ¾ç¤ºé¡¹",charIndex:259},{level:2,title:"cd",slug:"cd",normalizedTitle:"cd",charIndex:413},{level:2,title:"pwd",slug:"pwd",normalizedTitle:"pwd",charIndex:695},{level:2,title:"Linux å¸¸è§ç®å½",slug:"linux-å¸¸è§ç®å½",normalizedTitle:"linux å¸¸è§ç®å½",charIndex:796},{level:2,title:"mkdir",slug:"mkdir",normalizedTitle:"mkdir",charIndex:1187},{level:2,title:"rmdir",slug:"rmdir",normalizedTitle:"rmdir",charIndex:1332},{level:2,title:"æä»¶æä½å½ä»¤",slug:"æä»¶æä½å½ä»¤",normalizedTitle:"æä»¶æä½å½ä»¤",charIndex:1487},{level:2,title:"# touch",slug:"touch",normalizedTitle:"# touch",charIndex:1498},{level:3,title:"rm",slug:"rm",normalizedTitle:"rm",charIndex:1332},{level:3,title:"cat",slug:"cat",normalizedTitle:"cat",charIndex:1750},{level:3,title:"more",slug:"more",normalizedTitle:"more",charIndex:1861},{level:3,title:"head",slug:"head",normalizedTitle:"head",charIndex:1972},{level:3,title:"ln",slug:"ln",normalizedTitle:"ln",charIndex:2148},{level:2,title:"æä»¶åç®å½é½è½æä½çå½ä»¤",slug:"æä»¶åç®å½é½è½æä½çå½ä»¤",normalizedTitle:"æä»¶åç®å½é½è½æä½çå½ä»¤",charIndex:2321},{level:3,title:"rm",slug:"rm-2",normalizedTitle:"rm",charIndex:1332},{level:3,title:"cp",slug:"cp",normalizedTitle:"cp",charIndex:2354},{level:3,title:"mv",slug:"mv",normalizedTitle:"mv",charIndex:2545},{level:3,title:"mv æºæä»¶ ç®æ ä½ç½®",slug:"mv-æºæä»¶-ç®æ ä½ç½®",normalizedTitle:"mv æºæä»¶ ç®æ ä½ç½®",charIndex:2601},{level:2,title:"æéç®¡ç",slug:"æéç®¡ç",normalizedTitle:"æéç®¡ç",charIndex:2720},{level:3,title:"â¤æéä½",slug:"â¤æéä½",normalizedTitle:"â¤æéä½",charIndex:2729},{level:3,title:"â¤æéä½æ¯åä½",slug:"â¤æéä½æ¯åä½",normalizedTitle:"â¤æéä½æ¯åä½",charIndex:2793},{level:3,title:"â¤æéæä¹",slug:"â¤æéæä¹",normalizedTitle:"â¤æéæä¹",charIndex:2909},{level:3,title:"chmod",slug:"chmod",normalizedTitle:"chmod",charIndex:3108},{level:3,title:"å±ä¸»åå±ç»å½ä»¤chown",slug:"å±ä¸»åå±ç»å½ä»¤chown",normalizedTitle:"å±ä¸»åå±ç»å½ä»¤chown",charIndex:3432},{level:3,title:"ç¨æ·æä½",slug:"ç¨æ·æä½",normalizedTitle:"ç¨æ·æä½",charIndex:3619},{level:2,title:"å¸®å©å½ä»¤",slug:"å¸®å©å½ä»¤",normalizedTitle:"å¸®å©å½ä»¤",charIndex:3679},{level:3,title:"man",slug:"man",normalizedTitle:"man",charIndex:3688},{level:3,title:"--help",slug:"help",normalizedTitle:"--help",charIndex:3766},{level:2,title:"æ¥æ¾å½ä»¤",slug:"æ¥æ¾å½ä»¤",normalizedTitle:"æ¥æ¾å½ä»¤",charIndex:3818},{level:3,title:"whereis",slug:"whereis",normalizedTitle:"whereis",charIndex:3827},{level:3,title:"find",slug:"find",normalizedTitle:"find",charIndex:3927},{level:3,title:"grep",slug:"grep",normalizedTitle:"grep",charIndex:4302},{level:2,title:"åç¼©åè§£åç¼©",slug:"åç¼©åè§£åç¼©",normalizedTitle:"åç¼©åè§£åç¼©",charIndex:4534},{level:3,title:"â¤linuxå¯ä»¥è¯å«çå¸¸è§åç¼©æ ¼å¼ï¼.gz .bz2",slug:"â¤linuxå¯ä»¥è¯å«çå¸¸è§åç¼©æ ¼å¼-gz-bz2",normalizedTitle:"â¤linuxå¯ä»¥è¯å«çå¸¸è§åç¼©æ ¼å¼ï¼.gz .bz2",charIndex:4545},{level:3,title:"â¤å¸¸è§çåç¼©åæåå½ä»¤ï¼.tar.gz .tar.bz2",slug:"â¤å¸¸è§çåç¼©åæåå½ä»¤-tar-gz-tar-bz2",normalizedTitle:"â¤å¸¸è§çåç¼©åæåå½ä»¤ï¼.tar.gz .tar.bz2",charIndex:4576},{level:3,title:"â¤åç¼©/è§£å åæ¶æå",slug:"â¤åç¼©-è§£å-åæ¶æå",normalizedTitle:"â¤åç¼©/è§£å åæ¶æå",charIndex:4609},{level:2,title:"å³æºåéå¯å½ä»¤",slug:"å³æºåéå¯å½ä»¤",normalizedTitle:"å³æºåéå¯å½ä»¤",charIndex:4934},{level:3,title:"shutdown",slug:"shutdown",normalizedTitle:"shutdown",charIndex:4946},{level:3,title:"reboot",slug:"reboot",normalizedTitle:"reboot",charIndex:5064},{level:3,title:"mount",slug:"mount",normalizedTitle:"mount",charIndex:5140},{level:3,title:"åçæè½½",slug:"åçæè½½",normalizedTitle:"åçæè½½",charIndex:5226},{level:3,title:"åçå¸è½½",slug:"åçå¸è½½",normalizedTitle:"åçå¸è½½",charIndex:5402},{level:2,title:"ç½ç»å½ä»¤",slug:"ç½ç»å½ä»¤",normalizedTitle:"ç½ç»å½ä»¤",charIndex:5518},{level:3,title:"ping",slug:"ping",normalizedTitle:"ping",charIndex:5527},{level:3,title:"ifconfig",slug:"ifconfig",normalizedTitle:"ifconfig",charIndex:5612}],headersStr:"ls é¿æ ¼å¼æ¾ç¤ºé¡¹ cd pwd Linux å¸¸è§ç®å½ mkdir rmdir æä»¶æä½å½ä»¤ # touch rm cat more head ln æä»¶åç®å½é½è½æä½çå½ä»¤ rm cp mv mv æºæä»¶ ç®æ ä½ç½® æéç®¡ç â¤æéä½ â¤æéä½æ¯åä½ â¤æéæä¹ chmod å±ä¸»åå±ç»å½ä»¤chown ç¨æ·æä½ å¸®å©å½ä»¤ man --help æ¥æ¾å½ä»¤ whereis find grep åç¼©åè§£åç¼© â¤linuxå¯ä»¥è¯å«çå¸¸è§åç¼©æ ¼å¼ï¼.gz .bz2 â¤å¸¸è§çåç¼©åæåå½ä»¤ï¼.tar.gz .tar.bz2 â¤åç¼©/è§£å åæ¶æå å³æºåéå¯å½ä»¤ shutdown reboot mount åçæè½½ åçå¸è½½ ç½ç»å½ä»¤ ping ifconfig",content:"# ls\n\nå½ä»¤åç§°ï¼ls\n\nå½ä»¤è±æåæï¼list\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/ls\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¾ç¤ºç®å½æä»¶\n\nls (æ¾ç¤ºå½åç®å½ä¸æä»¶)\n\nls ç®å½å (æ¾ç¤ºæå®ç®å½ä¸æä»¶)\n\nls -l (é¿æ ¼å¼æ¾ç¤ºç®å½æä»¶)\n\nls -l æä»¶å (é¿æ ¼å¼æ¾ç¤ºæå®æä»¶)\n\nls -a (æ¾ç¤ºæææä»¶(åå«éèæä»¶))\n\nls -al (é¿æ ¼å¼æ¾ç¤ºå½åç®å½ä¸æææä»¶)\n\nls -h (æä»¶å¤§å°æ¾ç¤ºä¸ºå¸¸è§å¤§å°åä½ B KB MB ...)\n\nls -d (æ¾ç¤ºç®å½æ¬èº«ï¼èä¸æ¯éé¢çå­æä»¶)\n\n\n# é¿æ ¼å¼æ¾ç¤ºé¡¹\n\n-rw------- 1 root root 1190 08-10 23:37 anaconda-ks.cfg\n\nâ  â¡ â¢ â£ â¤ â¥ â¦\n\nç¬¬â é¡¹ï¼æéä½\n\nç¬¬â¡é¡¹ï¼å¼ç¨è®¡æ°\n\nç¬¬â¢é¡¹ï¼å±ä¸»ï¼ææèï¼\n\nç¬¬â£é¡¹ï¼å±ç»\n\nç¬¬â¤é¡¹ï¼å¤§å°\n\nç¬¬â¥é¡¹ï¼æåä¸æ¬¡ä¿®æ¹æ¶é´\n\nç¬¬â¦é¡¹ï¼æä»¶å\n\n\n# cd\n\nå½ä»¤åç§°ï¼cd\n\nå½ä»¤è±æåæï¼change directory\n\nå½ä»¤æå¨è·¯å¾ï¼shellåç½®å½ä»¤\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼åæ¢æå¨ç®å½\n\ncd /usr/local/src åæ¢å°æå®è·¯å¾(ä½¿ç¨ç»å¯¹è·¯å¾æ¹å¼)\n\ncd ~ è¿å¥å½åç¨æ·çå®¶ç®å½\n\ncd - è¿å¥ä¸æ¬¡ç®å½\n\ncd .. è¿å¥ä¸ä¸çº§ç®å½\n\ncd . è¿å¥å½åç®å½\n\nç»å¯¹è·¯å¾ï¼cd ../usr/local åç§å½åæå¨ç®å½ï¼è¿è¡æ¥æ¾ãä¸å®è¦åç¡®å®å½åæå¨ç®å½ã ç¸å¯¹è·¯å¾ï¼cd /usr/local ä»æ ¹ç®å½å¼å§æå®ï¼ä¸çº§ä¸çº§éå½æ¥æ¾ãå¨ä»»ä½ç®å½ä¸ï¼é½è½è¿å¥æå®ä½ç½®ã\n\n\n# pwd\n\nå½ä»¤åç§°ï¼pwd\n\nå½ä»¤è±æåæï¼print working directory\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/pwd\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¾ç¤ºå½åæå¨ç®å½(å½åå·¥ä½ç®å½)\n\n\n# Linux å¸¸è§ç®å½\n\n/ æ ¹ç®å½\n\n/bin å½ä»¤ä¿å­ç®å½ï¼æ®éç¨æ·å°±å¯ä»¥è¯»åçå½ä»¤ï¼\n\n/boot å¯å¨ç®å½ï¼å¯å¨ç¸å³æä»¶\n\n/dev è®¾å¤æä»¶ä¿å­ç®å½\n\n/etc éç½®æä»¶ä¿å­ç®å½\n\n/home æ®éç¨æ·çå®¶ç®å½\n\n/lib ç³»ç»åºä¿å­ç®å½\n\n/mnt ç³»ç»æè½½ç®å½\n\n/media æè½½ç®å½\n\n/root è¶çº§ç¨æ·çå®¶ç®å½\n\n/tmp ä¸´æ¶ç®å½\n\n/sbin å½ä»¤ä¿å­ç®å½ï¼è¶çº§ç¨æ·æè½ä½¿ç¨çç®å½ï¼\n\n/proc ç´æ¥åå¥åå­ç\n\n/sys å°åæ ¸çä¸äºä¿¡æ¯æ å°ï¼å¯ä¾åºç¨ç¨åºæç¨\n\n/usr ç³»ç»è½¯ä»¶èµæºç®å½\n\n/usr/bin/ ç³»ç»å½ä»¤ï¼æ®éç¨æ·ï¼\n\n/usr/sbin/ ç³»ç»å½ä»¤ï¼è¶çº§ç¨æ·ï¼\n\n/var ç³»ç»ç¸å³ææ¡£åå®¹\n\n/var/log/ ç³»ç»æ¥å¿ä½ç½®\n\n/var/spool/mail/ ç³»ç»é»è®¤é®ç®±ä½ç½®\n\n/var/lib/ é»è®¤å®è£çåºæä»¶ç®å½\n\n\n# mkdir\n\nå½ä»¤åç§°ï¼mkdir\n\nå½ä»¤è±æåæï¼make directories\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/mkdir\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å»ºç«ç®å½\n\nmkdir test åå»ºåä¸ºtestçç®å½\n\nmkdir -p test1/test2/test3 éå½åå»º\n\n\n# rmdir\n\nå½ä»¤åç§°ï¼rmdir\n\nå½ä»¤è±æåæï¼remove empty directories\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/rmdir\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å é¤ç®å½ (åªè½å é¤ç©ºç®å½)\n\n![](/assets/å±å¹å¿«ç§ 2017-07-19 ä¸å11.05.47.png)\n\n\n\n\n\n\n# æä»¶æä½å½ä»¤\n\n\n# # touch\n\nå½ä»¤åç§°ï¼touch\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/touch\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼åå»ºç©ºæä»¶ æ ä¿®æ¹æä»¶æ¶é´\n\ntouch test.py åå»ºç©ºæä»¶ï¼å¦ææä»¶å­å¨ï¼åä¿®æ¹æä»¶åå»ºæ¶é´\n\n\n# rm\n\nå½ä»¤åç§°ï¼rm\n\nå½ä»¤è±æåæï¼remove\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/rm\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å é¤\n\nrm æä»¶å å é¤æä»¶\n\nrm -r ç®å½å éå½å é¤æä»¶åç®å½\n\nrm -f æä»¶å å¼ºå¶å é¤\n\nrm -rf ç®å½å å¼ºå¶å é¤ç®å½åæä»¶\n\n\n# cat\n\nå½ä»¤åç§°ï¼cat\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/cat\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥çæä»¶åå®¹ï¼ä»å¤´å°å°¾çåå®¹ã\n\ncat æä»¶å æ¥çæä»¶åå®¹åå®¹\n\ncat -n æä»¶å æ¥çæä»¶åå®¹ï¼å¹¶ååºè¡å·\n\n\n# more\n\nå½ä»¤åç§°ï¼more\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/more\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼åå±æ¾ç¤ºæä»¶åå®¹\n\nmore æä»¶å åå±æ¾ç¤ºæä»¶åå®¹\n\nåä¸ç¿»é¡µ ç©ºæ ¼é®\n\nåä¸ç¿»é¡µ bé®\n\néåºæ¥ç qé®\n\n\n# head\n\nå½ä»¤åç§°ï¼head\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/head\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¾ç¤ºæä»¶å¤´\n\nhead æä»¶å æ¾ç¤ºæä»¶å¤´å è¡(é»è®¤æ¾ç¤º10è¡)\n\nhead -n 20 æä»¶å æ¾ç¤ºæä»¶å20è¡\n\nhead -n -20 æä»¶å æ¾ç¤ºæä»¶æå20è¡\n\nctrl + c å¼ºå¶ç»æ­¢æ¥çæ¨¡å¼\n\nctrl + l æ¸å±\n\n\n# ln\n\nå½ä»¤åç§°ï¼ln\n\nå½ä»¤è±æåæï¼link\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/ln\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼é¾æ¥æä»¶\n\nç­åäºWindowsä¸­çå¿«æ·æ¹å¼\n\næ°å»ºçé¾æ¥ï¼å ç¨ä¸åçç¡¬çä½ç½®\n\nä¿®æ¹ä¸ä¸ªæä»¶ï¼ä¸¤è¾¹é½ä¼æ¹å\n\nå é¤æºæä»¶ï¼è½¯è¿æ¥æä»¶æä¸å¼\n\nln -s æºæä»¶ ç®æ æä»¶ åå»ºé¾æ¥æä»¶(æä»¶åé½å¿é¡»åç»å¯¹è·¯å¾)\n\n\n\n\n\n\n# æä»¶åç®å½é½è½æä½çå½ä»¤\n\n\n# rm\n\nå é¤æä»¶æç®å½\n\n\n# cp\n\nå½ä»¤åç§°ï¼cp\n\nå½ä»¤è±æåæï¼copy\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/cp\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å¤å¶æä»¶æç®å½\n\ncp æºæä»¶ ç®æ ä½ç½® (å¤å¶)\n\næ\n\ncp æºæä»¶ ç®æ ä½ç½®/ç®æ åç§° (å¤å¶å¹¶æ¹å)\n\ncp -r å¤å¶ç®å½\n\ncp -p è¿å¸¦æä»¶å±æ§ä¸èµ·å¤å¶\n\ncp -d è¥æºæä»¶æ¯é¾æ¥æä»¶ï¼åå¤å¶é¾æ¥å±æ§\n\ncp -a ç¸å½äº cp -pdr\n\n\n# mv\n\nå½ä»¤åç§°ï¼mv\n\nå½ä»¤è±æåæï¼move\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/mv\n\næ§è¡æéï¼ææç¨æ·\n\n\n# mv æºæä»¶ ç®æ ä½ç½®\n\nmv /root/test /tmp/ å°/root/ä¸çtestæä»¶ç§»å¨å°/tmp/ç®å½ä¸\n\nmv /root/test /root/newtest å°/root/ä¸çtestæä»¶æ¹åä¸ºnewtest\n\n\n# æéç®¡ç\n\n\n# â¤æéä½\n\n-rw-r--r--. 1 root root 44736 7æ 18 00:38 install.log\n\n\n# â¤æéä½æ¯åä½\n\nç¬¬ä¸ä½ï¼ä»£è¡¨æä»¶ç±»å\n\n- æ®éæä»¶\n\nd ç®å½æä»¶\n\nl é¾æ¥æä»¶\n\nå¶ä»ä¹ä½ï¼ä»£è¡¨åç¨æ·çæé\n\n(åä¸ä½=å±ä¸»æéu ä¸­é´ä¸ä½=å±ç»æég å¶ä»äººæéo)\n\nr è¯» 4\n\nw å 2\n\nx æ§è¡ 1\n\n\n# â¤æéæä¹\n\nâ¦æéå¯¹æä»¶çå«ä¹ï¼\n\nrï¼è¯»åæä»¶åå®¹ å¦ï¼catãmoreãheadãtail\n\nwï¼ç¼è¾ãæ°å¢ãä¿®æ¹æä»¶åå®¹ å¦ï¼viãecho ä½æ¯ä¸åå«å é¤æä»¶\n\nxï¼å¯æ§è¡ /tmp/11/22/abc ---------\n\nâ¦æéå¯¹ç®å½çå«ä¹ï¼\n\nrï¼å¯ä»¥æ¥è¯¢ç®å½ä¸æä»¶å å¦ï¼ls\n\nwï¼å·æä¿®æ¹ç®å½ç»æçæé å¦ï¼touchãrmãmvãcp\n\nxï¼å¯ä»¥è¿å¥ç®å½ å¦ï¼cd\n\n\n# chmod\n\nå½ä»¤åç§°ï¼chmod\n\nå½ä»¤è±æåæï¼change the permissions mode of a file\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/chmod\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼ä¿®æ¹æé\n\nchmod u+x aa aaæä»¶çå±ä¸»å ä¸æ§è¡æé\n\nchmod u-x aa aaæä»¶çå±ä¸»åå»æ§è¡æé\n\nchmod g+w,o+w aa aaæä»¶çå±ç»åå¶ä»äººå ä¸åæé\n\nchmod u=rwx aa aaæä»¶çç¨æ·æéæ¹ä¸ºæææé(è¯»+å+æ§è¡)\n\nå¦ä¸ç§è¡¨ç°æ¹å¼ï¼\n\nchmod 755 aa aaæä»¶çå±ä¸»æéæ¯rwxï¼å±ç»åå¶ä»äººæ¯rx\n\nchmod 644 aa aaæä»¶çå±ä¸»æéæ¯rwï¼å±ç»åå¶ä»äººæ¯r\n\n\n# å±ä¸»åå±ç»å½ä»¤chown\n\nå½ä»¤åç§°ï¼chown\n\nå½ä»¤è±æåæï¼change file ownership\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/chown\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼ä¿®æ¹æä»¶çå±ä¸»æå±ç»\n\nchown ç¨æ·å æä»¶å æ¹åæä»¶å±ä¸»\n\nchown user1 aa user1å¿é¡»å­å¨\n\nchown user1:user1 aa æ¹åå±ä¸»åæ¶æ¹åå±ç»\n\n\n# ç¨æ·æä½\n\nuseradd ç¨æ·å åè½æè¿°ï¼æ·»å ç¨æ·\n\npasswd ç¨æ·å åè½æè¿°ï¼è®¾å®ç¨æ·å¯ç \n\n\n\n\n\n\n# å¸®å©å½ä»¤\n\n\n# man\n\nå½ä»¤åï¼man\n\nå½ä»¤è±æåæï¼manual\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/man\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥çå½ä»¤çå¸®å©\n\n\n# --help\n\nå½ä»¤åï¼--help\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥çå½ä»¤çå¸®å©\n\n\n\n\n\n\n# æ¥æ¾å½ä»¤\n\n\n# whereis\n\nå½ä»¤åï¼whereis\n\nå½ä»¤åç§°ï¼whereis\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/whereis\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥æ¾å½ä»¤çå½ä»¤ï¼åæ¶çå°å¸®å©ææ¡£ä½ç½®\n\n\n# find\n\nå½ä»¤åç§°ï¼find\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/find\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æç´¢å½ä»¤\n\nfind æ¥æ¾ä½ç½® -name æä»¶å\n\nfind / -name aabbcc æ¥æ¾/ç®å½ä¸åä¸º aabbccçæä»¶\n\næ´å¤éé¡¹ï¼\n\n-name æä»¶å æç§æä»¶åæ¥æ¾\n\n-user ç¨æ·å æç§å±ä¸»ç¨æ·åæ¥æ¾æä»¶\n\n-group ç»å æç§å±ç»ç»åæ¥æ¾æä»¶\n\n-nouser æ¾æ²¡æå±ä¸»çæä»¶ (é¤äºè¿ä¸ä¸ªæä»¶ï¼/procã/sysã/mnt/cdrom)\n\n-size æç§æä»¶å¤§å°k M å¦ï¼find / -size +50k\n\n-type æç§æä»¶ç±»åæ¥æ¾(f=æ®é d=ç®å½ l=é¾æ¥)\n\n-perm æç§æéæ¥æ¾ å¦ï¼find /root -perm 644\n\n-iname æç§æä»¶åæ¥æ¾ï¼ä¸åºåå¤§å°å\n\n\n# grep\n\nå½ä»¤åç§°ï¼grep\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/grep\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥æ¾ç¬¦åæ¡ä»¶çå­ä¸²\n\ngrep éé¡¹ 'å­ä¸²' æ¥æ¾è·¯å¾\n\ngrep -i \"root\" /etc/passwd\n\n-v ååéæ©\n\n-i å¿½ç¥å¤§å°å\n\nç®¡éç¬¦ |\n\nå½ä»¤1 | å½ä»¤2 å½ä»¤1çæ§è¡ç»æï¼ä½ä¸ºå½ä»¤2çæ§è¡æ¡ä»¶\n\ncat æä»¶å | grep 'å­ä¸²' æåå«æå­ç¬¦ä¸²çè¡\n\nls -l /etc | more åå±æ¾ç¤ºlsåå®¹\n\n\n\n\n\n\n# åç¼©åè§£åç¼©\n\n\n# â¤linuxå¯ä»¥è¯å«çå¸¸è§åç¼©æ ¼å¼ï¼.gz .bz2\n\n\n# â¤å¸¸è§çåç¼©åæåå½ä»¤ï¼.tar.gz .tar.bz2\n\n\n# â¤åç¼©/è§£å åæ¶æå\n\ntar -zcvf åç¼©æä»¶å æºæä»¶\n\ntar -zcvf aa.tar.gz aa\n\n-z è¯å«.gzæ ¼å¼\n\n-c åç¼©\n\n-v æ¾ç¤ºåç¼©è¿ç¨\n\n-f æå®åç¼©åå\n\ntar -zxvf åç¼©æä»¶å è§£åç¼©åæ¶è§£æå\n\ntar -jcvf åç¼©æä»¶å æºæä»¶ åç¼©åæ¶æå\n\ntar -jcvf aa.tar.bz2 aa\n\ntar -jxvf aa.tar.bz2 è§£æååæ¶è§£åç¼©\n\næ¥çä¸è§£å\n\ntar -ztvf aa.tar.gz æ¥çä¸è§£å\n\ntar -jtvf aa.tar.bz2\n\n-t åªæ¥çï¼ä¸è§£å\n\ntar -jxvf root.tar.bz2 -C /tmp/ æå®è§£åç¼©ä½ç½®\n\n\n\n\n\n\n# å³æºåéå¯å½ä»¤\n\n\n# shutdown\n\nå½ä»¤åç§°ï¼shutdown\n\nå½ä»¤æå¨è·¯å¾ï¼/sbin/shutdown\n\næ§è¡æéï¼root\n\nåè½æè¿°ï¼å³æº/éå¯\n\nshutdown -h now æ²¡æç¹æ®æåµï¼ä½¿ç¨æ­¤å½ä»¤\n\n-h å³æº\n\n-r éå¯\n\n\n# reboot\n\nå½ä»¤åç§°ï¼reboot\n\nå½ä»¤æå¨è·¯å¾ï¼/sbin/reboot\n\næ§è¡æéï¼root\n\nåè½æè¿°ï¼å³æº/éå¯æè½½\n\næè½½å½ä»¤\n\n\n# mount\n\nå½ä»¤åç§°ï¼mount\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/mount\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æè½½\n\nlinuxææå­å¨è®¾å¤é½å¿é¡»æè½½ä½¿ç¨ï¼åæ¬ç¡¬ç\n\n\n# åçæè½½\n\n/dev/sda1 ç¬¬ä¸ä¸ªscsiç¡¬ççç¬¬ä¸ååº\n\n/dev/cdrom åç\n\n/dev/hdc IDEç¡¬ç centos 5.5\n\n/dev/sr0 åç centos 6.x\n\nmount -t æä»¶ç³»ç» è®¾å¤æè¿°æä»¶ æè½½ç¹ï¼å·²ç»å­å¨ç©ºç®å½ï¼\n\nmount -t iso9660 /dev/cdrom /mnt/cdrom\n\n\n# åçå¸è½½\n\numount /dev/cdrom\n\numount /mnt/cdrom æ³¨æï¼éåºæè½½ç®å½ï¼æè½å¸è½½\n\nfdisk -l æ¥çè®¾å¤å\n\nmount -t vfat /dev/sdb1 /mnt/usb\n\n\n\n\n\n\n# ç½ç»å½ä»¤\n\n\n# ping\n\nå½ä»¤åç§°ï¼ping\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/ping\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æµè¯ç½ç»çéæ§\n\nping -c æ¬¡æ° ip æ¢æµç½ç»éç\n\n\n# ifconfig\n\nå½ä»¤åç§°ï¼ifconfig\n\nå½ä»¤è±æåæï¼interface configure\n\nå½ä»¤æå¨è·¯å¾ï¼/sbin/ifconfig\n\næ§è¡æéï¼root\n\nåè½æè¿°ï¼æ¥è¯¢æ¬æºç½ç»ä¿¡æ¯",normalizedContent:"# ls\n\nå½ä»¤åç§°ï¼ls\n\nå½ä»¤è±æåæï¼list\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/ls\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¾ç¤ºç®å½æä»¶\n\nls (æ¾ç¤ºå½åç®å½ä¸æä»¶)\n\nls ç®å½å (æ¾ç¤ºæå®ç®å½ä¸æä»¶)\n\nls -l (é¿æ ¼å¼æ¾ç¤ºç®å½æä»¶)\n\nls -l æä»¶å (é¿æ ¼å¼æ¾ç¤ºæå®æä»¶)\n\nls -a (æ¾ç¤ºæææä»¶(åå«éèæä»¶))\n\nls -al (é¿æ ¼å¼æ¾ç¤ºå½åç®å½ä¸æææä»¶)\n\nls -h (æä»¶å¤§å°æ¾ç¤ºä¸ºå¸¸è§å¤§å°åä½ b kb mb ...)\n\nls -d (æ¾ç¤ºç®å½æ¬èº«ï¼èä¸æ¯éé¢çå­æä»¶)\n\n\n# é¿æ ¼å¼æ¾ç¤ºé¡¹\n\n-rw------- 1 root root 1190 08-10 23:37 anaconda-ks.cfg\n\nâ  â¡ â¢ â£ â¤ â¥ â¦\n\nç¬¬â é¡¹ï¼æéä½\n\nç¬¬â¡é¡¹ï¼å¼ç¨è®¡æ°\n\nç¬¬â¢é¡¹ï¼å±ä¸»ï¼ææèï¼\n\nç¬¬â£é¡¹ï¼å±ç»\n\nç¬¬â¤é¡¹ï¼å¤§å°\n\nç¬¬â¥é¡¹ï¼æåä¸æ¬¡ä¿®æ¹æ¶é´\n\nç¬¬â¦é¡¹ï¼æä»¶å\n\n\n# cd\n\nå½ä»¤åç§°ï¼cd\n\nå½ä»¤è±æåæï¼change directory\n\nå½ä»¤æå¨è·¯å¾ï¼shellåç½®å½ä»¤\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼åæ¢æå¨ç®å½\n\ncd /usr/local/src åæ¢å°æå®è·¯å¾(ä½¿ç¨ç»å¯¹è·¯å¾æ¹å¼)\n\ncd ~ è¿å¥å½åç¨æ·çå®¶ç®å½\n\ncd - è¿å¥ä¸æ¬¡ç®å½\n\ncd .. è¿å¥ä¸ä¸çº§ç®å½\n\ncd . è¿å¥å½åç®å½\n\nç»å¯¹è·¯å¾ï¼cd ../usr/local åç§å½åæå¨ç®å½ï¼è¿è¡æ¥æ¾ãä¸å®è¦åç¡®å®å½åæå¨ç®å½ã ç¸å¯¹è·¯å¾ï¼cd /usr/local ä»æ ¹ç®å½å¼å§æå®ï¼ä¸çº§ä¸çº§éå½æ¥æ¾ãå¨ä»»ä½ç®å½ä¸ï¼é½è½è¿å¥æå®ä½ç½®ã\n\n\n# pwd\n\nå½ä»¤åç§°ï¼pwd\n\nå½ä»¤è±æåæï¼print working directory\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/pwd\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¾ç¤ºå½åæå¨ç®å½(å½åå·¥ä½ç®å½)\n\n\n# linux å¸¸è§ç®å½\n\n/ æ ¹ç®å½\n\n/bin å½ä»¤ä¿å­ç®å½ï¼æ®éç¨æ·å°±å¯ä»¥è¯»åçå½ä»¤ï¼\n\n/boot å¯å¨ç®å½ï¼å¯å¨ç¸å³æä»¶\n\n/dev è®¾å¤æä»¶ä¿å­ç®å½\n\n/etc éç½®æä»¶ä¿å­ç®å½\n\n/home æ®éç¨æ·çå®¶ç®å½\n\n/lib ç³»ç»åºä¿å­ç®å½\n\n/mnt ç³»ç»æè½½ç®å½\n\n/media æè½½ç®å½\n\n/root è¶çº§ç¨æ·çå®¶ç®å½\n\n/tmp ä¸´æ¶ç®å½\n\n/sbin å½ä»¤ä¿å­ç®å½ï¼è¶çº§ç¨æ·æè½ä½¿ç¨çç®å½ï¼\n\n/proc ç´æ¥åå¥åå­ç\n\n/sys å°åæ ¸çä¸äºä¿¡æ¯æ å°ï¼å¯ä¾åºç¨ç¨åºæç¨\n\n/usr ç³»ç»è½¯ä»¶èµæºç®å½\n\n/usr/bin/ ç³»ç»å½ä»¤ï¼æ®éç¨æ·ï¼\n\n/usr/sbin/ ç³»ç»å½ä»¤ï¼è¶çº§ç¨æ·ï¼\n\n/var ç³»ç»ç¸å³ææ¡£åå®¹\n\n/var/log/ ç³»ç»æ¥å¿ä½ç½®\n\n/var/spool/mail/ ç³»ç»é»è®¤é®ç®±ä½ç½®\n\n/var/lib/ é»è®¤å®è£çåºæä»¶ç®å½\n\n\n# mkdir\n\nå½ä»¤åç§°ï¼mkdir\n\nå½ä»¤è±æåæï¼make directories\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/mkdir\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å»ºç«ç®å½\n\nmkdir test åå»ºåä¸ºtestçç®å½\n\nmkdir -p test1/test2/test3 éå½åå»º\n\n\n# rmdir\n\nå½ä»¤åç§°ï¼rmdir\n\nå½ä»¤è±æåæï¼remove empty directories\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/rmdir\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å é¤ç®å½ (åªè½å é¤ç©ºç®å½)\n\n![](/assets/å±å¹å¿«ç§ 2017-07-19 ä¸å11.05.47.png)\n\n\n\n\n\n\n# æä»¶æä½å½ä»¤\n\n\n# # touch\n\nå½ä»¤åç§°ï¼touch\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/touch\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼åå»ºç©ºæä»¶ æ ä¿®æ¹æä»¶æ¶é´\n\ntouch test.py åå»ºç©ºæä»¶ï¼å¦ææä»¶å­å¨ï¼åä¿®æ¹æä»¶åå»ºæ¶é´\n\n\n# rm\n\nå½ä»¤åç§°ï¼rm\n\nå½ä»¤è±æåæï¼remove\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/rm\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å é¤\n\nrm æä»¶å å é¤æä»¶\n\nrm -r ç®å½å éå½å é¤æä»¶åç®å½\n\nrm -f æä»¶å å¼ºå¶å é¤\n\nrm -rf ç®å½å å¼ºå¶å é¤ç®å½åæä»¶\n\n\n# cat\n\nå½ä»¤åç§°ï¼cat\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/cat\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥çæä»¶åå®¹ï¼ä»å¤´å°å°¾çåå®¹ã\n\ncat æä»¶å æ¥çæä»¶åå®¹åå®¹\n\ncat -n æä»¶å æ¥çæä»¶åå®¹ï¼å¹¶ååºè¡å·\n\n\n# more\n\nå½ä»¤åç§°ï¼more\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/more\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼åå±æ¾ç¤ºæä»¶åå®¹\n\nmore æä»¶å åå±æ¾ç¤ºæä»¶åå®¹\n\nåä¸ç¿»é¡µ ç©ºæ ¼é®\n\nåä¸ç¿»é¡µ bé®\n\néåºæ¥ç qé®\n\n\n# head\n\nå½ä»¤åç§°ï¼head\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/head\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¾ç¤ºæä»¶å¤´\n\nhead æä»¶å æ¾ç¤ºæä»¶å¤´å è¡(é»è®¤æ¾ç¤º10è¡)\n\nhead -n 20 æä»¶å æ¾ç¤ºæä»¶å20è¡\n\nhead -n -20 æä»¶å æ¾ç¤ºæä»¶æå20è¡\n\nctrl + c å¼ºå¶ç»æ­¢æ¥çæ¨¡å¼\n\nctrl + l æ¸å±\n\n\n# ln\n\nå½ä»¤åç§°ï¼ln\n\nå½ä»¤è±æåæï¼link\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/ln\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼é¾æ¥æä»¶\n\nç­åäºwindowsä¸­çå¿«æ·æ¹å¼\n\næ°å»ºçé¾æ¥ï¼å ç¨ä¸åçç¡¬çä½ç½®\n\nä¿®æ¹ä¸ä¸ªæä»¶ï¼ä¸¤è¾¹é½ä¼æ¹å\n\nå é¤æºæä»¶ï¼è½¯è¿æ¥æä»¶æä¸å¼\n\nln -s æºæä»¶ ç®æ æä»¶ åå»ºé¾æ¥æä»¶(æä»¶åé½å¿é¡»åç»å¯¹è·¯å¾)\n\n\n\n\n\n\n# æä»¶åç®å½é½è½æä½çå½ä»¤\n\n\n# rm\n\nå é¤æä»¶æç®å½\n\n\n# cp\n\nå½ä»¤åç§°ï¼cp\n\nå½ä»¤è±æåæï¼copy\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/cp\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼å¤å¶æä»¶æç®å½\n\ncp æºæä»¶ ç®æ ä½ç½® (å¤å¶)\n\næ\n\ncp æºæä»¶ ç®æ ä½ç½®/ç®æ åç§° (å¤å¶å¹¶æ¹å)\n\ncp -r å¤å¶ç®å½\n\ncp -p è¿å¸¦æä»¶å±æ§ä¸èµ·å¤å¶\n\ncp -d è¥æºæä»¶æ¯é¾æ¥æä»¶ï¼åå¤å¶é¾æ¥å±æ§\n\ncp -a ç¸å½äº cp -pdr\n\n\n# mv\n\nå½ä»¤åç§°ï¼mv\n\nå½ä»¤è±æåæï¼move\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/mv\n\næ§è¡æéï¼ææç¨æ·\n\n\n# mv æºæä»¶ ç®æ ä½ç½®\n\nmv /root/test /tmp/ å°/root/ä¸çtestæä»¶ç§»å¨å°/tmp/ç®å½ä¸\n\nmv /root/test /root/newtest å°/root/ä¸çtestæä»¶æ¹åä¸ºnewtest\n\n\n# æéç®¡ç\n\n\n# â¤æéä½\n\n-rw-r--r--. 1 root root 44736 7æ 18 00:38 install.log\n\n\n# â¤æéä½æ¯åä½\n\nç¬¬ä¸ä½ï¼ä»£è¡¨æä»¶ç±»å\n\n- æ®éæä»¶\n\nd ç®å½æä»¶\n\nl é¾æ¥æä»¶\n\nå¶ä»ä¹ä½ï¼ä»£è¡¨åç¨æ·çæé\n\n(åä¸ä½=å±ä¸»æéu ä¸­é´ä¸ä½=å±ç»æég å¶ä»äººæéo)\n\nr è¯» 4\n\nw å 2\n\nx æ§è¡ 1\n\n\n# â¤æéæä¹\n\nâ¦æéå¯¹æä»¶çå«ä¹ï¼\n\nrï¼è¯»åæä»¶åå®¹ å¦ï¼catãmoreãheadãtail\n\nwï¼ç¼è¾ãæ°å¢ãä¿®æ¹æä»¶åå®¹ å¦ï¼viãecho ä½æ¯ä¸åå«å é¤æä»¶\n\nxï¼å¯æ§è¡ /tmp/11/22/abc ---------\n\nâ¦æéå¯¹ç®å½çå«ä¹ï¼\n\nrï¼å¯ä»¥æ¥è¯¢ç®å½ä¸æä»¶å å¦ï¼ls\n\nwï¼å·æä¿®æ¹ç®å½ç»æçæé å¦ï¼touchãrmãmvãcp\n\nxï¼å¯ä»¥è¿å¥ç®å½ å¦ï¼cd\n\n\n# chmod\n\nå½ä»¤åç§°ï¼chmod\n\nå½ä»¤è±æåæï¼change the permissions mode of a file\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/chmod\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼ä¿®æ¹æé\n\nchmod u+x aa aaæä»¶çå±ä¸»å ä¸æ§è¡æé\n\nchmod u-x aa aaæä»¶çå±ä¸»åå»æ§è¡æé\n\nchmod g+w,o+w aa aaæä»¶çå±ç»åå¶ä»äººå ä¸åæé\n\nchmod u=rwx aa aaæä»¶çç¨æ·æéæ¹ä¸ºæææé(è¯»+å+æ§è¡)\n\nå¦ä¸ç§è¡¨ç°æ¹å¼ï¼\n\nchmod 755 aa aaæä»¶çå±ä¸»æéæ¯rwxï¼å±ç»åå¶ä»äººæ¯rx\n\nchmod 644 aa aaæä»¶çå±ä¸»æéæ¯rwï¼å±ç»åå¶ä»äººæ¯r\n\n\n# å±ä¸»åå±ç»å½ä»¤chown\n\nå½ä»¤åç§°ï¼chown\n\nå½ä»¤è±æåæï¼change file ownership\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/chown\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼ä¿®æ¹æä»¶çå±ä¸»æå±ç»\n\nchown ç¨æ·å æä»¶å æ¹åæä»¶å±ä¸»\n\nchown user1 aa user1å¿é¡»å­å¨\n\nchown user1:user1 aa æ¹åå±ä¸»åæ¶æ¹åå±ç»\n\n\n# ç¨æ·æä½\n\nuseradd ç¨æ·å åè½æè¿°ï¼æ·»å ç¨æ·\n\npasswd ç¨æ·å åè½æè¿°ï¼è®¾å®ç¨æ·å¯ç \n\n\n\n\n\n\n# å¸®å©å½ä»¤\n\n\n# man\n\nå½ä»¤åï¼man\n\nå½ä»¤è±æåæï¼manual\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/man\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥çå½ä»¤çå¸®å©\n\n\n# --help\n\nå½ä»¤åï¼--help\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥çå½ä»¤çå¸®å©\n\n\n\n\n\n\n# æ¥æ¾å½ä»¤\n\n\n# whereis\n\nå½ä»¤åï¼whereis\n\nå½ä»¤åç§°ï¼whereis\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/whereis\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥æ¾å½ä»¤çå½ä»¤ï¼åæ¶çå°å¸®å©ææ¡£ä½ç½®\n\n\n# find\n\nå½ä»¤åç§°ï¼find\n\nå½ä»¤æå¨è·¯å¾ï¼/usr/bin/find\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æç´¢å½ä»¤\n\nfind æ¥æ¾ä½ç½® -name æä»¶å\n\nfind / -name aabbcc æ¥æ¾/ç®å½ä¸åä¸º aabbccçæä»¶\n\næ´å¤éé¡¹ï¼\n\n-name æä»¶å æç§æä»¶åæ¥æ¾\n\n-user ç¨æ·å æç§å±ä¸»ç¨æ·åæ¥æ¾æä»¶\n\n-group ç»å æç§å±ç»ç»åæ¥æ¾æä»¶\n\n-nouser æ¾æ²¡æå±ä¸»çæä»¶ (é¤äºè¿ä¸ä¸ªæä»¶ï¼/procã/sysã/mnt/cdrom)\n\n-size æç§æä»¶å¤§å°k m å¦ï¼find / -size +50k\n\n-type æç§æä»¶ç±»åæ¥æ¾(f=æ®é d=ç®å½ l=é¾æ¥)\n\n-perm æç§æéæ¥æ¾ å¦ï¼find /root -perm 644\n\n-iname æç§æä»¶åæ¥æ¾ï¼ä¸åºåå¤§å°å\n\n\n# grep\n\nå½ä»¤åç§°ï¼grep\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/grep\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æ¥æ¾ç¬¦åæ¡ä»¶çå­ä¸²\n\ngrep éé¡¹ 'å­ä¸²' æ¥æ¾è·¯å¾\n\ngrep -i \"root\" /etc/passwd\n\n-v ååéæ©\n\n-i å¿½ç¥å¤§å°å\n\nç®¡éç¬¦ |\n\nå½ä»¤1 | å½ä»¤2 å½ä»¤1çæ§è¡ç»æï¼ä½ä¸ºå½ä»¤2çæ§è¡æ¡ä»¶\n\ncat æä»¶å | grep 'å­ä¸²' æåå«æå­ç¬¦ä¸²çè¡\n\nls -l /etc | more åå±æ¾ç¤ºlsåå®¹\n\n\n\n\n\n\n# åç¼©åè§£åç¼©\n\n\n# â¤linuxå¯ä»¥è¯å«çå¸¸è§åç¼©æ ¼å¼ï¼.gz .bz2\n\n\n# â¤å¸¸è§çåç¼©åæåå½ä»¤ï¼.tar.gz .tar.bz2\n\n\n# â¤åç¼©/è§£å åæ¶æå\n\ntar -zcvf åç¼©æä»¶å æºæä»¶\n\ntar -zcvf aa.tar.gz aa\n\n-z è¯å«.gzæ ¼å¼\n\n-c åç¼©\n\n-v æ¾ç¤ºåç¼©è¿ç¨\n\n-f æå®åç¼©åå\n\ntar -zxvf åç¼©æä»¶å è§£åç¼©åæ¶è§£æå\n\ntar -jcvf åç¼©æä»¶å æºæä»¶ åç¼©åæ¶æå\n\ntar -jcvf aa.tar.bz2 aa\n\ntar -jxvf aa.tar.bz2 è§£æååæ¶è§£åç¼©\n\næ¥çä¸è§£å\n\ntar -ztvf aa.tar.gz æ¥çä¸è§£å\n\ntar -jtvf aa.tar.bz2\n\n-t åªæ¥çï¼ä¸è§£å\n\ntar -jxvf root.tar.bz2 -c /tmp/ æå®è§£åç¼©ä½ç½®\n\n\n\n\n\n\n# å³æºåéå¯å½ä»¤\n\n\n# shutdown\n\nå½ä»¤åç§°ï¼shutdown\n\nå½ä»¤æå¨è·¯å¾ï¼/sbin/shutdown\n\næ§è¡æéï¼root\n\nåè½æè¿°ï¼å³æº/éå¯\n\nshutdown -h now æ²¡æç¹æ®æåµï¼ä½¿ç¨æ­¤å½ä»¤\n\n-h å³æº\n\n-r éå¯\n\n\n# reboot\n\nå½ä»¤åç§°ï¼reboot\n\nå½ä»¤æå¨è·¯å¾ï¼/sbin/reboot\n\næ§è¡æéï¼root\n\nåè½æè¿°ï¼å³æº/éå¯æè½½\n\næè½½å½ä»¤\n\n\n# mount\n\nå½ä»¤åç§°ï¼mount\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/mount\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æè½½\n\nlinuxææå­å¨è®¾å¤é½å¿é¡»æè½½ä½¿ç¨ï¼åæ¬ç¡¬ç\n\n\n# åçæè½½\n\n/dev/sda1 ç¬¬ä¸ä¸ªscsiç¡¬ççç¬¬ä¸ååº\n\n/dev/cdrom åç\n\n/dev/hdc ideç¡¬ç centos 5.5\n\n/dev/sr0 åç centos 6.x\n\nmount -t æä»¶ç³»ç» è®¾å¤æè¿°æä»¶ æè½½ç¹ï¼å·²ç»å­å¨ç©ºç®å½ï¼\n\nmount -t iso9660 /dev/cdrom /mnt/cdrom\n\n\n# åçå¸è½½\n\numount /dev/cdrom\n\numount /mnt/cdrom æ³¨æï¼éåºæè½½ç®å½ï¼æè½å¸è½½\n\nfdisk -l æ¥çè®¾å¤å\n\nmount -t vfat /dev/sdb1 /mnt/usb\n\n\n\n\n\n\n# ç½ç»å½ä»¤\n\n\n# ping\n\nå½ä»¤åç§°ï¼ping\n\nå½ä»¤æå¨è·¯å¾ï¼/bin/ping\n\næ§è¡æéï¼ææç¨æ·\n\nåè½æè¿°ï¼æµè¯ç½ç»çéæ§\n\nping -c æ¬¡æ° ip æ¢æµç½ç»éç\n\n\n# ifconfig\n\nå½ä»¤åç§°ï¼ifconfig\n\nå½ä»¤è±æåæï¼interface configure\n\nå½ä»¤æå¨è·¯å¾ï¼/sbin/ifconfig\n\næ§è¡æéï¼root\n\nåè½æè¿°ï¼æ¥è¯¢æ¬æºç½ç»ä¿¡æ¯",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"è¿ç¨éä¿¡ä¸­çç®¡éå®ç°åçæ¯ä»ä¹ï¼",frontmatter:{title:"è¿ç¨éä¿¡ä¸­çç®¡éå®ç°åçæ¯ä»ä¹ï¼",date:"2022-09-21T23:01:50.000Z",permalink:"/pages/8e880a/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/090.%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1%E4%B8%AD%E7%9A%84%E7%AE%A1%E9%81%93%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/090.è¿ç¨éä¿¡ä¸­çç®¡éå®ç°åçæ¯ä»ä¹ï¼.md",key:"v-303058be",path:"/pages/8e880a/",headers:[{level:2,title:"ä¸ãç®¡éçä½¿ç¨",slug:"ä¸ãç®¡éçä½¿ç¨",normalizedTitle:"ä¸ãç®¡éçä½¿ç¨",charIndex:397},{level:2,title:"äºãç®¡éçå®ç°",slug:"äºãç®¡éçå®ç°",normalizedTitle:"äºãç®¡éçå®ç°",charIndex:1632},{level:3,title:"1. ç¯å½¢ç¼å²åºï¼Ring Bufferï¼",slug:"_1-ç¯å½¢ç¼å²åº-ring-buffer",normalizedTitle:"1. ç¯å½¢ç¼å²åºï¼ring bufferï¼",charIndex:1759},{level:3,title:"2. ç®¡éå¯¹è±¡",slug:"_2-ç®¡éå¯¹è±¡",normalizedTitle:"2. ç®¡éå¯¹è±¡",charIndex:2094},{level:3,title:"3. è¯»æä½",slug:"_3-è¯»æä½",normalizedTitle:"3. è¯»æä½",charIndex:3362},{level:3,title:"4. åæä½",slug:"_4-åæä½",normalizedTitle:"4. åæä½",charIndex:5851},{level:2,title:"ä¸ãæèä¸ä¸",slug:"ä¸ãæèä¸ä¸",normalizedTitle:"ä¸ãæèä¸ä¸",charIndex:8687},{level:3,title:"1. ä¸ºä»ä¹ç¶å­è¿ç¨å¯ä»¥éè¿ç®¡éæ¥éä¿¡ï¼",slug:"_1-ä¸ºä»ä¹ç¶å­è¿ç¨å¯ä»¥éè¿ç®¡éæ¥éä¿¡",normalizedTitle:"1. ä¸ºä»ä¹ç¶å­è¿ç¨å¯ä»¥éè¿ç®¡éæ¥éä¿¡ï¼",charIndex:8730},{level:3,title:"2. ä¸ºä»ä¹åæ ¸è¦ä½¿ç¨ 16 ä¸ªåå­é¡µè¿è¡æ°æ®å­å¨ï¼",slug:"_2-ä¸ºä»ä¹åæ ¸è¦ä½¿ç¨-16-ä¸ªåå­é¡µè¿è¡æ°æ®å­å¨",normalizedTitle:"2. ä¸ºä»ä¹åæ ¸è¦ä½¿ç¨ 16 ä¸ªåå­é¡µè¿è¡æ°æ®å­å¨ï¼",charIndex:8854},{level:2,title:"å åè",slug:"å-åè",normalizedTitle:"å åè",charIndex:8992}],headersStr:"ä¸ãç®¡éçä½¿ç¨ äºãç®¡éçå®ç° 1. ç¯å½¢ç¼å²åºï¼Ring Bufferï¼ 2. ç®¡éå¯¹è±¡ 3. è¯»æä½ 4. åæä½ ä¸ãæèä¸ä¸ 1. ä¸ºä»ä¹ç¶å­è¿ç¨å¯ä»¥éè¿ç®¡éæ¥éä¿¡ï¼ 2. ä¸ºä»ä¹åæ ¸è¦ä½¿ç¨ 16 ä¸ªåå­é¡µè¿è¡æ°æ®å­å¨ï¼ å åè",content:'å¤äºå®å¨çèèï¼ä¸åè¿ç¨ä¹é´çåå­ç©ºé´æ¯ç¸äºéç¦»çï¼ä¹å°±æ¯è¯´ è¿ç¨A æ¯ä¸è½è®¿é® è¿ç¨B çåå­ç©ºé´ï¼åä¹äº¦ç¶ãå¦æä¸åè¿ç¨é´è½å¤ç¸äºè®¿é®åä¿®æ¹å¯¹æ¹çåå­ï¼é£ä¹å½åè¿ç¨çåå­å°±æå¯è½è¢«å¶ä»è¿ç¨éæ³ä¿®æ¹ï¼ä»èå¯¼è´å®å¨éæ£ã\n\nä¸åçè¿ç¨å°±åæ¯å¤§æµ·ä¸å­¤ç«çå²å±¿ï¼å®ä»¬ä¹é´ä¸è½ç´æ¥ç¸äºéä¿¡ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nä½æäºåºæ¯ä¸ï¼ä¸åè¿ç¨é´éè¦ç¸äºéä¿¡ï¼æ¯å¦ï¼è¿ç¨A è´è´£å¤çç¨æ·çè¯·æ±ï¼è è¿ç¨B è´è´£ä¿å­å¤çåçæ°æ®ãé£ä¹å½ è¿ç¨A å¤çå®è¯·æ±åï¼å°±éè¦æå¤çåçæ°æ®æäº¤ç» è¿ç¨B è¿è¡å­å¨ãæ­¤æ¶ï¼è¿ç¨A å°±éè¦ä¸ è¿ç¨B è¿è¡éä¿¡ãå¦ä¸å¾æç¤ºï¼\n\n\n\nç±äºä¸åè¿ç¨é´æ¯ç¸äºéç¦»çï¼æä»¥å¿é¡»åå©åæ ¸æ¥ä½ä¸ºæ¡¥æ¢æ¥è¿è¡ç¸äºéä¿¡ï¼åæ ¸ç¸å½äºå²å±¿ä¹é´çè½®è¹ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nåæ ¸æä¾å¤ç§è¿ç¨é´éä¿¡çæ¹å¼ï¼å¦ï¼å±äº«åå­ï¼ä¿¡å·ï¼æ¶æ¯éå å ç®¡éï¼pipeï¼ ç­ãæ¬æä¸»è¦ä»ç» ç®¡é çåçä¸å®ç°ã\n\n\n# ä¸ãç®¡éçä½¿ç¨\n\nç®¡é ä¸è¬ç¨äºç¶å­è¿ç¨ä¹é´ç¸äºéä¿¡ï¼ä¸è¬çç¨æ³å¦ä¸ï¼\n\n * ç¶è¿ç¨ä½¿ç¨ pipe ç³»ç»è°ç¨åå»ºä¸ä¸ªç®¡éã\n * ç¶åç¶è¿ç¨ä½¿ç¨ fork ç³»ç»è°ç¨åå»ºä¸ä¸ªå­è¿ç¨ã\n * ç±äºå­è¿ç¨ä¼ç»§æ¿ç¶è¿ç¨æå¼çæä»¶å¥æï¼æä»¥ç¶å­è¿ç¨å¯ä»¥éè¿æ°åå»ºçç®¡éè¿è¡éä¿¡ã\n\nå¶åçå¦ä¸å¾æç¤ºï¼\n\n\n\nç±äºç®¡éåä¸ºè¯»ç«¯ååç«¯ï¼æä»¥éè¦ä¸¤ä¸ªæä»¶æè¿°ç¬¦æ¥ç®¡çç®¡éï¼fd[0] ä¸ºè¯»ç«¯ï¼fd[1] ä¸ºåç«¯ã\n\nä¸é¢ä»£ç ä»ç»äºæä¹ä½¿ç¨ pipe ç³»ç»è°ç¨æ¥åå»ºä¸ä¸ªç®¡éï¼\n\n#include <stdio.h>\n#include <unistd.h>\n#include <sys/types.h>\n#include <stdlib.h>\n#include <string.h>\n\nint main()\n{\n    int ret = -1;\n    int fd[2];  // ç¨äºç®¡çç®¡éçæä»¶æè¿°ç¬¦\n    pid_t pid;\n    char buf[512] = {0};\n    char *msg = "hello world";\n\n    // åå»ºä¸ä¸ªç®¡ç\n    ret = pipe(fd);\n    if (-1 == ret) {\n        printf("failed to create pipe\\n");\n        return -1;\n    }\n  \n    pid = fork();     // åå»ºå­è¿ç¨\n\n    if (0 == pid) {   // å­è¿ç¨\n        close(fd[0]); // å³é­ç®¡éçè¯»ç«¯\n        ret = write(fd[1], msg, strlen(msg)); // åç®¡éåç«¯åå¥æ°æ®\n        exit(0);\n    } else {          // ç¶è¿ç¨\n        close(fd[1]); // å³é­ç®¡éçåç«¯\n        ret = read(fd[0], buf, sizeof(buf)); // ä»ç®¡éçè¯»ç«¯è¯»åæ°æ®\n        printf("parent read %d bytes data: %s\\n", ret, buf);\n    }\n\n    return 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nå¤å¶\n\nç¼è¯ä»£ç ï¼\n\n[root@localhost pipe]# gcc -g pipe.c -o pipe\n\n\n1\n\n\nå¤å¶\n\nè¿è¡ä»£ç ï¼è¾åºç»æå¦ä¸ï¼\n\n[root@localhost pipe]# ./pipe\nparent read 11 bytes data: hello world\n\n\n1\n2\n\n\nå¤å¶\n\n\n# äºãç®¡éçå®ç°\n\næ¯ä¸ªè¿ç¨çç¨æ·ç©ºé´é½æ¯ç¬ç«çï¼ä½åæ ¸ç©ºé´å´æ¯å±ç¨çãæä»¥ï¼è¿ç¨é´éä¿¡å¿é¡»ç±åæ ¸æä¾æå¡ãåé¢ä»ç»äº ç®¡é(pipe) çä½¿ç¨ï¼æ¥ä¸æ¥å°ä¼ä»ç»ç®¡éå¨åæ ¸ä¸­çå®ç°æ¹å¼ã\n\n> æ¬æä½¿ç¨ Linux-2.6.23 åæ ¸ä½ä¸ºåæå¯¹è±¡ã\n\n\n# 1. ç¯å½¢ç¼å²åºï¼Ring Bufferï¼\n\nå¨åæ ¸ä¸­ï¼ç®¡é ä½¿ç¨äºç¯å½¢ç¼å²åºæ¥å­å¨æ°æ®ãç¯å½¢ç¼å²åºçåçæ¯ï¼æä¸ä¸ªç¼å²åºå½ææ¯é¦å°¾ç¸è¿çç¯ï¼å¶ä¸­éè¿è¯»æéååæéæ¥è®°å½è¯»æä½ååæä½ä½ç½®ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå¨ Linux åæ ¸ä¸­ï¼ä½¿ç¨äº 16 ä¸ªåå­é¡µä½ä¸ºç¯å½¢ç¼å²åºï¼æä»¥è¿ä¸ªç¯å½¢ç¼å²åºçå¤§å°ä¸º 64KBï¼16 * 4KBï¼ã\n\nå½åç®¡éåæ°æ®æ¶ï¼ä»åæéæåçä½ç½®å¼å§åå¥ï¼å¹¶ä¸å°åæéååç§»å¨ãèä»ç®¡éè¯»åæ°æ®æ¶ï¼ä»è¯»æéå¼å§è¯»å¥ï¼å¹¶ä¸å°è¯»æéååç§»å¨ãå½å¯¹æ²¡ææ°æ®å¯è¯»çç®¡éè¿è¡è¯»æä½ï¼å°ä¼é»å¡å½åè¿ç¨ãèå¯¹æ²¡æç©ºé²ç©ºé´çç®¡éè¿è¡åæä½ï¼ä¹ä¼é»å¡å½åè¿ç¨ã\n\n> æ³¨æï¼å¯ä»¥å°ç®¡éæä»¶æè¿°ç¬¦è®¾ç½®ä¸ºéé»å¡ï¼è¿æ ·å¯¹ç®¡éè¿è¡è¯»åæä½æ¶ï¼å°±ä¸ä¼é»å¡å½åè¿ç¨ã\n\n\n# 2. ç®¡éå¯¹è±¡\n\nå¨ Linux åæ ¸ä¸­ï¼ç®¡éä½¿ç¨ pipe_inode_info å¯¹è±¡æ¥è¿è¡ç®¡çãæä»¬åæ¥çç pipe_inode_info å¯¹è±¡çå®ä¹ï¼å¦ä¸æç¤ºï¼\n\nstruct pipe_inode_info {\n    wait_queue_head_t wait;\n    unsigned int nrbufs,\n    unsigned int curbuf;\n    ...\n    unsigned int readers;\n    unsigned int writers;\n    unsigned int waiting_writers;\n    ...\n    struct inode *inode;\n    struct pipe_buffer bufs[16];\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¤å¶\n\nä¸é¢ä»ç»ä¸ä¸ pipe_inode_info å¯¹è±¡åä¸ªå­æ®µçä½ç¨ï¼\n\n * waitï¼ç­å¾éåï¼ç¨äºå­å¨æ­£å¨ç­å¾ç®¡éå¯è¯»æèå¯åçè¿ç¨ã\n * bufsï¼ç¯å½¢ç¼å²åºï¼ç± 16 ä¸ª pipe_buffer å¯¹è±¡ç»æï¼æ¯ä¸ª pipe_buffer å¯¹è±¡æ¥æä¸ä¸ªåå­é¡µ ï¼åé¢ä¼ä»ç»ã\n * nrbufsï¼è¡¨ç¤ºæªè¯»æ°æ®å·²ç»å ç¨äºç¯å½¢ç¼å²åºçå¤å°ä¸ªåå­é¡µã\n * curbufï¼è¡¨ç¤ºå½åæ­£å¨è¯»åç¯å½¢ç¼å²åºçåªä¸ªåå­é¡µä¸­çæ°æ®ã\n * readersï¼è¡¨ç¤ºæ­£å¨è¯»åç®¡éçè¿ç¨æ°ã\n * writersï¼è¡¨ç¤ºæ­£å¨åå¥ç®¡éçè¿ç¨æ°ã\n * waiting_writersï¼è¡¨ç¤ºç­å¾ç®¡éå¯åçè¿ç¨æ°ã\n * inodeï¼ä¸ç®¡éå³èç inode å¯¹è±¡ã\n\nç±äºç¯å½¢ç¼å²åºæ¯ç± 16 ä¸ª pipe_buffer å¯¹è±¡ç»æï¼æä»¥ä¸é¢æä»¬æ¥çç pipe_buffer å¯¹è±¡çå®ä¹ï¼\n\nstruct pipe_buffer {\n    struct page *page;\n    unsigned int offset;\n    unsigned int len;\n    ...\n};\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¤å¶\n\nä¸é¢ä»ç»ä¸ä¸ pipe_buffer å¯¹è±¡åä¸ªå­æ®µçä½ç¨ï¼\n\n * pageï¼æå pipe_buffer å¯¹è±¡å ç¨çåå­é¡µã\n * offsetï¼å¦æè¿ç¨æ­£å¨è¯»åå½ååå­é¡µçæ°æ®ï¼é£ä¹ offset æåæ­£å¨è¯»åå½ååå­é¡µçåç§»éã\n * lenï¼è¡¨ç¤ºå½ååå­é¡µæ¥ææªè¯»æ°æ®çé¿åº¦ã\n\nä¸å¾å±ç¤ºäº pipe_inode_info å¯¹è±¡ä¸ pipe_buffer å¯¹è±¡çå³ç³»ï¼\n\n\n\nç®¡éçç¯å½¢ç¼å²åºå®ç°æ¹å¼ä¸ç»å¸çç¯å½¢ç¼å²åºå®ç°æ¹å¼æç¹åºå«ï¼ç»å¸çç¯å½¢ç¼å²åºä¸è¬åç³è¯·ä¸åå°åè¿ç»­çåå­åï¼ç¶åéè¿è¯»æéä¸åæéæ¥å¯¹è¯»æä½ä¸åæä½è¿è¡å®ä½ã\n\nä½ä¸ºäºåå°å¯¹åå­çä½¿ç¨ï¼åæ ¸ä¸ä¼å¨åå»ºç®¡éæ¶å°±ç³è¯· 64K çåå­åï¼èæ¯å¨è¿ç¨åç®¡éåå¥æ°æ®æ¶ï¼æéæ¥ç³è¯·åå­ã\n\né£ä¹å½è¿ç¨ä»ç®¡éè¯»åæ°æ®æ¶ï¼åæ ¸æä¹å¤çå¢ï¼ä¸é¢æä»¬æ¥ççç®¡éè¯»æä½çå®ç°æ¹å¼ã\n\n\n# 3. è¯»æä½\n\nä» ç»å¸çç¯å½¢ç¼å²åº ä¸­è¯»åæ°æ®æ¶ï¼é¦åéè¿è¯»æéæ¥å®ä½å°è¯»åæ°æ®çèµ·å§å°åï¼ç¶åå¤æ­ç¯å½¢ç¼å²åºä¸­æ¯å¦ææ°æ®å¯è¯»ï¼å¦ææå°±ä»ç¯å½¢ç¼å²åºä¸­è¯»åæ°æ®å°ç¨æ·ç©ºé´çç¼å²åºä¸­ãå¦ä¸å¾æç¤ºï¼\n\n\n\nè ç®¡éçç¯å½¢ç¼å²åº ä¸ ç»å¸çç¯å½¢ç¼å²åº å®ç°ç¨æä¸åï¼ç®¡éçç¯å½¢ç¼å²åº å¶è¯»æéæ¯ç± pipe_inode_info å¯¹è±¡ç curbuf å­æ®µä¸ pipe_buffer å¯¹è±¡ç offset å­æ®µç»åèæï¼\n\n * pipe_inode_info å¯¹è±¡ç curbuf å­æ®µè¡¨ç¤ºè¯»æä½è¦ä» bufs æ°ç»çåªä¸ª pipe_buffer ä¸­è¯»åæ°æ®ã\n * pipe_buffer å¯¹è±¡ç offset å­æ®µè¡¨ç¤ºè¯»æä½è¦ä»åå­é¡µçåªä¸ªä½ç½®å¼å§è¯»åæ°æ®ã\n\nè¯»åæ°æ®çè¿ç¨å¦ä¸å¾æç¤ºï¼\n\n\n\nä»ç¼å²åºä¸­è¯»åå° n ä¸ªå­èçæ°æ®åï¼ä¼ç¸åºç§»å¨è¯»æé n ä¸ªå­èçä½ç½®ï¼ä¹å°±æ¯å¢å  pipe_buffer å¯¹è±¡ç offset å­æ®µï¼ï¼å¹¶ä¸åå° n ä¸ªå­èçå¯è¯»æ°æ®é¿åº¦ï¼ä¹å°±æ¯åå° pipe_buffer å¯¹è±¡ç len å­æ®µï¼ã\n\nå½ pipe_buffer å¯¹è±¡ç len å­æ®µåä¸º 0 æ¶ï¼è¡¨ç¤ºå½å pipe_buffer æ²¡æå¯è¯»æ°æ®ï¼é£ä¹å°ä¼å¯¹ pipe_inode_info å¯¹è±¡ç curbuf å­æ®µç§»å¨ä¸ä¸ªä½ç½®ï¼å¹¶ä¸å¶ nrbufs å­æ®µè¿è¡åä¸æä½ã\n\næä»¬æ¥ççç®¡éè¯»æä½çä»£ç å®ç°ï¼è¯»æä½ç± pipe_read å½æ°å®æãä¸ºäºçªåºéç¹ï¼æä»¬åªååºå³é®ä»£ç ï¼å¦ä¸æç¤ºï¼\n\nstatic ssize_t\npipe_read(struct kiocb *iocb, const struct iovec *_iov, unsigned long nr_segs,\n          loff_t pos)\n{\n    ...\n    struct pipe_inode_info *pipe;\n\n    // 1. è·åç®¡éå¯¹è±¡\n    pipe = inode->i_pipe;\n\n    for (;;) {\n        // 2. è·åç®¡éæªè¯»æ°æ®å æå¤å°ä¸ªåå­é¡µ\n        int bufs = pipe->nrbufs;\n\n        if (bufs) {\n            // 3. è·åè¯»æä½åºè¯¥ä»ç¯å½¢ç¼å²åºçåªä¸ªåå­é¡µå¤è¯»åæ°æ®\n            int curbuf = pipe->curbuf;  \n            struct pipe_buffer *buf = pipe->bufs + curbuf;\n            ...\n\n            /* 4. éè¿ pipe_buffer ç offset å­æ®µè·åçæ­£çè¯»æé,\n             *    å¹¶ä¸ä»ç®¡éä¸­è¯»åæ°æ®å°ç¨æ·ç¼å²åº.\n             */\n            error = pipe_iov_copy_to_user(iov, addr + buf->offset, chars, atomic);\n            ...\n\n            ret += chars;\n            buf->offset += chars; // å¢å  pipe_buffer å¯¹è±¡ç offset å­æ®µçå¼\n            buf->len -= chars;    // åå° pipe_buffer å¯¹è±¡ç len å­æ®µçå¼\n\n            /* 5. å¦æå½ååå­é¡µçæ°æ®å·²ç»è¢«è¯»åå®æ¯ */\n            if (!buf->len) {\n                ...\n                curbuf = (curbuf + 1) & (PIPE_BUFFERS - 1);\n                pipe->curbuf = curbuf; // ç§»å¨ pipe_inode_info å¯¹è±¡ç curbuf æé\n                pipe->nrbufs = --bufs; // åå° pipe_inode_info å¯¹è±¡ç nrbufs å­æ®µ\n                do_wakeup = 1;\n            }\n\n            total_len -= chars;\n\n            // 6. å¦æè¯»åå°ç¨æ·ææçæ°æ®é¿åº¦, éåºå¾ªç¯\n            if (!total_len)\n                break;\n        }\n        ...\n    }\n\n    ...\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\nå¤å¶\n\nä¸é¢ä»£ç æ»ç»æ¥è¯´åä¸ºä»¥ä¸æ­¥éª¤ï¼\n\n * éè¿æä»¶ inode å¯¹è±¡æ¥è·åå°ç®¡éç pipe_inode_info å¯¹è±¡ã\n * éè¿ pipe_inode_info å¯¹è±¡ç nrbufs å­æ®µè·åç®¡éæªè¯»æ°æ®å æå¤å°ä¸ªåå­é¡µã\n * éè¿ pipe_inode_info å¯¹è±¡ç curbuf å­æ®µè·åè¯»æä½åºè¯¥ä»ç¯å½¢ç¼å²åºçåªä¸ªåå­é¡µå¤è¯»åæ°æ®ã\n * éè¿ pipe_buffer å¯¹è±¡ç offset å­æ®µè·åçæ­£çè¯»æéï¼ å¹¶ä¸ä»ç®¡éä¸­è¯»åæ°æ®å°ç¨æ·ç¼å²åºã\n * å¦æå½ååå­é¡µçæ°æ®å·²ç»è¢«è¯»åå®æ¯ï¼é£ä¹ç§»å¨ pipe_inode_info å¯¹è±¡ç curbuf æéï¼å¹¶ä¸åå°å¶ nrbufs å­æ®µçå¼ã\n * å¦æè¯»åå°ç¨æ·ææçæ°æ®é¿åº¦ï¼éåºå¾ªç¯ã\n\n\n# 4. åæä½\n\nåæå®ç®¡éè¯»æä½çå®ç°åï¼æ¥ä¸æ¥ï¼æä»¬åæä¸ä¸ç®¡éåæä½çå®ç°ã\n\nç»å¸çç¯å½¢ç¼å²åº åå¥æ°æ®æ¶ï¼é¦åéè¿åæéè¿è¡å®ä½è¦åå¥çåå­å°åï¼ç¶åå¤æ­ç¯å½¢ç¼å²åºçç©ºé´æ¯å¦è¶³å¤ï¼è¶³å¤å°±ææ°æ®åå¥å°ç¯å½¢ç¼å²åºä¸­ãå¦ä¸å¾æç¤ºï¼\n\n\n\nä½ ç®¡éçç¯å½¢ç¼å²åº å¹¶æ²¡æä¿å­ åæéï¼èæ¯éè¿ è¯»æé è®¡ç®åºæ¥ãé£ä¹æä¹éè¿è¯»æéè®¡ç®åºåæéå¢ï¼\n\nå¶å®å¾ç®åï¼å°±æ¯ï¼\n\n> åæé = è¯»æé + æªè¯»æ°æ®é¿åº¦\n\nä¸é¢æä»¬æ¥ççï¼åç®¡éåå¥ 200 å­èæ°æ®çè¿ç¨ç¤ºæå¾ï¼å¦ä¸æç¤ºï¼\n\nå¦ä¸å¾æç¤ºï¼åç®¡éåå¥æ°æ®æ¶ï¼\n\n\n\n * é¦åéè¿ pipe_inode_info ç curbuf å­æ®µå nrbufs å­æ®µæ¥å®ä½å°ï¼åºè¯¥ååªä¸ª pipe_buffer åå¥æ°æ®ã\n * ç¶ååéè¿ pipe_buffer å¯¹è±¡ç offset å­æ®µå len å­æ®µæ¥å®ä½å°ï¼åºè¯¥åå¥å°åå­é¡µçåªä¸ªä½ç½®ã\n\nä¸é¢æä»¬éè¿æºç æ¥åæï¼åæä½æ¯æä¹å®ç°çï¼ä»£ç å¦ä¸ï¼ä¸ºäºç¹åºéç¹ï¼ä»£ç ææå åï¼ï¼\n\nstatic ssize_t\npipe_write(struct kiocb *iocb, const struct iovec *_iov, unsigned long nr_segs,\n           loff_t ppos)\n{\n    ...\n    struct pipe_inode_info *pipe;\n    ...\n    pipe = inode->i_pipe;\n    ...\n    chars = total_len & (PAGE_SIZE - 1); /* size of the last buffer */\n\n    // 1. å¦ææååå¥ç pipe_buffer è¿æç©ºé²çç©ºé´\n    if (pipe->nrbufs && chars != 0) {\n        // è·ååå¥æ°æ®çä½ç½®\n        int lastbuf = (pipe->curbuf + pipe->nrbufs - 1) & (PIPE_BUFFERS-1);\n        struct pipe_buffer *buf = pipe->bufs + lastbuf;\n        const struct pipe_buf_operations *ops = buf->ops;\n        int offset = buf->offset + buf->len;\n\n        if (ops->can_merge && offset + chars <= PAGE_SIZE) {\n            ...\n            error = pipe_iov_copy_from_user(offset + addr, iov, chars, atomic);\n            ...\n            buf->len += chars;\n            total_len -= chars;\n            ret = chars;\n\n            // å¦æè¦åå¥çæ°æ®å·²ç»å¨é¨åå¥æå, éåºå¾ªç¯\n            if (!total_len)\n                goto out;\n        }\n    }\n\n    // 2. å¦ææååå¥ç pipe_buffer ç©ºé²ç©ºé´ä¸è¶³, é£ä¹ç³è¯·ä¸ä¸ªæ°çåå­é¡µæ¥å­å¨æ°æ®\n    for (;;) {\n        int bufs;\n        ...\n        bufs = pipe->nrbufs;\n\n        if (bufs < PIPE_BUFFERS) {\n            int newbuf = (pipe->curbuf + bufs) & (PIPE_BUFFERS-1);\n            struct pipe_buffer *buf = pipe->bufs + newbuf;\n            ...\n\n            // ç³è¯·ä¸ä¸ªæ°çåå­é¡µ\n            if (!page) {\n                page = alloc_page(GFP_HIGHUSER);\n                ...\n            }\n            ...\n            error = pipe_iov_copy_from_user(src, iov, chars, atomic);\n            ...\n            ret += chars;\n\n            buf->page = page;\n            buf->ops = &anon_pipe_buf_ops;\n            buf->offset = 0;\n            buf->len = chars;\n\n            pipe->nrbufs = ++bufs;\n            pipe->tmp_page = NULL;\n\n            // å¦æè¦åå¥çæ°æ®å·²ç»å¨é¨åå¥æå, éåºå¾ªç¯\n            total_len -= chars;\n            if (!total_len)\n                break;\n        }\n        ...\n    }\n\nout:\n    ...\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n\n\nå¤å¶\n\nä¸é¢ä»£ç æç¹é¿ï¼ä½æ¯é»è¾å´å¾ç®åï¼ä¸»è¦è¿è¡å¦ä¸æä½ï¼\n\n * å¦æä¸æ¬¡åæä½åå¥ç pipe_buffer è¿æç©ºé²çç©ºé´ï¼é£ä¹å°±å°æ°æ®åå¥å°æ­¤ pipe_buffer ä¸­ï¼å¹¶ä¸å¢å å¶ len å­æ®µçå¼ã\n * å¦æä¸æ¬¡åæä½åå¥ç pipe_buffer æ²¡æè¶³å¤çç©ºé²ç©ºé´ï¼é£ä¹å°±æ°ç³è¯·ä¸ä¸ªåå­é¡µï¼å¹¶ä¸ææ°æ®ä¿å­å°æ°çåå­é¡µä¸­ï¼å¹¶ä¸å¢å  pipe_inode_info ç nrbufs å­æ®µçå¼ã\n * å¦æåå¥çæ°æ®å·²ç»å¨é¨åå¥æåï¼é£ä¹å°±éåºåæä½ã\n\n\n# ä¸ãæèä¸ä¸\n\nç®¡éè¯»åæä½çå®ç°å·²ç»åæå®æ¯ï¼ç°å¨æä»¬æ¥æèä¸ä¸ä»¥ä¸é®é¢ã\n\n\n# 1. ä¸ºä»ä¹ç¶å­è¿ç¨å¯ä»¥éè¿ç®¡éæ¥éä¿¡ï¼\n\nè¿æ¯å ä¸ºç¶å­è¿ç¨éè¿ pipe ç³»ç»è°ç¨æå¼çç®¡éï¼å¨åæ ¸ç©ºé´ä¸­æååä¸ä¸ªç®¡éå¯¹è±¡ï¼pipe_inode_infoï¼ãæä»¥ç¶å­è¿ç¨å±äº«çåä¸ä¸ªç®¡éå¯¹è±¡ï¼é£ä¹å°±å¯ä»¥éè¿è¿ä¸ªå±äº«çç®¡éå¯¹è±¡è¿è¡éä¿¡ã\n\n\n# 2. ä¸ºä»ä¹åæ ¸è¦ä½¿ç¨ 16 ä¸ªåå­é¡µè¿è¡æ°æ®å­å¨ï¼\n\nè¿æ¯ä¸ºäºåå°åå­ä½¿ç¨ã\n\nå ä¸ºä½¿ç¨ pipe ç³»ç»è°ç¨æå¼ç®¡éæ¶ï¼å¹¶æ²¡æç«å»ç³è¯·åå­é¡µï¼èæ¯å½æè¿ç¨åç®¡éåå¥æ°æ®æ¶ï¼æä¼æéç³è¯·åå­é¡µãå½åå­é¡µçæ°æ®è¢«è¯»åå®åï¼åæ ¸ä¼å°æ­¤åå­é¡µåæ¶ï¼æ¥åå°ç®¡éå¯¹åå­çä½¿ç¨ã\n\n\n# å åè\n\nå¾è§£ | Linuxè¿ç¨éä¿¡ - ç®¡éå®ç°',normalizedContent:'å¤äºå®å¨çèèï¼ä¸åè¿ç¨ä¹é´çåå­ç©ºé´æ¯ç¸äºéç¦»çï¼ä¹å°±æ¯è¯´ è¿ç¨a æ¯ä¸è½è®¿é® è¿ç¨b çåå­ç©ºé´ï¼åä¹äº¦ç¶ãå¦æä¸åè¿ç¨é´è½å¤ç¸äºè®¿é®åä¿®æ¹å¯¹æ¹çåå­ï¼é£ä¹å½åè¿ç¨çåå­å°±æå¯è½è¢«å¶ä»è¿ç¨éæ³ä¿®æ¹ï¼ä»èå¯¼è´å®å¨éæ£ã\n\nä¸åçè¿ç¨å°±åæ¯å¤§æµ·ä¸å­¤ç«çå²å±¿ï¼å®ä»¬ä¹é´ä¸è½ç´æ¥ç¸äºéä¿¡ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nä½æäºåºæ¯ä¸ï¼ä¸åè¿ç¨é´éè¦ç¸äºéä¿¡ï¼æ¯å¦ï¼è¿ç¨a è´è´£å¤çç¨æ·çè¯·æ±ï¼è è¿ç¨b è´è´£ä¿å­å¤çåçæ°æ®ãé£ä¹å½ è¿ç¨a å¤çå®è¯·æ±åï¼å°±éè¦æå¤çåçæ°æ®æäº¤ç» è¿ç¨b è¿è¡å­å¨ãæ­¤æ¶ï¼è¿ç¨a å°±éè¦ä¸ è¿ç¨b è¿è¡éä¿¡ãå¦ä¸å¾æç¤ºï¼\n\n\n\nç±äºä¸åè¿ç¨é´æ¯ç¸äºéç¦»çï¼æä»¥å¿é¡»åå©åæ ¸æ¥ä½ä¸ºæ¡¥æ¢æ¥è¿è¡ç¸äºéä¿¡ï¼åæ ¸ç¸å½äºå²å±¿ä¹é´çè½®è¹ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nåæ ¸æä¾å¤ç§è¿ç¨é´éä¿¡çæ¹å¼ï¼å¦ï¼å±äº«åå­ï¼ä¿¡å·ï¼æ¶æ¯éå å ç®¡éï¼pipeï¼ ç­ãæ¬æä¸»è¦ä»ç» ç®¡é çåçä¸å®ç°ã\n\n\n# ä¸ãç®¡éçä½¿ç¨\n\nç®¡é ä¸è¬ç¨äºç¶å­è¿ç¨ä¹é´ç¸äºéä¿¡ï¼ä¸è¬çç¨æ³å¦ä¸ï¼\n\n * ç¶è¿ç¨ä½¿ç¨ pipe ç³»ç»è°ç¨åå»ºä¸ä¸ªç®¡éã\n * ç¶åç¶è¿ç¨ä½¿ç¨ fork ç³»ç»è°ç¨åå»ºä¸ä¸ªå­è¿ç¨ã\n * ç±äºå­è¿ç¨ä¼ç»§æ¿ç¶è¿ç¨æå¼çæä»¶å¥æï¼æä»¥ç¶å­è¿ç¨å¯ä»¥éè¿æ°åå»ºçç®¡éè¿è¡éä¿¡ã\n\nå¶åçå¦ä¸å¾æç¤ºï¼\n\n\n\nç±äºç®¡éåä¸ºè¯»ç«¯ååç«¯ï¼æä»¥éè¦ä¸¤ä¸ªæä»¶æè¿°ç¬¦æ¥ç®¡çç®¡éï¼fd[0] ä¸ºè¯»ç«¯ï¼fd[1] ä¸ºåç«¯ã\n\nä¸é¢ä»£ç ä»ç»äºæä¹ä½¿ç¨ pipe ç³»ç»è°ç¨æ¥åå»ºä¸ä¸ªç®¡éï¼\n\n#include <stdio.h>\n#include <unistd.h>\n#include <sys/types.h>\n#include <stdlib.h>\n#include <string.h>\n\nint main()\n{\n    int ret = -1;\n    int fd[2];  // ç¨äºç®¡çç®¡éçæä»¶æè¿°ç¬¦\n    pid_t pid;\n    char buf[512] = {0};\n    char *msg = "hello world";\n\n    // åå»ºä¸ä¸ªç®¡ç\n    ret = pipe(fd);\n    if (-1 == ret) {\n        printf("failed to create pipe\\n");\n        return -1;\n    }\n  \n    pid = fork();     // åå»ºå­è¿ç¨\n\n    if (0 == pid) {   // å­è¿ç¨\n        close(fd[0]); // å³é­ç®¡éçè¯»ç«¯\n        ret = write(fd[1], msg, strlen(msg)); // åç®¡éåç«¯åå¥æ°æ®\n        exit(0);\n    } else {          // ç¶è¿ç¨\n        close(fd[1]); // å³é­ç®¡éçåç«¯\n        ret = read(fd[0], buf, sizeof(buf)); // ä»ç®¡éçè¯»ç«¯è¯»åæ°æ®\n        printf("parent read %d bytes data: %s\\n", ret, buf);\n    }\n\n    return 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nå¤å¶\n\nç¼è¯ä»£ç ï¼\n\n[root@localhost pipe]# gcc -g pipe.c -o pipe\n\n\n1\n\n\nå¤å¶\n\nè¿è¡ä»£ç ï¼è¾åºç»æå¦ä¸ï¼\n\n[root@localhost pipe]# ./pipe\nparent read 11 bytes data: hello world\n\n\n1\n2\n\n\nå¤å¶\n\n\n# äºãç®¡éçå®ç°\n\næ¯ä¸ªè¿ç¨çç¨æ·ç©ºé´é½æ¯ç¬ç«çï¼ä½åæ ¸ç©ºé´å´æ¯å±ç¨çãæä»¥ï¼è¿ç¨é´éä¿¡å¿é¡»ç±åæ ¸æä¾æå¡ãåé¢ä»ç»äº ç®¡é(pipe) çä½¿ç¨ï¼æ¥ä¸æ¥å°ä¼ä»ç»ç®¡éå¨åæ ¸ä¸­çå®ç°æ¹å¼ã\n\n> æ¬æä½¿ç¨ linux-2.6.23 åæ ¸ä½ä¸ºåæå¯¹è±¡ã\n\n\n# 1. ç¯å½¢ç¼å²åºï¼ring bufferï¼\n\nå¨åæ ¸ä¸­ï¼ç®¡é ä½¿ç¨äºç¯å½¢ç¼å²åºæ¥å­å¨æ°æ®ãç¯å½¢ç¼å²åºçåçæ¯ï¼æä¸ä¸ªç¼å²åºå½ææ¯é¦å°¾ç¸è¿çç¯ï¼å¶ä¸­éè¿è¯»æéååæéæ¥è®°å½è¯»æä½ååæä½ä½ç½®ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå¨ linux åæ ¸ä¸­ï¼ä½¿ç¨äº 16 ä¸ªåå­é¡µä½ä¸ºç¯å½¢ç¼å²åºï¼æä»¥è¿ä¸ªç¯å½¢ç¼å²åºçå¤§å°ä¸º 64kbï¼16 * 4kbï¼ã\n\nå½åç®¡éåæ°æ®æ¶ï¼ä»åæéæåçä½ç½®å¼å§åå¥ï¼å¹¶ä¸å°åæéååç§»å¨ãèä»ç®¡éè¯»åæ°æ®æ¶ï¼ä»è¯»æéå¼å§è¯»å¥ï¼å¹¶ä¸å°è¯»æéååç§»å¨ãå½å¯¹æ²¡ææ°æ®å¯è¯»çç®¡éè¿è¡è¯»æä½ï¼å°ä¼é»å¡å½åè¿ç¨ãèå¯¹æ²¡æç©ºé²ç©ºé´çç®¡éè¿è¡åæä½ï¼ä¹ä¼é»å¡å½åè¿ç¨ã\n\n> æ³¨æï¼å¯ä»¥å°ç®¡éæä»¶æè¿°ç¬¦è®¾ç½®ä¸ºéé»å¡ï¼è¿æ ·å¯¹ç®¡éè¿è¡è¯»åæä½æ¶ï¼å°±ä¸ä¼é»å¡å½åè¿ç¨ã\n\n\n# 2. ç®¡éå¯¹è±¡\n\nå¨ linux åæ ¸ä¸­ï¼ç®¡éä½¿ç¨ pipe_inode_info å¯¹è±¡æ¥è¿è¡ç®¡çãæä»¬åæ¥çç pipe_inode_info å¯¹è±¡çå®ä¹ï¼å¦ä¸æç¤ºï¼\n\nstruct pipe_inode_info {\n    wait_queue_head_t wait;\n    unsigned int nrbufs,\n    unsigned int curbuf;\n    ...\n    unsigned int readers;\n    unsigned int writers;\n    unsigned int waiting_writers;\n    ...\n    struct inode *inode;\n    struct pipe_buffer bufs[16];\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå¤å¶\n\nä¸é¢ä»ç»ä¸ä¸ pipe_inode_info å¯¹è±¡åä¸ªå­æ®µçä½ç¨ï¼\n\n * waitï¼ç­å¾éåï¼ç¨äºå­å¨æ­£å¨ç­å¾ç®¡éå¯è¯»æèå¯åçè¿ç¨ã\n * bufsï¼ç¯å½¢ç¼å²åºï¼ç± 16 ä¸ª pipe_buffer å¯¹è±¡ç»æï¼æ¯ä¸ª pipe_buffer å¯¹è±¡æ¥æä¸ä¸ªåå­é¡µ ï¼åé¢ä¼ä»ç»ã\n * nrbufsï¼è¡¨ç¤ºæªè¯»æ°æ®å·²ç»å ç¨äºç¯å½¢ç¼å²åºçå¤å°ä¸ªåå­é¡µã\n * curbufï¼è¡¨ç¤ºå½åæ­£å¨è¯»åç¯å½¢ç¼å²åºçåªä¸ªåå­é¡µä¸­çæ°æ®ã\n * readersï¼è¡¨ç¤ºæ­£å¨è¯»åç®¡éçè¿ç¨æ°ã\n * writersï¼è¡¨ç¤ºæ­£å¨åå¥ç®¡éçè¿ç¨æ°ã\n * waiting_writersï¼è¡¨ç¤ºç­å¾ç®¡éå¯åçè¿ç¨æ°ã\n * inodeï¼ä¸ç®¡éå³èç inode å¯¹è±¡ã\n\nç±äºç¯å½¢ç¼å²åºæ¯ç± 16 ä¸ª pipe_buffer å¯¹è±¡ç»æï¼æä»¥ä¸é¢æä»¬æ¥çç pipe_buffer å¯¹è±¡çå®ä¹ï¼\n\nstruct pipe_buffer {\n    struct page *page;\n    unsigned int offset;\n    unsigned int len;\n    ...\n};\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¤å¶\n\nä¸é¢ä»ç»ä¸ä¸ pipe_buffer å¯¹è±¡åä¸ªå­æ®µçä½ç¨ï¼\n\n * pageï¼æå pipe_buffer å¯¹è±¡å ç¨çåå­é¡µã\n * offsetï¼å¦æè¿ç¨æ­£å¨è¯»åå½ååå­é¡µçæ°æ®ï¼é£ä¹ offset æåæ­£å¨è¯»åå½ååå­é¡µçåç§»éã\n * lenï¼è¡¨ç¤ºå½ååå­é¡µæ¥ææªè¯»æ°æ®çé¿åº¦ã\n\nä¸å¾å±ç¤ºäº pipe_inode_info å¯¹è±¡ä¸ pipe_buffer å¯¹è±¡çå³ç³»ï¼\n\n\n\nç®¡éçç¯å½¢ç¼å²åºå®ç°æ¹å¼ä¸ç»å¸çç¯å½¢ç¼å²åºå®ç°æ¹å¼æç¹åºå«ï¼ç»å¸çç¯å½¢ç¼å²åºä¸è¬åç³è¯·ä¸åå°åè¿ç»­çåå­åï¼ç¶åéè¿è¯»æéä¸åæéæ¥å¯¹è¯»æä½ä¸åæä½è¿è¡å®ä½ã\n\nä½ä¸ºäºåå°å¯¹åå­çä½¿ç¨ï¼åæ ¸ä¸ä¼å¨åå»ºç®¡éæ¶å°±ç³è¯· 64k çåå­åï¼èæ¯å¨è¿ç¨åç®¡éåå¥æ°æ®æ¶ï¼æéæ¥ç³è¯·åå­ã\n\né£ä¹å½è¿ç¨ä»ç®¡éè¯»åæ°æ®æ¶ï¼åæ ¸æä¹å¤çå¢ï¼ä¸é¢æä»¬æ¥ççç®¡éè¯»æä½çå®ç°æ¹å¼ã\n\n\n# 3. è¯»æä½\n\nä» ç»å¸çç¯å½¢ç¼å²åº ä¸­è¯»åæ°æ®æ¶ï¼é¦åéè¿è¯»æéæ¥å®ä½å°è¯»åæ°æ®çèµ·å§å°åï¼ç¶åå¤æ­ç¯å½¢ç¼å²åºä¸­æ¯å¦ææ°æ®å¯è¯»ï¼å¦ææå°±ä»ç¯å½¢ç¼å²åºä¸­è¯»åæ°æ®å°ç¨æ·ç©ºé´çç¼å²åºä¸­ãå¦ä¸å¾æç¤ºï¼\n\n\n\nè ç®¡éçç¯å½¢ç¼å²åº ä¸ ç»å¸çç¯å½¢ç¼å²åº å®ç°ç¨æä¸åï¼ç®¡éçç¯å½¢ç¼å²åº å¶è¯»æéæ¯ç± pipe_inode_info å¯¹è±¡ç curbuf å­æ®µä¸ pipe_buffer å¯¹è±¡ç offset å­æ®µç»åèæï¼\n\n * pipe_inode_info å¯¹è±¡ç curbuf å­æ®µè¡¨ç¤ºè¯»æä½è¦ä» bufs æ°ç»çåªä¸ª pipe_buffer ä¸­è¯»åæ°æ®ã\n * pipe_buffer å¯¹è±¡ç offset å­æ®µè¡¨ç¤ºè¯»æä½è¦ä»åå­é¡µçåªä¸ªä½ç½®å¼å§è¯»åæ°æ®ã\n\nè¯»åæ°æ®çè¿ç¨å¦ä¸å¾æç¤ºï¼\n\n\n\nä»ç¼å²åºä¸­è¯»åå° n ä¸ªå­èçæ°æ®åï¼ä¼ç¸åºç§»å¨è¯»æé n ä¸ªå­èçä½ç½®ï¼ä¹å°±æ¯å¢å  pipe_buffer å¯¹è±¡ç offset å­æ®µï¼ï¼å¹¶ä¸åå° n ä¸ªå­èçå¯è¯»æ°æ®é¿åº¦ï¼ä¹å°±æ¯åå° pipe_buffer å¯¹è±¡ç len å­æ®µï¼ã\n\nå½ pipe_buffer å¯¹è±¡ç len å­æ®µåä¸º 0 æ¶ï¼è¡¨ç¤ºå½å pipe_buffer æ²¡æå¯è¯»æ°æ®ï¼é£ä¹å°ä¼å¯¹ pipe_inode_info å¯¹è±¡ç curbuf å­æ®µç§»å¨ä¸ä¸ªä½ç½®ï¼å¹¶ä¸å¶ nrbufs å­æ®µè¿è¡åä¸æä½ã\n\næä»¬æ¥ççç®¡éè¯»æä½çä»£ç å®ç°ï¼è¯»æä½ç± pipe_read å½æ°å®æãä¸ºäºçªåºéç¹ï¼æä»¬åªååºå³é®ä»£ç ï¼å¦ä¸æç¤ºï¼\n\nstatic ssize_t\npipe_read(struct kiocb *iocb, const struct iovec *_iov, unsigned long nr_segs,\n          loff_t pos)\n{\n    ...\n    struct pipe_inode_info *pipe;\n\n    // 1. è·åç®¡éå¯¹è±¡\n    pipe = inode->i_pipe;\n\n    for (;;) {\n        // 2. è·åç®¡éæªè¯»æ°æ®å æå¤å°ä¸ªåå­é¡µ\n        int bufs = pipe->nrbufs;\n\n        if (bufs) {\n            // 3. è·åè¯»æä½åºè¯¥ä»ç¯å½¢ç¼å²åºçåªä¸ªåå­é¡µå¤è¯»åæ°æ®\n            int curbuf = pipe->curbuf;  \n            struct pipe_buffer *buf = pipe->bufs + curbuf;\n            ...\n\n            /* 4. éè¿ pipe_buffer ç offset å­æ®µè·åçæ­£çè¯»æé,\n             *    å¹¶ä¸ä»ç®¡éä¸­è¯»åæ°æ®å°ç¨æ·ç¼å²åº.\n             */\n            error = pipe_iov_copy_to_user(iov, addr + buf->offset, chars, atomic);\n            ...\n\n            ret += chars;\n            buf->offset += chars; // å¢å  pipe_buffer å¯¹è±¡ç offset å­æ®µçå¼\n            buf->len -= chars;    // åå° pipe_buffer å¯¹è±¡ç len å­æ®µçå¼\n\n            /* 5. å¦æå½ååå­é¡µçæ°æ®å·²ç»è¢«è¯»åå®æ¯ */\n            if (!buf->len) {\n                ...\n                curbuf = (curbuf + 1) & (pipe_buffers - 1);\n                pipe->curbuf = curbuf; // ç§»å¨ pipe_inode_info å¯¹è±¡ç curbuf æé\n                pipe->nrbufs = --bufs; // åå° pipe_inode_info å¯¹è±¡ç nrbufs å­æ®µ\n                do_wakeup = 1;\n            }\n\n            total_len -= chars;\n\n            // 6. å¦æè¯»åå°ç¨æ·ææçæ°æ®é¿åº¦, éåºå¾ªç¯\n            if (!total_len)\n                break;\n        }\n        ...\n    }\n\n    ...\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\nå¤å¶\n\nä¸é¢ä»£ç æ»ç»æ¥è¯´åä¸ºä»¥ä¸æ­¥éª¤ï¼\n\n * éè¿æä»¶ inode å¯¹è±¡æ¥è·åå°ç®¡éç pipe_inode_info å¯¹è±¡ã\n * éè¿ pipe_inode_info å¯¹è±¡ç nrbufs å­æ®µè·åç®¡éæªè¯»æ°æ®å æå¤å°ä¸ªåå­é¡µã\n * éè¿ pipe_inode_info å¯¹è±¡ç curbuf å­æ®µè·åè¯»æä½åºè¯¥ä»ç¯å½¢ç¼å²åºçåªä¸ªåå­é¡µå¤è¯»åæ°æ®ã\n * éè¿ pipe_buffer å¯¹è±¡ç offset å­æ®µè·åçæ­£çè¯»æéï¼ å¹¶ä¸ä»ç®¡éä¸­è¯»åæ°æ®å°ç¨æ·ç¼å²åºã\n * å¦æå½ååå­é¡µçæ°æ®å·²ç»è¢«è¯»åå®æ¯ï¼é£ä¹ç§»å¨ pipe_inode_info å¯¹è±¡ç curbuf æéï¼å¹¶ä¸åå°å¶ nrbufs å­æ®µçå¼ã\n * å¦æè¯»åå°ç¨æ·ææçæ°æ®é¿åº¦ï¼éåºå¾ªç¯ã\n\n\n# 4. åæä½\n\nåæå®ç®¡éè¯»æä½çå®ç°åï¼æ¥ä¸æ¥ï¼æä»¬åæä¸ä¸ç®¡éåæä½çå®ç°ã\n\nç»å¸çç¯å½¢ç¼å²åº åå¥æ°æ®æ¶ï¼é¦åéè¿åæéè¿è¡å®ä½è¦åå¥çåå­å°åï¼ç¶åå¤æ­ç¯å½¢ç¼å²åºçç©ºé´æ¯å¦è¶³å¤ï¼è¶³å¤å°±ææ°æ®åå¥å°ç¯å½¢ç¼å²åºä¸­ãå¦ä¸å¾æç¤ºï¼\n\n\n\nä½ ç®¡éçç¯å½¢ç¼å²åº å¹¶æ²¡æä¿å­ åæéï¼èæ¯éè¿ è¯»æé è®¡ç®åºæ¥ãé£ä¹æä¹éè¿è¯»æéè®¡ç®åºåæéå¢ï¼\n\nå¶å®å¾ç®åï¼å°±æ¯ï¼\n\n> åæé = è¯»æé + æªè¯»æ°æ®é¿åº¦\n\nä¸é¢æä»¬æ¥ççï¼åç®¡éåå¥ 200 å­èæ°æ®çè¿ç¨ç¤ºæå¾ï¼å¦ä¸æç¤ºï¼\n\nå¦ä¸å¾æç¤ºï¼åç®¡éåå¥æ°æ®æ¶ï¼\n\n\n\n * é¦åéè¿ pipe_inode_info ç curbuf å­æ®µå nrbufs å­æ®µæ¥å®ä½å°ï¼åºè¯¥ååªä¸ª pipe_buffer åå¥æ°æ®ã\n * ç¶ååéè¿ pipe_buffer å¯¹è±¡ç offset å­æ®µå len å­æ®µæ¥å®ä½å°ï¼åºè¯¥åå¥å°åå­é¡µçåªä¸ªä½ç½®ã\n\nä¸é¢æä»¬éè¿æºç æ¥åæï¼åæä½æ¯æä¹å®ç°çï¼ä»£ç å¦ä¸ï¼ä¸ºäºç¹åºéç¹ï¼ä»£ç ææå åï¼ï¼\n\nstatic ssize_t\npipe_write(struct kiocb *iocb, const struct iovec *_iov, unsigned long nr_segs,\n           loff_t ppos)\n{\n    ...\n    struct pipe_inode_info *pipe;\n    ...\n    pipe = inode->i_pipe;\n    ...\n    chars = total_len & (page_size - 1); /* size of the last buffer */\n\n    // 1. å¦ææååå¥ç pipe_buffer è¿æç©ºé²çç©ºé´\n    if (pipe->nrbufs && chars != 0) {\n        // è·ååå¥æ°æ®çä½ç½®\n        int lastbuf = (pipe->curbuf + pipe->nrbufs - 1) & (pipe_buffers-1);\n        struct pipe_buffer *buf = pipe->bufs + lastbuf;\n        const struct pipe_buf_operations *ops = buf->ops;\n        int offset = buf->offset + buf->len;\n\n        if (ops->can_merge && offset + chars <= page_size) {\n            ...\n            error = pipe_iov_copy_from_user(offset + addr, iov, chars, atomic);\n            ...\n            buf->len += chars;\n            total_len -= chars;\n            ret = chars;\n\n            // å¦æè¦åå¥çæ°æ®å·²ç»å¨é¨åå¥æå, éåºå¾ªç¯\n            if (!total_len)\n                goto out;\n        }\n    }\n\n    // 2. å¦ææååå¥ç pipe_buffer ç©ºé²ç©ºé´ä¸è¶³, é£ä¹ç³è¯·ä¸ä¸ªæ°çåå­é¡µæ¥å­å¨æ°æ®\n    for (;;) {\n        int bufs;\n        ...\n        bufs = pipe->nrbufs;\n\n        if (bufs < pipe_buffers) {\n            int newbuf = (pipe->curbuf + bufs) & (pipe_buffers-1);\n            struct pipe_buffer *buf = pipe->bufs + newbuf;\n            ...\n\n            // ç³è¯·ä¸ä¸ªæ°çåå­é¡µ\n            if (!page) {\n                page = alloc_page(gfp_highuser);\n                ...\n            }\n            ...\n            error = pipe_iov_copy_from_user(src, iov, chars, atomic);\n            ...\n            ret += chars;\n\n            buf->page = page;\n            buf->ops = &anon_pipe_buf_ops;\n            buf->offset = 0;\n            buf->len = chars;\n\n            pipe->nrbufs = ++bufs;\n            pipe->tmp_page = null;\n\n            // å¦æè¦åå¥çæ°æ®å·²ç»å¨é¨åå¥æå, éåºå¾ªç¯\n            total_len -= chars;\n            if (!total_len)\n                break;\n        }\n        ...\n    }\n\nout:\n    ...\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n\n\nå¤å¶\n\nä¸é¢ä»£ç æç¹é¿ï¼ä½æ¯é»è¾å´å¾ç®åï¼ä¸»è¦è¿è¡å¦ä¸æä½ï¼\n\n * å¦æä¸æ¬¡åæä½åå¥ç pipe_buffer è¿æç©ºé²çç©ºé´ï¼é£ä¹å°±å°æ°æ®åå¥å°æ­¤ pipe_buffer ä¸­ï¼å¹¶ä¸å¢å å¶ len å­æ®µçå¼ã\n * å¦æä¸æ¬¡åæä½åå¥ç pipe_buffer æ²¡æè¶³å¤çç©ºé²ç©ºé´ï¼é£ä¹å°±æ°ç³è¯·ä¸ä¸ªåå­é¡µï¼å¹¶ä¸ææ°æ®ä¿å­å°æ°çåå­é¡µä¸­ï¼å¹¶ä¸å¢å  pipe_inode_info ç nrbufs å­æ®µçå¼ã\n * å¦æåå¥çæ°æ®å·²ç»å¨é¨åå¥æåï¼é£ä¹å°±éåºåæä½ã\n\n\n# ä¸ãæèä¸ä¸\n\nç®¡éè¯»åæä½çå®ç°å·²ç»åæå®æ¯ï¼ç°å¨æä»¬æ¥æèä¸ä¸ä»¥ä¸é®é¢ã\n\n\n# 1. ä¸ºä»ä¹ç¶å­è¿ç¨å¯ä»¥éè¿ç®¡éæ¥éä¿¡ï¼\n\nè¿æ¯å ä¸ºç¶å­è¿ç¨éè¿ pipe ç³»ç»è°ç¨æå¼çç®¡éï¼å¨åæ ¸ç©ºé´ä¸­æååä¸ä¸ªç®¡éå¯¹è±¡ï¼pipe_inode_infoï¼ãæä»¥ç¶å­è¿ç¨å±äº«çåä¸ä¸ªç®¡éå¯¹è±¡ï¼é£ä¹å°±å¯ä»¥éè¿è¿ä¸ªå±äº«çç®¡éå¯¹è±¡è¿è¡éä¿¡ã\n\n\n# 2. ä¸ºä»ä¹åæ ¸è¦ä½¿ç¨ 16 ä¸ªåå­é¡µè¿è¡æ°æ®å­å¨ï¼\n\nè¿æ¯ä¸ºäºåå°åå­ä½¿ç¨ã\n\nå ä¸ºä½¿ç¨ pipe ç³»ç»è°ç¨æå¼ç®¡éæ¶ï¼å¹¶æ²¡æç«å»ç³è¯·åå­é¡µï¼èæ¯å½æè¿ç¨åç®¡éåå¥æ°æ®æ¶ï¼æä¼æéç³è¯·åå­é¡µãå½åå­é¡µçæ°æ®è¢«è¯»åå®åï¼åæ ¸ä¼å°æ­¤åå­é¡µåæ¶ï¼æ¥åå°ç®¡éå¯¹åå­çä½¿ç¨ã\n\n\n# å åè\n\nå¾è§£ | linuxè¿ç¨éä¿¡ - ç®¡éå®ç°',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"Linux ä¸å¦ä½æ¥ç CPU è·è½½ï¼æ­£å¨è¿è¡çè¿ç¨ï¼æä¸ªç«¯å£å¯¹åºçè¿ç¨ï¼",frontmatter:{title:"Linux ä¸å¦ä½æ¥ç CPU è·è½½ï¼æ­£å¨è¿è¡çè¿ç¨ï¼æä¸ªç«¯å£å¯¹åºçè¿ç¨ï¼",date:"2022-09-21T23:02:10.000Z",permalink:"/pages/326cf9/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/100.Linux%20%E4%B8%8B%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%20CPU%20%E8%8D%B7%E8%BD%BD%EF%BC%8C%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3%E5%AF%B9%E5%BA%94%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/100.Linux ä¸å¦ä½æ¥ç CPU è·è½½ï¼æ­£å¨è¿è¡çè¿ç¨ï¼æä¸ªç«¯å£å¯¹åºçè¿ç¨ï¼.md",key:"v-1f69ea23",path:"/pages/326cf9/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"å¦ä½è°è¯æå¡å¨åå­å ç¨è¿é«çé®é¢ï¼",frontmatter:{title:"å¦ä½è°è¯æå¡å¨åå­å ç¨è¿é«çé®é¢ï¼",date:"2022-09-21T23:02:22.000Z",permalink:"/pages/3653a2/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/110.%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/110.å¦ä½è°è¯æå¡å¨åå­å ç¨è¿é«çé®é¢ï¼.md",key:"v-f6bafd34",path:"/pages/3653a2/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"Linux å¦ä½æ¥çå®æ¶çæ»å¨æ¥å¿ï¼",frontmatter:{title:"Linux å¦ä½æ¥çå®æ¶çæ»å¨æ¥å¿ï¼",date:"2022-09-21T23:02:33.000Z",permalink:"/pages/f6e4d2/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/120.Linux%20%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E5%AE%9E%E6%97%B6%E7%9A%84%E6%BB%9A%E5%8A%A8%E6%97%A5%E5%BF%97%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/120.Linux å¦ä½æ¥çå®æ¶çæ»å¨æ¥å¿ï¼.md",key:"v-129dffb8",path:"/pages/f6e4d2/",headers:[{level:3,title:"æ»å¨å®æ¶æ¥çnginxæ¥å¿",slug:"æ»å¨å®æ¶æ¥çnginxæ¥å¿",normalizedTitle:"æ»å¨å®æ¶æ¥çnginxæ¥å¿",charIndex:2}],headersStr:"æ»å¨å®æ¶æ¥çnginxæ¥å¿",content:"# æ»å¨å®æ¶æ¥çnginxæ¥å¿\n\ntail -f access.log\n\n\n1\n",normalizedContent:"# æ»å¨å®æ¶æ¥çnginxæ¥å¿\n\ntail -f access.log\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ä¸ºä»ä¹è¿ç¨åæ¢æ¢ï¼çº¿ç¨åæ¢å¿«ï¼",frontmatter:{title:"ä¸ºä»ä¹è¿ç¨åæ¢æ¢ï¼çº¿ç¨åæ¢å¿«ï¼",date:"2022-09-21T23:02:57.000Z",permalink:"/pages/773d64/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/140.%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2%E6%85%A2%EF%BC%8C%E7%BA%BF%E7%A8%8B%E5%88%87%E6%8D%A2%E5%BF%AB%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/140.ä¸ºä»ä¹è¿ç¨åæ¢æ¢ï¼çº¿ç¨åæ¢å¿«ï¼.md",key:"v-c875c5a4",path:"/pages/773d64/",headers:[{level:2,title:"è¿ç¨åæ¢ä¸çº¿ç¨åæ¢",slug:"è¿ç¨åæ¢ä¸çº¿ç¨åæ¢",normalizedTitle:"è¿ç¨åæ¢ä¸çº¿ç¨åæ¢",charIndex:25},{level:2,title:"ä¸ºä»ä¹èæå°ååæ¢å¾æ¢",slug:"ä¸ºä»ä¹èæå°ååæ¢å¾æ¢",normalizedTitle:"ä¸ºä»ä¹èæå°ååæ¢å¾æ¢",charIndex:467},{level:2,title:"ä»ä¹æ¯èæåå­",slug:"ä»ä¹æ¯èæåå­",normalizedTitle:"ä»ä¹æ¯èæåå­",charIndex:830},{level:2,title:"ä¸ºä»ä¹éè¦èæåå­",slug:"ä¸ºä»ä¹éè¦èæåå­",normalizedTitle:"ä¸ºä»ä¹éè¦èæåå­",charIndex:1118},{level:3,title:"ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼",slug:"ä¸ºä»ä¹åå­ä¸å¤ç¨",normalizedTitle:"ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼",charIndex:1485},{level:3,title:"äº¤æ¢ï¼SWAPï¼ææ¯",slug:"äº¤æ¢-swap-ææ¯",normalizedTitle:"äº¤æ¢ï¼swapï¼ææ¯",charIndex:1825},{level:3,title:"èæåå­",slug:"èæåå­",normalizedTitle:"èæåå­",charIndex:833},{level:2,title:"è¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­åæ¢",slug:"è¿ç¨-çº¿ç¨-å¨æä½ç³»ç»ä¸­åæ¢",normalizedTitle:"è¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­åæ¢",charIndex:3129},{level:2,title:"ä¸ºä»ä¹åå»ºè¿ç¨å¼éæ¯çº¿ç¨å¤§ï¼",slug:"ä¸ºä»ä¹åå»ºè¿ç¨å¼éæ¯çº¿ç¨å¤§",normalizedTitle:"ä¸ºä»ä¹åå»ºè¿ç¨å¼éæ¯çº¿ç¨å¤§ï¼",charIndex:3744},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:3938}],headersStr:"è¿ç¨åæ¢ä¸çº¿ç¨åæ¢ ä¸ºä»ä¹èæå°ååæ¢å¾æ¢ ä»ä¹æ¯èæåå­ ä¸ºä»ä¹éè¦èæåå­ ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼ äº¤æ¢ï¼SWAPï¼ææ¯ èæåå­ è¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­åæ¢ ä¸ºä»ä¹åå»ºè¿ç¨å¼éæ¯çº¿ç¨å¤§ï¼ åè",content:"ä¸è¨ä»¥è½ä¹ï¼èæå°åç©ºé´çåæ¢æ¯å¾æ¢çã\n\n\n# è¿ç¨åæ¢ä¸çº¿ç¨åæ¢\n\nè¿ç¨åæ¢ä¸çº¿ç¨åæ¢çä¸ä¸ªæä¸»è¦åºå«å°±å¨äºè¿ç¨åæ¢æ¶åå°èæå°åç©ºé´çåæ¢èçº¿ç¨åæ¢åä¸ä¼ãå ä¸ºæ¯ä¸ªè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼èçº¿ç¨æ¯å±äº«æå¨è¿ç¨çèæå°åç©ºé´çï¼å æ­¤åä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨è¿è¡çº¿ç¨åæ¢æ¶ä¸æ¶åèæå°åç©ºé´çè½¬æ¢ã\n\nä¸¾ä¸ä¸ªä¸å¤ªæ°å½çä¾å­ï¼çº¿ç¨åæ¢å°±å¥½æ¯ä½ ä»ä¸»å§èµ°å°æ¬¡å§ï¼åæ­£ä¸»å§åæ¬¡å§é½å¨åä¸ä¸ªæ¿å­ä¸­(èæå°åç©ºé´)ï¼å æ­¤ä½ æ éæ¢éå­ãæ¢è¡£æç­ç­ãä½æ¯è¿ç¨åæ¢å°±ä¸ä¸æ ·äºï¼è¿ç¨åæ¢å°±å¥½æ¯ä»ä½ å®¶å°å«äººå®¶ï¼è¿æ¯ä¸¤ä¸ªä¸åçæ¿å­(ä¸åçèæå°åç©ºé´)ï¼åºåæ¶è¦æ¢å¥½è¡£æãéå­ç­ç­ï¼å°å«äººå®¶åè¿è¦åæ¢éå­ç­ç­ã\n\nå æ­¤æä»¬å¯ä»¥å½¢è±¡çè®¤ä¸ºçº¿ç¨æ¯å¤å¨åä¸ä¸ªå±æªä¸çï¼è¿éçå±æªå°±æ¯èæå°åç©ºé´ï¼å æ­¤çº¿ç¨é´åæ¢æ éèæå°åç©ºé´çåæ¢ï¼èè¿ç¨åä¸åï¼ä¸¤ä¸ªä¸åè¿ç¨ä½äºä¸åçå±æªä¸ï¼å³è¿ç¨ä½äºä¸åçèæå°åç©ºé´ï¼å æ­¤è¿ç¨åæ¢æ¶åå°èæå°åç©ºé´çåæ¢ï¼è¿ä¹æ¯ä¸ºä»ä¹è¿ç¨åæ¢è¦æ¯çº¿ç¨åæ¢æ¢çåå ã\n\næçåå­¦å¯è½è¿æ¯ä¸å¤ªæç½ï¼ä¸ºä»ä¹èæå°åç©ºé´åæ¢ä¼æ¯è¾èæ¶å¢ï¼\n\n\n# ä¸ºä»ä¹èæå°ååæ¢å¾æ¢\n\nç°å¨æä»¬å·²ç»ç¥éäºè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼æèæå°åè½¬æ¢ä¸ºç©çå°åéè¦æ¥æ¾é¡µè¡¨ï¼é¡µè¡¨æ¥æ¾æ¯ä¸ä¸ªå¾æ¢çè¿ç¨ï¼å æ­¤éå¸¸ä½¿ç¨Cacheæ¥ç¼å­å¸¸ç¨çå°åæ å°ï¼è¿æ ·å¯ä»¥å éé¡µè¡¨æ¥æ¾ï¼è¿ä¸ªcacheå°±æ¯TLBï¼Translation Lookaside Bufferï¼æä»¬ä¸éè¦å³å¿è¿ä¸ªåå­åªéè¦ç¥éTLBæ¬è´¨ä¸å°±æ¯ä¸ä¸ªcacheï¼æ¯ç¨æ¥å éé¡µè¡¨æ¥æ¾çã\n\nç±äºæ¯ä¸ªè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼é£ä¹æ¾ç¶æ¯ä¸ªè¿ç¨é½æèªå·±çé¡µè¡¨ï¼é£ä¹å½è¿ç¨åæ¢åé¡µè¡¨ä¹è¦è¿è¡åæ¢ï¼é¡µè¡¨åæ¢åTLBå°±å¤±æäºï¼cacheå¤±æå¯¼è´å½ä¸­çéä½ï¼é£ä¹èæå°åè½¬æ¢ä¸ºç©çå°åå°±ä¼åæ¢ï¼è¡¨ç°åºæ¥çå°±æ¯ç¨åºè¿è¡ä¼åæ¢ï¼èçº¿ç¨åæ¢åä¸ä¼å¯¼è´TLBå¤±æï¼å ä¸ºçº¿ç¨çº¿ç¨æ éåæ¢å°åç©ºé´ï¼å æ­¤æä»¬éå¸¸è¯´çº¿ç¨åæ¢è¦æ¯è¾è¿ç¨åæ¢åï¼åå å°±å¨è¿éã\n\n\n# ä»ä¹æ¯èæåå­\n\nèæåå­æ¯æä½ç³»ç»ä¸ºæ¯ä¸ªè¿ç¨æä¾çä¸ç§æ½è±¡ï¼æ¯ä¸ªè¿ç¨é½æå±äºèªå·±çãç§æçãå°åè¿ç»­çèæåå­ï¼å½ç¶æä»¬ç¥éæç»è¿ç¨çæ°æ®åä»£ç å¿ç¶è¦æ¾å°ç©çåå­ä¸ï¼é£ä¹å¿é¡»ææç§æºå¶è½è®°ä½èæå°åç©ºé´ä¸­çæä¸ªæ°æ®è¢«æ¾å°äºåªä¸ªç©çåå­å°åä¸ï¼è¿å°±æ¯æè°çå°åç©ºé´æ å°ï¼ä¹å°±æ¯èæåå­å°åä¸ç©çåå­å°åçæ å°å³ç³»ã\n\né£ä¹æä½ç³»ç»æ¯å¦ä½è®°ä½è¿ç§æ å°å³ç³»çå¢ï¼ç­æ¡å°±æ¯é¡µè¡¨ï¼é¡µè¡¨ä¸­è®°å½äºèæåå­å°åå°ç©çåå­å°åçæ å°å³ç³»ãæäºé¡µè¡¨å°±å¯ä»¥å°èæå°åè½¬æ¢ä¸ºç©çåå­å°åäºï¼è¿ç§æºå¶å°±æ¯èæåå­ã\n\næ¯ä¸ªè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼è¿ç¨åçææçº¿ç¨å±äº«è¿ç¨çèæå°åç©ºé´ã\n\n\n# ä¸ºä»ä¹éè¦èæåå­\n\nå¯¹äºç¨åºåæ¥è¯´ï¼æä»¬å¨ç¼ç¨æ¶å®éä¸æ¯ä¸æä¹æå¿åå­é®é¢çï¼å¯¹äºä½¿ç¨JavaãPythonãJavaScriptç­å¨æç±»åè¯­è¨çç¨åºåæ¥è¯´æ´æ¯å¦æ­¤ï¼èªå¨åå­åæ¶æºå¶çå¼å¥ä½¿å¾ä½¿ç¨è¿ç±»è¯­è¨çç¨åºåå ä¹å®å¨ä¸ç¨å³å¿åå­é®é¢ï¼å³ä½¿å¯¹äºç¼è¯åè¯­è¨C/C++æ¥è¯´ï¼ç¨åºåéè¦å³å¿çä¹ä»ä»æ¯åå­çç³è¯·åéæ¾ã\n\næ»çæ¥è¯´ï¼ä½ä¸ºç¨åºå(æ è®ºä½¿ç¨ä»ä¹ç±»åçè¯­è¨)æä»¬æ ¹æ¬å°±ä¸å³å¿æ°æ®ä»¥åç¨åºè¢«æ¾å¨äºç©çåå­çåªä¸ªä½ç½®ä¸(è®¾è®¡å®ç°æä½ç³»ç»çç¨åºåé¤å¤)ï¼æä»¬å¯ä»¥ç®åçè®¤ä¸ºæä»¬çç¨åºç¬å åå­ï¼æ¯å¦å¨32ä½ç³»ç»ä¸æä»¬çè¿ç¨å ç¨çåå­ç©ºé´ä¸º4Gï¼å¹¶ä¸æä»¬å¯ä»¥ç³è¯·è¶è¿ç©çåå­å¤§å°çç©ºé´ï¼æ¯å¦å¨åªæ256MBçç³»ç»ä¸ç¨åºåå¯ä»¥ç³è¯·1Gå¤§å°çåå­ç©ºé´ï¼è¿ç§åè®¾æå¤§çè§£æ¾äºç¨åºåççäº§åã\n\nèè¿ç§åè®¾å®ç°çèååè£å°±æ¯èæåå­ã\n\n\n# ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼\n\nè¦çè§£ä¸ä¸ªææ¯ï¼å°±å¿é¡»çè§£å®ä¸ºä½èå­å¨ãæ»ä½æ¥è¯´ï¼èæåææ¯æ¯ä¸ºäºè§£å³åå­ä¸å¤ç¨çé®é¢ï¼é£ä¹åå­ä¸ºä½ä¸å¤ç¨å¢ï¼\n\nä¸»è¦æ¯å ä¸ºç¨åºè¶æ¥è¶å¤æãæ¯å¦è¯´æç°å¨ç»ä½ å½é³çæºå¨ä¸å°±æ 200 ä¸ªè¿ç¨ï¼ç®ååå­çæ¶èæ¯ 21Gï¼æçåå­æ¯ 64G çï¼ä½æ¯å¤å¼ä¸äºç¨åºè¿æ¯ä¼è¢«å æ»¡ã å¦å¤ï¼å¦æä¸ä¸ªç¨åºéè¦ä½¿ç¨å¤§çåå­ï¼æ¯å¦ 1Tï¼æ¯ä¸æ¯åºè¯¥æ¥éï¼å¦ææ¥éï¼é£ä¹ç¨åºå°±ä¼ä¸å¥½åï¼ç¨åºåå¿é¡»å°å¿ç¿¼ç¿¼å°å¤çåå­çä½¿ç¨ï¼é¿åè¶è¿åè®¸çåå­ä½¿ç¨éå¼ãä»¥ä¸æå°çè¿äºé½æ¯éè¦è§£å³çé®é¢ï¼ä¹æ¯èæåææ¯å­å¨çä»·å¼åæä¹ã\n\né£ä¹å¦ä½æ¥è§£å³è¿äºé®é¢å¢ï¼ åå²ä¸æè¿ä¸å°çè§£å³æ¹æ¡ï¼ä½æç»æ²æ·ä¸çæ¯èæåææ¯ãæ¥ä¸æ¥æä¸ºä½ ä»ç»ä¸ç§åå²ä¸å­å¨è¿ç Swap ææ¯ä»¥åèæåææ¯ã\n\n\n# äº¤æ¢ï¼SWAPï¼ææ¯\n\nSwap ææ¯åè®¸ä¸é¨åè¿ç¨ä½¿ç¨åå­ï¼ä¸ä½¿ç¨åå­çè¿ç¨æ°æ®åä¿å­å¨ç£çä¸ãæ³¨æï¼è¿éæå°çæ°æ®ï¼æ¯å®æ´çè¿ç¨æ°æ®ï¼åæ¬æ­£ææ®µï¼ç¨åºæä»¤ï¼ãæ°æ®æ®µãå æ æ®µç­ãè½®å°æä¸ªè¿ç¨æ§è¡çæ¶åï¼å°è¯ä¸ºè¿ä¸ªè¿ç¨å¨åå­ä¸­æ¾å°ä¸åç©ºé²çåºåãå¦æç©ºé´ä¸è¶³ï¼å°±èèææ²¡æå¨æ§è¡çè¿ç¨äº¤æ¢ï¼Swapï¼å°ç£çä¸ï¼æç©ºé´è¾æªåºæ¥ç»éè¦çè¿ç¨ã\n\n\n\nä¸å¾ä¸­ï¼åå­è¢«æåæå¤ä¸ªåºåã åæ ¸ä½ä¸ºä¸ä¸ªç¨åºä¹éè¦èªå·±çåå­ãå¦å¤æ¯ä¸ªè¿ç¨ç¬ç«å¾å°ä¸ä¸ªç©ºé´ââæä»¬ç§°ä¸ºå°åç©ºé´ï¼Address Spaceï¼ãä½ å¯ä»¥è®¤ä¸ºå°åç©ºé´æ¯ä¸åè¿ç»­åéçåå­åãæ¯ä¸ªè¿ç¨å¨ä¸åå°åç©ºé´ä¸­å·¥ä½ï¼ææäºä¸ä¸ªåå§çèæåææ¯ã\n\næ¯å¦ï¼å½è¿ç¨ A æ³è®¿é®å°å 100 çæ¶åï¼å®éä¸è®¿é®çå°åæ¯åºäºå°åç©ºé´æ¬èº«ä½ç½®ï¼é¦å­èå°åï¼è®¡ç®åºæ¥çãå¦å¤ï¼å½è¿ç¨ A æ§è¡æ¶ï¼CPU ä¸­ä¼ä¿å­å®å°åç©ºé´çå¼å§ä½ç½®åç»æä½ç½®ï¼å½å®æ³è®¿é®è¶è¿å°åç©ºé´å®¹éçå°åæ¶ï¼CPU ä¼æ£æ¥ç¶åæ¥éã\n\nä¸å¾æè¿°çè¿ç§æ¹æ³ï¼æ¯ä¸ç§æ¯è¾åå§çèæåææ¯ï¼è¿ç¨ä½¿ç¨çæ¯åºäºå°åç©ºé´çèæå°åãä½æ¯è¿ç§æ¹æ¡æå¾å¤ææ¾çç¼ºé·ï¼æ¯å¦ï¼\n\n 1. ç¢çé®é¢ï¼ä¸å¾ä¸­æä»¬çå°è¿ç¨æ¥ååéãåæ¶äº¤æ¢ï¼åå­ä¹é´ä¼äº§çå¾å¤ç¼éãç»è¿ååå¤å¤ä½¿ç¨ï¼åå­çæåµä¼åå¾ååå¤æï¼å¯¼è´æ´ä½æ§è½ä¸éã\n 2. é¢ç¹åæ¢é®é¢ï¼å¦æè¿ç¨è¿å¤ï¼åå­è¾å°ï¼ä¼é¢ç¹è§¦åäº¤æ¢ã\n\nä½ å¯ä»¥åæèè¿ä¸¤ä¸ªé®é¢çè§£å³æ¹æ¡ï¼æ¥ä¸æ¥æä¼å¸¦ä½ è¿è¡ä¸äºæ´æ·±å¥å°æèââé¦åéæ° Review ä¸æä»¬çè®¾è®¡ç®æ ã\n\n 1. éç¦»ï¼æ¯ä¸ªåºç¨æèªå·±çå°åç©ºé´ï¼äºä¸å½±åã\n 2. æ§è½ï¼é«é¢ä½¿ç¨çæ°æ®ä¿çå¨åå­ä¸­ãä½é¢ä½¿ç¨çæ°æ®æä¹åå°ç£çä¸ã\n 3. ç¨åºå¥½åï¼éä½ç¨åºåå¿æºè´æï¼ï¼è®©ç¨åºåä¸ç¨å³å¿åºå±è®¾æ½ã\n\nç°é¶æ®µï¼Swap ææ¯å·²ç»åæ­¥è§£å³äºé®é¢ 1ãå³äºé®é¢ 2ï¼Swap ææ¯å¨æ§è½ä¸å­å¨çç¢çãé¢ç¹åæ¢ç­ææ¾å£å¿ãå³äºé®é¢ 3ï¼ä½¿ç¨ Swap ææ¯ï¼ç¨åºåéè¦æ¸æ¥å°ç¥éèªå·±çåºç¨ç¨å¤å°åå­ï¼å¹¶ä¸å°å¿ç¿¼ç¿¼å°ä½¿ç¨åå­ï¼é¿åéè¦éæ°ç³è¯·ï¼æèç åä¸æ­æ©å®¹çç®æ³ââè¿è®©ç¨åºå¿æºè´æè¾å¤§ã\n\nç»è¿ä»¥ä¸åæï¼éè¦æ´å¥½çè§£å³æ¹æ¡ï¼å°±æ¯æä»¬æ¥ä¸æ¥è¦å­¦ä¹ çèæåææ¯ã\n\n\n# èæåå­\n\nèæåææ¯ä¸­ï¼æä½ç³»ç»è®¾è®¡äºèæåå­ï¼çè®ºä¸å¯ä»¥æ éå¤§çç©ºé´ï¼ï¼åéäº CPU çå¤çè½åï¼éå¸¸ 64bit CPUï¼å°±æ¯ 264 ä¸ªå°åã\n\nèæåææ¯ä¸­ï¼åºç¨ä½¿ç¨çæ¯èæåå­ï¼æä½ç³»ç»ç®¡çèæåå­åçå®åå­ä¹é´çæ å°ãæä½ç³»ç»å°èæåå­åææ´é½å°åï¼æ¯ä¸ªå°åç§°ä¸ºä¸ä¸ªé¡µï¼Pageï¼ãä¹æä»¥è¿æ ·åï¼åå ä¸»è¦æä»¥ä¸ä¸¤ä¸ªæ¹é¢ã\n\n * ä¸æ¹é¢åºç¨ä½¿ç¨åå­æ¯ä»¥é¡µä¸ºåä½ï¼æ´é½çé¡µè½å¤é¿ååå­ç¢çé®é¢ã\n * å¦ä¸æ¹é¢ï¼æ¯ä¸ªåºç¨é½æé«é¢ä½¿ç¨çæ°æ®åä½é¢ä½¿ç¨çæ°æ®ãè¿æ ·åï¼æä½ç³»ç»å°±ä¸å¿ä»åºç¨è§åº¦å»æèåªä¸ªè¿ç¨æ¯é«é¢çï¼ä»éæèåªäºé¡µè¢«é«é¢ä½¿ç¨ãåªäºé¡µè¢«ä½é¢ä½¿ç¨ãå¦ææ¯ä½é¢ä½¿ç¨ï¼å°±å°å®ä»¬ä¿å­å°ç¡¬çä¸ï¼å¦ææ¯é«é¢ä½¿ç¨ï¼å°±è®©å®ä»¬ä¿çå¨çå®åå­ä¸­ã\n\nå¦æä¸ä¸ªåºç¨éè¦éå¸¸å¤§çåå­ï¼åºç¨ç³è¯·çæ¯èæåå­ä¸­çå¾å¤ä¸ªé¡µï¼çå®åå­ä¸ä¸å®éè¦å¤ç¨ã\n\n\n# è¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­åæ¢\n\nè¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­æ¯ä¸æ­åæ¢çï¼ç°ä»£æä½ç³»ç»ä¸­åªæçº¿ç¨çåæ¢ã\n\næ¯æ¬¡åæ¢éè¦åä¿å­å½åå¯å­å¨çå¼çåå­ï¼æ³¨æ PC æéä¹æ¯ä¸ç§å¯å­å¨ãå½æ¢å¤æ§è¡çæ¶åï¼å°±éè¦ä»åå­ä¸­è¯»åºææçå¯å­å¨ï¼æ¢å¤ä¹åçç¶æï¼ç¶åæ§è¡ã\n\n\n\nä¸é¢è®²å°çåå®¹ï¼æä»¬å¯ä»¥æ¦æ¬ä¸ºä»¥ä¸ 5 ä¸ªæ­¥éª¤ï¼\n\n 1. å½æä½ç³»ç»åç°ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼éè¦è¢«åæ¢çæ¶åï¼ç´æ¥æ§å¶ PC æéè·³è½¬æ¯éå¸¸å±é©çäºæï¼æä»¥æä½ç³»ç»éè¦åéä¸ä¸ªâä¸­æ­âä¿¡å·ç» CPUï¼åä¸æ­£å¨æ§è¡çè¿ç¨ï¼çº¿ç¨ï¼ã\n 2. å½ CPU æ¶å°ä¸­æ­ä¿¡å·åï¼æ­£å¨æ§è¡çè¿ç¨ï¼çº¿ç¨ï¼ä¼ç«å³åæ­¢ãæ³¨æï¼å ä¸ºè¿ç¨ï¼çº¿ç¨ï¼é©¬ä¸è¢«åæ­¢ï¼å®è¿æ¥ä¸åä¿å­èªå·±çç¶æï¼æä»¥åç»­æä½ç³»ç»å¿é¡»å®æè¿ä»¶äºæã\n 3. æä½ç³»ç»æ¥ç®¡ä¸­æ­åï¼è¶å¯å­å¨æ°æ®è¿æ²¡æè¢«ç ´åï¼å¿é¡»é©¬ä¸æ§è¡ä¸å°æ®µéå¸¸åºå±çç¨åºï¼éå¸¸æ¯æ±ç¼ç¼åï¼ï¼å¸®å©å¯å­å¨ä¿å­ä¹åè¿ç¨ï¼çº¿ç¨ï¼çç¶æã\n 4. æä½ç³»ç»ä¿å­å¥½è¿ç¨ç¶æåï¼æ§è¡è°åº¦ç¨åºï¼å³å®ä¸ä¸ä¸ªè¦è¢«æ§è¡çè¿ç¨ï¼çº¿ç¨ï¼ã\n 5. æåï¼æä½ç³»ç»æ§è¡ä¸ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼ã\n\n\n\nå½ç¶ï¼ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼è¢«éæ©æ§è¡åï¼å®ä¼ç»§ç»­å®æä¹åè¢«ä¸­æ­æ¶çä»»å¡ï¼è¿éè¦æä½ç³»ç»æ¥æ§è¡ä¸å°æ®µåºå±çç¨åºå¸®å©è¿ç¨ï¼çº¿ç¨ï¼æ¢å¤ç¶æã\n\n\n\nä¸ç§å¯è½çç®æ³å°±æ¯éè¿æ è¿ç§æ°æ®ç»æãè¿ç¨ï¼çº¿ç¨ï¼ä¸­æ­åï¼æä½ç³»ç»è´è´£åæ å³é®æ°æ®ï¼æ¯å¦å¯å­å¨ï¼ãæ¢å¤æ§è¡æ¶ï¼æä½ç³»ç»è´è´£åºæ åæ¢å¤å¯å­å¨çå¼ã\n\n\n# ä¸ºä»ä¹åå»ºè¿ç¨å¼éæ¯çº¿ç¨å¤§ï¼\n\nLinux ä¸­åå»ºä¸ä¸ªè¿ç¨èªç¶ä¼åå»ºä¸ä¸ªçº¿ç¨ï¼ä¹å°±æ¯ä¸»çº¿ç¨ãåå»ºè¿ç¨éè¦ä¸ºè¿ç¨åååºä¸åå®æ´çåå­ç©ºé´ï¼æå¤§éçåå§åæä½ï¼æ¯å¦è¦æåå­åæ®µï¼å æ ãæ­£æåºç­ï¼ã\n\nåå»ºçº¿ç¨åç®åå¾å¤ï¼åªéè¦ç¡®å® PC æéåå¯å­å¨çå¼ï¼å¹¶ä¸ç»çº¿ç¨åéä¸ä¸ªæ ç¨äºæ§è¡ç¨åºï¼åä¸ä¸ªè¿ç¨çå¤ä¸ªçº¿ç¨é´å¯ä»¥å¤ç¨å æ ã\n\nå æ­¤ï¼åå»ºè¿ç¨æ¯åå»ºçº¿ç¨æ¢ï¼èä¸è¿ç¨çåå­å¼éæ´å¤§ã\n\n\n# åè\n\n17 è¿ç¨åçº¿ç¨ï¼è¿ç¨çå¼éæ¯çº¿ç¨å¤§å¨äºåªéï¼\n\nè¿ç¨åæ¢ä¸çº¿ç¨åæ¢çåºå«ï¼",normalizedContent:"ä¸è¨ä»¥è½ä¹ï¼èæå°åç©ºé´çåæ¢æ¯å¾æ¢çã\n\n\n# è¿ç¨åæ¢ä¸çº¿ç¨åæ¢\n\nè¿ç¨åæ¢ä¸çº¿ç¨åæ¢çä¸ä¸ªæä¸»è¦åºå«å°±å¨äºè¿ç¨åæ¢æ¶åå°èæå°åç©ºé´çåæ¢èçº¿ç¨åæ¢åä¸ä¼ãå ä¸ºæ¯ä¸ªè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼èçº¿ç¨æ¯å±äº«æå¨è¿ç¨çèæå°åç©ºé´çï¼å æ­¤åä¸ä¸ªè¿ç¨ä¸­ççº¿ç¨è¿è¡çº¿ç¨åæ¢æ¶ä¸æ¶åèæå°åç©ºé´çè½¬æ¢ã\n\nä¸¾ä¸ä¸ªä¸å¤ªæ°å½çä¾å­ï¼çº¿ç¨åæ¢å°±å¥½æ¯ä½ ä»ä¸»å§èµ°å°æ¬¡å§ï¼åæ­£ä¸»å§åæ¬¡å§é½å¨åä¸ä¸ªæ¿å­ä¸­(èæå°åç©ºé´)ï¼å æ­¤ä½ æ éæ¢éå­ãæ¢è¡£æç­ç­ãä½æ¯è¿ç¨åæ¢å°±ä¸ä¸æ ·äºï¼è¿ç¨åæ¢å°±å¥½æ¯ä»ä½ å®¶å°å«äººå®¶ï¼è¿æ¯ä¸¤ä¸ªä¸åçæ¿å­(ä¸åçèæå°åç©ºé´)ï¼åºåæ¶è¦æ¢å¥½è¡£æãéå­ç­ç­ï¼å°å«äººå®¶åè¿è¦åæ¢éå­ç­ç­ã\n\nå æ­¤æä»¬å¯ä»¥å½¢è±¡çè®¤ä¸ºçº¿ç¨æ¯å¤å¨åä¸ä¸ªå±æªä¸çï¼è¿éçå±æªå°±æ¯èæå°åç©ºé´ï¼å æ­¤çº¿ç¨é´åæ¢æ éèæå°åç©ºé´çåæ¢ï¼èè¿ç¨åä¸åï¼ä¸¤ä¸ªä¸åè¿ç¨ä½äºä¸åçå±æªä¸ï¼å³è¿ç¨ä½äºä¸åçèæå°åç©ºé´ï¼å æ­¤è¿ç¨åæ¢æ¶åå°èæå°åç©ºé´çåæ¢ï¼è¿ä¹æ¯ä¸ºä»ä¹è¿ç¨åæ¢è¦æ¯çº¿ç¨åæ¢æ¢çåå ã\n\næçåå­¦å¯è½è¿æ¯ä¸å¤ªæç½ï¼ä¸ºä»ä¹èæå°åç©ºé´åæ¢ä¼æ¯è¾èæ¶å¢ï¼\n\n\n# ä¸ºä»ä¹èæå°ååæ¢å¾æ¢\n\nç°å¨æä»¬å·²ç»ç¥éäºè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼æèæå°åè½¬æ¢ä¸ºç©çå°åéè¦æ¥æ¾é¡µè¡¨ï¼é¡µè¡¨æ¥æ¾æ¯ä¸ä¸ªå¾æ¢çè¿ç¨ï¼å æ­¤éå¸¸ä½¿ç¨cacheæ¥ç¼å­å¸¸ç¨çå°åæ å°ï¼è¿æ ·å¯ä»¥å éé¡µè¡¨æ¥æ¾ï¼è¿ä¸ªcacheå°±æ¯tlbï¼translation lookaside bufferï¼æä»¬ä¸éè¦å³å¿è¿ä¸ªåå­åªéè¦ç¥étlbæ¬è´¨ä¸å°±æ¯ä¸ä¸ªcacheï¼æ¯ç¨æ¥å éé¡µè¡¨æ¥æ¾çã\n\nç±äºæ¯ä¸ªè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼é£ä¹æ¾ç¶æ¯ä¸ªè¿ç¨é½æèªå·±çé¡µè¡¨ï¼é£ä¹å½è¿ç¨åæ¢åé¡µè¡¨ä¹è¦è¿è¡åæ¢ï¼é¡µè¡¨åæ¢åtlbå°±å¤±æäºï¼cacheå¤±æå¯¼è´å½ä¸­çéä½ï¼é£ä¹èæå°åè½¬æ¢ä¸ºç©çå°åå°±ä¼åæ¢ï¼è¡¨ç°åºæ¥çå°±æ¯ç¨åºè¿è¡ä¼åæ¢ï¼èçº¿ç¨åæ¢åä¸ä¼å¯¼è´tlbå¤±æï¼å ä¸ºçº¿ç¨çº¿ç¨æ éåæ¢å°åç©ºé´ï¼å æ­¤æä»¬éå¸¸è¯´çº¿ç¨åæ¢è¦æ¯è¾è¿ç¨åæ¢åï¼åå å°±å¨è¿éã\n\n\n# ä»ä¹æ¯èæåå­\n\nèæåå­æ¯æä½ç³»ç»ä¸ºæ¯ä¸ªè¿ç¨æä¾çä¸ç§æ½è±¡ï¼æ¯ä¸ªè¿ç¨é½æå±äºèªå·±çãç§æçãå°åè¿ç»­çèæåå­ï¼å½ç¶æä»¬ç¥éæç»è¿ç¨çæ°æ®åä»£ç å¿ç¶è¦æ¾å°ç©çåå­ä¸ï¼é£ä¹å¿é¡»ææç§æºå¶è½è®°ä½èæå°åç©ºé´ä¸­çæä¸ªæ°æ®è¢«æ¾å°äºåªä¸ªç©çåå­å°åä¸ï¼è¿å°±æ¯æè°çå°åç©ºé´æ å°ï¼ä¹å°±æ¯èæåå­å°åä¸ç©çåå­å°åçæ å°å³ç³»ã\n\né£ä¹æä½ç³»ç»æ¯å¦ä½è®°ä½è¿ç§æ å°å³ç³»çå¢ï¼ç­æ¡å°±æ¯é¡µè¡¨ï¼é¡µè¡¨ä¸­è®°å½äºèæåå­å°åå°ç©çåå­å°åçæ å°å³ç³»ãæäºé¡µè¡¨å°±å¯ä»¥å°èæå°åè½¬æ¢ä¸ºç©çåå­å°åäºï¼è¿ç§æºå¶å°±æ¯èæåå­ã\n\næ¯ä¸ªè¿ç¨é½æèªå·±çèæå°åç©ºé´ï¼è¿ç¨åçææçº¿ç¨å±äº«è¿ç¨çèæå°åç©ºé´ã\n\n\n# ä¸ºä»ä¹éè¦èæåå­\n\nå¯¹äºç¨åºåæ¥è¯´ï¼æä»¬å¨ç¼ç¨æ¶å®éä¸æ¯ä¸æä¹æå¿åå­é®é¢çï¼å¯¹äºä½¿ç¨javaãpythonãjavascriptç­å¨æç±»åè¯­è¨çç¨åºåæ¥è¯´æ´æ¯å¦æ­¤ï¼èªå¨åå­åæ¶æºå¶çå¼å¥ä½¿å¾ä½¿ç¨è¿ç±»è¯­è¨çç¨åºåå ä¹å®å¨ä¸ç¨å³å¿åå­é®é¢ï¼å³ä½¿å¯¹äºç¼è¯åè¯­è¨c/c++æ¥è¯´ï¼ç¨åºåéè¦å³å¿çä¹ä»ä»æ¯åå­çç³è¯·åéæ¾ã\n\næ»çæ¥è¯´ï¼ä½ä¸ºç¨åºå(æ è®ºä½¿ç¨ä»ä¹ç±»åçè¯­è¨)æä»¬æ ¹æ¬å°±ä¸å³å¿æ°æ®ä»¥åç¨åºè¢«æ¾å¨äºç©çåå­çåªä¸ªä½ç½®ä¸(è®¾è®¡å®ç°æä½ç³»ç»çç¨åºåé¤å¤)ï¼æä»¬å¯ä»¥ç®åçè®¤ä¸ºæä»¬çç¨åºç¬å åå­ï¼æ¯å¦å¨32ä½ç³»ç»ä¸æä»¬çè¿ç¨å ç¨çåå­ç©ºé´ä¸º4gï¼å¹¶ä¸æä»¬å¯ä»¥ç³è¯·è¶è¿ç©çåå­å¤§å°çç©ºé´ï¼æ¯å¦å¨åªæ256mbçç³»ç»ä¸ç¨åºåå¯ä»¥ç³è¯·1gå¤§å°çåå­ç©ºé´ï¼è¿ç§åè®¾æå¤§çè§£æ¾äºç¨åºåççäº§åã\n\nèè¿ç§åè®¾å®ç°çèååè£å°±æ¯èæåå­ã\n\n\n# ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼\n\nè¦çè§£ä¸ä¸ªææ¯ï¼å°±å¿é¡»çè§£å®ä¸ºä½èå­å¨ãæ»ä½æ¥è¯´ï¼èæåææ¯æ¯ä¸ºäºè§£å³åå­ä¸å¤ç¨çé®é¢ï¼é£ä¹åå­ä¸ºä½ä¸å¤ç¨å¢ï¼\n\nä¸»è¦æ¯å ä¸ºç¨åºè¶æ¥è¶å¤æãæ¯å¦è¯´æç°å¨ç»ä½ å½é³çæºå¨ä¸å°±æ 200 ä¸ªè¿ç¨ï¼ç®ååå­çæ¶èæ¯ 21gï¼æçåå­æ¯ 64g çï¼ä½æ¯å¤å¼ä¸äºç¨åºè¿æ¯ä¼è¢«å æ»¡ã å¦å¤ï¼å¦æä¸ä¸ªç¨åºéè¦ä½¿ç¨å¤§çåå­ï¼æ¯å¦ 1tï¼æ¯ä¸æ¯åºè¯¥æ¥éï¼å¦ææ¥éï¼é£ä¹ç¨åºå°±ä¼ä¸å¥½åï¼ç¨åºåå¿é¡»å°å¿ç¿¼ç¿¼å°å¤çåå­çä½¿ç¨ï¼é¿åè¶è¿åè®¸çåå­ä½¿ç¨éå¼ãä»¥ä¸æå°çè¿äºé½æ¯éè¦è§£å³çé®é¢ï¼ä¹æ¯èæåææ¯å­å¨çä»·å¼åæä¹ã\n\né£ä¹å¦ä½æ¥è§£å³è¿äºé®é¢å¢ï¼ åå²ä¸æè¿ä¸å°çè§£å³æ¹æ¡ï¼ä½æç»æ²æ·ä¸çæ¯èæåææ¯ãæ¥ä¸æ¥æä¸ºä½ ä»ç»ä¸ç§åå²ä¸å­å¨è¿ç swap ææ¯ä»¥åèæåææ¯ã\n\n\n# äº¤æ¢ï¼swapï¼ææ¯\n\nswap ææ¯åè®¸ä¸é¨åè¿ç¨ä½¿ç¨åå­ï¼ä¸ä½¿ç¨åå­çè¿ç¨æ°æ®åä¿å­å¨ç£çä¸ãæ³¨æï¼è¿éæå°çæ°æ®ï¼æ¯å®æ´çè¿ç¨æ°æ®ï¼åæ¬æ­£ææ®µï¼ç¨åºæä»¤ï¼ãæ°æ®æ®µãå æ æ®µç­ãè½®å°æä¸ªè¿ç¨æ§è¡çæ¶åï¼å°è¯ä¸ºè¿ä¸ªè¿ç¨å¨åå­ä¸­æ¾å°ä¸åç©ºé²çåºåãå¦æç©ºé´ä¸è¶³ï¼å°±èèææ²¡æå¨æ§è¡çè¿ç¨äº¤æ¢ï¼swapï¼å°ç£çä¸ï¼æç©ºé´è¾æªåºæ¥ç»éè¦çè¿ç¨ã\n\n\n\nä¸å¾ä¸­ï¼åå­è¢«æåæå¤ä¸ªåºåã åæ ¸ä½ä¸ºä¸ä¸ªç¨åºä¹éè¦èªå·±çåå­ãå¦å¤æ¯ä¸ªè¿ç¨ç¬ç«å¾å°ä¸ä¸ªç©ºé´ââæä»¬ç§°ä¸ºå°åç©ºé´ï¼address spaceï¼ãä½ å¯ä»¥è®¤ä¸ºå°åç©ºé´æ¯ä¸åè¿ç»­åéçåå­åãæ¯ä¸ªè¿ç¨å¨ä¸åå°åç©ºé´ä¸­å·¥ä½ï¼ææäºä¸ä¸ªåå§çèæåææ¯ã\n\næ¯å¦ï¼å½è¿ç¨ a æ³è®¿é®å°å 100 çæ¶åï¼å®éä¸è®¿é®çå°åæ¯åºäºå°åç©ºé´æ¬èº«ä½ç½®ï¼é¦å­èå°åï¼è®¡ç®åºæ¥çãå¦å¤ï¼å½è¿ç¨ a æ§è¡æ¶ï¼cpu ä¸­ä¼ä¿å­å®å°åç©ºé´çå¼å§ä½ç½®åç»æä½ç½®ï¼å½å®æ³è®¿é®è¶è¿å°åç©ºé´å®¹éçå°åæ¶ï¼cpu ä¼æ£æ¥ç¶åæ¥éã\n\nä¸å¾æè¿°çè¿ç§æ¹æ³ï¼æ¯ä¸ç§æ¯è¾åå§çèæåææ¯ï¼è¿ç¨ä½¿ç¨çæ¯åºäºå°åç©ºé´çèæå°åãä½æ¯è¿ç§æ¹æ¡æå¾å¤ææ¾çç¼ºé·ï¼æ¯å¦ï¼\n\n 1. ç¢çé®é¢ï¼ä¸å¾ä¸­æä»¬çå°è¿ç¨æ¥ååéãåæ¶äº¤æ¢ï¼åå­ä¹é´ä¼äº§çå¾å¤ç¼éãç»è¿ååå¤å¤ä½¿ç¨ï¼åå­çæåµä¼åå¾ååå¤æï¼å¯¼è´æ´ä½æ§è½ä¸éã\n 2. é¢ç¹åæ¢é®é¢ï¼å¦æè¿ç¨è¿å¤ï¼åå­è¾å°ï¼ä¼é¢ç¹è§¦åäº¤æ¢ã\n\nä½ å¯ä»¥åæèè¿ä¸¤ä¸ªé®é¢çè§£å³æ¹æ¡ï¼æ¥ä¸æ¥æä¼å¸¦ä½ è¿è¡ä¸äºæ´æ·±å¥å°æèââé¦åéæ° review ä¸æä»¬çè®¾è®¡ç®æ ã\n\n 1. éç¦»ï¼æ¯ä¸ªåºç¨æèªå·±çå°åç©ºé´ï¼äºä¸å½±åã\n 2. æ§è½ï¼é«é¢ä½¿ç¨çæ°æ®ä¿çå¨åå­ä¸­ãä½é¢ä½¿ç¨çæ°æ®æä¹åå°ç£çä¸ã\n 3. ç¨åºå¥½åï¼éä½ç¨åºåå¿æºè´æï¼ï¼è®©ç¨åºåä¸ç¨å³å¿åºå±è®¾æ½ã\n\nç°é¶æ®µï¼swap ææ¯å·²ç»åæ­¥è§£å³äºé®é¢ 1ãå³äºé®é¢ 2ï¼swap ææ¯å¨æ§è½ä¸å­å¨çç¢çãé¢ç¹åæ¢ç­ææ¾å£å¿ãå³äºé®é¢ 3ï¼ä½¿ç¨ swap ææ¯ï¼ç¨åºåéè¦æ¸æ¥å°ç¥éèªå·±çåºç¨ç¨å¤å°åå­ï¼å¹¶ä¸å°å¿ç¿¼ç¿¼å°ä½¿ç¨åå­ï¼é¿åéè¦éæ°ç³è¯·ï¼æèç åä¸æ­æ©å®¹çç®æ³ââè¿è®©ç¨åºå¿æºè´æè¾å¤§ã\n\nç»è¿ä»¥ä¸åæï¼éè¦æ´å¥½çè§£å³æ¹æ¡ï¼å°±æ¯æä»¬æ¥ä¸æ¥è¦å­¦ä¹ çèæåææ¯ã\n\n\n# èæåå­\n\nèæåææ¯ä¸­ï¼æä½ç³»ç»è®¾è®¡äºèæåå­ï¼çè®ºä¸å¯ä»¥æ éå¤§çç©ºé´ï¼ï¼åéäº cpu çå¤çè½åï¼éå¸¸ 64bit cpuï¼å°±æ¯ 264 ä¸ªå°åã\n\nèæåææ¯ä¸­ï¼åºç¨ä½¿ç¨çæ¯èæåå­ï¼æä½ç³»ç»ç®¡çèæåå­åçå®åå­ä¹é´çæ å°ãæä½ç³»ç»å°èæåå­åææ´é½å°åï¼æ¯ä¸ªå°åç§°ä¸ºä¸ä¸ªé¡µï¼pageï¼ãä¹æä»¥è¿æ ·åï¼åå ä¸»è¦æä»¥ä¸ä¸¤ä¸ªæ¹é¢ã\n\n * ä¸æ¹é¢åºç¨ä½¿ç¨åå­æ¯ä»¥é¡µä¸ºåä½ï¼æ´é½çé¡µè½å¤é¿ååå­ç¢çé®é¢ã\n * å¦ä¸æ¹é¢ï¼æ¯ä¸ªåºç¨é½æé«é¢ä½¿ç¨çæ°æ®åä½é¢ä½¿ç¨çæ°æ®ãè¿æ ·åï¼æä½ç³»ç»å°±ä¸å¿ä»åºç¨è§åº¦å»æèåªä¸ªè¿ç¨æ¯é«é¢çï¼ä»éæèåªäºé¡µè¢«é«é¢ä½¿ç¨ãåªäºé¡µè¢«ä½é¢ä½¿ç¨ãå¦ææ¯ä½é¢ä½¿ç¨ï¼å°±å°å®ä»¬ä¿å­å°ç¡¬çä¸ï¼å¦ææ¯é«é¢ä½¿ç¨ï¼å°±è®©å®ä»¬ä¿çå¨çå®åå­ä¸­ã\n\nå¦æä¸ä¸ªåºç¨éè¦éå¸¸å¤§çåå­ï¼åºç¨ç³è¯·çæ¯èæåå­ä¸­çå¾å¤ä¸ªé¡µï¼çå®åå­ä¸ä¸å®éè¦å¤ç¨ã\n\n\n# è¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­åæ¢\n\nè¿ç¨ï¼çº¿ç¨ï¼å¨æä½ç³»ç»ä¸­æ¯ä¸æ­åæ¢çï¼ç°ä»£æä½ç³»ç»ä¸­åªæçº¿ç¨çåæ¢ã\n\næ¯æ¬¡åæ¢éè¦åä¿å­å½åå¯å­å¨çå¼çåå­ï¼æ³¨æ pc æéä¹æ¯ä¸ç§å¯å­å¨ãå½æ¢å¤æ§è¡çæ¶åï¼å°±éè¦ä»åå­ä¸­è¯»åºææçå¯å­å¨ï¼æ¢å¤ä¹åçç¶æï¼ç¶åæ§è¡ã\n\n\n\nä¸é¢è®²å°çåå®¹ï¼æä»¬å¯ä»¥æ¦æ¬ä¸ºä»¥ä¸ 5 ä¸ªæ­¥éª¤ï¼\n\n 1. å½æä½ç³»ç»åç°ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼éè¦è¢«åæ¢çæ¶åï¼ç´æ¥æ§å¶ pc æéè·³è½¬æ¯éå¸¸å±é©çäºæï¼æä»¥æä½ç³»ç»éè¦åéä¸ä¸ªâä¸­æ­âä¿¡å·ç» cpuï¼åä¸æ­£å¨æ§è¡çè¿ç¨ï¼çº¿ç¨ï¼ã\n 2. å½ cpu æ¶å°ä¸­æ­ä¿¡å·åï¼æ­£å¨æ§è¡çè¿ç¨ï¼çº¿ç¨ï¼ä¼ç«å³åæ­¢ãæ³¨æï¼å ä¸ºè¿ç¨ï¼çº¿ç¨ï¼é©¬ä¸è¢«åæ­¢ï¼å®è¿æ¥ä¸åä¿å­èªå·±çç¶æï¼æä»¥åç»­æä½ç³»ç»å¿é¡»å®æè¿ä»¶äºæã\n 3. æä½ç³»ç»æ¥ç®¡ä¸­æ­åï¼è¶å¯å­å¨æ°æ®è¿æ²¡æè¢«ç ´åï¼å¿é¡»é©¬ä¸æ§è¡ä¸å°æ®µéå¸¸åºå±çç¨åºï¼éå¸¸æ¯æ±ç¼ç¼åï¼ï¼å¸®å©å¯å­å¨ä¿å­ä¹åè¿ç¨ï¼çº¿ç¨ï¼çç¶æã\n 4. æä½ç³»ç»ä¿å­å¥½è¿ç¨ç¶æåï¼æ§è¡è°åº¦ç¨åºï¼å³å®ä¸ä¸ä¸ªè¦è¢«æ§è¡çè¿ç¨ï¼çº¿ç¨ï¼ã\n 5. æåï¼æä½ç³»ç»æ§è¡ä¸ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼ã\n\n\n\nå½ç¶ï¼ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼è¢«éæ©æ§è¡åï¼å®ä¼ç»§ç»­å®æä¹åè¢«ä¸­æ­æ¶çä»»å¡ï¼è¿éè¦æä½ç³»ç»æ¥æ§è¡ä¸å°æ®µåºå±çç¨åºå¸®å©è¿ç¨ï¼çº¿ç¨ï¼æ¢å¤ç¶æã\n\n\n\nä¸ç§å¯è½çç®æ³å°±æ¯éè¿æ è¿ç§æ°æ®ç»æãè¿ç¨ï¼çº¿ç¨ï¼ä¸­æ­åï¼æä½ç³»ç»è´è´£åæ å³é®æ°æ®ï¼æ¯å¦å¯å­å¨ï¼ãæ¢å¤æ§è¡æ¶ï¼æä½ç³»ç»è´è´£åºæ åæ¢å¤å¯å­å¨çå¼ã\n\n\n# ä¸ºä»ä¹åå»ºè¿ç¨å¼éæ¯çº¿ç¨å¤§ï¼\n\nlinux ä¸­åå»ºä¸ä¸ªè¿ç¨èªç¶ä¼åå»ºä¸ä¸ªçº¿ç¨ï¼ä¹å°±æ¯ä¸»çº¿ç¨ãåå»ºè¿ç¨éè¦ä¸ºè¿ç¨åååºä¸åå®æ´çåå­ç©ºé´ï¼æå¤§éçåå§åæä½ï¼æ¯å¦è¦æåå­åæ®µï¼å æ ãæ­£æåºç­ï¼ã\n\nåå»ºçº¿ç¨åç®åå¾å¤ï¼åªéè¦ç¡®å® pc æéåå¯å­å¨çå¼ï¼å¹¶ä¸ç»çº¿ç¨åéä¸ä¸ªæ ç¨äºæ§è¡ç¨åºï¼åä¸ä¸ªè¿ç¨çå¤ä¸ªçº¿ç¨é´å¯ä»¥å¤ç¨å æ ã\n\nå æ­¤ï¼åå»ºè¿ç¨æ¯åå»ºçº¿ç¨æ¢ï¼èä¸è¿ç¨çåå­å¼éæ´å¤§ã\n\n\n# åè\n\n17 è¿ç¨åçº¿ç¨ï¼è¿ç¨çå¼éæ¯çº¿ç¨å¤§å¨äºåªéï¼\n\nè¿ç¨åæ¢ä¸çº¿ç¨åæ¢çåºå«ï¼",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ç®è¿° Linux é¶æ·è´çåç",frontmatter:{title:"ç®è¿° Linux é¶æ·è´çåç",date:"2022-09-21T23:02:44.000Z",permalink:"/pages/b43547/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/130.%E7%AE%80%E8%BF%B0%20Linux%20%E9%9B%B6%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%8E%9F%E7%90%86.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/130.ç®è¿° Linux é¶æ·è´çåç.md",key:"v-7abb1115",path:"/pages/b43547/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿° Linux èæåå­çé¡µé¢ç½®æ¢ç®æ³",frontmatter:{title:"ç®è¿° Linux èæåå­çé¡µé¢ç½®æ¢ç®æ³",date:"2022-09-21T23:03:19.000Z",permalink:"/pages/93b870/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/160.%E7%AE%80%E8%BF%B0%20Linux%20%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%9A%84%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/160.ç®è¿° Linux èæåå­çé¡µé¢ç½®æ¢ç®æ³.md",key:"v-1a49912a",path:"/pages/93b870/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿°åå»ºè¿ç¨çæµç¨",frontmatter:{title:"ç®è¿°åå»ºè¿ç¨çæµç¨",date:"2022-09-21T23:03:08.000Z",permalink:"/pages/c64d20/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/150.%E7%AE%80%E8%BF%B0%E5%88%9B%E5%BB%BA%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%B5%81%E7%A8%8B.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/150.ç®è¿°åå»ºè¿ç¨çæµç¨.md",key:"v-63719191",path:"/pages/c64d20/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/09/26, 09:00:38",lastUpdatedTimestamp:1664154038e3},{title:"ç®è¿° Linux è¿ç¨è°åº¦çç®æ³",frontmatter:{title:"ç®è¿° Linux è¿ç¨è°åº¦çç®æ³",date:"2022-09-21T23:03:30.000Z",permalink:"/pages/36fd29/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/170.%E7%AE%80%E8%BF%B0%20Linux%20%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%9A%84%E7%AE%97%E6%B3%95.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/170.ç®è¿° Linux è¿ç¨è°åº¦çç®æ³.md",key:"v-85af5b9e",path:"/pages/36fd29/",headers:[{level:3,title:"åæ¶åè°åº¦",slug:"åæ¶åè°åº¦",normalizedTitle:"åæ¶åè°åº¦",charIndex:2},{level:4,title:"åéæ¶é´çæ®µ",slug:"åéæ¶é´çæ®µ",normalizedTitle:"åéæ¶é´çæ®µ",charIndex:179}],headersStr:"åæ¶åè°åº¦ åéæ¶é´çæ®µ",content:"# åæ¶åè°åº¦\n\nå ä¸ºéå¸¸æºå¨ä¸­ CPU æ ¸å¿æ°éå°ï¼ä»å ä¸ªå°å åä¸ªï¼ãè¿ç¨&çº¿ç¨æ°éå¾å¤ï¼ä»å åå°å ç¾çè³æ´å¤ï¼ï¼ä½ å¯ä»¥ç±»æ¯ä¸ºåå¨æºå°ï¼èæºå¨å¤ï¼å æ­¤è¿ç¨ä»¬å¨æä½ç³»ç»ä¸­åªè½æçéä¸ä¸ªä¸ªæ§è¡ãæ¯ä¸ªè¿ç¨å¨æ§è¡æ¶é½ä¼è·å¾æä½ç³»ç»åéçä¸ä¸ªæ¶é´çæ®µï¼å¦æè¶åºè¿ä¸ªæ¶é´ï¼å°±ä¼è½®å°ä¸ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼æ§è¡ãåå¼ºè°ä¸ä¸ï¼ç°ä»£æä½ç³»ç»é½æ¯ç´æ¥è°åº¦çº¿ç¨ï¼ä¸ä¼è°åº¦è¿ç¨ã\n\n# åéæ¶é´çæ®µ\n\nå¦ä¸å¾æç¤ºï¼è¿ç¨ 1 éè¦ 2 ä¸ªæ¶é´çæ®µï¼è¿ç¨ 2 åªæ 1 ä¸ªæ¶é´çæ®µï¼è¿ç¨ 3 éè¦ 3 ä¸ªæ¶é´çæ®µãå æ­¤å½è¿ç¨ 1 æ§è¡å°ä¸åæ¶ï¼ä¼åæèµ·ï¼ç¶åè¿ç¨ 2 å¼å§æ§è¡ï¼è¿ç¨ 2 ä¸æ¬¡å¯ä»¥æ§è¡å®ï¼ç¶åè¿ç¨ 3 å¼å§æ§è¡ï¼ä¸è¿è¿ç¨ 3 ä¸æ¬¡æ§è¡ä¸å®ï¼å¨æ§è¡äº 1 ä¸ªæ¶é´çæ®µåï¼è¿ç¨ 1 å¼å§æ§è¡ï¼å°±è¿æ ·å¦æ­¤å¨èå¤å§ãè¿ä¸ªå°±æ¯åæ¶ææ¯ã\n\n\n\nä¸é¢è¿å¼ å¾æ´å ç´è§ä¸äºï¼è¿ç¨ P1 åæ§è¡ä¸ä¸ªæ¶é´çæ®µï¼ç¶åè¿ç¨ P2 å¼å§æ§è¡ä¸ä¸ªæ¶é´çæ®µï¼ ç¶åè¿ç¨ P3ï¼ç¶åè¿ç¨ P4â¦â¦\n\n\n\næ³¨æï¼ä¸é¢çä¸¤å¼ å¾æ¯ä»¥è¿ç¨ä¸ºåä½æ¼ç¤ºï¼å¦ææ¢æçº¿ç¨ï¼æä½ç³»ç»ä¾æ§æ¯è¿ä¹å¤çã",normalizedContent:"# åæ¶åè°åº¦\n\nå ä¸ºéå¸¸æºå¨ä¸­ cpu æ ¸å¿æ°éå°ï¼ä»å ä¸ªå°å åä¸ªï¼ãè¿ç¨&çº¿ç¨æ°éå¾å¤ï¼ä»å åå°å ç¾çè³æ´å¤ï¼ï¼ä½ å¯ä»¥ç±»æ¯ä¸ºåå¨æºå°ï¼èæºå¨å¤ï¼å æ­¤è¿ç¨ä»¬å¨æä½ç³»ç»ä¸­åªè½æçéä¸ä¸ªä¸ªæ§è¡ãæ¯ä¸ªè¿ç¨å¨æ§è¡æ¶é½ä¼è·å¾æä½ç³»ç»åéçä¸ä¸ªæ¶é´çæ®µï¼å¦æè¶åºè¿ä¸ªæ¶é´ï¼å°±ä¼è½®å°ä¸ä¸ä¸ªè¿ç¨ï¼çº¿ç¨ï¼æ§è¡ãåå¼ºè°ä¸ä¸ï¼ç°ä»£æä½ç³»ç»é½æ¯ç´æ¥è°åº¦çº¿ç¨ï¼ä¸ä¼è°åº¦è¿ç¨ã\n\n# åéæ¶é´çæ®µ\n\nå¦ä¸å¾æç¤ºï¼è¿ç¨ 1 éè¦ 2 ä¸ªæ¶é´çæ®µï¼è¿ç¨ 2 åªæ 1 ä¸ªæ¶é´çæ®µï¼è¿ç¨ 3 éè¦ 3 ä¸ªæ¶é´çæ®µãå æ­¤å½è¿ç¨ 1 æ§è¡å°ä¸åæ¶ï¼ä¼åæèµ·ï¼ç¶åè¿ç¨ 2 å¼å§æ§è¡ï¼è¿ç¨ 2 ä¸æ¬¡å¯ä»¥æ§è¡å®ï¼ç¶åè¿ç¨ 3 å¼å§æ§è¡ï¼ä¸è¿è¿ç¨ 3 ä¸æ¬¡æ§è¡ä¸å®ï¼å¨æ§è¡äº 1 ä¸ªæ¶é´çæ®µåï¼è¿ç¨ 1 å¼å§æ§è¡ï¼å°±è¿æ ·å¦æ­¤å¨èå¤å§ãè¿ä¸ªå°±æ¯åæ¶ææ¯ã\n\n\n\nä¸é¢è¿å¼ å¾æ´å ç´è§ä¸äºï¼è¿ç¨ p1 åæ§è¡ä¸ä¸ªæ¶é´çæ®µï¼ç¶åè¿ç¨ p2 å¼å§æ§è¡ä¸ä¸ªæ¶é´çæ®µï¼ ç¶åè¿ç¨ p3ï¼ç¶åè¿ç¨ p4â¦â¦\n\n\n\næ³¨æï¼ä¸é¢çä¸¤å¼ å¾æ¯ä»¥è¿ç¨ä¸ºåä½æ¼ç¤ºï¼å¦ææ¢æçº¿ç¨ï¼æä½ç³»ç»ä¾æ§æ¯è¿ä¹å¤çã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"Linux ä¸å¦ä½æ¥çç«¯å£è¢«åªä¸ªè¿ç¨å ç¨ï¼",frontmatter:{title:"Linux ä¸å¦ä½æ¥çç«¯å£è¢«åªä¸ªè¿ç¨å ç¨ï¼",date:"2022-09-21T23:03:52.000Z",permalink:"/pages/4c2d8e/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/190.Linux%20%E4%B8%8B%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E8%A2%AB%E5%93%AA%E4%B8%AA%E8%BF%9B%E7%A8%8B%E5%8D%A0%E7%94%A8%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/190.Linux ä¸å¦ä½æ¥çç«¯å£è¢«åªä¸ªè¿ç¨å ç¨ï¼.md",key:"v-1ea2064a",path:"/pages/4c2d8e/",headers:[{level:2,title:"æ¹æ³ä¸",slug:"æ¹æ³ä¸",normalizedTitle:"æ¹æ³ä¸",charIndex:2},{level:2,title:"æ¹æ³äº",slug:"æ¹æ³äº",normalizedTitle:"æ¹æ³äº",charIndex:30}],headersStr:"æ¹æ³ä¸ æ¹æ³äº",content:"# æ¹æ³ä¸\n\nlsof -i:ç«¯å£å·\n\n\n1\n\n\n\n\n\n# æ¹æ³äº\n\nnetstat -tunpl |grep ç«¯å£å·\n\n\n1\n\n\n",normalizedContent:"# æ¹æ³ä¸\n\nlsof -i:ç«¯å£å·\n\n\n1\n\n\n\n\n\n# æ¹æ³äº\n\nnetstat -tunpl |grep ç«¯å£å·\n\n\n1\n\n\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ä»ä¹æ¶åä¼ç±ç¨æ·æé·å¥åæ ¸æï¼",frontmatter:{title:"ä»ä¹æ¶åä¼ç±ç¨æ·æé·å¥åæ ¸æï¼",date:"2022-09-21T23:03:41.000Z",permalink:"/pages/b84950/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/180.%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E7%94%B1%E7%94%A8%E6%88%B7%E6%80%81%E9%99%B7%E5%85%A5%E5%86%85%E6%A0%B8%E6%80%81%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/180.ä»ä¹æ¶åä¼ç±ç¨æ·æé·å¥åæ ¸æï¼.md",key:"v-8c3da672",path:"/pages/b84950/",headers:[{level:3,title:"ä»ä¹æ¯ç¨æ·æååæ ¸æ",slug:"ä»ä¹æ¯ç¨æ·æååæ ¸æ",normalizedTitle:"ä»ä¹æ¯ç¨æ·æååæ ¸æ",charIndex:543},{level:4,title:"ç¨æ·æååæ ¸æ",slug:"ç¨æ·æååæ ¸æ",normalizedTitle:"ç¨æ·æååæ ¸æ",charIndex:336},{level:4,title:"ç³»ç»è°ç¨è¿ç¨",slug:"ç³»ç»è°ç¨è¿ç¨",normalizedTitle:"ç³»ç»è°ç¨è¿ç¨",charIndex:837},{level:3,title:"çº¿ç¨æ¨¡å",slug:"çº¿ç¨æ¨¡å",normalizedTitle:"çº¿ç¨æ¨¡å",charIndex:1139},{level:4,title:"è¿ç¨åçº¿ç¨",slug:"è¿ç¨åçº¿ç¨",normalizedTitle:"è¿ç¨åçº¿ç¨",charIndex:1166},{level:4,title:"ç¨æ·æçº¿ç¨",slug:"ç¨æ·æçº¿ç¨",normalizedTitle:"ç¨æ·æçº¿ç¨",charIndex:0},{level:4,title:"åæ ¸æçº¿ç¨",slug:"åæ ¸æçº¿ç¨",normalizedTitle:"åæ ¸æçº¿ç¨",charIndex:13},{level:3,title:"ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´çæ å°å³ç³»",slug:"ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´çæ å°å³ç³»",normalizedTitle:"ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´çæ å°å³ç³»",charIndex:2486},{level:4,title:"å¤å¯¹ä¸ï¼Many to Oneï¼",slug:"å¤å¯¹ä¸-many-to-one",normalizedTitle:"å¤å¯¹ä¸ï¼many to oneï¼",charIndex:2975},{level:4,title:"ä¸å¯¹ä¸ï¼One to Oneï¼",slug:"ä¸å¯¹ä¸-one-to-one",normalizedTitle:"ä¸å¯¹ä¸ï¼one to oneï¼",charIndex:3159},{level:4,title:"å¤å¯¹å¤ï¼Many To Manyï¼",slug:"å¤å¯¹å¤-many-to-many",normalizedTitle:"å¤å¯¹å¤ï¼many to manyï¼",charIndex:3322},{level:4,title:"ä¸¤å±è®¾è®¡ï¼Two Levelï¼",slug:"ä¸¤å±è®¾è®¡-two-level",normalizedTitle:"ä¸¤å±è®¾è®¡ï¼two levelï¼",charIndex:3450},{level:3,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:3684}],headersStr:"ä»ä¹æ¯ç¨æ·æååæ ¸æ ç¨æ·æååæ ¸æ ç³»ç»è°ç¨è¿ç¨ çº¿ç¨æ¨¡å è¿ç¨åçº¿ç¨ ç¨æ·æçº¿ç¨ åæ ¸æçº¿ç¨ ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´çæ å°å³ç³» å¤å¯¹ä¸ï¼Many to Oneï¼ ä¸å¯¹ä¸ï¼One to Oneï¼ å¤å¯¹å¤ï¼Many To Manyï¼ ä¸¤å±è®¾è®¡ï¼Two Levelï¼ åè",content:"ç¨æ·æçº¿ç¨å·¥ä½å¨ç¨æ·ç©ºé´ï¼åæ ¸æçº¿ç¨å·¥ä½å¨åæ ¸ç©ºé´ãç¨æ·æçº¿ç¨è°åº¦å®å¨ç±è¿ç¨è´è´£ï¼éå¸¸å°±æ¯ç±è¿ç¨çä¸»çº¿ç¨è´è´£ã\n\nç¸å½äºè¿ç¨ä¸»çº¿ç¨çå»¶å±ï¼ä½¿ç¨çæ¯æä½ç³»ç»åéç»è¿ç¨ä¸»çº¿ç¨çæ¶é´çæ®µãåæ ¸çº¿ç¨ç±åæ ¸ç»´æ¤ï¼ç±æä½ç³»ç»è°åº¦ã\n\nç¨æ·æçº¿ç¨æ æ³è·¨æ ¸å¿ï¼ä¸ä¸ªè¿ç¨çå¤ä¸ªç¨æ·æçº¿ç¨ä¸è½å¹¶åï¼é»å¡ä¸ä¸ªç¨æ·æçº¿ç¨ä¼å¯¼è´è¿ç¨çä¸»çº¿ç¨é»å¡ï¼ç´æ¥äº¤åºæ§è¡æéã\n\nè¿äºé½æ¯ç¨æ·æçº¿ç¨çå£å¿ãåæ ¸çº¿ç¨å¯ä»¥ç¬ç«æ§è¡ï¼æä½ç³»ç»ä¼åéæ¶é´çæ®µã\n\nå æ­¤åæ ¸æçº¿ç¨æ´å®æ´ï¼ä¹ç§°ä½è½»éçº§è¿ç¨ãåæ ¸æçº¿ç¨åå»ºææ¬é«ï¼åæ¢ææ¬é«ï¼åå»ºå¤ªå¤è¿ä¼ç»è°åº¦ç®æ³å¢å ååï¼å æ­¤ä¸ä¼å¤ªå¤ã\n\nå®éæä½ä¸­ï¼å¾å¾ç»åä¸¤èä¼å¿ï¼å°ç¨æ·æçº¿ç¨éçå¨åæ ¸æçº¿ç¨ä¸­æ§è¡ã\n\nè¿æ¯ä¸ä¸ªç»ååçé®é¢ï¼ç±å¾å¤å°é®é¢ç»è£èæï¼æ¯å¦ï¼\n\n * ç¨æ·æååæ ¸ææ¯ä»ä¹ï¼\n * ç¨æ·çº§çº¿ç¨ååæ ¸çº§çº¿ç¨æ¯ä¸ä¸ªææ ·çå¯¹åºå³ç³»ï¼\n * åæ ¸ååºç³»ç»è°ç¨æ¯ä¸ä¸ªææ ·çè¿ç¨ï¼\n * â¦â¦\n\nèä¸è¿ä¸ªé®é¢è¿å³èå°äºæä»¬åé¢è¦å­¦ä¹ çå¤çº¿ç¨ãI/O æ¨¡åãç½ç»ä¼åç­ã æä»¥è¿æ¯ä¸éå¾ä¸éçé¢è¯é¢ç®ï¼å®ä¸æ¯ç®åèæä¸ªæ¦å¿µï¼èæ¯éè¿è®©æ±èèæ¯è¾ä¸¤ç§ä¸è¥¿ï¼ä»èèå¯ä½ å¯¹ç¥è¯æ´ä½çè®¤ç¥åçè§£ã\n\nä»å¤©å°±è¯·ä½ é¡ºçè¿ä¸ªé®é¢ï¼æ·±å¥å­¦ä¹ åæ ¸çå·¥ä½æºå¶ï¼åæä¸èµ·å»çè§£ç¨æ·æååæ ¸æã\n\n\n# ä»ä¹æ¯ç¨æ·æååæ ¸æ\n\nKernel è¿è¡å¨è¶çº§æéæ¨¡å¼ï¼Supervisor Modeï¼ä¸ï¼æä»¥æ¥æå¾é«çæéãæç§æéç®¡ççååï¼å¤æ°åºç¨ç¨åºåºè¯¥è¿è¡å¨æå°æéä¸ãå æ­¤ï¼å¾å¤æä½ç³»ç»ï¼å°åå­åæäºä¸¤ä¸ªåºåï¼\n\n * åæ ¸ç©ºé´ï¼Kernal Spaceï¼ï¼è¿ä¸ªç©ºé´åªæåæ ¸ç¨åºå¯ä»¥è®¿é®ï¼\n * ç¨æ·ç©ºé´ï¼User Spaceï¼ï¼è¿é¨ååå­ä¸é¨ç»åºç¨ç¨åºä½¿ç¨ã\n\n# ç¨æ·æååæ ¸æ\n\nç¨æ·ç©ºé´ä¸­çä»£ç è¢«éå¶äºåªè½ä½¿ç¨ä¸ä¸ªå±é¨çåå­ç©ºé´ï¼æä»¬è¯´è¿äºç¨åºå¨ç¨æ·æï¼User Modeï¼ æ§è¡ãåæ ¸ç©ºé´ä¸­çä»£ç å¯ä»¥è®¿é®ææåå­ï¼æä»¬ç§°è¿äºç¨åºå¨åæ ¸æï¼Kernal Modeï¼ æ§è¡ã\n\n# ç³»ç»è°ç¨è¿ç¨\n\nå¦æç¨æ·æç¨åºéè¦æ§è¡ç³»ç»è°ç¨ï¼å°±éè¦åæ¢å°åæ ¸ææ§è¡ãä¸é¢æä»¬æ¥è®²è®²è¿ä¸ªè¿ç¨çåçã\n\n\n\nå¦ä¸å¾æç¤ºï¼åæ ¸ç¨åºæ§è¡å¨åæ ¸æï¼Kernal Modeï¼ï¼ç¨æ·ç¨åºæ§è¡å¨ç¨æ·æï¼User Modeï¼ãå½åçç³»ç»è°ç¨æ¶ï¼ç¨æ·æçç¨åºåèµ·ç³»ç»è°ç¨ãå ä¸ºç³»ç»è°ç¨ä¸­çµæ¯ç¹ææä»¤ï¼ç¨æ·æç¨åºæéä¸è¶³ï¼å æ­¤ä¼ä¸­æ­æ§è¡ï¼ä¹å°±æ¯ Trapï¼Trap æ¯ä¸ç§ä¸­æ­ï¼ã\n\nåçä¸­æ­åï¼å½å CPU æ§è¡çç¨åºä¼ä¸­æ­ï¼è·³è½¬å°ä¸­æ­å¤çç¨åºãåæ ¸ç¨åºå¼å§æ§è¡ï¼ä¹å°±æ¯å¼å§å¤çç³»ç»è°ç¨ãåæ ¸å¤çå®æåï¼ä¸»å¨è§¦å Trapï¼è¿æ ·ä¼åæ¬¡åçä¸­æ­ï¼åæ¢åç¨æ·æå·¥ä½ãå³äºä¸­æ­ï¼æä»¬å°å¨â15 è¯¾æ¶âè¿è¡è¯¦ç»è®¨è®ºã\n\n\n# çº¿ç¨æ¨¡å\n\nä¸é¢æä»¬å­¦ä¹ äºç¨æ·æååæ ¸æï¼æ¥ä¸æ¥æä»¬ä»è¿ç¨åçº¿ç¨çè§åº¦è¿ä¸æ­¥æèæ¬è¯¾æ¶å¼å¤´æåºçé®é¢ã\n\n# è¿ç¨åçº¿ç¨\n\nä¸ä¸ªåºç¨ç¨åºå¯å¨åä¼å¨åå­ä¸­åå»ºä¸ä¸ªæ§è¡å¯æ¬ï¼è¿å°±æ¯è¿ç¨ãLinux çåæ ¸æ¯ä¸ä¸ª Monolithic Kernelï¼å®åæ ¸ï¼ï¼å æ­¤å¯ä»¥çä½ä¸ä¸ªè¿ç¨ãä¹å°±æ¯å¼æºçæ¶åï¼ç£ççåæ ¸éåè¢«å¯¼å¥åå­ä½ä¸ºä¸ä¸ªæ§è¡å¯æ¬ï¼æä¸ºåæ ¸è¿ç¨ã\n\nè¿ç¨å¯ä»¥åæç¨æ·æè¿ç¨ååæ ¸æè¿ç¨ä¸¤ç±»ãç¨æ·æè¿ç¨éå¸¸æ¯åºç¨ç¨åºçå¯æ¬ï¼åæ ¸æè¿ç¨å°±æ¯åæ ¸æ¬èº«çè¿ç¨ãå¦æç¨æ·æè¿ç¨éè¦ç³è¯·èµæºï¼æ¯å¦åå­ï¼å¯ä»¥éè¿ç³»ç»è°ç¨ååæ ¸ç³è¯·ã\n\né£ä¹ç¨æ·æè¿ç¨å¦æè¦æ§è¡ç¨åºï¼æ¯å¦ä¹è¦ååæ ¸ç³è¯·å¢ï¼\n\nç¨åºå¨ç°ä»£æä½ç³»ç»ä¸­å¹¶ä¸æ¯ä»¥è¿ç¨ä¸ºåä½å¨æ§è¡ï¼èæ¯ä»¥ä¸ç§è½»éçº§è¿ç¨ï¼Light Weighted Processï¼ï¼ä¹ç§°ä½çº¿ç¨ï¼Threadï¼çå½¢å¼æ§è¡ã\n\nä¸ä¸ªè¿ç¨å¯ä»¥æ¥æå¤ä¸ªçº¿ç¨ãè¿ç¨åå»ºçæ¶åï¼ä¸è¬ä¼æä¸ä¸ªä¸»çº¿ç¨éçè¿ç¨åå»ºèåå»ºã\n\n\n\nå¦æè¿ç¨æ³è¦åé æ´å¤ççº¿ç¨ï¼å°±éè¦æèä¸ä»¶äºæï¼è¿ä¸ªçº¿ç¨åå»ºå¨ç¨æ·æè¿æ¯åæ ¸æã\n\nä½ å¯è½ä¼é®ï¼é¾éä¸æ¯ç¨æ·æçè¿ç¨åå»ºç¨æ·æççº¿ç¨ï¼åæ ¸æçè¿ç¨åå»ºåæ ¸æççº¿ç¨åï¼\n\nå¶å®ä¸æ¯ï¼è¿ç¨å¯ä»¥éè¿ API åå»ºç¨æ·æççº¿ç¨ï¼ä¹å¯ä»¥éè¿ç³»ç»è°ç¨åå»ºåæ ¸æççº¿ç¨ï¼æ¥ä¸æ¥æä»¬è¯´è¯´ç¨æ·æççº¿ç¨ååæ ¸æççº¿ç¨ã\n\n# ç¨æ·æçº¿ç¨\n\nç¨æ·æçº¿ç¨ä¹ç§°ä½ç¨æ·çº§çº¿ç¨ï¼User Level Threadï¼ãæä½ç³»ç»åæ ¸å¹¶ä¸ç¥éå®çå­å¨ï¼å®å®å¨æ¯å¨ç¨æ·ç©ºé´ä¸­åå»ºã\n\nç¨æ·çº§çº¿ç¨æå¾å¤ä¼å¿ï¼æ¯å¦ã\n\n * ç®¡çå¼éå°ï¼åå»ºãéæ¯ä¸éè¦ç³»ç»è°ç¨ã\n * åæ¢ææ¬ä½ï¼ç¨æ·ç©ºé´ç¨åºå¯ä»¥èªå·±ç»´æ¤ï¼ä¸éè¦èµ°æä½ç³»ç»è°åº¦ã\n\nä½æ¯è¿ç§çº¿ç¨ä¹æå¾å¤çç¼ºç¹ã\n\n * ä¸åæ ¸åä½ææ¬é«ï¼æ¯å¦è¿ç§çº¿ç¨å®å¨æ¯ç¨æ·ç©ºé´ç¨åºå¨ç®¡çï¼å½å®è¿è¡ I/O çæ¶åï¼æ æ³å©ç¨å°åæ ¸çä¼å¿ï¼éè¦é¢ç¹è¿è¡ç¨æ·æå°åæ ¸æçåæ¢ã\n * çº¿ç¨é´åä½ææ¬é«ï¼è®¾æ³ä¸¤ä¸ªçº¿ç¨éè¦éä¿¡ï¼éä¿¡éè¦ I/Oï¼I/O éè¦ç³»ç»è°ç¨ï¼å æ­¤ç¨æ·æçº¿ç¨éè¦æ¯ä»é¢å¤çç³»ç»è°ç¨ææ¬ã\n * æ æ³å©ç¨å¤æ ¸ä¼å¿ï¼æ¯å¦æä½ç³»ç»è°åº¦çä»ç¶æ¯è¿ä¸ªçº¿ç¨æå±çè¿ç¨ï¼æä»¥æ è®ºæ¯æ¬¡ä¸ä¸ªè¿ç¨æå¤å°ç¨æ·æççº¿ç¨ï¼é½åªè½å¹¶åæ§è¡ä¸ä¸ªçº¿ç¨ï¼å æ­¤ä¸ä¸ªè¿ç¨çå¤ä¸ªçº¿ç¨æ æ³å©ç¨å¤æ ¸çä¼å¿ã\n * æä½ç³»ç»æ æ³éå¯¹çº¿ç¨è°åº¦è¿è¡ä¼åï¼å½ä¸ä¸ªè¿ç¨çä¸ä¸ªç¨æ·æçº¿ç¨é»å¡ï¼Blockï¼äºï¼æä½ç³»ç»æ æ³åæ¶åç°åå¤çé»å¡é®é¢ï¼å®ä¸ä¼æ´æ¢æ§è¡å¶ä»çº¿ç¨ï¼ä»èé æèµæºæµªè´¹ã\n\n# åæ ¸æçº¿ç¨\n\nåæ ¸æçº¿ç¨ä¹ç§°ä½åæ ¸çº§çº¿ç¨ï¼Kernel Level Threadï¼ãè¿ç§çº¿ç¨æ§è¡å¨åæ ¸æï¼å¯ä»¥éè¿ç³»ç»è°ç¨åé ä¸ä¸ªåæ ¸çº§çº¿ç¨ã\n\nåæ ¸çº§çº¿ç¨æå¾å¤ä¼å¿ã\n\n * å¯ä»¥å©ç¨å¤æ ¸ CPU ä¼å¿ï¼åæ ¸æ¥æè¾é«æéï¼å æ­¤å¯ä»¥å¨å¤ä¸ª CPU æ ¸å¿ä¸æ§è¡åæ ¸çº¿ç¨ã\n * æä½ç³»ç»çº§ä¼åï¼åæ ¸ä¸­ççº¿ç¨æä½ I/O ä¸éè¦è¿è¡ç³»ç»è°ç¨ï¼ä¸ä¸ªåæ ¸çº¿ç¨é»å¡äºï¼å¯ä»¥ç«å³è®©å¦ä¸ä¸ªæ§è¡ã\n\nå½ç¶åæ ¸çº¿ç¨ä¹æä¸äºç¼ºç¹ã\n\n * åå»ºææ¬é«ï¼åå»ºçæ¶åéè¦ç³»ç»è°ç¨ï¼ä¹å°±æ¯åæ¢å°åæ ¸æã\n * æ©å±æ§å·®ï¼ç±ä¸ä¸ªåæ ¸ç¨åºç®¡çï¼ä¸å¯è½æ°éå¤ªå¤ã\n * åæ¢ææ¬è¾é«ï¼åæ¢çæ¶åï¼ä¹åæ ·å­å¨éè¦åæ ¸æä½ï¼éè¦åæ¢åæ ¸æã\n\n\n# ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´çæ å°å³ç³»\n\nçº¿ç¨ç®åçè§£ï¼å°±æ¯è¦æ§è¡ä¸æ®µç¨åºãç¨åºä¸ä¼èªåçæ§è¡ï¼éè¦æä½ç³»ç»è¿è¡è°åº¦ãæä»¬æèè¿æ ·ä¸ä¸ªé®é¢ï¼å¦ææä¸ä¸ªç¨æ·æçè¿ç¨ï¼å®ä¸é¢æå¤ä¸ªçº¿ç¨ãå¦æè¿ä¸ªè¿ç¨æ³è¦æ§è¡ä¸é¢çæä¸ä¸ªçº¿ç¨ï¼åºè¯¥å¦ä½åå¢ï¼\n\nè¿æ¶ï¼æ¯è¾å¸¸è§çä¸ç§æ¹å¼ï¼å°±æ¯å°éè¦æ§è¡çç¨åºï¼è®©ä¸ä¸ªåæ ¸çº¿ç¨å»æ§è¡ãæ¯ç«ï¼åæ ¸çº¿ç¨æ¯çæ­£ççº¿ç¨ãå ä¸ºå®ä¼åéå° CPU çæ§è¡èµæºã\n\nå¦æä¸ä¸ªè¿ç¨ææççº¿ç¨é½è¦èªå·±è°åº¦ï¼ç¸å½äºå¨è¿ç¨çä¸»çº¿ç¨ä¸­å®ç°åæ¶ç®æ³è°åº¦æ¯ä¸ä¸ªçº¿ç¨ï¼ä¹å°±æ¯ææçº¿ç¨é½ç¨æä½ç³»ç»åéç»ä¸»çº¿ç¨çæ¶é´çæ®µæ§è¡ãè¿ç§åæ³ï¼ç¸å½äºæä½ç³»ç»è°åº¦è¿ç¨çä¸»çº¿ç¨ï¼è¿ç¨çä¸»çº¿ç¨è¿è¡äºçº§è°åº¦ï¼è°åº¦èªå·±åé¨ççº¿ç¨ã\n\nè¿æ ·æä½å£å¿éå¸¸ææ¾ï¼æ¯å¦æ æ³å©ç¨å¤æ ¸ä¼å¿ï¼æ¯ä¸ªçº¿ç¨è°åº¦åéå°çæ¶é´è¾å°ï¼èä¸è¿ç§çº¿ç¨å¨é»å¡åºæ¯ä¸ä¼ç´æ¥äº¤åºæ´ä¸ªè¿ç¨çæ§è¡æéã\n\nç±æ­¤å¯è§ï¼ç¨æ·æçº¿ç¨åå»ºææ¬ä½ï¼é®é¢ææ¾ï¼ä¸å¯ä»¥å©ç¨å¤æ ¸ãåæ ¸æçº¿ç¨ï¼åå»ºææ¬é«ï¼å¯ä»¥å©ç¨å¤æ ¸ï¼åæ¢éåº¦æ¢ãå æ­¤éå¸¸æä»¬ä¼å¨åæ ¸ä¸­é¢ååå»ºä¸äºçº¿ç¨ï¼å¹¶åå¤å©ç¨è¿äºçº¿ç¨ãè¿æ ·ï¼ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´å°±ææäºä¸é¢ 4 ç§å¯è½çå³ç³»ï¼\n\n# å¤å¯¹ä¸ï¼Many to Oneï¼\n\nç¨æ·æè¿ç¨ä¸­çå¤çº¿ç¨å¤ç¨ä¸ä¸ªåæ ¸æçº¿ç¨ãè¿æ ·ï¼æå¤§å°åå°äºåå»ºåæ ¸æçº¿ç¨çææ¬ï¼ä½æ¯çº¿ç¨ä¸å¯ä»¥å¹¶åãå æ­¤ï¼è¿ç§æ¨¡åç°å¨åºæ¬ä¸ç¨çå¾å°ãæåå¤è¯´ä¸å¥ï¼è¿éä½ å¯è½ä¼æçé®ï¼æ¯å¦ï¼ç¨æ·æçº¿ç¨æä¹ç¨åæ ¸æçº¿ç¨æ§è¡ç¨åºï¼\n\nç¨åºæ¯å­å¨å¨åå­ä¸­çæä»¤ï¼ç¨æ·æçº¿ç¨æ¯å¯ä»¥åå¤å¥½ç¨åºè®©åæ ¸æçº¿ç¨æ§è¡çãåé¢çå ç§æ¹å¼ä¹æ¯å©ç¨è¿æ ·çæ¹æ³ã\n\n\n\n# ä¸å¯¹ä¸ï¼One to Oneï¼\n\nè¯¥æ¨¡åä¸ºæ¯ä¸ªç¨æ·æççº¿ç¨åéä¸ä¸ªåç¬çåæ ¸æçº¿ç¨ï¼å¨è¿ç§æåµä¸ï¼æ¯ä¸ªç¨æ·æé½éè¦éè¿ç³»ç»è°ç¨åå»ºä¸ä¸ªç»å®çåæ ¸çº¿ç¨ï¼å¹¶éå å¨ä¸é¢æ§è¡ã è¿ç§æ¨¡ååè®¸ææçº¿ç¨å¹¶åæ§è¡ï¼è½å¤ååå©ç¨å¤æ ¸ä¼å¿ï¼Windows NT åæ ¸éåçå°±æ¯è¿ç§æ¨¡åãä½æ¯å ä¸ºçº¿ç¨è¾å¤ï¼å¯¹åæ ¸è°åº¦çååä¼ææ¾å¢å ã\n\n\n\n# å¤å¯¹å¤ï¼Many To Manyï¼\n\nè¿ç§æ¨¡å¼ä¸ä¼ä¸º n ä¸ªç¨æ·æçº¿ç¨åé m ä¸ªåæ ¸æçº¿ç¨ãm éå¸¸å¯ä»¥å°äº nãä¸ç§å¯è¡çç­ç¥æ¯å° m è®¾ç½®ä¸ºæ ¸æ°ãè¿ç§å¤å¯¹å¤çå³ç³»ï¼åå°äºåæ ¸çº¿ç¨ï¼åæ¶ä¹ä¿è¯äºå¤æ ¸å¿å¹¶åãLinux ç®åéç¨çå°±æ¯è¯¥æ¨¡åã\n\n\n\n# ä¸¤å±è®¾è®¡ï¼Two Levelï¼\n\nè¿ç§æ¨¡åæ··åäºå¤å¯¹å¤åä¸å¯¹ä¸çç¹ç¹ãå¤æ°ç¨æ·æçº¿ç¨ååæ ¸çº¿ç¨æ¯ n å¯¹ m çå³ç³»ï¼å°éç¨æ·çº¿ç¨å¯ä»¥æå®æ 1 å¯¹ 1 çå³ç³»ã\n\n\n\nä¸å¾æå±ç°çæ¯ä¸ä¸ªéå¸¸ç»å¸çè®¾è®¡ã\n\næä»¬è¿èè¯¾è®²è§£çé®é¢ãèèå°çæåµä»¥åè§£å³æ¹æ³ï¼å°ä¸ºä½ ä»åè§£å³å®éå·¥ä½åºæ¯ä¸­çé®é¢æä¸åå®çåºç¡ãæ¯å¦å¤çå¹¶åé®é¢ãI/O æ§è½ç¶é¢ãæèæ°æ®åºè¿æ¥æ± çéç½®ç­ï¼è¦æ³å®ç¾å°è§£å³é®é¢ï¼å°±å¿é¡»ææ¡è¿äºæ¨¡åï¼äºè§£é®é¢çæ¬è´¨ä¸æè½æ´å¥½å°æèé®é¢è¡çåºæ¥çé®é¢ã\n\n\n# åè\n\nç¨æ·æååæ ¸æï¼ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨æä»ä¹åºå«ï¼",normalizedContent:"ç¨æ·æçº¿ç¨å·¥ä½å¨ç¨æ·ç©ºé´ï¼åæ ¸æçº¿ç¨å·¥ä½å¨åæ ¸ç©ºé´ãç¨æ·æçº¿ç¨è°åº¦å®å¨ç±è¿ç¨è´è´£ï¼éå¸¸å°±æ¯ç±è¿ç¨çä¸»çº¿ç¨è´è´£ã\n\nç¸å½äºè¿ç¨ä¸»çº¿ç¨çå»¶å±ï¼ä½¿ç¨çæ¯æä½ç³»ç»åéç»è¿ç¨ä¸»çº¿ç¨çæ¶é´çæ®µãåæ ¸çº¿ç¨ç±åæ ¸ç»´æ¤ï¼ç±æä½ç³»ç»è°åº¦ã\n\nç¨æ·æçº¿ç¨æ æ³è·¨æ ¸å¿ï¼ä¸ä¸ªè¿ç¨çå¤ä¸ªç¨æ·æçº¿ç¨ä¸è½å¹¶åï¼é»å¡ä¸ä¸ªç¨æ·æçº¿ç¨ä¼å¯¼è´è¿ç¨çä¸»çº¿ç¨é»å¡ï¼ç´æ¥äº¤åºæ§è¡æéã\n\nè¿äºé½æ¯ç¨æ·æçº¿ç¨çå£å¿ãåæ ¸çº¿ç¨å¯ä»¥ç¬ç«æ§è¡ï¼æä½ç³»ç»ä¼åéæ¶é´çæ®µã\n\nå æ­¤åæ ¸æçº¿ç¨æ´å®æ´ï¼ä¹ç§°ä½è½»éçº§è¿ç¨ãåæ ¸æçº¿ç¨åå»ºææ¬é«ï¼åæ¢ææ¬é«ï¼åå»ºå¤ªå¤è¿ä¼ç»è°åº¦ç®æ³å¢å ååï¼å æ­¤ä¸ä¼å¤ªå¤ã\n\nå®éæä½ä¸­ï¼å¾å¾ç»åä¸¤èä¼å¿ï¼å°ç¨æ·æçº¿ç¨éçå¨åæ ¸æçº¿ç¨ä¸­æ§è¡ã\n\nè¿æ¯ä¸ä¸ªç»ååçé®é¢ï¼ç±å¾å¤å°é®é¢ç»è£èæï¼æ¯å¦ï¼\n\n * ç¨æ·æååæ ¸ææ¯ä»ä¹ï¼\n * ç¨æ·çº§çº¿ç¨ååæ ¸çº§çº¿ç¨æ¯ä¸ä¸ªææ ·çå¯¹åºå³ç³»ï¼\n * åæ ¸ååºç³»ç»è°ç¨æ¯ä¸ä¸ªææ ·çè¿ç¨ï¼\n * â¦â¦\n\nèä¸è¿ä¸ªé®é¢è¿å³èå°äºæä»¬åé¢è¦å­¦ä¹ çå¤çº¿ç¨ãi/o æ¨¡åãç½ç»ä¼åç­ã æä»¥è¿æ¯ä¸éå¾ä¸éçé¢è¯é¢ç®ï¼å®ä¸æ¯ç®åèæä¸ªæ¦å¿µï¼èæ¯éè¿è®©æ±èèæ¯è¾ä¸¤ç§ä¸è¥¿ï¼ä»èèå¯ä½ å¯¹ç¥è¯æ´ä½çè®¤ç¥åçè§£ã\n\nä»å¤©å°±è¯·ä½ é¡ºçè¿ä¸ªé®é¢ï¼æ·±å¥å­¦ä¹ åæ ¸çå·¥ä½æºå¶ï¼åæä¸èµ·å»çè§£ç¨æ·æååæ ¸æã\n\n\n# ä»ä¹æ¯ç¨æ·æååæ ¸æ\n\nkernel è¿è¡å¨è¶çº§æéæ¨¡å¼ï¼supervisor modeï¼ä¸ï¼æä»¥æ¥æå¾é«çæéãæç§æéç®¡ççååï¼å¤æ°åºç¨ç¨åºåºè¯¥è¿è¡å¨æå°æéä¸ãå æ­¤ï¼å¾å¤æä½ç³»ç»ï¼å°åå­åæäºä¸¤ä¸ªåºåï¼\n\n * åæ ¸ç©ºé´ï¼kernal spaceï¼ï¼è¿ä¸ªç©ºé´åªæåæ ¸ç¨åºå¯ä»¥è®¿é®ï¼\n * ç¨æ·ç©ºé´ï¼user spaceï¼ï¼è¿é¨ååå­ä¸é¨ç»åºç¨ç¨åºä½¿ç¨ã\n\n# ç¨æ·æååæ ¸æ\n\nç¨æ·ç©ºé´ä¸­çä»£ç è¢«éå¶äºåªè½ä½¿ç¨ä¸ä¸ªå±é¨çåå­ç©ºé´ï¼æä»¬è¯´è¿äºç¨åºå¨ç¨æ·æï¼user modeï¼ æ§è¡ãåæ ¸ç©ºé´ä¸­çä»£ç å¯ä»¥è®¿é®ææåå­ï¼æä»¬ç§°è¿äºç¨åºå¨åæ ¸æï¼kernal modeï¼ æ§è¡ã\n\n# ç³»ç»è°ç¨è¿ç¨\n\nå¦æç¨æ·æç¨åºéè¦æ§è¡ç³»ç»è°ç¨ï¼å°±éè¦åæ¢å°åæ ¸ææ§è¡ãä¸é¢æä»¬æ¥è®²è®²è¿ä¸ªè¿ç¨çåçã\n\n\n\nå¦ä¸å¾æç¤ºï¼åæ ¸ç¨åºæ§è¡å¨åæ ¸æï¼kernal modeï¼ï¼ç¨æ·ç¨åºæ§è¡å¨ç¨æ·æï¼user modeï¼ãå½åçç³»ç»è°ç¨æ¶ï¼ç¨æ·æçç¨åºåèµ·ç³»ç»è°ç¨ãå ä¸ºç³»ç»è°ç¨ä¸­çµæ¯ç¹ææä»¤ï¼ç¨æ·æç¨åºæéä¸è¶³ï¼å æ­¤ä¼ä¸­æ­æ§è¡ï¼ä¹å°±æ¯ trapï¼trap æ¯ä¸ç§ä¸­æ­ï¼ã\n\nåçä¸­æ­åï¼å½å cpu æ§è¡çç¨åºä¼ä¸­æ­ï¼è·³è½¬å°ä¸­æ­å¤çç¨åºãåæ ¸ç¨åºå¼å§æ§è¡ï¼ä¹å°±æ¯å¼å§å¤çç³»ç»è°ç¨ãåæ ¸å¤çå®æåï¼ä¸»å¨è§¦å trapï¼è¿æ ·ä¼åæ¬¡åçä¸­æ­ï¼åæ¢åç¨æ·æå·¥ä½ãå³äºä¸­æ­ï¼æä»¬å°å¨â15 è¯¾æ¶âè¿è¡è¯¦ç»è®¨è®ºã\n\n\n# çº¿ç¨æ¨¡å\n\nä¸é¢æä»¬å­¦ä¹ äºç¨æ·æååæ ¸æï¼æ¥ä¸æ¥æä»¬ä»è¿ç¨åçº¿ç¨çè§åº¦è¿ä¸æ­¥æèæ¬è¯¾æ¶å¼å¤´æåºçé®é¢ã\n\n# è¿ç¨åçº¿ç¨\n\nä¸ä¸ªåºç¨ç¨åºå¯å¨åä¼å¨åå­ä¸­åå»ºä¸ä¸ªæ§è¡å¯æ¬ï¼è¿å°±æ¯è¿ç¨ãlinux çåæ ¸æ¯ä¸ä¸ª monolithic kernelï¼å®åæ ¸ï¼ï¼å æ­¤å¯ä»¥çä½ä¸ä¸ªè¿ç¨ãä¹å°±æ¯å¼æºçæ¶åï¼ç£ççåæ ¸éåè¢«å¯¼å¥åå­ä½ä¸ºä¸ä¸ªæ§è¡å¯æ¬ï¼æä¸ºåæ ¸è¿ç¨ã\n\nè¿ç¨å¯ä»¥åæç¨æ·æè¿ç¨ååæ ¸æè¿ç¨ä¸¤ç±»ãç¨æ·æè¿ç¨éå¸¸æ¯åºç¨ç¨åºçå¯æ¬ï¼åæ ¸æè¿ç¨å°±æ¯åæ ¸æ¬èº«çè¿ç¨ãå¦æç¨æ·æè¿ç¨éè¦ç³è¯·èµæºï¼æ¯å¦åå­ï¼å¯ä»¥éè¿ç³»ç»è°ç¨ååæ ¸ç³è¯·ã\n\né£ä¹ç¨æ·æè¿ç¨å¦æè¦æ§è¡ç¨åºï¼æ¯å¦ä¹è¦ååæ ¸ç³è¯·å¢ï¼\n\nç¨åºå¨ç°ä»£æä½ç³»ç»ä¸­å¹¶ä¸æ¯ä»¥è¿ç¨ä¸ºåä½å¨æ§è¡ï¼èæ¯ä»¥ä¸ç§è½»éçº§è¿ç¨ï¼light weighted processï¼ï¼ä¹ç§°ä½çº¿ç¨ï¼threadï¼çå½¢å¼æ§è¡ã\n\nä¸ä¸ªè¿ç¨å¯ä»¥æ¥æå¤ä¸ªçº¿ç¨ãè¿ç¨åå»ºçæ¶åï¼ä¸è¬ä¼æä¸ä¸ªä¸»çº¿ç¨éçè¿ç¨åå»ºèåå»ºã\n\n\n\nå¦æè¿ç¨æ³è¦åé æ´å¤ççº¿ç¨ï¼å°±éè¦æèä¸ä»¶äºæï¼è¿ä¸ªçº¿ç¨åå»ºå¨ç¨æ·æè¿æ¯åæ ¸æã\n\nä½ å¯è½ä¼é®ï¼é¾éä¸æ¯ç¨æ·æçè¿ç¨åå»ºç¨æ·æççº¿ç¨ï¼åæ ¸æçè¿ç¨åå»ºåæ ¸æççº¿ç¨åï¼\n\nå¶å®ä¸æ¯ï¼è¿ç¨å¯ä»¥éè¿ api åå»ºç¨æ·æççº¿ç¨ï¼ä¹å¯ä»¥éè¿ç³»ç»è°ç¨åå»ºåæ ¸æççº¿ç¨ï¼æ¥ä¸æ¥æä»¬è¯´è¯´ç¨æ·æççº¿ç¨ååæ ¸æççº¿ç¨ã\n\n# ç¨æ·æçº¿ç¨\n\nç¨æ·æçº¿ç¨ä¹ç§°ä½ç¨æ·çº§çº¿ç¨ï¼user level threadï¼ãæä½ç³»ç»åæ ¸å¹¶ä¸ç¥éå®çå­å¨ï¼å®å®å¨æ¯å¨ç¨æ·ç©ºé´ä¸­åå»ºã\n\nç¨æ·çº§çº¿ç¨æå¾å¤ä¼å¿ï¼æ¯å¦ã\n\n * ç®¡çå¼éå°ï¼åå»ºãéæ¯ä¸éè¦ç³»ç»è°ç¨ã\n * åæ¢ææ¬ä½ï¼ç¨æ·ç©ºé´ç¨åºå¯ä»¥èªå·±ç»´æ¤ï¼ä¸éè¦èµ°æä½ç³»ç»è°åº¦ã\n\nä½æ¯è¿ç§çº¿ç¨ä¹æå¾å¤çç¼ºç¹ã\n\n * ä¸åæ ¸åä½ææ¬é«ï¼æ¯å¦è¿ç§çº¿ç¨å®å¨æ¯ç¨æ·ç©ºé´ç¨åºå¨ç®¡çï¼å½å®è¿è¡ i/o çæ¶åï¼æ æ³å©ç¨å°åæ ¸çä¼å¿ï¼éè¦é¢ç¹è¿è¡ç¨æ·æå°åæ ¸æçåæ¢ã\n * çº¿ç¨é´åä½ææ¬é«ï¼è®¾æ³ä¸¤ä¸ªçº¿ç¨éè¦éä¿¡ï¼éä¿¡éè¦ i/oï¼i/o éè¦ç³»ç»è°ç¨ï¼å æ­¤ç¨æ·æçº¿ç¨éè¦æ¯ä»é¢å¤çç³»ç»è°ç¨ææ¬ã\n * æ æ³å©ç¨å¤æ ¸ä¼å¿ï¼æ¯å¦æä½ç³»ç»è°åº¦çä»ç¶æ¯è¿ä¸ªçº¿ç¨æå±çè¿ç¨ï¼æä»¥æ è®ºæ¯æ¬¡ä¸ä¸ªè¿ç¨æå¤å°ç¨æ·æççº¿ç¨ï¼é½åªè½å¹¶åæ§è¡ä¸ä¸ªçº¿ç¨ï¼å æ­¤ä¸ä¸ªè¿ç¨çå¤ä¸ªçº¿ç¨æ æ³å©ç¨å¤æ ¸çä¼å¿ã\n * æä½ç³»ç»æ æ³éå¯¹çº¿ç¨è°åº¦è¿è¡ä¼åï¼å½ä¸ä¸ªè¿ç¨çä¸ä¸ªç¨æ·æçº¿ç¨é»å¡ï¼blockï¼äºï¼æä½ç³»ç»æ æ³åæ¶åç°åå¤çé»å¡é®é¢ï¼å®ä¸ä¼æ´æ¢æ§è¡å¶ä»çº¿ç¨ï¼ä»èé æèµæºæµªè´¹ã\n\n# åæ ¸æçº¿ç¨\n\nåæ ¸æçº¿ç¨ä¹ç§°ä½åæ ¸çº§çº¿ç¨ï¼kernel level threadï¼ãè¿ç§çº¿ç¨æ§è¡å¨åæ ¸æï¼å¯ä»¥éè¿ç³»ç»è°ç¨åé ä¸ä¸ªåæ ¸çº§çº¿ç¨ã\n\nåæ ¸çº§çº¿ç¨æå¾å¤ä¼å¿ã\n\n * å¯ä»¥å©ç¨å¤æ ¸ cpu ä¼å¿ï¼åæ ¸æ¥æè¾é«æéï¼å æ­¤å¯ä»¥å¨å¤ä¸ª cpu æ ¸å¿ä¸æ§è¡åæ ¸çº¿ç¨ã\n * æä½ç³»ç»çº§ä¼åï¼åæ ¸ä¸­ççº¿ç¨æä½ i/o ä¸éè¦è¿è¡ç³»ç»è°ç¨ï¼ä¸ä¸ªåæ ¸çº¿ç¨é»å¡äºï¼å¯ä»¥ç«å³è®©å¦ä¸ä¸ªæ§è¡ã\n\nå½ç¶åæ ¸çº¿ç¨ä¹æä¸äºç¼ºç¹ã\n\n * åå»ºææ¬é«ï¼åå»ºçæ¶åéè¦ç³»ç»è°ç¨ï¼ä¹å°±æ¯åæ¢å°åæ ¸æã\n * æ©å±æ§å·®ï¼ç±ä¸ä¸ªåæ ¸ç¨åºç®¡çï¼ä¸å¯è½æ°éå¤ªå¤ã\n * åæ¢ææ¬è¾é«ï¼åæ¢çæ¶åï¼ä¹åæ ·å­å¨éè¦åæ ¸æä½ï¼éè¦åæ¢åæ ¸æã\n\n\n# ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´çæ å°å³ç³»\n\nçº¿ç¨ç®åçè§£ï¼å°±æ¯è¦æ§è¡ä¸æ®µç¨åºãç¨åºä¸ä¼èªåçæ§è¡ï¼éè¦æä½ç³»ç»è¿è¡è°åº¦ãæä»¬æèè¿æ ·ä¸ä¸ªé®é¢ï¼å¦ææä¸ä¸ªç¨æ·æçè¿ç¨ï¼å®ä¸é¢æå¤ä¸ªçº¿ç¨ãå¦æè¿ä¸ªè¿ç¨æ³è¦æ§è¡ä¸é¢çæä¸ä¸ªçº¿ç¨ï¼åºè¯¥å¦ä½åå¢ï¼\n\nè¿æ¶ï¼æ¯è¾å¸¸è§çä¸ç§æ¹å¼ï¼å°±æ¯å°éè¦æ§è¡çç¨åºï¼è®©ä¸ä¸ªåæ ¸çº¿ç¨å»æ§è¡ãæ¯ç«ï¼åæ ¸çº¿ç¨æ¯çæ­£ççº¿ç¨ãå ä¸ºå®ä¼åéå° cpu çæ§è¡èµæºã\n\nå¦æä¸ä¸ªè¿ç¨ææççº¿ç¨é½è¦èªå·±è°åº¦ï¼ç¸å½äºå¨è¿ç¨çä¸»çº¿ç¨ä¸­å®ç°åæ¶ç®æ³è°åº¦æ¯ä¸ä¸ªçº¿ç¨ï¼ä¹å°±æ¯ææçº¿ç¨é½ç¨æä½ç³»ç»åéç»ä¸»çº¿ç¨çæ¶é´çæ®µæ§è¡ãè¿ç§åæ³ï¼ç¸å½äºæä½ç³»ç»è°åº¦è¿ç¨çä¸»çº¿ç¨ï¼è¿ç¨çä¸»çº¿ç¨è¿è¡äºçº§è°åº¦ï¼è°åº¦èªå·±åé¨ççº¿ç¨ã\n\nè¿æ ·æä½å£å¿éå¸¸ææ¾ï¼æ¯å¦æ æ³å©ç¨å¤æ ¸ä¼å¿ï¼æ¯ä¸ªçº¿ç¨è°åº¦åéå°çæ¶é´è¾å°ï¼èä¸è¿ç§çº¿ç¨å¨é»å¡åºæ¯ä¸ä¼ç´æ¥äº¤åºæ´ä¸ªè¿ç¨çæ§è¡æéã\n\nç±æ­¤å¯è§ï¼ç¨æ·æçº¿ç¨åå»ºææ¬ä½ï¼é®é¢ææ¾ï¼ä¸å¯ä»¥å©ç¨å¤æ ¸ãåæ ¸æçº¿ç¨ï¼åå»ºææ¬é«ï¼å¯ä»¥å©ç¨å¤æ ¸ï¼åæ¢éåº¦æ¢ãå æ­¤éå¸¸æä»¬ä¼å¨åæ ¸ä¸­é¢ååå»ºä¸äºçº¿ç¨ï¼å¹¶åå¤å©ç¨è¿äºçº¿ç¨ãè¿æ ·ï¼ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨ä¹é´å°±ææäºä¸é¢ 4 ç§å¯è½çå³ç³»ï¼\n\n# å¤å¯¹ä¸ï¼many to oneï¼\n\nç¨æ·æè¿ç¨ä¸­çå¤çº¿ç¨å¤ç¨ä¸ä¸ªåæ ¸æçº¿ç¨ãè¿æ ·ï¼æå¤§å°åå°äºåå»ºåæ ¸æçº¿ç¨çææ¬ï¼ä½æ¯çº¿ç¨ä¸å¯ä»¥å¹¶åãå æ­¤ï¼è¿ç§æ¨¡åç°å¨åºæ¬ä¸ç¨çå¾å°ãæåå¤è¯´ä¸å¥ï¼è¿éä½ å¯è½ä¼æçé®ï¼æ¯å¦ï¼ç¨æ·æçº¿ç¨æä¹ç¨åæ ¸æçº¿ç¨æ§è¡ç¨åºï¼\n\nç¨åºæ¯å­å¨å¨åå­ä¸­çæä»¤ï¼ç¨æ·æçº¿ç¨æ¯å¯ä»¥åå¤å¥½ç¨åºè®©åæ ¸æçº¿ç¨æ§è¡çãåé¢çå ç§æ¹å¼ä¹æ¯å©ç¨è¿æ ·çæ¹æ³ã\n\n\n\n# ä¸å¯¹ä¸ï¼one to oneï¼\n\nè¯¥æ¨¡åä¸ºæ¯ä¸ªç¨æ·æççº¿ç¨åéä¸ä¸ªåç¬çåæ ¸æçº¿ç¨ï¼å¨è¿ç§æåµä¸ï¼æ¯ä¸ªç¨æ·æé½éè¦éè¿ç³»ç»è°ç¨åå»ºä¸ä¸ªç»å®çåæ ¸çº¿ç¨ï¼å¹¶éå å¨ä¸é¢æ§è¡ã è¿ç§æ¨¡ååè®¸ææçº¿ç¨å¹¶åæ§è¡ï¼è½å¤ååå©ç¨å¤æ ¸ä¼å¿ï¼windows nt åæ ¸éåçå°±æ¯è¿ç§æ¨¡åãä½æ¯å ä¸ºçº¿ç¨è¾å¤ï¼å¯¹åæ ¸è°åº¦çååä¼ææ¾å¢å ã\n\n\n\n# å¤å¯¹å¤ï¼many to manyï¼\n\nè¿ç§æ¨¡å¼ä¸ä¼ä¸º n ä¸ªç¨æ·æçº¿ç¨åé m ä¸ªåæ ¸æçº¿ç¨ãm éå¸¸å¯ä»¥å°äº nãä¸ç§å¯è¡çç­ç¥æ¯å° m è®¾ç½®ä¸ºæ ¸æ°ãè¿ç§å¤å¯¹å¤çå³ç³»ï¼åå°äºåæ ¸çº¿ç¨ï¼åæ¶ä¹ä¿è¯äºå¤æ ¸å¿å¹¶åãlinux ç®åéç¨çå°±æ¯è¯¥æ¨¡åã\n\n\n\n# ä¸¤å±è®¾è®¡ï¼two levelï¼\n\nè¿ç§æ¨¡åæ··åäºå¤å¯¹å¤åä¸å¯¹ä¸çç¹ç¹ãå¤æ°ç¨æ·æçº¿ç¨ååæ ¸çº¿ç¨æ¯ n å¯¹ m çå³ç³»ï¼å°éç¨æ·çº¿ç¨å¯ä»¥æå®æ 1 å¯¹ 1 çå³ç³»ã\n\n\n\nä¸å¾æå±ç°çæ¯ä¸ä¸ªéå¸¸ç»å¸çè®¾è®¡ã\n\næä»¬è¿èè¯¾è®²è§£çé®é¢ãèèå°çæåµä»¥åè§£å³æ¹æ³ï¼å°ä¸ºä½ ä»åè§£å³å®éå·¥ä½åºæ¯ä¸­çé®é¢æä¸åå®çåºç¡ãæ¯å¦å¤çå¹¶åé®é¢ãi/o æ§è½ç¶é¢ãæèæ°æ®åºè¿æ¥æ± çéç½®ç­ï¼è¦æ³å®ç¾å°è§£å³é®é¢ï¼å°±å¿é¡»ææ¡è¿äºæ¨¡åï¼äºè§£é®é¢çæ¬è´¨ä¸æè½æ´å¥½å°æèé®é¢è¡çåºæ¥çé®é¢ã\n\n\n# åè\n\nç¨æ·æååæ ¸æï¼ç¨æ·æçº¿ç¨ååæ ¸æçº¿ç¨æä»ä¹åºå«ï¼",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"Linux ä¸­èæåå­åç©çåå­æä»ä¹åºå«ï¼æä»ä¹ä¼ç¹ï¼",frontmatter:{title:"Linux ä¸­èæåå­åç©çåå­æä»ä¹åºå«ï¼æä»ä¹ä¼ç¹ï¼",date:"2022-09-21T23:04:03.000Z",permalink:"/pages/3bab8c/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/200.Linux%20%E4%B8%AD%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E5%92%8C%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%82%B9%EF%BC%9F.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/200.Linux ä¸­èæåå­åç©çåå­æä»ä¹åºå«ï¼æä»ä¹ä¼ç¹ï¼.md",key:"v-db80e4da",path:"/pages/3bab8c/",headers:[{level:3,title:"ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼",slug:"ä¸ºä»ä¹åå­ä¸å¤ç¨",normalizedTitle:"ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼",charIndex:2},{level:4,title:"äº¤æ¢ï¼Swapï¼ææ¯",slug:"äº¤æ¢-swap-ææ¯",normalizedTitle:"äº¤æ¢ï¼swapï¼ææ¯",charIndex:341},{level:4,title:"èæåå­",slug:"èæåå­",normalizedTitle:"èæåå­",charIndex:1268},{level:3,title:"é¡µï¼Pageï¼åé¡µè¡¨",slug:"é¡µ-page-åé¡µè¡¨",normalizedTitle:"é¡µï¼pageï¼åé¡µè¡¨",charIndex:1644},{level:4,title:"MMU",slug:"mmu",normalizedTitle:"mmu",charIndex:2396},{level:4,title:"é¡µè¡¨æ¡ç®",slug:"é¡µè¡¨æ¡ç®",normalizedTitle:"é¡µè¡¨æ¡ç®",charIndex:2944},{level:3,title:"å¤§é¡µé¢é®é¢",slug:"å¤§é¡µé¢é®é¢",normalizedTitle:"å¤§é¡µé¢é®é¢",charIndex:3717}],headersStr:"ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼ äº¤æ¢ï¼Swapï¼ææ¯ èæåå­ é¡µï¼Pageï¼åé¡µè¡¨ MMU é¡µè¡¨æ¡ç® å¤§é¡µé¢é®é¢",content:"# ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼\n\nè¦çè§£ä¸ä¸ªææ¯ï¼å°±å¿é¡»çè§£å®ä¸ºä½èå­å¨ãæ»ä½æ¥è¯´ï¼èæåææ¯æ¯ä¸ºäºè§£å³åå­ä¸å¤ç¨çé®é¢ï¼é£ä¹åå­ä¸ºä½ä¸å¤ç¨å¢ï¼\n\nä¸»è¦æ¯å ä¸ºç¨åºè¶æ¥è¶å¤æãæ¯å¦è¯´æç°å¨ç»ä½ å½é³çæºå¨ä¸å°±æ 200 ä¸ªè¿ç¨ï¼ç®ååå­çæ¶èæ¯ 21Gï¼æçåå­æ¯ 64G çï¼ä½æ¯å¤å¼ä¸äºç¨åºè¿æ¯ä¼è¢«å æ»¡ã å¦å¤ï¼å¦æä¸ä¸ªç¨åºéè¦ä½¿ç¨å¤§çåå­ï¼æ¯å¦ 1Tï¼æ¯ä¸æ¯åºè¯¥æ¥éï¼å¦ææ¥éï¼é£ä¹ç¨åºå°±ä¼ä¸å¥½åï¼ç¨åºåå¿é¡»å°å¿ç¿¼ç¿¼å°å¤çåå­çä½¿ç¨ï¼é¿åè¶è¿åè®¸çåå­ä½¿ç¨éå¼ãä»¥ä¸æå°çè¿äºé½æ¯éè¦è§£å³çé®é¢ï¼ä¹æ¯èæåææ¯å­å¨çä»·å¼åæä¹ã\n\né£ä¹å¦ä½æ¥è§£å³è¿äºé®é¢å¢ï¼ åå²ä¸æè¿ä¸å°çè§£å³æ¹æ¡ï¼ä½æç»æ²æ·ä¸çæ¯èæåææ¯ãæ¥ä¸æ¥æä¸ºä½ ä»ç»ä¸ç§åå²ä¸å­å¨è¿ç Swap ææ¯ä»¥åèæåææ¯ã\n\n# äº¤æ¢ï¼Swapï¼ææ¯\n\nSwap ææ¯åè®¸ä¸é¨åè¿ç¨ä½¿ç¨åå­ï¼ä¸ä½¿ç¨åå­çè¿ç¨æ°æ®åä¿å­å¨ç£çä¸ãæ³¨æï¼è¿éæå°çæ°æ®ï¼æ¯å®æ´çè¿ç¨æ°æ®ï¼åæ¬æ­£ææ®µï¼ç¨åºæä»¤ï¼ãæ°æ®æ®µãå æ æ®µç­ãè½®å°æä¸ªè¿ç¨æ§è¡çæ¶åï¼å°è¯ä¸ºè¿ä¸ªè¿ç¨å¨åå­ä¸­æ¾å°ä¸åç©ºé²çåºåãå¦æç©ºé´ä¸è¶³ï¼å°±èèææ²¡æå¨æ§è¡çè¿ç¨äº¤æ¢ï¼Swapï¼å°ç£çä¸ï¼æç©ºé´è¾æªåºæ¥ç»éè¦çè¿ç¨ã\n\n\n\nä¸å¾ä¸­ï¼åå­è¢«æåæå¤ä¸ªåºåã åæ ¸ä½ä¸ºä¸ä¸ªç¨åºä¹éè¦èªå·±çåå­ãå¦å¤æ¯ä¸ªè¿ç¨ç¬ç«å¾å°ä¸ä¸ªç©ºé´ââæä»¬ç§°ä¸ºå°åç©ºé´ï¼Address Spaceï¼ãä½ å¯ä»¥è®¤ä¸ºå°åç©ºé´æ¯ä¸åè¿ç»­åéçåå­åãæ¯ä¸ªè¿ç¨å¨ä¸åå°åç©ºé´ä¸­å·¥ä½ï¼ææäºä¸ä¸ªåå§çèæåææ¯ã\n\næ¯å¦ï¼å½è¿ç¨ A æ³è®¿é®å°å 100 çæ¶åï¼å®éä¸è®¿é®çå°åæ¯åºäºå°åç©ºé´æ¬èº«ä½ç½®ï¼é¦å­èå°åï¼è®¡ç®åºæ¥çãå¦å¤ï¼å½è¿ç¨ A æ§è¡æ¶ï¼CPU ä¸­ä¼ä¿å­å®å°åç©ºé´çå¼å§ä½ç½®åç»æä½ç½®ï¼å½å®æ³è®¿é®è¶è¿å°åç©ºé´å®¹éçå°åæ¶ï¼CPU ä¼æ£æ¥ç¶åæ¥éã\n\nä¸å¾æè¿°çè¿ç§æ¹æ³ï¼æ¯ä¸ç§æ¯è¾åå§çèæåææ¯ï¼è¿ç¨ä½¿ç¨çæ¯åºäºå°åç©ºé´çèæå°åãä½æ¯è¿ç§æ¹æ¡æå¾å¤ææ¾çç¼ºé·ï¼æ¯å¦ï¼\n\n 1. ç¢çé®é¢ï¼ä¸å¾ä¸­æä»¬çå°è¿ç¨æ¥ååéãåæ¶äº¤æ¢ï¼åå­ä¹é´ä¼äº§çå¾å¤ç¼éãç»è¿ååå¤å¤ä½¿ç¨ï¼åå­çæåµä¼åå¾ååå¤æï¼å¯¼è´æ´ä½æ§è½ä¸éã\n 2. é¢ç¹åæ¢é®é¢ï¼å¦æè¿ç¨è¿å¤ï¼åå­è¾å°ï¼ä¼é¢ç¹è§¦åäº¤æ¢ã\n\nä½ å¯ä»¥åæèè¿ä¸¤ä¸ªé®é¢çè§£å³æ¹æ¡ï¼æ¥ä¸æ¥æä¼å¸¦ä½ è¿è¡ä¸äºæ´æ·±å¥å°æèââé¦åéæ° Review ä¸æä»¬çè®¾è®¡ç®æ ã\n\n 1. éç¦»ï¼æ¯ä¸ªåºç¨æèªå·±çå°åç©ºé´ï¼äºä¸å½±åã\n 2. æ§è½ï¼é«é¢ä½¿ç¨çæ°æ®ä¿çå¨åå­ä¸­ãä½é¢ä½¿ç¨çæ°æ®æä¹åå°ç£çä¸ã\n 3. ç¨åºå¥½åï¼éä½ç¨åºåå¿æºè´æï¼ï¼è®©ç¨åºåä¸ç¨å³å¿åºå±è®¾æ½ã\n\nç°é¶æ®µï¼Swap ææ¯å·²ç»åæ­¥è§£å³äºé®é¢ 1ãå³äºé®é¢ 2ï¼Swap ææ¯å¨æ§è½ä¸å­å¨çç¢çãé¢ç¹åæ¢ç­ææ¾å£å¿ãå³äºé®é¢ 3ï¼ä½¿ç¨ Swap ææ¯ï¼ç¨åºåéè¦æ¸æ¥å°ç¥éèªå·±çåºç¨ç¨å¤å°åå­ï¼å¹¶ä¸å°å¿ç¿¼ç¿¼å°ä½¿ç¨åå­ï¼é¿åéè¦éæ°ç³è¯·ï¼æèç åä¸æ­æ©å®¹çç®æ³ââè¿è®©ç¨åºå¿æºè´æè¾å¤§ã\n\nç»è¿ä»¥ä¸åæï¼éè¦æ´å¥½çè§£å³æ¹æ¡ï¼å°±æ¯æä»¬æ¥ä¸æ¥è¦å­¦ä¹ çèæåææ¯ã\n\n# èæåå­\n\nèæåææ¯ä¸­ï¼æä½ç³»ç»è®¾è®¡äºèæåå­ï¼çè®ºä¸å¯ä»¥æ éå¤§çç©ºé´ï¼ï¼åéäº CPU çå¤çè½åï¼éå¸¸ 64bit CPUï¼å°±æ¯ 264 ä¸ªå°åã\n\nèæåææ¯ä¸­ï¼åºç¨ä½¿ç¨çæ¯èæåå­ï¼æä½ç³»ç»ç®¡çèæåå­åçå®åå­ä¹é´çæ å°ãæä½ç³»ç»å°èæåå­åææ´é½å°åï¼æ¯ä¸ªå°åç§°ä¸ºä¸ä¸ªé¡µï¼Pageï¼ãä¹æä»¥è¿æ ·åï¼åå ä¸»è¦æä»¥ä¸ä¸¤ä¸ªæ¹é¢ã\n\n * ä¸æ¹é¢åºç¨ä½¿ç¨åå­æ¯ä»¥é¡µä¸ºåä½ï¼æ´é½çé¡µè½å¤é¿ååå­ç¢çé®é¢ã\n * å¦ä¸æ¹é¢ï¼æ¯ä¸ªåºç¨é½æé«é¢ä½¿ç¨çæ°æ®åä½é¢ä½¿ç¨çæ°æ®ãè¿æ ·åï¼æä½ç³»ç»å°±ä¸å¿ä»åºç¨è§åº¦å»æèåªä¸ªè¿ç¨æ¯é«é¢çï¼ä»éæèåªäºé¡µè¢«é«é¢ä½¿ç¨ãåªäºé¡µè¢«ä½é¢ä½¿ç¨ãå¦ææ¯ä½é¢ä½¿ç¨ï¼å°±å°å®ä»¬ä¿å­å°ç¡¬çä¸ï¼å¦ææ¯é«é¢ä½¿ç¨ï¼å°±è®©å®ä»¬ä¿çå¨çå®åå­ä¸­ã\n\nå¦æä¸ä¸ªåºç¨éè¦éå¸¸å¤§çåå­ï¼åºç¨ç³è¯·çæ¯èæåå­ä¸­çå¾å¤ä¸ªé¡µï¼çå®åå­ä¸ä¸å®éè¦å¤ç¨ã\n\n\n# é¡µï¼Pageï¼åé¡µè¡¨\n\næ¥ä¸æ¥ï¼æä»¬è¯¦ç»è®¨è®ºä¸è¿ä¸ªè®¾è®¡ãæä½ç³»ç»å°èæåå­ååï¼æ¯ä¸ªå°åç§°ä¸ºä¸ä¸ªé¡µï¼Pageï¼ï¼çå®åå­ä¹éè¦ååï¼æ¯ä¸ªå°åæä»¬ç§°ä¸ºä¸ä¸ª FrameãPage å° Frame çæ å°ï¼éè¦ä¸ç§å«ä½é¡µè¡¨çç»æã\n\nä¸å¾å±ç¤ºäº PageãFrame åé¡µè¡¨ ï¼PageTableï¼ä¸èä¹é´çå³ç³»ã Page å¤§å°å Frame å¤§å°éå¸¸ç¸ç­ï¼é¡µè¡¨ä¸­è®°å½çæä¸ª Page å¯¹åºç Frame ç¼å·ãé¡µè¡¨ä¹éè¦å­å¨ç©ºé´ï¼æ¯å¦èæåå­å¤§å°ä¸º 10Gï¼ Page å¤§å°æ¯ 4Kï¼é£ä¹éè¦ 10G/4K = 2621440 ä¸ªæ¡ç®ãå¦ææ¯ä¸ªæ¡ç®æ¯ 64bitï¼é£ä¹ä¸å±éè¦ 20480K = 20M é¡µè¡¨ãæä½ç³»ç»å¨åå­ä¸­åååºå°ååºåç»é¡µè¡¨ï¼å¹¶è´è´£ç»´æ¤é¡µè¡¨ã\n\né¡µè¡¨ç»´æ¤äºèæå°åå°çå®å°åçæ å°ãæ¯æ¬¡ç¨åºä½¿ç¨åå­æ¶ï¼éè¦æèæåå­å°åæ¢ç®æç©çåå­å°åï¼æ¢ç®è¿ç¨åä¸ºä»¥ä¸ 3 ä¸ªæ­¥éª¤ï¼\n\n 1. éè¿èæå°åè®¡ç® Page ç¼å·ï¼\n 2. æ¥é¡µè¡¨ï¼æ ¹æ® Page ç¼å·ï¼æ¾å° Frame ç¼å·ï¼\n 3. å°èæå°åæ¢ç®æç©çå°åã\n\nä¸é¢æéè¿ä¸ä¸ªä¾å­ç»ä½ è®²è§£ä¸é¢è¿ä¸ªæ¢ç®çè¿ç¨ï¼å¦æé¡µå¤§å°æ¯ 4Kï¼åè®¾ç¨åºè¦è®¿é®å°åï¼100,000ãé£ä¹è®¡ç®è¿ç¨å¦ä¸ã\n\n 1. é¡µç¼å·ï¼Page Numberï¼ = 100,000/4096 = 24 ä½1619ã 24 æ¯é¡µç¼å·ï¼1619 æ¯å°ååç§»éï¼Offsetï¼ã\n 2. æ¥è¯¢é¡µè¡¨ï¼å¾å° 24 å³èç Frame ç¼å·ï¼åè®¾æ¥å° Frame ç¼å· = 10ï¼ã\n 3. æ¢ç®ï¼éå¸¸ Frame å Page å¤§å°ç¸ç­ï¼æ¿æ¢ Page Number ä¸º Frame Number ç©çå°å = 4096 * 10 + 1619 = 42579ã\n\n# MMU\n\nä¸é¢çè¿ç¨åçå¨ CPU ä¸­ä¸ä¸ªå°åçè®¾å¤ââåå­ç®¡çååï¼Memory Management Unitï¼ MMUï¼ä¸­ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå½ CPU éè¦æ§è¡ä¸æ¡æä»¤æ¶ï¼å¦ææä»¤ä¸­æ¶ååå­è¯»åæä½ï¼CPU ä¼æèæå°åç» MMUï¼MMU èªå¨å®æèæå°åå°çå®å°åçè®¡ç®ï¼ç¶åï¼MMU è¿æ¥äºå°åæ»çº¿ï¼å¸®å© CPU æä½çå®å°åã\n\nè¿æ ·çè®¾è®¡ï¼å°±ä¸éè¦å¨ç¼ååºç¨ç¨åºçæ¶åæå¿èæå°åå°ç©çå°åæ å°çé®é¢ãæä»¬æå¨é¨é¾é¢é½ä¸¢ç»äºæä½ç³»ç»ââæä½ç³»ç»è¦ç¡®å®MMU å¯ä»¥è¯»æèªå·±çé¡µè¡¨æ ¼å¼ãæä»¥ï¼æä½ç³»ç»çè®¾è®¡èè¦ç MMU çè¯´æä¹¦å®æå·¥ä½ã\n\né¾ç¹å¨äºä¸å CPU ç MMU å¯è½æ¯ä¸åçï¼å æ­¤è¿éä¼éå°å¾å¤è·¨å¹³å°çé®é¢ãè§£å³è·¨å¹³å°é®é¢ä¸ä½æç¹éçå·¥ä½éï¼æ´éè¦é«è¶çç¼ç¨æå·§ï¼Unix æåæçç§»æ¤æ§ï¼è·¨å¹³å°ï¼æ¯ C è¯­è¨ä½èä¸¹å°¼æ¯Â·éå¥å®ç°çã\n\nå­¦å°è¿éï¼ç»å¿çåå­¦å¯è½ä¼æçé®ï¼MMU éè¦æ¥è¯¢é¡µè¡¨ï¼è¿æ¯åå­æä½ï¼ï¼è CPU æ§è¡ä¸æ¡æä»¤éè¿ MMU è·ååå­æ°æ®ï¼é¾éå¯ä»¥å®¹å¿å¨æ§è¡ä¸æ¡æä»¤çè¿ç¨ä¸­ï¼åçå¤æ¬¡åå­è¯»åï¼æ¥è¯¢ï¼æä½ï¼é¾éä¸æ¬¡æ®éçè¯»åæä½ï¼è¿è¦éå å æ¬¡æ¥è¯¢é¡µè¡¨çå¼éåï¼å½ç¶ä¸æ¯ï¼è¿éè¿æä¸äºé«éç¼å­çè®¾è®¡ï¼è¿é¨åæä»¬æ¾å°â25 è®²âä¸­è¯¦ç»è®¨è®ºã\n\n# é¡µè¡¨æ¡ç®\n\nä¸é¢æä»¬ç¬¼ç»ä»ç»äºé¡µè¡¨å° Page æ å°å° Frameãé£ä¹ï¼é¡µè¡¨ä¸­çæ¯ä¸é¡¹ï¼é¡µè¡¨æ¡ç®ï¼é¿ä»ä¹æ ·å­å¢ï¼ä¸å¾æ¯ä¸ä¸ªé¡µè¡¨æ ¼å¼çä¸ä¸ªæ¼ç¤ºã\n\né¡µè¡¨æ¡ç®æ¬èº«çç¼å·å¯ä»¥ä¸å­å¨é¡µè¡¨ä¸­ï¼èæ¯éè¿åç§»éè®¡ç®ã æ¯å¦å°å 100,000 çç¼å·ï¼å¯ä»¥ç¨ 100,000 é¤ä»¥é¡µå¤§å°ç¡®å®ã\n\n * Absentï¼âå¨âï¼ä½ï¼æ¯ä¸ä¸ª bitã0 è¡¨ç¤ºé¡µçæ°æ®å¨ç£çä¸­ï¼ä¸ååå­ä¸­ï¼ï¼1 è¡¨ç¤ºå¨åå­ä¸­ãå¦æè¯»åé¡µè¡¨åç° Absent = 0ï¼é£ä¹ä¼è§¦åç¼ºé¡µä¸­æ­ï¼å»ç£çè¯»åæ°æ®ã\n * Protectionï¼ä¿æ¤ï¼å­æ®µå¯ä»¥å®ç°æ 3 ä¸ª bitï¼å®å³å®é¡µè¡¨ç¨äºè¯»ãåãæ§è¡ãæ¯å¦ 000 ä»£è¡¨ä»ä¹é½ä¸è½åï¼100 ä»£è¡¨åªè¯»ç­ã\n * Referenceï¼è®¿é®ï¼ä½ï¼ä»£è¡¨è¿ä¸ªé¡µè¢«è¯»åè¿ï¼è¿ä¸ªè®°å½å¯¹åæ¶åå­æå¸®å©ã\n * Dirtyï¼âèâï¼ä½ï¼ä»£è¡¨é¡µçåå®¹è¢«ä¿®æ¹è¿ï¼å¦æ Dirty =1ï¼é£ä¹æå³çé¡µé¢å¿é¡»ååå°ç£çä¸æè½ç½®æ¢ï¼Swap)ãå¦æ Dirty = 0ï¼å¦æéè¦åæ¶è¿ä¸ªé¡µï¼å¯ä»¥èèç´æ¥ä¸¢å¼å®ï¼ä»ä¹ä¹ä¸åï¼å¶ä»ç¨åºå¯ä»¥ç´æ¥è¦çï¼ã\n * Cachingï¼ç¼å­ä½ï¼ï¼æè¿°é¡µå¯ä¸å¯ä»¥è¢« CPU ç¼å­ãCPU ç¼å­ä¼é æåå­ä¸ä¸è´é®é¢ï¼å¨ä¸ä¸ªæ¨¡åçå é¤ä¸­æä»¬è®¨è®ºäºåå­ä¸è´æ§é®é¢ï¼å·ä½ä½ å¯ä»¥åèâæ¨¡ååâçå é¤åå®¹ã\n * Frame Numberï¼Frame ç¼å·ï¼ï¼è¿ä¸ªæ¯çå®åå­çä½ç½®ãç¨ Frame ç¼å·ä¹ä»¥é¡µå¤§å°ï¼å°±å¯ä»¥å¾å° Frame çåºå°åã\n\nå¨ 64bit çç³»ç»ä¸­ï¼èèå° AbsentãProtection ç­å­æ®µéè¦å ç¨ä¸å®çä½ï¼å æ­¤ä¸è½å° 64bit é½ç¨æ¥æè¿°çå®å°åãä½æ¯ 64bit å¯ä»¥å¯»åçç©ºé´å·²ç»è¿è¿è¶è¿äº EB ççº§å«ï¼1EB = 220TBï¼ï¼è¿å·²ç»è¶³å¤äºãå¨çå®ä¸çï¼æä»¬è¿é ä¸åºè¿ä¹å¤§çåå­å¢ã\n\n\n# å¤§é¡µé¢é®é¢\n\næåï¼æä»¬è®¨è®ºä¸ä¸å¤§é¡µé¢çé®é¢ãåè®¾æä¸ä¸ªåºç¨ï¼åå§ååéè¦ 12M åå­ï¼æä½ç³»ç»é¡µå¤§å°æ¯ 4Kãé£ä¹åºè¯¥å¦ä½è®¾è®¡å¢ï¼\n\nä¸ºäºç®åæ¨¡åï¼ä¸å¾ä¸­ï¼åè®¾è¿ä¸ªåºç¨åªæ 3 ä¸ªåºåï¼3 ä¸ªæ®µï¼ââæ­£ææ®µï¼ç¨åºï¼ãæ°æ®æ®µï¼å¸¸éãå¨å±åéï¼ãå æ æ®µãä¸å¼å§æä»¬ 3 ä¸ªæ®µé½åéäº 4M çç©ºé´ãéçç¨åºæ§è¡ï¼å æ æ®µçç©ºé´ä¼ç»§ç»­å¢å ï¼ä¸ä¸å°é¡¶ã\n\nä¸å¾ä¸­ï¼è¿ç¨åé¨éè¦ä¸ä¸ªé¡µè¡¨å­å¨è¿ç¨çæ°æ®ãå¦æè¿ç¨çåå­ä¸ä¸å°é¡¶ï¼é£ä¹é¡µè¡¨æå¤å°ä¸ªæ¡ç®åéå¢ï¼ è¿ç¨åéå¤å°ç©ºé´åéå¢ï¼ å¦æé¡µè¡¨å¤§å°ä¸º 1024 ä¸ªæ¡ç®ï¼é£ä¹å¯ä»¥æ¯æ 1024*4K = 4M ç©ºé´ãæç§è¿ä¸ªè®¡ç®ï¼å¦æè¿ç¨éè¦ 1G ç©ºé´ï¼åéè¦ 256K ä¸ªæ¡ç®ãæä»¬é¢åä¸ºè¿ç¨åéè¿ 256K ä¸ªæ¡ç®åï¼ åå»ºä¸ä¸ªè¿ç¨å°±ååè¿ä¹å¤æ¡ç®æ¯ä¸æ¯ææ¬å¤ªé«äºï¼\n\nä¸ºäºåå°æ¡ç®çåå»ºï¼å¯ä»¥èèè¿ç¨åé¨ç¨ä¸ä¸ªæ´å¤§çé¡µè¡¨ï¼æ¯å¦ 4Mï¼ï¼æä½ç³»ç»ç»§ç»­ç¨ 4K çé¡µè¡¨ãè¿å°±å½¢æäºä¸ä¸ªäºçº§é¡µè¡¨çç»æï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nè¿æ · MMU ä¼åæ¥è¯¢ 1 çº§é¡µè¡¨ï¼åæ¥è¯¢ 2 çº§é¡µè¡¨ãå¨è¿ä¸ªæ¨¡åä¸ï¼è¿ç¨å¦æéè¦ 1G ç©ºé´ï¼ä¹åªéè¦ 1024 ä¸ªæ¡ç®ãæ¯å¦ 1 çº§é¡µç¼å·æ¯ 2ï¼ é£ä¹å¯¹åº 2 çº§é¡µè¡¨ä¸­ [2* 1024, 3*1024-1] çé¨åæ¡ç®ãèè®¿é®ä¸ä¸ªå°åï¼éè¦åæ¶ç»åºä¸çº§é¡µç¼å·åäºçº§é¡µç¼å·ãæ´ä¸ªå°åï¼è¿å¯ä»¥ç¨ 64bit ç»è£ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nMMU æ ¹æ® 1 çº§ç¼å·æ¾å° 1 çº§é¡µè¡¨æ¡ç®ï¼1 çº§é¡µè¡¨æ¡ç®ä¸­è®°å½äºå¯¹åº 2 çº§é¡µè¡¨çä½ç½®ãç¶å MMU åæ¥è¯¢ 2 çº§é¡µè¡¨ï¼æ¾å° Frameãæåéè¿å°ååç§»éå Frame ç¼å·è®¡ç®æç»çç©çå°åãè¿ç§è®¾è®¡æ¯ä¸ä¸ªéå½çè¿ç¨ï¼å æ­¤è¿å¯å¢å  3 çº§ã4 çº§â¦â¦æ¯å¢å  1 çº§ï¼å¯¹ç©ºé´çå©ç¨é½ä¼æé«ââå½ç¶ä¹ä¼å¸¦æ¥ä¸å®çå¼éãè¿å¯¹äºå¤§åºç¨éå¸¸åç®ï¼æ¯å¦éè¦ 1T ç©ºé´ï¼é£ä¹ä½¿ç¨ 2 çº§é¡µè¡¨ï¼é¡µè¡¨çç©ºé´å°±èçå¾å¤äºãèä¸ï¼è¿ç§å¤çº§é¡µè¡¨ï¼é¡¶çº§é¡µè¡¨å¨è¿ç¨ä¸­å¯ä»¥ååªåå»ºéè¦ç¨å°çé¨åï¼å°±è¿ä¸ªä¾å­èè¨ï¼ä¸å¼å§åªéè¦ 3 ä¸ªæ¡ç®ï¼ä» 256K ä¸ªæ¡ç®å° 3 ä¸ªï¼è¿å°±å¤§å¤§åå°äºè¿ç¨åå»ºçææ¬ã",normalizedContent:"# ä¸ºä»ä¹åå­ä¸å¤ç¨ï¼\n\nè¦çè§£ä¸ä¸ªææ¯ï¼å°±å¿é¡»çè§£å®ä¸ºä½èå­å¨ãæ»ä½æ¥è¯´ï¼èæåææ¯æ¯ä¸ºäºè§£å³åå­ä¸å¤ç¨çé®é¢ï¼é£ä¹åå­ä¸ºä½ä¸å¤ç¨å¢ï¼\n\nä¸»è¦æ¯å ä¸ºç¨åºè¶æ¥è¶å¤æãæ¯å¦è¯´æç°å¨ç»ä½ å½é³çæºå¨ä¸å°±æ 200 ä¸ªè¿ç¨ï¼ç®ååå­çæ¶èæ¯ 21gï¼æçåå­æ¯ 64g çï¼ä½æ¯å¤å¼ä¸äºç¨åºè¿æ¯ä¼è¢«å æ»¡ã å¦å¤ï¼å¦æä¸ä¸ªç¨åºéè¦ä½¿ç¨å¤§çåå­ï¼æ¯å¦ 1tï¼æ¯ä¸æ¯åºè¯¥æ¥éï¼å¦ææ¥éï¼é£ä¹ç¨åºå°±ä¼ä¸å¥½åï¼ç¨åºåå¿é¡»å°å¿ç¿¼ç¿¼å°å¤çåå­çä½¿ç¨ï¼é¿åè¶è¿åè®¸çåå­ä½¿ç¨éå¼ãä»¥ä¸æå°çè¿äºé½æ¯éè¦è§£å³çé®é¢ï¼ä¹æ¯èæåææ¯å­å¨çä»·å¼åæä¹ã\n\né£ä¹å¦ä½æ¥è§£å³è¿äºé®é¢å¢ï¼ åå²ä¸æè¿ä¸å°çè§£å³æ¹æ¡ï¼ä½æç»æ²æ·ä¸çæ¯èæåææ¯ãæ¥ä¸æ¥æä¸ºä½ ä»ç»ä¸ç§åå²ä¸å­å¨è¿ç swap ææ¯ä»¥åèæåææ¯ã\n\n# äº¤æ¢ï¼swapï¼ææ¯\n\nswap ææ¯åè®¸ä¸é¨åè¿ç¨ä½¿ç¨åå­ï¼ä¸ä½¿ç¨åå­çè¿ç¨æ°æ®åä¿å­å¨ç£çä¸ãæ³¨æï¼è¿éæå°çæ°æ®ï¼æ¯å®æ´çè¿ç¨æ°æ®ï¼åæ¬æ­£ææ®µï¼ç¨åºæä»¤ï¼ãæ°æ®æ®µãå æ æ®µç­ãè½®å°æä¸ªè¿ç¨æ§è¡çæ¶åï¼å°è¯ä¸ºè¿ä¸ªè¿ç¨å¨åå­ä¸­æ¾å°ä¸åç©ºé²çåºåãå¦æç©ºé´ä¸è¶³ï¼å°±èèææ²¡æå¨æ§è¡çè¿ç¨äº¤æ¢ï¼swapï¼å°ç£çä¸ï¼æç©ºé´è¾æªåºæ¥ç»éè¦çè¿ç¨ã\n\n\n\nä¸å¾ä¸­ï¼åå­è¢«æåæå¤ä¸ªåºåã åæ ¸ä½ä¸ºä¸ä¸ªç¨åºä¹éè¦èªå·±çåå­ãå¦å¤æ¯ä¸ªè¿ç¨ç¬ç«å¾å°ä¸ä¸ªç©ºé´ââæä»¬ç§°ä¸ºå°åç©ºé´ï¼address spaceï¼ãä½ å¯ä»¥è®¤ä¸ºå°åç©ºé´æ¯ä¸åè¿ç»­åéçåå­åãæ¯ä¸ªè¿ç¨å¨ä¸åå°åç©ºé´ä¸­å·¥ä½ï¼ææäºä¸ä¸ªåå§çèæåææ¯ã\n\næ¯å¦ï¼å½è¿ç¨ a æ³è®¿é®å°å 100 çæ¶åï¼å®éä¸è®¿é®çå°åæ¯åºäºå°åç©ºé´æ¬èº«ä½ç½®ï¼é¦å­èå°åï¼è®¡ç®åºæ¥çãå¦å¤ï¼å½è¿ç¨ a æ§è¡æ¶ï¼cpu ä¸­ä¼ä¿å­å®å°åç©ºé´çå¼å§ä½ç½®åç»æä½ç½®ï¼å½å®æ³è®¿é®è¶è¿å°åç©ºé´å®¹éçå°åæ¶ï¼cpu ä¼æ£æ¥ç¶åæ¥éã\n\nä¸å¾æè¿°çè¿ç§æ¹æ³ï¼æ¯ä¸ç§æ¯è¾åå§çèæåææ¯ï¼è¿ç¨ä½¿ç¨çæ¯åºäºå°åç©ºé´çèæå°åãä½æ¯è¿ç§æ¹æ¡æå¾å¤ææ¾çç¼ºé·ï¼æ¯å¦ï¼\n\n 1. ç¢çé®é¢ï¼ä¸å¾ä¸­æä»¬çå°è¿ç¨æ¥ååéãåæ¶äº¤æ¢ï¼åå­ä¹é´ä¼äº§çå¾å¤ç¼éãç»è¿ååå¤å¤ä½¿ç¨ï¼åå­çæåµä¼åå¾ååå¤æï¼å¯¼è´æ´ä½æ§è½ä¸éã\n 2. é¢ç¹åæ¢é®é¢ï¼å¦æè¿ç¨è¿å¤ï¼åå­è¾å°ï¼ä¼é¢ç¹è§¦åäº¤æ¢ã\n\nä½ å¯ä»¥åæèè¿ä¸¤ä¸ªé®é¢çè§£å³æ¹æ¡ï¼æ¥ä¸æ¥æä¼å¸¦ä½ è¿è¡ä¸äºæ´æ·±å¥å°æèââé¦åéæ° review ä¸æä»¬çè®¾è®¡ç®æ ã\n\n 1. éç¦»ï¼æ¯ä¸ªåºç¨æèªå·±çå°åç©ºé´ï¼äºä¸å½±åã\n 2. æ§è½ï¼é«é¢ä½¿ç¨çæ°æ®ä¿çå¨åå­ä¸­ãä½é¢ä½¿ç¨çæ°æ®æä¹åå°ç£çä¸ã\n 3. ç¨åºå¥½åï¼éä½ç¨åºåå¿æºè´æï¼ï¼è®©ç¨åºåä¸ç¨å³å¿åºå±è®¾æ½ã\n\nç°é¶æ®µï¼swap ææ¯å·²ç»åæ­¥è§£å³äºé®é¢ 1ãå³äºé®é¢ 2ï¼swap ææ¯å¨æ§è½ä¸å­å¨çç¢çãé¢ç¹åæ¢ç­ææ¾å£å¿ãå³äºé®é¢ 3ï¼ä½¿ç¨ swap ææ¯ï¼ç¨åºåéè¦æ¸æ¥å°ç¥éèªå·±çåºç¨ç¨å¤å°åå­ï¼å¹¶ä¸å°å¿ç¿¼ç¿¼å°ä½¿ç¨åå­ï¼é¿åéè¦éæ°ç³è¯·ï¼æèç åä¸æ­æ©å®¹çç®æ³ââè¿è®©ç¨åºå¿æºè´æè¾å¤§ã\n\nç»è¿ä»¥ä¸åæï¼éè¦æ´å¥½çè§£å³æ¹æ¡ï¼å°±æ¯æä»¬æ¥ä¸æ¥è¦å­¦ä¹ çèæåææ¯ã\n\n# èæåå­\n\nèæåææ¯ä¸­ï¼æä½ç³»ç»è®¾è®¡äºèæåå­ï¼çè®ºä¸å¯ä»¥æ éå¤§çç©ºé´ï¼ï¼åéäº cpu çå¤çè½åï¼éå¸¸ 64bit cpuï¼å°±æ¯ 264 ä¸ªå°åã\n\nèæåææ¯ä¸­ï¼åºç¨ä½¿ç¨çæ¯èæåå­ï¼æä½ç³»ç»ç®¡çèæåå­åçå®åå­ä¹é´çæ å°ãæä½ç³»ç»å°èæåå­åææ´é½å°åï¼æ¯ä¸ªå°åç§°ä¸ºä¸ä¸ªé¡µï¼pageï¼ãä¹æä»¥è¿æ ·åï¼åå ä¸»è¦æä»¥ä¸ä¸¤ä¸ªæ¹é¢ã\n\n * ä¸æ¹é¢åºç¨ä½¿ç¨åå­æ¯ä»¥é¡µä¸ºåä½ï¼æ´é½çé¡µè½å¤é¿ååå­ç¢çé®é¢ã\n * å¦ä¸æ¹é¢ï¼æ¯ä¸ªåºç¨é½æé«é¢ä½¿ç¨çæ°æ®åä½é¢ä½¿ç¨çæ°æ®ãè¿æ ·åï¼æä½ç³»ç»å°±ä¸å¿ä»åºç¨è§åº¦å»æèåªä¸ªè¿ç¨æ¯é«é¢çï¼ä»éæèåªäºé¡µè¢«é«é¢ä½¿ç¨ãåªäºé¡µè¢«ä½é¢ä½¿ç¨ãå¦ææ¯ä½é¢ä½¿ç¨ï¼å°±å°å®ä»¬ä¿å­å°ç¡¬çä¸ï¼å¦ææ¯é«é¢ä½¿ç¨ï¼å°±è®©å®ä»¬ä¿çå¨çå®åå­ä¸­ã\n\nå¦æä¸ä¸ªåºç¨éè¦éå¸¸å¤§çåå­ï¼åºç¨ç³è¯·çæ¯èæåå­ä¸­çå¾å¤ä¸ªé¡µï¼çå®åå­ä¸ä¸å®éè¦å¤ç¨ã\n\n\n# é¡µï¼pageï¼åé¡µè¡¨\n\næ¥ä¸æ¥ï¼æä»¬è¯¦ç»è®¨è®ºä¸è¿ä¸ªè®¾è®¡ãæä½ç³»ç»å°èæåå­ååï¼æ¯ä¸ªå°åç§°ä¸ºä¸ä¸ªé¡µï¼pageï¼ï¼çå®åå­ä¹éè¦ååï¼æ¯ä¸ªå°åæä»¬ç§°ä¸ºä¸ä¸ª frameãpage å° frame çæ å°ï¼éè¦ä¸ç§å«ä½é¡µè¡¨çç»æã\n\nä¸å¾å±ç¤ºäº pageãframe åé¡µè¡¨ ï¼pagetableï¼ä¸èä¹é´çå³ç³»ã page å¤§å°å frame å¤§å°éå¸¸ç¸ç­ï¼é¡µè¡¨ä¸­è®°å½çæä¸ª page å¯¹åºç frame ç¼å·ãé¡µè¡¨ä¹éè¦å­å¨ç©ºé´ï¼æ¯å¦èæåå­å¤§å°ä¸º 10gï¼ page å¤§å°æ¯ 4kï¼é£ä¹éè¦ 10g/4k = 2621440 ä¸ªæ¡ç®ãå¦ææ¯ä¸ªæ¡ç®æ¯ 64bitï¼é£ä¹ä¸å±éè¦ 20480k = 20m é¡µè¡¨ãæä½ç³»ç»å¨åå­ä¸­åååºå°ååºåç»é¡µè¡¨ï¼å¹¶è´è´£ç»´æ¤é¡µè¡¨ã\n\né¡µè¡¨ç»´æ¤äºèæå°åå°çå®å°åçæ å°ãæ¯æ¬¡ç¨åºä½¿ç¨åå­æ¶ï¼éè¦æèæåå­å°åæ¢ç®æç©çåå­å°åï¼æ¢ç®è¿ç¨åä¸ºä»¥ä¸ 3 ä¸ªæ­¥éª¤ï¼\n\n 1. éè¿èæå°åè®¡ç® page ç¼å·ï¼\n 2. æ¥é¡µè¡¨ï¼æ ¹æ® page ç¼å·ï¼æ¾å° frame ç¼å·ï¼\n 3. å°èæå°åæ¢ç®æç©çå°åã\n\nä¸é¢æéè¿ä¸ä¸ªä¾å­ç»ä½ è®²è§£ä¸é¢è¿ä¸ªæ¢ç®çè¿ç¨ï¼å¦æé¡µå¤§å°æ¯ 4kï¼åè®¾ç¨åºè¦è®¿é®å°åï¼100,000ãé£ä¹è®¡ç®è¿ç¨å¦ä¸ã\n\n 1. é¡µç¼å·ï¼page numberï¼ = 100,000/4096 = 24 ä½1619ã 24 æ¯é¡µç¼å·ï¼1619 æ¯å°ååç§»éï¼offsetï¼ã\n 2. æ¥è¯¢é¡µè¡¨ï¼å¾å° 24 å³èç frame ç¼å·ï¼åè®¾æ¥å° frame ç¼å· = 10ï¼ã\n 3. æ¢ç®ï¼éå¸¸ frame å page å¤§å°ç¸ç­ï¼æ¿æ¢ page number ä¸º frame number ç©çå°å = 4096 * 10 + 1619 = 42579ã\n\n# mmu\n\nä¸é¢çè¿ç¨åçå¨ cpu ä¸­ä¸ä¸ªå°åçè®¾å¤ââåå­ç®¡çååï¼memory management unitï¼ mmuï¼ä¸­ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå½ cpu éè¦æ§è¡ä¸æ¡æä»¤æ¶ï¼å¦ææä»¤ä¸­æ¶ååå­è¯»åæä½ï¼cpu ä¼æèæå°åç» mmuï¼mmu èªå¨å®æèæå°åå°çå®å°åçè®¡ç®ï¼ç¶åï¼mmu è¿æ¥äºå°åæ»çº¿ï¼å¸®å© cpu æä½çå®å°åã\n\nè¿æ ·çè®¾è®¡ï¼å°±ä¸éè¦å¨ç¼ååºç¨ç¨åºçæ¶åæå¿èæå°åå°ç©çå°åæ å°çé®é¢ãæä»¬æå¨é¨é¾é¢é½ä¸¢ç»äºæä½ç³»ç»ââæä½ç³»ç»è¦ç¡®å®mmu å¯ä»¥è¯»æèªå·±çé¡µè¡¨æ ¼å¼ãæä»¥ï¼æä½ç³»ç»çè®¾è®¡èè¦ç mmu çè¯´æä¹¦å®æå·¥ä½ã\n\né¾ç¹å¨äºä¸å cpu ç mmu å¯è½æ¯ä¸åçï¼å æ­¤è¿éä¼éå°å¾å¤è·¨å¹³å°çé®é¢ãè§£å³è·¨å¹³å°é®é¢ä¸ä½æç¹éçå·¥ä½éï¼æ´éè¦é«è¶çç¼ç¨æå·§ï¼unix æåæçç§»æ¤æ§ï¼è·¨å¹³å°ï¼æ¯ c è¯­è¨ä½èä¸¹å°¼æ¯Â·éå¥å®ç°çã\n\nå­¦å°è¿éï¼ç»å¿çåå­¦å¯è½ä¼æçé®ï¼mmu éè¦æ¥è¯¢é¡µè¡¨ï¼è¿æ¯åå­æä½ï¼ï¼è cpu æ§è¡ä¸æ¡æä»¤éè¿ mmu è·ååå­æ°æ®ï¼é¾éå¯ä»¥å®¹å¿å¨æ§è¡ä¸æ¡æä»¤çè¿ç¨ä¸­ï¼åçå¤æ¬¡åå­è¯»åï¼æ¥è¯¢ï¼æä½ï¼é¾éä¸æ¬¡æ®éçè¯»åæä½ï¼è¿è¦éå å æ¬¡æ¥è¯¢é¡µè¡¨çå¼éåï¼å½ç¶ä¸æ¯ï¼è¿éè¿æä¸äºé«éç¼å­çè®¾è®¡ï¼è¿é¨åæä»¬æ¾å°â25 è®²âä¸­è¯¦ç»è®¨è®ºã\n\n# é¡µè¡¨æ¡ç®\n\nä¸é¢æä»¬ç¬¼ç»ä»ç»äºé¡µè¡¨å° page æ å°å° frameãé£ä¹ï¼é¡µè¡¨ä¸­çæ¯ä¸é¡¹ï¼é¡µè¡¨æ¡ç®ï¼é¿ä»ä¹æ ·å­å¢ï¼ä¸å¾æ¯ä¸ä¸ªé¡µè¡¨æ ¼å¼çä¸ä¸ªæ¼ç¤ºã\n\né¡µè¡¨æ¡ç®æ¬èº«çç¼å·å¯ä»¥ä¸å­å¨é¡µè¡¨ä¸­ï¼èæ¯éè¿åç§»éè®¡ç®ã æ¯å¦å°å 100,000 çç¼å·ï¼å¯ä»¥ç¨ 100,000 é¤ä»¥é¡µå¤§å°ç¡®å®ã\n\n * absentï¼âå¨âï¼ä½ï¼æ¯ä¸ä¸ª bitã0 è¡¨ç¤ºé¡µçæ°æ®å¨ç£çä¸­ï¼ä¸ååå­ä¸­ï¼ï¼1 è¡¨ç¤ºå¨åå­ä¸­ãå¦æè¯»åé¡µè¡¨åç° absent = 0ï¼é£ä¹ä¼è§¦åç¼ºé¡µä¸­æ­ï¼å»ç£çè¯»åæ°æ®ã\n * protectionï¼ä¿æ¤ï¼å­æ®µå¯ä»¥å®ç°æ 3 ä¸ª bitï¼å®å³å®é¡µè¡¨ç¨äºè¯»ãåãæ§è¡ãæ¯å¦ 000 ä»£è¡¨ä»ä¹é½ä¸è½åï¼100 ä»£è¡¨åªè¯»ç­ã\n * referenceï¼è®¿é®ï¼ä½ï¼ä»£è¡¨è¿ä¸ªé¡µè¢«è¯»åè¿ï¼è¿ä¸ªè®°å½å¯¹åæ¶åå­æå¸®å©ã\n * dirtyï¼âèâï¼ä½ï¼ä»£è¡¨é¡µçåå®¹è¢«ä¿®æ¹è¿ï¼å¦æ dirty =1ï¼é£ä¹æå³çé¡µé¢å¿é¡»ååå°ç£çä¸æè½ç½®æ¢ï¼swap)ãå¦æ dirty = 0ï¼å¦æéè¦åæ¶è¿ä¸ªé¡µï¼å¯ä»¥èèç´æ¥ä¸¢å¼å®ï¼ä»ä¹ä¹ä¸åï¼å¶ä»ç¨åºå¯ä»¥ç´æ¥è¦çï¼ã\n * cachingï¼ç¼å­ä½ï¼ï¼æè¿°é¡µå¯ä¸å¯ä»¥è¢« cpu ç¼å­ãcpu ç¼å­ä¼é æåå­ä¸ä¸è´é®é¢ï¼å¨ä¸ä¸ªæ¨¡åçå é¤ä¸­æä»¬è®¨è®ºäºåå­ä¸è´æ§é®é¢ï¼å·ä½ä½ å¯ä»¥åèâæ¨¡ååâçå é¤åå®¹ã\n * frame numberï¼frame ç¼å·ï¼ï¼è¿ä¸ªæ¯çå®åå­çä½ç½®ãç¨ frame ç¼å·ä¹ä»¥é¡µå¤§å°ï¼å°±å¯ä»¥å¾å° frame çåºå°åã\n\nå¨ 64bit çç³»ç»ä¸­ï¼èèå° absentãprotection ç­å­æ®µéè¦å ç¨ä¸å®çä½ï¼å æ­¤ä¸è½å° 64bit é½ç¨æ¥æè¿°çå®å°åãä½æ¯ 64bit å¯ä»¥å¯»åçç©ºé´å·²ç»è¿è¿è¶è¿äº eb ççº§å«ï¼1eb = 220tbï¼ï¼è¿å·²ç»è¶³å¤äºãå¨çå®ä¸çï¼æä»¬è¿é ä¸åºè¿ä¹å¤§çåå­å¢ã\n\n\n# å¤§é¡µé¢é®é¢\n\næåï¼æä»¬è®¨è®ºä¸ä¸å¤§é¡µé¢çé®é¢ãåè®¾æä¸ä¸ªåºç¨ï¼åå§ååéè¦ 12m åå­ï¼æä½ç³»ç»é¡µå¤§å°æ¯ 4kãé£ä¹åºè¯¥å¦ä½è®¾è®¡å¢ï¼\n\nä¸ºäºç®åæ¨¡åï¼ä¸å¾ä¸­ï¼åè®¾è¿ä¸ªåºç¨åªæ 3 ä¸ªåºåï¼3 ä¸ªæ®µï¼ââæ­£ææ®µï¼ç¨åºï¼ãæ°æ®æ®µï¼å¸¸éãå¨å±åéï¼ãå æ æ®µãä¸å¼å§æä»¬ 3 ä¸ªæ®µé½åéäº 4m çç©ºé´ãéçç¨åºæ§è¡ï¼å æ æ®µçç©ºé´ä¼ç»§ç»­å¢å ï¼ä¸ä¸å°é¡¶ã\n\nä¸å¾ä¸­ï¼è¿ç¨åé¨éè¦ä¸ä¸ªé¡µè¡¨å­å¨è¿ç¨çæ°æ®ãå¦æè¿ç¨çåå­ä¸ä¸å°é¡¶ï¼é£ä¹é¡µè¡¨æå¤å°ä¸ªæ¡ç®åéå¢ï¼ è¿ç¨åéå¤å°ç©ºé´åéå¢ï¼ å¦æé¡µè¡¨å¤§å°ä¸º 1024 ä¸ªæ¡ç®ï¼é£ä¹å¯ä»¥æ¯æ 1024*4k = 4m ç©ºé´ãæç§è¿ä¸ªè®¡ç®ï¼å¦æè¿ç¨éè¦ 1g ç©ºé´ï¼åéè¦ 256k ä¸ªæ¡ç®ãæä»¬é¢åä¸ºè¿ç¨åéè¿ 256k ä¸ªæ¡ç®åï¼ åå»ºä¸ä¸ªè¿ç¨å°±ååè¿ä¹å¤æ¡ç®æ¯ä¸æ¯ææ¬å¤ªé«äºï¼\n\nä¸ºäºåå°æ¡ç®çåå»ºï¼å¯ä»¥èèè¿ç¨åé¨ç¨ä¸ä¸ªæ´å¤§çé¡µè¡¨ï¼æ¯å¦ 4mï¼ï¼æä½ç³»ç»ç»§ç»­ç¨ 4k çé¡µè¡¨ãè¿å°±å½¢æäºä¸ä¸ªäºçº§é¡µè¡¨çç»æï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nè¿æ · mmu ä¼åæ¥è¯¢ 1 çº§é¡µè¡¨ï¼åæ¥è¯¢ 2 çº§é¡µè¡¨ãå¨è¿ä¸ªæ¨¡åä¸ï¼è¿ç¨å¦æéè¦ 1g ç©ºé´ï¼ä¹åªéè¦ 1024 ä¸ªæ¡ç®ãæ¯å¦ 1 çº§é¡µç¼å·æ¯ 2ï¼ é£ä¹å¯¹åº 2 çº§é¡µè¡¨ä¸­ [2* 1024, 3*1024-1] çé¨åæ¡ç®ãèè®¿é®ä¸ä¸ªå°åï¼éè¦åæ¶ç»åºä¸çº§é¡µç¼å·åäºçº§é¡µç¼å·ãæ´ä¸ªå°åï¼è¿å¯ä»¥ç¨ 64bit ç»è£ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nmmu æ ¹æ® 1 çº§ç¼å·æ¾å° 1 çº§é¡µè¡¨æ¡ç®ï¼1 çº§é¡µè¡¨æ¡ç®ä¸­è®°å½äºå¯¹åº 2 çº§é¡µè¡¨çä½ç½®ãç¶å mmu åæ¥è¯¢ 2 çº§é¡µè¡¨ï¼æ¾å° frameãæåéè¿å°ååç§»éå frame ç¼å·è®¡ç®æç»çç©çå°åãè¿ç§è®¾è®¡æ¯ä¸ä¸ªéå½çè¿ç¨ï¼å æ­¤è¿å¯å¢å  3 çº§ã4 çº§â¦â¦æ¯å¢å  1 çº§ï¼å¯¹ç©ºé´çå©ç¨é½ä¼æé«ââå½ç¶ä¹ä¼å¸¦æ¥ä¸å®çå¼éãè¿å¯¹äºå¤§åºç¨éå¸¸åç®ï¼æ¯å¦éè¦ 1t ç©ºé´ï¼é£ä¹ä½¿ç¨ 2 çº§é¡µè¡¨ï¼é¡µè¡¨çç©ºé´å°±èçå¾å¤äºãèä¸ï¼è¿ç§å¤çº§é¡µè¡¨ï¼é¡¶çº§é¡µè¡¨å¨è¿ç¨ä¸­å¯ä»¥ååªåå»ºéè¦ç¨å°çé¨åï¼å°±è¿ä¸ªä¾å­èè¨ï¼ä¸å¼å§åªéè¦ 3 ä¸ªæ¡ç®ï¼ä» 256k ä¸ªæ¡ç®å° 3 ä¸ªï¼è¿å°±å¤§å¤§åå°äºè¿ç¨åå»ºçææ¬ã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ç®è¿° traceroute å½ä»¤çåç",frontmatter:{title:"ç®è¿° traceroute å½ä»¤çåç",date:"2022-09-21T23:04:14.000Z",permalink:"/pages/655f8f/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/210.%E7%AE%80%E8%BF%B0%20traceroute%20%E5%91%BD%E4%BB%A4%E7%9A%84%E5%8E%9F%E7%90%86.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/210.ç®è¿° traceroute å½ä»¤çåç.md",key:"v-e048e838",path:"/pages/655f8f/",headers:[{level:2,title:"tracerouteå½ä»¤",slug:"tracerouteå½ä»¤",normalizedTitle:"tracerouteå½ä»¤",charIndex:100},{level:2,title:"tracerouteåç",slug:"tracerouteåç",normalizedTitle:"tracerouteåç",charIndex:1920},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:3447}],headersStr:"tracerouteå½ä»¤ tracerouteåç åè",content:"ä¸ä¸ª IP åéè¦ç»è¿ä¸ç³»åè·¯ç±çè½¬åï¼æè½å°è¾¾ç®çå°ãä¸å¾æ¯ä¸ä¸ªå¸åçä¾å­ï¼ä¸ä¸ªä»ä¸»æº ant åºåï¼å»å¾ä¸»æº apple ç IP åï¼éè¦ç»è¿ä¸­é´è·¯ç± R1 ãR2 ä»¥å R3 ï¼\n\n\n\n\n# tracerouteå½ä»¤\n\nåæç½ç»é®é¢ãææ¥ç½ç»æéæ¶ï¼æä»¬ç»å¸¸éè¦ç¥éï¼å»å¾æä¸ª IP çæ°æ®åéè¦ç»è¿åªäºè·¯ç±ï¼é£ä¹ï¼æåæ³å°éå¾æä¸ª IP çè·¯ç±è·¯å¾æ¾åºæ¥åï¼\n\nå¶å®æ¯æçï¼traceroute å½ä»¤å°±å¯ä»¥åå°ãtraceroute å½ä»¤æ¯ä¸ä¸ªå¾å¸¸ç¨çç½ç»å·¥å·ï¼ä½ å¯è½å·²ç»å¬è¿ï¼çè³å·²ç»ç¨è¿äºãå®å¯ä»¥ç¨æ¥æ¢æµãè·è¸ªå»å¾æä¸ªç®çå° IP åéè¦ç»è¿çè·¯ç±è·¯å¾ã\n\né£ä¹ï¼traceroute å½ä»¤è¯¥å¦ä½ä½¿ç¨å¢ï¼æä»¬ä»¥ä¸å¾ä¸­çææä¸ºå®éªç¯å¢ï¼ç®åæ¼ç¤ºä¸å®çç¨æ³ãå®éªç¯å¢åæ ·ç± Docker å®¹å¨æä¾ï¼åªéæ§è¡ä¸é¢è¿ä¸ª docker å½ä»¤å³å¯ä¸é®æå¼ï¼\n\n1   DOCKER RUN --NAME TRACEROUTE-LAB --RM -IT --PRIVILEGED\n    --CAP-ADD=NET_ADMIN --CAP-ADD=SYS_ADMIN -V /DATA\n    FASIONCHAN/NETBOX:0.5 BASH /SCRIPT/ROUTINE.SH\n    \n\nå®éªç¯å¢æå¼åï¼èªå¨è¿å¥ä¸»æº ant ãæä»¬å ping ä¸ä¸ä¸»æº apple ï¼ç¡®è®¤ç½ç»æ¯éçï¼\n\n1 2 3 4 5 6 7 8 9 10   ROOT@ANT [ ~ ] â PING -N 10.0.2.2 PING 10.0.2.2 (10.0.2.2)\n                       56(84) BYTES OF DATA. 64 BYTES FROM 10.0.2.2: ICMP_SEQ=1\n                       TTL=61 TIME=0.082 MS 64 BYTES FROM 10.0.2.2: ICMP_SEQ=2\n                       TTL=61 TIME=0.207 MS 64 BYTES FROM 10.0.2.2: ICMP_SEQ=3\n                       TTL=61 TIME=0.219 MS 64 BYTES FROM 10.0.2.2: ICMP_SEQ=4\n                       TTL=61 TIME=0.218 MS ^C --- 10.0.2.2 PING STATISTICS --- 4\n                       PACKETS TRANSMITTED, 4 RECEIVED, 0% PACKET LOSS, TIME 3111MS\n                       RTT MIN/AVG/MAX/MDEV = 0.082/0.181/0.219/0.057 MS\n                       \n\næ¥ä¸æ¥ï¼æ§è¡ traceroute å½ä»¤æ¢æµä»å°ä¸»æº apple çç½ç»è·¯å¾ï¼\n\n1 2 3 4 5 6   ROOT@ANT [ ~ ] â TRACEROUTE -N 10.0.2.2 TRACEROUTE TO\n              10.0.2.2 (10.0.2.2), 30 HOPS MAX, 60 BYTE PACKETS 1 10.0.1.1\n              0.771 MS 0.717 MS 0.603 MS 2 10.2.0.1 0.573 MS 0.538 MS\n              0.516 MS 3 10.4.0.1 0.487 MS 0.456 MS 0.437 MS 4 10.0.2.2\n              0.406 MS 0.340 MS 0.303 MS\n              \n\n> -n éé¡¹è¡¨ç¤ºï¼è¾åºç»æä¸ç¨å° IP å°ååè§£ææä¸»æºåï¼ååï¼ãç±äºååè§£æå¯è½æå¾å¤§å»¶è¿ï¼å æ­¤å ä¸ -n éé¡¹å¯ä»¥åå°å¡é¡¿ãå¾å¤ç½ç»å·¥å·é½æ¯æ -n éé¡¹ï¼ping å½ä»¤ä¹æ¯ã\n\nä» traceroute å½ä»¤çè¾åºï¼æä»¬å¯ä»¥è·æå»å¾ 10.0.2.2 æ¶ï¼éè¦ç»è¿ 4 è·³ï¼\n\n * ç¬¬ 1 è·³æ¯ 10.0.1.1 ï¼å³è·¯ç±å¨ R1 ï¼\n * ç¬¬ 2 è·³æ¯ 10.2.0.1 ï¼å³è·¯ç±å¨ R2 ï¼\n * ç¬¬ 3 è·³æ¯ 10.4.0.1 ï¼å³è·¯ç±å¨ R3 ï¼\n * æåä¸è·³æ¯ç®çå° 10.0.2.2 ï¼å³ä¸»æº apple æ¬èº«ï¼\n\n\n# tracerouteåç\n\nä½ å¯è½ä¼å¾å¥½å¥ï¼traceroute æ¯å¦ä½æ¢æµè·¯ç±è·¯å¾çå¢ï¼å®æ¯ä½¿ç¨äºä»ä¹é»ç§æåï¼å¶å®å¹¶æ²¡æä»ä¹é»ç§æï¼å®çåçå¾ç®åï¼å©ç¨ IP å TTL ç¹æ§æ¥å®æè·¯å¾æ¢æµã\n\nIP åæ¯ç»è¿ä¸è·³è·¯ç±ï¼ TTL åä¸ï¼å½ TTL åå°é¶ï¼è·¯ç±å¨ä¾¿å°å®ä¸¢å¼ãè¿æ ·å¯é¿å IP åå é·å¥è·¯ç±ç¯è·¯èå¨ç½ç»ä¸­æ°¸è¿å­å¨ã\n\nè·¯ç±å¨å¨å°è¶æ¶åä¸¢å¼çåæ¶ï¼è´è´£åæº IP åéä¸ä¸ª ICMP æ¥æï¼æ¥å ä¼ è¾è¶æ¶ ï¼ time to live exceeded in transit ï¼éè¯¯ï¼ICMP ç±»åä¸º 11 ã\n\n\n\n> ååè¿å¥è·¯ç±æ¶ TTL ç­äº 1 ï¼è·¯ç±è½¬ååå° TTL å 1 ï¼ TTL ä¾¿éä¸º 0 äºãå æ­¤å¯¹è·¯ç±èè¨ï¼å¥ç«å TTL ä¸º 1 å³è§ä¸ºè¶æ¶ã\n\næ³¨æå°ï¼è·¯ç±è¿å°å IP åçå¤´é¨ä»¥åæ°æ®çå 8 ä¸ªå­èä½ä¸ºæ°æ®éå¨ ICMP æ¥æä¸­ãåéèåªéæ£æ¥è¿é¨åæ°æ®ï¼å³å¯è·æè¶æ¶åçä¸ä¸æä¿¡æ¯ã\n\nè¿æ ·ä¸æ¥ï¼ant åä¸ä¸ª TTL=1 ç IP åç» apple ï¼ç¶åç­å¾ç¬¬ä¸è·³è·¯ç±çè¶æ¶å·®éï¼ä¸å°±æ¢æµå°ç¬¬ä¸è·³è·¯ç±äºåï¼\n\n\n\nä»¥æ­¤ç±»æ¨ï¼ant å TTL=2 ç IP åå¯ä»¥æ¢æµå°ç¬¬äºè·³è·¯ç±ï¼æç»æ¢æµå° apple æ¬èº«ã\n\n\n\né®é¢æ¥äºï¼å½ traceroute æ¶å°è·¯ç±åæ¥ç ICMP è¶æ¶å·®éåï¼å¦ä½å¤è¯»è¯¥è·¯ç±æ¯ç¬¬å è·³å¢ï¼é®é¢ç­æ¡å°±èå¨ ICMP å·®éæ¥æä¸­éå¸¦çååå¤´é¨ä¸­ã\n\ntraceroute ååºçæ¢æµåï¼å¯ä»¥æ¯ä¸ä¸ª ICMP åæ¾è¯·æ±ï¼ä¹å¯ä»¥æ¯ä¸ä¸ª UDP è¯·æ±ãå®é»è®¤ä½¿ç¨å¼å®¹æ§æ´å¥½ç UDP ï¼å ä¸ºä¸å°ç³»ç»åç½ç»é½å°æäº ICMP åæ¾ç¸å³æ¥æã\n\nUDP æä»¬å¨åç»­ç« èæå­¦ä¹ ï¼å æ­¤è¿éåä»¥ ICMP ä¸ºä¾è¿è¡è®²è§£ï¼ä½æè·¯é½æ¯ç¸éçãä¸ ping å½ä»¤ç±»ä¼¼ï¼traceroute éè¿ ICMP æ¥æä¸­ç åºå· å­æ®µæ¥å¹éæ¢æµåã\n\nå®éä¸ï¼traceroute é»è®¤ä¼è¿ç»­å 3 ä¸ª TTL=1 çæ¢æµåï¼ ICMP åæ¾è¯·æ±ï¼ï¼åè¿ç»­å 3 ä¸ª TTL=2 çæ¢æµåï¼ä»¥æ­¤ç±»æ¨ãååçåæ¶ï¼å®å¨åå­ä¸­å»ºç«ä¸å¼ ä»åºå·å° TTL çæ å°è¡¨ï¼\n\nåºå·   TTL\n1    1\n2    1\n3    1\n4    2\n5    2\n6    2\nâ¦    â¦\n\næ¢æµå TTL èå°½åï¼è·¯ç±å°å®ä¸¢å¼ï¼å¹¶ååéèæ¥å ICMP è¶æ¶å·®éãtraceroute æ¶å°è¶æ¶å·®éåï¼ååºåæ¢æµåçå¤´é¨ä¿¡æ¯ãç¶åæ ¹æ®åºå·æ¥åºè¯¥åååºå»æ¶ç TTL ï¼ä¹å°±ç¥éè¯¥å·®éæ¯ç¬¬å è·³è·¯ç±ååºçã\n\nä¸å¾æ¯ä¸ä¸ªç®åçä¾å­ï¼\n\n\n\n 1. traceroute ååºç¬¬äºä¸ªæ¢æµåï¼åºå·ä¸º 5 ï¼ TTL ä¸º 2 ï¼å¹¶å°å¯¹åºå³ç³»ä¿å­å¨æ å°è¡¨ï¼\n 2. è¯¥æ¢æµåæ¯ä¸ä¸ª ICMP åæ¾è¯·æ±ï¼ç±»åä¸º 8 ï¼ç®çå°å 10.0.2.2 ä¸ºæ¢æµç®æ  apple ï¼\n 3. è¯¥åèµ°å°ç¬¬äºè·³è·¯ç± R2 æ¶ï¼TTL å°±èå°½äºï¼è·¯ç± R2 ååååéæ¹æ¥åè¶æ¶å·®éï¼\n 4. è·¯ç±å°åæ¢æµåç IP å¤´é¨åæ°æ®å 8 å­èï¼ ICMP å¤´é¨ï¼ä½ä¸ºæ°æ®éå¨ ICMP å·®éæ¥æä¸­ï¼\n 5. å·®éåå°è¾¾ä¸»æº ant åï¼traceroute ååºå·®éåä¸­éå¸¦çåæ¢æµåçå¤´é¨ï¼\n 6. æ£æ¥åæ¢æµå ICMP å¤´é¨ä¸­çæ è¯ç¬¦å­æ®µï¼traceroute ç¡®è®¤åæ¢æµåæ¯èªå·±åçï¼åºåå¶ä»è¿ç¨ï¼ï¼\n 7. æ ¹æ®åæ¢æµå ICMP å¤´é¨ä¸­çåºå·å­æ®µï¼traceroute ä»æ å°è¡¨ä¸­æ¥å°åæ¢æµåç TTL ä¸º 2ï¼\n 8. traceroute ç¡®å®è¯¥å·®éåæ¯ç¬¬ 2 è·³è·¯ç±åæ¥çï¼æºå°å 10.2.0.1 å°±æ¯è·¯ç±çå°åï¼\n\n\n# åè\n\ntracerouteå½ä»¤åç",normalizedContent:"ä¸ä¸ª ip åéè¦ç»è¿ä¸ç³»åè·¯ç±çè½¬åï¼æè½å°è¾¾ç®çå°ãä¸å¾æ¯ä¸ä¸ªå¸åçä¾å­ï¼ä¸ä¸ªä»ä¸»æº ant åºåï¼å»å¾ä¸»æº apple ç ip åï¼éè¦ç»è¿ä¸­é´è·¯ç± r1 ãr2 ä»¥å r3 ï¼\n\n\n\n\n# tracerouteå½ä»¤\n\nåæç½ç»é®é¢ãææ¥ç½ç»æéæ¶ï¼æä»¬ç»å¸¸éè¦ç¥éï¼å»å¾æä¸ª ip çæ°æ®åéè¦ç»è¿åªäºè·¯ç±ï¼é£ä¹ï¼æåæ³å°éå¾æä¸ª ip çè·¯ç±è·¯å¾æ¾åºæ¥åï¼\n\nå¶å®æ¯æçï¼traceroute å½ä»¤å°±å¯ä»¥åå°ãtraceroute å½ä»¤æ¯ä¸ä¸ªå¾å¸¸ç¨çç½ç»å·¥å·ï¼ä½ å¯è½å·²ç»å¬è¿ï¼çè³å·²ç»ç¨è¿äºãå®å¯ä»¥ç¨æ¥æ¢æµãè·è¸ªå»å¾æä¸ªç®çå° ip åéè¦ç»è¿çè·¯ç±è·¯å¾ã\n\né£ä¹ï¼traceroute å½ä»¤è¯¥å¦ä½ä½¿ç¨å¢ï¼æä»¬ä»¥ä¸å¾ä¸­çææä¸ºå®éªç¯å¢ï¼ç®åæ¼ç¤ºä¸å®çç¨æ³ãå®éªç¯å¢åæ ·ç± docker å®¹å¨æä¾ï¼åªéæ§è¡ä¸é¢è¿ä¸ª docker å½ä»¤å³å¯ä¸é®æå¼ï¼\n\n1   docker run --name traceroute-lab --rm -it --privileged\n    --cap-add=net_admin --cap-add=sys_admin -v /data\n    fasionchan/netbox:0.5 bash /script/routine.sh\n    \n\nå®éªç¯å¢æå¼åï¼èªå¨è¿å¥ä¸»æº ant ãæä»¬å ping ä¸ä¸ä¸»æº apple ï¼ç¡®è®¤ç½ç»æ¯éçï¼\n\n1 2 3 4 5 6 7 8 9 10   root@ant [ ~ ] â ping -n 10.0.2.2 ping 10.0.2.2 (10.0.2.2)\n                       56(84) bytes of data. 64 bytes from 10.0.2.2: icmp_seq=1\n                       ttl=61 time=0.082 ms 64 bytes from 10.0.2.2: icmp_seq=2\n                       ttl=61 time=0.207 ms 64 bytes from 10.0.2.2: icmp_seq=3\n                       ttl=61 time=0.219 ms 64 bytes from 10.0.2.2: icmp_seq=4\n                       ttl=61 time=0.218 ms ^c --- 10.0.2.2 ping statistics --- 4\n                       packets transmitted, 4 received, 0% packet loss, time 3111ms\n                       rtt min/avg/max/mdev = 0.082/0.181/0.219/0.057 ms\n                       \n\næ¥ä¸æ¥ï¼æ§è¡ traceroute å½ä»¤æ¢æµä»å°ä¸»æº apple çç½ç»è·¯å¾ï¼\n\n1 2 3 4 5 6   root@ant [ ~ ] â traceroute -n 10.0.2.2 traceroute to\n              10.0.2.2 (10.0.2.2), 30 hops max, 60 byte packets 1 10.0.1.1\n              0.771 ms 0.717 ms 0.603 ms 2 10.2.0.1 0.573 ms 0.538 ms\n              0.516 ms 3 10.4.0.1 0.487 ms 0.456 ms 0.437 ms 4 10.0.2.2\n              0.406 ms 0.340 ms 0.303 ms\n              \n\n> -n éé¡¹è¡¨ç¤ºï¼è¾åºç»æä¸ç¨å° ip å°ååè§£ææä¸»æºåï¼ååï¼ãç±äºååè§£æå¯è½æå¾å¤§å»¶è¿ï¼å æ­¤å ä¸ -n éé¡¹å¯ä»¥åå°å¡é¡¿ãå¾å¤ç½ç»å·¥å·é½æ¯æ -n éé¡¹ï¼ping å½ä»¤ä¹æ¯ã\n\nä» traceroute å½ä»¤çè¾åºï¼æä»¬å¯ä»¥è·æå»å¾ 10.0.2.2 æ¶ï¼éè¦ç»è¿ 4 è·³ï¼\n\n * ç¬¬ 1 è·³æ¯ 10.0.1.1 ï¼å³è·¯ç±å¨ r1 ï¼\n * ç¬¬ 2 è·³æ¯ 10.2.0.1 ï¼å³è·¯ç±å¨ r2 ï¼\n * ç¬¬ 3 è·³æ¯ 10.4.0.1 ï¼å³è·¯ç±å¨ r3 ï¼\n * æåä¸è·³æ¯ç®çå° 10.0.2.2 ï¼å³ä¸»æº apple æ¬èº«ï¼\n\n\n# tracerouteåç\n\nä½ å¯è½ä¼å¾å¥½å¥ï¼traceroute æ¯å¦ä½æ¢æµè·¯ç±è·¯å¾çå¢ï¼å®æ¯ä½¿ç¨äºä»ä¹é»ç§æåï¼å¶å®å¹¶æ²¡æä»ä¹é»ç§æï¼å®çåçå¾ç®åï¼å©ç¨ ip å ttl ç¹æ§æ¥å®æè·¯å¾æ¢æµã\n\nip åæ¯ç»è¿ä¸è·³è·¯ç±ï¼ ttl åä¸ï¼å½ ttl åå°é¶ï¼è·¯ç±å¨ä¾¿å°å®ä¸¢å¼ãè¿æ ·å¯é¿å ip åå é·å¥è·¯ç±ç¯è·¯èå¨ç½ç»ä¸­æ°¸è¿å­å¨ã\n\nè·¯ç±å¨å¨å°è¶æ¶åä¸¢å¼çåæ¶ï¼è´è´£åæº ip åéä¸ä¸ª icmp æ¥æï¼æ¥å ä¼ è¾è¶æ¶ ï¼ time to live exceeded in transit ï¼éè¯¯ï¼icmp ç±»åä¸º 11 ã\n\n\n\n> ååè¿å¥è·¯ç±æ¶ ttl ç­äº 1 ï¼è·¯ç±è½¬ååå° ttl å 1 ï¼ ttl ä¾¿éä¸º 0 äºãå æ­¤å¯¹è·¯ç±èè¨ï¼å¥ç«å ttl ä¸º 1 å³è§ä¸ºè¶æ¶ã\n\næ³¨æå°ï¼è·¯ç±è¿å°å ip åçå¤´é¨ä»¥åæ°æ®çå 8 ä¸ªå­èä½ä¸ºæ°æ®éå¨ icmp æ¥æä¸­ãåéèåªéæ£æ¥è¿é¨åæ°æ®ï¼å³å¯è·æè¶æ¶åçä¸ä¸æä¿¡æ¯ã\n\nè¿æ ·ä¸æ¥ï¼ant åä¸ä¸ª ttl=1 ç ip åç» apple ï¼ç¶åç­å¾ç¬¬ä¸è·³è·¯ç±çè¶æ¶å·®éï¼ä¸å°±æ¢æµå°ç¬¬ä¸è·³è·¯ç±äºåï¼\n\n\n\nä»¥æ­¤ç±»æ¨ï¼ant å ttl=2 ç ip åå¯ä»¥æ¢æµå°ç¬¬äºè·³è·¯ç±ï¼æç»æ¢æµå° apple æ¬èº«ã\n\n\n\né®é¢æ¥äºï¼å½ traceroute æ¶å°è·¯ç±åæ¥ç icmp è¶æ¶å·®éåï¼å¦ä½å¤è¯»è¯¥è·¯ç±æ¯ç¬¬å è·³å¢ï¼é®é¢ç­æ¡å°±èå¨ icmp å·®éæ¥æä¸­éå¸¦çååå¤´é¨ä¸­ã\n\ntraceroute ååºçæ¢æµåï¼å¯ä»¥æ¯ä¸ä¸ª icmp åæ¾è¯·æ±ï¼ä¹å¯ä»¥æ¯ä¸ä¸ª udp è¯·æ±ãå®é»è®¤ä½¿ç¨å¼å®¹æ§æ´å¥½ç udp ï¼å ä¸ºä¸å°ç³»ç»åç½ç»é½å°æäº icmp åæ¾ç¸å³æ¥æã\n\nudp æä»¬å¨åç»­ç« èæå­¦ä¹ ï¼å æ­¤è¿éåä»¥ icmp ä¸ºä¾è¿è¡è®²è§£ï¼ä½æè·¯é½æ¯ç¸éçãä¸ ping å½ä»¤ç±»ä¼¼ï¼traceroute éè¿ icmp æ¥æä¸­ç åºå· å­æ®µæ¥å¹éæ¢æµåã\n\nå®éä¸ï¼traceroute é»è®¤ä¼è¿ç»­å 3 ä¸ª ttl=1 çæ¢æµåï¼ icmp åæ¾è¯·æ±ï¼ï¼åè¿ç»­å 3 ä¸ª ttl=2 çæ¢æµåï¼ä»¥æ­¤ç±»æ¨ãååçåæ¶ï¼å®å¨åå­ä¸­å»ºç«ä¸å¼ ä»åºå·å° ttl çæ å°è¡¨ï¼\n\nåºå·   ttl\n1    1\n2    1\n3    1\n4    2\n5    2\n6    2\nâ¦    â¦\n\næ¢æµå ttl èå°½åï¼è·¯ç±å°å®ä¸¢å¼ï¼å¹¶ååéèæ¥å icmp è¶æ¶å·®éãtraceroute æ¶å°è¶æ¶å·®éåï¼ååºåæ¢æµåçå¤´é¨ä¿¡æ¯ãç¶åæ ¹æ®åºå·æ¥åºè¯¥åååºå»æ¶ç ttl ï¼ä¹å°±ç¥éè¯¥å·®éæ¯ç¬¬å è·³è·¯ç±ååºçã\n\nä¸å¾æ¯ä¸ä¸ªç®åçä¾å­ï¼\n\n\n\n 1. traceroute ååºç¬¬äºä¸ªæ¢æµåï¼åºå·ä¸º 5 ï¼ ttl ä¸º 2 ï¼å¹¶å°å¯¹åºå³ç³»ä¿å­å¨æ å°è¡¨ï¼\n 2. è¯¥æ¢æµåæ¯ä¸ä¸ª icmp åæ¾è¯·æ±ï¼ç±»åä¸º 8 ï¼ç®çå°å 10.0.2.2 ä¸ºæ¢æµç®æ  apple ï¼\n 3. è¯¥åèµ°å°ç¬¬äºè·³è·¯ç± r2 æ¶ï¼ttl å°±èå°½äºï¼è·¯ç± r2 ååååéæ¹æ¥åè¶æ¶å·®éï¼\n 4. è·¯ç±å°åæ¢æµåç ip å¤´é¨åæ°æ®å 8 å­èï¼ icmp å¤´é¨ï¼ä½ä¸ºæ°æ®éå¨ icmp å·®éæ¥æä¸­ï¼\n 5. å·®éåå°è¾¾ä¸»æº ant åï¼traceroute ååºå·®éåä¸­éå¸¦çåæ¢æµåçå¤´é¨ï¼\n 6. æ£æ¥åæ¢æµå icmp å¤´é¨ä¸­çæ è¯ç¬¦å­æ®µï¼traceroute ç¡®è®¤åæ¢æµåæ¯èªå·±åçï¼åºåå¶ä»è¿ç¨ï¼ï¼\n 7. æ ¹æ®åæ¢æµå icmp å¤´é¨ä¸­çåºå·å­æ®µï¼traceroute ä»æ å°è¡¨ä¸­æ¥å°åæ¢æµåç ttl ä¸º 2ï¼\n 8. traceroute ç¡®å®è¯¥å·®éåæ¯ç¬¬ 2 è·³è·¯ç±åæ¥çï¼æºå°å 10.2.0.1 å°±æ¯è·¯ç±çå°åï¼\n\n\n# åè\n\ntracerouteå½ä»¤åç",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ç®è¿°IOæ¨¡å",frontmatter:{title:"ç®è¿°IOæ¨¡å",date:"2022-10-09T11:07:13.000Z",permalink:"/pages/782c23/",categories:["è®¡ç®æºåºç¡","æä½ç³»ç»"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/20.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/220.%E7%AE%80%E8%BF%B0IO%E6%A8%A1%E5%9E%8B.html",relativePath:"02.è®¡ç®æºåºç¡/20.æä½ç³»ç»/220.ç®è¿°IOæ¨¡å.md",key:"v-d41ba7ec",path:"/pages/782c23/",headers:[{level:3,title:"## é»å¡å¼ I/O",slug:"é»å¡å¼-i-o",normalizedTitle:"## é»å¡å¼ i/o",charIndex:232},{level:3,title:"## éé»å¡å¼ I/O",slug:"éé»å¡å¼-i-o",normalizedTitle:"## éé»å¡å¼ i/o",charIndex:569},{level:3,title:"## I/O å¤ç¨",slug:"i-o-å¤ç¨",normalizedTitle:"## i/o å¤ç¨",charIndex:706},{level:3,title:"## ä¿¡å·é©±å¨ I/O",slug:"ä¿¡å·é©±å¨-i-o",normalizedTitle:"## ä¿¡å·é©±å¨ i/o",charIndex:998},{level:2,title:"å¼æ­¥I/O",slug:"å¼æ­¥i-o",normalizedTitle:"å¼æ­¥i/o",charIndex:1187},{level:3,title:"## äºå¤§ I/O æ¨¡åæ¯è¾",slug:"äºå¤§-i-o-æ¨¡åæ¯è¾",normalizedTitle:"## äºå¤§ i/o æ¨¡åæ¯è¾",charIndex:1345}],headersStr:"## é»å¡å¼ I/O ## éé»å¡å¼ I/O ## I/O å¤ç¨ ## ä¿¡å·é©±å¨ I/O å¼æ­¥I/O ## äºå¤§ I/O æ¨¡åæ¯è¾",content:"ä¸ä¸ªè¾å¥æä½éå¸¸åæ¬ä¸¤ä¸ªé¶æ®µï¼\n\n * ç­å¾æ°æ®åå¤å¥½\n * ä»åæ ¸åè¿ç¨å¤å¶æ°æ®\n\nå¯¹äºä¸ä¸ªå¥æ¥å­ä¸çè¾å¥æä½ï¼ç¬¬ä¸æ­¥éå¸¸æ¶åç­å¾æ°æ®ä»ç½ç»ä¸­å°è¾¾ãå½æç­å¾æ°æ®å°è¾¾æ¶ï¼å®è¢«å¤å¶å°åæ ¸ä¸­çæä¸ªç¼å²åºãç¬¬äºæ­¥å°±æ¯ææ°æ®ä»åæ ¸ç¼å²åºå¤å¶å°åºç¨è¿ç¨ç¼å²åºã\n\nUnix æäºç§ I/O æ¨¡åï¼\n\n * é»å¡å¼ I/O\n * éé»å¡å¼ I/O\n * I/O å¤ç¨ï¼select å pollï¼\n * ä¿¡å·é©±å¨å¼ I/Oï¼SIGIOï¼\n * å¼æ­¥ I/Oï¼AIOï¼\n\n\n# ## é»å¡å¼ I/O\n\nåºç¨è¿ç¨è¢«é»å¡ï¼ç´å°æ°æ®ä»åæ ¸ç¼å²åºå¤å¶å°åºç¨è¿ç¨ç¼å²åºä¸­æè¿åã\n\nåºè¯¥æ³¨æå°ï¼å¨é»å¡çè¿ç¨ä¸­ï¼å¶å®åºç¨è¿ç¨è¿å¯ä»¥æ§è¡ï¼å æ­¤é»å¡ä¸æå³çæ´ä¸ªæä½ç³»ç»é½è¢«é»å¡ãå ä¸ºå¶å®åºç¨è¿ç¨è¿å¯ä»¥æ§è¡ï¼æä»¥ä¸æ¶è CPU æ¶é´ï¼è¿ç§æ¨¡åç CPU å©ç¨çä¼æ¯è¾é«ã\n\nä¸å¾ä¸­ï¼recvfrom() ç¨äºæ¥æ¶ Socket ä¼ æ¥çæ°æ®ï¼å¹¶å¤å¶å°åºç¨è¿ç¨çç¼å²åº buf ä¸­ãè¿éæ recvfrom() å½æç³»ç»è°ç¨ã\n\nssize_t recvfrom(int sockfd, void *buf, size_t len, int flags, struct sockaddr *src_addr, socklen_t *addrlen);\n\n\n1\n\n\n\n\n\n# ## éé»å¡å¼ I/O\n\nåºç¨è¿ç¨æ§è¡ç³»ç»è°ç¨ä¹åï¼åæ ¸è¿åä¸ä¸ªéè¯¯ç ãåºç¨è¿ç¨å¯ä»¥ç»§ç»­æ§è¡ï¼ä½æ¯éè¦ä¸æ­çæ§è¡ç³»ç»è°ç¨æ¥è·ç¥ I/O æ¯å¦å®æï¼è¿ç§æ¹å¼ç§°ä¸ºè½®è¯¢ï¼pollingï¼ã\n\nç±äº CPU è¦å¤çæ´å¤çç³»ç»è°ç¨ï¼å æ­¤è¿ç§æ¨¡åç CPU å©ç¨çæ¯è¾ä½ã\n\n\n\n\n# ## I/O å¤ç¨\n\nä½¿ç¨ select æè poll ç­å¾æ°æ®ï¼å¹¶ä¸å¯ä»¥ç­å¾å¤ä¸ªå¥æ¥å­ä¸­çä»»ä½ä¸ä¸ªåä¸ºå¯è¯»ãè¿ä¸è¿ç¨ä¼è¢«é»å¡ï¼å½æä¸ä¸ªå¥æ¥å­å¯è¯»æ¶è¿åï¼ä¹ååä½¿ç¨ recvfrom ææ°æ®ä»åæ ¸å¤å¶å°è¿ç¨ä¸­ã\n\nå®å¯ä»¥è®©åä¸ªè¿ç¨å·æå¤çå¤ä¸ª I/O äºä»¶çè½åãåè¢«ç§°ä¸º Event Driven I/Oï¼å³äºä»¶é©±å¨ I/Oã\n\nå¦æä¸ä¸ª Web æå¡å¨æ²¡æ I/O å¤ç¨ï¼é£ä¹æ¯ä¸ä¸ª Socket è¿æ¥é½éè¦åå»ºä¸ä¸ªçº¿ç¨å»å¤çãå¦æåæ¶æå ä¸ä¸ªè¿æ¥ï¼é£ä¹å°±éè¦åå»ºç¸åæ°éççº¿ç¨ãç¸æ¯äºå¤è¿ç¨åå¤çº¿ç¨ææ¯ï¼I/O å¤ç¨ä¸éè¦è¿ç¨çº¿ç¨åå»ºååæ¢çå¼éï¼ç³»ç»å¼éæ´å°ã\n\n\n\n\n# ## ä¿¡å·é©±å¨ I/O\n\nåºç¨è¿ç¨ä½¿ç¨ sigaction ç³»ç»è°ç¨ï¼åæ ¸ç«å³è¿åï¼åºç¨è¿ç¨å¯ä»¥ç»§ç»­æ§è¡ï¼ä¹å°±æ¯è¯´ç­å¾æ°æ®é¶æ®µåºç¨è¿ç¨æ¯éé»å¡çãåæ ¸å¨æ°æ®å°è¾¾æ¶ååºç¨è¿ç¨åé SIGIO ä¿¡å·ï¼åºç¨è¿ç¨æ¶å°ä¹åå¨ä¿¡å·å¤çç¨åºä¸­è°ç¨ recvfrom å°æ°æ®ä»åæ ¸å¤å¶å°åºç¨è¿ç¨ä¸­ã\n\nç¸æ¯äºéé»å¡å¼ I/O çè½®è¯¢æ¹å¼ï¼ä¿¡å·é©±å¨ I/O ç CPU å©ç¨çæ´é«ã\n\n\n\n\n# å¼æ­¥I/O\n\nåºç¨è¿ç¨æ§è¡ aio_read ç³»ç»è°ç¨ä¼ç«å³è¿åï¼åºç¨è¿ç¨å¯ä»¥ç»§ç»­æ§è¡ï¼ä¸ä¼è¢«é»å¡ï¼åæ ¸ä¼å¨æææä½å®æä¹åååºç¨è¿ç¨åéä¿¡å·ã\n\nå¼æ­¥ I/O ä¸ä¿¡å·é©±å¨ I/O çåºå«å¨äºï¼å¼æ­¥ I/O çä¿¡å·æ¯éç¥åºç¨è¿ç¨ I/O å®æï¼èä¿¡å·é©±å¨ I/O çä¿¡å·æ¯éç¥åºç¨è¿ç¨å¯ä»¥å¼å§ I/Oã\n\n\n\n\n# ## äºå¤§ I/O æ¨¡åæ¯è¾\n\n * åæ­¥ I/Oï¼å°æ°æ®ä»åæ ¸ç¼å²åºå¤å¶å°åºç¨è¿ç¨ç¼å²åºçé¶æ®µï¼ç¬¬äºé¶æ®µï¼ï¼åºç¨è¿ç¨ä¼é»å¡ã\n * å¼æ­¥ I/Oï¼ç¬¬äºé¶æ®µåºç¨è¿ç¨ä¸ä¼é»å¡ã\n\nåæ­¥ I/O åæ¬é»å¡å¼ I/Oãéé»å¡å¼ I/OãI/O å¤ç¨åä¿¡å·é©±å¨ I/O ï¼å®ä»¬çä¸»è¦åºå«å¨ç¬¬ä¸ä¸ªé¶æ®µã\n\néé»å¡å¼ I/O ãä¿¡å·é©±å¨ I/O åå¼æ­¥ I/O å¨ç¬¬ä¸é¶æ®µä¸ä¼é»å¡ã\n\n",normalizedContent:"ä¸ä¸ªè¾å¥æä½éå¸¸åæ¬ä¸¤ä¸ªé¶æ®µï¼\n\n * ç­å¾æ°æ®åå¤å¥½\n * ä»åæ ¸åè¿ç¨å¤å¶æ°æ®\n\nå¯¹äºä¸ä¸ªå¥æ¥å­ä¸çè¾å¥æä½ï¼ç¬¬ä¸æ­¥éå¸¸æ¶åç­å¾æ°æ®ä»ç½ç»ä¸­å°è¾¾ãå½æç­å¾æ°æ®å°è¾¾æ¶ï¼å®è¢«å¤å¶å°åæ ¸ä¸­çæä¸ªç¼å²åºãç¬¬äºæ­¥å°±æ¯ææ°æ®ä»åæ ¸ç¼å²åºå¤å¶å°åºç¨è¿ç¨ç¼å²åºã\n\nunix æäºç§ i/o æ¨¡åï¼\n\n * é»å¡å¼ i/o\n * éé»å¡å¼ i/o\n * i/o å¤ç¨ï¼select å pollï¼\n * ä¿¡å·é©±å¨å¼ i/oï¼sigioï¼\n * å¼æ­¥ i/oï¼aioï¼\n\n\n# ## é»å¡å¼ i/o\n\nåºç¨è¿ç¨è¢«é»å¡ï¼ç´å°æ°æ®ä»åæ ¸ç¼å²åºå¤å¶å°åºç¨è¿ç¨ç¼å²åºä¸­æè¿åã\n\nåºè¯¥æ³¨æå°ï¼å¨é»å¡çè¿ç¨ä¸­ï¼å¶å®åºç¨è¿ç¨è¿å¯ä»¥æ§è¡ï¼å æ­¤é»å¡ä¸æå³çæ´ä¸ªæä½ç³»ç»é½è¢«é»å¡ãå ä¸ºå¶å®åºç¨è¿ç¨è¿å¯ä»¥æ§è¡ï¼æä»¥ä¸æ¶è cpu æ¶é´ï¼è¿ç§æ¨¡åç cpu å©ç¨çä¼æ¯è¾é«ã\n\nä¸å¾ä¸­ï¼recvfrom() ç¨äºæ¥æ¶ socket ä¼ æ¥çæ°æ®ï¼å¹¶å¤å¶å°åºç¨è¿ç¨çç¼å²åº buf ä¸­ãè¿éæ recvfrom() å½æç³»ç»è°ç¨ã\n\nssize_t recvfrom(int sockfd, void *buf, size_t len, int flags, struct sockaddr *src_addr, socklen_t *addrlen);\n\n\n1\n\n\n\n\n\n# ## éé»å¡å¼ i/o\n\nåºç¨è¿ç¨æ§è¡ç³»ç»è°ç¨ä¹åï¼åæ ¸è¿åä¸ä¸ªéè¯¯ç ãåºç¨è¿ç¨å¯ä»¥ç»§ç»­æ§è¡ï¼ä½æ¯éè¦ä¸æ­çæ§è¡ç³»ç»è°ç¨æ¥è·ç¥ i/o æ¯å¦å®æï¼è¿ç§æ¹å¼ç§°ä¸ºè½®è¯¢ï¼pollingï¼ã\n\nç±äº cpu è¦å¤çæ´å¤çç³»ç»è°ç¨ï¼å æ­¤è¿ç§æ¨¡åç cpu å©ç¨çæ¯è¾ä½ã\n\n\n\n\n# ## i/o å¤ç¨\n\nä½¿ç¨ select æè poll ç­å¾æ°æ®ï¼å¹¶ä¸å¯ä»¥ç­å¾å¤ä¸ªå¥æ¥å­ä¸­çä»»ä½ä¸ä¸ªåä¸ºå¯è¯»ãè¿ä¸è¿ç¨ä¼è¢«é»å¡ï¼å½æä¸ä¸ªå¥æ¥å­å¯è¯»æ¶è¿åï¼ä¹ååä½¿ç¨ recvfrom ææ°æ®ä»åæ ¸å¤å¶å°è¿ç¨ä¸­ã\n\nå®å¯ä»¥è®©åä¸ªè¿ç¨å·æå¤çå¤ä¸ª i/o äºä»¶çè½åãåè¢«ç§°ä¸º event driven i/oï¼å³äºä»¶é©±å¨ i/oã\n\nå¦æä¸ä¸ª web æå¡å¨æ²¡æ i/o å¤ç¨ï¼é£ä¹æ¯ä¸ä¸ª socket è¿æ¥é½éè¦åå»ºä¸ä¸ªçº¿ç¨å»å¤çãå¦æåæ¶æå ä¸ä¸ªè¿æ¥ï¼é£ä¹å°±éè¦åå»ºç¸åæ°éççº¿ç¨ãç¸æ¯äºå¤è¿ç¨åå¤çº¿ç¨ææ¯ï¼i/o å¤ç¨ä¸éè¦è¿ç¨çº¿ç¨åå»ºååæ¢çå¼éï¼ç³»ç»å¼éæ´å°ã\n\n\n\n\n# ## ä¿¡å·é©±å¨ i/o\n\nåºç¨è¿ç¨ä½¿ç¨ sigaction ç³»ç»è°ç¨ï¼åæ ¸ç«å³è¿åï¼åºç¨è¿ç¨å¯ä»¥ç»§ç»­æ§è¡ï¼ä¹å°±æ¯è¯´ç­å¾æ°æ®é¶æ®µåºç¨è¿ç¨æ¯éé»å¡çãåæ ¸å¨æ°æ®å°è¾¾æ¶ååºç¨è¿ç¨åé sigio ä¿¡å·ï¼åºç¨è¿ç¨æ¶å°ä¹åå¨ä¿¡å·å¤çç¨åºä¸­è°ç¨ recvfrom å°æ°æ®ä»åæ ¸å¤å¶å°åºç¨è¿ç¨ä¸­ã\n\nç¸æ¯äºéé»å¡å¼ i/o çè½®è¯¢æ¹å¼ï¼ä¿¡å·é©±å¨ i/o ç cpu å©ç¨çæ´é«ã\n\n\n\n\n# å¼æ­¥i/o\n\nåºç¨è¿ç¨æ§è¡ aio_read ç³»ç»è°ç¨ä¼ç«å³è¿åï¼åºç¨è¿ç¨å¯ä»¥ç»§ç»­æ§è¡ï¼ä¸ä¼è¢«é»å¡ï¼åæ ¸ä¼å¨æææä½å®æä¹åååºç¨è¿ç¨åéä¿¡å·ã\n\nå¼æ­¥ i/o ä¸ä¿¡å·é©±å¨ i/o çåºå«å¨äºï¼å¼æ­¥ i/o çä¿¡å·æ¯éç¥åºç¨è¿ç¨ i/o å®æï¼èä¿¡å·é©±å¨ i/o çä¿¡å·æ¯éç¥åºç¨è¿ç¨å¯ä»¥å¼å§ i/oã\n\n\n\n\n# ## äºå¤§ i/o æ¨¡åæ¯è¾\n\n * åæ­¥ i/oï¼å°æ°æ®ä»åæ ¸ç¼å²åºå¤å¶å°åºç¨è¿ç¨ç¼å²åºçé¶æ®µï¼ç¬¬äºé¶æ®µï¼ï¼åºç¨è¿ç¨ä¼é»å¡ã\n * å¼æ­¥ i/oï¼ç¬¬äºé¶æ®µåºç¨è¿ç¨ä¸ä¼é»å¡ã\n\nåæ­¥ i/o åæ¬é»å¡å¼ i/oãéé»å¡å¼ i/oãi/o å¤ç¨åä¿¡å·é©±å¨ i/o ï¼å®ä»¬çä¸»è¦åºå«å¨ç¬¬ä¸ä¸ªé¶æ®µã\n\néé»å¡å¼ i/o ãä¿¡å·é©±å¨ i/o åå¼æ­¥ i/o å¨ç¬¬ä¸é¶æ®µä¸ä¼é»å¡ã\n\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ°ç»",frontmatter:{title:"æ°ç»",date:"2022-03-11T00:38:43.000Z",permalink:"/pages/a25c3a/",categories:["è®¡ç®æºåºç¡","CSS"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E6%95%B0%E7%BB%84.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/01.æ°ç».md",key:"v-0c4b3c8a",path:"/pages/a25c3a/",headers:[{level:2,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:2},{level:2,title:"æ°ç»çæä½æ°ç»çæä½",slug:"æ°ç»çæä½æ°ç»çæä½",normalizedTitle:"æ°ç»çæä½æ°ç»çæä½",charIndex:435},{level:3,title:"è¯»ååç´ ",slug:"è¯»ååç´ ",normalizedTitle:"è¯»ååç´ ",charIndex:450},{level:3,title:"æ¥æ¾åç´ ",slug:"æ¥æ¾åç´ ",normalizedTitle:"æ¥æ¾åç´ ",charIndex:956},{level:3,title:"æå¥åç´ ",slug:"æå¥åç´ ",normalizedTitle:"æå¥åç´ ",charIndex:1218},{level:3,title:"å é¤åç´ ",slug:"å é¤åç´ ",normalizedTitle:"å é¤åç´ ",charIndex:1483},{level:2,title:"äºç»´æ°ç»",slug:"äºç»´æ°ç»",normalizedTitle:"äºç»´æ°ç»",charIndex:1696},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Array.html#ç¤ºä¾)ç¤ºä¾",slug:"ç¤ºä¾",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/array.html#%e7%a4%ba%e4%be%8b" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>ç¤ºä¾',charIndex:null}],headersStr:"æ°ç» æ°ç»çæä½æ°ç»çæä½ è¯»ååç´  æ¥æ¾åç´  æå¥åç´  å é¤åç´  äºç»´æ°ç» [#](https://javakeeper.starfish.ink/data-structure-algorithms/Array.html#ç¤ºä¾)ç¤ºä¾",content:"# æ°ç»\n\næ°ç»æ¯åè¡¨çå®ç°æ¹å¼ä¹ä¸ï¼ä¹æ¯é¢è¯ä¸­ç»å¸¸æ¶åå°çæ°æ®ç»æã\n\næ­£å¦åé¢æå°çï¼æ°ç»æ¯åè¡¨çå®ç°æ¹å¼ï¼å®å·æåè¡¨çç¹å¾ï¼åæ¶ä¹å·æèªå·±çä¸äºç¹å¾ãç¶èï¼å¨å·ä½çç¼ç¨è¯­è¨ä¸­ï¼æ°ç»è¿ä¸ªæ°æ®ç»æçå®ç°æ¹å¼å·æä¸å®å·®å«ãæ¯å¦ C++ å Java ä¸­ï¼æ°ç»ä¸­çåç´ ç±»åå¿é¡»ä¿æä¸è´ï¼è Python ä¸­åå¯ä»¥ä¸åãPython ä¸­çæ°ç»å«å listï¼å·ææ´å¤çé«çº§åè½ã\n\né£ä¹å¦ä½ä»å®è§ä¸åºååè¡¨åæ°ç»å¢ï¼è¿éæä¸ä¸ªéè¦çæ¦å¿µï¼ç´¢å¼ã\n\né¦åï¼æ°ç»ä¼ç¨ä¸äºåä¸º ç´¢å¼ çæ°å­æ¥æ è¯æ¯é¡¹æ°æ®å¨æ°ç»ä¸­çä½ç½®ï¼ä¸å¨å¤§å¤æ°ç¼ç¨è¯­è¨ä¸­ï¼ç´¢å¼æ¯ä» 0 ç®èµ·çãæä»¬å¯ä»¥æ ¹æ®æ°ç»ä¸­çç´¢å¼ï¼å¿«éè®¿é®æ°ç»ä¸­çåç´ ã\n\n\n\nèåè¡¨ä¸­æ²¡æç´¢å¼ï¼è¿æ¯æ°ç»ä¸åè¡¨æå¤§çä¸åç¹ã\n\nå¶æ¬¡ï¼æ°ç»ä¸­çåç´ å¨åå­ä¸­æ¯è¿ç»­å­å¨çï¼ä¸æ¯ä¸ªåç´ å ç¨ç¸åå¤§å°çåå­ã\n\n\n\nç¸åï¼åè¡¨ä¸­çåç´ å¨åå­ä¸­å¯è½å½¼æ­¤ç¸é»ï¼ä¹å¯è½ä¸ç¸é»ãæ¯å¦åè¡¨çå¦ä¸ç§å®ç°æ¹å¼ââé¾è¡¨ï¼å®çåç´ å¨åå­ä¸­åä¸ä¸å®æ¯è¿ç»­çã\n\n\n# æ°ç»çæä½æ°ç»çæä½\n\n\n# è¯»ååç´ \n\nè¯»åæ°ç»ä¸­çåç´ ï¼å³éè¿æ°ç»çç´¢å¼è®¿é®æ°ç»ä¸­çåç´ ã\n\nè¿éçç´¢å¼å¶å®å°±æ¯åå­å°åï¼å¼å¾ä¸æçæ¯ï¼è®¡ç®æºå¯ä»¥è·³è·å°ä»»æçåå­å°åä¸ï¼è¿å°±æå³çåªè¦è®¡ç®åºæ°ç»ä¸­åç´ çåå­å°åï¼åå¯ä»¥ä¸æ­¥è®¿é®å°æ°ç»ä¸­çåç´ ã\n\nå¯ä»¥å½¢è±¡å°å°è®¡ç®æºä¸­çåå­çä½ä¸ç³»åæåå¥½çæ ¼å­ï¼è¿äºæ ¼å­ä¸­ï¼æ¯ä¸ä¸ªæ ¼å­å¯¹åºä¸ä¸ªåå­å°åï¼æ°æ®ä¼å­å¨å¨ä¸åçæ ¼å­ä¸­ã\n\n\n\nèå¯¹äºæ°ç»ï¼è®¡ç®æºä¼å¨åå­ä¸­ç³è¯·ä¸æ®µ è¿ç»­ çç©ºé´ï¼å¹¶ä¸ä¼è®°ä¸ç´¢å¼ä¸º 0 å¤çåå­å°åãä¾å¦å¯¹äºä¸ä¸ªæ°ç» ['oranges', 'apples', 'bananas', 'pears', 'tomatoes']ï¼ä¸ºäºæ¹ä¾¿èµ·è§ï¼æä»¬åè®¾æ¯ä¸ªåç´ åªå ç¨ä¸ä¸ªå­èï¼å®çç´¢å¼ä¸åå­å°åçå³ç³»å¦ä¸å¾æç¤ºã\n\n\n\nå½æä»¬è®¿é®æ°ç»ä¸­ç´¢å¼ä¸º 3 å¤çåç´ æ¶ï¼è®¡ç®æºä¼è¿è¡å¦ä¸è®¡ç®ï¼\n\n * æ¾å°è¯¥æ°ç»çç´¢å¼ 0 çåå­å°åï¼ 2008ï¼\n * pears çç´¢å¼ä¸º 3ï¼è®¡ç®è¯¥åç´ çåå­å°åä¸º 2008 + 3 = 2011ï¼\n\næ¥ä¸æ¥ï¼è®¡ç®æºå°±å¯ä»¥å¨ç´æ¥éè¿è¯¥å°åè®¿é®å°æ°ç»ä¸­ç´¢å¼ä¸º 3 çåç´ äºï¼è®¡ç®è¿ç¨å¾å¿«ï¼å æ­¤å¯ä»¥å°æ´ä¸ªè®¿é®è¿ç¨åªçä½ä¸ä¸ªå¨ä½ï¼å æ­¤æ¶é´å¤æåº¦ä¸º ã\n\n\n# æ¥æ¾åç´ \n\nåé¢æä»¬è°å°è®¡ç®æºåªä¼ä¿å­æ°ç»ä¸­ç´¢å¼ä¸º 0 å¤åç´ çåå­å°åï¼å æ­¤å½è®¡ç®æºæ³è¦ç¥éæ°ç»ä¸­æ¯å¦åå«æä¸ªåç´ æ¶ï¼åªè½ä»ç´¢å¼ 0 å¤å¼å§ï¼éæ­¥ååæ¥è¯¢ã\n\nè¿æ¯ä¸é¢çä¾å­ï¼å¦ææä»¬è¦æ¥æ¾æ°ç»ä¸­æ¯å¦åå«åç´  pearsï¼è®¡ç®æºä¼ä»ç´¢å¼ 0 å¼å§ï¼éä¸ªæ¯è¾å¯¹åºçåç´ ï¼ç´å°æ¾å°è¯¥åç´ ååæ­¢æç´¢ï¼æå°è¾¾æ°ç»çæ«å°¾ååæ­¢ã\n\n\n\næä»¬åç°ï¼è¯¥æ°ç»çé¿åº¦ä¸º 5ï¼æåæåµä¸ï¼æ¯å¦æä»¬æ¥æ¾åç´  tomatoes ææ¥æ¾æ°ç»ä¸­ä¸åå«çåç´ ï¼ï¼æä»¬éè¦æ¥è¯¢æ°ç»ä¸­çæ¯ä¸ªåç´ ï¼å æ­¤æ¶é´å¤æåº¦ä¸º$ O(N)$ï¼N ä¸ºæ°ç»çé¿åº¦ã\n\n\n# æå¥åç´ \n\nåå¦æä»¬æ³å¨åæçæ°ç»ä¸­åæå¥ä¸ä¸ªåç´  flowers å¢ï¼\n\nå¦æè¦å°è¯¥åç´ æå¥å°æ°ç»çæ«å°¾ï¼åªéè¦ä¸æ­¥ãå³è®¡ç®æºéè¿æ°ç»çé¿åº¦åä½ç½®è®¡ç®åºå³å°æå¥åç´ çåå­å°åï¼ç¶åå°è¯¥åç´ æå¥å°æå®ä½ç½®å³å¯ã\n\n\n\nç¶èï¼å¦æè¦å°è¯¥åç´ æå¥å°æ°ç»ä¸­çå¶ä»ä½ç½®ï¼åä¼ææåºå«ï¼è¿æ¶æä»¬é¦åéè¦ä¸ºè¯¥åç´ æè¦æå¥çä½ç½®è¾åº ç©ºé´ï¼ç¶åè¿è¡æå¥æä½ãæ¯å¦ï¼æä»¬æ³è¦å¨ç´¢å¼ 2 å¤æå¥ flowersã\n\n\n\næä»¬åç°ï¼å¦æéè¦é¢ç¹å°å¯¹æ°ç»åç´ è¿è¡æå¥æä½ï¼ä¼é ææ¶é´çæµªè´¹ãäºå®ä¸ï¼å¦ä¸ç§æ°æ®ç»æï¼å³é¾è¡¨å¯ä»¥ææè§£å³è¿ä¸ªé®é¢ã\n\n\n# å é¤åç´ \n\nå é¤åç´ ä¸æå¥åç´ çæä½ç±»ä¼¼ï¼å½æä»¬å é¤ææ°ç»ä¸­çæä¸ªåç´ åï¼æ°ç»ä¸­ä¼çä¸ ç©ºç¼º çä½ç½®ï¼èæ°ç»ä¸­çåç´ å¨åå­ä¸­æ¯è¿ç»­çï¼è¿å°±ä½¿å¾åé¢çåç´ éå¯¹è¯¥ä½ç½®è¿è¡ å¡«è¡¥ æä½ã\n\nä»¥å é¤ç´¢å¼ 1 ä¸­çåç´  apples ä¸ºä¾ï¼å·ä½è¿ç¨å¦å¾æç¤ºã\n\n\n\nåæ ·å°ï¼æ°ç»çé¿åº¦ä¸º 5ï¼æåæåµä¸ï¼æä»¬å é¤ç¬¬ä¸ä¸ªåç´ ï¼åé¢ç 4 ä¸ªåç´ éè¦ååç§»å¨ï¼å ä¸å é¤æä½ï¼å±éæ§è¡ 5 æ­¥ï¼å æ­¤æ¶é´å¤æåº¦ä¸º ï¼N ä¸ºæ°ç»çé¿åº¦ã\n\n\n# äºç»´æ°ç»\n\näºç»´æ°ç»æ¯ä¸ç§ç»æè¾ä¸ºç¹æ®çæ°ç»ï¼åªæ¯å°æ°ç»ä¸­çæ¯ä¸ªåç´ åæäºä¸ç»´æ°ç»ã\n\n\n\næä»¥äºç»´æ°ç»çæ¬è´¨ä¸ä»ç¶æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼åé¨çä¸ç»´æ°ç»ä»ç¶ä»ç´¢å¼ 0 å¼å§ï¼æä»¬å¯ä»¥å°å®çä½ä¸ä¸ªç©éµï¼å¹¶å¤çç©éµçç¸å³é®é¢ã\n\n\n# #ç¤ºä¾\n\nç±»ä¼¼ä¸ç»´æ°ç»ï¼å¯¹äºä¸ä¸ªäºç»´æ°ç» A = [[1, 2, 3, 4],[2, 4, 5, 6],[1, 4, 6, 8]]ï¼è®¡ç®æºåæ ·ä¼å¨åå­ä¸­ç³è¯·ä¸æ®µ è¿ç»­ çç©ºé´ï¼å¹¶è®°å½ç¬¬ä¸è¡æ°ç»çç´¢å¼ä½ç½®ï¼å³ A[0][0] çåå­å°åï¼å®çç´¢å¼ä¸åå­å°åçå³ç³»å¦ä¸å¾æç¤ºã\n\n\n\næ³¨æï¼å®éæ°ç»ä¸­çåç´ ç±äºç±»åçä¸åä¼å ç¨ä¸åçå­èæ°ï¼å æ­¤æ¯ä¸ªæ¹æ ¼å°åä¹é´çå·®å¼å¯è½ä¸ä¸º 1ã\n\nå®éé¢ç®ä¸­ï¼å¾å¾ä½¿ç¨äºç»´æ°æ®å¤çç©éµç±»ç¸å³é®é¢ï¼åæ¬ç©éµæè½¬ãå¯¹è§çº¿éåï¼ä»¥åå¯¹å­ç©éµçæä½ç­ã",normalizedContent:"# æ°ç»\n\næ°ç»æ¯åè¡¨çå®ç°æ¹å¼ä¹ä¸ï¼ä¹æ¯é¢è¯ä¸­ç»å¸¸æ¶åå°çæ°æ®ç»æã\n\næ­£å¦åé¢æå°çï¼æ°ç»æ¯åè¡¨çå®ç°æ¹å¼ï¼å®å·æåè¡¨çç¹å¾ï¼åæ¶ä¹å·æèªå·±çä¸äºç¹å¾ãç¶èï¼å¨å·ä½çç¼ç¨è¯­è¨ä¸­ï¼æ°ç»è¿ä¸ªæ°æ®ç»æçå®ç°æ¹å¼å·æä¸å®å·®å«ãæ¯å¦ c++ å java ä¸­ï¼æ°ç»ä¸­çåç´ ç±»åå¿é¡»ä¿æä¸è´ï¼è python ä¸­åå¯ä»¥ä¸åãpython ä¸­çæ°ç»å«å listï¼å·ææ´å¤çé«çº§åè½ã\n\né£ä¹å¦ä½ä»å®è§ä¸åºååè¡¨åæ°ç»å¢ï¼è¿éæä¸ä¸ªéè¦çæ¦å¿µï¼ç´¢å¼ã\n\né¦åï¼æ°ç»ä¼ç¨ä¸äºåä¸º ç´¢å¼ çæ°å­æ¥æ è¯æ¯é¡¹æ°æ®å¨æ°ç»ä¸­çä½ç½®ï¼ä¸å¨å¤§å¤æ°ç¼ç¨è¯­è¨ä¸­ï¼ç´¢å¼æ¯ä» 0 ç®èµ·çãæä»¬å¯ä»¥æ ¹æ®æ°ç»ä¸­çç´¢å¼ï¼å¿«éè®¿é®æ°ç»ä¸­çåç´ ã\n\n\n\nèåè¡¨ä¸­æ²¡æç´¢å¼ï¼è¿æ¯æ°ç»ä¸åè¡¨æå¤§çä¸åç¹ã\n\nå¶æ¬¡ï¼æ°ç»ä¸­çåç´ å¨åå­ä¸­æ¯è¿ç»­å­å¨çï¼ä¸æ¯ä¸ªåç´ å ç¨ç¸åå¤§å°çåå­ã\n\n\n\nç¸åï¼åè¡¨ä¸­çåç´ å¨åå­ä¸­å¯è½å½¼æ­¤ç¸é»ï¼ä¹å¯è½ä¸ç¸é»ãæ¯å¦åè¡¨çå¦ä¸ç§å®ç°æ¹å¼ââé¾è¡¨ï¼å®çåç´ å¨åå­ä¸­åä¸ä¸å®æ¯è¿ç»­çã\n\n\n# æ°ç»çæä½æ°ç»çæä½\n\n\n# è¯»ååç´ \n\nè¯»åæ°ç»ä¸­çåç´ ï¼å³éè¿æ°ç»çç´¢å¼è®¿é®æ°ç»ä¸­çåç´ ã\n\nè¿éçç´¢å¼å¶å®å°±æ¯åå­å°åï¼å¼å¾ä¸æçæ¯ï¼è®¡ç®æºå¯ä»¥è·³è·å°ä»»æçåå­å°åä¸ï¼è¿å°±æå³çåªè¦è®¡ç®åºæ°ç»ä¸­åç´ çåå­å°åï¼åå¯ä»¥ä¸æ­¥è®¿é®å°æ°ç»ä¸­çåç´ ã\n\nå¯ä»¥å½¢è±¡å°å°è®¡ç®æºä¸­çåå­çä½ä¸ç³»åæåå¥½çæ ¼å­ï¼è¿äºæ ¼å­ä¸­ï¼æ¯ä¸ä¸ªæ ¼å­å¯¹åºä¸ä¸ªåå­å°åï¼æ°æ®ä¼å­å¨å¨ä¸åçæ ¼å­ä¸­ã\n\n\n\nèå¯¹äºæ°ç»ï¼è®¡ç®æºä¼å¨åå­ä¸­ç³è¯·ä¸æ®µ è¿ç»­ çç©ºé´ï¼å¹¶ä¸ä¼è®°ä¸ç´¢å¼ä¸º 0 å¤çåå­å°åãä¾å¦å¯¹äºä¸ä¸ªæ°ç» ['oranges', 'apples', 'bananas', 'pears', 'tomatoes']ï¼ä¸ºäºæ¹ä¾¿èµ·è§ï¼æä»¬åè®¾æ¯ä¸ªåç´ åªå ç¨ä¸ä¸ªå­èï¼å®çç´¢å¼ä¸åå­å°åçå³ç³»å¦ä¸å¾æç¤ºã\n\n\n\nå½æä»¬è®¿é®æ°ç»ä¸­ç´¢å¼ä¸º 3 å¤çåç´ æ¶ï¼è®¡ç®æºä¼è¿è¡å¦ä¸è®¡ç®ï¼\n\n * æ¾å°è¯¥æ°ç»çç´¢å¼ 0 çåå­å°åï¼ 2008ï¼\n * pears çç´¢å¼ä¸º 3ï¼è®¡ç®è¯¥åç´ çåå­å°åä¸º 2008 + 3 = 2011ï¼\n\næ¥ä¸æ¥ï¼è®¡ç®æºå°±å¯ä»¥å¨ç´æ¥éè¿è¯¥å°åè®¿é®å°æ°ç»ä¸­ç´¢å¼ä¸º 3 çåç´ äºï¼è®¡ç®è¿ç¨å¾å¿«ï¼å æ­¤å¯ä»¥å°æ´ä¸ªè®¿é®è¿ç¨åªçä½ä¸ä¸ªå¨ä½ï¼å æ­¤æ¶é´å¤æåº¦ä¸º ã\n\n\n# æ¥æ¾åç´ \n\nåé¢æä»¬è°å°è®¡ç®æºåªä¼ä¿å­æ°ç»ä¸­ç´¢å¼ä¸º 0 å¤åç´ çåå­å°åï¼å æ­¤å½è®¡ç®æºæ³è¦ç¥éæ°ç»ä¸­æ¯å¦åå«æä¸ªåç´ æ¶ï¼åªè½ä»ç´¢å¼ 0 å¤å¼å§ï¼éæ­¥ååæ¥è¯¢ã\n\nè¿æ¯ä¸é¢çä¾å­ï¼å¦ææä»¬è¦æ¥æ¾æ°ç»ä¸­æ¯å¦åå«åç´  pearsï¼è®¡ç®æºä¼ä»ç´¢å¼ 0 å¼å§ï¼éä¸ªæ¯è¾å¯¹åºçåç´ ï¼ç´å°æ¾å°è¯¥åç´ ååæ­¢æç´¢ï¼æå°è¾¾æ°ç»çæ«å°¾ååæ­¢ã\n\n\n\næä»¬åç°ï¼è¯¥æ°ç»çé¿åº¦ä¸º 5ï¼æåæåµä¸ï¼æ¯å¦æä»¬æ¥æ¾åç´  tomatoes ææ¥æ¾æ°ç»ä¸­ä¸åå«çåç´ ï¼ï¼æä»¬éè¦æ¥è¯¢æ°ç»ä¸­çæ¯ä¸ªåç´ ï¼å æ­¤æ¶é´å¤æåº¦ä¸º$ o(n)$ï¼n ä¸ºæ°ç»çé¿åº¦ã\n\n\n# æå¥åç´ \n\nåå¦æä»¬æ³å¨åæçæ°ç»ä¸­åæå¥ä¸ä¸ªåç´  flowers å¢ï¼\n\nå¦æè¦å°è¯¥åç´ æå¥å°æ°ç»çæ«å°¾ï¼åªéè¦ä¸æ­¥ãå³è®¡ç®æºéè¿æ°ç»çé¿åº¦åä½ç½®è®¡ç®åºå³å°æå¥åç´ çåå­å°åï¼ç¶åå°è¯¥åç´ æå¥å°æå®ä½ç½®å³å¯ã\n\n\n\nç¶èï¼å¦æè¦å°è¯¥åç´ æå¥å°æ°ç»ä¸­çå¶ä»ä½ç½®ï¼åä¼ææåºå«ï¼è¿æ¶æä»¬é¦åéè¦ä¸ºè¯¥åç´ æè¦æå¥çä½ç½®è¾åº ç©ºé´ï¼ç¶åè¿è¡æå¥æä½ãæ¯å¦ï¼æä»¬æ³è¦å¨ç´¢å¼ 2 å¤æå¥ flowersã\n\n\n\næä»¬åç°ï¼å¦æéè¦é¢ç¹å°å¯¹æ°ç»åç´ è¿è¡æå¥æä½ï¼ä¼é ææ¶é´çæµªè´¹ãäºå®ä¸ï¼å¦ä¸ç§æ°æ®ç»æï¼å³é¾è¡¨å¯ä»¥ææè§£å³è¿ä¸ªé®é¢ã\n\n\n# å é¤åç´ \n\nå é¤åç´ ä¸æå¥åç´ çæä½ç±»ä¼¼ï¼å½æä»¬å é¤ææ°ç»ä¸­çæä¸ªåç´ åï¼æ°ç»ä¸­ä¼çä¸ ç©ºç¼º çä½ç½®ï¼èæ°ç»ä¸­çåç´ å¨åå­ä¸­æ¯è¿ç»­çï¼è¿å°±ä½¿å¾åé¢çåç´ éå¯¹è¯¥ä½ç½®è¿è¡ å¡«è¡¥ æä½ã\n\nä»¥å é¤ç´¢å¼ 1 ä¸­çåç´  apples ä¸ºä¾ï¼å·ä½è¿ç¨å¦å¾æç¤ºã\n\n\n\nåæ ·å°ï¼æ°ç»çé¿åº¦ä¸º 5ï¼æåæåµä¸ï¼æä»¬å é¤ç¬¬ä¸ä¸ªåç´ ï¼åé¢ç 4 ä¸ªåç´ éè¦ååç§»å¨ï¼å ä¸å é¤æä½ï¼å±éæ§è¡ 5 æ­¥ï¼å æ­¤æ¶é´å¤æåº¦ä¸º ï¼n ä¸ºæ°ç»çé¿åº¦ã\n\n\n# äºç»´æ°ç»\n\näºç»´æ°ç»æ¯ä¸ç§ç»æè¾ä¸ºç¹æ®çæ°ç»ï¼åªæ¯å°æ°ç»ä¸­çæ¯ä¸ªåç´ åæäºä¸ç»´æ°ç»ã\n\n\n\næä»¥äºç»´æ°ç»çæ¬è´¨ä¸ä»ç¶æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼åé¨çä¸ç»´æ°ç»ä»ç¶ä»ç´¢å¼ 0 å¼å§ï¼æä»¬å¯ä»¥å°å®çä½ä¸ä¸ªç©éµï¼å¹¶å¤çç©éµçç¸å³é®é¢ã\n\n\n# #ç¤ºä¾\n\nç±»ä¼¼ä¸ç»´æ°ç»ï¼å¯¹äºä¸ä¸ªäºç»´æ°ç» a = [[1, 2, 3, 4],[2, 4, 5, 6],[1, 4, 6, 8]]ï¼è®¡ç®æºåæ ·ä¼å¨åå­ä¸­ç³è¯·ä¸æ®µ è¿ç»­ çç©ºé´ï¼å¹¶è®°å½ç¬¬ä¸è¡æ°ç»çç´¢å¼ä½ç½®ï¼å³ a[0][0] çåå­å°åï¼å®çç´¢å¼ä¸åå­å°åçå³ç³»å¦ä¸å¾æç¤ºã\n\n\n\næ³¨æï¼å®éæ°ç»ä¸­çåç´ ç±äºç±»åçä¸åä¼å ç¨ä¸åçå­èæ°ï¼å æ­¤æ¯ä¸ªæ¹æ ¼å°åä¹é´çå·®å¼å¯è½ä¸ä¸º 1ã\n\nå®éé¢ç®ä¸­ï¼å¾å¾ä½¿ç¨äºç»´æ°æ®å¤çç©éµç±»ç¸å³é®é¢ï¼åæ¬ç©éµæè½¬ãå¯¹è§çº¿éåï¼ä»¥åå¯¹å­ç©éµçæä½ç­ã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ ",frontmatter:{title:"æ ",date:"2022-10-11T22:51:14.000Z",permalink:"/pages/c29bff/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/30.%E6%A0%91.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/30.æ .md",key:"v-a380136c",path:"/pages/c29bff/",headers:[{level:2,title:"äºåæ çåç±»",slug:"äºåæ çåç±»",normalizedTitle:"äºåæ çåç±»",charIndex:681},{level:3,title:"æ»¡äºåæ ",slug:"æ»¡äºåæ ",normalizedTitle:"æ»¡äºåæ ",charIndex:849},{level:3,title:"å®å¨äºåæ ",slug:"å®å¨äºåæ ",normalizedTitle:"å®å¨äºåæ ",charIndex:1037},{level:3,title:"å¹³è¡¡äºåæ ",slug:"å¹³è¡¡äºåæ ",normalizedTitle:"å¹³è¡¡äºåæ ",charIndex:1337},{level:2,title:"äºåæ çå­å¨",slug:"äºåæ çå­å¨",normalizedTitle:"äºåæ çå­å¨",charIndex:1320},{level:3,title:"é¾å¼å­å¨",slug:"é¾å¼å­å¨",normalizedTitle:"é¾å¼å­å¨",charIndex:1801},{level:3,title:"é¡ºåºå­å¨",slug:"é¡ºåºå­å¨",normalizedTitle:"é¡ºåºå­å¨",charIndex:1808},{level:2,title:"äºåæ çéå",slug:"äºåæ çéå",normalizedTitle:"äºåæ çéå",charIndex:2275},{level:3,title:"ååºéå",slug:"ååºéå",normalizedTitle:"ååºéå",charIndex:2286},{level:3,title:"ä¸­åºéå",slug:"ä¸­åºéå",normalizedTitle:"ä¸­åºéå",charIndex:2550},{level:3,title:"ååºéå",slug:"ååºéå",normalizedTitle:"ååºéå",charIndex:2820}],headersStr:"äºåæ çåç±» æ»¡äºåæ  å®å¨äºåæ  å¹³è¡¡äºåæ  äºåæ çå­å¨ é¾å¼å­å¨ é¡ºåºå­å¨ äºåæ çéå ååºéå ä¸­åºéå ååºéå",content:"æ å°±æ¯ä¸ç§ç±»ä¼¼ç°å®çæ´»ä¸­çæ çæ°æ®ç»æï¼åç½®çæ ï¼ãä»»ä½ä¸é¢éç©ºæ åªæä¸ä¸ªæ ¹èç¹ã\n\nä¸æ£µæ å·æä»¥ä¸ç¹ç¹ï¼\n\n 1. ä¸æ£µæ ä¸­çä»»æä¸¤ä¸ªç»ç¹æä¸ä»æå¯ä¸çä¸æ¡è·¯å¾è¿éã\n 2. ä¸æ£µæ å¦ææ n ä¸ªç»ç¹ï¼é£ä¹å®ä¸å®æ°å¥½æ n-1 æ¡è¾¹ã\n 3. ä¸æ£µæ ä¸åå«åè·¯ã\n\nä¸å¾å°±æ¯ä¸é¢æ ï¼å¹¶ä¸æ¯ä¸é¢äºåæ ã\n\n\n\nå¦ä¸å¾æç¤ºï¼éè¿ä¸é¢è¿å¼ å¾è¯´æä¸ä¸æ ä¸­çå¸¸ç¨æ¦å¿µï¼\n\n * èç¹ ï¼æ ä¸­çæ¯ä¸ªåç´ é½å¯ä»¥ç»ç§°ä¸ºèç¹ã\n * æ ¹èç¹ ï¼é¡¶å±èç¹æèè¯´æ²¡æç¶èç¹çèç¹ãä¸å¾ä¸­ A èç¹å°±æ¯æ ¹èç¹ã\n * ç¶èç¹ ï¼è¥ä¸ä¸ªèç¹å«æå­èç¹ï¼åè¿ä¸ªèç¹ç§°ä¸ºå¶å­èç¹çç¶èç¹ãä¸å¾ä¸­ç B èç¹æ¯ D èç¹ãE èç¹çç¶èç¹ã\n * å­èç¹ ï¼ä¸ä¸ªèç¹å«æçå­æ çæ ¹èç¹ç§°ä¸ºè¯¥èç¹çå­èç¹ãä¸å¾ä¸­ D èç¹ãE èç¹æ¯ B èç¹çå­èç¹ã\n * åå¼èç¹ ï¼å·æç¸åç¶èç¹çèç¹äºç§°ä¸ºåå¼èç¹ãä¸å¾ä¸­ D èç¹ãE èç¹çå±åç¶èç¹æ¯ B èç¹ï¼æ D å E ä¸ºåå¼èç¹ã\n * å¶å­èç¹ ï¼æ²¡æå­èç¹çèç¹ãä¸å¾ä¸­ç DãFãHãI é½æ¯å¶å­èç¹ã\n * èç¹çé«åº¦ ï¼è¯¥èç¹å°å¶å­èç¹çæé¿è·¯å¾æåå«çè¾¹æ°ã\n * èç¹çæ·±åº¦ ï¼æ ¹èç¹å°è¯¥èç¹çè·¯å¾æåå«çè¾¹æ°\n * èç¹çå±æ° ï¼èç¹çæ·±åº¦+1ã\n * æ çé«åº¦ ï¼æ ¹èç¹çé«åº¦ã\n\n> å³äºæ çæ·±åº¦åé«åº¦çå®ä¹å¯ä»¥ç stackoverflow ä¸çè¿ä¸ªé®é¢ï¼What is the difference between tree depth and height?open in new window ã\n\n\n# äºåæ çåç±»\n\näºåæ ï¼Binary treeï¼æ¯æ¯ä¸ªèç¹æå¤åªæä¸¤ä¸ªåæ¯ï¼å³ä¸å­å¨åæ¯åº¦å¤§äº 2 çèç¹ï¼çæ ç»æã\n\näºåæ  çåæ¯éå¸¸è¢«ç§°ä½âå·¦å­æ âæâå³å­æ âãå¹¶ä¸ï¼äºåæ  çåæ¯å·æå·¦å³æ¬¡åºï¼ä¸è½éæé¢ åã\n\näºåæ  çç¬¬ i å±è³å¤æ¥æ 2^(i-1) ä¸ªèç¹ï¼æ·±åº¦ä¸º k çäºåæ è³å¤æ»å±æ 2^(k+1)-1 ä¸ªèç¹ï¼æ»¡äºåæ çæåµï¼ï¼è³å°æ 2^(k) ä¸ªèç¹ï¼å³äºèç¹çæ·±åº¦çå®ä¹å½åäºè®®æ¯è¾å¤ï¼æä¸ªäººæ¯è¾è®¤å¯ç»´åºç¾ç§å¯¹èç¹æ·±åº¦çå®ä¹open in new windowï¼ã\n\n\n\n\n# æ»¡äºåæ \n\nä¸ä¸ªäºåæ ï¼å¦ææ¯ä¸ä¸ªå±çç»ç¹æ°é½è¾¾å°æå¤§å¼ï¼åè¿ä¸ªäºåæ å°±æ¯ æ»¡äºåæ ãä¹å°±æ¯è¯´ï¼å¦æä¸ä¸ªäºåæ çå±æ°ä¸º Kï¼ä¸ç»ç¹æ»æ°æ¯(2^k) -1 ï¼åå®å°±æ¯ æ»¡äºåæ ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n# å®å¨äºåæ \n\né¤æåä¸å±å¤ï¼è¥å¶ä½å±é½æ¯æ»¡çï¼å¹¶ä¸æåä¸å±æèæ¯æ»¡çï¼æèæ¯å¨å³è¾¹ç¼ºå°è¿ç»­è¥å¹²èç¹ï¼åè¿ä¸ªäºåæ å°±æ¯ å®å¨äºåæ  ã\n\nå¤§å®¶å¯ä»¥æ³è±¡ä¸ºä¸æ£µæ ä»æ ¹ç»ç¹å¼å§æ©å±ï¼æ©å±å®å·¦å­èç¹æè½å¼å§æ©å±å³å­èç¹ï¼æ¯æ©å±å®ä¸å±ï¼æè½ç»§ç»­æ©å±ä¸ä¸å±ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå®å¨äºåæ æä¸ä¸ªå¾å¥½çæ§è´¨ï¼ç¶ç»ç¹åå­èç¹çåºå·æçå¯¹åºå³ç³»ã\n\nç»å¿çå°ä¼ä¼´å¯è½åç°äºï¼å½æ ¹èç¹çå¼ä¸º 1 çæåµä¸ï¼è¥ç¶ç»ç¹çåºå·æ¯ iï¼é£ä¹å·¦å­èç¹çåºå·å°±æ¯ 2iï¼å³å­èç¹çåºå·æ¯ 2i+1ãè¿ä¸ªæ§è´¨ä½¿å¾å®å¨äºåæ å©ç¨æ°ç»å­å¨æ¶å¯ä»¥æå¤§å°èçç©ºé´ï¼ä»¥åå©ç¨åºå·æ¾å°æä¸ªèç¹çç¶ç»ç¹åå­èç¹ï¼åç»­äºåæ çå­å¨ä¼è¯¦ç»ä»ç»ã\n\n\n# å¹³è¡¡äºåæ \n\nå¹³è¡¡äºåæ  æ¯ä¸æ£µäºåæåºæ ï¼ä¸å·æä»¥ä¸æ§è´¨ï¼\n\n 1. å¯ä»¥æ¯ä¸æ£µç©ºæ \n 2. å¦æä¸æ¯ç©ºæ ï¼å®çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿ 1ï¼å¹¶ä¸å·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸æ£µå¹³è¡¡äºåæ ã\n\nå¹³è¡¡äºåæ çå¸¸ç¨å®ç°æ¹æ³æ çº¢é»æ ãAVL æ ãæ¿ç½ªç¾æ ãå æå¹³è¡¡æ ãä¼¸å±æ  ç­ã\n\nå¨ç»å¤§å®¶å±ç¤ºå¹³è¡¡äºåæ ä¹åï¼åç»å¤§å®¶çä¸æ£µæ ï¼\n\n\n\nä½ ç®¡è¿ç©æå¿å«æ ï¼ï¼ï¼\n\næ²¡éï¼è¿ç©æå¿è¿çå«æ ï¼åªä¸è¿è¿æ£µæ å·²ç»éåä¸ºä¸ä¸ªé¾è¡¨äºï¼æä»¬ç®¡å®å« ææ ã\n\nå¦æè¿æ ·ï¼é£æä¸ºå¥ä¸ç´æ¥ç¨é¾è¡¨å¢?\n\nè°è¯´ä¸æ¯å¢ï¼\n\näºåæ ç¸æ¯äºé¾è¡¨ï¼ç±äºç¶å­èç¹ä»¥ååå¼èç¹ä¹é´å¾å¾å·ææç§ç¹æ®çå³ç³»ï¼è¿ç§å³ç³»ä½¿å¾æä»¬å¨æ ä¸­å¯¹æ°æ®è¿è¡æç´¢åä¿®æ¹æ¶ï¼ç¸å¯¹äºé¾è¡¨æ´å å¿«æ·ä¾¿å©ã\n\nä½æ¯ï¼å¦æäºåæ éåä¸ºä¸ä¸ªé¾è¡¨äºï¼é£ä¹é£ä¹æ æå·æçä¼ç§æ§è´¨å°±é¾ä»¥è¡¨ç°åºæ¥ï¼æçä¹ä¼å¤§ææï¼ä¸ºäºé¿åè¿æ ·çæåµï¼æä»¬å¸ææ¯ä¸ªå âå®¶é¿âï¼ç¶ç»ç¹ï¼ çï¼é½ ä¸ç¢æ°´ç«¯å¹³ï¼åç»å·¦å¿å­ååç»å³å¿å­çå°½å¯è½ä¸æ ·å¤ï¼ç¸å·®æå¤ä¸è¶è¿ä¸å±ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\n\n# äºåæ çå­å¨\n\näºåæ çå­å¨ä¸»è¦åä¸º é¾å¼å­å¨ å é¡ºåºå­å¨ ä¸¤ç§ï¼\n\n\n# é¾å¼å­å¨\n\nåé¾è¡¨ç±»ä¼¼ï¼äºåæ çé¾å¼å­å¨ä¾é æéå°åä¸ªèç¹ä¸²èèµ·æ¥ï¼ä¸éè¦è¿ç»­çå­å¨ç©ºé´ã\n\næ¯ä¸ªèç¹åæ¬ä¸ä¸ªå±æ§ï¼\n\n * æ°æ® dataãdata ä¸ä¸å®æ¯åä¸çæ°æ®ï¼æ ¹æ®ä¸åæåµï¼å¯ä»¥æ¯å¤ä¸ªå·æä¸åç±»åçæ°æ®ã\n * å·¦èç¹æé left\n * å³èç¹æé rightã\n\nå¯æ¯ JAVA æ²¡ææéåï¼\n\né£å°±ç´æ¥å¼ç¨å¯¹è±¡åï¼å«é®æå¯¹è±¡åªéæ¾ï¼\n\n\n\n\n# é¡ºåºå­å¨\n\né¡ºåºå­å¨å°±æ¯å©ç¨æ°ç»è¿è¡å­å¨ï¼æ°ç»ä¸­çæ¯ä¸ä¸ªä½ç½®ä»å­å¨èç¹ç dataï¼ä¸å­å¨å·¦å³å­èç¹çæéï¼å­èç¹çç´¢å¼éè¿æ°ç»ä¸æ å®æãæ ¹ç»ç¹çåºå·ä¸º 1ï¼å¯¹äºæ¯ä¸ªèç¹ Nodeï¼åè®¾å®å­å¨å¨æ°ç»ä¸­ä¸æ ä¸º i çä½ç½®ï¼é£ä¹å®çå·¦å­èç¹å°±å­å¨å¨ 2i çä½ç½®ï¼å®çå³å­èç¹å­å¨å¨ä¸æ ä¸º 2i+1 çä½ç½®ã\n\nä¸æ£µå®å¨äºåæ çæ°ç»é¡ºåºå­å¨å¦ä¸å¾æç¤ºï¼\n\n\n\nå¤§å®¶å¯ä»¥è¯çå¡«åä¸ä¸å­å¨å¦ä¸äºåæ çæ°ç»ï¼æ¯è¾ä¸ä¸åå®å¨äºåæ çé¡ºåºå­å¨æä½åºå«ï¼\n\n\n\nå¯ä»¥çå°ï¼å¦ææä»¬è¦å­å¨çäºåæ ä¸æ¯å®å¨äºåæ ï¼å¨æ°ç»ä¸­å°±ä¼åºç°ç©ºéï¼å¯¼è´åå­å©ç¨çéä½\n\n\n# äºåæ çéå\n\n\n# ååºéå\n\n\n\näºåæ çååºéåï¼å°±æ¯åè¾åºæ ¹ç»ç¹ï¼åéåå·¦å­æ ï¼æåéåå³å­æ ï¼éåå·¦å­æ åå³å­æ çæ¶åï¼åæ ·éµå¾ªååºéåçè§åï¼ä¹å°±æ¯è¯´ï¼æä»¬å¯ä»¥éå½å®ç°ååºéåã\n\nä»£ç å¦ä¸ï¼\n\npublic void preOrder(TreeNode root){\n\tif(root == null){\n\t\treturn;\n\t}\n\tsystem.out.println(root.data);\n\tpreOrder(root.left);\n\tpreOrder(root.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ä¸­åºéå\n\n\n\näºåæ çä¸­åºéåï¼å°±æ¯åéå½ä¸­åºéåå·¦å­æ ï¼åè¾åºæ ¹ç»ç¹çå¼ï¼åéå½ä¸­åºéåå³å­æ ï¼å¤§å®¶å¯ä»¥æ³è±¡æä¸å·´æææ åæï¼ç¶ç»ç¹è¢«æå°äºå·¦å­èç¹åå³å­èç¹çä¸­é´ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nä»£ç å¦ä¸ï¼\n\npublic void inOrder(TreeNode root){\n\tif(root == null){\n\t\treturn;\n\t}\n\tinOrder(root.left);\n\tsystem.out.println(root.data);\n\tinOrder(root.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ååºéå\n\n\n\näºåæ çååºéåï¼å°±æ¯åéå½ååºéåå·¦å­æ ï¼åéå½ååºéåå³å­æ ï¼æåè¾åºæ ¹ç»ç¹çå¼\n\nä»£ç å¦ä¸ï¼\n\npublic void postOrder(TreeNode root){\n\tif(root == null){\n\t\treturn;\n\t}\n\tpostOrder(root.left);\n\tpostOrder(root.right);\n\tsystem.out.println(root.data);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåèï¼\n\næ°æ®ç»æ-æ ",normalizedContent:"æ å°±æ¯ä¸ç§ç±»ä¼¼ç°å®çæ´»ä¸­çæ çæ°æ®ç»æï¼åç½®çæ ï¼ãä»»ä½ä¸é¢éç©ºæ åªæä¸ä¸ªæ ¹èç¹ã\n\nä¸æ£µæ å·æä»¥ä¸ç¹ç¹ï¼\n\n 1. ä¸æ£µæ ä¸­çä»»æä¸¤ä¸ªç»ç¹æä¸ä»æå¯ä¸çä¸æ¡è·¯å¾è¿éã\n 2. ä¸æ£µæ å¦ææ n ä¸ªç»ç¹ï¼é£ä¹å®ä¸å®æ°å¥½æ n-1 æ¡è¾¹ã\n 3. ä¸æ£µæ ä¸åå«åè·¯ã\n\nä¸å¾å°±æ¯ä¸é¢æ ï¼å¹¶ä¸æ¯ä¸é¢äºåæ ã\n\n\n\nå¦ä¸å¾æç¤ºï¼éè¿ä¸é¢è¿å¼ å¾è¯´æä¸ä¸æ ä¸­çå¸¸ç¨æ¦å¿µï¼\n\n * èç¹ ï¼æ ä¸­çæ¯ä¸ªåç´ é½å¯ä»¥ç»ç§°ä¸ºèç¹ã\n * æ ¹èç¹ ï¼é¡¶å±èç¹æèè¯´æ²¡æç¶èç¹çèç¹ãä¸å¾ä¸­ a èç¹å°±æ¯æ ¹èç¹ã\n * ç¶èç¹ ï¼è¥ä¸ä¸ªèç¹å«æå­èç¹ï¼åè¿ä¸ªèç¹ç§°ä¸ºå¶å­èç¹çç¶èç¹ãä¸å¾ä¸­ç b èç¹æ¯ d èç¹ãe èç¹çç¶èç¹ã\n * å­èç¹ ï¼ä¸ä¸ªèç¹å«æçå­æ çæ ¹èç¹ç§°ä¸ºè¯¥èç¹çå­èç¹ãä¸å¾ä¸­ d èç¹ãe èç¹æ¯ b èç¹çå­èç¹ã\n * åå¼èç¹ ï¼å·æç¸åç¶èç¹çèç¹äºç§°ä¸ºåå¼èç¹ãä¸å¾ä¸­ d èç¹ãe èç¹çå±åç¶èç¹æ¯ b èç¹ï¼æ d å e ä¸ºåå¼èç¹ã\n * å¶å­èç¹ ï¼æ²¡æå­èç¹çèç¹ãä¸å¾ä¸­ç dãfãhãi é½æ¯å¶å­èç¹ã\n * èç¹çé«åº¦ ï¼è¯¥èç¹å°å¶å­èç¹çæé¿è·¯å¾æåå«çè¾¹æ°ã\n * èç¹çæ·±åº¦ ï¼æ ¹èç¹å°è¯¥èç¹çè·¯å¾æåå«çè¾¹æ°\n * èç¹çå±æ° ï¼èç¹çæ·±åº¦+1ã\n * æ çé«åº¦ ï¼æ ¹èç¹çé«åº¦ã\n\n> å³äºæ çæ·±åº¦åé«åº¦çå®ä¹å¯ä»¥ç stackoverflow ä¸çè¿ä¸ªé®é¢ï¼what is the difference between tree depth and height?open in new window ã\n\n\n# äºåæ çåç±»\n\näºåæ ï¼binary treeï¼æ¯æ¯ä¸ªèç¹æå¤åªæä¸¤ä¸ªåæ¯ï¼å³ä¸å­å¨åæ¯åº¦å¤§äº 2 çèç¹ï¼çæ ç»æã\n\näºåæ  çåæ¯éå¸¸è¢«ç§°ä½âå·¦å­æ âæâå³å­æ âãå¹¶ä¸ï¼äºåæ  çåæ¯å·æå·¦å³æ¬¡åºï¼ä¸è½éæé¢ åã\n\näºåæ  çç¬¬ i å±è³å¤æ¥æ 2^(i-1) ä¸ªèç¹ï¼æ·±åº¦ä¸º k çäºåæ è³å¤æ»å±æ 2^(k+1)-1 ä¸ªèç¹ï¼æ»¡äºåæ çæåµï¼ï¼è³å°æ 2^(k) ä¸ªèç¹ï¼å³äºèç¹çæ·±åº¦çå®ä¹å½åäºè®®æ¯è¾å¤ï¼æä¸ªäººæ¯è¾è®¤å¯ç»´åºç¾ç§å¯¹èç¹æ·±åº¦çå®ä¹open in new windowï¼ã\n\n\n\n\n# æ»¡äºåæ \n\nä¸ä¸ªäºåæ ï¼å¦ææ¯ä¸ä¸ªå±çç»ç¹æ°é½è¾¾å°æå¤§å¼ï¼åè¿ä¸ªäºåæ å°±æ¯ æ»¡äºåæ ãä¹å°±æ¯è¯´ï¼å¦æä¸ä¸ªäºåæ çå±æ°ä¸º kï¼ä¸ç»ç¹æ»æ°æ¯(2^k) -1 ï¼åå®å°±æ¯ æ»¡äºåæ ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n# å®å¨äºåæ \n\né¤æåä¸å±å¤ï¼è¥å¶ä½å±é½æ¯æ»¡çï¼å¹¶ä¸æåä¸å±æèæ¯æ»¡çï¼æèæ¯å¨å³è¾¹ç¼ºå°è¿ç»­è¥å¹²èç¹ï¼åè¿ä¸ªäºåæ å°±æ¯ å®å¨äºåæ  ã\n\nå¤§å®¶å¯ä»¥æ³è±¡ä¸ºä¸æ£µæ ä»æ ¹ç»ç¹å¼å§æ©å±ï¼æ©å±å®å·¦å­èç¹æè½å¼å§æ©å±å³å­èç¹ï¼æ¯æ©å±å®ä¸å±ï¼æè½ç»§ç»­æ©å±ä¸ä¸å±ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå®å¨äºåæ æä¸ä¸ªå¾å¥½çæ§è´¨ï¼ç¶ç»ç¹åå­èç¹çåºå·æçå¯¹åºå³ç³»ã\n\nç»å¿çå°ä¼ä¼´å¯è½åç°äºï¼å½æ ¹èç¹çå¼ä¸º 1 çæåµä¸ï¼è¥ç¶ç»ç¹çåºå·æ¯ iï¼é£ä¹å·¦å­èç¹çåºå·å°±æ¯ 2iï¼å³å­èç¹çåºå·æ¯ 2i+1ãè¿ä¸ªæ§è´¨ä½¿å¾å®å¨äºåæ å©ç¨æ°ç»å­å¨æ¶å¯ä»¥æå¤§å°èçç©ºé´ï¼ä»¥åå©ç¨åºå·æ¾å°æä¸ªèç¹çç¶ç»ç¹åå­èç¹ï¼åç»­äºåæ çå­å¨ä¼è¯¦ç»ä»ç»ã\n\n\n# å¹³è¡¡äºåæ \n\nå¹³è¡¡äºåæ  æ¯ä¸æ£µäºåæåºæ ï¼ä¸å·æä»¥ä¸æ§è´¨ï¼\n\n 1. å¯ä»¥æ¯ä¸æ£µç©ºæ \n 2. å¦æä¸æ¯ç©ºæ ï¼å®çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿ 1ï¼å¹¶ä¸å·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸æ£µå¹³è¡¡äºåæ ã\n\nå¹³è¡¡äºåæ çå¸¸ç¨å®ç°æ¹æ³æ çº¢é»æ ãavl æ ãæ¿ç½ªç¾æ ãå æå¹³è¡¡æ ãä¼¸å±æ  ç­ã\n\nå¨ç»å¤§å®¶å±ç¤ºå¹³è¡¡äºåæ ä¹åï¼åç»å¤§å®¶çä¸æ£µæ ï¼\n\n\n\nä½ ç®¡è¿ç©æå¿å«æ ï¼ï¼ï¼\n\næ²¡éï¼è¿ç©æå¿è¿çå«æ ï¼åªä¸è¿è¿æ£µæ å·²ç»éåä¸ºä¸ä¸ªé¾è¡¨äºï¼æä»¬ç®¡å®å« ææ ã\n\nå¦æè¿æ ·ï¼é£æä¸ºå¥ä¸ç´æ¥ç¨é¾è¡¨å¢?\n\nè°è¯´ä¸æ¯å¢ï¼\n\näºåæ ç¸æ¯äºé¾è¡¨ï¼ç±äºç¶å­èç¹ä»¥ååå¼èç¹ä¹é´å¾å¾å·ææç§ç¹æ®çå³ç³»ï¼è¿ç§å³ç³»ä½¿å¾æä»¬å¨æ ä¸­å¯¹æ°æ®è¿è¡æç´¢åä¿®æ¹æ¶ï¼ç¸å¯¹äºé¾è¡¨æ´å å¿«æ·ä¾¿å©ã\n\nä½æ¯ï¼å¦æäºåæ éåä¸ºä¸ä¸ªé¾è¡¨äºï¼é£ä¹é£ä¹æ æå·æçä¼ç§æ§è´¨å°±é¾ä»¥è¡¨ç°åºæ¥ï¼æçä¹ä¼å¤§ææï¼ä¸ºäºé¿åè¿æ ·çæåµï¼æä»¬å¸ææ¯ä¸ªå âå®¶é¿âï¼ç¶ç»ç¹ï¼ çï¼é½ ä¸ç¢æ°´ç«¯å¹³ï¼åç»å·¦å¿å­ååç»å³å¿å­çå°½å¯è½ä¸æ ·å¤ï¼ç¸å·®æå¤ä¸è¶è¿ä¸å±ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\n\n# äºåæ çå­å¨\n\näºåæ çå­å¨ä¸»è¦åä¸º é¾å¼å­å¨ å é¡ºåºå­å¨ ä¸¤ç§ï¼\n\n\n# é¾å¼å­å¨\n\nåé¾è¡¨ç±»ä¼¼ï¼äºåæ çé¾å¼å­å¨ä¾é æéå°åä¸ªèç¹ä¸²èèµ·æ¥ï¼ä¸éè¦è¿ç»­çå­å¨ç©ºé´ã\n\næ¯ä¸ªèç¹åæ¬ä¸ä¸ªå±æ§ï¼\n\n * æ°æ® dataãdata ä¸ä¸å®æ¯åä¸çæ°æ®ï¼æ ¹æ®ä¸åæåµï¼å¯ä»¥æ¯å¤ä¸ªå·æä¸åç±»åçæ°æ®ã\n * å·¦èç¹æé left\n * å³èç¹æé rightã\n\nå¯æ¯ java æ²¡ææéåï¼\n\né£å°±ç´æ¥å¼ç¨å¯¹è±¡åï¼å«é®æå¯¹è±¡åªéæ¾ï¼\n\n\n\n\n# é¡ºåºå­å¨\n\né¡ºåºå­å¨å°±æ¯å©ç¨æ°ç»è¿è¡å­å¨ï¼æ°ç»ä¸­çæ¯ä¸ä¸ªä½ç½®ä»å­å¨èç¹ç dataï¼ä¸å­å¨å·¦å³å­èç¹çæéï¼å­èç¹çç´¢å¼éè¿æ°ç»ä¸æ å®æãæ ¹ç»ç¹çåºå·ä¸º 1ï¼å¯¹äºæ¯ä¸ªèç¹ nodeï¼åè®¾å®å­å¨å¨æ°ç»ä¸­ä¸æ ä¸º i çä½ç½®ï¼é£ä¹å®çå·¦å­èç¹å°±å­å¨å¨ 2i çä½ç½®ï¼å®çå³å­èç¹å­å¨å¨ä¸æ ä¸º 2i+1 çä½ç½®ã\n\nä¸æ£µå®å¨äºåæ çæ°ç»é¡ºåºå­å¨å¦ä¸å¾æç¤ºï¼\n\n\n\nå¤§å®¶å¯ä»¥è¯çå¡«åä¸ä¸å­å¨å¦ä¸äºåæ çæ°ç»ï¼æ¯è¾ä¸ä¸åå®å¨äºåæ çé¡ºåºå­å¨æä½åºå«ï¼\n\n\n\nå¯ä»¥çå°ï¼å¦ææä»¬è¦å­å¨çäºåæ ä¸æ¯å®å¨äºåæ ï¼å¨æ°ç»ä¸­å°±ä¼åºç°ç©ºéï¼å¯¼è´åå­å©ç¨çéä½\n\n\n# äºåæ çéå\n\n\n# ååºéå\n\n\n\näºåæ çååºéåï¼å°±æ¯åè¾åºæ ¹ç»ç¹ï¼åéåå·¦å­æ ï¼æåéåå³å­æ ï¼éåå·¦å­æ åå³å­æ çæ¶åï¼åæ ·éµå¾ªååºéåçè§åï¼ä¹å°±æ¯è¯´ï¼æä»¬å¯ä»¥éå½å®ç°ååºéåã\n\nä»£ç å¦ä¸ï¼\n\npublic void preorder(treenode root){\n\tif(root == null){\n\t\treturn;\n\t}\n\tsystem.out.println(root.data);\n\tpreorder(root.left);\n\tpreorder(root.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ä¸­åºéå\n\n\n\näºåæ çä¸­åºéåï¼å°±æ¯åéå½ä¸­åºéåå·¦å­æ ï¼åè¾åºæ ¹ç»ç¹çå¼ï¼åéå½ä¸­åºéåå³å­æ ï¼å¤§å®¶å¯ä»¥æ³è±¡æä¸å·´æææ åæï¼ç¶ç»ç¹è¢«æå°äºå·¦å­èç¹åå³å­èç¹çä¸­é´ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nä»£ç å¦ä¸ï¼\n\npublic void inorder(treenode root){\n\tif(root == null){\n\t\treturn;\n\t}\n\tinorder(root.left);\n\tsystem.out.println(root.data);\n\tinorder(root.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ååºéå\n\n\n\näºåæ çååºéåï¼å°±æ¯åéå½ååºéåå·¦å­æ ï¼åéå½ååºéåå³å­æ ï¼æåè¾åºæ ¹ç»ç¹çå¼\n\nä»£ç å¦ä¸ï¼\n\npublic void postorder(treenode root){\n\tif(root == null){\n\t\treturn;\n\t}\n\tpostorder(root.left);\n\tpostorder(root.right);\n\tsystem.out.println(root.data);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåèï¼\n\næ°æ®ç»æ-æ ",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"éå",frontmatter:{title:"éå",date:"2022-10-11T22:46:47.000Z",permalink:"/pages/308e3b/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/20.%E9%98%9F%E5%88%97.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/20.éå.md",key:"v-e66c56a0",path:"/pages/308e3b/",headers:[{level:3,title:"å¦ä½çè§£âéåâ",slug:"å¦ä½çè§£-éå",normalizedTitle:"å¦ä½çè§£âéåâ",charIndex:85},{level:3,title:"é¡ºåºéååé¾å¼éå",slug:"é¡ºåºéååé¾å¼éå",normalizedTitle:"é¡ºåºéååé¾å¼éå",charIndex:292},{level:3,title:"å¾ªç¯éå",slug:"å¾ªç¯éå",normalizedTitle:"å¾ªç¯éå",charIndex:2464},{level:3,title:"é»å¡éååå¹¶åéå",slug:"é»å¡éååå¹¶åéå",normalizedTitle:"é»å¡éååå¹¶åéå",charIndex:3847},{level:3,title:"è§£ç­å¼ç¯",slug:"è§£ç­å¼ç¯",normalizedTitle:"è§£ç­å¼ç¯",charIndex:4414},{level:3,title:"åå®¹å°ç»",slug:"åå®¹å°ç»",normalizedTitle:"åå®¹å°ç»",charIndex:5001},{level:3,title:"æè",slug:"æè",normalizedTitle:"æè",charIndex:5304},{level:3,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:5407}],headersStr:"å¦ä½çè§£âéåâ é¡ºåºéååé¾å¼éå å¾ªç¯éå é»å¡éååå¹¶åéå è§£ç­å¼ç¯ åå®¹å°ç» æè åè",content:"> å½æä»¬ååºå®å¤§å°ççº¿ç¨æ± ä¸­è¯·æ±ä¸ä¸ªçº¿ç¨æ¶ï¼å¦æçº¿ç¨æ± ä¸­æ²¡æç©ºé²èµæºäºï¼è¿ä¸ªæ¶åçº¿ç¨æ± å¦ä½å¤çè¿ä¸ªè¯·æ±ï¼æ¯æç»è¯·æ±è¿æ¯æéè¯·æ±ï¼åç§å¤çç­ç¥åæ¯æä¹å®ç°çå¢ï¼\n\n\n# å¦ä½çè§£âéåâ\n\nå¯ä»¥æå®æ³è±¡ææéä¹°ç¥¨ï¼åæ¥çåä¹°ï¼åæ¥çäººåªè½ç«å¨æ«å°¾ï¼ä¸åè®¸æéãåè¿èååºï¼è¿å°±æ¯å¸åçâéåâã\n\næä»¬ç¥éæ åªæ¯æä¸¤ä¸ªåºæ¬æä½ï¼å¥æ push()ååºæ pop()ãéåè·æ éå¸¸ç¸ä¼¼ï¼æ¯æçæä½ä¹å¾æéï¼æåºæ¬çæä½ä¹æ¯ä¸¤ä¸ªï¼å¥éenqueue()ï¼æ¾ä¸ä¸ªæ°æ®å°éåå°¾é¨ï¼åºédequeue()ï¼ä»éåå¤´é¨åä¸ä¸ªåç´ ã\n\n\n\næä»¥éååæ ä¸æ ·ï¼ä¹æ¯ä¸ç§æä½åéççº¿æ§è¡¨æ°æ®ç»æã\n\n\n# é¡ºåºéååé¾å¼éå\n\nè·æ ä¸æ ·ï¼éåå¯ä»¥ç¨æ°ç»æ¥å®ç°ï¼ä¹å¯ä»¥ç¨é¾è¡¨æ¥å®ç°ãç¨æ°ç»å®ç°çæ å«é¡ºåºæ ï¼ç¨é¾è¡¨å®ç°çæ å«é¾å¼æ ãåæ ·ï¼ç¨æ°ç»å®ç°çéåå«ä½é¡ºåºéåï¼ç¨é¾è¡¨å®ç°çéåå«ä½é¾å¼éåã\n\n// ç¨æ°ç»å®ç°çéå\npublic class ArrayQueue {\n  // æ°ç»ï¼itemsï¼æ°ç»å¤§å°ï¼n\n  private String[] items;\n  private int n = 0;\n  // head è¡¨ç¤ºéå¤´ä¸æ ï¼tail è¡¨ç¤ºéå°¾ä¸æ \n  private int head = 0;\n  private int tail = 0;\n\n  // ç³è¯·ä¸ä¸ªå¤§å°ä¸º capacity çæ°ç»\n  public ArrayQueue(int capacity) {\n    items = new String[capacity];\n    n = capacity;\n  }\n\n  // å¥é\n  public boolean enqueue(String item) {\n    // å¦æ tail == n è¡¨ç¤ºéåå·²ç»æ»¡äº\n    if (tail == n) return false;\n    items[tail] = item;\n    ++tail;\n    return true;\n  }\n\n  // åºé\n  public String dequeue() {\n    // å¦æ head == tail è¡¨ç¤ºéåä¸ºç©º\n    if (head == tail) return null;\n    // ä¸ºäºè®©å¶ä»è¯­è¨çåå­¦ççæ´å æç¡®ï¼æ -- æä½æ¾å°åç¬ä¸è¡æ¥åäº\n    String ret = items[head];\n    ++head;\n    return ret;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nå¯¹äºæ æ¥è¯´ï¼æä»¬åªéè¦ä¸ä¸ªæ é¡¶æéå°±å¯ä»¥äºãä½æ¯éåéè¦ä¸¤ä¸ªæéï¼ä¸ä¸ªæ¯headæéï¼æåéå¤´ï¼ä¸ä¸ªæ¯tailæéï¼æåéå°¾ã\n\nå¯ä»¥ç»åä¸å¾æ¥çè§£ãå½aãbãcãdä¾æ¬¡å¥éä¹åï¼éåä¸­çheadæéæåä¸æ ä¸º0çä½ç½®ï¼tailæéæåä¸æ ä¸º4çä½ç½®ã\n\n\n\nå½æä»¬è°ç¨ä¸¤æ¬¡åºéæä½ä¹åï¼éåä¸­headæéæåä¸æ ä¸º2çä½ç½®ï¼tailæéä»ç¶æåä¸æ ä¸º4çä½ç½®ã\n\n\n\néçä¸åå°è¿è¡å¥éãåºéæä½ï¼headåtailé½ä¼æç»­å¾åç§»å¨ãå½tailç§»å¨å°æå³è¾¹ï¼å³ä½¿æ°ç»ä¸­è¿æç©ºé²ç©ºé´ï¼ä¹æ æ³ç»§ç»­å¾éåä¸­æ·»å æ°æ®äºãå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nç¨æ°æ®æ¬ç§»æ¯ä¸ç§è§£å³æ¹å¼ï¼ä½æ¯æ¯æ¬¡è¿è¡åºéæä½é½ç¸å½äºå é¤æ°ç»ä¸æ ä¸º0çæ°æ®ï¼è¦æ¬ç§»æ´ä¸ªéåä¸­çæ°æ®ï¼è¿æ ·åºéæä½çæ¶é´å¤æåº¦å°±ä¼ç±åæ¥çO(1)åä¸ºO(n)ã\n\nä½æ¯æä»¬å¯ä»¥ä¼åä¸ä¸ï¼å¨åºéæ¶æä»¬ä¸ç¨æ¬ç§»æ°æ®ãå¦ææ²¡æç©ºé²ç©ºé´äºï¼æä»¬åªéè¦å¨å¥éæ¶ï¼åéä¸­è§¦åä¸æ¬¡æ°æ®çæ¬ç§»æä½ãåå©è¿ä¸ªææ³ï¼åºéå½æ°dequeue()ä¿æä¸åï¼æä»¬ç¨å¾®æ¹é ä¸å¥éå½æ°enqueue()çå®ç°å°±å¯ä»¥äºã\n\n   // å¥éæä½ï¼å° item æ¾å¥éå°¾\n  public boolean enqueue(String item) {\n    // tail == n è¡¨ç¤ºéåæ«å°¾æ²¡æç©ºé´äº\n    if (tail == n) {\n      // tail ==n && head==0ï¼è¡¨ç¤ºæ´ä¸ªéåé½å æ»¡äº\n      if (head == 0) return false;\n      // æ°æ®æ¬ç§»\n      for (int i = head; i < tail; ++i) {\n        items[i-head] = items[i];\n      }\n      // æ¬ç§»å®ä¹åéæ°æ´æ° head å tail\n      tail -= head;\n      head = 0;\n    }\n    \n    items[tail] = item;\n    ++tail;\n    return true;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nä»ä»£ç ä¸­å¾ç¥ï¼å½éåçtailæéç§»å¨å°æ°ç»çæå³è¾¹ï¼å¦æææ°çæ°æ®å¥éï¼æä»¬å¯ä»¥å°headå°tailä¹é´çæ°æ®ï¼æ´ä½æ¬ç§»å°æ°ç»ä¸­0å°tail-headçä½ç½®ã\n\n\n\nè¿ç§å®ç°æè·¯ï¼åºéæä½çæ¶é´å¤æåº¦ä»ç¶æ¯O(1)ï¼ä½å¥éæä½çæ¶é´å¤æåº¦è¿æ¯O(1)åï¼\n\n> ç¨åææ¶é´å¤æåº¦åæä¸ï¼æå¥½æåµä¸å¥éæä½æ¶é´å¤æåº¦æ¯O(1)ï¼æåæåµä¸æ¶é´å¤æåº¦æ¯O(n)ï¼ç±äºå¤§é¨åå¥æ æä½æ¶é´å¤æåº¦é½æ¯O(1)ï¼æä»¥åæä¸æ¥å¥éæä½æ¶é´å¤æåº¦ä»ç¶æ¯O(1)ã\n\nåºäºé¾è¡¨çéåå®ç°æ¹æ³\n\nåºäºé¾è¡¨çå®ç°ï¼æä»¬ä»ç¶éè¦ä¸¤ä¸ªæéï¼headåtailãå®ä»¬åå«æåé¾è¡¨çç¬¬ä¸ä¸ªç»ç¹åæåä¸ä¸ªç»ç¹ãå¦å¾æç¤ºï¼å¥éæ¶ï¼tail->next=new_nodeï¼tail = tail->nextï¼åºéæ¶ï¼head=head->nextã\n\n\n\n\n# å¾ªç¯éå\n\nå½ç¨æ°ç»æ¥å®ç°éåçæ¶åï¼å½tail==næ¶ï¼ä¼ææ°æ®æ¬ç§»æä½ï¼è¿æ ·å¥éæä½æ§è½å°±ä¼åå°å½±åãæä»¬å¯ä»¥ç¨å¾ªç¯éåæ¥è§£å³è¿ä¸ªé®é¢ã\n\nå¾ªç¯éåï¼å®é¿å¾åä¸ä¸ªç¯ãåæ¬æ°ç»æ¯æå¤´æå°¾çï¼æ¯ä¸æ¡ç´çº¿ï¼ç°å¨æä»¬æé¦å°¾ç¸è¿ï¼æ³æäºä¸ä¸ªç¯ãå¦å¾æç¤º\n\n\n\nå¦å¾æç¤ºï¼è¿ä¸ªéåçå¤§å°ä¸º8ï¼å½åhead=4ï¼tail=7ãå½æä¸ä¸ªæ°çåç´ aå¥éæ¶ï¼æä»¬æ¾å¥ä¸æ ä¸º7çä½ç½®ãä½è¿ä¸ªæ¶åï¼æä»¬å¹¶ä¸ætailæ´æ°ä¸º8ï¼èæ¯å°å¶å¨ç¯ä¸­åç§»ä¸ä½ï¼å°ä¸æ ä¸º0å°ä½ç½®ãå½åæä¸ä¸ªåç´ bå¥éæ¶ï¼æä»¬å°bæ¾å¥ä¸æ ä¸º0çä½ç½®ï¼ç¶åtailå 1æ´æ°ä¸º1ãæä»¥ï¼å¨aãbä¾æ¬¡å¥éä¹åï¼å¾ªç¯éåä¸­çåç´ å°±åæäºä¸é¢è¿ä¸ªæ ·å­\n\n\n\néè¿è¿æ ·çæ¹æ³ï¼æä»¬æåé¿åäºæ°æ®æ¬ç§»æä½ãä½è¦æ³ååºæ²¡æbugçå¾ªç¯éåçå®ç°ä»£ç ãæå³é®çæ¯ï¼ç¡®å®å¥½éç©ºåéæ»¡çå¤å®æ¡ä»¶ã\n\nå¨ç¨æ°ç»å®ç°çéå¾ªç¯éåä¸­ï¼éæ»¡çå¤å®æ¡ä»¶æ¯tail == nï¼éç©ºçå¤å®æ¡ä»¶æ¯head == tailãé£éå¯¹å¾ªç¯éåï¼å¦ä½å¤æ­éç©ºåéæ»¡å¢ï¼\n\néåä¸ºç©ºçå¤å®æ¡ä»¶ä»ç¶æ¯head == tailãä½æ¯éæ»¡çå¤å®æ¡ä»¶æ¯è¾å¤æäºï¼å¦ä¸å¾æç¤ºï¼æ»ç»ä¸ä¸è§å¾\n\n\n\nå¦å¾æç¤ºï¼tail=3ï¼head=4ï¼n=8ï¼æ»ç»è§å¾å°±æ¯ï¼(3+1)%8 = 4ãå¤ç»å å¼ å¾å°±ä¼åç°ï¼å½éæ»¡æ¶ï¼(tail+1)%n = headã\n\nä½æ¯å½éæ»¡æ¶ï¼å¾ä¸­çtailæåçä½ç½®å®éä¸æ¯æ²¡æå­å¨æ°æ®çãæä»¥ï¼å¾ªç¯éåä¼æµªè´¹ä¸æ ¼æ°ç»çå­å¨ç©ºé´ã\n\næ²¡çè§£ï¼çä»£ç \n\npublic class CircularQueue {\n  // æ°ç»ï¼itemsï¼æ°ç»å¤§å°ï¼n\n  private String[] items;\n  private int n = 0;\n  // head è¡¨ç¤ºéå¤´ä¸æ ï¼tail è¡¨ç¤ºéå°¾ä¸æ \n  private int head = 0;\n  private int tail = 0;\n\n  // ç³è¯·ä¸ä¸ªå¤§å°ä¸º capacity çæ°ç»\n  public CircularQueue(int capacity) {\n    items = new String[capacity];\n    n = capacity;\n  }\n\n  // å¥é\n  public boolean enqueue(String item) {\n    // éåæ»¡äº\n    if ((tail + 1) % n == head) return false;\n    items[tail] = item;\n    tail = (tail + 1) % n;\n    return true;\n  }\n\n  // åºé\n  public String dequeue() {\n    // å¦æ head == tail è¡¨ç¤ºéåä¸ºç©º\n    if (head == tail) return null;\n    String ret = items[head];\n    head = (head + 1) % n;\n    return ret;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# é»å¡éååå¹¶åéå\n\né»å¡éåå¶å®å°±æ¯å¨éååºç¡ä¸å¢å äºé»å¡æä½ãç®åè®²å°±æ¯éåä¸ºç©ºçæ¶åï¼ä»éå¤´åæ°æ®ä¼è¢«é»å¡ãå ä¸ºæ­¤æ¶è¿æ²¡ææ°æ®å¯åï¼ç¥ééåä¸­æäºæ°æ®æè½è¿åï¼å¦æéåå·²ç»æ»¡äºï¼é£ä¹æå¥æ°æ®çæä½å°±ä¼è¢«é»å¡ï¼ç´å°éåä¸­æç©ºé²ä½ç½®ååæå¥æ°æ®ï¼ç¶ååè¿åã\n\n\n\nä¸è¿°çå®ä¹å°±æ¯ä¸ä¸ªâçäº§è - æ¶è´¹èæ¨¡åâã\n\n> è¿ç§åºäºé»å¡éåå®ç°çâçäº§è - æ¶è´¹èæ¨¡åâï¼å¯ä»¥ææå°åè°çäº§åæ¶è´¹çéåº¦ãå½âçäº§èâçäº§æ°æ®çéåº¦è¿å¿«ï¼âæ¶è´¹èâæ¥ä¸åæ¶è´¹æ¶ï¼å­å¨æ°æ®çéåå¾å¿«å°±ä¼æ»¡äºãè¿ä¸ªæ¶åï¼çäº§èå°±é»å¡ç­å¾ï¼ç´å°âæ¶è´¹èâæ¶è´¹äºæ°æ®ï¼âçäº§èâæä¼è¢«å¤éç»§ç»­âçäº§âã\n\nåºäºé»å¡éåï¼æä»¬è¿å¯ä»¥éè¿åè°âçäº§èâåâæ¶è´¹èâçä¸ªæ°ï¼æ¥æé«æ°æ®çå¤çæçãæ¯å¦å¤éç½®å ä¸ªâæ¶è´¹èâï¼æ¥å¯¹åºä¸ä¸ªçäº§è¿å¿«çâçäº§èâã\n\n\n\nå¨å¤çº¿ç¨æåµä¸ï¼ä¼æå¤ä¸ªçº¿ç¨åæ¶æä½éåï¼è¿ä¸ªæ¶åä¼å­å¨çº¿ç¨å®å¨é®é¢ãè¯¥å¦ä½å®ç°çº¿ç¨å®å¨çéåå¢ï¼\n\nçº¿ç¨å®å¨çéåæä»¬å«ä½å¹¶åéåãæç®åç´æ¥çå®ç°æ¹å¼æ¯ç´æ¥å¨enqueue()ãdequeue()æ¹æ³ä¸å éï¼ä½æ¯éç²åº¦å¤§å¹¶ååº¦å°±ä¼æ¯è¾ä½ï¼åä¸æ¶å»ä»åè®¸ä¸ä¸ªå­æèåæä½ãå®éä¸ï¼åºäºæ°ç»çå¾ªç¯éåï¼å©ç¨CASåå­æä½ï¼å¯ä»¥å®ç°éå¸¸é«æçå¹¶åéåãè¿ä¹æ¯å¾ªç¯éåæ¯é¾å¼éååºç¨æ´å å¹¿æ³çåå ã\n\n\n# è§£ç­å¼ç¯\n\nçº¿ç¨æ± æ²¡æç©ºé²çº¿ç¨æ¶ï¼æ°çä»»å¡è¯·æ±çº¿ç¨èµæºæ¶ï¼çº¿ç¨æ± è¯¥å¦ä½å¤çï¼åç§å¤çç­ç¥åæ¯å¦ä½å®ç°çå¢ï¼\n\næä¸¤ç§å¤çç­ç¥ãç¬¬ä¸ç§æ¯éé»å¡çå¤çæ¹å¼ï¼ç´æ¥æç»ä»»å¡è¯·æ±ï¼å¦ä¸ç§æ¯é»å¡çå¤çæ¹å¼ï¼å°è¯·æ±æéï¼ç­å°æç©ºé²çº¿ç¨æ¶ï¼ååºæéçè¯·æ±ç»§ç»­å¤çãé£å¦ä½å­å¨æéçè¯·æ±å¢ï¼\n\næä»¬å¸æå¬å¹³å°å¤çæ¯ä¸ªæéçè¯·æ±ï¼åè¿èåæå¡ï¼æä»¥éåè¿ç§æ°æ®ç»æå¾éåæ¥å­å¨æéè¯·æ±ãéåæåºäºé¾è¡¨ååºäºæ°ç»è¿ä¸¤ç§å®ç°æ¹å¼ãè¿ä¸¤ç§å®ç°æ¹å¼å¯¹äºæéè¯·æ±åæä»ä¹åºå«å¢ï¼\n\nåºäºé¾è¡¨çå®ç°æ¹å¼ï¼å¯ä»¥å®ç°ä¸ä¸ªæ¯ææ éæéçæ çéåï¼unbounded queueï¼ï¼ä½æ¯å¯è½ä¼å¯¼è´è¿å¤çè¯·æ±æéç­å¾ï¼è¯·æ±å¤ççååºæ¶é´è¿é¿ãæä»¥ï¼éå¯¹ååºæ¶é´æ¯è¾ææçç³»ç»ï¼åºäºé¾è¡¨å®ç°çæ éæéççº¿ç¨æ± æ¯ä¸åéçã\n\nèåºäºæ°ç»å®ç°çæçéåï¼bounded queueï¼ï¼éåçå¤§å°æéï¼æä»¥çº¿ç¨æ± ä¸­æéçè¯·æ±è¶è¿éåå¤§å°æ¶ï¼æ¥ä¸æ¥çè¯·æ±å°±ä¼è¢«æç»ï¼è¿ç§æ¹å¼å¯¹ååºæ¶é´ææçç³»ç»æ¥è¯´ï¼å°±ç¸å¯¹æ´å åçãä¸è¿ï¼è®¾ç½®ä¸ä¸ªåççéåå¤§å°ï¼ä¹æ¯éå¸¸æè®²ç©¶çãéåå¤ªå¤§å¯¼è´ç­å¾çè¯·æ±å¤ªå¤ï¼éåå¤ªå°ä¼å¯¼è´æ æ³ååå©ç¨ç³»ç»èµæºãåæ¥æå¤§æ§è½ã\n\néåå¯ä»¥åºç¨å¨ä»»ä½æéèµæºæ± ä¸­ï¼ç¨äºæéè¯·æ±ï¼æ¯å¦æ°æ®åºè¿æ¥æ± ç­ãå®éä¸ï¼å¯¹äºå¤§é¨åèµæºæéçåºæ¯ï¼å½æ²¡æç©ºé²èµæºæ¶ï¼åºæ¬ä¸é½å¯ä»¥éè¿âéåâè¿ç§æ°æ®ç»ææ¥å®ç°è¯·æ±æéã\n\n\n# åå®¹å°ç»\n\néåæå¤§çç¹ç¹å°±æ¯åè¿ååºï¼ä¸»è¦çä¸¤ä¸ªæä½æ¯å¥éååºéãè·æ ä¸æ ·ï¼å®æ¢å¯ä»¥ç¨æ°ç»æ¥å®ç°ï¼ä¹å¯ä»¥ç¨é¾è¡¨æ¥å®ç°ãç¨æ°ç»å®ç°çå«é¡ºåºéåï¼ç¨é¾è¡¨å®ç°çå«é¾å¼éåãç¹å«æ¯é¿å¾åä¸ä¸ªç¯çå¾ªç¯éåãå¨æ°ç»å®ç°éåçæ¶åï¼ä¼ææ°æ®æ¬ç§»æä½ï¼è¦æ³è§£å³æ°æ®æ¬ç§»çé®é¢ï¼æä»¬å°±éè¦åç¯ä¸æ ·çå¾ªç¯éåã\n\nå¾ªç¯éåæ¯éç¹ãè¦æ³ååºæ²¡æ bug çå¾ªç¯éåå®ç°ä»£ç ï¼å³é®è¦ç¡®å®å¥½éç©ºåéæ»¡çå¤å®æ¡ä»¶ï¼å·ä½çä»£ç ä½ è¦è½ååºæ¥ã\n\né¤æ­¤ä¹å¤ï¼å ç§é«çº§çéåç»æï¼é»å¡éåãå¹¶åéåï¼åºå±é½è¿æ¯éåè¿ç§æ°æ®ç»æï¼åªä¸è¿å¨ä¹ä¸éå äºå¾å¤å¶ä»åè½ãé»å¡éåå°±æ¯å¥éãåºéæä½å¯ä»¥é»å¡ï¼å¹¶åéåå°±æ¯éåçæä½å¤çº¿ç¨å®å¨ã\n\n\n# æè\n\n 1. é¤äºçº¿ç¨æ± è¿ç§æ± ç»æä¼ç¨å°éåæéè¯·æ±ï¼ä½ è¿ç¥éæåªäºç±»ä¼¼çæ± ç»ææèåºæ¯ä¸­ä¼ç¨å°éåçæéè¯·æ±å¢ï¼\n 2. å³äºå¦ä½å®ç°æ éå¹¶åéåï¼ç½ä¸æéå¸¸å¤çè®¨è®ºãå¯¹è¿ä¸ªé®é¢ï¼ä½ æä¹çå¢ï¼\n\n\n# åè\n\næ°æ®ç»æä¸ç®æ³ä¹ç¾-éå",normalizedContent:"> å½æä»¬ååºå®å¤§å°ççº¿ç¨æ± ä¸­è¯·æ±ä¸ä¸ªçº¿ç¨æ¶ï¼å¦æçº¿ç¨æ± ä¸­æ²¡æç©ºé²èµæºäºï¼è¿ä¸ªæ¶åçº¿ç¨æ± å¦ä½å¤çè¿ä¸ªè¯·æ±ï¼æ¯æç»è¯·æ±è¿æ¯æéè¯·æ±ï¼åç§å¤çç­ç¥åæ¯æä¹å®ç°çå¢ï¼\n\n\n# å¦ä½çè§£âéåâ\n\nå¯ä»¥æå®æ³è±¡ææéä¹°ç¥¨ï¼åæ¥çåä¹°ï¼åæ¥çäººåªè½ç«å¨æ«å°¾ï¼ä¸åè®¸æéãåè¿èååºï¼è¿å°±æ¯å¸åçâéåâã\n\næä»¬ç¥éæ åªæ¯æä¸¤ä¸ªåºæ¬æä½ï¼å¥æ push()ååºæ pop()ãéåè·æ éå¸¸ç¸ä¼¼ï¼æ¯æçæä½ä¹å¾æéï¼æåºæ¬çæä½ä¹æ¯ä¸¤ä¸ªï¼å¥éenqueue()ï¼æ¾ä¸ä¸ªæ°æ®å°éåå°¾é¨ï¼åºédequeue()ï¼ä»éåå¤´é¨åä¸ä¸ªåç´ ã\n\n\n\næä»¥éååæ ä¸æ ·ï¼ä¹æ¯ä¸ç§æä½åéççº¿æ§è¡¨æ°æ®ç»æã\n\n\n# é¡ºåºéååé¾å¼éå\n\nè·æ ä¸æ ·ï¼éåå¯ä»¥ç¨æ°ç»æ¥å®ç°ï¼ä¹å¯ä»¥ç¨é¾è¡¨æ¥å®ç°ãç¨æ°ç»å®ç°çæ å«é¡ºåºæ ï¼ç¨é¾è¡¨å®ç°çæ å«é¾å¼æ ãåæ ·ï¼ç¨æ°ç»å®ç°çéåå«ä½é¡ºåºéåï¼ç¨é¾è¡¨å®ç°çéåå«ä½é¾å¼éåã\n\n// ç¨æ°ç»å®ç°çéå\npublic class arrayqueue {\n  // æ°ç»ï¼itemsï¼æ°ç»å¤§å°ï¼n\n  private string[] items;\n  private int n = 0;\n  // head è¡¨ç¤ºéå¤´ä¸æ ï¼tail è¡¨ç¤ºéå°¾ä¸æ \n  private int head = 0;\n  private int tail = 0;\n\n  // ç³è¯·ä¸ä¸ªå¤§å°ä¸º capacity çæ°ç»\n  public arrayqueue(int capacity) {\n    items = new string[capacity];\n    n = capacity;\n  }\n\n  // å¥é\n  public boolean enqueue(string item) {\n    // å¦æ tail == n è¡¨ç¤ºéåå·²ç»æ»¡äº\n    if (tail == n) return false;\n    items[tail] = item;\n    ++tail;\n    return true;\n  }\n\n  // åºé\n  public string dequeue() {\n    // å¦æ head == tail è¡¨ç¤ºéåä¸ºç©º\n    if (head == tail) return null;\n    // ä¸ºäºè®©å¶ä»è¯­è¨çåå­¦ççæ´å æç¡®ï¼æ -- æä½æ¾å°åç¬ä¸è¡æ¥åäº\n    string ret = items[head];\n    ++head;\n    return ret;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nå¯¹äºæ æ¥è¯´ï¼æä»¬åªéè¦ä¸ä¸ªæ é¡¶æéå°±å¯ä»¥äºãä½æ¯éåéè¦ä¸¤ä¸ªæéï¼ä¸ä¸ªæ¯headæéï¼æåéå¤´ï¼ä¸ä¸ªæ¯tailæéï¼æåéå°¾ã\n\nå¯ä»¥ç»åä¸å¾æ¥çè§£ãå½aãbãcãdä¾æ¬¡å¥éä¹åï¼éåä¸­çheadæéæåä¸æ ä¸º0çä½ç½®ï¼tailæéæåä¸æ ä¸º4çä½ç½®ã\n\n\n\nå½æä»¬è°ç¨ä¸¤æ¬¡åºéæä½ä¹åï¼éåä¸­headæéæåä¸æ ä¸º2çä½ç½®ï¼tailæéä»ç¶æåä¸æ ä¸º4çä½ç½®ã\n\n\n\néçä¸åå°è¿è¡å¥éãåºéæä½ï¼headåtailé½ä¼æç»­å¾åç§»å¨ãå½tailç§»å¨å°æå³è¾¹ï¼å³ä½¿æ°ç»ä¸­è¿æç©ºé²ç©ºé´ï¼ä¹æ æ³ç»§ç»­å¾éåä¸­æ·»å æ°æ®äºãå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nç¨æ°æ®æ¬ç§»æ¯ä¸ç§è§£å³æ¹å¼ï¼ä½æ¯æ¯æ¬¡è¿è¡åºéæä½é½ç¸å½äºå é¤æ°ç»ä¸æ ä¸º0çæ°æ®ï¼è¦æ¬ç§»æ´ä¸ªéåä¸­çæ°æ®ï¼è¿æ ·åºéæä½çæ¶é´å¤æåº¦å°±ä¼ç±åæ¥ço(1)åä¸ºo(n)ã\n\nä½æ¯æä»¬å¯ä»¥ä¼åä¸ä¸ï¼å¨åºéæ¶æä»¬ä¸ç¨æ¬ç§»æ°æ®ãå¦ææ²¡æç©ºé²ç©ºé´äºï¼æä»¬åªéè¦å¨å¥éæ¶ï¼åéä¸­è§¦åä¸æ¬¡æ°æ®çæ¬ç§»æä½ãåå©è¿ä¸ªææ³ï¼åºéå½æ°dequeue()ä¿æä¸åï¼æä»¬ç¨å¾®æ¹é ä¸å¥éå½æ°enqueue()çå®ç°å°±å¯ä»¥äºã\n\n   // å¥éæä½ï¼å° item æ¾å¥éå°¾\n  public boolean enqueue(string item) {\n    // tail == n è¡¨ç¤ºéåæ«å°¾æ²¡æç©ºé´äº\n    if (tail == n) {\n      // tail ==n && head==0ï¼è¡¨ç¤ºæ´ä¸ªéåé½å æ»¡äº\n      if (head == 0) return false;\n      // æ°æ®æ¬ç§»\n      for (int i = head; i < tail; ++i) {\n        items[i-head] = items[i];\n      }\n      // æ¬ç§»å®ä¹åéæ°æ´æ° head å tail\n      tail -= head;\n      head = 0;\n    }\n    \n    items[tail] = item;\n    ++tail;\n    return true;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nä»ä»£ç ä¸­å¾ç¥ï¼å½éåçtailæéç§»å¨å°æ°ç»çæå³è¾¹ï¼å¦æææ°çæ°æ®å¥éï¼æä»¬å¯ä»¥å°headå°tailä¹é´çæ°æ®ï¼æ´ä½æ¬ç§»å°æ°ç»ä¸­0å°tail-headçä½ç½®ã\n\n\n\nè¿ç§å®ç°æè·¯ï¼åºéæä½çæ¶é´å¤æåº¦ä»ç¶æ¯o(1)ï¼ä½å¥éæä½çæ¶é´å¤æåº¦è¿æ¯o(1)åï¼\n\n> ç¨åææ¶é´å¤æåº¦åæä¸ï¼æå¥½æåµä¸å¥éæä½æ¶é´å¤æåº¦æ¯o(1)ï¼æåæåµä¸æ¶é´å¤æåº¦æ¯o(n)ï¼ç±äºå¤§é¨åå¥æ æä½æ¶é´å¤æåº¦é½æ¯o(1)ï¼æä»¥åæä¸æ¥å¥éæä½æ¶é´å¤æåº¦ä»ç¶æ¯o(1)ã\n\nåºäºé¾è¡¨çéåå®ç°æ¹æ³\n\nåºäºé¾è¡¨çå®ç°ï¼æä»¬ä»ç¶éè¦ä¸¤ä¸ªæéï¼headåtailãå®ä»¬åå«æåé¾è¡¨çç¬¬ä¸ä¸ªç»ç¹åæåä¸ä¸ªç»ç¹ãå¦å¾æç¤ºï¼å¥éæ¶ï¼tail->next=new_nodeï¼tail = tail->nextï¼åºéæ¶ï¼head=head->nextã\n\n\n\n\n# å¾ªç¯éå\n\nå½ç¨æ°ç»æ¥å®ç°éåçæ¶åï¼å½tail==næ¶ï¼ä¼ææ°æ®æ¬ç§»æä½ï¼è¿æ ·å¥éæä½æ§è½å°±ä¼åå°å½±åãæä»¬å¯ä»¥ç¨å¾ªç¯éåæ¥è§£å³è¿ä¸ªé®é¢ã\n\nå¾ªç¯éåï¼å®é¿å¾åä¸ä¸ªç¯ãåæ¬æ°ç»æ¯æå¤´æå°¾çï¼æ¯ä¸æ¡ç´çº¿ï¼ç°å¨æä»¬æé¦å°¾ç¸è¿ï¼æ³æäºä¸ä¸ªç¯ãå¦å¾æç¤º\n\n\n\nå¦å¾æç¤ºï¼è¿ä¸ªéåçå¤§å°ä¸º8ï¼å½åhead=4ï¼tail=7ãå½æä¸ä¸ªæ°çåç´ aå¥éæ¶ï¼æä»¬æ¾å¥ä¸æ ä¸º7çä½ç½®ãä½è¿ä¸ªæ¶åï¼æä»¬å¹¶ä¸ætailæ´æ°ä¸º8ï¼èæ¯å°å¶å¨ç¯ä¸­åç§»ä¸ä½ï¼å°ä¸æ ä¸º0å°ä½ç½®ãå½åæä¸ä¸ªåç´ bå¥éæ¶ï¼æä»¬å°bæ¾å¥ä¸æ ä¸º0çä½ç½®ï¼ç¶åtailå 1æ´æ°ä¸º1ãæä»¥ï¼å¨aãbä¾æ¬¡å¥éä¹åï¼å¾ªç¯éåä¸­çåç´ å°±åæäºä¸é¢è¿ä¸ªæ ·å­\n\n\n\néè¿è¿æ ·çæ¹æ³ï¼æä»¬æåé¿åäºæ°æ®æ¬ç§»æä½ãä½è¦æ³ååºæ²¡æbugçå¾ªç¯éåçå®ç°ä»£ç ãæå³é®çæ¯ï¼ç¡®å®å¥½éç©ºåéæ»¡çå¤å®æ¡ä»¶ã\n\nå¨ç¨æ°ç»å®ç°çéå¾ªç¯éåä¸­ï¼éæ»¡çå¤å®æ¡ä»¶æ¯tail == nï¼éç©ºçå¤å®æ¡ä»¶æ¯head == tailãé£éå¯¹å¾ªç¯éåï¼å¦ä½å¤æ­éç©ºåéæ»¡å¢ï¼\n\néåä¸ºç©ºçå¤å®æ¡ä»¶ä»ç¶æ¯head == tailãä½æ¯éæ»¡çå¤å®æ¡ä»¶æ¯è¾å¤æäºï¼å¦ä¸å¾æç¤ºï¼æ»ç»ä¸ä¸è§å¾\n\n\n\nå¦å¾æç¤ºï¼tail=3ï¼head=4ï¼n=8ï¼æ»ç»è§å¾å°±æ¯ï¼(3+1)%8 = 4ãå¤ç»å å¼ å¾å°±ä¼åç°ï¼å½éæ»¡æ¶ï¼(tail+1)%n = headã\n\nä½æ¯å½éæ»¡æ¶ï¼å¾ä¸­çtailæåçä½ç½®å®éä¸æ¯æ²¡æå­å¨æ°æ®çãæä»¥ï¼å¾ªç¯éåä¼æµªè´¹ä¸æ ¼æ°ç»çå­å¨ç©ºé´ã\n\næ²¡çè§£ï¼çä»£ç \n\npublic class circularqueue {\n  // æ°ç»ï¼itemsï¼æ°ç»å¤§å°ï¼n\n  private string[] items;\n  private int n = 0;\n  // head è¡¨ç¤ºéå¤´ä¸æ ï¼tail è¡¨ç¤ºéå°¾ä¸æ \n  private int head = 0;\n  private int tail = 0;\n\n  // ç³è¯·ä¸ä¸ªå¤§å°ä¸º capacity çæ°ç»\n  public circularqueue(int capacity) {\n    items = new string[capacity];\n    n = capacity;\n  }\n\n  // å¥é\n  public boolean enqueue(string item) {\n    // éåæ»¡äº\n    if ((tail + 1) % n == head) return false;\n    items[tail] = item;\n    tail = (tail + 1) % n;\n    return true;\n  }\n\n  // åºé\n  public string dequeue() {\n    // å¦æ head == tail è¡¨ç¤ºéåä¸ºç©º\n    if (head == tail) return null;\n    string ret = items[head];\n    head = (head + 1) % n;\n    return ret;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# é»å¡éååå¹¶åéå\n\né»å¡éåå¶å®å°±æ¯å¨éååºç¡ä¸å¢å äºé»å¡æä½ãç®åè®²å°±æ¯éåä¸ºç©ºçæ¶åï¼ä»éå¤´åæ°æ®ä¼è¢«é»å¡ãå ä¸ºæ­¤æ¶è¿æ²¡ææ°æ®å¯åï¼ç¥ééåä¸­æäºæ°æ®æè½è¿åï¼å¦æéåå·²ç»æ»¡äºï¼é£ä¹æå¥æ°æ®çæä½å°±ä¼è¢«é»å¡ï¼ç´å°éåä¸­æç©ºé²ä½ç½®ååæå¥æ°æ®ï¼ç¶ååè¿åã\n\n\n\nä¸è¿°çå®ä¹å°±æ¯ä¸ä¸ªâçäº§è - æ¶è´¹èæ¨¡åâã\n\n> è¿ç§åºäºé»å¡éåå®ç°çâçäº§è - æ¶è´¹èæ¨¡åâï¼å¯ä»¥ææå°åè°çäº§åæ¶è´¹çéåº¦ãå½âçäº§èâçäº§æ°æ®çéåº¦è¿å¿«ï¼âæ¶è´¹èâæ¥ä¸åæ¶è´¹æ¶ï¼å­å¨æ°æ®çéåå¾å¿«å°±ä¼æ»¡äºãè¿ä¸ªæ¶åï¼çäº§èå°±é»å¡ç­å¾ï¼ç´å°âæ¶è´¹èâæ¶è´¹äºæ°æ®ï¼âçäº§èâæä¼è¢«å¤éç»§ç»­âçäº§âã\n\nåºäºé»å¡éåï¼æä»¬è¿å¯ä»¥éè¿åè°âçäº§èâåâæ¶è´¹èâçä¸ªæ°ï¼æ¥æé«æ°æ®çå¤çæçãæ¯å¦å¤éç½®å ä¸ªâæ¶è´¹èâï¼æ¥å¯¹åºä¸ä¸ªçäº§è¿å¿«çâçäº§èâã\n\n\n\nå¨å¤çº¿ç¨æåµä¸ï¼ä¼æå¤ä¸ªçº¿ç¨åæ¶æä½éåï¼è¿ä¸ªæ¶åä¼å­å¨çº¿ç¨å®å¨é®é¢ãè¯¥å¦ä½å®ç°çº¿ç¨å®å¨çéåå¢ï¼\n\nçº¿ç¨å®å¨çéåæä»¬å«ä½å¹¶åéåãæç®åç´æ¥çå®ç°æ¹å¼æ¯ç´æ¥å¨enqueue()ãdequeue()æ¹æ³ä¸å éï¼ä½æ¯éç²åº¦å¤§å¹¶ååº¦å°±ä¼æ¯è¾ä½ï¼åä¸æ¶å»ä»åè®¸ä¸ä¸ªå­æèåæä½ãå®éä¸ï¼åºäºæ°ç»çå¾ªç¯éåï¼å©ç¨casåå­æä½ï¼å¯ä»¥å®ç°éå¸¸é«æçå¹¶åéåãè¿ä¹æ¯å¾ªç¯éåæ¯é¾å¼éååºç¨æ´å å¹¿æ³çåå ã\n\n\n# è§£ç­å¼ç¯\n\nçº¿ç¨æ± æ²¡æç©ºé²çº¿ç¨æ¶ï¼æ°çä»»å¡è¯·æ±çº¿ç¨èµæºæ¶ï¼çº¿ç¨æ± è¯¥å¦ä½å¤çï¼åç§å¤çç­ç¥åæ¯å¦ä½å®ç°çå¢ï¼\n\næä¸¤ç§å¤çç­ç¥ãç¬¬ä¸ç§æ¯éé»å¡çå¤çæ¹å¼ï¼ç´æ¥æç»ä»»å¡è¯·æ±ï¼å¦ä¸ç§æ¯é»å¡çå¤çæ¹å¼ï¼å°è¯·æ±æéï¼ç­å°æç©ºé²çº¿ç¨æ¶ï¼ååºæéçè¯·æ±ç»§ç»­å¤çãé£å¦ä½å­å¨æéçè¯·æ±å¢ï¼\n\næä»¬å¸æå¬å¹³å°å¤çæ¯ä¸ªæéçè¯·æ±ï¼åè¿èåæå¡ï¼æä»¥éåè¿ç§æ°æ®ç»æå¾éåæ¥å­å¨æéè¯·æ±ãéåæåºäºé¾è¡¨ååºäºæ°ç»è¿ä¸¤ç§å®ç°æ¹å¼ãè¿ä¸¤ç§å®ç°æ¹å¼å¯¹äºæéè¯·æ±åæä»ä¹åºå«å¢ï¼\n\nåºäºé¾è¡¨çå®ç°æ¹å¼ï¼å¯ä»¥å®ç°ä¸ä¸ªæ¯ææ éæéçæ çéåï¼unbounded queueï¼ï¼ä½æ¯å¯è½ä¼å¯¼è´è¿å¤çè¯·æ±æéç­å¾ï¼è¯·æ±å¤ççååºæ¶é´è¿é¿ãæä»¥ï¼éå¯¹ååºæ¶é´æ¯è¾ææçç³»ç»ï¼åºäºé¾è¡¨å®ç°çæ éæéççº¿ç¨æ± æ¯ä¸åéçã\n\nèåºäºæ°ç»å®ç°çæçéåï¼bounded queueï¼ï¼éåçå¤§å°æéï¼æä»¥çº¿ç¨æ± ä¸­æéçè¯·æ±è¶è¿éåå¤§å°æ¶ï¼æ¥ä¸æ¥çè¯·æ±å°±ä¼è¢«æç»ï¼è¿ç§æ¹å¼å¯¹ååºæ¶é´ææçç³»ç»æ¥è¯´ï¼å°±ç¸å¯¹æ´å åçãä¸è¿ï¼è®¾ç½®ä¸ä¸ªåççéåå¤§å°ï¼ä¹æ¯éå¸¸æè®²ç©¶çãéåå¤ªå¤§å¯¼è´ç­å¾çè¯·æ±å¤ªå¤ï¼éåå¤ªå°ä¼å¯¼è´æ æ³ååå©ç¨ç³»ç»èµæºãåæ¥æå¤§æ§è½ã\n\néåå¯ä»¥åºç¨å¨ä»»ä½æéèµæºæ± ä¸­ï¼ç¨äºæéè¯·æ±ï¼æ¯å¦æ°æ®åºè¿æ¥æ± ç­ãå®éä¸ï¼å¯¹äºå¤§é¨åèµæºæéçåºæ¯ï¼å½æ²¡æç©ºé²èµæºæ¶ï¼åºæ¬ä¸é½å¯ä»¥éè¿âéåâè¿ç§æ°æ®ç»ææ¥å®ç°è¯·æ±æéã\n\n\n# åå®¹å°ç»\n\néåæå¤§çç¹ç¹å°±æ¯åè¿ååºï¼ä¸»è¦çä¸¤ä¸ªæä½æ¯å¥éååºéãè·æ ä¸æ ·ï¼å®æ¢å¯ä»¥ç¨æ°ç»æ¥å®ç°ï¼ä¹å¯ä»¥ç¨é¾è¡¨æ¥å®ç°ãç¨æ°ç»å®ç°çå«é¡ºåºéåï¼ç¨é¾è¡¨å®ç°çå«é¾å¼éåãç¹å«æ¯é¿å¾åä¸ä¸ªç¯çå¾ªç¯éåãå¨æ°ç»å®ç°éåçæ¶åï¼ä¼ææ°æ®æ¬ç§»æä½ï¼è¦æ³è§£å³æ°æ®æ¬ç§»çé®é¢ï¼æä»¬å°±éè¦åç¯ä¸æ ·çå¾ªç¯éåã\n\nå¾ªç¯éåæ¯éç¹ãè¦æ³ååºæ²¡æ bug çå¾ªç¯éåå®ç°ä»£ç ï¼å³é®è¦ç¡®å®å¥½éç©ºåéæ»¡çå¤å®æ¡ä»¶ï¼å·ä½çä»£ç ä½ è¦è½ååºæ¥ã\n\né¤æ­¤ä¹å¤ï¼å ç§é«çº§çéåç»æï¼é»å¡éåãå¹¶åéåï¼åºå±é½è¿æ¯éåè¿ç§æ°æ®ç»æï¼åªä¸è¿å¨ä¹ä¸éå äºå¾å¤å¶ä»åè½ãé»å¡éåå°±æ¯å¥éãåºéæä½å¯ä»¥é»å¡ï¼å¹¶åéåå°±æ¯éåçæä½å¤çº¿ç¨å®å¨ã\n\n\n# æè\n\n 1. é¤äºçº¿ç¨æ± è¿ç§æ± ç»æä¼ç¨å°éåæéè¯·æ±ï¼ä½ è¿ç¥éæåªäºç±»ä¼¼çæ± ç»ææèåºæ¯ä¸­ä¼ç¨å°éåçæéè¯·æ±å¢ï¼\n 2. å³äºå¦ä½å®ç°æ éå¹¶åéåï¼ç½ä¸æéå¸¸å¤çè®¨è®ºãå¯¹è¿ä¸ªé®é¢ï¼ä½ æä¹çå¢ï¼\n\n\n# åè\n\næ°æ®ç»æä¸ç®æ³ä¹ç¾-éå",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"é¾è¡¨",frontmatter:{title:"é¾è¡¨",date:"2022-10-11T22:41:10.000Z",permalink:"/pages/f376bd/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/02.%E9%93%BE%E8%A1%A8.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/02.é¾è¡¨.md",key:"v-7193df75",path:"/pages/f376bd/",headers:[{level:2,title:"åé¾è¡¨",slug:"åé¾è¡¨",normalizedTitle:"åé¾è¡¨",charIndex:128},{level:3,title:"æ¥æ¾",slug:"æ¥æ¾",normalizedTitle:"æ¥æ¾",charIndex:1216},{level:3,title:"æ·»å ",slug:"æ·»å ",normalizedTitle:"æ·»å ",charIndex:1754},{level:3,title:"å é¤",slug:"å é¤",normalizedTitle:"å é¤",charIndex:2670},{level:2,title:"ååé¾è¡¨",slug:"ååé¾è¡¨",normalizedTitle:"ååé¾è¡¨",charIndex:3444},{level:3,title:"æ¥æ¾",slug:"æ¥æ¾-2",normalizedTitle:"æ¥æ¾",charIndex:1216},{level:3,title:"æ·»å ",slug:"æ·»å -2",normalizedTitle:"æ·»å ",charIndex:1754},{level:3,title:"å é¤",slug:"å é¤-2",normalizedTitle:"å é¤",charIndex:2670},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:6886}],headersStr:"åé¾è¡¨ æ¥æ¾ æ·»å  å é¤ ååé¾è¡¨ æ¥æ¾ æ·»å  å é¤ åè",content:"ä¸æ°ç»ç¸ä¼¼ï¼é¾è¡¨ä¹æ¯ä¸ç§çº¿æ§æ°æ®ç»æã\n\né¾è¡¨æ¯ä¸ç³»åçå­å¨æ°æ®åç´ çååéè¿æéä¸²æ¥èµ·æ¥å½¢æçï¼å æ­¤æ¯ä¸ªååè³å°æä¸¤ä¸ªåï¼ä¸ä¸ªåç¨äºæ°æ®åç´ çå­å¨ï¼å¦ä¸ä¸ªåæ¯æåå¶ä»ååçæéãè¿éå·æä¸ä¸ªæ°æ®ååå¤ä¸ªæéåçå­å¨ååéå¸¸ç§°ä¸ºç»ç¹ï¼nodeï¼ã\n\n\n# åé¾è¡¨\n\n\n\nä¸ç§æç®åçç»ç¹ç»æå¦ä¸å¾æç¤ºï¼å®æ¯ææåé¾è¡¨çåºæ¬ç»ç¹ç»æãå¨ç»ç¹ä¸­æ°æ®åç¨æ¥å­å¨æ°æ®åç´ ï¼æéåç¨äºæåä¸ä¸ä¸ªå·æç¸åç»æçç»ç¹ã\n\nåé¾è¡¨ä¸­çæ¯ä¸ªç»ç¹ä¸ä»åå«å¼ï¼è¿åå«é¾æ¥å°ä¸ä¸ä¸ªç»ç¹çå¼ç¨å­æ®µãéè¿è¿ç§æ¹å¼ï¼åé¾è¡¨å°ææç»ç¹æé¡ºåºç»ç»èµ·æ¥ã\n\n\n\né¾è¡¨çç¬¬ä¸ä¸ªç»ç¹åæåä¸ä¸ªç»ç¹ï¼åå«ç§°ä¸ºé¾è¡¨çé¦ç»ç¹åå°¾ç»ç¹ãå°¾ç»ç¹çç¹å¾æ¯å¶ next å¼ç¨ä¸ºç©ºï¼nullï¼ãé¾è¡¨ä¸­æ¯ä¸ªç»ç¹ç next å¼ç¨é½ç¸å½äºä¸ä¸ªæéï¼æåå¦ä¸ä¸ªç»ç¹ï¼åå©è¿äº next å¼ç¨ï¼æä»¬å¯ä»¥ä»é¾è¡¨çé¦ç»ç¹ç§»å¨å°å°¾ç»ç¹ãå¦æ­¤å®ä¹çç»ç¹å°±ç§°ä¸ºåé¾è¡¨ï¼single linked listï¼ã\n\nä¸å¾èè²ç®­å¤´æ¾ç¤ºåä¸ªé¾æ¥åè¡¨ä¸­çç»ç¹æ¯å¦ä½ç»åå¨ä¸èµ·çã\n\nå¨åé¾è¡¨ä¸­éå¸¸ä½¿ç¨ head å¼ç¨æ¥æåé¾è¡¨çé¦ç»ç¹ï¼ç± head å¼ç¨å¯ä»¥å®æå¯¹æ´ä¸ªé¾è¡¨ä¸­ææèç¹çè®¿é®ãææ¶ä¹å¯ä»¥æ ¹æ®éè¦ä½¿ç¨æåå°¾ç»ç¹ç tail å¼ç¨æ¥æ¹ä¾¿æäºæä½çå®ç°ã\n\nå¨åé¾è¡¨ç»æä¸­è¿éè¦æ³¨æçä¸ç¹æ¯ï¼ç±äºæ¯ä¸ªç»ç¹çæ°æ®åé½æ¯ä¸ä¸ª Object ç±»çå¯¹è±¡ï¼å æ­¤ï¼æ¯ä¸ªæ°æ®åç´ å¹¶éçæ­£å¦å¾ä¸­é£æ ·ï¼èæ¯å¨ç»ç¹ä¸­çæ°æ®åéè¿ä¸ä¸ª Object ç±»çå¯¹è±¡å¼ç¨æ¥æåæ°æ®åç´ çã\n\nä¸æ°ç»ç±»ä¼¼ï¼åé¾è¡¨ä¸­çç»ç¹ä¹å·æä¸ä¸ªçº¿æ§æ¬¡åºï¼å³å¦æç»ç¹ P ç next å¼ç¨æåç»ç¹ Sï¼å P å°±æ¯ S çç´æ¥åé©±ï¼S æ¯ P çç´æ¥åç»­ãåé¾è¡¨çä¸ä¸ªéè¦ç¹æ§å°±æ¯åªè½éè¿åé©±ç»ç¹æ¾å°åç»­ç»ç¹ï¼èæ æ³ä»åç»­ç»ç¹æ¾å°åé©±ç»ç¹ã\n\næ¥çæä»¬æ¥çä¸åé¾è¡¨ç CRUDï¼\n\n> 707. è®¾è®¡é¾è¡¨ (opens new window)æå®ä¸é¢\n\nä»¥ä¸æ¯åé¾è¡¨ä¸­ç»ç¹çå¸åå®ä¹ï¼å¼ + é¾æ¥å°ä¸ä¸ä¸ªåç´ çæéï¼\n\n// Definition for singly-linked list.\npublic class SinglyListNode {\n    int val;\n    SinglyListNode next;\n    SinglyListNode(int x) { val = x; }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næäºç»ç¹ï¼è¿éè¦ä¸ä¸ªâé¾â æææç»ç¹ä¸²èµ·æ¥\n\nclass MyLinkedList {\n    private SinglyListNode head;\n    /** Initialize your data structure here. */\n    public MyLinkedList() {\n        head = null;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ¥æ¾\n\nä¸æ°ç»ä¸åï¼æä»¬æ æ³å¨å¸¸éæ¶é´åè®¿é®åé¾è¡¨ä¸­çéæºåç´ ã å¦ææä»¬æ³è¦è·å¾ç¬¬ i ä¸ªåç´ ï¼æä»¬å¿é¡»ä»å¤´ç»ç¹éä¸ªéåã æä»¬æç´¢å¼æ¥è®¿é®åç´ å¹³åè¦è±è´¹ æ¶é´ï¼å¶ä¸­ N æ¯é¾è¡¨çé¿åº¦ã\n\nä½¿ç¨ Java è¯­è¨å®ç°æ´ä¸ªè¿ç¨çå³é®è¯­å¥æ¯ï¼\n\n/** Get the value of the index-th node in the linked list. If the index is invalid, return -1. */\npublic int get(int index) {\n  // if index is invalid\n  if (index < 0 || index >= size) return -1;\n\n  ListNode curr = head;\n  // index steps needed \n  // to move from sentinel node to wanted index\n  for(int i = 0; i < index + 1; ++i) {\n    curr = curr.next;\n  }\n  return curr.val;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ·»å \n\nåé¾è¡¨ä¸­æ°æ®åç´ çæå¥ï¼æ¯éè¿å¨é¾è¡¨ä¸­æå¥æ°æ®åç´ æå±çç»ç¹æ¥å®æçãå¯¹äºé¾è¡¨çä¸åä½ç½®ï¼æå¥çè¿ç¨ä¼æç»å¾®çå·®å«ã\n\n\n\né¤äºåé¾è¡¨çé¦ç»ç¹ç±äºæ²¡æç´æ¥åé©±ç»ç¹ï¼æä»¥å¯ä»¥ç´æ¥å¨é¦ç»ç¹ä¹åæå¥ä¸ä¸ªæ°çç»ç¹ä¹å¤ï¼å¨åé¾è¡¨ä¸­çå¶ä»ä»»ä½ä½ç½®æå¥ä¸ä¸ªæ°ç»ç¹æ¶ï¼é½åªè½æ¯å¨å·²ç¥æä¸ªç¹å®ç»ç¹å¼ç¨çåºç¡ä¸å¨å¶åé¢æå¥ä¸ä¸ªæ°ç»ç¹ãå¹¶ä¸å¨å·²ç¥åé¾è¡¨ä¸­æä¸ªç»ç¹å¼ç¨çåºç¡ä¸ï¼å®æç»ç¹çæå¥æä½éè¦çæ¶é´æ¯ ã\n\n> æèï¼å¦ææ¯å¸¦å¤´ç»ç¹çåé¾è¡¨è¿è¡æå¥æä½ï¼æ¯ä»ä¹æ ·å­å¢ï¼\n\n\t//æå¤å±æä¸ªé¾è¡¨é¿åº¦ï¼ä¾¿äºæä»¬å¤´æåå°¾ææä½\n\tint size;\n\n  public void addAtHead(int val) {\n    addAtIndex(0, val);\n  }\n\n  //å°¾æå°±æ¯ä»æåä¸ä¸ª\n  public void addAtTail(int val) {\n    addAtIndex(size, val);\n  }\n\n  public void addAtIndex(int index, int val) {\n    \n    if (index > size) return;\n\n    if (index < 0) index = 0;\n\n    ++size;\n    // find predecessor of the node to be added\n    ListNode pred = head;\n    for(int i = 0; i < index; ++i) {\n      pred = pred.next;\n    }\n\n    // node to be added\n    ListNode toAdd = new ListNode(val);\n    // insertion itself\n    toAdd.next = pred.next;\n    pred.next = toAdd;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# å é¤\n\nç±»ä¼¼çï¼å¨åé¾è¡¨ä¸­æ°æ®åç´ çå é¤ä¹æ¯éè¿ç»ç¹çå é¤æ¥å®æçãå¨é¾è¡¨çä¸åä½ç½®å é¤ç»ç¹ï¼å¶æä½è¿ç¨ä¹ä¼æä¸äºå·®å«ã\n\n\n\nå¨åé¾è¡¨ä¸­å é¤ä¸ä¸ªç»ç¹æ¶ï¼é¤é¦ç»ç¹å¤é½å¿é¡»ç¥éè¯¥ç»ç¹çç´æ¥åé©±ç»ç¹çå¼ç¨ãå¹¶ä¸å¨å·²ç¥åé¾è¡¨ä¸­æä¸ªç»ç¹å¼ç¨çåºç¡ä¸ï¼å®æå¶åç»­ç»ç¹çå é¤æä½éè¦çæ¶é´æ¯ ã\n\n> å¨ä½¿ç¨åé¾è¡¨å®ç°çº¿æ§è¡¨çæ¶åï¼ä¸ºäºä½¿ç¨åºæ´å ç®æ´ï¼æä»¬éå¸¸å¨åé¾è¡¨çæåé¢æ·»å ä¸ä¸ªååç»ç¹ï¼ä¹ç§°ä¸ºå¤´ç»ç¹ãå¨å¤´ç»ç¹ä¸­ä¸å­å¨ä»»ä½å®è´¨çæ°æ®å¯¹è±¡ï¼å¶ next åæåçº¿æ§è¡¨ä¸­ 0 å·åç´ æå¨çç»ç¹ï¼å¤´ç»ç¹çå¼å¥å¯ä»¥ä½¿çº¿æ§è¡¨è¿ç®ä¸­çä¸äºè¾¹çæ¡ä»¶æ´å®¹æå¤çã\n> \n> å¯¹äºä»»ä½åºäºåºå·çæå¥ãå é¤ï¼ä»¥åä»»ä½åºäºæ°æ®åç´ æå¨ç»ç¹çåé¢æåé¢çæå¥ãå é¤ï¼å¨å¸¦å¤´ç»ç¹çåé¾è¡¨ä¸­åå¯è½¬åä¸ºå¨æä¸ªç¹å®ç»ç¹ä¹åå®æç»ç¹çæå¥ãå é¤ï¼èä¸ç¨èèæå¥ãå é¤æ¯å¨é¾è¡¨çé¦é¨ãä¸­é´ãè¿æ¯å°¾é¨ç­ä¸åæåµã\n\n\n\n  public void deleteAtIndex(int index) {\n    // if the index is invalid, do nothing\n    if (index < 0 || index >= size) return;\n\n    size--;\n    // find predecessor of the node to be deleted\n    ListNode pred = head;\n    for(int i = 0; i < index; ++i) {\n      pred = pred.next;\n    }\n\n    // delete pred.next \n    pred.next = pred.next.next;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# ååé¾è¡¨\n\nåé¾è¡¨çä¸ä¸ªä¼ç¹æ¯ç»æç®åï¼ä½æ¯å®ä¹æä¸ä¸ªç¼ºç¹ï¼å³å¨åé¾è¡¨ä¸­åªè½éè¿ä¸ä¸ªç»ç¹çå¼ç¨è®¿é®å¶åç»­ç»ç¹ï¼èæ æ³ç´æ¥è®¿é®å¶åé©±ç»ç¹ï¼è¦å¨åé¾è¡¨ä¸­æ¾å°æä¸ªç»ç¹çåé©±ç»ç¹ï¼å¿é¡»ä»é¾è¡¨çé¦ç»ç¹åºåä¾æ¬¡ååå¯»æ¾ï¼ä½æ¯éè¦ æ¶é´ã\n\næä»¥æä»¬å¨åé¾è¡¨ç»ç¹ç»æä¸­æ°å¢å ä¸ä¸ªåï¼è¯¥åç¨äºæåç»ç¹çç´æ¥åé©±ç»ç¹ã\n\n\n\nååé¾è¡¨æ¯éè¿ä¸è¿°å®ä¹çç»ç¹ä½¿ç¨ pre ä»¥å next åä¾æ¬¡ä¸²èå¨ä¸èµ·èå½¢æçãä¸ä¸ªååé¾è¡¨çç»æå¦ä¸å¾æç¤ºã\n\n\n\næ¥çæä»¬æ¥çä¸ååé¾è¡¨ç CRUDï¼\n\nä»¥ä¸æ¯åé¾è¡¨ä¸­ç»ç¹çå¸åå®ä¹ï¼\n\npublic class ListNode {\n  int val;\n  ListNode next;\n  ListNode prev;\n  ListNode(int x) { val = x; }\n}\n\nclass MyLinkedList {\n  int size;\n  // sentinel nodes as pseudo-head and pseudo-tail\n  ListNode head, tail;\n  public MyLinkedList() {\n    size = 0;\n    head = new ListNode(0);\n    tail = new ListNode(0);\n    head.next = tail;\n    tail.prev = head;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# æ¥æ¾\n\nå¨ååé¾è¡¨ä¸­è¿è¡æ¥æ¾ä¸å¨åé¾è¡¨ä¸­ç±»ä¼¼ï¼åªä¸è¿å¨ååé¾è¡¨ä¸­æ¥æ¾æä½å¯ä»¥ä»é¾è¡¨çé¦ç»ç¹å¼å§ï¼ä¹å¯ä»¥ä»å°¾ç»ç¹å¼å§ï¼ä½æ¯éè¦çæ¶é´åå¨åé¾è¡¨ä¸­ä¸æ ·ã\n\n  /** Get the value of the index-th node in the linked list. If the index is invalid, return -1. */\n  public int get(int index) {\n    if (index < 0 || index >= size) return -1;\n\n    ListNode curr = head;\n    if (index + 1 < size - index)\n      for(int i = 0; i < index + 1; ++i) {\n        curr = curr.next;\n      }\n    else {\n      curr = tail;\n      for(int i = 0; i < size - index; ++i) {\n        curr = curr.prev;\n      }\n    }\n\n    return curr.val;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# æ·»å \n\nåé¾è¡¨çæå¥æä½ï¼é¤äºé¦ç»ç¹ä¹å¤å¿é¡»å¨æä¸ªå·²ç¥ç»ç¹åé¢è¿è¡ï¼èå¨ååé¾è¡¨ä¸­æå¥æä½å¨ä¸ä¸ªå·²ç¥çç»ç¹ä¹åæä¹åé½å¯ä»¥è¿è¡ï¼å¦ä¸è¡¨ç¤ºå¨ç»ç¹ 11 ä¹å æå¥ 9ã\n\n\n\nä½¿ç¨ Java è¯­è¨å®ç°æ´ä¸ªè¿ç¨çå³é®è¯­å¥æ¯\n\n  public void addAtHead(int val) {\n    ListNode pred = head, succ = head.next;\n\n    ++size;\n    ListNode toAdd = new ListNode(val);\n    toAdd.prev = pred;\n    toAdd.next = succ;\n    pred.next = toAdd;\n    succ.prev = toAdd;\n  }\n\n  /** Append a node of value val to the last element of the linked list. */\n  public void addAtTail(int val) {\n    ListNode succ = tail, pred = tail.prev;\n\n    ++size;\n    ListNode toAdd = new ListNode(val);\n    toAdd.prev = pred;\n    toAdd.next = succ;\n    pred.next = toAdd;\n    succ.prev = toAdd;\n  }\n\n  public void addAtIndex(int index, int val) {\n    if (index > size) return;\n\n    if (index < 0) index = 0;\n\n    ListNode pred, succ;\n    if (index < size - index) {\n      pred = head;\n      for(int i = 0; i < index; ++i) pred = pred.next;\n      succ = pred.next;\n    }\n    else {\n      succ = tail;\n      for (int i = 0; i < size - index; ++i) succ = succ.prev;\n      pred = succ.prev;\n    }\n\n    // insertion itself\n    ++size;\n    ListNode toAdd = new ListNode(val);\n    toAdd.prev = pred;\n    toAdd.next = succ;\n    pred.next = toAdd;\n    succ.prev = toAdd;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nå¨ç»ç¹ p ä¹åæå¥ä¸ä¸ªæ°ç»ç¹çæä½ä¸ä¸è¿°æä½å¯¹ç§°ï¼è¿éä¸åèµè¿°ã\n\næå¥æä½é¤äºä¸è¿°æåµï¼è¿å¯ä»¥å¨ååé¾è¡¨çé¦ç»ç¹ä¹åãååé¾è¡¨çå°¾ç»ç¹ä¹åè¿è¡ï¼æ­¤æ¶æå¥æä½ä¸ä¸è¿°æå¥æä½ç¸æ¯æ´ä¸ºç®åã\n\n\n# å é¤\n\nåé¾è¡¨çå é¤æä½ï¼é¤äºé¦ç»ç¹ä¹å¤å¿é¡»å¨ç¥éå¾å ç»ç¹çåé©±ç»ç¹çåºç¡ä¸æè½è¿è¡ï¼èå¨ååé¾è¡¨ä¸­å¨å·²ç¥æä¸ªç»ç¹å¼ç¨çåæä¸ï¼å¯ä»¥å®æè¯¥ç»ç¹èªèº«çå é¤ãå¦ä¸è¡¨ç¤ºå é¤ 16 çè¿ç¨ã\n\n\n\n\t/** Delete the index-th node in the linked list, if the index is valid. */\n  public void deleteAtIndex(int index) {\n    if (index < 0 || index >= size) return;\n\n    ListNode pred, succ;\n    if (index < size - index) {\n      pred = head;\n      for(int i = 0; i < index; ++i) pred = pred.next;\n      succ = pred.next.next;\n    }\n    else {\n      succ = tail;\n      for (int i = 0; i < size - index - 1; ++i) succ = succ.prev;\n      pred = succ.prev.prev;\n    }\n\n    // delete pred.next \n    --size;\n    pred.next = succ;\n    succ.prev = pred;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nå¯¹çº¿æ§è¡¨çæä½ï¼æ éå°±æ¯æåºãå æ³ãåæ³ãåè½¬ï¼è¯´çå¥½åå¾ç®åï¼æä»¬å»ä¸ä¸ç« å·é¢å§\n\n\n# åè\n\né¾è¡¨",normalizedContent:"ä¸æ°ç»ç¸ä¼¼ï¼é¾è¡¨ä¹æ¯ä¸ç§çº¿æ§æ°æ®ç»æã\n\né¾è¡¨æ¯ä¸ç³»åçå­å¨æ°æ®åç´ çååéè¿æéä¸²æ¥èµ·æ¥å½¢æçï¼å æ­¤æ¯ä¸ªååè³å°æä¸¤ä¸ªåï¼ä¸ä¸ªåç¨äºæ°æ®åç´ çå­å¨ï¼å¦ä¸ä¸ªåæ¯æåå¶ä»ååçæéãè¿éå·æä¸ä¸ªæ°æ®ååå¤ä¸ªæéåçå­å¨ååéå¸¸ç§°ä¸ºç»ç¹ï¼nodeï¼ã\n\n\n# åé¾è¡¨\n\n\n\nä¸ç§æç®åçç»ç¹ç»æå¦ä¸å¾æç¤ºï¼å®æ¯ææåé¾è¡¨çåºæ¬ç»ç¹ç»æãå¨ç»ç¹ä¸­æ°æ®åç¨æ¥å­å¨æ°æ®åç´ ï¼æéåç¨äºæåä¸ä¸ä¸ªå·æç¸åç»æçç»ç¹ã\n\nåé¾è¡¨ä¸­çæ¯ä¸ªç»ç¹ä¸ä»åå«å¼ï¼è¿åå«é¾æ¥å°ä¸ä¸ä¸ªç»ç¹çå¼ç¨å­æ®µãéè¿è¿ç§æ¹å¼ï¼åé¾è¡¨å°ææç»ç¹æé¡ºåºç»ç»èµ·æ¥ã\n\n\n\né¾è¡¨çç¬¬ä¸ä¸ªç»ç¹åæåä¸ä¸ªç»ç¹ï¼åå«ç§°ä¸ºé¾è¡¨çé¦ç»ç¹åå°¾ç»ç¹ãå°¾ç»ç¹çç¹å¾æ¯å¶ next å¼ç¨ä¸ºç©ºï¼nullï¼ãé¾è¡¨ä¸­æ¯ä¸ªç»ç¹ç next å¼ç¨é½ç¸å½äºä¸ä¸ªæéï¼æåå¦ä¸ä¸ªç»ç¹ï¼åå©è¿äº next å¼ç¨ï¼æä»¬å¯ä»¥ä»é¾è¡¨çé¦ç»ç¹ç§»å¨å°å°¾ç»ç¹ãå¦æ­¤å®ä¹çç»ç¹å°±ç§°ä¸ºåé¾è¡¨ï¼single linked listï¼ã\n\nä¸å¾èè²ç®­å¤´æ¾ç¤ºåä¸ªé¾æ¥åè¡¨ä¸­çç»ç¹æ¯å¦ä½ç»åå¨ä¸èµ·çã\n\nå¨åé¾è¡¨ä¸­éå¸¸ä½¿ç¨ head å¼ç¨æ¥æåé¾è¡¨çé¦ç»ç¹ï¼ç± head å¼ç¨å¯ä»¥å®æå¯¹æ´ä¸ªé¾è¡¨ä¸­ææèç¹çè®¿é®ãææ¶ä¹å¯ä»¥æ ¹æ®éè¦ä½¿ç¨æåå°¾ç»ç¹ç tail å¼ç¨æ¥æ¹ä¾¿æäºæä½çå®ç°ã\n\nå¨åé¾è¡¨ç»æä¸­è¿éè¦æ³¨æçä¸ç¹æ¯ï¼ç±äºæ¯ä¸ªç»ç¹çæ°æ®åé½æ¯ä¸ä¸ª object ç±»çå¯¹è±¡ï¼å æ­¤ï¼æ¯ä¸ªæ°æ®åç´ å¹¶éçæ­£å¦å¾ä¸­é£æ ·ï¼èæ¯å¨ç»ç¹ä¸­çæ°æ®åéè¿ä¸ä¸ª object ç±»çå¯¹è±¡å¼ç¨æ¥æåæ°æ®åç´ çã\n\nä¸æ°ç»ç±»ä¼¼ï¼åé¾è¡¨ä¸­çç»ç¹ä¹å·æä¸ä¸ªçº¿æ§æ¬¡åºï¼å³å¦æç»ç¹ p ç next å¼ç¨æåç»ç¹ sï¼å p å°±æ¯ s çç´æ¥åé©±ï¼s æ¯ p çç´æ¥åç»­ãåé¾è¡¨çä¸ä¸ªéè¦ç¹æ§å°±æ¯åªè½éè¿åé©±ç»ç¹æ¾å°åç»­ç»ç¹ï¼èæ æ³ä»åç»­ç»ç¹æ¾å°åé©±ç»ç¹ã\n\næ¥çæä»¬æ¥çä¸åé¾è¡¨ç crudï¼\n\n> 707. è®¾è®¡é¾è¡¨ (opens new window)æå®ä¸é¢\n\nä»¥ä¸æ¯åé¾è¡¨ä¸­ç»ç¹çå¸åå®ä¹ï¼å¼ + é¾æ¥å°ä¸ä¸ä¸ªåç´ çæéï¼\n\n// definition for singly-linked list.\npublic class singlylistnode {\n    int val;\n    singlylistnode next;\n    singlylistnode(int x) { val = x; }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næäºç»ç¹ï¼è¿éè¦ä¸ä¸ªâé¾â æææç»ç¹ä¸²èµ·æ¥\n\nclass mylinkedlist {\n    private singlylistnode head;\n    /** initialize your data structure here. */\n    public mylinkedlist() {\n        head = null;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ¥æ¾\n\nä¸æ°ç»ä¸åï¼æä»¬æ æ³å¨å¸¸éæ¶é´åè®¿é®åé¾è¡¨ä¸­çéæºåç´ ã å¦ææä»¬æ³è¦è·å¾ç¬¬ i ä¸ªåç´ ï¼æä»¬å¿é¡»ä»å¤´ç»ç¹éä¸ªéåã æä»¬æç´¢å¼æ¥è®¿é®åç´ å¹³åè¦è±è´¹ æ¶é´ï¼å¶ä¸­ n æ¯é¾è¡¨çé¿åº¦ã\n\nä½¿ç¨ java è¯­è¨å®ç°æ´ä¸ªè¿ç¨çå³é®è¯­å¥æ¯ï¼\n\n/** get the value of the index-th node in the linked list. if the index is invalid, return -1. */\npublic int get(int index) {\n  // if index is invalid\n  if (index < 0 || index >= size) return -1;\n\n  listnode curr = head;\n  // index steps needed \n  // to move from sentinel node to wanted index\n  for(int i = 0; i < index + 1; ++i) {\n    curr = curr.next;\n  }\n  return curr.val;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ·»å \n\nåé¾è¡¨ä¸­æ°æ®åç´ çæå¥ï¼æ¯éè¿å¨é¾è¡¨ä¸­æå¥æ°æ®åç´ æå±çç»ç¹æ¥å®æçãå¯¹äºé¾è¡¨çä¸åä½ç½®ï¼æå¥çè¿ç¨ä¼æç»å¾®çå·®å«ã\n\n\n\né¤äºåé¾è¡¨çé¦ç»ç¹ç±äºæ²¡æç´æ¥åé©±ç»ç¹ï¼æä»¥å¯ä»¥ç´æ¥å¨é¦ç»ç¹ä¹åæå¥ä¸ä¸ªæ°çç»ç¹ä¹å¤ï¼å¨åé¾è¡¨ä¸­çå¶ä»ä»»ä½ä½ç½®æå¥ä¸ä¸ªæ°ç»ç¹æ¶ï¼é½åªè½æ¯å¨å·²ç¥æä¸ªç¹å®ç»ç¹å¼ç¨çåºç¡ä¸å¨å¶åé¢æå¥ä¸ä¸ªæ°ç»ç¹ãå¹¶ä¸å¨å·²ç¥åé¾è¡¨ä¸­æä¸ªç»ç¹å¼ç¨çåºç¡ä¸ï¼å®æç»ç¹çæå¥æä½éè¦çæ¶é´æ¯ ã\n\n> æèï¼å¦ææ¯å¸¦å¤´ç»ç¹çåé¾è¡¨è¿è¡æå¥æä½ï¼æ¯ä»ä¹æ ·å­å¢ï¼\n\n\t//æå¤å±æä¸ªé¾è¡¨é¿åº¦ï¼ä¾¿äºæä»¬å¤´æåå°¾ææä½\n\tint size;\n\n  public void addathead(int val) {\n    addatindex(0, val);\n  }\n\n  //å°¾æå°±æ¯ä»æåä¸ä¸ª\n  public void addattail(int val) {\n    addatindex(size, val);\n  }\n\n  public void addatindex(int index, int val) {\n    \n    if (index > size) return;\n\n    if (index < 0) index = 0;\n\n    ++size;\n    // find predecessor of the node to be added\n    listnode pred = head;\n    for(int i = 0; i < index; ++i) {\n      pred = pred.next;\n    }\n\n    // node to be added\n    listnode toadd = new listnode(val);\n    // insertion itself\n    toadd.next = pred.next;\n    pred.next = toadd;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# å é¤\n\nç±»ä¼¼çï¼å¨åé¾è¡¨ä¸­æ°æ®åç´ çå é¤ä¹æ¯éè¿ç»ç¹çå é¤æ¥å®æçãå¨é¾è¡¨çä¸åä½ç½®å é¤ç»ç¹ï¼å¶æä½è¿ç¨ä¹ä¼æä¸äºå·®å«ã\n\n\n\nå¨åé¾è¡¨ä¸­å é¤ä¸ä¸ªç»ç¹æ¶ï¼é¤é¦ç»ç¹å¤é½å¿é¡»ç¥éè¯¥ç»ç¹çç´æ¥åé©±ç»ç¹çå¼ç¨ãå¹¶ä¸å¨å·²ç¥åé¾è¡¨ä¸­æä¸ªç»ç¹å¼ç¨çåºç¡ä¸ï¼å®æå¶åç»­ç»ç¹çå é¤æä½éè¦çæ¶é´æ¯ ã\n\n> å¨ä½¿ç¨åé¾è¡¨å®ç°çº¿æ§è¡¨çæ¶åï¼ä¸ºäºä½¿ç¨åºæ´å ç®æ´ï¼æä»¬éå¸¸å¨åé¾è¡¨çæåé¢æ·»å ä¸ä¸ªååç»ç¹ï¼ä¹ç§°ä¸ºå¤´ç»ç¹ãå¨å¤´ç»ç¹ä¸­ä¸å­å¨ä»»ä½å®è´¨çæ°æ®å¯¹è±¡ï¼å¶ next åæåçº¿æ§è¡¨ä¸­ 0 å·åç´ æå¨çç»ç¹ï¼å¤´ç»ç¹çå¼å¥å¯ä»¥ä½¿çº¿æ§è¡¨è¿ç®ä¸­çä¸äºè¾¹çæ¡ä»¶æ´å®¹æå¤çã\n> \n> å¯¹äºä»»ä½åºäºåºå·çæå¥ãå é¤ï¼ä»¥åä»»ä½åºäºæ°æ®åç´ æå¨ç»ç¹çåé¢æåé¢çæå¥ãå é¤ï¼å¨å¸¦å¤´ç»ç¹çåé¾è¡¨ä¸­åå¯è½¬åä¸ºå¨æä¸ªç¹å®ç»ç¹ä¹åå®æç»ç¹çæå¥ãå é¤ï¼èä¸ç¨èèæå¥ãå é¤æ¯å¨é¾è¡¨çé¦é¨ãä¸­é´ãè¿æ¯å°¾é¨ç­ä¸åæåµã\n\n\n\n  public void deleteatindex(int index) {\n    // if the index is invalid, do nothing\n    if (index < 0 || index >= size) return;\n\n    size--;\n    // find predecessor of the node to be deleted\n    listnode pred = head;\n    for(int i = 0; i < index; ++i) {\n      pred = pred.next;\n    }\n\n    // delete pred.next \n    pred.next = pred.next.next;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# ååé¾è¡¨\n\nåé¾è¡¨çä¸ä¸ªä¼ç¹æ¯ç»æç®åï¼ä½æ¯å®ä¹æä¸ä¸ªç¼ºç¹ï¼å³å¨åé¾è¡¨ä¸­åªè½éè¿ä¸ä¸ªç»ç¹çå¼ç¨è®¿é®å¶åç»­ç»ç¹ï¼èæ æ³ç´æ¥è®¿é®å¶åé©±ç»ç¹ï¼è¦å¨åé¾è¡¨ä¸­æ¾å°æä¸ªç»ç¹çåé©±ç»ç¹ï¼å¿é¡»ä»é¾è¡¨çé¦ç»ç¹åºåä¾æ¬¡ååå¯»æ¾ï¼ä½æ¯éè¦ æ¶é´ã\n\næä»¥æä»¬å¨åé¾è¡¨ç»ç¹ç»æä¸­æ°å¢å ä¸ä¸ªåï¼è¯¥åç¨äºæåç»ç¹çç´æ¥åé©±ç»ç¹ã\n\n\n\nååé¾è¡¨æ¯éè¿ä¸è¿°å®ä¹çç»ç¹ä½¿ç¨ pre ä»¥å next åä¾æ¬¡ä¸²èå¨ä¸èµ·èå½¢æçãä¸ä¸ªååé¾è¡¨çç»æå¦ä¸å¾æç¤ºã\n\n\n\næ¥çæä»¬æ¥çä¸ååé¾è¡¨ç crudï¼\n\nä»¥ä¸æ¯åé¾è¡¨ä¸­ç»ç¹çå¸åå®ä¹ï¼\n\npublic class listnode {\n  int val;\n  listnode next;\n  listnode prev;\n  listnode(int x) { val = x; }\n}\n\nclass mylinkedlist {\n  int size;\n  // sentinel nodes as pseudo-head and pseudo-tail\n  listnode head, tail;\n  public mylinkedlist() {\n    size = 0;\n    head = new listnode(0);\n    tail = new listnode(0);\n    head.next = tail;\n    tail.prev = head;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# æ¥æ¾\n\nå¨ååé¾è¡¨ä¸­è¿è¡æ¥æ¾ä¸å¨åé¾è¡¨ä¸­ç±»ä¼¼ï¼åªä¸è¿å¨ååé¾è¡¨ä¸­æ¥æ¾æä½å¯ä»¥ä»é¾è¡¨çé¦ç»ç¹å¼å§ï¼ä¹å¯ä»¥ä»å°¾ç»ç¹å¼å§ï¼ä½æ¯éè¦çæ¶é´åå¨åé¾è¡¨ä¸­ä¸æ ·ã\n\n  /** get the value of the index-th node in the linked list. if the index is invalid, return -1. */\n  public int get(int index) {\n    if (index < 0 || index >= size) return -1;\n\n    listnode curr = head;\n    if (index + 1 < size - index)\n      for(int i = 0; i < index + 1; ++i) {\n        curr = curr.next;\n      }\n    else {\n      curr = tail;\n      for(int i = 0; i < size - index; ++i) {\n        curr = curr.prev;\n      }\n    }\n\n    return curr.val;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# æ·»å \n\nåé¾è¡¨çæå¥æä½ï¼é¤äºé¦ç»ç¹ä¹å¤å¿é¡»å¨æä¸ªå·²ç¥ç»ç¹åé¢è¿è¡ï¼èå¨ååé¾è¡¨ä¸­æå¥æä½å¨ä¸ä¸ªå·²ç¥çç»ç¹ä¹åæä¹åé½å¯ä»¥è¿è¡ï¼å¦ä¸è¡¨ç¤ºå¨ç»ç¹ 11 ä¹å æå¥ 9ã\n\n\n\nä½¿ç¨ java è¯­è¨å®ç°æ´ä¸ªè¿ç¨çå³é®è¯­å¥æ¯\n\n  public void addathead(int val) {\n    listnode pred = head, succ = head.next;\n\n    ++size;\n    listnode toadd = new listnode(val);\n    toadd.prev = pred;\n    toadd.next = succ;\n    pred.next = toadd;\n    succ.prev = toadd;\n  }\n\n  /** append a node of value val to the last element of the linked list. */\n  public void addattail(int val) {\n    listnode succ = tail, pred = tail.prev;\n\n    ++size;\n    listnode toadd = new listnode(val);\n    toadd.prev = pred;\n    toadd.next = succ;\n    pred.next = toadd;\n    succ.prev = toadd;\n  }\n\n  public void addatindex(int index, int val) {\n    if (index > size) return;\n\n    if (index < 0) index = 0;\n\n    listnode pred, succ;\n    if (index < size - index) {\n      pred = head;\n      for(int i = 0; i < index; ++i) pred = pred.next;\n      succ = pred.next;\n    }\n    else {\n      succ = tail;\n      for (int i = 0; i < size - index; ++i) succ = succ.prev;\n      pred = succ.prev;\n    }\n\n    // insertion itself\n    ++size;\n    listnode toadd = new listnode(val);\n    toadd.prev = pred;\n    toadd.next = succ;\n    pred.next = toadd;\n    succ.prev = toadd;\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nå¨ç»ç¹ p ä¹åæå¥ä¸ä¸ªæ°ç»ç¹çæä½ä¸ä¸è¿°æä½å¯¹ç§°ï¼è¿éä¸åèµè¿°ã\n\næå¥æä½é¤äºä¸è¿°æåµï¼è¿å¯ä»¥å¨ååé¾è¡¨çé¦ç»ç¹ä¹åãååé¾è¡¨çå°¾ç»ç¹ä¹åè¿è¡ï¼æ­¤æ¶æå¥æä½ä¸ä¸è¿°æå¥æä½ç¸æ¯æ´ä¸ºç®åã\n\n\n# å é¤\n\nåé¾è¡¨çå é¤æä½ï¼é¤äºé¦ç»ç¹ä¹å¤å¿é¡»å¨ç¥éå¾å ç»ç¹çåé©±ç»ç¹çåºç¡ä¸æè½è¿è¡ï¼èå¨ååé¾è¡¨ä¸­å¨å·²ç¥æä¸ªç»ç¹å¼ç¨çåæä¸ï¼å¯ä»¥å®æè¯¥ç»ç¹èªèº«çå é¤ãå¦ä¸è¡¨ç¤ºå é¤ 16 çè¿ç¨ã\n\n\n\n\t/** delete the index-th node in the linked list, if the index is valid. */\n  public void deleteatindex(int index) {\n    if (index < 0 || index >= size) return;\n\n    listnode pred, succ;\n    if (index < size - index) {\n      pred = head;\n      for(int i = 0; i < index; ++i) pred = pred.next;\n      succ = pred.next.next;\n    }\n    else {\n      succ = tail;\n      for (int i = 0; i < size - index - 1; ++i) succ = succ.prev;\n      pred = succ.prev.prev;\n    }\n\n    // delete pred.next \n    --size;\n    pred.next = succ;\n    succ.prev = pred;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nå¯¹çº¿æ§è¡¨çæä½ï¼æ éå°±æ¯æåºãå æ³ãåæ³ãåè½¬ï¼è¯´çå¥½åå¾ç®åï¼æä»¬å»ä¸ä¸ç« å·é¢å§\n\n\n# åè\n\né¾è¡¨",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å¾",frontmatter:{title:"å¾",date:"2022-10-11T22:56:33.000Z",permalink:"/pages/83330c/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/40.%E5%9B%BE.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/40.å¾.md",key:"v-8228d7f2",path:"/pages/83330c/",headers:[{level:2,title:"å¾çåºæ¬æ¦å¿µ",slug:"å¾çåºæ¬æ¦å¿µ",normalizedTitle:"å¾çåºæ¬æ¦å¿µ",charIndex:298},{level:3,title:"é¡¶ç¹",slug:"é¡¶ç¹",normalizedTitle:"é¡¶ç¹",charIndex:161},{level:3,title:"è¾¹",slug:"è¾¹",normalizedTitle:"è¾¹",charIndex:176},{level:3,title:"åº¦",slug:"åº¦",normalizedTitle:"åº¦",charIndex:427},{level:3,title:"æ åå¾åæåå¾",slug:"æ åå¾åæåå¾",normalizedTitle:"æ åå¾åæåå¾",charIndex:520},{level:3,title:"æ æå¾åå¸¦æå¾",slug:"æ æå¾åå¸¦æå¾",normalizedTitle:"æ æå¾åå¸¦æå¾",charIndex:720},{level:2,title:"å¾çå­å¨",slug:"å¾çå­å¨",normalizedTitle:"å¾çå­å¨",charIndex:887},{level:3,title:"é»æ¥ç©éµå­å¨",slug:"é»æ¥ç©éµå­å¨",normalizedTitle:"é»æ¥ç©éµå­å¨",charIndex:896},{level:3,title:"é»æ¥è¡¨å­å¨",slug:"é»æ¥è¡¨å­å¨",normalizedTitle:"é»æ¥è¡¨å­å¨",charIndex:1217},{level:2,title:"å¾çæç´¢",slug:"å¾çæç´¢",normalizedTitle:"å¾çæç´¢",charIndex:1507},{level:3,title:"å¹¿åº¦ä¼åæç´¢",slug:"å¹¿åº¦ä¼åæç´¢",normalizedTitle:"å¹¿åº¦ä¼åæç´¢",charIndex:1516},{level:3,title:"æ·±åº¦ä¼åæç´¢",slug:"æ·±åº¦ä¼åæç´¢",normalizedTitle:"æ·±åº¦ä¼åæç´¢",charIndex:1656}],headersStr:"å¾çåºæ¬æ¦å¿µ é¡¶ç¹ è¾¹ åº¦ æ åå¾åæåå¾ æ æå¾åå¸¦æå¾ å¾çå­å¨ é»æ¥ç©éµå­å¨ é»æ¥è¡¨å­å¨ å¾çæç´¢ å¹¿åº¦ä¼åæç´¢ æ·±åº¦ä¼åæç´¢",content:"å¾æ¯ä¸ç§è¾ä¸ºå¤æçéçº¿æ§ç»æã ä¸ºå¥è¯´å¶è¾ä¸ºå¤æå¢ï¼\n\næ ¹æ®åé¢çåå®¹ï¼æä»¬ç¥éï¼\n\n * çº¿æ§æ°æ®ç»æçåç´ æ»¡è¶³å¯ä¸ççº¿æ§å³ç³»ï¼æ¯ä¸ªåç´ (é¤ç¬¬ä¸ä¸ªåæåä¸ä¸ªå¤)åªæä¸ä¸ªç´æ¥åè¶åä¸ä¸ªç´æ¥åç»§ã\n * æ å½¢æ°æ®ç»æçåç´ ä¹é´æçææ¾çå±æ¬¡å³ç³»ã\n\nä½æ¯ï¼å¾å½¢ç»æçåç´ ä¹é´çå³ç³»æ¯ä»»æçã\n\nä½ä¸ºå¾å¢ï¼ ç®åæ¥è¯´ï¼å¾å°±æ¯ç±é¡¶ç¹çæç©·éç©ºéååé¡¶ç¹ä¹é´çè¾¹ç»æçéåãéå¸¸è¡¨ç¤ºä¸ºï¼G(V,E)ï¼å¶ä¸­ï¼Gè¡¨ç¤ºä¸ä¸ªå¾ï¼Vè¡¨ç¤ºé¡¶ç¹çéåï¼Eè¡¨ç¤ºè¾¹çéåã\n\nä¸å¾æå±ç¤ºçå°±æ¯å¾è¿ç§æ°æ®ç»æï¼å¹¶ä¸è¿æ¯ä¸å¼ æåå¾ã\n\n\n\nå¾å¨æä»¬æ¥å¸¸çæ´»ä¸­çä¾å­å¾å¤ï¼æ¯å¦æä»¬å¨ç¤¾äº¤è½¯ä»¶ä¸å¥½åå³ç³»å°±å¯ä»¥ç¨å¾æ¥è¡¨ç¤ºã\n\n\n# å¾çåºæ¬æ¦å¿µ\n\n\n# é¡¶ç¹\n\nå¾ä¸­çæ°æ®åç´ ï¼æä»¬ç§°ä¹ä¸ºé¡¶ç¹ï¼å¾è³å°æä¸ä¸ªé¡¶ç¹ï¼éç©ºæç©·éåï¼\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼æ¯ä¸ä¸ªç¨æ·å°±ä»£è¡¨ä¸ä¸ªé¡¶ç¹ã\n\n\n# è¾¹\n\né¡¶ç¹ä¹é´çå³ç³»ç¨è¾¹è¡¨ç¤ºã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼ä¸¤ä¸ªç¨æ·æ¯å¥½åçè¯ï¼é£ä¸¤èä¹é´å°±å­å¨ä¸æ¡è¾¹ã\n\n\n# åº¦\n\nåº¦è¡¨ç¤ºä¸ä¸ªé¡¶ç¹åå«å¤å°æ¡è¾¹ï¼å¨æåå¾ä¸­ï¼è¿åä¸ºåºåº¦åå¥åº¦ï¼åºåº¦è¡¨ç¤ºä»è¯¥é¡¶ç¹åºå»çè¾¹çæ¡æ°ï¼å¥åº¦è¡¨ç¤ºè¿å¥è¯¥é¡¶ç¹çè¾¹çæ¡æ°ã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼åº¦å°±ä»£è¡¨äºæä¸ªäººçå¥½åæ°éã\n\n\n# æ åå¾åæåå¾\n\nè¾¹è¡¨ç¤ºçæ¯é¡¶ç¹ä¹é´çå³ç³»ï¼æçå³ç³»æ¯ååçï¼æ¯å¦åå­¦å³ç³»ï¼Aæ¯Bçåå­¦ï¼é£ä¹Bä¹è¯å®æ¯Açåå­¦ï¼é£ä¹å¨è¡¨ç¤ºAåBçå³ç³»æ¶ï¼å°±ä¸ç¨å³æ³¨æ¹åï¼ç¨ä¸å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºï¼è¿æ ·çå¾å°±æ¯æ åå¾ã\n\næçå³ç³»æ¯ææ¹åçï¼æ¯å¦ç¶å­å³ç³»ï¼å¸çå³ç³»ï¼å¾®åçå³æ³¨å³ç³»ï¼Aæ¯Bçç¸ç¸ï¼ä½Bè¯å®ä¸æ¯Açç¸ç¸ï¼Aå³æ³¨Bï¼Bä¸ä¸å®å³æ³¨Aãå¨è¿ç§æåµä¸ï¼æä»¬å°±ç¨å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºäºèçå³ç³»ï¼è¿æ ·çå¾å°±æ¯æåå¾ã\n\n\n# æ æå¾åå¸¦æå¾\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬åªå³å¿å³ç³»çææ ï¼èä¸å³å¿å³ç³»æå¤å¼ºï¼é£ä¹å°±å¯ä»¥ç¨æ æå¾è¡¨ç¤ºäºèçå³ç³»ã\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬æ¢å³å¿å³ç³»çææ ï¼ä¹å³å¿å³ç³»çå¼ºåº¦ï¼æ¯å¦æè¿°å°å¾ä¸ä¸¤ä¸ªåå¸çå³ç³»ï¼éè¦ç¨å°è·ç¦»ï¼é£ä¹å°±ç¨å¸¦æå¾æ¥è¡¨ç¤ºï¼å¸¦æå¾ä¸­çæ¯ä¸æ¡è¾¹ä¸ä¸ªæ°å¼è¡¨ç¤ºæå¼ï¼ä»£è¡¨å³ç³»çå¼ºåº¦ã\n\nä¸å¾å°±æ¯ä¸ä¸ªå¸¦ææåå¾ã\n\n\n\n\n# å¾çå­å¨\n\n\n# é»æ¥ç©éµå­å¨\n\né»æ¥ç©éµå°å¾ç¨äºç»´ç©éµå­å¨ï¼æ¯ä¸ç§è¾ä¸ºç´è§çè¡¨ç¤ºæ¹å¼ã\n\nå¦æç¬¬iä¸ªé¡¶ç¹åç¬¬jä¸ªé¡¶ç¹ä¹é´æå³ç³»ï¼ä¸å³ç³»æå¼ä¸ºnï¼å A[i][j]=n ã\n\nå¨æ åå¾ä¸­ï¼æä»¬åªå³å¿å³ç³»çææ ï¼æä»¥å½é¡¶ç¹iåé¡¶ç¹jæå³ç³»æ¶ï¼A[i][j]=1ï¼å½é¡¶ç¹iåé¡¶ç¹jæ²¡æå³ç³»æ¶ï¼A[i][j]=0ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå¼å¾æ³¨æçæ¯ï¼æ åå¾çé»æ¥ç©éµæ¯ä¸ä¸ªå¯¹ç§°ç©éµï¼å ä¸ºå¨æ åå¾ä¸­ï¼é¡¶ç¹iåé¡¶ç¹jæå³ç³»ï¼åé¡¶ç¹jåé¡¶ç¹iå¿æå³ç³»ã\n\n\n\né»æ¥ç©éµå­å¨çæ¹å¼ä¼ç¹æ¯ç®åç´æ¥ï¼ç´æ¥ä½¿ç¨ä¸ä¸ªäºç»´æ°ç»å³å¯ï¼ï¼å¹¶ä¸ï¼å¨è·åä¸¤ä¸ªå®ç¹ä¹é´çå³ç³»çæ¶åä¹éå¸¸é«æï¼ç´æ¥è·åæå®ä½ç½®çæ°ç»åç´ çå¼å³å¯ï¼ãä½æ¯ï¼è¿ç§å­å¨æ¹å¼çç¼ºç¹ä¹æ¯è¾ææ¾ï¼é£å°±æ¯æ¯è¾æµªè´¹ç©ºé´ï¼\n\n\n# é»æ¥è¡¨å­å¨\n\néå¯¹ä¸é¢é»æ¥ç©éµæ¯è¾æµªè´¹åå­ç©ºé´çé®é¢ï¼è¯çäºå¾çå¦å¤ä¸ç§å­å¨æ¹æ³âé»æ¥è¡¨ ã\n\né»æ¥é¾è¡¨ä½¿ç¨ä¸ä¸ªé¾è¡¨æ¥å­å¨æä¸ªé¡¶ç¹çææåç»§ç¸é»é¡¶ç¹ãå¯¹äºå¾ä¸­æ¯ä¸ªé¡¶ç¹Viï¼æææé»æ¥äºViçé¡¶ç¹Vjé¾æä¸ä¸ªåé¾è¡¨ï¼è¿ä¸ªåé¾è¡¨ç§°ä¸ºé¡¶ç¹Viç é»æ¥è¡¨ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n\nå¤§å®¶å¯ä»¥æ°ä¸æ°é»æ¥è¡¨ä¸­æå­å¨çåç´ çä¸ªæ°ä»¥åå¾ä¸­è¾¹çæ¡æ°ï¼ä½ ä¼åç°ï¼\n\n * å¨æ åå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°çä¸¤åï¼å¦å·¦å¾æç¤ºçæ åå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º7ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º14ã\n * å¨æåå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°ï¼å¦å³å¾æç¤ºçæåå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º8ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º8ã\n\n\n# å¾çæç´¢\n\n\n# å¹¿åº¦ä¼åæç´¢\n\nå¹¿åº¦ä¼åæç´¢å°±åæ°´é¢ä¸çæ³¢çº¹ä¸æ ·ä¸å±ä¸å±åå¤æ©å±ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nå¹¿åº¦ä¼åæç´¢çå·ä½å®ç°æ¹å¼ç¨å°äºä¹åæå­¦è¿ççº¿æ§æ°æ®ç»æââéå ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\n\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n\n\n\n# æ·±åº¦ä¼åæç´¢\n\næ·±åº¦ä¼åæç´¢å°±æ¯âä¸æ¡è·¯èµ°å°é»âï¼ä»æºé¡¶ç¹å¼å§ï¼ä¸ç´èµ°å°æ²¡æåç»§èç¹ï¼æåæº¯å°ä¸ä¸é¡¶ç¹ï¼ç¶åç»§ç»­âä¸æ¡è·¯èµ°å°é»âï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nåå¹¿åº¦ä¼åæç´¢ç±»ä¼¼ï¼æ·±åº¦ä¼åæç´¢çå·ä½å®ç°ç¨å°äºå¦ä¸ç§çº¿æ§æ°æ®ç»æââæ  ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\n\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n",normalizedContent:"å¾æ¯ä¸ç§è¾ä¸ºå¤æçéçº¿æ§ç»æã ä¸ºå¥è¯´å¶è¾ä¸ºå¤æå¢ï¼\n\næ ¹æ®åé¢çåå®¹ï¼æä»¬ç¥éï¼\n\n * çº¿æ§æ°æ®ç»æçåç´ æ»¡è¶³å¯ä¸ççº¿æ§å³ç³»ï¼æ¯ä¸ªåç´ (é¤ç¬¬ä¸ä¸ªåæåä¸ä¸ªå¤)åªæä¸ä¸ªç´æ¥åè¶åä¸ä¸ªç´æ¥åç»§ã\n * æ å½¢æ°æ®ç»æçåç´ ä¹é´æçææ¾çå±æ¬¡å³ç³»ã\n\nä½æ¯ï¼å¾å½¢ç»æçåç´ ä¹é´çå³ç³»æ¯ä»»æçã\n\nä½ä¸ºå¾å¢ï¼ ç®åæ¥è¯´ï¼å¾å°±æ¯ç±é¡¶ç¹çæç©·éç©ºéååé¡¶ç¹ä¹é´çè¾¹ç»æçéåãéå¸¸è¡¨ç¤ºä¸ºï¼g(v,e)ï¼å¶ä¸­ï¼gè¡¨ç¤ºä¸ä¸ªå¾ï¼vè¡¨ç¤ºé¡¶ç¹çéåï¼eè¡¨ç¤ºè¾¹çéåã\n\nä¸å¾æå±ç¤ºçå°±æ¯å¾è¿ç§æ°æ®ç»æï¼å¹¶ä¸è¿æ¯ä¸å¼ æåå¾ã\n\n\n\nå¾å¨æä»¬æ¥å¸¸çæ´»ä¸­çä¾å­å¾å¤ï¼æ¯å¦æä»¬å¨ç¤¾äº¤è½¯ä»¶ä¸å¥½åå³ç³»å°±å¯ä»¥ç¨å¾æ¥è¡¨ç¤ºã\n\n\n# å¾çåºæ¬æ¦å¿µ\n\n\n# é¡¶ç¹\n\nå¾ä¸­çæ°æ®åç´ ï¼æä»¬ç§°ä¹ä¸ºé¡¶ç¹ï¼å¾è³å°æä¸ä¸ªé¡¶ç¹ï¼éç©ºæç©·éåï¼\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼æ¯ä¸ä¸ªç¨æ·å°±ä»£è¡¨ä¸ä¸ªé¡¶ç¹ã\n\n\n# è¾¹\n\né¡¶ç¹ä¹é´çå³ç³»ç¨è¾¹è¡¨ç¤ºã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼ä¸¤ä¸ªç¨æ·æ¯å¥½åçè¯ï¼é£ä¸¤èä¹é´å°±å­å¨ä¸æ¡è¾¹ã\n\n\n# åº¦\n\nåº¦è¡¨ç¤ºä¸ä¸ªé¡¶ç¹åå«å¤å°æ¡è¾¹ï¼å¨æåå¾ä¸­ï¼è¿åä¸ºåºåº¦åå¥åº¦ï¼åºåº¦è¡¨ç¤ºä»è¯¥é¡¶ç¹åºå»çè¾¹çæ¡æ°ï¼å¥åº¦è¡¨ç¤ºè¿å¥è¯¥é¡¶ç¹çè¾¹çæ¡æ°ã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼åº¦å°±ä»£è¡¨äºæä¸ªäººçå¥½åæ°éã\n\n\n# æ åå¾åæåå¾\n\nè¾¹è¡¨ç¤ºçæ¯é¡¶ç¹ä¹é´çå³ç³»ï¼æçå³ç³»æ¯ååçï¼æ¯å¦åå­¦å³ç³»ï¼aæ¯bçåå­¦ï¼é£ä¹bä¹è¯å®æ¯açåå­¦ï¼é£ä¹å¨è¡¨ç¤ºaåbçå³ç³»æ¶ï¼å°±ä¸ç¨å³æ³¨æ¹åï¼ç¨ä¸å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºï¼è¿æ ·çå¾å°±æ¯æ åå¾ã\n\næçå³ç³»æ¯ææ¹åçï¼æ¯å¦ç¶å­å³ç³»ï¼å¸çå³ç³»ï¼å¾®åçå³æ³¨å³ç³»ï¼aæ¯bçç¸ç¸ï¼ä½bè¯å®ä¸æ¯açç¸ç¸ï¼aå³æ³¨bï¼bä¸ä¸å®å³æ³¨aãå¨è¿ç§æåµä¸ï¼æä»¬å°±ç¨å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºäºèçå³ç³»ï¼è¿æ ·çå¾å°±æ¯æåå¾ã\n\n\n# æ æå¾åå¸¦æå¾\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬åªå³å¿å³ç³»çææ ï¼èä¸å³å¿å³ç³»æå¤å¼ºï¼é£ä¹å°±å¯ä»¥ç¨æ æå¾è¡¨ç¤ºäºèçå³ç³»ã\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬æ¢å³å¿å³ç³»çææ ï¼ä¹å³å¿å³ç³»çå¼ºåº¦ï¼æ¯å¦æè¿°å°å¾ä¸ä¸¤ä¸ªåå¸çå³ç³»ï¼éè¦ç¨å°è·ç¦»ï¼é£ä¹å°±ç¨å¸¦æå¾æ¥è¡¨ç¤ºï¼å¸¦æå¾ä¸­çæ¯ä¸æ¡è¾¹ä¸ä¸ªæ°å¼è¡¨ç¤ºæå¼ï¼ä»£è¡¨å³ç³»çå¼ºåº¦ã\n\nä¸å¾å°±æ¯ä¸ä¸ªå¸¦ææåå¾ã\n\n\n\n\n# å¾çå­å¨\n\n\n# é»æ¥ç©éµå­å¨\n\né»æ¥ç©éµå°å¾ç¨äºç»´ç©éµå­å¨ï¼æ¯ä¸ç§è¾ä¸ºç´è§çè¡¨ç¤ºæ¹å¼ã\n\nå¦æç¬¬iä¸ªé¡¶ç¹åç¬¬jä¸ªé¡¶ç¹ä¹é´æå³ç³»ï¼ä¸å³ç³»æå¼ä¸ºnï¼å a[i][j]=n ã\n\nå¨æ åå¾ä¸­ï¼æä»¬åªå³å¿å³ç³»çææ ï¼æä»¥å½é¡¶ç¹iåé¡¶ç¹jæå³ç³»æ¶ï¼a[i][j]=1ï¼å½é¡¶ç¹iåé¡¶ç¹jæ²¡æå³ç³»æ¶ï¼a[i][j]=0ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå¼å¾æ³¨æçæ¯ï¼æ åå¾çé»æ¥ç©éµæ¯ä¸ä¸ªå¯¹ç§°ç©éµï¼å ä¸ºå¨æ åå¾ä¸­ï¼é¡¶ç¹iåé¡¶ç¹jæå³ç³»ï¼åé¡¶ç¹jåé¡¶ç¹iå¿æå³ç³»ã\n\n\n\né»æ¥ç©éµå­å¨çæ¹å¼ä¼ç¹æ¯ç®åç´æ¥ï¼ç´æ¥ä½¿ç¨ä¸ä¸ªäºç»´æ°ç»å³å¯ï¼ï¼å¹¶ä¸ï¼å¨è·åä¸¤ä¸ªå®ç¹ä¹é´çå³ç³»çæ¶åä¹éå¸¸é«æï¼ç´æ¥è·åæå®ä½ç½®çæ°ç»åç´ çå¼å³å¯ï¼ãä½æ¯ï¼è¿ç§å­å¨æ¹å¼çç¼ºç¹ä¹æ¯è¾ææ¾ï¼é£å°±æ¯æ¯è¾æµªè´¹ç©ºé´ï¼\n\n\n# é»æ¥è¡¨å­å¨\n\néå¯¹ä¸é¢é»æ¥ç©éµæ¯è¾æµªè´¹åå­ç©ºé´çé®é¢ï¼è¯çäºå¾çå¦å¤ä¸ç§å­å¨æ¹æ³âé»æ¥è¡¨ ã\n\né»æ¥é¾è¡¨ä½¿ç¨ä¸ä¸ªé¾è¡¨æ¥å­å¨æä¸ªé¡¶ç¹çææåç»§ç¸é»é¡¶ç¹ãå¯¹äºå¾ä¸­æ¯ä¸ªé¡¶ç¹viï¼æææé»æ¥äºviçé¡¶ç¹vjé¾æä¸ä¸ªåé¾è¡¨ï¼è¿ä¸ªåé¾è¡¨ç§°ä¸ºé¡¶ç¹viç é»æ¥è¡¨ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n\nå¤§å®¶å¯ä»¥æ°ä¸æ°é»æ¥è¡¨ä¸­æå­å¨çåç´ çä¸ªæ°ä»¥åå¾ä¸­è¾¹çæ¡æ°ï¼ä½ ä¼åç°ï¼\n\n * å¨æ åå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°çä¸¤åï¼å¦å·¦å¾æç¤ºçæ åå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º7ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º14ã\n * å¨æåå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°ï¼å¦å³å¾æç¤ºçæåå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º8ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º8ã\n\n\n# å¾çæç´¢\n\n\n# å¹¿åº¦ä¼åæç´¢\n\nå¹¿åº¦ä¼åæç´¢å°±åæ°´é¢ä¸çæ³¢çº¹ä¸æ ·ä¸å±ä¸å±åå¤æ©å±ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nå¹¿åº¦ä¼åæç´¢çå·ä½å®ç°æ¹å¼ç¨å°äºä¹åæå­¦è¿ççº¿æ§æ°æ®ç»æââéå ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\n\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n\n\n\n# æ·±åº¦ä¼åæç´¢\n\næ·±åº¦ä¼åæç´¢å°±æ¯âä¸æ¡è·¯èµ°å°é»âï¼ä»æºé¡¶ç¹å¼å§ï¼ä¸ç´èµ°å°æ²¡æåç»§èç¹ï¼æåæº¯å°ä¸ä¸é¡¶ç¹ï¼ç¶åç»§ç»­âä¸æ¡è·¯èµ°å°é»âï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nåå¹¿åº¦ä¼åæç´¢ç±»ä¼¼ï¼æ·±åº¦ä¼åæç´¢çå·ä½å®ç°ç¨å°äºå¦ä¸ç§çº¿æ§æ°æ®ç»æââæ  ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\n\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"éå½",frontmatter:{title:"éå½",date:"2022-03-11T00:38:43.000Z",permalink:"/pages/92288a/",categories:["è®¡ç®æºåºç¡","CSS"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/40.%E7%AE%97%E6%B3%95/01.%E9%80%92%E5%BD%92.html",relativePath:"02.è®¡ç®æºåºç¡/40.ç®æ³/01.éå½.md",key:"v-774fbc7c",path:"/pages/92288a/",headers:[{level:2,title:"åºç¡ç¯ä¹éå½",slug:"åºç¡ç¯ä¹éå½",normalizedTitle:"åºç¡ç¯ä¹éå½",charIndex:2},{level:3,title:"å¦ä½çè§£éå½",slug:"å¦ä½çè§£éå½",normalizedTitle:"å¦ä½çè§£éå½",charIndex:162},{level:3,title:"éå½éè¦æ»¡è¶³çä¸ä¸ªæ¡ä»¶",slug:"éå½éè¦æ»¡è¶³çä¸ä¸ªæ¡ä»¶",normalizedTitle:"éå½éè¦æ»¡è¶³çä¸ä¸ªæ¡ä»¶",charIndex:757},{level:3,title:"ææ ·ç¼åéå½ä»£ç ",slug:"ææ ·ç¼åéå½ä»£ç ",normalizedTitle:"ææ ·ç¼åéå½ä»£ç ",charIndex:1112},{level:3,title:"éå½ä»£ç è¦è­¦æå æ æº¢åº",slug:"éå½ä»£ç è¦è­¦æå æ æº¢åº",normalizedTitle:"éå½ä»£ç è¦è­¦æå æ æº¢åº",charIndex:2574},{level:3,title:"éå½ä»£ç è¦è­¦æéå¤è®¡ç®",slug:"éå½ä»£ç è¦è­¦æéå¤è®¡ç®",normalizedTitle:"éå½ä»£ç è¦è­¦æéå¤è®¡ç®",charIndex:3210},{level:3,title:"æä¹å°éå½ä»£ç æ¹åä¸ºééå½ä»£ç ",slug:"æä¹å°éå½ä»£ç æ¹åä¸ºééå½ä»£ç ",normalizedTitle:"æä¹å°éå½ä»£ç æ¹åä¸ºééå½ä»£ç ",charIndex:3952},{level:3,title:"è§£ç­å¼ç¯",slug:"è§£ç­å¼ç¯",normalizedTitle:"è§£ç­å¼ç¯",charIndex:4702},{level:3,title:"åå®¹å°ç»",slug:"åå®¹å°ç»",normalizedTitle:"åå®¹å°ç»",charIndex:5228},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:267},{level:3,title:"æ¡ä¾1ï¼ææ³¢é£å¥æ°å",slug:"æ¡ä¾1-ææ³¢é£å¥æ°å",normalizedTitle:"æ¡ä¾1ï¼ææ³¢é£å¥æ°å",charIndex:5441},{level:3,title:"æ¡ä¾2ï¼å°éèè·³å°é¶",slug:"æ¡ä¾2-å°éèè·³å°é¶",normalizedTitle:"æ¡ä¾2ï¼å°éèè·³å°é¶",charIndex:6145},{level:2,title:"æå³éå½çä¸äºä¼åæè·¯",slug:"æå³éå½çä¸äºä¼åæè·¯",normalizedTitle:"æå³éå½çä¸äºä¼åæè·¯",charIndex:7339}],headersStr:"åºç¡ç¯ä¹éå½ å¦ä½çè§£éå½ éå½éè¦æ»¡è¶³çä¸ä¸ªæ¡ä»¶ ææ ·ç¼åéå½ä»£ç  éå½ä»£ç è¦è­¦æå æ æº¢åº éå½ä»£ç è¦è­¦æéå¤è®¡ç® æä¹å°éå½ä»£ç æ¹åä¸ºééå½ä»£ç  è§£ç­å¼ç¯ åå®¹å°ç» æ¡ä¾ æ¡ä¾1ï¼ææ³¢é£å¥æ°å æ¡ä¾2ï¼å°éèè·³å°é¶ æå³éå½çä¸äºä¼åæè·¯",content:"# åºç¡ç¯ä¹éå½\n\n> ç°å¨å¾å¤ App é½æè¿ä¸ªæ¨èæ³¨åè¿ä½£éåè½ãè¿ä¸ªåè½ä¸­ï¼ç¨æ· A æ¨èç¨æ· B æ¥æ³¨åï¼ç¨æ· B åæ¨èäºç¨æ· C æ¥æ³¨åãæä»¬å¯ä»¥è¯´ï¼ç¨æ· C çâæç»æ¨èäººâä¸ºç¨æ· Aï¼ç¨æ· B çâæç»æ¨èäººâä¹ä¸ºç¨æ· Aï¼èç¨æ· A æ²¡æâæç»æ¨èäººâãåºäºæ­¤ï¼å¦ä½æ¥æ¾æå®ç¨æ·çâæç»æ¨èäººâï¼\n\n\n# å¦ä½çè§£éå½\n\néå½æ¯ä¸ç§åºç¨éå¸¸å¹¿æ³çç®æ³æèç¼ç¨æå·§ãå¾å¤æ°æ®ç»æåç®æ³çç¼ç å®ç°é½è¦ç¨å°éå½ï¼æ¯å¦DFSæ·±åº¦ä¼åæç´¢ãåä¸­ååºäºåæ éåç­ç­ãæä»¥ææéå½å¯¹å­¦ä¹ ä¸äºå¤æçæ°æ®ç»æåç®æ³æ¯éå¸¸æå¿è¦çã\n\næ¡ä¾ï¼å¨æ«å¸¦çå¥³æåå»çµå½±é¢ççµå½±ï¼å¥³æåé®ï¼å±ä»¬ç°å¨åå¨ç¬¬å æåï¼çµå½±é¢éé¢å¤ªé»äºï¼çä¸æ¸ï¼æ²¡æ³æ°ï¼ç°å¨æä¹åï¼\n\näºæ¯ä½ å°±é®åé¢ä¸æçäººä»æ¯ç¬¬å æï¼ä½ æ³åªè¦å¨ä»çæ°å­ä¸å ä¸ï¼å°±ç¥éèªå·±å¨åªä¸æäºãä½æ¯ï¼åé¢çäººä¹çä¸æ¸åï¼æä»¥ä»ä¹é®ä»åé¢çäººãå°±è¿æ ·ä¸æä¸æå¾åé®ï¼ç´å°é®å°ç¬¬ä¸æçäººï¼è¯´æå¨ç¬¬ä¸æï¼ç¶ååè¿æ ·ä¸æä¸æåææ°å­ä¼ åæ¥ãç´å°ä½ åé¢çäººåè¯ä½ ä»å¨åªä¸æï¼äºæ¯ä½ å°±ç¥éç­æ¡äºã\n\nè¿å°±æ¯ä¸ä¸ªéå¸¸æ åçéå½æ±è§£é®é¢çåè§£è¿ç¨ï¼å»çè¿ç¨å«âéâï¼åæ¥çè¿ç¨å«âå½âãåºæ¬ä¸ï¼ææçéå½é®é¢é½å¯ä»¥ç¨éæ¨å¬å¼æ¥è¡¨ç¤ºãæ¯å¦ä¸é¢çæ¡ä¾æä»¬ç¨éæ¨å¬å¼å°å®è¡¨ç¤ºåºæ¥å°±æ¯è¿æ ·ï¼\n\nf(n) = f(n-1) + 1 å¶ä¸­ f(1) = 1\n\n\n1\n\n\nf(n)è¡¨ç¤ºæ³ç¥éèªå·±å¨åªä¸æï¼f(n-1)è¡¨ç¤ºåé¢ä¸ææå¨çææ°ï¼f(1) = 1è¡¨ç¤ºç¬¬ä¸æçäººç¥éèªå·±å¨ç¬¬ä¸æãæäºè¿ä¸ªéæ¨å¬å¼ï¼æä»¬å°±å¯ä»¥å¾è½»æ¾å°å°å®æ¹ä¸ºéå½ä»£ç ï¼\n\nint f(int n) {\n  if (n == 1) return 1;\n  return f(n - 1) + 1;\n}\n\n\n1\n2\n3\n4\n\n\n\n# éå½éè¦æ»¡è¶³çä¸ä¸ªæ¡ä»¶\n\nåªè¦åæ¶æ»¡è¶³ä»¥ä¸ä¸ä¸ªæ¡ä»¶ï¼å°±å¯ä»¥ç¨éå½æ¥è§£å³ã\n\n 1. ä¸ä¸ªé®é¢çè§£å¯ä»¥åè§£ä¸ºå ä¸ªå­é®é¢çè§£\n    \n    ä½ä¸ºå­é®é¢ï¼å­é®é¢å°±æ¯æ°æ®è§æ¨¡æ´å°çé®é¢ãæ¯å¦åé¢çæ¡ä¾ï¼è¦ç¥éâèªå·±å¨åªä¸æâï¼å¯ä»¥åè§£ä¸ºâåä¸æçäººå¨åªä¸æâè¿æ ·çä¸ä¸ªå­é®é¢ã\n\n 2. è¿ä¸ªé®é¢ä¸åè§£ä¹åçå­é®é¢ï¼é¤äºæ°æ®è§æ¨¡ä¸åï¼æ±è§£æè·¯å®å¨ä¸æ ·\n    \n    å¦æ¡ä¾æç¤ºï¼æ±è§£âèªå·±å¨åªä¸æâçæè·¯ï¼ååé¢ä¸æäººæ±è§£âèªå·±å¨åªä¸æâçæè·¯æ¯ä¸æ¨¡ä¸æ ·çã\n\n 3. å­å¨éå½ç»æ­¢æ¡ä»¶\n    \n    æé®é¢åè§£ä¸ºå­é®é¢ï¼æå­é®é¢ååè§£ä¸ºå­å­é®é¢ï¼ä¸å±ä¸å±åè§£ä¸å»ï¼ä¸è½å­å¨æ éå¾ªç¯ï¼è¿å°±éè¦æç»æ­¢æ¡ä»¶ãåé¢çæ¡ä¾ï¼ç¬¬ä¸æçäººç¥éèªå·±å¨åªä¸æï¼ä¸éè¦åé®å«äººï¼f(1) = 1å°±æ¯éå½çç»æ­¢æ¡ä»¶ã\n\n\n# ææ ·ç¼åéå½ä»£ç \n\nåéå½ä»£ç æå³é®çæ¯ååºéæ¨å¬å¼ï¼æ¾å°ç»æ­¢æ¡ä»¶ï¼å©ä¸å°±æ¯å°éæ¨å¬å¼è½¬åä¸ºä»£ç ã\n\næ¡ä¾ï¼åå¦è¿éæ n ä¸ªå°é¶ï¼æ¯æ¬¡ä½ å¯ä»¥è·¨ 1 ä¸ªå°é¶æè 2 ä¸ªå°é¶ï¼è¯·é®èµ°è¿ n ä¸ªå°é¶æå¤å°ç§èµ°æ³ï¼å¦ææ 7 ä¸ªå°é¶ï¼ä½ å¯ä»¥ 2ï¼2ï¼2ï¼1 è¿æ ·å­ä¸å»ï¼ä¹å¯ä»¥ 1ï¼2ï¼1ï¼1ï¼2 è¿æ ·å­ä¸å»ï¼æ»ä¹èµ°æ³æå¾å¤ï¼é£å¦ä½ç¨ç¼ç¨æ±å¾æ»å±æå¤å°ç§èµ°æ³å¢ï¼\n\næä»¬å¯ä»¥æ ¹æ®ç¬¬ä¸æ­¥çèµ°æ³æææèµ°æ³åä¸ºä¸¤ç±»ï¼ç¬¬ä¸ç±»æ¯ç¬¬ä¸æ­¥èµ°äº1ä¸ªå°é¶ï¼å¦ä¸ç±»æ¯ç¬¬ä¸æ­¥èµ°äº2ä¸ªå°é¶ãæä»¥nä¸ªå°é¶çèµ°æ³å°±ç­äºåèµ°1é¶åï¼n-1ä¸ªå°é¶çèµ°æ³ å ä¸åèµ°2é¶åï¼n-2ä¸ªå°é¶çèµ°æ³ï¼ç¨å¬å¼è¡¨ç¤ºï¼\n\nf(n) = f(n-1) + f(n-2)\n\n\n1\n\n\nåæ¥çä¸ç»æ­¢æ¡ä»¶ãå½æä¸ä¸ªå°é¶æ¶ï¼æä»¬ä¸éè¦åç»§ç»­éå½ï¼å°±åªæä¸ç§èµ°æ³ãæä»¥f(1) = 1ãè¿ä¸ªéå½ç»æ­¢æ¡ä»¶è¶³å¤åï¼æä»¬è¯è¯ç¨n = 2ï¼ n = 3è¿æ ·æ¯è¾å°çæ°å®éªä¸ä¸ã\n\nn = 2æ¶ï¼f(2) = f(1) + f(0)ãå¦æéå½ç»æ­¢æ¡ä»¶åªæä¸ä¸ªf(1) = 1ï¼é£f(2)å°±æ æ³æ±è§£äºãæä»¥é¤äºf(1) = 1è¿ä¸ä¸ªéå½ç»æ­¢æ¡ä»¶å¤ï¼è¿è¦æf(0) = 1ï¼è¡¨ç¤ºèµ°0ä¸ªå°é¶æä¸ç§èµ°æ³ï¼ä¸è¿è¿æ ·çèµ·æ¥ä¸ç¬¦åæ­£å¸¸çé»è¾æç»´ãæä»¥ï¼æä»¬å¯ä»¥æf(2) = 2ä½ä¸ºä¸ç§ç»æ­¢æ¡ä»¶ï¼è¡¨ç¤ºèµ°2ä¸ªå°é¶ï¼åªæä¸¤ç§èµ°æ³ï¼ä¸æ­¥èµ°å®æèåä¸¤æ­¥èµ°ã\n\næä»¥ï¼éå½ç»æ­¢æ¡ä»¶å°±æ¯f(1) = 1ï¼f(2) = 2ãè¿ä¸ªæ¶åï¼å¯ä»¥åæ¿n = 3ï¼n = 4æ¥éªè¯ä¸ï¼è¿ä¸ªç»æ­¢æ¡ä»¶æ¯å¦è¶³å¤å¹¶ä¸æ­£ç¡®ã\n\næä»¬æéå½ç»æ­¢æ¡ä»¶åååå¾å°çéæ¨å¬å¼æ¾å¨ä¸èµ·å°±æ¯è¿æ ·ï¼\n\nf(1) = 1;\nf(2) = 2;\nf(n) = f(n - 1) + f(n - 2);\n\n\n1\n2\n3\n\n\næç»çéå½ä»£ç å°±æ¯è¿æ ·ï¼\n\nint f(int n) {\n  if (n == 1) return 1;\n  if (n == 2) return 2;\n  return f(n -1) + f(n - 2);\n}\n\n\n1\n2\n3\n4\n5\n\n\nåéå½ä»£ç çå³é®å°±æ¯æ¾å°å¦ä½å°å¤§é®é¢åè§£ä¸ºå°é®é¢çè§å¾ï¼è¯·æ±åºäºæ­¤ååºéæ¨å¬å¼ï¼ç¶ååæ¨æ²ç»æ­¢æ¡ä»¶ï¼æåå°éæ¨å¬å¼åç»æ­¢æ¡ä»¶ç¿»è¯æä»£ç ã\n\n> å½æä»¬é¢å¯¹ä¸ä¸ªé®é¢éè¦åè§£ä¸ºå¤ä¸ªå­é®é¢çæ¶åï¼éå½ä»£ç å¾å¾æ²¡é£ä¹å¥½çè§£ï¼æ¯å¦ç¬¬äºä¸ªæ¡ä¾ï¼äººèå ä¹æ²¡åæ³ææ´ä¸ªâéâåâå½âçè¿ç¨ä¸æ­¥ä¸æ­¥é½æ³æ¸æ¥ã\n> \n> è®¡ç®æºæé¿åéå¤çäºæï¼æä»¥éå½æ­£ç¬¦åå®çèå£ãèæä»¬äººèæ´åæ¬¢å¹³éºç´åçæç»´æ¹å¼ãå½æä»¬çå°éå½æ¶ï¼æä»¬æ»æ³æéå½å¹³éºå±å¼ï¼èå­éå°±ä¼å¾ªç¯ï¼ä¸å±ä¸å±å¾ä¸è°ï¼ç¶ååä¸å±ä¸å±è¿åï¼è¯å¾æ³ææ¸æ¥è®¡ç®æºæ¯ä¸æ­¥é½æ¯æä¹æ§è¡çï¼è¿æ ·å°±å¾å®¹æè¢«ç»è¿å»ã\n> \n> å¯¹äºéå½ä»£ç ï¼è¿ç§è¯å¾æ³æ¸æ¥æ´ä¸ªéåå½è¿ç¨çåæ³ï¼å®éä¸æ¯è¿å¥äºä¸ä¸ªæç»´è¯¯åºãå¾å¤æ¶åï¼æä»¬çè§£èµ·æ¥æ¯è¾ååï¼ä¸»è¦åå å°±æ¯èªå·±ç»èªå·±å¶é äºè¿ç§çè§£éç¢ãé£æ­£ç¡®çæç»´æ¹å¼åºè¯¥æ¯ææ ·çå¢ï¼\n> \n> å¦æä¸ä¸ªé®é¢ A å¯ä»¥åè§£ä¸ºè¥å¹²å­é®é¢ BãCãDï¼å¯ä»¥åè®¾å­é®é¢ BãCãD å·²ç»è§£å³ï¼å¨æ­¤åºç¡ä¸æèå¦ä½è§£å³é®é¢ Aãèä¸ï¼åªéè¦æèé®é¢ A ä¸å­é®é¢ BãCãD ä¸¤å±ä¹é´çå³ç³»å³å¯ï¼ä¸éè¦ä¸å±ä¸å±å¾ä¸æèå­é®é¢ä¸å­å­é®é¢ï¼å­å­é®é¢ä¸å­å­å­é®é¢ä¹é´çå³ç³»ãå±è½æéå½ç»èï¼è¿æ ·å­çè§£èµ·æ¥å°±ç®åå¤äºã\n\næä»¥ï¼ç¼åéå½ä»£ç çå³é®æ¯ï¼åªè¦éå°éå½ï¼æä»¬å°±æå®æ½è±¡æä¸ä¸ªéæ¨å¬å¼ï¼ä¸ç¨æ³ä¸å±å±çè°ç¨å³ç³»ï¼ä¸è¦è¯å¾ç¨äººèå»åè§£éå½çæ¯ä¸ªæ­¥éª¤ã\n\n\n# éå½ä»£ç è¦è­¦æå æ æº¢åº\n\nå¨å®éå¼åä¸­ï¼ç¼åéå½ä»£ç æä»¬éå¸¸ä¼éå°å¾å¤é®é¢ï¼æ¯å¦å æ æº¢åºãèå æ æº¢åºä¼é æç³»ç»æ§å´©æºï¼åæéå¸¸ä¸¥éãä¸ºä»ä¹éå½ä»£ç å®¹æé æå æ æº¢åºå¢ï¼\n\næä»¬ç¥éå¨å½æ°è°ç¨æ¶ï¼ä¼ä½¿ç¨æ æ¥ä¿å­ä¸´æ¶åéãæ¯è°ç¨ä¸ä¸ªå½æ°ï¼é½ä¼å°ä¸´æ¶åéå°è£ä¸ºæ å¸§åå¥åå­æ ï¼ç­å½æ°æ§è¡å®æè¿åæ¶ï¼æåºæ ãç³»ç»æ æèèææºæ ç©ºé´ä¸è¬é½ä¸å¤§ãå¦æéå½æ±è§£çæ°æ®è§æ¨¡å¾å¤§ï¼è°ç¨å±æ¬¡å¾æ·±ï¼ä¸ç´åå¥æ ï¼å°±ä¼æå æ æº¢åºçé£é©ï¼åºç°java.lang.StackOverflowErrorã\n\nå¦ä½é¿ååºç°å æ æº¢åºï¼\n\nå¯ä»¥éè¿å¨ä»£ç ä¸­éå¶éå½è°ç¨çæå¤§æ·±åº¦çæ¹å¼æ¥è§£å³è¿ä¸ªé®é¢ãéå½è°ç¨è¶è¿ä¸å®æ·±åº¦(æ¯å¦1000)ä¹åï¼æä»¬å°±ä¸åç»§ç»­å¾ä¸éå½äºï¼ç´æ¥è¿åæ¥éãæ¯å¦åé¢çµå½±é¢çæ¡ä¾ï¼æ¹é åçä¼ªä»£ç å¦ä¸ï¼\n\n// å¨å±åéï¼è¡¨ç¤ºéå½çæ·±åº¦ã\nint depth = 0;\n\nint f(int n) {\n  ++depth;\n  if (depth > 1000) throw exception;\n  \n  if (n == 1) return 1;\n  return f(n-1) + 1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä½è¿ç§åæ³å¹¶ä¸è½å®å¨è§£å³é®é¢ï¼å ä¸ºæå¤§åè®¸çéå½æ·±åº¦è·å½åçº¿ç¨å©ä½çæ ç©ºé´å¤§å°æå³ï¼äºåæ æ³è®¡ç®ãå¦æå®æ¶è®¡ç®ï¼ä»£ç åä¼è¿äºå¤æï¼å½±åå°ä»£ç çå¯è¯»æ§ãæä»¥å¦ææå¤§æ·±åº¦æ¯è¾å°ï¼æ¯å¦10ã50ï¼è¿å¯ä»¥ç¨è¿ç§æ¹æ³ï¼å¦åè¿ç§æ¹æ³ä¸æ¯å¾å®ç¨ã\n\n\n# éå½ä»£ç è¦è­¦æéå¤è®¡ç®\n\nä½¿ç¨éå½æ¶è¦æ³¨æéå¤è®¡ç®çé®é¢ï¼æ¯å¦æ¡ä¾äºï¼æä»¬ææ´ä¸ªéå½è¿ç¨åè§£ä¸ä¸ï¼é£å°±æ¯è¿æ ·çï¼\n\n\n\nä»å¾ä¸­ï¼æä»¬å¯ä»¥çå°ï¼æ³è¦è®¡ç®f(5)ï¼éè¦åè®¡ç®f(4)åf(3)ï¼èè®¡ç®f(4)è¿éè¦è®¡ç®f(3)ï¼å æ­¤ï¼f(3)å°±è¢«è®¡ç®äºå¾å¤æ¬¡ï¼è¿å°±æ¯éå¤è®¡ç®çé®é¢ã\n\nä¸ºäºè§£å³éå¤è®¡ç®ï¼æä»¬å¯ä»¥éè¿æ£åè¡¨ç­æ°æ®ç»ææ¥ä¿å­å·²ç»æ±è§£è¿çf(k)ãå½éå½è°ç¨å°f(k)æ¶ï¼åçä¸æ¯å¦å·²ç»æ±è§£è¿äºãå¦ææ¯ï¼åç´æ¥ä»æ£åè¡¨ä¸­åå¼è¿åï¼å°±ä¸åéå¤è®¡ç®äºã\n\nå¦ä¸æè·¯ï¼æ¹é ä¸åæå°ä»£ç ï¼\n\npublic int f(int n) {\n  if (n == 1) return 1;\n  if (n == 2) return 2;\n  \n  // hasSolvedList å¯ä»¥çè§£æä¸ä¸ª Mapï¼key æ¯ nï¼value æ¯ f(n)\n  if (hasSolvedList.containsKey(n)) {\n    return hasSovledList.get(n);\n  }\n  \n  int ret = f(n-1) + f(n-2);\n  hasSovledList.put(n, ret);\n  return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\né¤äºå æ æº¢åºãéå¤è®¡ç®è¿ä¸¤ä¸ªå¸¸è§çé®é¢ï¼éå½ä»£ç è¿æå¾å¤å«çé®é¢ã\n\nå¨æ¶é´æçä¸ï¼éå½ä»£ç éå¤äºå¾å¤å½æ°è°ç¨ï¼å½è¿äºå½æ°è°ç¨çæ°éè¾å¤§æ¶ï¼å°±ä¼ç§¯ç´¯æä¸ä¸ªå¯è§çæ¶é´ææ¬ãå¨ç©ºé´å¤æåº¦ä¸ï¼å ä¸ºéå½è°ç¨ä¸æ¬¡å°±ä¼å¨åå­æ ä¸­ä¿å­ä¸æ¬¡ç°åºæ°æ®ï¼æä»¥å¨åæéå½ä»£ç ç©ºé´å¤æåº¦æ¶ï¼éè¦é¢å¤èèè¿é¨åçå¼éï¼æ¯å¦åé¢çæ¡ä¾ä¸çéå½ä»£ç ï¼ç©ºé´å¤æåº¦å¹¶ä¸æ¯O(1)ï¼èæ¯O(n)ã\n\n\n# æä¹å°éå½ä»£ç æ¹åä¸ºééå½ä»£ç \n\néå½æå©æå¼ï¼å©æ¯éå½ä»£ç çè¡¨è¾¾åå¾å¼ºï¼åèµ·æ¥éå¸¸ç®æ´ï¼å¼å°±æ¯ç©ºé´å¤æåº¦é«ãæå æ æº¢åºçé£é©ãå­å¨éå¤è®¡ç®ãè¿å¤çå½æ°è°ç¨ä¼èæ¶è¾å¤ç­é®é¢ãæä»¥å¨å¼åä¸­ï¼æä»¬è¦æ ¹æ®å®éæåµæ¥éæ©æ¯å¦éè¦ç¨éå½çæ¹å¼æ¥å®ç°ã\n\næä»¥åæçéå½æ¡ä¾ä»£ç å¯ä»¥åå¦ä¸ä¿®æ¹ï¼\n\n//æ¡ä¾ä¸\nint f(int n) {\n  int ret = 1;\n  for (int i = 2; i <= n; ++i) {\n    ret = ret + 1;\n  }\n  return ret;\n}\n//æ¡ä¾äº\nint f(int n) {\n  if (n == 1) return 1;\n  if (n == 2) return 2;\n  \n  int ret = 0;\n  int pre = 2;\n  int prepre = 1;\n  for (int i = 3; i <= n; ++i) {\n    ret = pre + prepre;\n    prepre = pre;\n    pre = ret;\n  }\n  return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nç¬¼ç»å°è®²ï¼ææçéå½ä»£ç é½å¯ä»¥æ¹ä¸ºè¿ç§è¿­ä»£å¾ªç¯çééå½ä»£ç ã\n\n> å ä¸ºéå½æ¬èº«å°±æ¯åå©æ æ¥å®ç°çï¼åªä¸è¿æä»¬ä½¿ç¨çæ æ¯ç³»ç»æèèææºæ¬èº«æä¾çï¼æä»¬æ²¡ææç¥ç½¢äºãå¦ææä»¬èªå·±å¨åå­å ä¸å®ç°æ ï¼æå¨æ¨¡æå¥æ ãåºæ è¿ç¨ï¼è¿æ ·ä»»ä½éå½ä»£ç é½å¯ä»¥æ¹åæçä¸å»ä¸æ¯éå½ä»£ç çæ ·å­ã\n> \n> ä½æ¯è¿ç§æè·¯å®éä¸æ¯å°éå½æ¹ä¸ºäºâæå¨âéå½ï¼æ¬è´¨å¹¶æ²¡æåï¼èä¸ä¹å¹¶æ²¡æè§£å³åé¢è®²å°çæäºé®é¢ï¼å¾å¢äºå®ç°çå¤æåº¦ã\n\n\n# è§£ç­å¼ç¯\n\nå¦ä½æ¾å°âæç»æ¨èäººâï¼è§£å³æ¹æ¡ï¼\n\nlong findRootReferrerId(long actorId) {\n  Long referrerId = select referrer_id from [table] where actor_id = actorId;\n  if (referrerId == null) return actorId;\n  return findRootReferrerId(referrerId);\n}\n\n\n1\n2\n3\n4\n5\n\n\nä»¥ä¸ä¸è¡ä»£ç å°±æå®äºï¼ä¸è¿å¨å®éé¡¹ç®ä¸­ï¼å¯è½ä¼åºç°ä¸¤ä¸ªé®é¢ã\n\n 1. å¦æéå½å¾æ·±ï¼å¯è½ä¼æå æ æº¢åºçé®é¢ã\n\n 2. å¦ææ°æ®åºå­å¨èæ°æ®ï¼å¯è½ä¼åºç°æ ééå½çé®é¢ã\n    \n    æ¯å¦demoç¯å¢ä¸æ°æ®åºä¸­ï¼æµè¯å·¥ç¨å¸ä¸ºäºæ¹ä¾¿æµè¯ï¼ä¼äººä¸ºå°æå¥ä¸äºæ°æ®ï¼å°±ä¼åºç°èæ°æ®ãå¦æAçæ¨èäººæ¯Bï¼Bçæ¨èäººæ¯Cï¼Cçæ¨èäººæ¯Aï¼è¿æ ·å°±ä¼åçæ­»å¾ªç¯ã\n\nå¦ä½è§£å³ï¼\n\nç¬¬ä¸ä¸ªé®é¢å¯ä»¥ç¨åé¢è§£ç­è¿çéå¶éå½æ·±åº¦æ¥è§£å³ã\n\nç¬¬äºä¸ªé®é¢ä¹å¯ä»¥ç¨éå¶éå½æ·±åº¦æ¥è§£å³ï¼ä½è¿æä¸ä¸ªé«çº§çå¤çåæ³ï¼å°±æ¯èªå¨æ£æµA->B->C->Aè¿ç§âç¯âå­å¨ãå¦ä½èªå¨æ£æµï¼åé¢åè°ã\n\n\n# åå®¹å°ç»\n\néå½æ¯ä¸ç§éå¸¸é«æãç®æ´çç¼ç æå·§ãåªè¦æ¯æ»¡è¶³âä¸ä¸ªæ¡ä»¶âçé®é¢å°±å¯ä»¥éè¿éå½ä»£ç æ¥è§£å³ã\n\nä¸è¿éå½ä»£ç ä¹æ¯è¾é¾åãé¾çè§£ãç¼åéå½ä»£ç çå³é®å°±æ¯ä¸è¦æèªå·±ç»è¿å»ï¼æ­£ç¡®å§¿å¿æ¯ååºéæ¨å¬å¼ï¼æ¾åºç»æ­¢æ¡ä»¶ï¼ç¶ååç¿»è¯æéå½ä»£ç ã\n\néå½ä»£ç è½ç¶ç®æ´é«æï¼ä½æ¯ï¼éå½ä»£ç ä¹æå¾å¤å¼ç«¯ãæ¯å¦ï¼å æ æº¢åºãéå¤è®¡ç®ãå½æ°è°ç¨èæ¶å¤ãç©ºé´å¤æåº¦é«ç­ï¼æä»¥ï¼å¨ç¼åéå½ä»£ç çæ¶åï¼ä¸å®è¦æ§å¶å¥½è¿äºå¯ä½ç¨ã\n\n\n# æ¡ä¾\n\n\n# æ¡ä¾1ï¼ææ³¢é£å¥æ°å\n\n> ææ³¢é£å¥æ°åçæ¯è¿æ ·ä¸ä¸ªæ°åï¼1ã1ã2ã3ã5ã8ã13ã21ã34....ï¼å³ç¬¬ä¸é¡¹ f(1) = 1,ç¬¬äºé¡¹ f(2) = 1.....,ç¬¬ n é¡¹ç®ä¸º f(n) = f(n-1) + f(n-2)ãæ±ç¬¬ n é¡¹çå¼æ¯å¤å°ã\n\n1ãç¬¬ä¸éå½å½æ°åè½\n\nåè®¾ f(n) çåè½æ¯æ±ç¬¬ n é¡¹çå¼ï¼ä»£ç å¦ä¸ï¼\n\nint f(int n){\n    \n}\n\n\n1\n2\n3\n\n\n2ãæ¾åºéå½ç»æçæ¡ä»¶\n\næ¾ç¶ï¼å½ n = 1 æè n = 2 ,æä»¬å¯ä»¥è½»æçç¥éç»æ f(1) = f(2) = 1ãæä»¥éå½ç»ææ¡ä»¶å¯ä»¥ä¸º n <= 2ãä»£ç å¦ä¸ï¼\n\nint f(int n){\n    if(n <= 2){\n        return 1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸è¦ç´ ï¼æ¾åºå½æ°çç­ä»·å³ç³»å¼\n\né¢ç®å·²ç»æç­ä»·å³ç³»å¼ç»æä»¬äºï¼æä»¥æä»¬å¾å®¹æå°±è½å¤ç¥é f(n) = f(n-1) + f(n-2)ãæè¯´è¿ï¼ç­ä»·å³ç³»å¼æ¯æé¾æ¾çä¸ä¸ªï¼èè¿ä¸ªé¢ç®å´æå³ç³»å¼ç»æä»¬äºï¼è¿ä¹å¤ªå®¹æï¼å¥½å§ï¼æè¿æ¯ä¸ºäºå¼é¡¾å ä¹é¶åºç¡çè¯»èã\n\næä»¥æç»ä»£ç å¦ä¸ï¼\n\nint f(int n){\n    // 1.ååéå½ç»ææ¡ä»¶\n    if(n <= 2){\n        return 1;\n    }\n    // 2.æ¥çåç­ä»·å³ç³»å¼\n    return f(n-1) + f(n - 2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næå®ï¼æ¯ä¸æ¯å¾ç®åï¼\n\n> é¶åºç¡çå¯è½è¿æ¯ä¸å¤§æï¼æ²¡å³ç³»ï¼ä¹åæ¢æ¢æç§è¿ä¸ªæ¨¡å¼ç»ä¹ ï¼å¥½å§ï¼æå¤§ä½¬å¯è½å¨åæ§½å¤ªç®åäºã\n\n\n# æ¡ä¾2ï¼å°éèè·³å°é¶\n\n> ä¸åªéèä¸æ¬¡å¯ä»¥è·³ä¸1çº§å°é¶ï¼ä¹å¯ä»¥è·³ä¸2çº§ãæ±è¯¥éèè·³ä¸ä¸ä¸ªnçº§çå°é¶æ»å±æå¤å°ç§è·³æ³ã\n\n1ãç¬¬ä¸éå½å½æ°åè½\n\nåè®¾ f(n) çåè½æ¯æ±éèè·³ä¸ä¸ä¸ªnçº§çå°é¶æ»å±æå¤å°ç§è·³æ³ï¼ä»£ç å¦ä¸ï¼\n\nint f(int n){\n    \n}\n\n\n1\n2\n3\n\n\n2ãæ¾åºéå½ç»æçæ¡ä»¶\n\næè¯´äºï¼æ±éå½ç»æçæ¡ä»¶ï¼ä½ ç´æ¥æ n åç¼©å°å¾å°å¾å°å°±è¡äºï¼å ä¸º n è¶å°ï¼æä»¬å°±è¶å®¹æç´è§çç®åº f(n) çå¤å°ï¼æä»¥å½ n = 1æ¶ï¼ä½ ç¥é f(1) ä¸ºå¤å°å§ï¼å¤ç´è§å§ï¼å³ f(1) = 1ãä»£ç å¦ä¸ï¼\n\nint f(int n){\n    if(n == 1){\n        return 1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸è¦ç´ ï¼æ¾åºå½æ°çç­ä»·å³ç³»å¼\n\næ¯æ¬¡è·³çæ¶åï¼å°éèå¯ä»¥è·³ä¸ä¸ªå°é¶ï¼ä¹å¯ä»¥è·³ä¸¤ä¸ªå°é¶ï¼ä¹å°±æ¯è¯´ï¼æ¯æ¬¡è·³çæ¶åï¼å°éèæä¸¤ç§è·³æ³ã\n\nç¬¬ä¸ç§è·³æ³ï¼ç¬¬ä¸æ¬¡æè·³äºä¸ä¸ªå°é¶ï¼é£ä¹è¿å©ä¸n-1ä¸ªå°é¶è¿æ²¡è·³ï¼å©ä¸çn-1ä¸ªå°é¶çè·³æ³æf(n-1)ç§ã\n\nç¬¬äºç§è·³æ³ï¼ç¬¬ä¸æ¬¡è·³äºä¸¤ä¸ªå°é¶ï¼é£ä¹è¿å©ä¸n-2ä¸ªå°é¶è¿æ²¡ï¼å©ä¸çn-2ä¸ªå°é¶çè·³æ³æf(n-2)ç§ã\n\næä»¥ï¼å°éèçå¨é¨è·³æ³å°±æ¯è¿ä¸¤ç§è·³æ³ä¹åäºï¼å³ f(n) = f(n-1) + f(n-2)ãè³æ­¤ï¼ç­ä»·å³ç³»å¼å°±æ±åºæ¥äºãäºæ¯ååºä»£ç ï¼\n\nint f(int n){\n    if(n == 1){\n        return 1;\n    }\n    ruturn f(n-1) + f(n-2);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¤§å®¶è§å¾ä¸é¢çä»£ç å¯¹ä¸å¯¹ï¼\n\nç­æ¯ä¸å¤§å¯¹ï¼å½ n = 2 æ¶ï¼æ¾ç¶ä¼æ f(2) = f(1) + f(0)ãæä»¬ç¥éï¼f(0) = 0ï¼æéçæ¯éå½ç»æï¼ä¸ç¨ç»§ç»­å¾ä¸è°ç¨çï¼ä½æä»¬ä¸é¢çä»£ç é»è¾ä¸­ï¼ä¼ç»§ç»­è°ç¨ f(0) = f(-1) + f(-2)ãè¿ä¼å¯¼è´æ éè°ç¨ï¼è¿å¥æ­»å¾ªç¯ã\n\nè¿ä¹æ¯æè¦åä½ ä»¬è¯´çï¼å³äºéå½ç»ææ¡ä»¶æ¯å¦å¤ä¸¥è°¨é®é¢ï¼æå¾å¤äººå¨ä½¿ç¨éå½çæ¶åï¼ç±äºç»ææ¡ä»¶ä¸å¤ä¸¥è°¨ï¼å¯¼è´åºç°æ­»å¾ªç¯ãä¹å°±æ¯è¯´ï¼å½æä»¬å¨ç¬¬äºæ­¥æ¾åºäºä¸ä¸ªéå½ç»ææ¡ä»¶çæ¶åï¼å¯ä»¥æç»ææ¡ä»¶åè¿ä»£ç ï¼ç¶åè¿è¡ç¬¬ä¸æ­¥ï¼ä½æ¯è¯·æ³¨æï¼å½æä»¬ç¬¬ä¸æ­¥æ¾åºç­ä»·å½æ°ä¹åï¼è¿å¾åè¿åå»ç¬¬äºæ­¥ï¼æ ¹æ®ç¬¬ä¸æ­¥å½æ°çè°ç¨å³ç³»ï¼ä¼ä¸ä¼åºç°ä¸äºæ¼æçç»ææ¡ä»¶ãå°±åä¸é¢ï¼f(n-2)è¿ä¸ªå½æ°çè°ç¨ï¼æå¯è½åºç° f(0) çæåµï¼å¯¼è´æ­»å¾ªç¯ï¼æä»¥æä»¬æå®è¡¥ä¸ãä»£ç å¦ä¸ï¼\n\nint f(int n){\n    //f(0) = 0,f(1) = 1ï¼ç­ä»·äº n<=1æ¶ï¼f(n) = nã\n    if(n <= 1){\n        return n;\n    }\n    ruturn f(n-1) + f(n-2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æå³éå½çä¸äºä¼åæè·¯\n\n1. èèæ¯å¦éå¤è®¡ç®\n\nåè¯ä½ å§ï¼å¦æä½ ä½¿ç¨éå½çæ¶åä¸è¿è¡ä¼åï¼æ¯æéå¸¸éå¸¸éå¸¸å¤çå­é®é¢è¢«éå¤è®¡ç®çã\n\n> å¥æ¯å­é®é¢ï¼ f(n-1),f(n-2)....å°±æ¯ f(n) çå­é®é¢äºã\n\nä¾å¦å¯¹äºæ¡ä¾2é£éé¢ï¼f(n) = f(n-1) + f(n-2)ãéå½è°ç¨çç¶æå¾å¦ä¸ï¼\n\n\n\nçå°æ²¡æï¼éå½è®¡ç®çæ¶åï¼éå¤è®¡ç®äºä¸¤æ¬¡ f(5)ï¼äºæ¬¡ f(4)ããããè¿æ¯éå¸¸ææçï¼n è¶å¤§ï¼éå¤è®¡ç®çå°±è¶å¤ï¼æä»¥æä»¬å¿é¡»è¿è¡ä¼åã\n\nå¦ä½ä¼åï¼ä¸è¬æä»¬å¯ä»¥ææä»¬è®¡ç®çç»æä¿è¯èµ·æ¥ï¼ä¾å¦æ f(4) çè®¡ç®ç»æä¿è¯èµ·æ¥ï¼å½åæ¬¡è¦è®¡ç® f(4) çæ¶åï¼æä»¬åå¤æ­ä¸ä¸ï¼ä¹åæ¯å¦è®¡ç®è¿ï¼å¦æè®¡ç®è¿ï¼ç´æ¥æ f(4) çç»æååºæ¥å°±å¯ä»¥äºï¼æ²¡æè®¡ç®è¿çè¯ï¼åéå½è®¡ç®ã\n\nç¨ä»ä¹ä¿å­å¢ï¼å¯ä»¥ç¨æ°ç»æè HashMap ä¿å­ï¼æä»¬ç¨æ°ç»æ¥ä¿å­æï¼æ n ä½ä¸ºæä»¬çæ°ç»ä¸æ ï¼f(n) ä½ä¸ºå¼ï¼ä¾å¦ arr[n] = f(n)ãf(n) è¿æ²¡æè®¡ç®è¿çæ¶åï¼æä»¬è®© arr[n] ç­äºä¸ä¸ªç¹æ®å¼ï¼ä¾å¦ arr[n] = -1ã\n\nå½æä»¬è¦å¤æ­çæ¶åï¼å¦æ arr[n] = -1ï¼åè¯æ f(n) æ²¡æè®¡ç®è¿ï¼å¦åï¼ f(n) å°±å·²ç»è®¡ç®è¿äºï¼ä¸ f(n) = arr[n]ãç´æ¥æå¼ååºæ¥å°±è¡äºãä»£ç å¦ä¸ï¼\n\n// æä»¬å®ç°åå® arr æ°ç»å·²ç»åå§åå¥½çäºã\nint f(int n){\n    if(n <= 1){\n        return n;\n    }\n    //åå¤æ­ææ²¡è®¡ç®è¿\n    if(arr[n] != -1){\n        //è®¡ç®è¿ï¼ç´æ¥è¿å\n        return arr[n];\n    }else{\n        // æ²¡æè®¡ç®è¿ï¼éå½è®¡ç®,å¹¶ä¸æç»æä¿å­å° arræ°ç»é\n        arr[n] = f(n-1) + f(n-1);\n        reutrn arr[n];\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä¹å°±æ¯è¯´ï¼ä½¿ç¨éå½çæ¶åï¼å¿è¦ é¡»è¦èèææ²¡æéå¤è®¡ç®ï¼å¦æéå¤è®¡ç®äºï¼ä¸å®è¦æè®¡ç®è¿çç¶æä¿å­èµ·æ¥ã\n\n2. èèæ¯å¦å¯ä»¥èªåºåä¸\n\nå¯¹äºéå½çé®é¢ï¼æä»¬ä¸è¬é½æ¯ä»ä¸å¾ä¸éå½çï¼ç´å°éå½å°æåºï¼åä¸å±ä¸å±çæå¼è¿åã\n\nä¸è¿ï¼ææ¶åå½ n æ¯è¾å¤§çæ¶åï¼ä¾å¦å½ n = 10000 æ¶ï¼é£ä¹å¿é¡»è¦å¾ä¸éå½10000å±ç´å° n <=1 æå°ç»ææ¢æ¢è¿åï¼å¦ænå¤ªå¤§çè¯ï¼å¯è½æ ç©ºé´ä¼ä¸å¤ç¨ã\n\nå¯¹äºè¿ç§æåµï¼å¶å®æä»¬æ¯å¯ä»¥èèèªåºåä¸çåæ³çãä¾å¦æç¥é\n\nf(1) = 1;\n\nf(2) = 2;\n\né£ä¹æä»¬å°±å¯ä»¥æ¨åº f(3) = f(2) + f(1) = 3ãä»èå¯ä»¥æ¨åºf(4),f(5)ç­ç´å°f(n)ãå æ­¤ï¼æä»¬å¯ä»¥èèä½¿ç¨èªåºåä¸çæ¹æ³æ¥åä»£éå½ï¼ä»£ç å¦ä¸ï¼\n\npublic int f(int n) {\n       if(n <= 2)\n           return n;\n       int f1 = 1;\n       int f2 = 2;\n       int sum = 0;\n\n       for (int i = 3; i <= n; i++) {\n           sum = f1 + f2;\n           f1 = f2;\n           f2 = sum;\n       }\n       return sum;\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¿ç§æ¹æ³ï¼å¶å®ä¹è¢«ç§°ä¹ä¸ºéæ¨ã",normalizedContent:"# åºç¡ç¯ä¹éå½\n\n> ç°å¨å¾å¤ app é½æè¿ä¸ªæ¨èæ³¨åè¿ä½£éåè½ãè¿ä¸ªåè½ä¸­ï¼ç¨æ· a æ¨èç¨æ· b æ¥æ³¨åï¼ç¨æ· b åæ¨èäºç¨æ· c æ¥æ³¨åãæä»¬å¯ä»¥è¯´ï¼ç¨æ· c çâæç»æ¨èäººâä¸ºç¨æ· aï¼ç¨æ· b çâæç»æ¨èäººâä¹ä¸ºç¨æ· aï¼èç¨æ· a æ²¡æâæç»æ¨èäººâãåºäºæ­¤ï¼å¦ä½æ¥æ¾æå®ç¨æ·çâæç»æ¨èäººâï¼\n\n\n# å¦ä½çè§£éå½\n\néå½æ¯ä¸ç§åºç¨éå¸¸å¹¿æ³çç®æ³æèç¼ç¨æå·§ãå¾å¤æ°æ®ç»æåç®æ³çç¼ç å®ç°é½è¦ç¨å°éå½ï¼æ¯å¦dfsæ·±åº¦ä¼åæç´¢ãåä¸­ååºäºåæ éåç­ç­ãæä»¥ææéå½å¯¹å­¦ä¹ ä¸äºå¤æçæ°æ®ç»æåç®æ³æ¯éå¸¸æå¿è¦çã\n\næ¡ä¾ï¼å¨æ«å¸¦çå¥³æåå»çµå½±é¢ççµå½±ï¼å¥³æåé®ï¼å±ä»¬ç°å¨åå¨ç¬¬å æåï¼çµå½±é¢éé¢å¤ªé»äºï¼çä¸æ¸ï¼æ²¡æ³æ°ï¼ç°å¨æä¹åï¼\n\näºæ¯ä½ å°±é®åé¢ä¸æçäººä»æ¯ç¬¬å æï¼ä½ æ³åªè¦å¨ä»çæ°å­ä¸å ä¸ï¼å°±ç¥éèªå·±å¨åªä¸æäºãä½æ¯ï¼åé¢çäººä¹çä¸æ¸åï¼æä»¥ä»ä¹é®ä»åé¢çäººãå°±è¿æ ·ä¸æä¸æå¾åé®ï¼ç´å°é®å°ç¬¬ä¸æçäººï¼è¯´æå¨ç¬¬ä¸æï¼ç¶ååè¿æ ·ä¸æä¸æåææ°å­ä¼ åæ¥ãç´å°ä½ åé¢çäººåè¯ä½ ä»å¨åªä¸æï¼äºæ¯ä½ å°±ç¥éç­æ¡äºã\n\nè¿å°±æ¯ä¸ä¸ªéå¸¸æ åçéå½æ±è§£é®é¢çåè§£è¿ç¨ï¼å»çè¿ç¨å«âéâï¼åæ¥çè¿ç¨å«âå½âãåºæ¬ä¸ï¼ææçéå½é®é¢é½å¯ä»¥ç¨éæ¨å¬å¼æ¥è¡¨ç¤ºãæ¯å¦ä¸é¢çæ¡ä¾æä»¬ç¨éæ¨å¬å¼å°å®è¡¨ç¤ºåºæ¥å°±æ¯è¿æ ·ï¼\n\nf(n) = f(n-1) + 1 å¶ä¸­ f(1) = 1\n\n\n1\n\n\nf(n)è¡¨ç¤ºæ³ç¥éèªå·±å¨åªä¸æï¼f(n-1)è¡¨ç¤ºåé¢ä¸ææå¨çææ°ï¼f(1) = 1è¡¨ç¤ºç¬¬ä¸æçäººç¥éèªå·±å¨ç¬¬ä¸æãæäºè¿ä¸ªéæ¨å¬å¼ï¼æä»¬å°±å¯ä»¥å¾è½»æ¾å°å°å®æ¹ä¸ºéå½ä»£ç ï¼\n\nint f(int n) {\n  if (n == 1) return 1;\n  return f(n - 1) + 1;\n}\n\n\n1\n2\n3\n4\n\n\n\n# éå½éè¦æ»¡è¶³çä¸ä¸ªæ¡ä»¶\n\nåªè¦åæ¶æ»¡è¶³ä»¥ä¸ä¸ä¸ªæ¡ä»¶ï¼å°±å¯ä»¥ç¨éå½æ¥è§£å³ã\n\n 1. ä¸ä¸ªé®é¢çè§£å¯ä»¥åè§£ä¸ºå ä¸ªå­é®é¢çè§£\n    \n    ä½ä¸ºå­é®é¢ï¼å­é®é¢å°±æ¯æ°æ®è§æ¨¡æ´å°çé®é¢ãæ¯å¦åé¢çæ¡ä¾ï¼è¦ç¥éâèªå·±å¨åªä¸æâï¼å¯ä»¥åè§£ä¸ºâåä¸æçäººå¨åªä¸æâè¿æ ·çä¸ä¸ªå­é®é¢ã\n\n 2. è¿ä¸ªé®é¢ä¸åè§£ä¹åçå­é®é¢ï¼é¤äºæ°æ®è§æ¨¡ä¸åï¼æ±è§£æè·¯å®å¨ä¸æ ·\n    \n    å¦æ¡ä¾æç¤ºï¼æ±è§£âèªå·±å¨åªä¸æâçæè·¯ï¼ååé¢ä¸æäººæ±è§£âèªå·±å¨åªä¸æâçæè·¯æ¯ä¸æ¨¡ä¸æ ·çã\n\n 3. å­å¨éå½ç»æ­¢æ¡ä»¶\n    \n    æé®é¢åè§£ä¸ºå­é®é¢ï¼æå­é®é¢ååè§£ä¸ºå­å­é®é¢ï¼ä¸å±ä¸å±åè§£ä¸å»ï¼ä¸è½å­å¨æ éå¾ªç¯ï¼è¿å°±éè¦æç»æ­¢æ¡ä»¶ãåé¢çæ¡ä¾ï¼ç¬¬ä¸æçäººç¥éèªå·±å¨åªä¸æï¼ä¸éè¦åé®å«äººï¼f(1) = 1å°±æ¯éå½çç»æ­¢æ¡ä»¶ã\n\n\n# ææ ·ç¼åéå½ä»£ç \n\nåéå½ä»£ç æå³é®çæ¯ååºéæ¨å¬å¼ï¼æ¾å°ç»æ­¢æ¡ä»¶ï¼å©ä¸å°±æ¯å°éæ¨å¬å¼è½¬åä¸ºä»£ç ã\n\næ¡ä¾ï¼åå¦è¿éæ n ä¸ªå°é¶ï¼æ¯æ¬¡ä½ å¯ä»¥è·¨ 1 ä¸ªå°é¶æè 2 ä¸ªå°é¶ï¼è¯·é®èµ°è¿ n ä¸ªå°é¶æå¤å°ç§èµ°æ³ï¼å¦ææ 7 ä¸ªå°é¶ï¼ä½ å¯ä»¥ 2ï¼2ï¼2ï¼1 è¿æ ·å­ä¸å»ï¼ä¹å¯ä»¥ 1ï¼2ï¼1ï¼1ï¼2 è¿æ ·å­ä¸å»ï¼æ»ä¹èµ°æ³æå¾å¤ï¼é£å¦ä½ç¨ç¼ç¨æ±å¾æ»å±æå¤å°ç§èµ°æ³å¢ï¼\n\næä»¬å¯ä»¥æ ¹æ®ç¬¬ä¸æ­¥çèµ°æ³æææèµ°æ³åä¸ºä¸¤ç±»ï¼ç¬¬ä¸ç±»æ¯ç¬¬ä¸æ­¥èµ°äº1ä¸ªå°é¶ï¼å¦ä¸ç±»æ¯ç¬¬ä¸æ­¥èµ°äº2ä¸ªå°é¶ãæä»¥nä¸ªå°é¶çèµ°æ³å°±ç­äºåèµ°1é¶åï¼n-1ä¸ªå°é¶çèµ°æ³ å ä¸åèµ°2é¶åï¼n-2ä¸ªå°é¶çèµ°æ³ï¼ç¨å¬å¼è¡¨ç¤ºï¼\n\nf(n) = f(n-1) + f(n-2)\n\n\n1\n\n\nåæ¥çä¸ç»æ­¢æ¡ä»¶ãå½æä¸ä¸ªå°é¶æ¶ï¼æä»¬ä¸éè¦åç»§ç»­éå½ï¼å°±åªæä¸ç§èµ°æ³ãæä»¥f(1) = 1ãè¿ä¸ªéå½ç»æ­¢æ¡ä»¶è¶³å¤åï¼æä»¬è¯è¯ç¨n = 2ï¼ n = 3è¿æ ·æ¯è¾å°çæ°å®éªä¸ä¸ã\n\nn = 2æ¶ï¼f(2) = f(1) + f(0)ãå¦æéå½ç»æ­¢æ¡ä»¶åªæä¸ä¸ªf(1) = 1ï¼é£f(2)å°±æ æ³æ±è§£äºãæä»¥é¤äºf(1) = 1è¿ä¸ä¸ªéå½ç»æ­¢æ¡ä»¶å¤ï¼è¿è¦æf(0) = 1ï¼è¡¨ç¤ºèµ°0ä¸ªå°é¶æä¸ç§èµ°æ³ï¼ä¸è¿è¿æ ·çèµ·æ¥ä¸ç¬¦åæ­£å¸¸çé»è¾æç»´ãæä»¥ï¼æä»¬å¯ä»¥æf(2) = 2ä½ä¸ºä¸ç§ç»æ­¢æ¡ä»¶ï¼è¡¨ç¤ºèµ°2ä¸ªå°é¶ï¼åªæä¸¤ç§èµ°æ³ï¼ä¸æ­¥èµ°å®æèåä¸¤æ­¥èµ°ã\n\næä»¥ï¼éå½ç»æ­¢æ¡ä»¶å°±æ¯f(1) = 1ï¼f(2) = 2ãè¿ä¸ªæ¶åï¼å¯ä»¥åæ¿n = 3ï¼n = 4æ¥éªè¯ä¸ï¼è¿ä¸ªç»æ­¢æ¡ä»¶æ¯å¦è¶³å¤å¹¶ä¸æ­£ç¡®ã\n\næä»¬æéå½ç»æ­¢æ¡ä»¶åååå¾å°çéæ¨å¬å¼æ¾å¨ä¸èµ·å°±æ¯è¿æ ·ï¼\n\nf(1) = 1;\nf(2) = 2;\nf(n) = f(n - 1) + f(n - 2);\n\n\n1\n2\n3\n\n\næç»çéå½ä»£ç å°±æ¯è¿æ ·ï¼\n\nint f(int n) {\n  if (n == 1) return 1;\n  if (n == 2) return 2;\n  return f(n -1) + f(n - 2);\n}\n\n\n1\n2\n3\n4\n5\n\n\nåéå½ä»£ç çå³é®å°±æ¯æ¾å°å¦ä½å°å¤§é®é¢åè§£ä¸ºå°é®é¢çè§å¾ï¼è¯·æ±åºäºæ­¤ååºéæ¨å¬å¼ï¼ç¶ååæ¨æ²ç»æ­¢æ¡ä»¶ï¼æåå°éæ¨å¬å¼åç»æ­¢æ¡ä»¶ç¿»è¯æä»£ç ã\n\n> å½æä»¬é¢å¯¹ä¸ä¸ªé®é¢éè¦åè§£ä¸ºå¤ä¸ªå­é®é¢çæ¶åï¼éå½ä»£ç å¾å¾æ²¡é£ä¹å¥½çè§£ï¼æ¯å¦ç¬¬äºä¸ªæ¡ä¾ï¼äººèå ä¹æ²¡åæ³ææ´ä¸ªâéâåâå½âçè¿ç¨ä¸æ­¥ä¸æ­¥é½æ³æ¸æ¥ã\n> \n> è®¡ç®æºæé¿åéå¤çäºæï¼æä»¥éå½æ­£ç¬¦åå®çèå£ãèæä»¬äººèæ´åæ¬¢å¹³éºç´åçæç»´æ¹å¼ãå½æä»¬çå°éå½æ¶ï¼æä»¬æ»æ³æéå½å¹³éºå±å¼ï¼èå­éå°±ä¼å¾ªç¯ï¼ä¸å±ä¸å±å¾ä¸è°ï¼ç¶ååä¸å±ä¸å±è¿åï¼è¯å¾æ³ææ¸æ¥è®¡ç®æºæ¯ä¸æ­¥é½æ¯æä¹æ§è¡çï¼è¿æ ·å°±å¾å®¹æè¢«ç»è¿å»ã\n> \n> å¯¹äºéå½ä»£ç ï¼è¿ç§è¯å¾æ³æ¸æ¥æ´ä¸ªéåå½è¿ç¨çåæ³ï¼å®éä¸æ¯è¿å¥äºä¸ä¸ªæç»´è¯¯åºãå¾å¤æ¶åï¼æä»¬çè§£èµ·æ¥æ¯è¾ååï¼ä¸»è¦åå å°±æ¯èªå·±ç»èªå·±å¶é äºè¿ç§çè§£éç¢ãé£æ­£ç¡®çæç»´æ¹å¼åºè¯¥æ¯ææ ·çå¢ï¼\n> \n> å¦æä¸ä¸ªé®é¢ a å¯ä»¥åè§£ä¸ºè¥å¹²å­é®é¢ bãcãdï¼å¯ä»¥åè®¾å­é®é¢ bãcãd å·²ç»è§£å³ï¼å¨æ­¤åºç¡ä¸æèå¦ä½è§£å³é®é¢ aãèä¸ï¼åªéè¦æèé®é¢ a ä¸å­é®é¢ bãcãd ä¸¤å±ä¹é´çå³ç³»å³å¯ï¼ä¸éè¦ä¸å±ä¸å±å¾ä¸æèå­é®é¢ä¸å­å­é®é¢ï¼å­å­é®é¢ä¸å­å­å­é®é¢ä¹é´çå³ç³»ãå±è½æéå½ç»èï¼è¿æ ·å­çè§£èµ·æ¥å°±ç®åå¤äºã\n\næä»¥ï¼ç¼åéå½ä»£ç çå³é®æ¯ï¼åªè¦éå°éå½ï¼æä»¬å°±æå®æ½è±¡æä¸ä¸ªéæ¨å¬å¼ï¼ä¸ç¨æ³ä¸å±å±çè°ç¨å³ç³»ï¼ä¸è¦è¯å¾ç¨äººèå»åè§£éå½çæ¯ä¸ªæ­¥éª¤ã\n\n\n# éå½ä»£ç è¦è­¦æå æ æº¢åº\n\nå¨å®éå¼åä¸­ï¼ç¼åéå½ä»£ç æä»¬éå¸¸ä¼éå°å¾å¤é®é¢ï¼æ¯å¦å æ æº¢åºãèå æ æº¢åºä¼é æç³»ç»æ§å´©æºï¼åæéå¸¸ä¸¥éãä¸ºä»ä¹éå½ä»£ç å®¹æé æå æ æº¢åºå¢ï¼\n\næä»¬ç¥éå¨å½æ°è°ç¨æ¶ï¼ä¼ä½¿ç¨æ æ¥ä¿å­ä¸´æ¶åéãæ¯è°ç¨ä¸ä¸ªå½æ°ï¼é½ä¼å°ä¸´æ¶åéå°è£ä¸ºæ å¸§åå¥åå­æ ï¼ç­å½æ°æ§è¡å®æè¿åæ¶ï¼æåºæ ãç³»ç»æ æèèææºæ ç©ºé´ä¸è¬é½ä¸å¤§ãå¦æéå½æ±è§£çæ°æ®è§æ¨¡å¾å¤§ï¼è°ç¨å±æ¬¡å¾æ·±ï¼ä¸ç´åå¥æ ï¼å°±ä¼æå æ æº¢åºçé£é©ï¼åºç°java.lang.stackoverflowerrorã\n\nå¦ä½é¿ååºç°å æ æº¢åºï¼\n\nå¯ä»¥éè¿å¨ä»£ç ä¸­éå¶éå½è°ç¨çæå¤§æ·±åº¦çæ¹å¼æ¥è§£å³è¿ä¸ªé®é¢ãéå½è°ç¨è¶è¿ä¸å®æ·±åº¦(æ¯å¦1000)ä¹åï¼æä»¬å°±ä¸åç»§ç»­å¾ä¸éå½äºï¼ç´æ¥è¿åæ¥éãæ¯å¦åé¢çµå½±é¢çæ¡ä¾ï¼æ¹é åçä¼ªä»£ç å¦ä¸ï¼\n\n// å¨å±åéï¼è¡¨ç¤ºéå½çæ·±åº¦ã\nint depth = 0;\n\nint f(int n) {\n  ++depth;\n  if (depth > 1000) throw exception;\n  \n  if (n == 1) return 1;\n  return f(n-1) + 1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä½è¿ç§åæ³å¹¶ä¸è½å®å¨è§£å³é®é¢ï¼å ä¸ºæå¤§åè®¸çéå½æ·±åº¦è·å½åçº¿ç¨å©ä½çæ ç©ºé´å¤§å°æå³ï¼äºåæ æ³è®¡ç®ãå¦æå®æ¶è®¡ç®ï¼ä»£ç åä¼è¿äºå¤æï¼å½±åå°ä»£ç çå¯è¯»æ§ãæä»¥å¦ææå¤§æ·±åº¦æ¯è¾å°ï¼æ¯å¦10ã50ï¼è¿å¯ä»¥ç¨è¿ç§æ¹æ³ï¼å¦åè¿ç§æ¹æ³ä¸æ¯å¾å®ç¨ã\n\n\n# éå½ä»£ç è¦è­¦æéå¤è®¡ç®\n\nä½¿ç¨éå½æ¶è¦æ³¨æéå¤è®¡ç®çé®é¢ï¼æ¯å¦æ¡ä¾äºï¼æä»¬ææ´ä¸ªéå½è¿ç¨åè§£ä¸ä¸ï¼é£å°±æ¯è¿æ ·çï¼\n\n\n\nä»å¾ä¸­ï¼æä»¬å¯ä»¥çå°ï¼æ³è¦è®¡ç®f(5)ï¼éè¦åè®¡ç®f(4)åf(3)ï¼èè®¡ç®f(4)è¿éè¦è®¡ç®f(3)ï¼å æ­¤ï¼f(3)å°±è¢«è®¡ç®äºå¾å¤æ¬¡ï¼è¿å°±æ¯éå¤è®¡ç®çé®é¢ã\n\nä¸ºäºè§£å³éå¤è®¡ç®ï¼æä»¬å¯ä»¥éè¿æ£åè¡¨ç­æ°æ®ç»ææ¥ä¿å­å·²ç»æ±è§£è¿çf(k)ãå½éå½è°ç¨å°f(k)æ¶ï¼åçä¸æ¯å¦å·²ç»æ±è§£è¿äºãå¦ææ¯ï¼åç´æ¥ä»æ£åè¡¨ä¸­åå¼è¿åï¼å°±ä¸åéå¤è®¡ç®äºã\n\nå¦ä¸æè·¯ï¼æ¹é ä¸åæå°ä»£ç ï¼\n\npublic int f(int n) {\n  if (n == 1) return 1;\n  if (n == 2) return 2;\n  \n  // hassolvedlist å¯ä»¥çè§£æä¸ä¸ª mapï¼key æ¯ nï¼value æ¯ f(n)\n  if (hassolvedlist.containskey(n)) {\n    return hassovledlist.get(n);\n  }\n  \n  int ret = f(n-1) + f(n-2);\n  hassovledlist.put(n, ret);\n  return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\né¤äºå æ æº¢åºãéå¤è®¡ç®è¿ä¸¤ä¸ªå¸¸è§çé®é¢ï¼éå½ä»£ç è¿æå¾å¤å«çé®é¢ã\n\nå¨æ¶é´æçä¸ï¼éå½ä»£ç éå¤äºå¾å¤å½æ°è°ç¨ï¼å½è¿äºå½æ°è°ç¨çæ°éè¾å¤§æ¶ï¼å°±ä¼ç§¯ç´¯æä¸ä¸ªå¯è§çæ¶é´ææ¬ãå¨ç©ºé´å¤æåº¦ä¸ï¼å ä¸ºéå½è°ç¨ä¸æ¬¡å°±ä¼å¨åå­æ ä¸­ä¿å­ä¸æ¬¡ç°åºæ°æ®ï¼æä»¥å¨åæéå½ä»£ç ç©ºé´å¤æåº¦æ¶ï¼éè¦é¢å¤èèè¿é¨åçå¼éï¼æ¯å¦åé¢çæ¡ä¾ä¸çéå½ä»£ç ï¼ç©ºé´å¤æåº¦å¹¶ä¸æ¯o(1)ï¼èæ¯o(n)ã\n\n\n# æä¹å°éå½ä»£ç æ¹åä¸ºééå½ä»£ç \n\néå½æå©æå¼ï¼å©æ¯éå½ä»£ç çè¡¨è¾¾åå¾å¼ºï¼åèµ·æ¥éå¸¸ç®æ´ï¼å¼å°±æ¯ç©ºé´å¤æåº¦é«ãæå æ æº¢åºçé£é©ãå­å¨éå¤è®¡ç®ãè¿å¤çå½æ°è°ç¨ä¼èæ¶è¾å¤ç­é®é¢ãæä»¥å¨å¼åä¸­ï¼æä»¬è¦æ ¹æ®å®éæåµæ¥éæ©æ¯å¦éè¦ç¨éå½çæ¹å¼æ¥å®ç°ã\n\næä»¥åæçéå½æ¡ä¾ä»£ç å¯ä»¥åå¦ä¸ä¿®æ¹ï¼\n\n//æ¡ä¾ä¸\nint f(int n) {\n  int ret = 1;\n  for (int i = 2; i <= n; ++i) {\n    ret = ret + 1;\n  }\n  return ret;\n}\n//æ¡ä¾äº\nint f(int n) {\n  if (n == 1) return 1;\n  if (n == 2) return 2;\n  \n  int ret = 0;\n  int pre = 2;\n  int prepre = 1;\n  for (int i = 3; i <= n; ++i) {\n    ret = pre + prepre;\n    prepre = pre;\n    pre = ret;\n  }\n  return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nç¬¼ç»å°è®²ï¼ææçéå½ä»£ç é½å¯ä»¥æ¹ä¸ºè¿ç§è¿­ä»£å¾ªç¯çééå½ä»£ç ã\n\n> å ä¸ºéå½æ¬èº«å°±æ¯åå©æ æ¥å®ç°çï¼åªä¸è¿æä»¬ä½¿ç¨çæ æ¯ç³»ç»æèèææºæ¬èº«æä¾çï¼æä»¬æ²¡ææç¥ç½¢äºãå¦ææä»¬èªå·±å¨åå­å ä¸å®ç°æ ï¼æå¨æ¨¡æå¥æ ãåºæ è¿ç¨ï¼è¿æ ·ä»»ä½éå½ä»£ç é½å¯ä»¥æ¹åæçä¸å»ä¸æ¯éå½ä»£ç çæ ·å­ã\n> \n> ä½æ¯è¿ç§æè·¯å®éä¸æ¯å°éå½æ¹ä¸ºäºâæå¨âéå½ï¼æ¬è´¨å¹¶æ²¡æåï¼èä¸ä¹å¹¶æ²¡æè§£å³åé¢è®²å°çæäºé®é¢ï¼å¾å¢äºå®ç°çå¤æåº¦ã\n\n\n# è§£ç­å¼ç¯\n\nå¦ä½æ¾å°âæç»æ¨èäººâï¼è§£å³æ¹æ¡ï¼\n\nlong findrootreferrerid(long actorid) {\n  long referrerid = select referrer_id from [table] where actor_id = actorid;\n  if (referrerid == null) return actorid;\n  return findrootreferrerid(referrerid);\n}\n\n\n1\n2\n3\n4\n5\n\n\nä»¥ä¸ä¸è¡ä»£ç å°±æå®äºï¼ä¸è¿å¨å®éé¡¹ç®ä¸­ï¼å¯è½ä¼åºç°ä¸¤ä¸ªé®é¢ã\n\n 1. å¦æéå½å¾æ·±ï¼å¯è½ä¼æå æ æº¢åºçé®é¢ã\n\n 2. å¦ææ°æ®åºå­å¨èæ°æ®ï¼å¯è½ä¼åºç°æ ééå½çé®é¢ã\n    \n    æ¯å¦demoç¯å¢ä¸æ°æ®åºä¸­ï¼æµè¯å·¥ç¨å¸ä¸ºäºæ¹ä¾¿æµè¯ï¼ä¼äººä¸ºå°æå¥ä¸äºæ°æ®ï¼å°±ä¼åºç°èæ°æ®ãå¦æaçæ¨èäººæ¯bï¼bçæ¨èäººæ¯cï¼cçæ¨èäººæ¯aï¼è¿æ ·å°±ä¼åçæ­»å¾ªç¯ã\n\nå¦ä½è§£å³ï¼\n\nç¬¬ä¸ä¸ªé®é¢å¯ä»¥ç¨åé¢è§£ç­è¿çéå¶éå½æ·±åº¦æ¥è§£å³ã\n\nç¬¬äºä¸ªé®é¢ä¹å¯ä»¥ç¨éå¶éå½æ·±åº¦æ¥è§£å³ï¼ä½è¿æä¸ä¸ªé«çº§çå¤çåæ³ï¼å°±æ¯èªå¨æ£æµa->b->c->aè¿ç§âç¯âå­å¨ãå¦ä½èªå¨æ£æµï¼åé¢åè°ã\n\n\n# åå®¹å°ç»\n\néå½æ¯ä¸ç§éå¸¸é«æãç®æ´çç¼ç æå·§ãåªè¦æ¯æ»¡è¶³âä¸ä¸ªæ¡ä»¶âçé®é¢å°±å¯ä»¥éè¿éå½ä»£ç æ¥è§£å³ã\n\nä¸è¿éå½ä»£ç ä¹æ¯è¾é¾åãé¾çè§£ãç¼åéå½ä»£ç çå³é®å°±æ¯ä¸è¦æèªå·±ç»è¿å»ï¼æ­£ç¡®å§¿å¿æ¯ååºéæ¨å¬å¼ï¼æ¾åºç»æ­¢æ¡ä»¶ï¼ç¶ååç¿»è¯æéå½ä»£ç ã\n\néå½ä»£ç è½ç¶ç®æ´é«æï¼ä½æ¯ï¼éå½ä»£ç ä¹æå¾å¤å¼ç«¯ãæ¯å¦ï¼å æ æº¢åºãéå¤è®¡ç®ãå½æ°è°ç¨èæ¶å¤ãç©ºé´å¤æåº¦é«ç­ï¼æä»¥ï¼å¨ç¼åéå½ä»£ç çæ¶åï¼ä¸å®è¦æ§å¶å¥½è¿äºå¯ä½ç¨ã\n\n\n# æ¡ä¾\n\n\n# æ¡ä¾1ï¼ææ³¢é£å¥æ°å\n\n> ææ³¢é£å¥æ°åçæ¯è¿æ ·ä¸ä¸ªæ°åï¼1ã1ã2ã3ã5ã8ã13ã21ã34....ï¼å³ç¬¬ä¸é¡¹ f(1) = 1,ç¬¬äºé¡¹ f(2) = 1.....,ç¬¬ n é¡¹ç®ä¸º f(n) = f(n-1) + f(n-2)ãæ±ç¬¬ n é¡¹çå¼æ¯å¤å°ã\n\n1ãç¬¬ä¸éå½å½æ°åè½\n\nåè®¾ f(n) çåè½æ¯æ±ç¬¬ n é¡¹çå¼ï¼ä»£ç å¦ä¸ï¼\n\nint f(int n){\n    \n}\n\n\n1\n2\n3\n\n\n2ãæ¾åºéå½ç»æçæ¡ä»¶\n\næ¾ç¶ï¼å½ n = 1 æè n = 2 ,æä»¬å¯ä»¥è½»æçç¥éç»æ f(1) = f(2) = 1ãæä»¥éå½ç»ææ¡ä»¶å¯ä»¥ä¸º n <= 2ãä»£ç å¦ä¸ï¼\n\nint f(int n){\n    if(n <= 2){\n        return 1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸è¦ç´ ï¼æ¾åºå½æ°çç­ä»·å³ç³»å¼\n\né¢ç®å·²ç»æç­ä»·å³ç³»å¼ç»æä»¬äºï¼æä»¥æä»¬å¾å®¹æå°±è½å¤ç¥é f(n) = f(n-1) + f(n-2)ãæè¯´è¿ï¼ç­ä»·å³ç³»å¼æ¯æé¾æ¾çä¸ä¸ªï¼èè¿ä¸ªé¢ç®å´æå³ç³»å¼ç»æä»¬äºï¼è¿ä¹å¤ªå®¹æï¼å¥½å§ï¼æè¿æ¯ä¸ºäºå¼é¡¾å ä¹é¶åºç¡çè¯»èã\n\næä»¥æç»ä»£ç å¦ä¸ï¼\n\nint f(int n){\n    // 1.ååéå½ç»ææ¡ä»¶\n    if(n <= 2){\n        return 1;\n    }\n    // 2.æ¥çåç­ä»·å³ç³»å¼\n    return f(n-1) + f(n - 2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næå®ï¼æ¯ä¸æ¯å¾ç®åï¼\n\n> é¶åºç¡çå¯è½è¿æ¯ä¸å¤§æï¼æ²¡å³ç³»ï¼ä¹åæ¢æ¢æç§è¿ä¸ªæ¨¡å¼ç»ä¹ ï¼å¥½å§ï¼æå¤§ä½¬å¯è½å¨åæ§½å¤ªç®åäºã\n\n\n# æ¡ä¾2ï¼å°éèè·³å°é¶\n\n> ä¸åªéèä¸æ¬¡å¯ä»¥è·³ä¸1çº§å°é¶ï¼ä¹å¯ä»¥è·³ä¸2çº§ãæ±è¯¥éèè·³ä¸ä¸ä¸ªnçº§çå°é¶æ»å±æå¤å°ç§è·³æ³ã\n\n1ãç¬¬ä¸éå½å½æ°åè½\n\nåè®¾ f(n) çåè½æ¯æ±éèè·³ä¸ä¸ä¸ªnçº§çå°é¶æ»å±æå¤å°ç§è·³æ³ï¼ä»£ç å¦ä¸ï¼\n\nint f(int n){\n    \n}\n\n\n1\n2\n3\n\n\n2ãæ¾åºéå½ç»æçæ¡ä»¶\n\næè¯´äºï¼æ±éå½ç»æçæ¡ä»¶ï¼ä½ ç´æ¥æ n åç¼©å°å¾å°å¾å°å°±è¡äºï¼å ä¸º n è¶å°ï¼æä»¬å°±è¶å®¹æç´è§çç®åº f(n) çå¤å°ï¼æä»¥å½ n = 1æ¶ï¼ä½ ç¥é f(1) ä¸ºå¤å°å§ï¼å¤ç´è§å§ï¼å³ f(1) = 1ãä»£ç å¦ä¸ï¼\n\nint f(int n){\n    if(n == 1){\n        return 1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸è¦ç´ ï¼æ¾åºå½æ°çç­ä»·å³ç³»å¼\n\næ¯æ¬¡è·³çæ¶åï¼å°éèå¯ä»¥è·³ä¸ä¸ªå°é¶ï¼ä¹å¯ä»¥è·³ä¸¤ä¸ªå°é¶ï¼ä¹å°±æ¯è¯´ï¼æ¯æ¬¡è·³çæ¶åï¼å°éèæä¸¤ç§è·³æ³ã\n\nç¬¬ä¸ç§è·³æ³ï¼ç¬¬ä¸æ¬¡æè·³äºä¸ä¸ªå°é¶ï¼é£ä¹è¿å©ä¸n-1ä¸ªå°é¶è¿æ²¡è·³ï¼å©ä¸çn-1ä¸ªå°é¶çè·³æ³æf(n-1)ç§ã\n\nç¬¬äºç§è·³æ³ï¼ç¬¬ä¸æ¬¡è·³äºä¸¤ä¸ªå°é¶ï¼é£ä¹è¿å©ä¸n-2ä¸ªå°é¶è¿æ²¡ï¼å©ä¸çn-2ä¸ªå°é¶çè·³æ³æf(n-2)ç§ã\n\næä»¥ï¼å°éèçå¨é¨è·³æ³å°±æ¯è¿ä¸¤ç§è·³æ³ä¹åäºï¼å³ f(n) = f(n-1) + f(n-2)ãè³æ­¤ï¼ç­ä»·å³ç³»å¼å°±æ±åºæ¥äºãäºæ¯ååºä»£ç ï¼\n\nint f(int n){\n    if(n == 1){\n        return 1;\n    }\n    ruturn f(n-1) + f(n-2);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¤§å®¶è§å¾ä¸é¢çä»£ç å¯¹ä¸å¯¹ï¼\n\nç­æ¯ä¸å¤§å¯¹ï¼å½ n = 2 æ¶ï¼æ¾ç¶ä¼æ f(2) = f(1) + f(0)ãæä»¬ç¥éï¼f(0) = 0ï¼æéçæ¯éå½ç»æï¼ä¸ç¨ç»§ç»­å¾ä¸è°ç¨çï¼ä½æä»¬ä¸é¢çä»£ç é»è¾ä¸­ï¼ä¼ç»§ç»­è°ç¨ f(0) = f(-1) + f(-2)ãè¿ä¼å¯¼è´æ éè°ç¨ï¼è¿å¥æ­»å¾ªç¯ã\n\nè¿ä¹æ¯æè¦åä½ ä»¬è¯´çï¼å³äºéå½ç»ææ¡ä»¶æ¯å¦å¤ä¸¥è°¨é®é¢ï¼æå¾å¤äººå¨ä½¿ç¨éå½çæ¶åï¼ç±äºç»ææ¡ä»¶ä¸å¤ä¸¥è°¨ï¼å¯¼è´åºç°æ­»å¾ªç¯ãä¹å°±æ¯è¯´ï¼å½æä»¬å¨ç¬¬äºæ­¥æ¾åºäºä¸ä¸ªéå½ç»ææ¡ä»¶çæ¶åï¼å¯ä»¥æç»ææ¡ä»¶åè¿ä»£ç ï¼ç¶åè¿è¡ç¬¬ä¸æ­¥ï¼ä½æ¯è¯·æ³¨æï¼å½æä»¬ç¬¬ä¸æ­¥æ¾åºç­ä»·å½æ°ä¹åï¼è¿å¾åè¿åå»ç¬¬äºæ­¥ï¼æ ¹æ®ç¬¬ä¸æ­¥å½æ°çè°ç¨å³ç³»ï¼ä¼ä¸ä¼åºç°ä¸äºæ¼æçç»ææ¡ä»¶ãå°±åä¸é¢ï¼f(n-2)è¿ä¸ªå½æ°çè°ç¨ï¼æå¯è½åºç° f(0) çæåµï¼å¯¼è´æ­»å¾ªç¯ï¼æä»¥æä»¬æå®è¡¥ä¸ãä»£ç å¦ä¸ï¼\n\nint f(int n){\n    //f(0) = 0,f(1) = 1ï¼ç­ä»·äº n<=1æ¶ï¼f(n) = nã\n    if(n <= 1){\n        return n;\n    }\n    ruturn f(n-1) + f(n-2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æå³éå½çä¸äºä¼åæè·¯\n\n1. èèæ¯å¦éå¤è®¡ç®\n\nåè¯ä½ å§ï¼å¦æä½ ä½¿ç¨éå½çæ¶åä¸è¿è¡ä¼åï¼æ¯æéå¸¸éå¸¸éå¸¸å¤çå­é®é¢è¢«éå¤è®¡ç®çã\n\n> å¥æ¯å­é®é¢ï¼ f(n-1),f(n-2)....å°±æ¯ f(n) çå­é®é¢äºã\n\nä¾å¦å¯¹äºæ¡ä¾2é£éé¢ï¼f(n) = f(n-1) + f(n-2)ãéå½è°ç¨çç¶æå¾å¦ä¸ï¼\n\n\n\nçå°æ²¡æï¼éå½è®¡ç®çæ¶åï¼éå¤è®¡ç®äºä¸¤æ¬¡ f(5)ï¼äºæ¬¡ f(4)ããããè¿æ¯éå¸¸ææçï¼n è¶å¤§ï¼éå¤è®¡ç®çå°±è¶å¤ï¼æä»¥æä»¬å¿é¡»è¿è¡ä¼åã\n\nå¦ä½ä¼åï¼ä¸è¬æä»¬å¯ä»¥ææä»¬è®¡ç®çç»æä¿è¯èµ·æ¥ï¼ä¾å¦æ f(4) çè®¡ç®ç»æä¿è¯èµ·æ¥ï¼å½åæ¬¡è¦è®¡ç® f(4) çæ¶åï¼æä»¬åå¤æ­ä¸ä¸ï¼ä¹åæ¯å¦è®¡ç®è¿ï¼å¦æè®¡ç®è¿ï¼ç´æ¥æ f(4) çç»æååºæ¥å°±å¯ä»¥äºï¼æ²¡æè®¡ç®è¿çè¯ï¼åéå½è®¡ç®ã\n\nç¨ä»ä¹ä¿å­å¢ï¼å¯ä»¥ç¨æ°ç»æè hashmap ä¿å­ï¼æä»¬ç¨æ°ç»æ¥ä¿å­æï¼æ n ä½ä¸ºæä»¬çæ°ç»ä¸æ ï¼f(n) ä½ä¸ºå¼ï¼ä¾å¦ arr[n] = f(n)ãf(n) è¿æ²¡æè®¡ç®è¿çæ¶åï¼æä»¬è®© arr[n] ç­äºä¸ä¸ªç¹æ®å¼ï¼ä¾å¦ arr[n] = -1ã\n\nå½æä»¬è¦å¤æ­çæ¶åï¼å¦æ arr[n] = -1ï¼åè¯æ f(n) æ²¡æè®¡ç®è¿ï¼å¦åï¼ f(n) å°±å·²ç»è®¡ç®è¿äºï¼ä¸ f(n) = arr[n]ãç´æ¥æå¼ååºæ¥å°±è¡äºãä»£ç å¦ä¸ï¼\n\n// æä»¬å®ç°åå® arr æ°ç»å·²ç»åå§åå¥½çäºã\nint f(int n){\n    if(n <= 1){\n        return n;\n    }\n    //åå¤æ­ææ²¡è®¡ç®è¿\n    if(arr[n] != -1){\n        //è®¡ç®è¿ï¼ç´æ¥è¿å\n        return arr[n];\n    }else{\n        // æ²¡æè®¡ç®è¿ï¼éå½è®¡ç®,å¹¶ä¸æç»æä¿å­å° arræ°ç»é\n        arr[n] = f(n-1) + f(n-1);\n        reutrn arr[n];\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä¹å°±æ¯è¯´ï¼ä½¿ç¨éå½çæ¶åï¼å¿è¦ é¡»è¦èèææ²¡æéå¤è®¡ç®ï¼å¦æéå¤è®¡ç®äºï¼ä¸å®è¦æè®¡ç®è¿çç¶æä¿å­èµ·æ¥ã\n\n2. èèæ¯å¦å¯ä»¥èªåºåä¸\n\nå¯¹äºéå½çé®é¢ï¼æä»¬ä¸è¬é½æ¯ä»ä¸å¾ä¸éå½çï¼ç´å°éå½å°æåºï¼åä¸å±ä¸å±çæå¼è¿åã\n\nä¸è¿ï¼ææ¶åå½ n æ¯è¾å¤§çæ¶åï¼ä¾å¦å½ n = 10000 æ¶ï¼é£ä¹å¿é¡»è¦å¾ä¸éå½10000å±ç´å° n <=1 æå°ç»ææ¢æ¢è¿åï¼å¦ænå¤ªå¤§çè¯ï¼å¯è½æ ç©ºé´ä¼ä¸å¤ç¨ã\n\nå¯¹äºè¿ç§æåµï¼å¶å®æä»¬æ¯å¯ä»¥èèèªåºåä¸çåæ³çãä¾å¦æç¥é\n\nf(1) = 1;\n\nf(2) = 2;\n\né£ä¹æä»¬å°±å¯ä»¥æ¨åº f(3) = f(2) + f(1) = 3ãä»èå¯ä»¥æ¨åºf(4),f(5)ç­ç´å°f(n)ãå æ­¤ï¼æä»¬å¯ä»¥èèä½¿ç¨èªåºåä¸çæ¹æ³æ¥åä»£éå½ï¼ä»£ç å¦ä¸ï¼\n\npublic int f(int n) {\n       if(n <= 2)\n           return n;\n       int f1 = 1;\n       int f2 = 2;\n       int sum = 0;\n\n       for (int i = 3; i <= n; i++) {\n           sum = f1 + f2;\n           f1 = f2;\n           f2 = sum;\n       }\n       return sum;\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¿ç§æ¹æ³ï¼å¶å®ä¹è¢«ç§°ä¹ä¸ºéæ¨ã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ ",frontmatter:{title:"æ ",date:"2022-10-11T22:44:06.000Z",permalink:"/pages/f27af6/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/10.%E6%A0%88.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/10.æ .md",key:"v-2680fed9",path:"/pages/f27af6/",headers:[{level:2,title:"ä¸ãæ¦è¿°",slug:"ä¸ãæ¦è¿°",normalizedTitle:"ä¸ãæ¦è¿°",charIndex:2},{level:3,title:"å®ä¹",slug:"å®ä¹",normalizedTitle:"å®ä¹",charIndex:11},{level:3,title:"åºæ¬æä½",slug:"åºæ¬æä½",normalizedTitle:"åºæ¬æä½",charIndex:463},{level:2,title:"äºãæ çé¡ºåºå­å¨ä¸å®ç°",slug:"äºãæ çé¡ºåºå­å¨ä¸å®ç°",normalizedTitle:"äºãæ çé¡ºåºå­å¨ä¸å®ç°",charIndex:973},{level:2,title:"ä¸ãæ çé¾å¼å­å¨ä¸å®ç°",slug:"ä¸ãæ çé¾å¼å­å¨ä¸å®ç°",normalizedTitle:"ä¸ãæ çé¾å¼å­å¨ä¸å®ç°",charIndex:2647},{level:2,title:"åãJDK ä¸­çæ å®ç° Stack",slug:"åãjdk-ä¸­çæ å®ç°-stack",normalizedTitle:"åãjdk ä¸­çæ å®ç° stack",charIndex:4638},{level:3,title:"Stackçç»§æ¿å³ç³»",slug:"stackçç»§æ¿å³ç³»",normalizedTitle:"stackçç»§æ¿å³ç³»",charIndex:4772},{level:2,title:"äºãæ åºç¨",slug:"äºãæ åºç¨",normalizedTitle:"äºãæ åºç¨",charIndex:5005},{level:3,title:"ææçæ¬å·",slug:"ææçæ¬å·",normalizedTitle:"ææçæ¬å·",charIndex:5042}],headersStr:"ä¸ãæ¦è¿° å®ä¹ åºæ¬æä½ äºãæ çé¡ºåºå­å¨ä¸å®ç° ä¸ãæ çé¾å¼å­å¨ä¸å®ç° åãJDK ä¸­çæ å®ç° Stack Stackçç»§æ¿å³ç³» äºãæ åºç¨ ææçæ¬å·",content:'# ä¸ãæ¦è¿°\n\n\n# å®ä¹\n\næ³¨æï¼æ¬ææè¯´çæ æ¯æ°æ®ç»æä¸­çæ ï¼èä¸æ¯åå­æ¨¡åä¸­æ \n\næ ï¼stackï¼æ¯éå®ä»å¨è¡¨å°¾ä¸ç«¯è¿è¡æå¥æå é¤æä½çç¹æ®çº¿æ§è¡¨ãåç§°ä¸ºå æ ã\n\nå¯¹äºæ æ¥è¯´, åè®¸è¿è¡æå¥æå é¤æä½çä¸ç«¯ç§°ä¸ºæ é¡¶ï¼topï¼ï¼èå¦ä¸ç«¯ç§°ä¸ºæ åºï¼bottomï¼ãä¸å«åç´ æ ç§°ä¸ºç©ºæ ï¼åæ ä¸­æå¥ä¸ä¸ªæ°åç´ ç§°ä¸ºå¥æ æåæ ï¼ ä»æ ä¸­å é¤ä¸ä¸ªåç´ ç§°ä¸ºåºæ æéæ ã\n\nåè®¾æä¸ä¸ªæ ï¼³ï¼ï¼a1, a2, â¦, an)ï¼a1åè¿æ ï¼ anæåè¿æ ãç§° a1 ä¸ºæ åºåç´ ï¼an ä¸ºæ é¡¶åç´ ãåºæ æ¶åªåè®¸å¨æ é¡¶è¿è¡ï¼æä»¥ an ååºæ ï¼a1æååºæ ãå æ­¤åç§°æ ä¸ºåè¿ååºï¼Last In First Outï¼LIFOï¼ççº¿æ§è¡¨ã\n\næ ï¼stackï¼ï¼æ¯ä¸ç§çº¿æ§å­å¨ç»æï¼å®æä»¥ä¸å ä¸ªç¹ç¹ï¼\n\n * æ ä¸­æ°æ®æ¯æç§"åè¿ååºï¼LIFO, Last In First Outï¼"æ¹å¼è¿åºæ çã\n * åæ ä¸­æ·»å /å é¤æ°æ®æ¶ï¼åªè½ä»æ é¡¶è¿è¡æä½ã\n\n\n\nå¨ä¸å¾ä¸­ï¼å½ ABCD åå·²å¥æ åï¼åºæ æ¶å¾å°çåºåä¸º DCBAï¼è¿å°±æ¯åè¿ååºã\n\n\n# åºæ¬æä½\n\næ çåºæ¬æä½é¤äºè¿æ  push()ï¼åºæ  pop() ä¹å¤ï¼è¿æå¤ç©º isEmpty()ãåæ é¡¶åç´  peek() ç­æä½ã\n\næ½è±¡ææ¥å£å¦ä¸ï¼\n\npublic interface MyStack {\n\n    /**\n     * è¿åå æ çå¤§å°\n     */\n    public int getSize();\n\n    /**\n     * å¤æ­å æ æ¯å¦ä¸ºç©º\n     */\n    public boolean isEmpty();\n\n    /**\n     * å¥æ \n     */\n    public void push(Object e);\n\n    /**\n     * åºæ ï¼å¹¶å é¤\n     */\n    public Object pop();\n\n    /**\n     * è¿åæ é¡¶åç´ \n     */\n    public Object peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nåçº¿æ§è¡¨ç±»ä¼¼ï¼æ ä¹æä¸¤ç§å­å¨ç»æï¼é¡ºåºå­å¨åé¾å¼å­å¨ã\n\n\n# äºãæ çé¡ºåºå­å¨ä¸å®ç°\n\né¡ºåºæ æ¯ä½¿ç¨é¡ºåºå­å¨ç»æå®ç°çæ ï¼å³å©ç¨ä¸ç»å°åè¿ç»­çå­å¨ååä¾æ¬¡å­æ¾æ ä¸­çæ°æ®åç´ ãç±äºæ æ¯ä¸ç§ç¹æ®ççº¿æ§è¡¨ï¼å æ­¤å¨çº¿æ§è¡¨çé¡ºåºå­å¨ç»æçåºç¡ä¸ï¼éæ©çº¿æ§è¡¨çä¸ç«¯ä½ä¸ºæ é¡¶å³å¯ãé£ä¹æ ¹æ®æ°ç»æä½çç¹æ§ï¼éæ©æ°ç»ä¸æ å¤§çä¸ç«¯ï¼å³çº¿æ§è¡¨é¡ºåºå­å¨çè¡¨å°¾æ¥ä½ä¸ºæ é¡¶ï¼æ­¤æ¶å¥æ ãåºæ æä½å¯ä»¥ æ¶é´å®æã\n\nç±äºæ çæä½é½æ¯å¨æ é¡¶å®æï¼å æ­¤å¨é¡ºåºæ çå®ç°ä¸­éè¦éè®¾ä¸ä¸ªæé top æ¥å¨æå°æç¤ºæ é¡¶åç´ å¨æ°ç»ä¸­çä½ç½®ãéå¸¸ top å¯ä»¥ç¨æ é¡¶åç´ æå¨çæ°ç»ä¸æ æ¥è¡¨ç¤ºï¼top=-1æ¶è¡¨ç¤ºç©ºæ ã\n\næ å¨ä½¿ç¨è¿ç¨ä¸­æéçæå¤§ç©ºé´é¾ä»¥ä¼°è®¡ï¼æä»¥ï¼ä¸è¬æé æ çæ¶åä¸åºè®¾å®æå¤§å®¹éãä¸ç§åççåæ³åçº¿æ§è¡¨ç±»ä¼¼ï¼åä¸ºæ åéä¸ä¸ªåºæ¬å®¹éï¼ç¶åå¨å®éçä½¿ç¨è¿ç¨ä¸­ï¼å½æ çç©ºé´ä¸å¤ç¨æ¶ååå¢å­å¨ç©ºé´ã\n\npublic class MyArrayStack implements MyStack {\n\n    private final int capacity = 2;  //é»è®¤å®¹é\n    private Object[] arrs;   //æ°æ®åç´ æ°ç»\n    private int top;   //æ é¡¶æé\n\n    MyArrayStack(){\n        top = -1;\n        arrs = new Object[capacity];\n    }\n\n    public int getSize() {\n        return top + 1;\n    }\n\n    public boolean isEmpty() {\n        return top < 0;\n    }\n\n    public void push(Object e) {\n        if(getSize() >= arrs.length){\n           expandSapce();  //æ©å®¹\n        }\n        arrs[++top]=e;\n    }\n\n    private void expandSapce() {\n        Object[] a = new Object[arrs.length * 2];\n        for (int i = 0; i < arrs.length; i++) {\n            a[i] = arrs[i];\n        }\n        arrs = a;\n    }\n\n    public Object pop() {\n        if(getSize()<1){\n            throw new RuntimeException("æ ä¸ºç©º");\n        }\n        Object obj = arrs[top];\n        arrs[top--] = null;\n        return obj;\n    }\n\n    public Object peek() {\n        if(getSize()<1){\n            throw new RuntimeException("æ ä¸ºç©º");\n        }\n        return arrs[top];\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\nä»¥ä¸åºäºæ°æ®å®ç°çæ ä»£ç å¹¶ä¸é¾çè§£ãç±äºæ top æéçå­å¨ï¼æä»¥size()ãisEmpty()æ¹æ³åå¯å¨ $O(1) $ æ¶é´åå®æãpush()ãpop()åpeek()æ¹æ³ï¼é¤äºéè¦ensureCapacity()å¤ï¼é½æ§è¡å¸¸æ°åºæ¬æä½ï¼å æ­¤å®ä»¬çè¿è¡æ¶é´ä¹æ¯\n\n\n# ä¸ãæ çé¾å¼å­å¨ä¸å®ç°\n\næ çé¾å¼å­å¨å³éç¨é¾è¡¨å®ç°æ ãå½éç¨åé¾è¡¨å­å¨çº¿æ§è¡¨åï¼æ ¹æ®åé¾è¡¨çæä½ç¹æ§éæ©åé¾è¡¨çå¤´é¨ä½ä¸ºæ é¡¶ï¼æ­¤æ¶ï¼å¥æ ååºæ ç­æä½å¯ä»¥å¨ æ¶é´åå®æã\n\nç±äºæ çæä½åªå¨çº¿æ§è¡¨çä¸ç«¯è¿è¡ï¼å¨è¿éä½¿ç¨å¸¦å¤´ç»ç¹çåé¾è¡¨æä¸å¸¦å¤´ç»ç¹çåé¾è¡¨é½å¯ä»¥ãä½¿ç¨å¸¦å¤´ç»ç¹çåé¾è¡¨æ¶ï¼ç»ç¹çæå¥åå é¤é½å¨å¤´ç»ç¹ä¹åè¿è¡ï¼ä½¿ç¨ä¸å¸¦å¤´ç»ç¹çåé¾è¡¨æ¶ï¼ç»ç¹çæå¥åå é¤é½å¨é¾è¡¨çé¦ç»ç¹ä¸è¿è¡ã\n\nä¸é¢ä»¥ä¸å¸¦å¤´ç»ç¹çåé¾è¡¨ä¸ºä¾å®ç°æ ï¼å¦ä¸ç¤ºæå¾æç¤ºï¼\n\n\n\nå¨ä¸å¾ä¸­ï¼top ä¸ºæ é¡¶ç»ç¹çå¼ç¨ï¼å§ç»æåå½åæ é¡¶åç´ æå¨çç»ç¹ãè¥ top ä¸ºnullï¼åè¡¨ç¤ºç©ºæ ãå¥æ æä½æ¯å¨ top ææç»ç¹ä¹åæå¥æ°çç»ç¹ï¼ä½¿æ°ç»ç¹ç next åæå topï¼top åç§»å³å¯ï¼åºæ åç´æ¥è®© top åç§»å³å¯ã\n\npublic class MyLinkedStack implements MyStack {\n\n    class Node {\n        private Object element;\n        private Node next;\n\n        public Node() {\n            this(null, null);\n        }\n\n        public Node(Object ele, Node next) {\n            this.element = ele;\n            this.next = next;\n        }\n\n        public Node getNext() {\n            return next;\n        }\n\n        public void setNext(Node next) {\n            this.next = next;\n        }\n\n        public Object getData() {\n            return element;\n        }\n\n        public void setData(Object obj) {\n            element = obj;\n        }\n    }\n\n    private Node top;\n    private int size;\n\n    public MyLinkedStack() {\n        top = null;\n        size = 0;\n    }\n\n    public int getSize() {\n        return size;\n    }\n\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    public void push(Object e) {\n        Node node = new Node(e, top);\n        top = node;\n        size++;\n    }\n\n    public Object pop() {\n        if (size < 1) {\n            throw new RuntimeException("å æ ä¸ºç©º");\n        }\n        Object obj = top.getData();\n        top = top.getNext();\n        size--;\n        return obj;\n    }\n\n    public Object peek() {\n        if (size < 1) {\n            throw new RuntimeException("å æ ä¸ºç©º");\n        }\n        return top.getData();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\nä¸è¿° MyLinkedStack ç±»ä¸­æä¸¤ä¸ªæååéï¼å¶ä¸­ top è¡¨ç¤ºé¦ç»ç¹ï¼ä¹å°±æ¯æ é¡¶åç´ æå¨çç»ç¹ï¼size æç¤ºæ çå¤§å°ï¼å³æ ä¸­æ°æ®åç´ çä¸ªæ°ãä¸é¾çè§£ï¼ææçæä½åå¯ä»¥å¨ æ¶é´åå®æã\n\n\n# åãJDK ä¸­çæ å®ç° Stack\n\nJava å·¥å·åä¸­ç Stack æ¯ç»§æ¿äº Vector(ç¢ééå)çï¼ç±äº Vector æ¯éè¿æ°ç»å®ç°çï¼è¿å°±æå³çï¼Stack ä¹æ¯éè¿æ°ç»å®ç°çï¼èéé¾è¡¨ãå½ç¶ï¼æä»¬ä¹å¯ä»¥å° LinkedList å½ä½æ æ¥ä½¿ç¨ã\n\n\n# Stackçç»§æ¿å³ç³»\n\njava.lang.Object\n     java.util.AbstractCollection<E>\n        java.util.AbstractList<E>\n            java.util.Vector<E>\n                 java.util.Stack<E>\n\npublic class Stack<E> extends Vector<E> {}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# äºãæ åºç¨\n\næ æä¸ä¸ªå¾éè¦çåºç¨ï¼å¨ç¨åºè®¾è®¡è¯­è¨éå®ç°äºéå½ã\n\n\n# ææçæ¬å·\n\n> ç»å®ä¸ä¸ªåªåæ¬ \'(\'ï¼\')\'ï¼\'{\'ï¼\'}\'ï¼\'[\'ï¼\']\' çå­ç¬¦ä¸²ï¼å¤æ­å­ç¬¦ä¸²æ¯å¦ææã\n> \n> ææå­ç¬¦ä¸²éæ»¡è¶³ï¼\n> \n>  1. å·¦æ¬å·å¿é¡»ç¨ç¸åç±»åçå³æ¬å·é­åã\n>  2. å·¦æ¬å·å¿é¡»ä»¥æ­£ç¡®çé¡ºåºé­åã\n> \n> æ³¨æç©ºå­ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ¯ææå­ç¬¦ä¸²ã\n> \n> è¾å¥: "{[]}"\n> è¾åº: true\n> è¾å¥: "([)]"\n> è¾åº: false\n> \n> \n> 1\n> 2\n> 3\n> 4\n\n> è¯·æ ¹æ®æ¯æ¥ æ°æ¸© åè¡¨ï¼éæ°çæä¸ä¸ªåè¡¨ãå¯¹åºä½ç½®çè¾åºä¸ºï¼è¦æ³è§æµå°æ´é«çæ°æ¸©ï¼è³å°éè¦ç­å¾çå¤©æ°ãå¦ææ°æ¸©å¨è¿ä¹åé½ä¸ä¼åé«ï¼è¯·å¨è¯¥ä½ç½®ç¨ 0 æ¥ä»£æ¿ã\n> \n> ä¾å¦ï¼ç»å®ä¸ä¸ªåè¡¨ temperatures = [73, 74, 75, 71, 69, 72, 76, 73]ï¼ä½ çè¾åºåºè¯¥æ¯ [1, 1, 4, 2, 1, 1, 0, 0]ã\n> \n> æç¤ºï¼æ°æ¸© åè¡¨é¿åº¦çèå´æ¯ [1, 30000]ãæ¯ä¸ªæ°æ¸©çå¼çåä¸ºåæ°åº¦ï¼é½æ¯å¨ [30, 100] èå´åçæ´æ°ã',normalizedContent:'# ä¸ãæ¦è¿°\n\n\n# å®ä¹\n\næ³¨æï¼æ¬ææè¯´çæ æ¯æ°æ®ç»æä¸­çæ ï¼èä¸æ¯åå­æ¨¡åä¸­æ \n\næ ï¼stackï¼æ¯éå®ä»å¨è¡¨å°¾ä¸ç«¯è¿è¡æå¥æå é¤æä½çç¹æ®çº¿æ§è¡¨ãåç§°ä¸ºå æ ã\n\nå¯¹äºæ æ¥è¯´, åè®¸è¿è¡æå¥æå é¤æä½çä¸ç«¯ç§°ä¸ºæ é¡¶ï¼topï¼ï¼èå¦ä¸ç«¯ç§°ä¸ºæ åºï¼bottomï¼ãä¸å«åç´ æ ç§°ä¸ºç©ºæ ï¼åæ ä¸­æå¥ä¸ä¸ªæ°åç´ ç§°ä¸ºå¥æ æåæ ï¼ ä»æ ä¸­å é¤ä¸ä¸ªåç´ ç§°ä¸ºåºæ æéæ ã\n\nåè®¾æä¸ä¸ªæ ï½ï¼ï¼a1, a2, â¦, an)ï¼a1åè¿æ ï¼ anæåè¿æ ãç§° a1 ä¸ºæ åºåç´ ï¼an ä¸ºæ é¡¶åç´ ãåºæ æ¶åªåè®¸å¨æ é¡¶è¿è¡ï¼æä»¥ an ååºæ ï¼a1æååºæ ãå æ­¤åç§°æ ä¸ºåè¿ååºï¼last in first outï¼lifoï¼ççº¿æ§è¡¨ã\n\næ ï¼stackï¼ï¼æ¯ä¸ç§çº¿æ§å­å¨ç»æï¼å®æä»¥ä¸å ä¸ªç¹ç¹ï¼\n\n * æ ä¸­æ°æ®æ¯æç§"åè¿ååºï¼lifo, last in first outï¼"æ¹å¼è¿åºæ çã\n * åæ ä¸­æ·»å /å é¤æ°æ®æ¶ï¼åªè½ä»æ é¡¶è¿è¡æä½ã\n\n\n\nå¨ä¸å¾ä¸­ï¼å½ abcd åå·²å¥æ åï¼åºæ æ¶å¾å°çåºåä¸º dcbaï¼è¿å°±æ¯åè¿ååºã\n\n\n# åºæ¬æä½\n\næ çåºæ¬æä½é¤äºè¿æ  push()ï¼åºæ  pop() ä¹å¤ï¼è¿æå¤ç©º isempty()ãåæ é¡¶åç´  peek() ç­æä½ã\n\næ½è±¡ææ¥å£å¦ä¸ï¼\n\npublic interface mystack {\n\n    /**\n     * è¿åå æ çå¤§å°\n     */\n    public int getsize();\n\n    /**\n     * å¤æ­å æ æ¯å¦ä¸ºç©º\n     */\n    public boolean isempty();\n\n    /**\n     * å¥æ \n     */\n    public void push(object e);\n\n    /**\n     * åºæ ï¼å¹¶å é¤\n     */\n    public object pop();\n\n    /**\n     * è¿åæ é¡¶åç´ \n     */\n    public object peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nåçº¿æ§è¡¨ç±»ä¼¼ï¼æ ä¹æä¸¤ç§å­å¨ç»æï¼é¡ºåºå­å¨åé¾å¼å­å¨ã\n\n\n# äºãæ çé¡ºåºå­å¨ä¸å®ç°\n\né¡ºåºæ æ¯ä½¿ç¨é¡ºåºå­å¨ç»æå®ç°çæ ï¼å³å©ç¨ä¸ç»å°åè¿ç»­çå­å¨ååä¾æ¬¡å­æ¾æ ä¸­çæ°æ®åç´ ãç±äºæ æ¯ä¸ç§ç¹æ®ççº¿æ§è¡¨ï¼å æ­¤å¨çº¿æ§è¡¨çé¡ºåºå­å¨ç»æçåºç¡ä¸ï¼éæ©çº¿æ§è¡¨çä¸ç«¯ä½ä¸ºæ é¡¶å³å¯ãé£ä¹æ ¹æ®æ°ç»æä½çç¹æ§ï¼éæ©æ°ç»ä¸æ å¤§çä¸ç«¯ï¼å³çº¿æ§è¡¨é¡ºåºå­å¨çè¡¨å°¾æ¥ä½ä¸ºæ é¡¶ï¼æ­¤æ¶å¥æ ãåºæ æä½å¯ä»¥ æ¶é´å®æã\n\nç±äºæ çæä½é½æ¯å¨æ é¡¶å®æï¼å æ­¤å¨é¡ºåºæ çå®ç°ä¸­éè¦éè®¾ä¸ä¸ªæé top æ¥å¨æå°æç¤ºæ é¡¶åç´ å¨æ°ç»ä¸­çä½ç½®ãéå¸¸ top å¯ä»¥ç¨æ é¡¶åç´ æå¨çæ°ç»ä¸æ æ¥è¡¨ç¤ºï¼top=-1æ¶è¡¨ç¤ºç©ºæ ã\n\næ å¨ä½¿ç¨è¿ç¨ä¸­æéçæå¤§ç©ºé´é¾ä»¥ä¼°è®¡ï¼æä»¥ï¼ä¸è¬æé æ çæ¶åä¸åºè®¾å®æå¤§å®¹éãä¸ç§åççåæ³åçº¿æ§è¡¨ç±»ä¼¼ï¼åä¸ºæ åéä¸ä¸ªåºæ¬å®¹éï¼ç¶åå¨å®éçä½¿ç¨è¿ç¨ä¸­ï¼å½æ çç©ºé´ä¸å¤ç¨æ¶ååå¢å­å¨ç©ºé´ã\n\npublic class myarraystack implements mystack {\n\n    private final int capacity = 2;  //é»è®¤å®¹é\n    private object[] arrs;   //æ°æ®åç´ æ°ç»\n    private int top;   //æ é¡¶æé\n\n    myarraystack(){\n        top = -1;\n        arrs = new object[capacity];\n    }\n\n    public int getsize() {\n        return top + 1;\n    }\n\n    public boolean isempty() {\n        return top < 0;\n    }\n\n    public void push(object e) {\n        if(getsize() >= arrs.length){\n           expandsapce();  //æ©å®¹\n        }\n        arrs[++top]=e;\n    }\n\n    private void expandsapce() {\n        object[] a = new object[arrs.length * 2];\n        for (int i = 0; i < arrs.length; i++) {\n            a[i] = arrs[i];\n        }\n        arrs = a;\n    }\n\n    public object pop() {\n        if(getsize()<1){\n            throw new runtimeexception("æ ä¸ºç©º");\n        }\n        object obj = arrs[top];\n        arrs[top--] = null;\n        return obj;\n    }\n\n    public object peek() {\n        if(getsize()<1){\n            throw new runtimeexception("æ ä¸ºç©º");\n        }\n        return arrs[top];\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\nä»¥ä¸åºäºæ°æ®å®ç°çæ ä»£ç å¹¶ä¸é¾çè§£ãç±äºæ top æéçå­å¨ï¼æä»¥size()ãisempty()æ¹æ³åå¯å¨ $o(1) $ æ¶é´åå®æãpush()ãpop()åpeek()æ¹æ³ï¼é¤äºéè¦ensurecapacity()å¤ï¼é½æ§è¡å¸¸æ°åºæ¬æä½ï¼å æ­¤å®ä»¬çè¿è¡æ¶é´ä¹æ¯\n\n\n# ä¸ãæ çé¾å¼å­å¨ä¸å®ç°\n\næ çé¾å¼å­å¨å³éç¨é¾è¡¨å®ç°æ ãå½éç¨åé¾è¡¨å­å¨çº¿æ§è¡¨åï¼æ ¹æ®åé¾è¡¨çæä½ç¹æ§éæ©åé¾è¡¨çå¤´é¨ä½ä¸ºæ é¡¶ï¼æ­¤æ¶ï¼å¥æ ååºæ ç­æä½å¯ä»¥å¨ æ¶é´åå®æã\n\nç±äºæ çæä½åªå¨çº¿æ§è¡¨çä¸ç«¯è¿è¡ï¼å¨è¿éä½¿ç¨å¸¦å¤´ç»ç¹çåé¾è¡¨æä¸å¸¦å¤´ç»ç¹çåé¾è¡¨é½å¯ä»¥ãä½¿ç¨å¸¦å¤´ç»ç¹çåé¾è¡¨æ¶ï¼ç»ç¹çæå¥åå é¤é½å¨å¤´ç»ç¹ä¹åè¿è¡ï¼ä½¿ç¨ä¸å¸¦å¤´ç»ç¹çåé¾è¡¨æ¶ï¼ç»ç¹çæå¥åå é¤é½å¨é¾è¡¨çé¦ç»ç¹ä¸è¿è¡ã\n\nä¸é¢ä»¥ä¸å¸¦å¤´ç»ç¹çåé¾è¡¨ä¸ºä¾å®ç°æ ï¼å¦ä¸ç¤ºæå¾æç¤ºï¼\n\n\n\nå¨ä¸å¾ä¸­ï¼top ä¸ºæ é¡¶ç»ç¹çå¼ç¨ï¼å§ç»æåå½åæ é¡¶åç´ æå¨çç»ç¹ãè¥ top ä¸ºnullï¼åè¡¨ç¤ºç©ºæ ãå¥æ æä½æ¯å¨ top ææç»ç¹ä¹åæå¥æ°çç»ç¹ï¼ä½¿æ°ç»ç¹ç next åæå topï¼top åç§»å³å¯ï¼åºæ åç´æ¥è®© top åç§»å³å¯ã\n\npublic class mylinkedstack implements mystack {\n\n    class node {\n        private object element;\n        private node next;\n\n        public node() {\n            this(null, null);\n        }\n\n        public node(object ele, node next) {\n            this.element = ele;\n            this.next = next;\n        }\n\n        public node getnext() {\n            return next;\n        }\n\n        public void setnext(node next) {\n            this.next = next;\n        }\n\n        public object getdata() {\n            return element;\n        }\n\n        public void setdata(object obj) {\n            element = obj;\n        }\n    }\n\n    private node top;\n    private int size;\n\n    public mylinkedstack() {\n        top = null;\n        size = 0;\n    }\n\n    public int getsize() {\n        return size;\n    }\n\n    public boolean isempty() {\n        return size == 0;\n    }\n\n    public void push(object e) {\n        node node = new node(e, top);\n        top = node;\n        size++;\n    }\n\n    public object pop() {\n        if (size < 1) {\n            throw new runtimeexception("å æ ä¸ºç©º");\n        }\n        object obj = top.getdata();\n        top = top.getnext();\n        size--;\n        return obj;\n    }\n\n    public object peek() {\n        if (size < 1) {\n            throw new runtimeexception("å æ ä¸ºç©º");\n        }\n        return top.getdata();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\nä¸è¿° mylinkedstack ç±»ä¸­æä¸¤ä¸ªæååéï¼å¶ä¸­ top è¡¨ç¤ºé¦ç»ç¹ï¼ä¹å°±æ¯æ é¡¶åç´ æå¨çç»ç¹ï¼size æç¤ºæ çå¤§å°ï¼å³æ ä¸­æ°æ®åç´ çä¸ªæ°ãä¸é¾çè§£ï¼ææçæä½åå¯ä»¥å¨ æ¶é´åå®æã\n\n\n# åãjdk ä¸­çæ å®ç° stack\n\njava å·¥å·åä¸­ç stack æ¯ç»§æ¿äº vector(ç¢ééå)çï¼ç±äº vector æ¯éè¿æ°ç»å®ç°çï¼è¿å°±æå³çï¼stack ä¹æ¯éè¿æ°ç»å®ç°çï¼èéé¾è¡¨ãå½ç¶ï¼æä»¬ä¹å¯ä»¥å° linkedlist å½ä½æ æ¥ä½¿ç¨ã\n\n\n# stackçç»§æ¿å³ç³»\n\njava.lang.object\n     java.util.abstractcollection<e>\n        java.util.abstractlist<e>\n            java.util.vector<e>\n                 java.util.stack<e>\n\npublic class stack<e> extends vector<e> {}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# äºãæ åºç¨\n\næ æä¸ä¸ªå¾éè¦çåºç¨ï¼å¨ç¨åºè®¾è®¡è¯­è¨éå®ç°äºéå½ã\n\n\n# ææçæ¬å·\n\n> ç»å®ä¸ä¸ªåªåæ¬ \'(\'ï¼\')\'ï¼\'{\'ï¼\'}\'ï¼\'[\'ï¼\']\' çå­ç¬¦ä¸²ï¼å¤æ­å­ç¬¦ä¸²æ¯å¦ææã\n> \n> ææå­ç¬¦ä¸²éæ»¡è¶³ï¼\n> \n>  1. å·¦æ¬å·å¿é¡»ç¨ç¸åç±»åçå³æ¬å·é­åã\n>  2. å·¦æ¬å·å¿é¡»ä»¥æ­£ç¡®çé¡ºåºé­åã\n> \n> æ³¨æç©ºå­ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ¯ææå­ç¬¦ä¸²ã\n> \n> è¾å¥: "{[]}"\n> è¾åº: true\n> è¾å¥: "([)]"\n> è¾åº: false\n> \n> \n> 1\n> 2\n> 3\n> 4\n\n> è¯·æ ¹æ®æ¯æ¥ æ°æ¸© åè¡¨ï¼éæ°çæä¸ä¸ªåè¡¨ãå¯¹åºä½ç½®çè¾åºä¸ºï¼è¦æ³è§æµå°æ´é«çæ°æ¸©ï¼è³å°éè¦ç­å¾çå¤©æ°ãå¦ææ°æ¸©å¨è¿ä¹åé½ä¸ä¼åé«ï¼è¯·å¨è¯¥ä½ç½®ç¨ 0 æ¥ä»£æ¿ã\n> \n> ä¾å¦ï¼ç»å®ä¸ä¸ªåè¡¨ temperatures = [73, 74, 75, 71, 69, 72, 76, 73]ï¼ä½ çè¾åºåºè¯¥æ¯ [1, 1, 4, 2, 1, 1, 0, 0]ã\n> \n> æç¤ºï¼æ°æ¸© åè¡¨é¿åº¦çèå´æ¯ [1, 30000]ãæ¯ä¸ªæ°æ¸©çå¼çåä¸ºåæ°åº¦ï¼é½æ¯å¨ [30, 100] èå´åçæ´æ°ã',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å ",frontmatter:{title:"å ",date:"2022-10-11T23:00:21.000Z",permalink:"/pages/6db356/",categories:["è®¡ç®æºåºç¡","æ°æ®ç»æ"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/30.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/50%E5%A0%86.html",relativePath:"02.è®¡ç®æºåºç¡/30.æ°æ®ç»æ/50å .md",key:"v-e8b2cf00",path:"/pages/6db356/",headers:[{level:2,title:"ä»ä¹æ¯å ",slug:"ä»ä¹æ¯å ",normalizedTitle:"ä»ä¹æ¯å ",charIndex:2},{level:2,title:"å çç¨é",slug:"å çç¨é",normalizedTitle:"å çç¨é",charIndex:457},{level:2,title:"å çåç±»",slug:"å çåç±»",normalizedTitle:"å çåç±»",charIndex:794},{level:2,title:"å çå­å¨",slug:"å çå­å¨",normalizedTitle:"å çå­å¨",charIndex:924},{level:2,title:"å çæä½",slug:"å çæä½",normalizedTitle:"å çæä½",charIndex:161},{level:3,title:"æå¥åç´ ",slug:"æå¥åç´ ",normalizedTitle:"æå¥åç´ ",charIndex:1097},{level:3,title:"å é¤å é¡¶åç´ ",slug:"å é¤å é¡¶åç´ ",normalizedTitle:"å é¤å é¡¶åç´ ",charIndex:1104},{level:3,title:"èªåºåä¸å å",slug:"èªåºåä¸å å",normalizedTitle:"èªåºåä¸å å",charIndex:1570},{level:3,title:"èªé¡¶åä¸å å",slug:"èªé¡¶åä¸å å",normalizedTitle:"èªé¡¶åä¸å å",charIndex:1506},{level:3,title:"å çæä½æ»ç»",slug:"å çæä½æ»ç»",normalizedTitle:"å çæä½æ»ç»",charIndex:2031},{level:2,title:"å æåº",slug:"å æåº",normalizedTitle:"å æåº",charIndex:2165},{level:3,title:"å»ºå ",slug:"å»ºå ",normalizedTitle:"å»ºå ",charIndex:2190},{level:3,title:"æåº",slug:"æåº",normalizedTitle:"æåº",charIndex:824}],headersStr:"ä»ä¹æ¯å  å çç¨é å çåç±» å çå­å¨ å çæä½ æå¥åç´  å é¤å é¡¶åç´  èªåºåä¸å å èªé¡¶åä¸å å å çæä½æ»ç» å æåº å»ºå  æåº",content:'# ä»ä¹æ¯å \n\nå æ¯ä¸ç§æ»¡è¶³ä»¥ä¸æ¡ä»¶çæ ï¼\n\nå ä¸­çæ¯ä¸ä¸ªèç¹å¼é½å¤§äºç­äºï¼æå°äºç­äºï¼å­æ ä¸­ææèç¹çå¼ãæèè¯´ï¼ä»»æä¸ä¸ªèç¹çå¼é½å¤§äºç­äºï¼æå°äºç­äºï¼ææå­èç¹çå¼ã\n\n> å¤§å®¶å¯ä»¥æå (æå¤§å )çè§£ä¸ºä¸ä¸ªå¬å¸,è¿ä¸ªå¬å¸å¾å¬å¹³,è°è½åå¼ºè°å°±å½èå¤§,ä¸å­å¨å¼±çäººå½èå¤§,èå¤§æåºä¸çäººä¸å®ä¸ä¼æ¯ä»å¼ºãè¿æ ·æå©äºçè§£åç»­å çæä½ã\n\n!!!ç¹å«æç¤ºï¼\n\n * å¾å¤åå®¢è¯´å æ¯å®å¨äºåæ ï¼å¶å®å¹¶éå¦æ­¤ï¼å ä¸ä¸å®æ¯å®å¨äºåæ ï¼åªæ¯ä¸ºäºæ¹ä¾¿å­å¨åç´¢å¼ï¼æä»¬éå¸¸ç¨å®å¨äºåæ çå½¢å¼æ¥è¡¨ç¤ºå ï¼äºå®ä¸ï¼å¹¿ä¸ºäººç¥çææ³¢é£å¥å åäºé¡¹å å°±ä¸æ¯å®å¨äºåæ ,å®ä»¬çè³é½ä¸æ¯äºåæ ã\n * ï¼äºåï¼å æ¯ä¸ä¸ªæ°ç»ï¼å®å¯ä»¥è¢«çææ¯ä¸ä¸ª è¿ä¼¼çå®å¨äºåæ ãââãç®æ³å¯¼è®ºãç¬¬ä¸ç\n\nå¤§å®¶å¯ä»¥å°è¯å¤æ­ä¸é¢ç»åºçå¾æ¯å¦æ¯å ï¼\n\n\n\nç¬¬1ä¸ªåç¬¬2ä¸ªæ¯å ãç¬¬1ä¸ªæ¯æå¤§å ï¼æ¯ä¸ªèç¹é½æ¯å­æ ä¸­ææèç¹å¤§ãç¬¬2ä¸ªæ¯æå°å ï¼æ¯ä¸ªèç¹é½æ¯å­æ ä¸­ææèç¹å°ã\n\nç¬¬3ä¸ªä¸æ¯ï¼ç¬¬ä¸ä¸ªä¸­ï¼æ ¹ç»ç¹1æ¯2å15å°ï¼è15å´æ¯3å¤§ï¼19æ¯5å¤§ï¼ä¸æ»¡è¶³å çæ§è´¨ã\n\n\n# å çç¨é\n\nå½æä»¬åªå³å¿æææ°æ®ä¸­çæå¤§å¼æèæå°å¼ï¼å­å¨å¤æ¬¡è·åæå¤§å¼æèæå°å¼ï¼å¤æ¬¡æå¥æå é¤æ°æ®æ¶ï¼å°±å¯ä»¥ä½¿ç¨å ã\n\næå°ä¼ä¼´å¯è½ä¼æ³å°ç¨æåºæ°ç»ï¼åå§åä¸ä¸ªæåºæ°ç»æ¶é´å¤æåº¦æ¯ O(nlog(n))ï¼æ¥æ¾æå¤§å¼æèæå°å¼æ¶é´å¤æåº¦é½æ¯ O(1)ï¼ä½æ¯ï¼æ¶åå°æ´æ°ï¼æå¥æå é¤ï¼æ°æ®æ¶ï¼æ¶é´å¤æåº¦ä¸º O(n)ï¼å³ä½¿æ¯ä½¿ç¨å¤æåº¦ä¸º O(log(n)) çäºåæ³æ¾å°è¦æå¥æèå é¤çæ°æ®ï¼å¨ç§»å¨æ°æ®æ¶ä¹éè¦ O(n) çæ¶é´å¤æåº¦ã\n\nç¸å¯¹äºæåºæ°ç»èè¨ï¼å çä¸»è¦ä¼å¿å¨äºæ´æ°æ°æ®æçè¾é«ã å çåå§åæ¶é´å¤æåº¦ä¸º O(nlog(n))ï¼å å¯ä»¥åå°O(1)æ¶é´å¤æåº¦ååºæå¤§å¼æèæå°å¼ï¼O(log(n))æ¶é´å¤æåº¦æå¥æèå é¤æ°æ®ï¼å·ä½æä½å¨åç»­ç« èè¯¦ç»ä»ç»ã\n\n\n# å çåç±»\n\nå åä¸º æå¤§å  å æå°å ãäºèçåºå«å¨äºèç¹çæåºæ¹å¼ã\n\n * æå¤§å  ï¼å ä¸­çæ¯ä¸ä¸ªèç¹çå¼é½å¤§äºç­äºå­æ ä¸­ææèç¹çå¼\n * æå°å  ï¼å ä¸­çæ¯ä¸ä¸ªèç¹çå¼é½å°äºç­äºå­æ ä¸­ææèç¹çå¼\n\nå¦ä¸å¾æç¤ºï¼å¾1æ¯æå¤§å ï¼å¾2æ¯æå°å \n\n\n\n\n# å çå­å¨\n\nä¹åä»ç»æ çæ¶åè¯´è¿ï¼ç±äºå®å¨äºåæ çä¼ç§æ§è´¨ï¼å©ç¨æ°ç»å­å¨äºåæ å³èçç©ºé´ï¼åæ¹ä¾¿ç´¢å¼ï¼è¥æ ¹ç»ç¹çåºå·ä¸º1ï¼é£ä¹å¯¹äºæ ä¸­ä»»æèç¹iï¼å¶å·¦å­èç¹åºå·ä¸º 2*iï¼å³å­èç¹åºå·ä¸º 2*i+1ï¼ã\n\nä¸ºäºæ¹ä¾¿å­å¨åç´¢å¼ï¼ï¼äºåï¼å å¯ä»¥ç¨å®å¨äºåæ çå½¢å¼è¿è¡å­å¨ãå­å¨çæ¹å¼å¦ä¸å¾æç¤ºï¼\n\n\n\n\n# å çæä½\n\nå çæ´æ°æä½ä¸»è¦åæ¬ä¸¤ç§ : æå¥åç´  å å é¤å é¡¶åç´ ãæä½è¿ç¨éè¦çéææ¡åçè§£ã\n\n> å¨è¿å¥æ­£é¢ä¹åï¼åéç³ä¸éï¼å æ¯ä¸ä¸ªå¬å¹³çå¬å¸ï¼æè½åçäººèªç¶ä¼èµ°å°ä¸ä»è½åæå¹éçä½ç½®\n\n\n# æå¥åç´ \n\n> æå¥åç´ ï¼ä½ä¸ºä¸ä¸ªæ°å¥èçåå·¥ï¼åæ¥ä¹å°ï¼è¿ä¸ªåå·¥éè¦ä»åºå±åèµ·\n\n1.å°è¦æå¥çåç´ æ¾å°æå\n\n\n\n> æè½åçäººä¼éæ¸åèå èªï¼æ¯éå­æ»ä¼ååçï¼ï¼ï¼\n\n2.ä»åºåä¸ï¼å¦æç¶ç»ç¹æ¯è¯¥åç´ å¤§ï¼åè¯¥èç¹åç¶ç»ç¹äº¤æ¢ï¼ç´å°æ æ³äº¤æ¢\n\n\n\n\n\n\n# å é¤å é¡¶åç´ \n\næ ¹æ®å çæ§è´¨å¯ç¥ï¼æå¤§å çå é¡¶åç´ ä¸ºææåç´ ä¸­æå¤§çï¼æå°å çå é¡¶åç´ æ¯ææåç´ ä¸­æå°çãå½æä»¬éè¦å¤æ¬¡æ¥æ¾æå¤§åç´ æèæå°åç´ çæ¶åï¼å¯ä»¥å©ç¨å æ¥å®ç°ã\n\nå é¤å é¡¶åç´ åï¼ä¸ºäºä¿æå çæ§è´¨ï¼éè¦å¯¹å çç»æè¿è¡è°æ´ï¼æä»¬å°è¿ä¸ªè¿ç¨ç§°ä¹ä¸º"å å"ï¼å åçæ¹æ³åä¸ºä¸¤ç§ï¼\n\n * ä¸ç§æ¯èªåºåä¸çå åï¼ä¸è¿°çæå¥åç´ æä½¿ç¨çå°±æ¯èªåºåä¸çå åï¼åç´ ä»æåºé¨åä¸ç§»å¨ã\n * å¦ä¸ç§æ¯èªé¡¶åä¸å åï¼åç´ ç±æé¡¶é¨åä¸ç§»å¨ãå¨è®²è§£å é¤å é¡¶åç´ çæ¹æ³æ¶ï¼æå°éè¿°è¿ä¸¤ç§æä½çè¿ç¨ï¼å¤§å®¶å¯ä»¥ä½ä¼ä¸ä¸äºèçä¸åã\n\n\n# èªåºåä¸å å\n\n> å¨å è¿ä¸ªå¬å¸ä¸­ï¼ä¼åºç°èå¤§ç¦»èçç°è±¡ï¼èå¤§ç¦»èä¹åï¼ä»çä½ç½®å°±ç©ºåºæ¥äº\n\né¦åå é¤å é¡¶åç´ ï¼ä½¿å¾æ°ç»ä¸­ä¸æ ä¸º1çä½ç½®ç©ºåºã\n\n\n\n> é£ä¹ä»çä½ç½®ç±è°æ¥æ¥æ¿å¢ï¼å½ç¶æ¯ä»çç´æ¥ä¸å±äºï¼è°è½åå¼ºå°±è®©è°ä¸å\n\næ¯è¾æ ¹ç»ç¹çå·¦å­èç¹åå³å­èç¹ï¼ä¹å°±æ¯ä¸æ ä¸º2,3çæ°ç»åç´ ï¼å°è¾å¤§çåç´ å¡«åå°æ ¹ç»ç¹(ä¸æ ä¸º1)çä½ç½®ã\n\n\n\n> è¿ä¸ªæ¶ååç©ºåºä¸ä¸ªä½ç½®äºï¼èè§ç©ï¼è°æè½åè°ä¸\n\nä¸ç´å¾ªç¯æ¯è¾ç©ºåºä½ç½®çå·¦å³å­èç¹ï¼å¹¶å°è¾å¤§èç§»è³ç©ºä½ï¼ç´å°å çæåºé¨\n\n\n\nè¿ä¸ªæ¶åå·²ç»å®æäºèªåºåä¸çå åï¼æ²¡æåç´ å¯ä»¥å¡«è¡¥ç©ºç¼ºäºï¼ä½æ¯ï¼æä»¬å¯ä»¥çå°æ°ç»ä¸­åºç°äºâæ°æ³¡âï¼è¿ä¼å¯¼è´å­å¨ç©ºé´çæµªè´¹ãæ¥ä¸æ¥æä»¬è¯è¯èªé¡¶åä¸å åã\n\n\n# èªé¡¶åä¸å å\n\nèªé¡¶åä¸çå åç¨ä¸ä¸ªè¯å½¢å®¹å°±æ¯âç³æ²å¤§æµ·âï¼é£ä¹ç¬¬ä¸ä»¶äºæï¼å°±æ¯æç³å¤´æ¬èµ·æ¥ï¼ä»æµ·é¢æä¸å»ãè¿ä¸ªç³å¤´å°±æ¯å çæåä¸ä¸ªåç´ ï¼æä»¬å°æåä¸ä¸ªåç´ ç§»å¨å°å é¡¶ã\n\n\n\nç¶åå¼å§å°è¿ä¸ªç³å¤´æ²å¥æµ·åºï¼ä¸åä¸å·¦å³å­èç¹çå¼è¿è¡æ¯è¾ï¼åè¾å¤§çå­èç¹äº¤æ¢ä½ç½®ï¼ç´å°æ æ³äº¤æ¢ä½ç½®ã\n\n\n\n\n\n\n# å çæä½æ»ç»\n\n * æå¥åç´  ï¼åå°åç´ æ¾è³æ°ç»æ«å°¾ï¼åèªåºåä¸å åï¼å°æ«å°¾åç´ ä¸æµ®\n * å é¤å é¡¶åç´  ï¼å é¤å é¡¶åç´ ï¼å°æ«å°¾åç´ æ¾è³å é¡¶ï¼åèªé¡¶åä¸å åï¼å°å é¡¶åç´ ä¸æ²ãä¹å¯ä»¥èªåºåä¸å åï¼åªæ¯ä¼äº§çâæ°æ³¡âï¼æµªè´¹å­å¨ç©ºé´ãæå¥½éç¨èªé¡¶åä¸å åçæ¹å¼ã\n\n\n# å æåº\n\nå æåºçè¿ç¨åä¸ºä¸¤æ­¥ï¼\n\n * ç¬¬ä¸æ­¥æ¯å»ºå ï¼å°ä¸ä¸ªæ åºçæ°ç»å»ºç«ä¸ºä¸ä¸ªå \n * ç¬¬äºæ­¥æ¯æåºï¼å°å é¡¶åç´ ååºï¼ç¶åå¯¹å©ä¸çåç´ è¿è¡å åï¼åå¤è¿­ä»£ï¼ç´å°ææåç´ è¢«ååºä¸ºæ­¢ã\n\n\n# å»ºå \n\nå¦æä½ å·²ç»è¶³å¤äºè§£å åçè¿ç¨ï¼é£ä¹å»ºå çè¿ç¨ææ¡èµ·æ¥å°±æ¯è¾å®¹æäºãå»ºå çè¿ç¨å°±æ¯ä¸ä¸ªå¯¹ææéå¶èç¹çèªé¡¶åä¸å åè¿ç¨ã\n\né¦åè¦äºè§£åªäºæ¯éå¶èç¹ï¼æåä¸ä¸ªèç¹çç¶ç»ç¹åå®ä¹åçåç´ ï¼é½æ¯éå¶èç¹ãä¹å°±æ¯è¯´ï¼å¦æèç¹ä¸ªæ°ä¸ºnï¼é£ä¹æä»¬éè¦å¯¹n/2å°1çèç¹è¿è¡èªé¡¶åä¸ï¼æ²åºï¼å åã\n\nå·ä½è¿ç¨å¦ä¸å¾ï¼\n\n\n\nå°åå§çæ åºæ°ç»æ½è±¡ä¸ºä¸æ£µæ ï¼å¾ä¸­çèç¹ä¸ªæ°ä¸º6ï¼æä»¥4,5,6èç¹ä¸ºå¶èç¹ï¼1,2,3èç¹ä¸ºéå¶èç¹ï¼æä»¥è¦å¯¹1-3å·èç¹è¿è¡èªé¡¶åä¸ï¼æ²åºï¼å åï¼æ³¨æï¼é¡ºåºæ¯ä»åå¾åå åï¼ä»3å·èç¹å¼å§ï¼ä¸ç´å°1å·èç¹ã 3å·èç¹å åç»æï¼\n\n\n\n2å·èç¹å åç»æï¼\n\n\n\n1å·èç¹å åç»æï¼\n\n\n\nè³æ­¤ï¼æ°ç»æå¯¹åºçæ å·²ç»æä¸ºäºä¸ä¸ªæå¤§å ï¼å»ºå å®æï¼\n\n\n# æåº\n\nç±äºå é¡¶åç´ æ¯ææåç´ ä¸­æå¤§çï¼æä»¥æä»¬éå¤ååºå é¡¶åç´ ï¼å°è¿ä¸ªæå¤§çå é¡¶åç´ æ¾è³æ°ç»æ«å°¾ï¼å¹¶å¯¹å©ä¸çåç´ è¿è¡å åå³å¯ã\n\nç°å¨æèä¸¤ä¸ªé®é¢ï¼\n\n * å é¤å é¡¶åç´ åéè¦æ§è¡èªé¡¶åä¸ï¼æ²åºï¼å åè¿æ¯èªåºåä¸ï¼ä¸æµ®ï¼å åï¼\n * ååºçå é¡¶åç´ å­å¨åªï¼æ°å»ºä¸ä¸ªæ°ç»å­ï¼\n\nååç­ç¬¬ä¸ä¸ªé®é¢ï¼æä»¬éè¦æ§è¡èªé¡¶åä¸ï¼æ²åºï¼å åï¼è¿ä¸ªå åä¸å¼å§è¦å°æ«å°¾åç´ ç§»å¨è³å é¡¶ï¼è¿ä¸ªæ¶åæ«å°¾çä½ç½®å°±ç©ºåºæ¥äºï¼ç±äºå ä¸­åç´ å·²ç»åå°ï¼è¿ä¸ªä½ç½®ä¸ä¼åè¢«ä½¿ç¨ï¼æä»¥æä»¬å¯ä»¥å°ååºçåç´ æ¾å¨æ«å°¾ã\n\næºæºçå°ä¼ä¼´å·²ç»åç°äºï¼è¿å¶å®æ¯åäºä¸æ¬¡äº¤æ¢æä½ï¼å°å é¡¶åæ«å°¾åç´ è°æ¢ä½ç½®ï¼ä»èå°ååºå é¡¶åç´ åå åçç¬¬ä¸æ­¥(å°æ«å°¾åç´ æ¾è³æ ¹ç»ç¹ä½ç½®)è¿è¡åå¹¶ã\n\nè¯¦ç»è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nååºç¬¬ä¸ä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬äºä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬ä¸ä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬åä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬äºä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬å­ä¸ªåç´ å¹¶å åï¼\n\n\n\nå æåºå®æï¼',normalizedContent:'# ä»ä¹æ¯å \n\nå æ¯ä¸ç§æ»¡è¶³ä»¥ä¸æ¡ä»¶çæ ï¼\n\nå ä¸­çæ¯ä¸ä¸ªèç¹å¼é½å¤§äºç­äºï¼æå°äºç­äºï¼å­æ ä¸­ææèç¹çå¼ãæèè¯´ï¼ä»»æä¸ä¸ªèç¹çå¼é½å¤§äºç­äºï¼æå°äºç­äºï¼ææå­èç¹çå¼ã\n\n> å¤§å®¶å¯ä»¥æå (æå¤§å )çè§£ä¸ºä¸ä¸ªå¬å¸,è¿ä¸ªå¬å¸å¾å¬å¹³,è°è½åå¼ºè°å°±å½èå¤§,ä¸å­å¨å¼±çäººå½èå¤§,èå¤§æåºä¸çäººä¸å®ä¸ä¼æ¯ä»å¼ºãè¿æ ·æå©äºçè§£åç»­å çæä½ã\n\n!!!ç¹å«æç¤ºï¼\n\n * å¾å¤åå®¢è¯´å æ¯å®å¨äºåæ ï¼å¶å®å¹¶éå¦æ­¤ï¼å ä¸ä¸å®æ¯å®å¨äºåæ ï¼åªæ¯ä¸ºäºæ¹ä¾¿å­å¨åç´¢å¼ï¼æä»¬éå¸¸ç¨å®å¨äºåæ çå½¢å¼æ¥è¡¨ç¤ºå ï¼äºå®ä¸ï¼å¹¿ä¸ºäººç¥çææ³¢é£å¥å åäºé¡¹å å°±ä¸æ¯å®å¨äºåæ ,å®ä»¬çè³é½ä¸æ¯äºåæ ã\n * ï¼äºåï¼å æ¯ä¸ä¸ªæ°ç»ï¼å®å¯ä»¥è¢«çææ¯ä¸ä¸ª è¿ä¼¼çå®å¨äºåæ ãââãç®æ³å¯¼è®ºãç¬¬ä¸ç\n\nå¤§å®¶å¯ä»¥å°è¯å¤æ­ä¸é¢ç»åºçå¾æ¯å¦æ¯å ï¼\n\n\n\nç¬¬1ä¸ªåç¬¬2ä¸ªæ¯å ãç¬¬1ä¸ªæ¯æå¤§å ï¼æ¯ä¸ªèç¹é½æ¯å­æ ä¸­ææèç¹å¤§ãç¬¬2ä¸ªæ¯æå°å ï¼æ¯ä¸ªèç¹é½æ¯å­æ ä¸­ææèç¹å°ã\n\nç¬¬3ä¸ªä¸æ¯ï¼ç¬¬ä¸ä¸ªä¸­ï¼æ ¹ç»ç¹1æ¯2å15å°ï¼è15å´æ¯3å¤§ï¼19æ¯5å¤§ï¼ä¸æ»¡è¶³å çæ§è´¨ã\n\n\n# å çç¨é\n\nå½æä»¬åªå³å¿æææ°æ®ä¸­çæå¤§å¼æèæå°å¼ï¼å­å¨å¤æ¬¡è·åæå¤§å¼æèæå°å¼ï¼å¤æ¬¡æå¥æå é¤æ°æ®æ¶ï¼å°±å¯ä»¥ä½¿ç¨å ã\n\næå°ä¼ä¼´å¯è½ä¼æ³å°ç¨æåºæ°ç»ï¼åå§åä¸ä¸ªæåºæ°ç»æ¶é´å¤æåº¦æ¯ o(nlog(n))ï¼æ¥æ¾æå¤§å¼æèæå°å¼æ¶é´å¤æåº¦é½æ¯ o(1)ï¼ä½æ¯ï¼æ¶åå°æ´æ°ï¼æå¥æå é¤ï¼æ°æ®æ¶ï¼æ¶é´å¤æåº¦ä¸º o(n)ï¼å³ä½¿æ¯ä½¿ç¨å¤æåº¦ä¸º o(log(n)) çäºåæ³æ¾å°è¦æå¥æèå é¤çæ°æ®ï¼å¨ç§»å¨æ°æ®æ¶ä¹éè¦ o(n) çæ¶é´å¤æåº¦ã\n\nç¸å¯¹äºæåºæ°ç»èè¨ï¼å çä¸»è¦ä¼å¿å¨äºæ´æ°æ°æ®æçè¾é«ã å çåå§åæ¶é´å¤æåº¦ä¸º o(nlog(n))ï¼å å¯ä»¥åå°o(1)æ¶é´å¤æåº¦ååºæå¤§å¼æèæå°å¼ï¼o(log(n))æ¶é´å¤æåº¦æå¥æèå é¤æ°æ®ï¼å·ä½æä½å¨åç»­ç« èè¯¦ç»ä»ç»ã\n\n\n# å çåç±»\n\nå åä¸º æå¤§å  å æå°å ãäºèçåºå«å¨äºèç¹çæåºæ¹å¼ã\n\n * æå¤§å  ï¼å ä¸­çæ¯ä¸ä¸ªèç¹çå¼é½å¤§äºç­äºå­æ ä¸­ææèç¹çå¼\n * æå°å  ï¼å ä¸­çæ¯ä¸ä¸ªèç¹çå¼é½å°äºç­äºå­æ ä¸­ææèç¹çå¼\n\nå¦ä¸å¾æç¤ºï¼å¾1æ¯æå¤§å ï¼å¾2æ¯æå°å \n\n\n\n\n# å çå­å¨\n\nä¹åä»ç»æ çæ¶åè¯´è¿ï¼ç±äºå®å¨äºåæ çä¼ç§æ§è´¨ï¼å©ç¨æ°ç»å­å¨äºåæ å³èçç©ºé´ï¼åæ¹ä¾¿ç´¢å¼ï¼è¥æ ¹ç»ç¹çåºå·ä¸º1ï¼é£ä¹å¯¹äºæ ä¸­ä»»æèç¹iï¼å¶å·¦å­èç¹åºå·ä¸º 2*iï¼å³å­èç¹åºå·ä¸º 2*i+1ï¼ã\n\nä¸ºäºæ¹ä¾¿å­å¨åç´¢å¼ï¼ï¼äºåï¼å å¯ä»¥ç¨å®å¨äºåæ çå½¢å¼è¿è¡å­å¨ãå­å¨çæ¹å¼å¦ä¸å¾æç¤ºï¼\n\n\n\n\n# å çæä½\n\nå çæ´æ°æä½ä¸»è¦åæ¬ä¸¤ç§ : æå¥åç´  å å é¤å é¡¶åç´ ãæä½è¿ç¨éè¦çéææ¡åçè§£ã\n\n> å¨è¿å¥æ­£é¢ä¹åï¼åéç³ä¸éï¼å æ¯ä¸ä¸ªå¬å¹³çå¬å¸ï¼æè½åçäººèªç¶ä¼èµ°å°ä¸ä»è½åæå¹éçä½ç½®\n\n\n# æå¥åç´ \n\n> æå¥åç´ ï¼ä½ä¸ºä¸ä¸ªæ°å¥èçåå·¥ï¼åæ¥ä¹å°ï¼è¿ä¸ªåå·¥éè¦ä»åºå±åèµ·\n\n1.å°è¦æå¥çåç´ æ¾å°æå\n\n\n\n> æè½åçäººä¼éæ¸åèå èªï¼æ¯éå­æ»ä¼ååçï¼ï¼ï¼\n\n2.ä»åºåä¸ï¼å¦æç¶ç»ç¹æ¯è¯¥åç´ å¤§ï¼åè¯¥èç¹åç¶ç»ç¹äº¤æ¢ï¼ç´å°æ æ³äº¤æ¢\n\n\n\n\n\n\n# å é¤å é¡¶åç´ \n\næ ¹æ®å çæ§è´¨å¯ç¥ï¼æå¤§å çå é¡¶åç´ ä¸ºææåç´ ä¸­æå¤§çï¼æå°å çå é¡¶åç´ æ¯ææåç´ ä¸­æå°çãå½æä»¬éè¦å¤æ¬¡æ¥æ¾æå¤§åç´ æèæå°åç´ çæ¶åï¼å¯ä»¥å©ç¨å æ¥å®ç°ã\n\nå é¤å é¡¶åç´ åï¼ä¸ºäºä¿æå çæ§è´¨ï¼éè¦å¯¹å çç»æè¿è¡è°æ´ï¼æä»¬å°è¿ä¸ªè¿ç¨ç§°ä¹ä¸º"å å"ï¼å åçæ¹æ³åä¸ºä¸¤ç§ï¼\n\n * ä¸ç§æ¯èªåºåä¸çå åï¼ä¸è¿°çæå¥åç´ æä½¿ç¨çå°±æ¯èªåºåä¸çå åï¼åç´ ä»æåºé¨åä¸ç§»å¨ã\n * å¦ä¸ç§æ¯èªé¡¶åä¸å åï¼åç´ ç±æé¡¶é¨åä¸ç§»å¨ãå¨è®²è§£å é¤å é¡¶åç´ çæ¹æ³æ¶ï¼æå°éè¿°è¿ä¸¤ç§æä½çè¿ç¨ï¼å¤§å®¶å¯ä»¥ä½ä¼ä¸ä¸äºèçä¸åã\n\n\n# èªåºåä¸å å\n\n> å¨å è¿ä¸ªå¬å¸ä¸­ï¼ä¼åºç°èå¤§ç¦»èçç°è±¡ï¼èå¤§ç¦»èä¹åï¼ä»çä½ç½®å°±ç©ºåºæ¥äº\n\né¦åå é¤å é¡¶åç´ ï¼ä½¿å¾æ°ç»ä¸­ä¸æ ä¸º1çä½ç½®ç©ºåºã\n\n\n\n> é£ä¹ä»çä½ç½®ç±è°æ¥æ¥æ¿å¢ï¼å½ç¶æ¯ä»çç´æ¥ä¸å±äºï¼è°è½åå¼ºå°±è®©è°ä¸å\n\næ¯è¾æ ¹ç»ç¹çå·¦å­èç¹åå³å­èç¹ï¼ä¹å°±æ¯ä¸æ ä¸º2,3çæ°ç»åç´ ï¼å°è¾å¤§çåç´ å¡«åå°æ ¹ç»ç¹(ä¸æ ä¸º1)çä½ç½®ã\n\n\n\n> è¿ä¸ªæ¶ååç©ºåºä¸ä¸ªä½ç½®äºï¼èè§ç©ï¼è°æè½åè°ä¸\n\nä¸ç´å¾ªç¯æ¯è¾ç©ºåºä½ç½®çå·¦å³å­èç¹ï¼å¹¶å°è¾å¤§èç§»è³ç©ºä½ï¼ç´å°å çæåºé¨\n\n\n\nè¿ä¸ªæ¶åå·²ç»å®æäºèªåºåä¸çå åï¼æ²¡æåç´ å¯ä»¥å¡«è¡¥ç©ºç¼ºäºï¼ä½æ¯ï¼æä»¬å¯ä»¥çå°æ°ç»ä¸­åºç°äºâæ°æ³¡âï¼è¿ä¼å¯¼è´å­å¨ç©ºé´çæµªè´¹ãæ¥ä¸æ¥æä»¬è¯è¯èªé¡¶åä¸å åã\n\n\n# èªé¡¶åä¸å å\n\nèªé¡¶åä¸çå åç¨ä¸ä¸ªè¯å½¢å®¹å°±æ¯âç³æ²å¤§æµ·âï¼é£ä¹ç¬¬ä¸ä»¶äºæï¼å°±æ¯æç³å¤´æ¬èµ·æ¥ï¼ä»æµ·é¢æä¸å»ãè¿ä¸ªç³å¤´å°±æ¯å çæåä¸ä¸ªåç´ ï¼æä»¬å°æåä¸ä¸ªåç´ ç§»å¨å°å é¡¶ã\n\n\n\nç¶åå¼å§å°è¿ä¸ªç³å¤´æ²å¥æµ·åºï¼ä¸åä¸å·¦å³å­èç¹çå¼è¿è¡æ¯è¾ï¼åè¾å¤§çå­èç¹äº¤æ¢ä½ç½®ï¼ç´å°æ æ³äº¤æ¢ä½ç½®ã\n\n\n\n\n\n\n# å çæä½æ»ç»\n\n * æå¥åç´  ï¼åå°åç´ æ¾è³æ°ç»æ«å°¾ï¼åèªåºåä¸å åï¼å°æ«å°¾åç´ ä¸æµ®\n * å é¤å é¡¶åç´  ï¼å é¤å é¡¶åç´ ï¼å°æ«å°¾åç´ æ¾è³å é¡¶ï¼åèªé¡¶åä¸å åï¼å°å é¡¶åç´ ä¸æ²ãä¹å¯ä»¥èªåºåä¸å åï¼åªæ¯ä¼äº§çâæ°æ³¡âï¼æµªè´¹å­å¨ç©ºé´ãæå¥½éç¨èªé¡¶åä¸å åçæ¹å¼ã\n\n\n# å æåº\n\nå æåºçè¿ç¨åä¸ºä¸¤æ­¥ï¼\n\n * ç¬¬ä¸æ­¥æ¯å»ºå ï¼å°ä¸ä¸ªæ åºçæ°ç»å»ºç«ä¸ºä¸ä¸ªå \n * ç¬¬äºæ­¥æ¯æåºï¼å°å é¡¶åç´ ååºï¼ç¶åå¯¹å©ä¸çåç´ è¿è¡å åï¼åå¤è¿­ä»£ï¼ç´å°ææåç´ è¢«ååºä¸ºæ­¢ã\n\n\n# å»ºå \n\nå¦æä½ å·²ç»è¶³å¤äºè§£å åçè¿ç¨ï¼é£ä¹å»ºå çè¿ç¨ææ¡èµ·æ¥å°±æ¯è¾å®¹æäºãå»ºå çè¿ç¨å°±æ¯ä¸ä¸ªå¯¹ææéå¶èç¹çèªé¡¶åä¸å åè¿ç¨ã\n\né¦åè¦äºè§£åªäºæ¯éå¶èç¹ï¼æåä¸ä¸ªèç¹çç¶ç»ç¹åå®ä¹åçåç´ ï¼é½æ¯éå¶èç¹ãä¹å°±æ¯è¯´ï¼å¦æèç¹ä¸ªæ°ä¸ºnï¼é£ä¹æä»¬éè¦å¯¹n/2å°1çèç¹è¿è¡èªé¡¶åä¸ï¼æ²åºï¼å åã\n\nå·ä½è¿ç¨å¦ä¸å¾ï¼\n\n\n\nå°åå§çæ åºæ°ç»æ½è±¡ä¸ºä¸æ£µæ ï¼å¾ä¸­çèç¹ä¸ªæ°ä¸º6ï¼æä»¥4,5,6èç¹ä¸ºå¶èç¹ï¼1,2,3èç¹ä¸ºéå¶èç¹ï¼æä»¥è¦å¯¹1-3å·èç¹è¿è¡èªé¡¶åä¸ï¼æ²åºï¼å åï¼æ³¨æï¼é¡ºåºæ¯ä»åå¾åå åï¼ä»3å·èç¹å¼å§ï¼ä¸ç´å°1å·èç¹ã 3å·èç¹å åç»æï¼\n\n\n\n2å·èç¹å åç»æï¼\n\n\n\n1å·èç¹å åç»æï¼\n\n\n\nè³æ­¤ï¼æ°ç»æå¯¹åºçæ å·²ç»æä¸ºäºä¸ä¸ªæå¤§å ï¼å»ºå å®æï¼\n\n\n# æåº\n\nç±äºå é¡¶åç´ æ¯ææåç´ ä¸­æå¤§çï¼æä»¥æä»¬éå¤ååºå é¡¶åç´ ï¼å°è¿ä¸ªæå¤§çå é¡¶åç´ æ¾è³æ°ç»æ«å°¾ï¼å¹¶å¯¹å©ä¸çåç´ è¿è¡å åå³å¯ã\n\nç°å¨æèä¸¤ä¸ªé®é¢ï¼\n\n * å é¤å é¡¶åç´ åéè¦æ§è¡èªé¡¶åä¸ï¼æ²åºï¼å åè¿æ¯èªåºåä¸ï¼ä¸æµ®ï¼å åï¼\n * ååºçå é¡¶åç´ å­å¨åªï¼æ°å»ºä¸ä¸ªæ°ç»å­ï¼\n\nååç­ç¬¬ä¸ä¸ªé®é¢ï¼æä»¬éè¦æ§è¡èªé¡¶åä¸ï¼æ²åºï¼å åï¼è¿ä¸ªå åä¸å¼å§è¦å°æ«å°¾åç´ ç§»å¨è³å é¡¶ï¼è¿ä¸ªæ¶åæ«å°¾çä½ç½®å°±ç©ºåºæ¥äºï¼ç±äºå ä¸­åç´ å·²ç»åå°ï¼è¿ä¸ªä½ç½®ä¸ä¼åè¢«ä½¿ç¨ï¼æä»¥æä»¬å¯ä»¥å°ååºçåç´ æ¾å¨æ«å°¾ã\n\næºæºçå°ä¼ä¼´å·²ç»åç°äºï¼è¿å¶å®æ¯åäºä¸æ¬¡äº¤æ¢æä½ï¼å°å é¡¶åæ«å°¾åç´ è°æ¢ä½ç½®ï¼ä»èå°ååºå é¡¶åç´ åå åçç¬¬ä¸æ­¥(å°æ«å°¾åç´ æ¾è³æ ¹ç»ç¹ä½ç½®)è¿è¡åå¹¶ã\n\nè¯¦ç»è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nååºç¬¬ä¸ä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬äºä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬ä¸ä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬åä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬äºä¸ªåç´ å¹¶å åï¼\n\n\n\nååºç¬¬å­ä¸ªåç´ å¹¶å åï¼\n\n\n\nå æåºå®æï¼',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ¶é´å¤æåº¦",frontmatter:{title:"æ¶é´å¤æåº¦",date:"2022-10-11T23:15:37.000Z",permalink:"/pages/fd9be6/",categories:["è®¡ç®æºåºç¡","ç®æ³"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/40.%E7%AE%97%E6%B3%95/10.%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html",relativePath:"02.è®¡ç®æºåºç¡/40.ç®æ³/10.æ¶é´å¤æåº¦.md",key:"v-016a9bfe",path:"/pages/fd9be6/",headers:[{level:2,title:"æ¶é´å¤æåº¦",slug:"æ¶é´å¤æåº¦",normalizedTitle:"æ¶é´å¤æåº¦",charIndex:171},{level:3,title:"å¸¸æ°é¶",slug:"å¸¸æ°é¶",normalizedTitle:"å¸¸æ°é¶",charIndex:864},{level:3,title:"çº¿æ§é¶",slug:"çº¿æ§é¶",normalizedTitle:"çº¿æ§é¶",charIndex:871},{level:3,title:"å¹³æ¹é¶",slug:"å¹³æ¹é¶",normalizedTitle:"å¹³æ¹é¶",charIndex:878},{level:3,title:"ææ°é¶",slug:"ææ°é¶",normalizedTitle:"ææ°é¶",charIndex:908},{level:3,title:"å¯¹æ°é¶",slug:"å¯¹æ°é¶",normalizedTitle:"å¯¹æ°é¶",charIndex:892},{level:3,title:"çº¿æ§å¯¹æ°é¶",slug:"çº¿æ§å¯¹æ°é¶",normalizedTitle:"çº¿æ§å¯¹æ°é¶",charIndex:899},{level:2,title:"ç©ºé´å¤æåº¦",slug:"ç©ºé´å¤æåº¦",normalizedTitle:"ç©ºé´å¤æåº¦",charIndex:215},{level:3,title:"ç©ºé´å¤æåº¦",slug:"ç©ºé´å¤æåº¦-2",normalizedTitle:"ç©ºé´å¤æåº¦",charIndex:215},{level:3,title:"ç©ºé´å¤æåº¦",slug:"ç©ºé´å¤æåº¦-3",normalizedTitle:"ç©ºé´å¤æåº¦",charIndex:215},{level:2,title:"å¤æåº¦éæ¥è¡¨",slug:"å¤æåº¦éæ¥è¡¨",normalizedTitle:"å¤æåº¦éæ¥è¡¨",charIndex:2964},{level:3,title:"å¾ä¾",slug:"å¾ä¾",normalizedTitle:"å¾ä¾",charIndex:3063},{level:3,title:"å¤§-O å¤æåº¦æ²çº¿",slug:"å¤§-o-å¤æåº¦æ²çº¿",normalizedTitle:"å¤§-o å¤æåº¦æ²çº¿",charIndex:3072},{level:3,title:"æ½è±¡æ°æ®ç»æçæä½å¤æåº¦",slug:"æ½è±¡æ°æ®ç»æçæä½å¤æåº¦",normalizedTitle:"æ½è±¡æ°æ®ç»æçæä½å¤æåº¦",charIndex:3088},{level:3,title:"æ°ç»æåº",slug:"æ°ç»æåº",normalizedTitle:"æ°ç»æåº",charIndex:3107},{level:3,title:"å¾æä½",slug:"å¾æä½",normalizedTitle:"å¾æä½",charIndex:3118},{level:3,title:"å æä½",slug:"å æä½",normalizedTitle:"å æä½",charIndex:3128}],headersStr:"æ¶é´å¤æåº¦ å¸¸æ°é¶ çº¿æ§é¶ å¹³æ¹é¶ ææ°é¶ å¯¹æ°é¶ çº¿æ§å¯¹æ°é¶ ç©ºé´å¤æåº¦ ç©ºé´å¤æåº¦ ç©ºé´å¤æåº¦ å¤æåº¦éæ¥è¡¨ å¾ä¾ å¤§-O å¤æåº¦æ²çº¿ æ½è±¡æ°æ®ç»æçæä½å¤æåº¦ æ°ç»æåº å¾æä½ å æä½",content:"ç®æ³ï¼Algorithmï¼æ¯æç¨æ¥æä½æ°æ®ãè§£å³ç¨åºé®é¢çä¸ç»æ¹æ³ãå¯¹äºåä¸ä¸ªé®é¢ï¼ä½¿ç¨ä¸åçç®æ³ï¼ä¹è®¸æç»å¾å°çç»ææ¯ä¸æ ·çï¼ä½å¨è¿ç¨ä¸­æ¶èçèµæºåæ¶é´å´ä¼æå¾å¤§çåºå«ã\n\né£ä¹æä»¬åºè¯¥å¦ä½å»è¡¡éä¸åç®æ³ä¹é´çä¼å£å¢ï¼\n\nä¸»è¦è¿æ¯ä»ç®æ³æå ç¨çãæ¶é´ãåãç©ºé´ãä¸¤ä¸ªç»´åº¦å»èéã\n\n * æ¶é´ç»´åº¦ï¼æ¯ææ§è¡å½åç®æ³ææ¶èçæ¶é´ï¼æä»¬éå¸¸ç¨ãæ¶é´å¤æåº¦ãæ¥æè¿°ã\n * ç©ºé´ç»´åº¦ï¼æ¯ææ§è¡å½åç®æ³éè¦å ç¨å¤å°åå­ç©ºé´ï¼æä»¬éå¸¸ç¨ãç©ºé´å¤æåº¦ãæ¥æè¿°ã\n\nå æ­¤ï¼è¯ä»·ä¸ä¸ªç®æ³çæçä¸»è¦æ¯çå®çæ¶é´å¤æåº¦åç©ºé´å¤æåº¦æåµãç¶èï¼æçæ¶åæ¶é´åç©ºé´å´åæ¯ãé±¼åçæãï¼ä¸å¯å¼å¾çï¼é£ä¹æä»¬å°±éè¦ä»ä¸­å»åä¸ä¸ªå¹³è¡¡ç¹ã\n\n> æ°æ®ç»æåç®æ³æ¬èº«è§£å³çæ¯âå¿«âåâçâçé®é¢ï¼å³å¦ä½è®©ä»£ç è¿è¡å¾æ´å¿«ï¼å¦ä½è®©ä»£ç æ´çå­å¨ç©ºé´ãæä»¥ï¼æ§è¡æçæ¯ç®æ³ä¸ä¸ªéå¸¸éè¦çèéææ ãé£å¦ä½æ¥è¡¡éä½ ç¼åçç®æ³ä»£ç çæ§è¡æçå¢ï¼\n> \n> å°±æ¯ï¼æ¶é´ãç©ºé´å¤æåº¦\n\n\n# æ¶é´å¤æåº¦\n\nä¸ä¸ªç®æ³æ§è¡æèè´¹çæ¶é´ï¼ä»çè®ºä¸æ¯ä¸è½ç®åºæ¥çï¼å¿é¡»ä¸æºè¿è¡æµè¯æè½ç¥éãèä¸æµè¯ç¯å¢ä¸­çç¡¬ä»¶æ§è½åæµè¯æ°æ®è§æ¨¡é½ä¼å¯¹å¶æå¾å¤§çå½±åãæä»¬ä¹ä¸å¯è½ä¹æ²¡æå¿è¦å¯¹æ¯ä¸ªç®æ³é½ä¸æºæµè¯ï¼åªéç¥éåªä¸ªç®æ³è±è´¹çæ¶é´å¤ï¼åªä¸ªç®æ³è±è´¹çæ¶é´å°å°±å¯ä»¥äºãå¹¶ä¸ä¸ä¸ªç®æ³è±è´¹çæ¶é´ä¸ç®æ³ä¸­è¯­å¥çæ§è¡æ¬¡æ°ææ­£æ¯ä¾ï¼åªä¸ªç®æ³ä¸­è¯­å¥æ§è¡æ¬¡æ°å¤ï¼å®è±è´¹æ¶é´å°±å¤ãä¸ä¸ªç®æ³ä¸­çè¯­å¥æ§è¡æ¬¡æ°ç§°ä¸ºè¯­å¥é¢åº¦æãæ¶é´é¢åº¦ããè®°ä¸ºT(n)ã\n\næ¶é´é¢åº¦T(n)ä¸­ï¼n ç§°ä¸ºé®é¢çè§æ¨¡ï¼å½ n ä¸æ­ååæ¶ï¼æ¶é´é¢åº¦ T(n) ä¹ä¼ä¸æ­ååãä½ææ¶æä»¬æ³ç¥éå®ååæ¶åç°ä»ä¹è§å¾ï¼ä¸ºæ­¤æä»¬å¼å¥æ¶é´å¤æåº¦çæ¦å¿µãç®æ³çæ¶é´å¤æåº¦ä¹å°±æ¯ç®æ³çæ¶é´åº¦éï¼è®°ä½ï¼ãå®è¡¨ç¤ºéé®é¢è§æ¨¡ n çå¢å¤§ï¼ç®æ³æ§è¡æ¶é´çå¢é¿çå f(n) çå¢é¿çç¸åï¼ç§°ä½ç®æ³çæ¸è¿æ¶é´å¤æåº¦ï¼ç®ç§°ãæ¶é´å¤æåº¦ãã\n\nè¿ç§è¡¨ç¤ºæ¹æ³æä»¬ç§°ä¸ºã å¤§Oç¬¦å·è¡¨ç¤ºæ³ ãï¼åç§°ä¸ºæ¸è¿ç¬¦å·ï¼æ¯ç¨äºæè¿°å½æ°æ¸è¿è¡ä¸ºçæ°å­¦ç¬¦å·\n\nå¸¸è§çæ¶é´å¤æåº¦éçº§æï¼\n\n * å¸¸æ°é¶\n * çº¿æ§é¶\n * å¹³æ¹é¶\n * ç«æ¹é¶\n * å¯¹æ°é¶\n * çº¿æ§å¯¹æ°é¶\n * ææ°é¶\n\n\n# å¸¸æ°é¶\n\nï¼è¡¨ç¤ºè¯¥ç®æ³çæ§è¡æ¶é´ï¼ææ§è¡æ¶å ç¨ç©ºé´ï¼æ»æ¯ä¸ºä¸ä¸ªå¸¸éï¼ä¸è®ºè¾å¥çæ°æ®éæ¯å¤§æ¯å°ï¼åªè¦æ¯æ²¡æå¾ªç¯ç­å¤æç»æï¼é£è¿ä¸ªä»£ç çæ¶é´å¤æåº¦å°±é½æ¯O(1)ï¼å¦ï¼\n\nint i = 1;\nint j = 2;\nint k = i + j;\n\n\n1\n2\n3\n\n\nä¸è¿°ä»£ç å¨æ§è¡çæ¶åï¼å®æ¶èçæ¶åå¹¶ä¸éçæä¸ªåéçå¢é¿èå¢é¿ï¼é£ä¹æ è®ºè¿ç±»ä»£ç æå¤é¿ï¼å³ä½¿æå ä¸å åä¸è¡ï¼é½å¯ä»¥ç¨æ¥è¡¨ç¤ºå®çæ¶é´å¤æåº¦ã\n\n\n# çº¿æ§é¶\n\nï¼è¡¨ç¤ºä¸ä¸ªç®æ³çæ§è½ä¼éçè¾å¥æ°æ®çå¤§å°ååèçº¿æ§ååï¼å¦\n\nfor (int i = 0; i < n; i++) {\n   j = i;\n   j++;\n}\n\n\n1\n2\n3\n4\n\n\nè¿æ®µä»£ç ï¼forå¾ªç¯éé¢çä»£ç ä¼æ§è¡néï¼å æ­¤å®æ¶èçæ¶é´æ¯éçnçååèååçï¼å æ­¤è¿ç±»ä»£ç é½å¯ä»¥ç¨æ¥è¡¨ç¤ºå®çæ¶é´å¤æåº¦ã\n\n\n# å¹³æ¹é¶\n\nÂ² è¡¨ç¤ºä¸ä¸ªç®æ³çæ§è½å°ä¼éçè¾å¥æ°æ®çå¢é¿èåç°åºäºæ¬¡å¢é¿ãæå¸¸è§çå°±æ¯å¯¹è¾å¥æ°æ®è¿è¡åµå¥å¾ªç¯ãå¦æåµå¥å±çº§ä¸æ­æ·±å¥çè¯ï¼ç®æ³çæ§è½å°ä¼åä¸ºç«æ¹é¶ï¼ï¼ä»¥æ­¤ç±»æ¨\n\nfor(x=1; i<=n; x++){\n   for(i=1; i<=n; i++){\n       j = i;\n       j++;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ææ°é¶\n\nï¼è¡¨ç¤ºä¸ä¸ªç®æ³çæ§è½ä¼éçè¾å¥æ°æ®çæ¯æ¬¡å¢å èå¢å¤§ä¸¤åï¼å¸åçæ¹æ³å°±æ¯è£´æ³¢é£å¥æ°åçéå½è®¡ç®å®ç°\n\nint Fibonacci(int number)\n{\n    if (number <= 1) return number;\n\n    return Fibonacci(number - 2) + Fibonacci(number - 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å¯¹æ°é¶\n\nint i = 1;\nwhile(i<n)\n{\n    i = i * 2;\n}\n\n\n1\n2\n3\n4\n5\n\n\nä¸é¢çä»£ç ï¼å¨whileå¾ªç¯éé¢ï¼æ¯æ¬¡é½å° i ä¹ä»¥ 2ï¼ä¹å®ä¹åï¼i è·ç¦» n å°±è¶æ¥è¶è¿äºï¼ç´å°iä¸å°äºnéåºãæä»¬è¯çæ±è§£ä¸ä¸ï¼åè®¾å¾ªç¯æ¬¡æ°ä¸ºxï¼ä¹å°±æ¯è¯´ 2 ç x æ¬¡æ¹ç­äº nï¼åç±2^x=nå¾åºx=logânãå æ­¤è¿ä¸ªä»£ç çæ¶é´å¤æåº¦ä¸º\n\n\n# çº¿æ§å¯¹æ°é¶\n\nçº¿æ§å¯¹æ°é¶$O(nlogn) ï¼å°±æ¯å°æ¶é´å¤æåº¦ä¸ºå¯¹æ°é¶O(logn)çä»£ç å¾ªç¯éçè¯ï¼é£ä¹å®çæ¶é´å¤æåº¦å°±æ¯ï¼ä¹å°±æ¯äºO(nlogn)$ï¼å¦ä¸ï¼\n\nfor(m=1; m<n; m++)\n{\n    i = 1;\n    while(i<n)\n    {\n        i = i * 2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\né¤æ­¤ä¹å¤ï¼å¶å®è¿æå¹³åæåµå¤æåº¦ãæå¥½æ¶é´å¤æåº¦ãæåæ¶é´å¤æåº¦ãããä¸è¬æ²¡æç¹æ®è¯´æçæåµä¸ï¼é½æ¯å¼æåæ¶é´å¤æåº¦ã\n\n----------------------------------------\n\n\n# ç©ºé´å¤æåº¦\n\nç©ºé´å¤æåº¦ï¼Space Complexityï¼æ¯å¯¹ä¸ä¸ªç®æ³å¨è¿è¡è¿ç¨ä¸­ä¸´æ¶å ç¨å­å¨ç©ºé´å¤§å°çä¸ä¸ªéåº¦ï¼åæ ·åæ çæ¯ä¸ä¸ªè¶å¿ï¼ä¸ä¸ªç®æ³æéçå­å¨ç©ºé´ç¨f(n)è¡¨ç¤ºãï¼å¶ä¸­ n ä¸ºé®é¢çè§æ¨¡ï¼S(n) è¡¨ç¤ºç©ºé´å¤æåº¦ã\n\nä¸ä¸ªç®æ³å¨è®¡ç®æºå­å¨å¨ä¸æå ç¨çå­å¨ç©ºé´ï¼åæ¬å­å¨ç®æ³æ¬èº«æå ç¨çå­å¨ç©ºé´ï¼ç®æ³çè¾å¥è¾åºæ°æ®æå ç¨çå­å¨ç©ºé´åç®æ³å¨è¿è¡è¿ç¨ä¸­ä¸´æ¶å ç¨çå­å¨ç©ºé´è¿ä¸ä¸ªæ¹é¢ã\n\nä¸è¬æåµä¸ï¼ä¸ä¸ªç¨åºå¨æºå¨ä¸æ§è¡æ¶ï¼é¤äºéè¦å­å¨ç¨åºæ¬èº«çæä»¤ãå¸¸æ°ãåéåè¾å¥æ°æ®å¤ï¼è¿éè¦å­å¨å¯¹æ°æ®æä½çå­å¨ååãè¥è¾å¥æ°æ®æå ç©ºé´åªåå³äºé®é¢æ¬èº«ï¼åç®æ³æ å³ï¼è¿æ ·åªéè¦åæè¯¥ç®æ³å¨å®ç°æ¶æéçè¾å©ååå³å¯ãè¥ç®æ³æ§è¡æ¶æéçè¾å©ç©ºé´ç¸å¯¹äºè¾å¥æ°æ®éèè¨æ¯ä¸ªå¸¸æ°ï¼åç§°æ­¤ç®æ³ä¸ºåå°å·¥ä½ï¼ç©ºé´å¤æåº¦ä¸º ãå½ä¸ä¸ªç®æ³çç©ºé´å¤æåº¦ä¸næçº¿æ§æ¯ä¾å³ç³»æ¶ï¼å¯è¡¨ç¤ºä¸ºï¼ç±»æ¯æ¶é´å¤æåº¦ã\n\nç©ºé´å¤æåº¦æ¯è¾å¸¸ç¨çæï¼ããÂ²\n\n\n# ç©ºé´å¤æåº¦\n\nå¦æç®æ³æ§è¡æéè¦çä¸´æ¶ç©ºé´ä¸éçæä¸ªåénçå¤§å°èååï¼å³æ­¤ç®æ³ç©ºé´å¤æåº¦ä¸ºä¸ä¸ªå¸¸éï¼å¯è¡¨ç¤ºä¸º O(1) ä¸¾ä¾ï¼\n\nint i = 1;\nint j = 2;\n++i;\nj++;\nint m = i + j;\n\n\n1\n2\n3\n4\n5\n\n\nä»£ç ä¸­ç iãjãm æåéçç©ºé´é½ä¸éçå¤çæ°æ®éååï¼å æ­¤å®çç©ºé´å¤æåº¦ S(n) = O(1)\n\n\n# ç©ºé´å¤æåº¦\n\nint[] m = new int[n]\nfor(i=1; i<=n; ++i)\n{\n   j = i;\n   j++;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿æ®µä»£ç ä¸­ï¼ç¬¬ä¸è¡newäºä¸ä¸ªæ°ç»åºæ¥ï¼è¿ä¸ªæ°æ®å ç¨çå¤§å°ä¸ºnï¼è¿æ®µä»£ç ç2-6è¡ï¼è½ç¶æå¾ªç¯ï¼ä½æ²¡æååéæ°çç©ºé´ï¼å æ­¤ï¼è¿æ®µä»£ç çç©ºé´å¤æåº¦ä¸»è¦çç¬¬ä¸è¡å³å¯ï¼å³ S(n) = O(n)\n\n----------------------------------------\n\n\n# å¤æåº¦éæ¥è¡¨\n\næ¥æºï¼https://liam.page/2016/06/20/big-O-cheat-sheet/ æºå°åï¼https://www.bigocheatsheet.com/\n\n\n# å¾ä¾\n\n\n\n\n# å¤§-O å¤æåº¦æ²çº¿\n\n\n\n\n# æ½è±¡æ°æ®ç»æçæä½å¤æåº¦\n\n\n\n\n# æ°ç»æåº\n\n\n\n\n# å¾æä½\n\n\n\n\n# å æä½\n\n",normalizedContent:"ç®æ³ï¼algorithmï¼æ¯æç¨æ¥æä½æ°æ®ãè§£å³ç¨åºé®é¢çä¸ç»æ¹æ³ãå¯¹äºåä¸ä¸ªé®é¢ï¼ä½¿ç¨ä¸åçç®æ³ï¼ä¹è®¸æç»å¾å°çç»ææ¯ä¸æ ·çï¼ä½å¨è¿ç¨ä¸­æ¶èçèµæºåæ¶é´å´ä¼æå¾å¤§çåºå«ã\n\né£ä¹æä»¬åºè¯¥å¦ä½å»è¡¡éä¸åç®æ³ä¹é´çä¼å£å¢ï¼\n\nä¸»è¦è¿æ¯ä»ç®æ³æå ç¨çãæ¶é´ãåãç©ºé´ãä¸¤ä¸ªç»´åº¦å»èéã\n\n * æ¶é´ç»´åº¦ï¼æ¯ææ§è¡å½åç®æ³ææ¶èçæ¶é´ï¼æä»¬éå¸¸ç¨ãæ¶é´å¤æåº¦ãæ¥æè¿°ã\n * ç©ºé´ç»´åº¦ï¼æ¯ææ§è¡å½åç®æ³éè¦å ç¨å¤å°åå­ç©ºé´ï¼æä»¬éå¸¸ç¨ãç©ºé´å¤æåº¦ãæ¥æè¿°ã\n\nå æ­¤ï¼è¯ä»·ä¸ä¸ªç®æ³çæçä¸»è¦æ¯çå®çæ¶é´å¤æåº¦åç©ºé´å¤æåº¦æåµãç¶èï¼æçæ¶åæ¶é´åç©ºé´å´åæ¯ãé±¼åçæãï¼ä¸å¯å¼å¾çï¼é£ä¹æä»¬å°±éè¦ä»ä¸­å»åä¸ä¸ªå¹³è¡¡ç¹ã\n\n> æ°æ®ç»æåç®æ³æ¬èº«è§£å³çæ¯âå¿«âåâçâçé®é¢ï¼å³å¦ä½è®©ä»£ç è¿è¡å¾æ´å¿«ï¼å¦ä½è®©ä»£ç æ´çå­å¨ç©ºé´ãæä»¥ï¼æ§è¡æçæ¯ç®æ³ä¸ä¸ªéå¸¸éè¦çèéææ ãé£å¦ä½æ¥è¡¡éä½ ç¼åçç®æ³ä»£ç çæ§è¡æçå¢ï¼\n> \n> å°±æ¯ï¼æ¶é´ãç©ºé´å¤æåº¦\n\n\n# æ¶é´å¤æåº¦\n\nä¸ä¸ªç®æ³æ§è¡æèè´¹çæ¶é´ï¼ä»çè®ºä¸æ¯ä¸è½ç®åºæ¥çï¼å¿é¡»ä¸æºè¿è¡æµè¯æè½ç¥éãèä¸æµè¯ç¯å¢ä¸­çç¡¬ä»¶æ§è½åæµè¯æ°æ®è§æ¨¡é½ä¼å¯¹å¶æå¾å¤§çå½±åãæä»¬ä¹ä¸å¯è½ä¹æ²¡æå¿è¦å¯¹æ¯ä¸ªç®æ³é½ä¸æºæµè¯ï¼åªéç¥éåªä¸ªç®æ³è±è´¹çæ¶é´å¤ï¼åªä¸ªç®æ³è±è´¹çæ¶é´å°å°±å¯ä»¥äºãå¹¶ä¸ä¸ä¸ªç®æ³è±è´¹çæ¶é´ä¸ç®æ³ä¸­è¯­å¥çæ§è¡æ¬¡æ°ææ­£æ¯ä¾ï¼åªä¸ªç®æ³ä¸­è¯­å¥æ§è¡æ¬¡æ°å¤ï¼å®è±è´¹æ¶é´å°±å¤ãä¸ä¸ªç®æ³ä¸­çè¯­å¥æ§è¡æ¬¡æ°ç§°ä¸ºè¯­å¥é¢åº¦æãæ¶é´é¢åº¦ããè®°ä¸ºt(n)ã\n\næ¶é´é¢åº¦t(n)ä¸­ï¼n ç§°ä¸ºé®é¢çè§æ¨¡ï¼å½ n ä¸æ­ååæ¶ï¼æ¶é´é¢åº¦ t(n) ä¹ä¼ä¸æ­ååãä½ææ¶æä»¬æ³ç¥éå®ååæ¶åç°ä»ä¹è§å¾ï¼ä¸ºæ­¤æä»¬å¼å¥æ¶é´å¤æåº¦çæ¦å¿µãç®æ³çæ¶é´å¤æåº¦ä¹å°±æ¯ç®æ³çæ¶é´åº¦éï¼è®°ä½ï¼ãå®è¡¨ç¤ºéé®é¢è§æ¨¡ n çå¢å¤§ï¼ç®æ³æ§è¡æ¶é´çå¢é¿çå f(n) çå¢é¿çç¸åï¼ç§°ä½ç®æ³çæ¸è¿æ¶é´å¤æåº¦ï¼ç®ç§°ãæ¶é´å¤æåº¦ãã\n\nè¿ç§è¡¨ç¤ºæ¹æ³æä»¬ç§°ä¸ºã å¤§oç¬¦å·è¡¨ç¤ºæ³ ãï¼åç§°ä¸ºæ¸è¿ç¬¦å·ï¼æ¯ç¨äºæè¿°å½æ°æ¸è¿è¡ä¸ºçæ°å­¦ç¬¦å·\n\nå¸¸è§çæ¶é´å¤æåº¦éçº§æï¼\n\n * å¸¸æ°é¶\n * çº¿æ§é¶\n * å¹³æ¹é¶\n * ç«æ¹é¶\n * å¯¹æ°é¶\n * çº¿æ§å¯¹æ°é¶\n * ææ°é¶\n\n\n# å¸¸æ°é¶\n\nï¼è¡¨ç¤ºè¯¥ç®æ³çæ§è¡æ¶é´ï¼ææ§è¡æ¶å ç¨ç©ºé´ï¼æ»æ¯ä¸ºä¸ä¸ªå¸¸éï¼ä¸è®ºè¾å¥çæ°æ®éæ¯å¤§æ¯å°ï¼åªè¦æ¯æ²¡æå¾ªç¯ç­å¤æç»æï¼é£è¿ä¸ªä»£ç çæ¶é´å¤æåº¦å°±é½æ¯o(1)ï¼å¦ï¼\n\nint i = 1;\nint j = 2;\nint k = i + j;\n\n\n1\n2\n3\n\n\nä¸è¿°ä»£ç å¨æ§è¡çæ¶åï¼å®æ¶èçæ¶åå¹¶ä¸éçæä¸ªåéçå¢é¿èå¢é¿ï¼é£ä¹æ è®ºè¿ç±»ä»£ç æå¤é¿ï¼å³ä½¿æå ä¸å åä¸è¡ï¼é½å¯ä»¥ç¨æ¥è¡¨ç¤ºå®çæ¶é´å¤æåº¦ã\n\n\n# çº¿æ§é¶\n\nï¼è¡¨ç¤ºä¸ä¸ªç®æ³çæ§è½ä¼éçè¾å¥æ°æ®çå¤§å°ååèçº¿æ§ååï¼å¦\n\nfor (int i = 0; i < n; i++) {\n   j = i;\n   j++;\n}\n\n\n1\n2\n3\n4\n\n\nè¿æ®µä»£ç ï¼forå¾ªç¯éé¢çä»£ç ä¼æ§è¡néï¼å æ­¤å®æ¶èçæ¶é´æ¯éçnçååèååçï¼å æ­¤è¿ç±»ä»£ç é½å¯ä»¥ç¨æ¥è¡¨ç¤ºå®çæ¶é´å¤æåº¦ã\n\n\n# å¹³æ¹é¶\n\nÂ² è¡¨ç¤ºä¸ä¸ªç®æ³çæ§è½å°ä¼éçè¾å¥æ°æ®çå¢é¿èåç°åºäºæ¬¡å¢é¿ãæå¸¸è§çå°±æ¯å¯¹è¾å¥æ°æ®è¿è¡åµå¥å¾ªç¯ãå¦æåµå¥å±çº§ä¸æ­æ·±å¥çè¯ï¼ç®æ³çæ§è½å°ä¼åä¸ºç«æ¹é¶ï¼ï¼ä»¥æ­¤ç±»æ¨\n\nfor(x=1; i<=n; x++){\n   for(i=1; i<=n; i++){\n       j = i;\n       j++;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# ææ°é¶\n\nï¼è¡¨ç¤ºä¸ä¸ªç®æ³çæ§è½ä¼éçè¾å¥æ°æ®çæ¯æ¬¡å¢å èå¢å¤§ä¸¤åï¼å¸åçæ¹æ³å°±æ¯è£´æ³¢é£å¥æ°åçéå½è®¡ç®å®ç°\n\nint fibonacci(int number)\n{\n    if (number <= 1) return number;\n\n    return fibonacci(number - 2) + fibonacci(number - 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å¯¹æ°é¶\n\nint i = 1;\nwhile(i<n)\n{\n    i = i * 2;\n}\n\n\n1\n2\n3\n4\n5\n\n\nä¸é¢çä»£ç ï¼å¨whileå¾ªç¯éé¢ï¼æ¯æ¬¡é½å° i ä¹ä»¥ 2ï¼ä¹å®ä¹åï¼i è·ç¦» n å°±è¶æ¥è¶è¿äºï¼ç´å°iä¸å°äºnéåºãæä»¬è¯çæ±è§£ä¸ä¸ï¼åè®¾å¾ªç¯æ¬¡æ°ä¸ºxï¼ä¹å°±æ¯è¯´ 2 ç x æ¬¡æ¹ç­äº nï¼åç±2^x=nå¾åºx=logânãå æ­¤è¿ä¸ªä»£ç çæ¶é´å¤æåº¦ä¸º\n\n\n# çº¿æ§å¯¹æ°é¶\n\nçº¿æ§å¯¹æ°é¶$o(nlogn) ï¼å°±æ¯å°æ¶é´å¤æåº¦ä¸ºå¯¹æ°é¶o(logn)çä»£ç å¾ªç¯éçè¯ï¼é£ä¹å®çæ¶é´å¤æåº¦å°±æ¯ï¼ä¹å°±æ¯äºo(nlogn)$ï¼å¦ä¸ï¼\n\nfor(m=1; m<n; m++)\n{\n    i = 1;\n    while(i<n)\n    {\n        i = i * 2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\né¤æ­¤ä¹å¤ï¼å¶å®è¿æå¹³åæåµå¤æåº¦ãæå¥½æ¶é´å¤æåº¦ãæåæ¶é´å¤æåº¦ãããä¸è¬æ²¡æç¹æ®è¯´æçæåµä¸ï¼é½æ¯å¼æåæ¶é´å¤æåº¦ã\n\n----------------------------------------\n\n\n# ç©ºé´å¤æåº¦\n\nç©ºé´å¤æåº¦ï¼space complexityï¼æ¯å¯¹ä¸ä¸ªç®æ³å¨è¿è¡è¿ç¨ä¸­ä¸´æ¶å ç¨å­å¨ç©ºé´å¤§å°çä¸ä¸ªéåº¦ï¼åæ ·åæ çæ¯ä¸ä¸ªè¶å¿ï¼ä¸ä¸ªç®æ³æéçå­å¨ç©ºé´ç¨f(n)è¡¨ç¤ºãï¼å¶ä¸­ n ä¸ºé®é¢çè§æ¨¡ï¼s(n) è¡¨ç¤ºç©ºé´å¤æåº¦ã\n\nä¸ä¸ªç®æ³å¨è®¡ç®æºå­å¨å¨ä¸æå ç¨çå­å¨ç©ºé´ï¼åæ¬å­å¨ç®æ³æ¬èº«æå ç¨çå­å¨ç©ºé´ï¼ç®æ³çè¾å¥è¾åºæ°æ®æå ç¨çå­å¨ç©ºé´åç®æ³å¨è¿è¡è¿ç¨ä¸­ä¸´æ¶å ç¨çå­å¨ç©ºé´è¿ä¸ä¸ªæ¹é¢ã\n\nä¸è¬æåµä¸ï¼ä¸ä¸ªç¨åºå¨æºå¨ä¸æ§è¡æ¶ï¼é¤äºéè¦å­å¨ç¨åºæ¬èº«çæä»¤ãå¸¸æ°ãåéåè¾å¥æ°æ®å¤ï¼è¿éè¦å­å¨å¯¹æ°æ®æä½çå­å¨ååãè¥è¾å¥æ°æ®æå ç©ºé´åªåå³äºé®é¢æ¬èº«ï¼åç®æ³æ å³ï¼è¿æ ·åªéè¦åæè¯¥ç®æ³å¨å®ç°æ¶æéçè¾å©ååå³å¯ãè¥ç®æ³æ§è¡æ¶æéçè¾å©ç©ºé´ç¸å¯¹äºè¾å¥æ°æ®éèè¨æ¯ä¸ªå¸¸æ°ï¼åç§°æ­¤ç®æ³ä¸ºåå°å·¥ä½ï¼ç©ºé´å¤æåº¦ä¸º ãå½ä¸ä¸ªç®æ³çç©ºé´å¤æåº¦ä¸næçº¿æ§æ¯ä¾å³ç³»æ¶ï¼å¯è¡¨ç¤ºä¸ºï¼ç±»æ¯æ¶é´å¤æåº¦ã\n\nç©ºé´å¤æåº¦æ¯è¾å¸¸ç¨çæï¼ããÂ²\n\n\n# ç©ºé´å¤æåº¦\n\nå¦æç®æ³æ§è¡æéè¦çä¸´æ¶ç©ºé´ä¸éçæä¸ªåénçå¤§å°èååï¼å³æ­¤ç®æ³ç©ºé´å¤æåº¦ä¸ºä¸ä¸ªå¸¸éï¼å¯è¡¨ç¤ºä¸º o(1) ä¸¾ä¾ï¼\n\nint i = 1;\nint j = 2;\n++i;\nj++;\nint m = i + j;\n\n\n1\n2\n3\n4\n5\n\n\nä»£ç ä¸­ç iãjãm æåéçç©ºé´é½ä¸éçå¤çæ°æ®éååï¼å æ­¤å®çç©ºé´å¤æåº¦ s(n) = o(1)\n\n\n# ç©ºé´å¤æåº¦\n\nint[] m = new int[n]\nfor(i=1; i<=n; ++i)\n{\n   j = i;\n   j++;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿æ®µä»£ç ä¸­ï¼ç¬¬ä¸è¡newäºä¸ä¸ªæ°ç»åºæ¥ï¼è¿ä¸ªæ°æ®å ç¨çå¤§å°ä¸ºnï¼è¿æ®µä»£ç ç2-6è¡ï¼è½ç¶æå¾ªç¯ï¼ä½æ²¡æååéæ°çç©ºé´ï¼å æ­¤ï¼è¿æ®µä»£ç çç©ºé´å¤æåº¦ä¸»è¦çç¬¬ä¸è¡å³å¯ï¼å³ s(n) = o(n)\n\n----------------------------------------\n\n\n# å¤æåº¦éæ¥è¡¨\n\næ¥æºï¼https://liam.page/2016/06/20/big-o-cheat-sheet/ æºå°åï¼https://www.bigocheatsheet.com/\n\n\n# å¾ä¾\n\n\n\n\n# å¤§-o å¤æåº¦æ²çº¿\n\n\n\n\n# æ½è±¡æ°æ®ç»æçæä½å¤æåº¦\n\n\n\n\n# æ°ç»æåº\n\n\n\n\n# å¾æä½\n\n\n\n\n# å æä½\n\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æåº",frontmatter:{title:"æåº",date:"2022-10-11T23:42:27.000Z",permalink:"/pages/3205b9/",categories:["è®¡ç®æºåºç¡","ç®æ³"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/40.%E7%AE%97%E6%B3%95/20.%E6%8E%92%E5%BA%8F.html",relativePath:"02.è®¡ç®æºåºç¡/40.ç®æ³/20.æåº.md",key:"v-57b9b0cf",path:"/pages/3205b9/",headers:[{level:2,title:"åæ³¡æåº",slug:"åæ³¡æåº",normalizedTitle:"åæ³¡æåº",charIndex:104},{level:3,title:"1. ç®æ³æ­¥éª¤",slug:"_1-ç®æ³æ­¥éª¤",normalizedTitle:"1. ç®æ³æ­¥éª¤",charIndex:915},{level:3,title:"2. å¨å¾æ¼ç¤º",slug:"_2-å¨å¾æ¼ç¤º",normalizedTitle:"2. å¨å¾æ¼ç¤º",charIndex:1060},{level:3,title:"3. ä»ä¹æ¶åæå¿«",slug:"_3-ä»ä¹æ¶åæå¿«",normalizedTitle:"3. ä»ä¹æ¶åæå¿«",charIndex:1074},{level:3,title:"4. ä»ä¹æ¶åææ¢",slug:"_4-ä»ä¹æ¶åææ¢",normalizedTitle:"4. ä»ä¹æ¶åææ¢",charIndex:1125},{level:2,title:"éæ©æåº",slug:"éæ©æåº",normalizedTitle:"éæ©æåº",charIndex:99},{level:3,title:"1. ç®æ³æ­¥éª¤",slug:"_1-ç®æ³æ­¥éª¤-2",normalizedTitle:"1. ç®æ³æ­¥éª¤",charIndex:915},{level:3,title:"2. å¨å¾æ¼ç¤º",slug:"_2-å¨å¾æ¼ç¤º-2",normalizedTitle:"2. å¨å¾æ¼ç¤º",charIndex:1060},{level:2,title:"æå¥æåº",slug:"æå¥æåº",normalizedTitle:"æå¥æåº",charIndex:89},{level:3,title:"1. ç®æ³æ­¥éª¤",slug:"_1-ç®æ³æ­¥éª¤-3",normalizedTitle:"1. ç®æ³æ­¥éª¤",charIndex:915},{level:3,title:"2. å¨å¾æ¼ç¤º",slug:"_2-å¨å¾æ¼ç¤º-3",normalizedTitle:"2. å¨å¾æ¼ç¤º",charIndex:1060},{level:2,title:"å¿«éæåº",slug:"å¿«éæåº",normalizedTitle:"å¿«éæåº",charIndex:114},{level:3,title:"1. ç®æ³æ­¥éª¤",slug:"_1-ç®æ³æ­¥éª¤-4",normalizedTitle:"1. ç®æ³æ­¥éª¤",charIndex:915},{level:3,title:"2. å¨å¾æ¼ç¤º",slug:"_2-å¨å¾æ¼ç¤º-4",normalizedTitle:"2. å¨å¾æ¼ç¤º",charIndex:1060},{level:3,title:"åè¾¹æ«æ",slug:"åè¾¹æ«æ",normalizedTitle:"åè¾¹æ«æ",charIndex:4345},{level:3,title:"åè¾¹æ«æ",slug:"åè¾¹æ«æ",normalizedTitle:"åè¾¹æ«æ",charIndex:5292},{level:2,title:"å¸å°æåº",slug:"å¸å°æåº",normalizedTitle:"å¸å°æåº",charIndex:94},{level:3,title:"1. ç®æ³æ­¥éª¤",slug:"_1-ç®æ³æ­¥éª¤-5",normalizedTitle:"1. ç®æ³æ­¥éª¤",charIndex:915},{level:3,title:"2. å¨å¾æ¼ç¤º",slug:"_2-å¨å¾æ¼ç¤º-5",normalizedTitle:"2. å¨å¾æ¼ç¤º",charIndex:1060},{level:2,title:"å½å¹¶æåº",slug:"å½å¹¶æåº",normalizedTitle:"å½å¹¶æåº",charIndex:109},{level:3,title:"2. ç®æ³æ­¥éª¤",slug:"_2-ç®æ³æ­¥éª¤",normalizedTitle:"2. ç®æ³æ­¥éª¤",charIndex:7844},{level:3,title:"3. å¨å¾æ¼ç¤º",slug:"_3-å¨å¾æ¼ç¤º",normalizedTitle:"3. å¨å¾æ¼ç¤º",charIndex:8027},{level:2,title:"å æåº",slug:"å æåº",normalizedTitle:"å æåº",charIndex:119},{level:3,title:"1. ç®æ³æ­¥éª¤",slug:"_1-ç®æ³æ­¥éª¤-6",normalizedTitle:"1. ç®æ³æ­¥éª¤",charIndex:915},{level:3,title:"2. å¨å¾æ¼ç¤º",slug:"_2-å¨å¾æ¼ç¤º-6",normalizedTitle:"2. å¨å¾æ¼ç¤º",charIndex:1060},{level:2,title:"è®¡æ°æåº",slug:"è®¡æ°æåº",normalizedTitle:"è®¡æ°æåº",charIndex:8466},{level:3,title:"1. å¨å¾æ¼ç¤º",slug:"_1-å¨å¾æ¼ç¤º",normalizedTitle:"1. å¨å¾æ¼ç¤º",charIndex:8549},{level:2,title:"æ¡¶æåº",slug:"æ¡¶æåº",normalizedTitle:"æ¡¶æåº",charIndex:8581},{level:3,title:"1. ä»ä¹æ¶åæå¿«",slug:"_1-ä»ä¹æ¶åæå¿«",normalizedTitle:"1. ä»ä¹æ¶åæå¿«",charIndex:8756},{level:3,title:"2. ä»ä¹æ¶åææ¢",slug:"_2-ä»ä¹æ¶åææ¢",normalizedTitle:"2. ä»ä¹æ¶åææ¢",charIndex:8792},{level:2,title:"åºæ°æåº",slug:"åºæ°æåº",normalizedTitle:"åºæ°æåº",charIndex:123},{level:3,title:"1. åºæ°æåº vs è®¡æ°æåº vs æ¡¶æåº",slug:"_1-åºæ°æåº-vs-è®¡æ°æåº-vs-æ¡¶æåº",normalizedTitle:"1. åºæ°æåº vs è®¡æ°æåº vs æ¡¶æåº",charIndex:8933},{level:3,title:"2. LSD åºæ°æåºå¨å¾æ¼ç¤º",slug:"_2-lsd-åºæ°æåºå¨å¾æ¼ç¤º",normalizedTitle:"2. lsd åºæ°æåºå¨å¾æ¼ç¤º",charIndex:9077}],headersStr:"åæ³¡æåº 1. ç®æ³æ­¥éª¤ 2. å¨å¾æ¼ç¤º 3. ä»ä¹æ¶åæå¿« 4. ä»ä¹æ¶åææ¢ éæ©æåº 1. ç®æ³æ­¥éª¤ 2. å¨å¾æ¼ç¤º æå¥æåº 1. ç®æ³æ­¥éª¤ 2. å¨å¾æ¼ç¤º å¿«éæåº 1. ç®æ³æ­¥éª¤ 2. å¨å¾æ¼ç¤º åè¾¹æ«æ åè¾¹æ«æ å¸å°æåº 1. ç®æ³æ­¥éª¤ 2. å¨å¾æ¼ç¤º å½å¹¶æåº 2. ç®æ³æ­¥éª¤ 3. å¨å¾æ¼ç¤º å æåº 1. ç®æ³æ­¥éª¤ 2. å¨å¾æ¼ç¤º è®¡æ°æåº 1. å¨å¾æ¼ç¤º æ¡¶æåº 1. ä»ä¹æ¶åæå¿« 2. ä»ä¹æ¶åææ¢ åºæ°æåº 1. åºæ°æåº vs è®¡æ°æåº vs æ¡¶æåº 2. LSD åºæ°æåºå¨å¾æ¼ç¤º",content:'æåºç®æ³å¯ä»¥åä¸ºåé¨æåºåå¤é¨æåºï¼åé¨æåºæ¯æ°æ®è®°å½å¨åå­ä¸­è¿è¡æåºï¼èå¤é¨æåºæ¯å æåºçæ°æ®å¾å¤§ï¼ä¸æ¬¡ä¸è½å®¹çº³å¨é¨çæåºè®°å½ï¼å¨æåºè¿ç¨ä¸­éè¦è®¿é®å¤å­ãå¸¸è§çåé¨æåºç®æ³æï¼æå¥æåºãå¸å°æåºãéæ©æåºãåæ³¡æåºãå½å¹¶æåºãå¿«éæåºãå æåºãåºæ°æåºç­ãç¨ä¸å¼ å¾æ¦æ¬ï¼\n\n\n\nå³äºæ¶é´å¤æåº¦ï¼\n\n 1. å¹³æ¹é¶ () æåº åç±»ç®åæåºï¼ç´æ¥æå¥ãç´æ¥éæ©ååæ³¡æåºã\n 2. çº¿æ§å¯¹æ°é¶ (O(nlog2n)) æåºï¼ å¿«éæåºãå æåºåå½å¹¶æåºï¼\n 3. O(n1+Â§) æåºï¼Â§ æ¯ä»äº 0 å 1 ä¹é´çå¸¸æ°ã å¸å°æåº\n 4. çº¿æ§é¶ (O(n)) æåºï¼ åºæ°æåºï¼æ­¤å¤è¿ææ¡¶ãç®±æåºã\n\nå³äºç¨³å®æ§ï¼\n\nç¨³å®çæåºç®æ³ï¼åæ³¡æåºãæå¥æåºãå½å¹¶æåºååºæ°æåºã\n\nä¸æ¯ç¨³å®çæåºç®æ³ï¼éæ©æåºãå¿«éæåºãå¸å°æåºãå æåºã\n\nåè¯è§£éï¼\n\nnï¼æ°æ®è§æ¨¡\n\nkï¼âæ¡¶âçä¸ªæ°\n\nIn-placeï¼å ç¨å¸¸æ°åå­ï¼ä¸å ç¨é¢å¤åå­\n\nOut-placeï¼å ç¨é¢å¤åå­\n\nç¨³å®æ§ï¼æåºå 2 ä¸ªç¸ç­é®å¼çé¡ºåºåæåºä¹åå®ä»¬çé¡ºåºç¸å\n\nåç§å¸¸è§æåºç®æ³å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼\n\néçº¿æ§æ¶é´æ¯è¾ç±»æåºï¼éè¿æ¯è¾æ¥å³å®åç´ é´çç¸å¯¹æ¬¡åºï¼ç±äºå¶æ¶é´å¤æåº¦ä¸è½çªç ´ï¼å æ­¤ç§°ä¸ºéçº¿æ§æ¶é´æ¯è¾ç±»æåºã\n\nçº¿æ§æ¶é´éæ¯è¾ç±»æåºï¼ä¸éè¿æ¯è¾æ¥å³å®åç´ é´çç¸å¯¹æ¬¡åºï¼å®å¯ä»¥çªç ´åºäºæ¯è¾æåºçæ¶é´ä¸çï¼ä»¥çº¿æ§æ¶é´è¿è¡ï¼å æ­¤ç§°ä¸ºçº¿æ§æ¶é´éæ¯è¾ç±»æåºã\n\n\n# åæ³¡æåº\n\nåæ³¡æåºï¼Bubble Sortï¼ä¹æ¯ä¸ç§ç®åç´è§çæåºç®æ³ãå®éå¤å°èµ°è®¿è¿è¦æåºçæ°åï¼ä¸æ¬¡æ¯è¾ä¸¤ä¸ªåç´ ï¼å¦æä»ä»¬çé¡ºåºéè¯¯å°±æä»ä»¬äº¤æ¢è¿æ¥ãèµ°è®¿æ°åçå·¥ä½æ¯éå¤å°è¿è¡ç´å°æ²¡æåéè¦äº¤æ¢ï¼ä¹å°±æ¯è¯´è¯¥æ°åå·²ç»æåºå®æãè¿ä¸ªç®æ³çåå­ç±æ¥æ¯å ä¸ºè¶å°çåç´ ä¼ç»ç±äº¤æ¢æ¢æ¢âæµ®âå°æ°åçé¡¶ç«¯ã\n\nä½ä¸ºæç®åçæåºç®æ³ä¹ä¸ï¼åæ³¡æåºç»æçæè§å°±å Abandon å¨åè¯ä¹¦éåºç°çæè§ä¸æ ·ï¼æ¯æ¬¡é½å¨ç¬¬ä¸é¡µç¬¬ä¸ä½ï¼æä»¥æçæãåæ³¡æåºè¿æä¸ç§ä¼åç®æ³ï¼å°±æ¯ç«ä¸ä¸ª flagï¼å½å¨ä¸è¶åºåéåä¸­åç´ æ²¡æåçäº¤æ¢ï¼åè¯æè¯¥åºåå·²ç»æåºãä½è¿ç§æ¹è¿å¯¹äºæåæ§è½æ¥è¯´å¹¶æ²¡æä»ä¹å¤ªå¤§ä½ç¨ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. æ¯è¾ç¸é»çåç´ ãå¦æç¬¬ä¸ä¸ªæ¯ç¬¬äºä¸ªå¤§ï¼å°±äº¤æ¢ä»ä»¬ä¸¤ä¸ªã\n 2. å¯¹æ¯ä¸å¯¹ç¸é»åç´ ä½åæ ·çå·¥ä½ï¼ä»å¼å§ç¬¬ä¸å¯¹å°ç»å°¾çæåä¸å¯¹ãè¿æ­¥åå®åï¼æåçåç´ ä¼æ¯æå¤§çæ°ã\n 3. éå¯¹ææçåç´ éå¤ä»¥ä¸çæ­¥éª¤ï¼é¤äºæåä¸ä¸ªã\n 4. éå¤æ­¥éª¤1~3ï¼ç´å°æåºå®æã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\n\n# 3. ä»ä¹æ¶åæå¿«\n\nå½è¾å¥çæ°æ®å·²ç»æ¯æ­£åºæ¶ï¼é½å·²ç»æ¯æ­£åºäºï¼æè¿è¦ä½ åæ³¡æåºæä½ç¨åï¼ã\n\n\n# 4. ä»ä¹æ¶åææ¢\n\nå½è¾å¥çæ°æ®æ¯ååºæ¶ï¼åä¸ä¸ª for å¾ªç¯ååºè¾åºæ°æ®ä¸å°±è¡äºï¼å¹²åè¦ç¨ä½ åæ³¡æåºå¢ï¼ææ¯é²çåï¼ã\n\npublic class BubbleSort {\n\n    public static void main(String[] args) {\n        int[] arrs = {1, 3, 4, 2, 6, 5};\n\n        for (int i = 0; i < arrs.length; i++) {\n            for (int j = 0; j < arrs.length - 1 - i; j++) {\n                if (arrs[j] > arrs[j + 1]) {\n                    int tmp = arrs[j];\n                    arrs[j] = arrs[j + 1];\n                    arrs[j + 1] = tmp;\n                }\n            }\n        }\n\n        for (int arr : arrs) {\n            System.out.print(arr + " ");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nåµå¥å¾ªç¯ï¼åºè¯¥ç«é©¬å°±å¯ä»¥å¾åºè¿ä¸ªç®æ³çæ¶é´å¤æåº¦ä¸º Â²ã\n\n\n# éæ©æåº\n\néæ©æåºçæè·¯æ¯è¿æ ·çï¼é¦åï¼æ¾å°æ°ç»ä¸­æå°çåç´ ï¼æåºæ¥ï¼å°å®åæ°ç»çç¬¬ä¸ä¸ªåç´ äº¤æ¢ä½ç½®ï¼ç¬¬äºæ­¥ï¼å¨å©ä¸çåç´ ä¸­ç»§ç»­å¯»æ¾æå°çåç´ ï¼æåºæ¥ï¼åæ°ç»çç¬¬äºä¸ªåç´ äº¤æ¢ä½ç½®ï¼å¦æ­¤å¾ªç¯ï¼ç´å°æ´ä¸ªæ°ç»æåºå®æã\n\néæ©æåºæ¯ä¸ç§ç®åç´è§çæåºç®æ³ï¼æ è®ºä»ä¹æ°æ®è¿å»é½æ¯ Â² çæ¶é´å¤æåº¦ãæä»¥ç¨å°å®çæ¶åï¼æ°æ®è§æ¨¡è¶å°è¶å¥½ãå¯ä¸çå¥½å¤å¯è½å°±æ¯ä¸å ç¨é¢å¤çåå­ç©ºé´äºå§ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. é¦åå¨æªæåºåºåä¸­æ¾å°æå°ï¼å¤§ï¼åç´ ï¼å­æ¾å°æåºåºåçèµ·å§ä½ç½®\n 2. åä»å©ä½æªæåºåç´ ä¸­ç»§ç»­å¯»æ¾æå°ï¼å¤§ï¼åç´ ï¼ç¶åæ¾å°å·²æåºåºåçæ«å°¾ã\n 3. éå¤ç¬¬äºæ­¥ï¼ç´å°ææåç´ åæåºå®æ¯ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\npublic class SelectionSort {\n\n    public static void main(String[] args) {\n        int[] arrs = {5, 2, 4, 6, 1, 3};\n\n        for (int i = 0; i < arrs.length; i++) {\n            //æå°åç´ ä¸æ \n            int min = i;\n            for (int j = i +1; j < arrs.length; j++) {\n                if (arrs[j] < arrs[min]) {\n                    min = j;\n                }\n            }\n            //äº¤æ¢ä½ç½®\n            int temp = arrs[i];\n            arrs[i] = arrs[min];\n            arrs[min] = temp;\n        }\n        for (int arr : arrs) {\n            System.out.println(arr);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# æå¥æåº\n\næå¥æåºçä»£ç å®ç°è½ç¶æ²¡æåæ³¡æåºåéæ©æåºé£ä¹ç®åç²æ´ï¼ä½å®çåçåºè¯¥æ¯æå®¹æçè§£çäºï¼å ä¸ºåªè¦æè¿æåççäººé½åºè¯¥è½å¤ç§æãæå¥æåºæ¯ä¸ç§æç®åç´è§çæåºç®æ³ï¼å®çå·¥ä½åçæ¯éè¿æå»ºæåºåºåï¼å¯¹äºæªæåºæ°æ®ï¼å¨å·²æåºåºåä¸­ä»åååæ«æï¼æ¾å°ç¸åºä½ç½®å¹¶æå¥ã\n\næå¥æåºååæ³¡æåºä¸æ ·ï¼ä¹æä¸ç§ä¼åç®æ³ï¼å«åæåæå¥ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. ä»ç¬¬ä¸ä¸ªåç´ å¼å§ï¼è¯¥åç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æåºï¼\n 2. ååºä¸ä¸ä¸ªåç´ ï¼å¨å·²ç»æåºçåç´ åºåä¸­ä»åååæ«æï¼\n 3. å¦æè¯¥åç´ ï¼å·²æåºï¼å¤§äºæ°åç´ ï¼å°è¯¥åç´ ç§»å°ä¸ä¸ä½ç½®ï¼\n 4. éå¤æ­¥éª¤3ï¼ç´å°æ¾å°å·²æåºçåç´ å°äºæèç­äºæ°åç´ çä½ç½®ï¼\n 5. å°æ°åç´ æå¥å°è¯¥ä½ç½®åï¼\n 6. éå¤æ­¥éª¤2~5ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\npublic static void main(String[] args) {\n    int[] arr = {5, 2, 4, 6, 1, 3};\n    // ä»ä¸æ ä¸º1çåç´ å¼å§éæ©åéçä½ç½®æå¥ï¼å ä¸ºä¸æ ä¸º0çåªæä¸ä¸ªåç´ ï¼é»è®¤æ¯æåºç\n    for (int i = 1; i < arr.length; i++) {\n\n        // è®°å½è¦æå¥çæ°æ®\n        int tmp = arr[i];\n\n        // ä»å·²ç»æåºçåºåæå³è¾¹çå¼å§æ¯è¾ï¼æ¾å°æ¯å¶å°çæ°\n        int j = i;\n        while (j > 0 && tmp < arr[j - 1]) {\n            arr[j] = arr[j - 1];\n            j--;\n        }\n\n        // å­å¨æ¯å¶å°çæ°ï¼æå¥\n        if (j != i) {\n            arr[j] = tmp;\n        }\n    }\n\n    for (int i : arr) {\n        System.out.println(i);\n    }\n}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å¿«éæåº\n\nè¿ç¯å¾å¥½ï¼https://www.cxyxiaowu.com/5262.html\n\nå¿«éæåºçæ ¸å¿ææ³ä¹æ¯åæ²»æ³ï¼åèæ²»ä¹ãå®çå®ç°æ¹å¼æ¯æ¯æ¬¡ä»åºåä¸­éåºä¸ä¸ªåºåå¼ï¼å¶ä»æ°ä¾æ¬¡ååºåå¼åæ¯è¾ï¼æ¯åºåå¼å¤§çæ¾å³è¾¹ï¼æ¯åºåå¼å°çæ¾å·¦è¾¹ï¼ç¶ååå¯¹å·¦è¾¹åå³è¾¹çä¸¤ç»æ°åå«éåºä¸ä¸ªåºåå¼ï¼è¿è¡åæ ·çæ¯è¾ç§»å¨ï¼éå¤æ­¥éª¤ï¼ç´å°æåé½åæåä¸ªåç´ ï¼æ´ä¸ªæ°ç»å°±æäºæåºçåºåã\n\n> å¿«éæåºçæåè¿è¡æåµæ¯ O(nÂ²)ï¼æ¯å¦è¯´é¡ºåºæ°åçå¿«æãä½å®çå¹³ææææ¶é´æ¯ O(nlogn)ï¼ä¸ O(nlogn) è®°å·ä¸­éå«çå¸¸æ°å å­å¾å°ï¼æ¯å¤æåº¦ç¨³å®ç­äº O(nlogn) çå½å¹¶æåºè¦å°å¾å¤ãæä»¥ï¼å¯¹ç»å¤§å¤æ°é¡ºåºæ§è¾å¼±çéæºæ°åèè¨ï¼å¿«éæåºæ»æ¯ä¼äºå½å¹¶æåºã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. ä»æ°åä¸­æåºä¸ä¸ªåç´ ï¼ç§°ä¸º âåºåâï¼pivotï¼;\n 2. éæ°æåºæ°åï¼ææåç´ æ¯åºåå¼å°çææ¾å¨åºååé¢ï¼ææåç´ æ¯åºåå¼å¤§çæå¨åºåçåé¢ï¼ç¸åçæ°å¯ä»¥å°ä»»ä¸è¾¹ï¼ãå¨è¿ä¸ªååºéåºä¹åï¼è¯¥åºåå°±å¤äºæ°åçä¸­é´ä½ç½®ãè¿ä¸ªç§°ä¸ºååºï¼partitionï¼æä½ï¼\n 3. éå½å°ï¼recursiveï¼æå°äºåºåå¼åç´ çå­æ°ååå¤§äºåºåå¼åç´ çå­æ°åæåºï¼\n\néå½çæåºé¨æå½¢ï¼æ¯æ°åçå¤§å°æ¯é¶æä¸ï¼ä¹å°±æ¯æ°¸è¿é½å·²ç»è¢«æåºå¥½äºãè½ç¶ä¸ç´éå½ä¸å»ï¼ä½æ¯è¿ä¸ªç®æ³æ»ä¼éåºï¼å ä¸ºå¨æ¯æ¬¡çè¿­ä»£ï¼iterationï¼ä¸­ï¼å®è³å°ä¼æä¸ä¸ªåç´ æå°å®æåçä½ç½®å»ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\n\n# åè¾¹æ«æ\n\nå¿«éæåºçå³é®ä¹å¤å¨äºååï¼ååçåæ¶è¦è¿è¡æ¯è¾åç§»å¨ï¼è¿éä»ç»ä¸ç§å«ååè¾¹æ«æçåæ³ã\n\næä»¬éææ½åä¸ä¸ªæ°ä½ä¸ºåºåå¼ï¼åæ¶è®¾å®ä¸ä¸ªæ è®° mark ä»£è¡¨å·¦è¾¹åºåæå³ä¾§çä¸æ ä½ç½®ï¼å½ç¶åå§ä¸º 0 ï¼æ¥ä¸æ¥éåæ°ç»ï¼å¦æåç´ å¤§äºåºåå¼ï¼æ æä½ï¼ç»§ç»­éåï¼å¦æåç´ å°äºåºåå¼ï¼åæ mark + 1 ï¼åå° mark æå¨ä½ç½®çåç´ åéåå°çåç´ äº¤æ¢ä½ç½®ï¼mark è¿ä¸ªä½ç½®å­å¨çæ¯æ¯åºåå¼å°çæ°æ®ï¼å½éåç»æåï¼å°åºåå¼ä¸ mark æå¨åç´ äº¤æ¢ä½ç½®å³å¯ã\n\npublic static void sort(int[] arrs, int startIndex, int endIndex) {\n  if (startIndex > endIndex) {\n    return;\n  }\n  int pivotIndex = partion(arrs, startIndex, endIndex);\n  sort(arrs, startIndex, pivotIndex - 1);\n  sort(arrs, pivotIndex + 1, endIndex);\n}\n\npublic static int partion(int[] arrs, int startIndex, int endIndex) {\n  int pivot = arrs[startIndex];\n  int mark = startIndex;\n\n  for (int i = startIndex + 1; i < arrs.length; i++) {\n    if (arrs[i] < pivot) {\n      mark++;\n      int tmp = arrs[mark];\n      arrs[mark] = arrs[i];\n      arrs[i] = tmp;\n    }\n  }\n  arrs[startIndex] = arrs[mark];\n  arrs[mark] = pivot;\n  return mark;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# åè¾¹æ«æ\n\nå¦å¤è¿æä¸ç§åè¾¹æ«æçåæ³ï¼çèµ·æ¥æ¯è¾ç´è§ï¼æä»¬éææ½åä¸ä¸ªæ°ä½ä¸ºåºåå¼ï¼ç¶åä»æ°ç»å·¦å³ä¸¤è¾¹è¿è¡æ«æï¼åä»å·¦å¾å³æ¾å°ä¸ä¸ªå¤§äºåºåå¼çåç´ ï¼å°ä¸æ æéè®°å½ä¸æ¥ï¼ç¶åè½¬å°ä»å³å¾å·¦æ«æï¼æ¾å°ä¸ä¸ªå°äºåºåå¼çåç´ ï¼äº¤æ¢è¿ä¸¤ä¸ªåç´ çä½ç½®ï¼éå¤æ­¥éª¤ï¼ç´å°å·¦å³ä¸¤ä¸ªæéç¸éï¼åå°åºåå¼ä¸å·¦ä¾§æå³è¾¹çåç´ äº¤æ¢ã\n\næä»¬æ¥çä¸ä¸å®ç°ä»£ç ï¼ä¸åä¹å¤åªæ partition æ¹æ³ï¼\n\npublic static void sort(int[] arr) {\n    sort(arrï¼ 0ï¼ arr.length - 1);\n}\n\nprivate static void sort(int[] arrï¼ int startIndexï¼ int endIndex) {\n    if (endIndex <= startIndex) {\n        return;\n    }\n    //åå\n    int pivotIndex = partition(arrï¼ startIndexï¼ endIndex);\n    sort(arrï¼ startIndexï¼ pivotIndex-1);\n    sort(arrï¼ pivotIndex+1ï¼ endIndex);\n}\n\n\nprivate static int partition(int[] arrï¼ int startIndexï¼ int endIndex) {\n    int left = startIndex;\n    int right = endIndex;\n    int pivot = arr[startIndex];//åç¬¬ä¸ä¸ªåç´ ä¸ºåºåå¼\n\n    while (true) {\n        //ä»å·¦å¾å³æ«æ\n        while (arr[left] <= pivot) {\n            left++;\n            if (left == right) {\n                break;\n            }\n        }\n\n        //ä»å³å¾å·¦æ«æ\n        while (pivot < arr[right]) {\n            right--;\n            if (left == right) {\n                break;\n            }\n        }\n\n        //å·¦å³æéç¸é\n        if (left >= right) {\n            break;\n        }\n\n        //äº¤æ¢å·¦å³æ°æ®\n        int temp = arr[left];\n        arr[left] = arr[right];\n        arr[right] = temp;\n    }\n\n    //å°åºåå¼æå¥åºå\n    int temp = arr[startIndex];\n    arr[startIndex] = arr[right];\n    arr[right] = temp;\n    return right;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# å¸å°æåº\n\nå¸å°æåºè¿ä¸ªåå­ï¼æ¥æºäºå®çåæèå¸å°ï¼ä¹ç§°ä½âç¼©å°å¢éæåºâï¼æ¯æå¥æåºçä¸ç§æ´é«æçæ¹è¿çæ¬ãä½å¸å°æåºæ¯éç¨³å®æåºç®æ³ã\n\nå¸å°æåºæ¯åºäºæå¥æåºçä»¥ä¸ä¸¤ç¹æ§è´¨èæåºæ¹è¿æ¹æ³çï¼\n\n * æå¥æåºå¨å¯¹å ä¹å·²ç»æå¥½åºçæ°æ®æä½æ¶ï¼æçé«ï¼å³å¯ä»¥è¾¾å°çº¿æ§æåºçæçï¼\n * ä½æå¥æåºä¸è¬æ¥è¯´æ¯ä½æçï¼å ä¸ºæå¥æåºæ¯æ¬¡åªè½å°æ°æ®ç§»å¨ä¸ä½ï¼\n\nå¸å°æåºçåºæ¬ææ³æ¯ï¼åå°æ´ä¸ªå¾æåºçè®°å½åºååå²æä¸ºè¥å¹²å­åºååå«è¿è¡ç´æ¥æå¥æåºï¼å¾æ´ä¸ªåºåä¸­çè®°å½âåºæ¬æåºâæ¶ï¼åå¯¹å¨ä½è®°å½è¿è¡ä¾æ¬¡ç´æ¥æå¥æåºã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. éæ©ä¸ä¸ªå¢éåºå t1ï¼t2ï¼â¦â¦ï¼tkï¼å¶ä¸­ ti > tj, tk = 1ï¼\n 2. æå¢éåºåä¸ªæ° kï¼å¯¹åºåè¿è¡ k è¶æåºï¼\n 3. æ¯è¶æåºï¼æ ¹æ®å¯¹åºçå¢é tiï¼å°å¾æåºååå²æè¥å¹²é¿åº¦ä¸º m çå­åºåï¼åå«å¯¹åå­è¡¨è¿è¡ç´æ¥æå¥æåºãä»å¢éå å­ä¸º 1 æ¶ï¼æ´ä¸ªåºåä½ä¸ºä¸ä¸ªè¡¨æ¥å¤çï¼è¡¨é¿åº¦å³ä¸ºæ´ä¸ªåºåçé¿åº¦ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\n\n# å½å¹¶æåº\n\n> https://www.cnblogs.com/chengxiao/p/6194356.html\n\nå½å¹¶æåºï¼Merge sortï¼æ¯å»ºç«å¨å½å¹¶æä½ä¸çä¸ç§ææçæåºç®æ³ãè¯¥ç®æ³æ¯éç¨åæ²»æ³ï¼Divide and Conquerï¼çä¸ä¸ªéå¸¸å¸åçåºç¨ã\n\nä½ä¸ºä¸ç§å¸åçåèæ²»ä¹ææ³çç®æ³åºç¨ï¼å½å¹¶æåºçå®ç°ç±ä¸¤ç§æ¹æ³ï¼\n\n * èªä¸èä¸çéå½ï¼ææéå½çæ¹æ³é½å¯ä»¥ç¨è¿­ä»£éåï¼æä»¥å°±æäºç¬¬ 2 ç§æ¹æ³ï¼ï¼\n * èªä¸èä¸çè¿­ä»£ï¼\n\nå¨ãæ°æ®ç»æä¸ç®æ³ JavaScript æè¿°ãä¸­ï¼ä½èç»åºäºèªä¸èä¸çè¿­ä»£æ¹æ³ãä½æ¯å¯¹äºéå½æ³ï¼ä½èå´è®¤ä¸ºï¼\n\n> However, it is not possible to do so in JavaScript, as the recursion goes too deep for the language to handle.\n> \n> ç¶èï¼å¨ JavaScript ä¸­è¿ç§æ¹å¼ä¸å¤ªå¯è¡ï¼å ä¸ºè¿ä¸ªç®æ³çéå½æ·±åº¦å¯¹å®æ¥è®²å¤ªæ·±äºã\n\nè¯´å®è¯ï¼æä¸å¤ªçè§£è¿å¥è¯ãæææ¯ JavaScript ç¼è¯å¨åå­å¤ªå°ï¼éå½å¤ªæ·±å®¹æé æåå­æº¢åºåï¼è¿ææå¤§ç¥è½å¤ææã\n\nåéæ©æåºä¸æ ·ï¼å½å¹¶æåºçæ§è½ä¸åè¾å¥æ°æ®çå½±åï¼ä½è¡¨ç°æ¯éæ©æåºå¥½çå¤ï¼å ä¸ºå§ç»é½æ¯ O(nlogn) çæ¶é´å¤æåº¦ãä»£ä»·æ¯éè¦é¢å¤çåå­ç©ºé´ã\n\n\n# 2. ç®æ³æ­¥éª¤\n\n 1. ç³è¯·ç©ºé´ï¼ä½¿å¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æåºåºåä¹åï¼è¯¥ç©ºé´ç¨æ¥å­æ¾åå¹¶åçåºåï¼\n 2. è®¾å®ä¸¤ä¸ªæéï¼æåä½ç½®åå«ä¸ºä¸¤ä¸ªå·²ç»æåºåºåçèµ·å§ä½ç½®ï¼\n 3. æ¯è¾ä¸¤ä¸ªæéææåçåç´ ï¼éæ©ç¸å¯¹å°çåç´ æ¾å¥å°åå¹¶ç©ºé´ï¼å¹¶ç§»å¨æéå°ä¸ä¸ä½ç½®ï¼\n 4. éå¤æ­¥éª¤ 3 ç´å°æä¸æéè¾¾å°åºåå°¾ï¼\n 5. å°å¦ä¸åºåå©ä¸çææåç´ ç´æ¥å¤å¶å°åå¹¶åºåå°¾ã\n\n\n# 3. å¨å¾æ¼ç¤º\n\n\n\n\n# å æåº\n\nå æåºï¼Heapsortï¼æ¯æå©ç¨å è¿ç§æ°æ®ç»ææè®¾è®¡çä¸ç§æåºç®æ³ãå ç§¯æ¯ä¸ä¸ªè¿ä¼¼å®å¨äºåæ çç»æï¼å¹¶åæ¶æ»¡è¶³å ç§¯çæ§è´¨ï¼å³å­ç»ç¹çé®å¼æç´¢å¼æ»æ¯å°äºï¼æèå¤§äºï¼å®çç¶èç¹ãå æåºå¯ä»¥è¯´æ¯ä¸ç§å©ç¨å çæ¦å¿µæ¥æåºçéæ©æåºãåä¸ºä¸¤ç§æ¹æ³ï¼\n\n 1. å¤§é¡¶å ï¼æ¯ä¸ªèç¹çå¼é½å¤§äºæç­äºå¶å­èç¹çå¼ï¼å¨å æåºç®æ³ä¸­ç¨äºååºæåï¼\n 2. å°é¡¶å ï¼æ¯ä¸ªèç¹çå¼é½å°äºæç­äºå¶å­èç¹çå¼ï¼å¨å æåºç®æ³ä¸­ç¨äºéåºæåï¼\n\nå æåºçå¹³åæ¶é´å¤æåº¦ä¸º Î(nlogn)ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. å°å¾æåºåºåæå»ºæä¸ä¸ªå  H[0â¦â¦n-1]ï¼æ ¹æ®ï¼ååºéåºéæ±ï¼éæ©å¤§é¡¶å æå°é¡¶å ï¼\n 2. æå é¦ï¼æå¤§å¼ï¼åå å°¾äºæ¢ï¼\n 3. æå çå°ºå¯¸ç¼©å° 1ï¼å¹¶è°ç¨ shift_down(0)ï¼ç®çæ¯ææ°çæ°ç»é¡¶ç«¯æ°æ®è°æ´å°ç¸åºä½ç½®ï¼\n 4. éå¤æ­¥éª¤ 2ï¼ç´å°å çå°ºå¯¸ä¸º 1ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n(opens new window)\n\n\n# è®¡æ°æåº\n\nè®¡æ°æåºçæ ¸å¿å¨äºå°è¾å¥çæ°æ®å¼è½¬åä¸ºé®å­å¨å¨é¢å¤å¼è¾çæ°ç»ç©ºé´ä¸­ãä½ä¸ºä¸ç§çº¿æ§æ¶é´å¤æåº¦çæåºï¼è®¡æ°æåºè¦æ±è¾å¥çæ°æ®å¿é¡»æ¯æç¡®å®èå´çæ´æ°ã\n\n\n# 1. å¨å¾æ¼ç¤º\n\n(opens new window)\n\n\n# æ¡¶æåº\n\næ¡¶æåºæ¯è®¡æ°æåºçåçº§çãå®å©ç¨äºå½æ°çæ å°å³ç³»ï¼é«æä¸å¦çå³é®å°±å¨äºè¿ä¸ªæ å°å½æ°çç¡®å®ãä¸ºäºä½¿æ¡¶æåºæ´å é«æï¼æä»¬éè¦åå°è¿ä¸¤ç¹ï¼\n\n 1. å¨é¢å¤ç©ºé´åè¶³çæåµä¸ï¼å°½éå¢å¤§æ¡¶çæ°é\n 2. ä½¿ç¨çæ å°å½æ°è½å¤å°è¾å¥ç N ä¸ªæ°æ®ååçåéå° K ä¸ªæ¡¶ä¸­\n\nåæ¶ï¼å¯¹äºæ¡¶ä¸­åç´ çæåºï¼éæ©ä½ç§æ¯è¾æåºç®æ³å¯¹äºæ§è½çå½±åè³å³éè¦ã\n\n\n# 1. ä»ä¹æ¶åæå¿«\n\nå½è¾å¥çæ°æ®å¯ä»¥ååçåéå°æ¯ä¸ä¸ªæ¡¶ä¸­ã\n\n\n# 2. ä»ä¹æ¶åææ¢\n\nå½è¾å¥çæ°æ®è¢«åéå°äºåä¸ä¸ªæ¡¶ä¸­ã\n\n\n# åºæ°æåº\n\nåºæ°æåºæ¯ä¸ç§éæ¯è¾åæ´æ°æåºç®æ³ï¼å¶åçæ¯å°æ´æ°æä½æ°åå²æä¸åçæ°å­ï¼ç¶åææ¯ä¸ªä½æ°åå«æ¯è¾ãç±äºæ´æ°ä¹å¯ä»¥è¡¨è¾¾å­ç¬¦ä¸²ï¼æ¯å¦åå­ææ¥æï¼åç¹å®æ ¼å¼çæµ®ç¹æ°ï¼æä»¥åºæ°æåºä¹ä¸æ¯åªè½ä½¿ç¨äºæ´æ°ã\n\n\n# 1. åºæ°æåº vs è®¡æ°æåº vs æ¡¶æåº\n\nåºæ°æåºæä¸¤ç§æ¹æ³ï¼\n\nè¿ä¸ç§æåºç®æ³é½å©ç¨äºæ¡¶çæ¦å¿µï¼ä½å¯¹æ¡¶çä½¿ç¨æ¹æ³ä¸æææ¾å·®å¼æ¡ä¾çå¤§å®¶åçï¼\n\n * åºæ°æåºï¼æ ¹æ®é®å¼çæ¯ä½æ°å­æ¥åéæ¡¶ï¼\n * è®¡æ°æåºï¼æ¯ä¸ªæ¡¶åªå­å¨åä¸é®å¼ï¼\n * æ¡¶æåºï¼æ¯ä¸ªæ¡¶å­å¨ä¸å®èå´çæ°å¼ï¼\n\n\n# 2. LSD åºæ°æåºå¨å¾æ¼ç¤º\n\n',normalizedContent:'æåºç®æ³å¯ä»¥åä¸ºåé¨æåºåå¤é¨æåºï¼åé¨æåºæ¯æ°æ®è®°å½å¨åå­ä¸­è¿è¡æåºï¼èå¤é¨æåºæ¯å æåºçæ°æ®å¾å¤§ï¼ä¸æ¬¡ä¸è½å®¹çº³å¨é¨çæåºè®°å½ï¼å¨æåºè¿ç¨ä¸­éè¦è®¿é®å¤å­ãå¸¸è§çåé¨æåºç®æ³æï¼æå¥æåºãå¸å°æåºãéæ©æåºãåæ³¡æåºãå½å¹¶æåºãå¿«éæåºãå æåºãåºæ°æåºç­ãç¨ä¸å¼ å¾æ¦æ¬ï¼\n\n\n\nå³äºæ¶é´å¤æåº¦ï¼\n\n 1. å¹³æ¹é¶ () æåº åç±»ç®åæåºï¼ç´æ¥æå¥ãç´æ¥éæ©ååæ³¡æåºã\n 2. çº¿æ§å¯¹æ°é¶ (o(nlog2n)) æåºï¼ å¿«éæåºãå æåºåå½å¹¶æåºï¼\n 3. o(n1+Â§) æåºï¼Â§ æ¯ä»äº 0 å 1 ä¹é´çå¸¸æ°ã å¸å°æåº\n 4. çº¿æ§é¶ (o(n)) æåºï¼ åºæ°æåºï¼æ­¤å¤è¿ææ¡¶ãç®±æåºã\n\nå³äºç¨³å®æ§ï¼\n\nç¨³å®çæåºç®æ³ï¼åæ³¡æåºãæå¥æåºãå½å¹¶æåºååºæ°æåºã\n\nä¸æ¯ç¨³å®çæåºç®æ³ï¼éæ©æåºãå¿«éæåºãå¸å°æåºãå æåºã\n\nåè¯è§£éï¼\n\nnï¼æ°æ®è§æ¨¡\n\nkï¼âæ¡¶âçä¸ªæ°\n\nin-placeï¼å ç¨å¸¸æ°åå­ï¼ä¸å ç¨é¢å¤åå­\n\nout-placeï¼å ç¨é¢å¤åå­\n\nç¨³å®æ§ï¼æåºå 2 ä¸ªç¸ç­é®å¼çé¡ºåºåæåºä¹åå®ä»¬çé¡ºåºç¸å\n\nåç§å¸¸è§æåºç®æ³å¯ä»¥åä¸ºä¸¤å¤§ç±»ï¼\n\néçº¿æ§æ¶é´æ¯è¾ç±»æåºï¼éè¿æ¯è¾æ¥å³å®åç´ é´çç¸å¯¹æ¬¡åºï¼ç±äºå¶æ¶é´å¤æåº¦ä¸è½çªç ´ï¼å æ­¤ç§°ä¸ºéçº¿æ§æ¶é´æ¯è¾ç±»æåºã\n\nçº¿æ§æ¶é´éæ¯è¾ç±»æåºï¼ä¸éè¿æ¯è¾æ¥å³å®åç´ é´çç¸å¯¹æ¬¡åºï¼å®å¯ä»¥çªç ´åºäºæ¯è¾æåºçæ¶é´ä¸çï¼ä»¥çº¿æ§æ¶é´è¿è¡ï¼å æ­¤ç§°ä¸ºçº¿æ§æ¶é´éæ¯è¾ç±»æåºã\n\n\n# åæ³¡æåº\n\nåæ³¡æåºï¼bubble sortï¼ä¹æ¯ä¸ç§ç®åç´è§çæåºç®æ³ãå®éå¤å°èµ°è®¿è¿è¦æåºçæ°åï¼ä¸æ¬¡æ¯è¾ä¸¤ä¸ªåç´ ï¼å¦æä»ä»¬çé¡ºåºéè¯¯å°±æä»ä»¬äº¤æ¢è¿æ¥ãèµ°è®¿æ°åçå·¥ä½æ¯éå¤å°è¿è¡ç´å°æ²¡æåéè¦äº¤æ¢ï¼ä¹å°±æ¯è¯´è¯¥æ°åå·²ç»æåºå®æãè¿ä¸ªç®æ³çåå­ç±æ¥æ¯å ä¸ºè¶å°çåç´ ä¼ç»ç±äº¤æ¢æ¢æ¢âæµ®âå°æ°åçé¡¶ç«¯ã\n\nä½ä¸ºæç®åçæåºç®æ³ä¹ä¸ï¼åæ³¡æåºç»æçæè§å°±å abandon å¨åè¯ä¹¦éåºç°çæè§ä¸æ ·ï¼æ¯æ¬¡é½å¨ç¬¬ä¸é¡µç¬¬ä¸ä½ï¼æä»¥æçæãåæ³¡æåºè¿æä¸ç§ä¼åç®æ³ï¼å°±æ¯ç«ä¸ä¸ª flagï¼å½å¨ä¸è¶åºåéåä¸­åç´ æ²¡æåçäº¤æ¢ï¼åè¯æè¯¥åºåå·²ç»æåºãä½è¿ç§æ¹è¿å¯¹äºæåæ§è½æ¥è¯´å¹¶æ²¡æä»ä¹å¤ªå¤§ä½ç¨ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. æ¯è¾ç¸é»çåç´ ãå¦æç¬¬ä¸ä¸ªæ¯ç¬¬äºä¸ªå¤§ï¼å°±äº¤æ¢ä»ä»¬ä¸¤ä¸ªã\n 2. å¯¹æ¯ä¸å¯¹ç¸é»åç´ ä½åæ ·çå·¥ä½ï¼ä»å¼å§ç¬¬ä¸å¯¹å°ç»å°¾çæåä¸å¯¹ãè¿æ­¥åå®åï¼æåçåç´ ä¼æ¯æå¤§çæ°ã\n 3. éå¯¹ææçåç´ éå¤ä»¥ä¸çæ­¥éª¤ï¼é¤äºæåä¸ä¸ªã\n 4. éå¤æ­¥éª¤1~3ï¼ç´å°æåºå®æã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\n\n# 3. ä»ä¹æ¶åæå¿«\n\nå½è¾å¥çæ°æ®å·²ç»æ¯æ­£åºæ¶ï¼é½å·²ç»æ¯æ­£åºäºï¼æè¿è¦ä½ åæ³¡æåºæä½ç¨åï¼ã\n\n\n# 4. ä»ä¹æ¶åææ¢\n\nå½è¾å¥çæ°æ®æ¯ååºæ¶ï¼åä¸ä¸ª for å¾ªç¯ååºè¾åºæ°æ®ä¸å°±è¡äºï¼å¹²åè¦ç¨ä½ åæ³¡æåºå¢ï¼ææ¯é²çåï¼ã\n\npublic class bubblesort {\n\n    public static void main(string[] args) {\n        int[] arrs = {1, 3, 4, 2, 6, 5};\n\n        for (int i = 0; i < arrs.length; i++) {\n            for (int j = 0; j < arrs.length - 1 - i; j++) {\n                if (arrs[j] > arrs[j + 1]) {\n                    int tmp = arrs[j];\n                    arrs[j] = arrs[j + 1];\n                    arrs[j + 1] = tmp;\n                }\n            }\n        }\n\n        for (int arr : arrs) {\n            system.out.print(arr + " ");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nåµå¥å¾ªç¯ï¼åºè¯¥ç«é©¬å°±å¯ä»¥å¾åºè¿ä¸ªç®æ³çæ¶é´å¤æåº¦ä¸º Â²ã\n\n\n# éæ©æåº\n\néæ©æåºçæè·¯æ¯è¿æ ·çï¼é¦åï¼æ¾å°æ°ç»ä¸­æå°çåç´ ï¼æåºæ¥ï¼å°å®åæ°ç»çç¬¬ä¸ä¸ªåç´ äº¤æ¢ä½ç½®ï¼ç¬¬äºæ­¥ï¼å¨å©ä¸çåç´ ä¸­ç»§ç»­å¯»æ¾æå°çåç´ ï¼æåºæ¥ï¼åæ°ç»çç¬¬äºä¸ªåç´ äº¤æ¢ä½ç½®ï¼å¦æ­¤å¾ªç¯ï¼ç´å°æ´ä¸ªæ°ç»æåºå®æã\n\néæ©æåºæ¯ä¸ç§ç®åç´è§çæåºç®æ³ï¼æ è®ºä»ä¹æ°æ®è¿å»é½æ¯ Â² çæ¶é´å¤æåº¦ãæä»¥ç¨å°å®çæ¶åï¼æ°æ®è§æ¨¡è¶å°è¶å¥½ãå¯ä¸çå¥½å¤å¯è½å°±æ¯ä¸å ç¨é¢å¤çåå­ç©ºé´äºå§ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. é¦åå¨æªæåºåºåä¸­æ¾å°æå°ï¼å¤§ï¼åç´ ï¼å­æ¾å°æåºåºåçèµ·å§ä½ç½®\n 2. åä»å©ä½æªæåºåç´ ä¸­ç»§ç»­å¯»æ¾æå°ï¼å¤§ï¼åç´ ï¼ç¶åæ¾å°å·²æåºåºåçæ«å°¾ã\n 3. éå¤ç¬¬äºæ­¥ï¼ç´å°ææåç´ åæåºå®æ¯ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\npublic class selectionsort {\n\n    public static void main(string[] args) {\n        int[] arrs = {5, 2, 4, 6, 1, 3};\n\n        for (int i = 0; i < arrs.length; i++) {\n            //æå°åç´ ä¸æ \n            int min = i;\n            for (int j = i +1; j < arrs.length; j++) {\n                if (arrs[j] < arrs[min]) {\n                    min = j;\n                }\n            }\n            //äº¤æ¢ä½ç½®\n            int temp = arrs[i];\n            arrs[i] = arrs[min];\n            arrs[min] = temp;\n        }\n        for (int arr : arrs) {\n            system.out.println(arr);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# æå¥æåº\n\næå¥æåºçä»£ç å®ç°è½ç¶æ²¡æåæ³¡æåºåéæ©æåºé£ä¹ç®åç²æ´ï¼ä½å®çåçåºè¯¥æ¯æå®¹æçè§£çäºï¼å ä¸ºåªè¦æè¿æåççäººé½åºè¯¥è½å¤ç§æãæå¥æåºæ¯ä¸ç§æç®åç´è§çæåºç®æ³ï¼å®çå·¥ä½åçæ¯éè¿æå»ºæåºåºåï¼å¯¹äºæªæåºæ°æ®ï¼å¨å·²æåºåºåä¸­ä»åååæ«æï¼æ¾å°ç¸åºä½ç½®å¹¶æå¥ã\n\næå¥æåºååæ³¡æåºä¸æ ·ï¼ä¹æä¸ç§ä¼åç®æ³ï¼å«åæåæå¥ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. ä»ç¬¬ä¸ä¸ªåç´ å¼å§ï¼è¯¥åç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æåºï¼\n 2. ååºä¸ä¸ä¸ªåç´ ï¼å¨å·²ç»æåºçåç´ åºåä¸­ä»åååæ«æï¼\n 3. å¦æè¯¥åç´ ï¼å·²æåºï¼å¤§äºæ°åç´ ï¼å°è¯¥åç´ ç§»å°ä¸ä¸ä½ç½®ï¼\n 4. éå¤æ­¥éª¤3ï¼ç´å°æ¾å°å·²æåºçåç´ å°äºæèç­äºæ°åç´ çä½ç½®ï¼\n 5. å°æ°åç´ æå¥å°è¯¥ä½ç½®åï¼\n 6. éå¤æ­¥éª¤2~5ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\npublic static void main(string[] args) {\n    int[] arr = {5, 2, 4, 6, 1, 3};\n    // ä»ä¸æ ä¸º1çåç´ å¼å§éæ©åéçä½ç½®æå¥ï¼å ä¸ºä¸æ ä¸º0çåªæä¸ä¸ªåç´ ï¼é»è®¤æ¯æåºç\n    for (int i = 1; i < arr.length; i++) {\n\n        // è®°å½è¦æå¥çæ°æ®\n        int tmp = arr[i];\n\n        // ä»å·²ç»æåºçåºåæå³è¾¹çå¼å§æ¯è¾ï¼æ¾å°æ¯å¶å°çæ°\n        int j = i;\n        while (j > 0 && tmp < arr[j - 1]) {\n            arr[j] = arr[j - 1];\n            j--;\n        }\n\n        // å­å¨æ¯å¶å°çæ°ï¼æå¥\n        if (j != i) {\n            arr[j] = tmp;\n        }\n    }\n\n    for (int i : arr) {\n        system.out.println(i);\n    }\n}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# å¿«éæåº\n\nè¿ç¯å¾å¥½ï¼https://www.cxyxiaowu.com/5262.html\n\nå¿«éæåºçæ ¸å¿ææ³ä¹æ¯åæ²»æ³ï¼åèæ²»ä¹ãå®çå®ç°æ¹å¼æ¯æ¯æ¬¡ä»åºåä¸­éåºä¸ä¸ªåºåå¼ï¼å¶ä»æ°ä¾æ¬¡ååºåå¼åæ¯è¾ï¼æ¯åºåå¼å¤§çæ¾å³è¾¹ï¼æ¯åºåå¼å°çæ¾å·¦è¾¹ï¼ç¶ååå¯¹å·¦è¾¹åå³è¾¹çä¸¤ç»æ°åå«éåºä¸ä¸ªåºåå¼ï¼è¿è¡åæ ·çæ¯è¾ç§»å¨ï¼éå¤æ­¥éª¤ï¼ç´å°æåé½åæåä¸ªåç´ ï¼æ´ä¸ªæ°ç»å°±æäºæåºçåºåã\n\n> å¿«éæåºçæåè¿è¡æåµæ¯ o(nÂ²)ï¼æ¯å¦è¯´é¡ºåºæ°åçå¿«æãä½å®çå¹³ææææ¶é´æ¯ o(nlogn)ï¼ä¸ o(nlogn) è®°å·ä¸­éå«çå¸¸æ°å å­å¾å°ï¼æ¯å¤æåº¦ç¨³å®ç­äº o(nlogn) çå½å¹¶æåºè¦å°å¾å¤ãæä»¥ï¼å¯¹ç»å¤§å¤æ°é¡ºåºæ§è¾å¼±çéæºæ°åèè¨ï¼å¿«éæåºæ»æ¯ä¼äºå½å¹¶æåºã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. ä»æ°åä¸­æåºä¸ä¸ªåç´ ï¼ç§°ä¸º âåºåâï¼pivotï¼;\n 2. éæ°æåºæ°åï¼ææåç´ æ¯åºåå¼å°çææ¾å¨åºååé¢ï¼ææåç´ æ¯åºåå¼å¤§çæå¨åºåçåé¢ï¼ç¸åçæ°å¯ä»¥å°ä»»ä¸è¾¹ï¼ãå¨è¿ä¸ªååºéåºä¹åï¼è¯¥åºåå°±å¤äºæ°åçä¸­é´ä½ç½®ãè¿ä¸ªç§°ä¸ºååºï¼partitionï¼æä½ï¼\n 3. éå½å°ï¼recursiveï¼æå°äºåºåå¼åç´ çå­æ°ååå¤§äºåºåå¼åç´ çå­æ°åæåºï¼\n\néå½çæåºé¨æå½¢ï¼æ¯æ°åçå¤§å°æ¯é¶æä¸ï¼ä¹å°±æ¯æ°¸è¿é½å·²ç»è¢«æåºå¥½äºãè½ç¶ä¸ç´éå½ä¸å»ï¼ä½æ¯è¿ä¸ªç®æ³æ»ä¼éåºï¼å ä¸ºå¨æ¯æ¬¡çè¿­ä»£ï¼iterationï¼ä¸­ï¼å®è³å°ä¼æä¸ä¸ªåç´ æå°å®æåçä½ç½®å»ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\n\n# åè¾¹æ«æ\n\nå¿«éæåºçå³é®ä¹å¤å¨äºååï¼ååçåæ¶è¦è¿è¡æ¯è¾åç§»å¨ï¼è¿éä»ç»ä¸ç§å«ååè¾¹æ«æçåæ³ã\n\næä»¬éææ½åä¸ä¸ªæ°ä½ä¸ºåºåå¼ï¼åæ¶è®¾å®ä¸ä¸ªæ è®° mark ä»£è¡¨å·¦è¾¹åºåæå³ä¾§çä¸æ ä½ç½®ï¼å½ç¶åå§ä¸º 0 ï¼æ¥ä¸æ¥éåæ°ç»ï¼å¦æåç´ å¤§äºåºåå¼ï¼æ æä½ï¼ç»§ç»­éåï¼å¦æåç´ å°äºåºåå¼ï¼åæ mark + 1 ï¼åå° mark æå¨ä½ç½®çåç´ åéåå°çåç´ äº¤æ¢ä½ç½®ï¼mark è¿ä¸ªä½ç½®å­å¨çæ¯æ¯åºåå¼å°çæ°æ®ï¼å½éåç»æåï¼å°åºåå¼ä¸ mark æå¨åç´ äº¤æ¢ä½ç½®å³å¯ã\n\npublic static void sort(int[] arrs, int startindex, int endindex) {\n  if (startindex > endindex) {\n    return;\n  }\n  int pivotindex = partion(arrs, startindex, endindex);\n  sort(arrs, startindex, pivotindex - 1);\n  sort(arrs, pivotindex + 1, endindex);\n}\n\npublic static int partion(int[] arrs, int startindex, int endindex) {\n  int pivot = arrs[startindex];\n  int mark = startindex;\n\n  for (int i = startindex + 1; i < arrs.length; i++) {\n    if (arrs[i] < pivot) {\n      mark++;\n      int tmp = arrs[mark];\n      arrs[mark] = arrs[i];\n      arrs[i] = tmp;\n    }\n  }\n  arrs[startindex] = arrs[mark];\n  arrs[mark] = pivot;\n  return mark;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# åè¾¹æ«æ\n\nå¦å¤è¿æä¸ç§åè¾¹æ«æçåæ³ï¼çèµ·æ¥æ¯è¾ç´è§ï¼æä»¬éææ½åä¸ä¸ªæ°ä½ä¸ºåºåå¼ï¼ç¶åä»æ°ç»å·¦å³ä¸¤è¾¹è¿è¡æ«æï¼åä»å·¦å¾å³æ¾å°ä¸ä¸ªå¤§äºåºåå¼çåç´ ï¼å°ä¸æ æéè®°å½ä¸æ¥ï¼ç¶åè½¬å°ä»å³å¾å·¦æ«æï¼æ¾å°ä¸ä¸ªå°äºåºåå¼çåç´ ï¼äº¤æ¢è¿ä¸¤ä¸ªåç´ çä½ç½®ï¼éå¤æ­¥éª¤ï¼ç´å°å·¦å³ä¸¤ä¸ªæéç¸éï¼åå°åºåå¼ä¸å·¦ä¾§æå³è¾¹çåç´ äº¤æ¢ã\n\næä»¬æ¥çä¸ä¸å®ç°ä»£ç ï¼ä¸åä¹å¤åªæ partition æ¹æ³ï¼\n\npublic static void sort(int[] arr) {\n    sort(arrï¼ 0ï¼ arr.length - 1);\n}\n\nprivate static void sort(int[] arrï¼ int startindexï¼ int endindex) {\n    if (endindex <= startindex) {\n        return;\n    }\n    //åå\n    int pivotindex = partition(arrï¼ startindexï¼ endindex);\n    sort(arrï¼ startindexï¼ pivotindex-1);\n    sort(arrï¼ pivotindex+1ï¼ endindex);\n}\n\n\nprivate static int partition(int[] arrï¼ int startindexï¼ int endindex) {\n    int left = startindex;\n    int right = endindex;\n    int pivot = arr[startindex];//åç¬¬ä¸ä¸ªåç´ ä¸ºåºåå¼\n\n    while (true) {\n        //ä»å·¦å¾å³æ«æ\n        while (arr[left] <= pivot) {\n            left++;\n            if (left == right) {\n                break;\n            }\n        }\n\n        //ä»å³å¾å·¦æ«æ\n        while (pivot < arr[right]) {\n            right--;\n            if (left == right) {\n                break;\n            }\n        }\n\n        //å·¦å³æéç¸é\n        if (left >= right) {\n            break;\n        }\n\n        //äº¤æ¢å·¦å³æ°æ®\n        int temp = arr[left];\n        arr[left] = arr[right];\n        arr[right] = temp;\n    }\n\n    //å°åºåå¼æå¥åºå\n    int temp = arr[startindex];\n    arr[startindex] = arr[right];\n    arr[right] = temp;\n    return right;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n# å¸å°æåº\n\nå¸å°æåºè¿ä¸ªåå­ï¼æ¥æºäºå®çåæèå¸å°ï¼ä¹ç§°ä½âç¼©å°å¢éæåºâï¼æ¯æå¥æåºçä¸ç§æ´é«æçæ¹è¿çæ¬ãä½å¸å°æåºæ¯éç¨³å®æåºç®æ³ã\n\nå¸å°æåºæ¯åºäºæå¥æåºçä»¥ä¸ä¸¤ç¹æ§è´¨èæåºæ¹è¿æ¹æ³çï¼\n\n * æå¥æåºå¨å¯¹å ä¹å·²ç»æå¥½åºçæ°æ®æä½æ¶ï¼æçé«ï¼å³å¯ä»¥è¾¾å°çº¿æ§æåºçæçï¼\n * ä½æå¥æåºä¸è¬æ¥è¯´æ¯ä½æçï¼å ä¸ºæå¥æåºæ¯æ¬¡åªè½å°æ°æ®ç§»å¨ä¸ä½ï¼\n\nå¸å°æåºçåºæ¬ææ³æ¯ï¼åå°æ´ä¸ªå¾æåºçè®°å½åºååå²æä¸ºè¥å¹²å­åºååå«è¿è¡ç´æ¥æå¥æåºï¼å¾æ´ä¸ªåºåä¸­çè®°å½âåºæ¬æåºâæ¶ï¼åå¯¹å¨ä½è®°å½è¿è¡ä¾æ¬¡ç´æ¥æå¥æåºã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. éæ©ä¸ä¸ªå¢éåºå t1ï¼t2ï¼â¦â¦ï¼tkï¼å¶ä¸­ ti > tj, tk = 1ï¼\n 2. æå¢éåºåä¸ªæ° kï¼å¯¹åºåè¿è¡ k è¶æåºï¼\n 3. æ¯è¶æåºï¼æ ¹æ®å¯¹åºçå¢é tiï¼å°å¾æåºååå²æè¥å¹²é¿åº¦ä¸º m çå­åºåï¼åå«å¯¹åå­è¡¨è¿è¡ç´æ¥æå¥æåºãä»å¢éå å­ä¸º 1 æ¶ï¼æ´ä¸ªåºåä½ä¸ºä¸ä¸ªè¡¨æ¥å¤çï¼è¡¨é¿åº¦å³ä¸ºæ´ä¸ªåºåçé¿åº¦ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n\n\n\n# å½å¹¶æåº\n\n> https://www.cnblogs.com/chengxiao/p/6194356.html\n\nå½å¹¶æåºï¼merge sortï¼æ¯å»ºç«å¨å½å¹¶æä½ä¸çä¸ç§ææçæåºç®æ³ãè¯¥ç®æ³æ¯éç¨åæ²»æ³ï¼divide and conquerï¼çä¸ä¸ªéå¸¸å¸åçåºç¨ã\n\nä½ä¸ºä¸ç§å¸åçåèæ²»ä¹ææ³çç®æ³åºç¨ï¼å½å¹¶æåºçå®ç°ç±ä¸¤ç§æ¹æ³ï¼\n\n * èªä¸èä¸çéå½ï¼ææéå½çæ¹æ³é½å¯ä»¥ç¨è¿­ä»£éåï¼æä»¥å°±æäºç¬¬ 2 ç§æ¹æ³ï¼ï¼\n * èªä¸èä¸çè¿­ä»£ï¼\n\nå¨ãæ°æ®ç»æä¸ç®æ³ javascript æè¿°ãä¸­ï¼ä½èç»åºäºèªä¸èä¸çè¿­ä»£æ¹æ³ãä½æ¯å¯¹äºéå½æ³ï¼ä½èå´è®¤ä¸ºï¼\n\n> however, it is not possible to do so in javascript, as the recursion goes too deep for the language to handle.\n> \n> ç¶èï¼å¨ javascript ä¸­è¿ç§æ¹å¼ä¸å¤ªå¯è¡ï¼å ä¸ºè¿ä¸ªç®æ³çéå½æ·±åº¦å¯¹å®æ¥è®²å¤ªæ·±äºã\n\nè¯´å®è¯ï¼æä¸å¤ªçè§£è¿å¥è¯ãæææ¯ javascript ç¼è¯å¨åå­å¤ªå°ï¼éå½å¤ªæ·±å®¹æé æåå­æº¢åºåï¼è¿ææå¤§ç¥è½å¤ææã\n\nåéæ©æåºä¸æ ·ï¼å½å¹¶æåºçæ§è½ä¸åè¾å¥æ°æ®çå½±åï¼ä½è¡¨ç°æ¯éæ©æåºå¥½çå¤ï¼å ä¸ºå§ç»é½æ¯ o(nlogn) çæ¶é´å¤æåº¦ãä»£ä»·æ¯éè¦é¢å¤çåå­ç©ºé´ã\n\n\n# 2. ç®æ³æ­¥éª¤\n\n 1. ç³è¯·ç©ºé´ï¼ä½¿å¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æåºåºåä¹åï¼è¯¥ç©ºé´ç¨æ¥å­æ¾åå¹¶åçåºåï¼\n 2. è®¾å®ä¸¤ä¸ªæéï¼æåä½ç½®åå«ä¸ºä¸¤ä¸ªå·²ç»æåºåºåçèµ·å§ä½ç½®ï¼\n 3. æ¯è¾ä¸¤ä¸ªæéææåçåç´ ï¼éæ©ç¸å¯¹å°çåç´ æ¾å¥å°åå¹¶ç©ºé´ï¼å¹¶ç§»å¨æéå°ä¸ä¸ä½ç½®ï¼\n 4. éå¤æ­¥éª¤ 3 ç´å°æä¸æéè¾¾å°åºåå°¾ï¼\n 5. å°å¦ä¸åºåå©ä¸çææåç´ ç´æ¥å¤å¶å°åå¹¶åºåå°¾ã\n\n\n# 3. å¨å¾æ¼ç¤º\n\n\n\n\n# å æåº\n\nå æåºï¼heapsortï¼æ¯æå©ç¨å è¿ç§æ°æ®ç»ææè®¾è®¡çä¸ç§æåºç®æ³ãå ç§¯æ¯ä¸ä¸ªè¿ä¼¼å®å¨äºåæ çç»æï¼å¹¶åæ¶æ»¡è¶³å ç§¯çæ§è´¨ï¼å³å­ç»ç¹çé®å¼æç´¢å¼æ»æ¯å°äºï¼æèå¤§äºï¼å®çç¶èç¹ãå æåºå¯ä»¥è¯´æ¯ä¸ç§å©ç¨å çæ¦å¿µæ¥æåºçéæ©æåºãåä¸ºä¸¤ç§æ¹æ³ï¼\n\n 1. å¤§é¡¶å ï¼æ¯ä¸ªèç¹çå¼é½å¤§äºæç­äºå¶å­èç¹çå¼ï¼å¨å æåºç®æ³ä¸­ç¨äºååºæåï¼\n 2. å°é¡¶å ï¼æ¯ä¸ªèç¹çå¼é½å°äºæç­äºå¶å­èç¹çå¼ï¼å¨å æåºç®æ³ä¸­ç¨äºéåºæåï¼\n\nå æåºçå¹³åæ¶é´å¤æåº¦ä¸º Î¿(nlogn)ã\n\n\n# 1. ç®æ³æ­¥éª¤\n\n 1. å°å¾æåºåºåæå»ºæä¸ä¸ªå  h[0â¦â¦n-1]ï¼æ ¹æ®ï¼ååºéåºéæ±ï¼éæ©å¤§é¡¶å æå°é¡¶å ï¼\n 2. æå é¦ï¼æå¤§å¼ï¼åå å°¾äºæ¢ï¼\n 3. æå çå°ºå¯¸ç¼©å° 1ï¼å¹¶è°ç¨ shift_down(0)ï¼ç®çæ¯ææ°çæ°ç»é¡¶ç«¯æ°æ®è°æ´å°ç¸åºä½ç½®ï¼\n 4. éå¤æ­¥éª¤ 2ï¼ç´å°å çå°ºå¯¸ä¸º 1ã\n\n\n# 2. å¨å¾æ¼ç¤º\n\n(opens new window)\n\n\n# è®¡æ°æåº\n\nè®¡æ°æåºçæ ¸å¿å¨äºå°è¾å¥çæ°æ®å¼è½¬åä¸ºé®å­å¨å¨é¢å¤å¼è¾çæ°ç»ç©ºé´ä¸­ãä½ä¸ºä¸ç§çº¿æ§æ¶é´å¤æåº¦çæåºï¼è®¡æ°æåºè¦æ±è¾å¥çæ°æ®å¿é¡»æ¯æç¡®å®èå´çæ´æ°ã\n\n\n# 1. å¨å¾æ¼ç¤º\n\n(opens new window)\n\n\n# æ¡¶æåº\n\næ¡¶æåºæ¯è®¡æ°æåºçåçº§çãå®å©ç¨äºå½æ°çæ å°å³ç³»ï¼é«æä¸å¦çå³é®å°±å¨äºè¿ä¸ªæ å°å½æ°çç¡®å®ãä¸ºäºä½¿æ¡¶æåºæ´å é«æï¼æä»¬éè¦åå°è¿ä¸¤ç¹ï¼\n\n 1. å¨é¢å¤ç©ºé´åè¶³çæåµä¸ï¼å°½éå¢å¤§æ¡¶çæ°é\n 2. ä½¿ç¨çæ å°å½æ°è½å¤å°è¾å¥ç n ä¸ªæ°æ®ååçåéå° k ä¸ªæ¡¶ä¸­\n\nåæ¶ï¼å¯¹äºæ¡¶ä¸­åç´ çæåºï¼éæ©ä½ç§æ¯è¾æåºç®æ³å¯¹äºæ§è½çå½±åè³å³éè¦ã\n\n\n# 1. ä»ä¹æ¶åæå¿«\n\nå½è¾å¥çæ°æ®å¯ä»¥ååçåéå°æ¯ä¸ä¸ªæ¡¶ä¸­ã\n\n\n# 2. ä»ä¹æ¶åææ¢\n\nå½è¾å¥çæ°æ®è¢«åéå°äºåä¸ä¸ªæ¡¶ä¸­ã\n\n\n# åºæ°æåº\n\nåºæ°æåºæ¯ä¸ç§éæ¯è¾åæ´æ°æåºç®æ³ï¼å¶åçæ¯å°æ´æ°æä½æ°åå²æä¸åçæ°å­ï¼ç¶åææ¯ä¸ªä½æ°åå«æ¯è¾ãç±äºæ´æ°ä¹å¯ä»¥è¡¨è¾¾å­ç¬¦ä¸²ï¼æ¯å¦åå­ææ¥æï¼åç¹å®æ ¼å¼çæµ®ç¹æ°ï¼æä»¥åºæ°æåºä¹ä¸æ¯åªè½ä½¿ç¨äºæ´æ°ã\n\n\n# 1. åºæ°æåº vs è®¡æ°æåº vs æ¡¶æåº\n\nåºæ°æåºæä¸¤ç§æ¹æ³ï¼\n\nè¿ä¸ç§æåºç®æ³é½å©ç¨äºæ¡¶çæ¦å¿µï¼ä½å¯¹æ¡¶çä½¿ç¨æ¹æ³ä¸æææ¾å·®å¼æ¡ä¾çå¤§å®¶åçï¼\n\n * åºæ°æåºï¼æ ¹æ®é®å¼çæ¯ä½æ°å­æ¥åéæ¡¶ï¼\n * è®¡æ°æåºï¼æ¯ä¸ªæ¡¶åªå­å¨åä¸é®å¼ï¼\n * æ¡¶æåºï¼æ¯ä¸ªæ¡¶å­å¨ä¸å®èå´çæ°å¼ï¼\n\n\n# 2. lsd åºæ°æåºå¨å¾æ¼ç¤º\n\n',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"äºåæ¥æ¾",frontmatter:{title:"äºåæ¥æ¾",date:"2022-10-11T23:47:58.000Z",permalink:"/pages/e53094/",categories:["è®¡ç®æºåºç¡","ç®æ³"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/40.%E7%AE%97%E6%B3%95/30.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html",relativePath:"02.è®¡ç®æºåºç¡/40.ç®æ³/30.äºåæ¥æ¾.md",key:"v-13949e6a",path:"/pages/e53094/",headers:[{level:3,title:"äºåæ¥æ¾",slug:"äºåæ¥æ¾",normalizedTitle:"äºåæ¥æ¾",charIndex:2},{level:3,title:"å¯»æ¾å·¦ä¾§è¾¹ççäºåæç´¢",slug:"å¯»æ¾å·¦ä¾§è¾¹ççäºåæç´¢",normalizedTitle:"å¯»æ¾å·¦ä¾§è¾¹ççäºåæç´¢",charIndex:769},{level:3,title:"å¯»æ¾å³ä¾§è¾¹ççäºåæ¥æ¾",slug:"å¯»æ¾å³ä¾§è¾¹ççäºåæ¥æ¾",normalizedTitle:"å¯»æ¾å³ä¾§è¾¹ççäºåæ¥æ¾",charIndex:2390},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_153-å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼)153. å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼(opens new window)",slug:"_153-å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/binary-search.html#_153-%e5%af%bb%e6%89%be%e6%97%8b%e8%bd%ac%e6%8e%92%e5%ba%8f%e6%95%b0%e7%bb%84%e4%b8%ad%e7%9a%84%e6%9c%80%e5%b0%8f%e5%80%bc" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>153. å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼(opens new window)',charIndex:null},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_33-æç´¢æè½¬æåºæ°ç»)33. æç´¢æè½¬æåºæ°ç»(opens new window)",slug:"_33-æç´¢æè½¬æåºæ°ç»-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/binary-search.html#_33-%e6%90%9c%e7%b4%a2%e6%97%8b%e8%bd%ac%e6%8e%92%e5%ba%8f%e6%95%b0%e7%bb%84" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>33. æç´¢æè½¬æåºæ°ç»(opens new window)',charIndex:null},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_34-å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®)34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window)",slug:"_34-å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/binary-search.html#_34-%e5%9c%a8%e6%8e%92%e5%ba%8f%e6%95%b0%e7%bb%84%e4%b8%ad%e6%9f%a5%e6%89%be%e5%85%83%e7%b4%a0%e7%9a%84%e7%ac%ac%e4%b8%80%e4%b8%aa%e5%92%8c%e6%9c%80%e5%90%8e%e4%b8%80%e4%b8%aa%e4%bd%8d%e7%bd%ae" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window)',charIndex:null},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_287-å¯»æ¾éå¤æ°)287. å¯»æ¾éå¤æ°(opens new window)",slug:"_287-å¯»æ¾éå¤æ°-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/binary-search.html#_287-%e5%af%bb%e6%89%be%e9%87%8d%e5%a4%8d%e6%95%b0" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>287. å¯»æ¾éå¤æ°(opens new window)',charIndex:null},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_162-å¯»æ¾å³°å¼)162. å¯»æ¾å³°å¼(opens new window)",slug:"_162-å¯»æ¾å³°å¼-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/binary-search.html#_162-%e5%af%bb%e6%89%be%e5%b3%b0%e5%80%bc" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>162. å¯»æ¾å³°å¼(opens new window)',charIndex:null},{level:3,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_240-æç´¢äºç»´ç©éµ-ii)240. æç´¢äºç»´ç©éµ II(opens new window)",slug:"_240-æç´¢äºç»´ç©éµ-ii-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/binary-search.html#_240-%e6%90%9c%e7%b4%a2%e4%ba%8c%e7%bb%b4%e7%9f%a9%e9%98%b5-ii" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>240. æç´¢äºç»´ç©éµ ii(opens new window)',charIndex:null}],headersStr:"äºåæ¥æ¾ å¯»æ¾å·¦ä¾§è¾¹ççäºåæç´¢ å¯»æ¾å³ä¾§è¾¹ççäºåæ¥æ¾ [#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_153-å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼)153. å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼(opens new window) [#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_33-æç´¢æè½¬æåºæ°ç»)33. æç´¢æè½¬æåºæ°ç»(opens new window) [#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_34-å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®)34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window) [#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_287-å¯»æ¾éå¤æ°)287. å¯»æ¾éå¤æ°(opens new window) [#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_162-å¯»æ¾å³°å¼)162. å¯»æ¾å³°å¼(opens new window) [#](https://javakeeper.starfish.ink/data-structure-algorithms/Binary-Search.html#_240-æç´¢äºç»´ç©éµ-ii)240. æç´¢äºç»´ç©éµ II(opens new window)",content:"# äºåæ¥æ¾\n\nint binarySearch(int[] nums, int target) {\n    int left = 0; \n    int right = nums.length - 1; // æ³¨æ\n\n    while(left <= right) {\n        int mid = left + (right - left) / 2;\n        if(nums[mid] == target)\n            return mid; \n        else if (nums[mid] < target)\n            left = mid + 1; // æ³¨æ\n        else if (nums[mid] > target)\n            right = mid - 1; // æ³¨æ\n    }\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n1ãä¸ºä»ä¹ while å¾ªç¯çæ¡ä»¶ä¸­æ¯ <=ï¼èä¸æ¯ <ï¼\n\nç­ï¼å ä¸ºåå§å right çèµå¼æ¯ nums.length - 1ï¼å³æåä¸ä¸ªåç´ çç´¢å¼ï¼èä¸æ¯ nums.lengthã\n\n2ãä¸ºä»ä¹ left = mid + 1ï¼right = mid - 1ï¼æçæçä»£ç æ¯ right = mid æè left = midï¼æ²¡æè¿äºå å ååï¼å°åºæä¹åäºï¼æä¹å¤æ­ï¼\n\nç­ï¼è¿ä¹æ¯äºåæ¥æ¾çä¸ä¸ªé¾ç¹ï¼ä¸è¿åªè¦ä½ è½çè§£åé¢çåå®¹ï¼å°±è½å¤å¾å®¹æå¤æ­ã\n\nåææç¡®äºãæç´¢åºé´ãè¿ä¸ªæ¦å¿µï¼èä¸æ¬ç®æ³çæç´¢åºé´æ¯ä¸¤ç«¯é½é­çï¼å³ [left, right]ãé£ä¹å½æä»¬åç°ç´¢å¼ mid ä¸æ¯è¦æ¾ç target æ¶ï¼ä¸ä¸æ­¥åºè¯¥å»æç´¢åªéå¢ï¼\n\n\n# å¯»æ¾å·¦ä¾§è¾¹ççäºåæç´¢\n\npublic static int getLeftNums(int[] nums,int target) {\n  int left = 0;\n  int right = nums.length;\n  while (left < right) {\n    int mid = left + (right - left) / 2;\n    if (nums[mid] == target) {\n      right = mid;\n    } else if (nums[mid] > target) {\n      right = mid - 1;\n    } else {\n      left = mid + 1;\n    }\n  }\n  return left;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n1ãä¸ºä»ä¹ while ä¸­æ¯ < èä¸æ¯ <=?\n\nç­ï¼ç¨ç¸åçæ¹æ³åæï¼å ä¸º right = nums.length èä¸æ¯ nums.length - 1ãå æ­¤æ¯æ¬¡å¾ªç¯çãæç´¢åºé´ãæ¯ [left, right) å·¦é­å³å¼ã\n\nwhile(left < right) ç»æ­¢çæ¡ä»¶æ¯ left == rightï¼æ­¤æ¶æç´¢åºé´ [left, left) ä¸ºç©ºï¼æä»¥å¯ä»¥æ­£ç¡®ç»æ­¢ã\n\nä¸ºä»ä¹ left = mid + 1ï¼right = mid ï¼åä¹åçç®æ³ä¸ä¸æ ·ï¼\n\nç­ï¼è¿ä¸ªå¾å¥½è§£éï¼å ä¸ºæä»¬çãæç´¢åºé´ãæ¯ [left, right) å·¦é­å³å¼ï¼æä»¥å½ nums[mid] è¢«æ£æµä¹åï¼ä¸ä¸æ­¥çæç´¢åºé´åºè¯¥å»æ mid åå²æä¸¤ä¸ªåºé´ï¼å³ [left, mid) æ [mid + 1, right)ã\n\n4ãä¸ºä»ä¹è¯¥ç®æ³è½å¤æç´¢å·¦ä¾§è¾¹çï¼\n\nç­ï¼å³é®å¨äºå¯¹äº nums[mid] == target è¿ç§æåµçå¤çï¼\n\n    if (nums[mid] == target)\n        right = mid;\n\n\n1\n2\n\n\nå¯è§ï¼æ¾å° target æ¶ä¸è¦ç«å³è¿åï¼èæ¯ç¼©å°ãæç´¢åºé´ãçä¸ç rightï¼å¨åºé´ [left, mid) ä¸­ç»§ç»­æç´¢ï¼å³ä¸æ­åå·¦æ¶ç¼©ï¼è¾¾å°éå®å·¦ä¾§è¾¹ççç®çã\n\nint left_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    // æç´¢åºé´ä¸º [left, right]\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            // æç´¢åºé´åä¸º [mid+1, right]\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            // æç´¢åºé´åä¸º [left, mid-1]\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // æ¶ç¼©å³ä¾§è¾¹ç\n            right = mid - 1;\n        }\n    }\n    // æ£æ¥åºçæåµ\n    if (left >= nums.length || nums[left] != target) {\n        return -1;\n    }\n    return left;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# å¯»æ¾å³ä¾§è¾¹ççäºåæ¥æ¾\n\nå·¦é­å³å¼çåæ³\n\nint right_bound(int[] nums, int target) {\n    if (nums.length == 0) return -1;\n    int left = 0, right = nums.length;\n    \n    while (left < right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] == target) {\n            left = mid + 1; // æ³¨æ\n        } else if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid;\n        }\n    }\n    return left - 1; // æ³¨æ\n}\nint right_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // è¿éæ¹ææ¶ç¼©å·¦ä¾§è¾¹çå³å¯\n            left = mid + 1;\n        }\n    }\n    // è¿éæ¹ä¸ºæ£æ¥ right è¶ççæåµï¼è§ä¸å¾\n    if (right < 0 || nums[right] != target) {\n        return -1;\n    }\n    return right;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nå¯¹äºå¯»æ¾å·¦å³è¾¹ççäºåæç´¢ï¼å¸¸è§çææ³æ¯ä½¿ç¨å·¦é­å³å¼çãæç´¢åºé´ãï¼æä»¬è¿æ ¹æ®é»è¾å°ãæç´¢åºé´ãå¨é½ç»ä¸æäºä¸¤ç«¯é½é­ï¼ä¾¿äºè®°å¿ï¼åªè¦ä¿®æ¹ä¸¤å¤å³å¯åååºä¸ç§åæ³ï¼\n\nint binary_search(int[] nums, int target) {\n    int left = 0, right = nums.length - 1; \n    while(left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1; \n        } else if(nums[mid] == target) {\n            // ç´æ¥è¿å\n            return mid;\n        }\n    }\n    // ç´æ¥è¿å\n    return -1;\n}\n\nint left_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // å«è¿åï¼éå®å·¦ä¾§è¾¹ç\n            right = mid - 1;\n        }\n    }\n    // æåè¦æ£æ¥ left è¶ççæåµ\n    if (left >= nums.length || nums[left] != target) {\n        return -1;\n    }\n    return left;\n}\n\nint right_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // å«è¿åï¼éå®å³ä¾§è¾¹ç\n            left = mid + 1;\n        }\n    }\n    // æåè¦æ£æ¥ right è¶ççæåµ\n    if (right < 0 || nums[right] != target) {\n        return -1;\n    }\n    return right;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# #153. å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼(opens new window)\n\n> å·²ç¥ä¸ä¸ªé¿åº¦ä¸º n çæ°ç»ï¼é¢åæç§ååºæåï¼ç»ç± 1 å° n æ¬¡ æè½¬ åï¼å¾å°è¾å¥æ°ç»ãä¾å¦ï¼åæ°ç» nums = [0,1,2,4,5,6,7] å¨åååå¯è½å¾å°ï¼ è¥æè½¬ 4 æ¬¡ï¼åå¯ä»¥å¾å° [4,5,6,7,0,1,2] è¥æè½¬ 7 æ¬¡ï¼åå¯ä»¥å¾å° [0,1,2,4,5,6,7] æ³¨æï¼æ°ç» [a[0], a[1], a[2], ..., a[n-1]] æè½¬ä¸æ¬¡ çç»æä¸ºæ°ç» [a[n-1], a[0], a[1], a[2], ..., a[n-2]] ã\n> \n> ç»ä½ ä¸ä¸ªåç´ å¼ äºä¸ç¸å çæ°ç» nums ï¼å®åæ¥æ¯ä¸ä¸ªååºæåçæ°ç»ï¼å¹¶æä¸è¿°æå½¢è¿è¡äºå¤æ¬¡æè½¬ãè¯·ä½ æ¾åºå¹¶è¿åæ°ç»ä¸­ç æå°åç´  ã\n> \n> ä½ å¿é¡»è®¾è®¡ä¸ä¸ªæ¶é´å¤æåº¦ä¸º O(log n) çç®æ³è§£å³æ­¤é®é¢ã\n> \n> è¾å¥ï¼nums = [3,4,5,1,2]\n> è¾åºï¼1\n> è§£éï¼åæ°ç»ä¸º [1,2,3,4,5] ï¼æè½¬ 3 æ¬¡å¾å°è¾å¥æ°ç»ã\n> è¾å¥ï¼nums = [11,13,15,17]\n> è¾åºï¼11\n> è§£éï¼åæ°ç»ä¸º [11,13,15,17] ï¼æè½¬ 4 æ¬¡å¾å°è¾å¥æ°ç»ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n\næè·¯ï¼\n\nååºæ°ç»+æè½¬ï¼ä»ç¶æ¯é¨åæåºï¼èèç¨äºåæ¥æ¾ã\n\n> è¿ç§äºåæ¥æ¾é¾å°±é¾å¨ï¼arr[mid] è·è°æ¯ã\n> \n> æä»¬çç®çæ¯ï¼å½è¿è¡ä¸æ¬¡æ¯è¾æ¶ï¼ä¸å®è½å¤ç¡®å®ç­æ¡å¨ mid çæä¸ä¾§ãä¸æ¬¡æ¯è¾ä¸º arr[mid] è·è°æ¯çé®é¢ã ä¸è¬çæ¯è¾ååæï¼\n> \n>  * å¦ææç®æ å¼ targetï¼é£ä¹ç´æ¥è®© arr[mid] å target æ¯è¾å³å¯ã\n>  * å¦ææ²¡æç®æ å¼ï¼ä¸è¬å¯ä»¥èè ç«¯ç¹\n\næè½¬æ°ç»ï¼é£æå°å¼å³ä¾§çåç´ è¯å®é½å°äºæ°ç»ä¸­çæåä¸ä¸ªåç´  nums[n-1]ï¼å·¦ä¾§åç´ é½å¤§äº num[n-1]\n\npublic static int findMin(int[] nums) {\n  int left = 0;\n  int right = nums.length - 1;\n  //å·¦é­å³å¼\n  while (left < right) {\n    int mid = left + (right - left) / 2;\n    //çé®ï¼ä¸ºä»ä¹right = mid;èä¸æ¯ right = mid-1;\n    //è§£ç­ï¼{4,5,1,2,3}ï¼å¦æright = mid-1ï¼åä¸¢å¤±äºæå°å¼1\n    if (nums[mid] < nums[right]) {\n      right = mid;\n    } else {\n      left = mid + 1;\n    }\n  }\n  return nums[left];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¦ææ¯æ±æè½¬æ°ç»ä¸­çæå¤§å¼å¢\n\npublic static int findMax(int[] nums) {\n  int left = 0;\n  int right = nums.length - 1;\n\n  while (left < right) {\n    int mid = left + (right - left) >> 1;\n\n    //å ä¸ºåä¸åæ´ï¼leftå¯è½ä¼ç­äºmidï¼æä»¥è¦èè\n    if (nums[left] < nums[right]) {\n      return nums[right];\n    }\n\n    //[left,mid] æ¯éå¢çï¼æå¤§å¼åªä¼å¨[mid,right]ä¸­\n    if (nums[left] < nums[mid]) {\n      left = mid;\n    } else {\n      //[mid,right]éå¢ï¼æå¤§å¼åªä¼å¨[left, mid-1]ä¸­\n      right = mid - 1;\n    }\n  }\n  return nums[left];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# #33. æç´¢æè½¬æåºæ°ç»(opens new window)\n\n> æ´æ°æ°ç» nums æååºæåï¼æ°ç»ä¸­çå¼ äºä¸ç¸å ã\n> \n> å¨ä¼ éç»å½æ°ä¹åï¼nums å¨é¢åæªç¥çæä¸ªä¸æ  kï¼0 <= k < nums.lengthï¼ä¸è¿è¡äº æè½¬ï¼ä½¿æ°ç»åä¸º [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]ï¼ä¸æ  ä» 0 å¼å§ è®¡æ°ï¼ãä¾å¦ï¼ [0,1,2,4,5,6,7] å¨ä¸æ  3 å¤ç»æè½¬åå¯è½åä¸º [4,5,6,7,0,1,2] ã\n> \n> ç»ä½  æè½¬å çæ°ç» nums åä¸ä¸ªæ´æ° target ï¼å¦æ nums ä¸­å­å¨è¿ä¸ªç®æ å¼ target ï¼åè¿åå®çä¸æ ï¼å¦åè¿å -1 ã\n> \n> è¾å¥ï¼nums = [4,5,6,7,0,1,2], target = 0\n> è¾åºï¼4\n> è¾å¥ï¼nums = [4,5,6,7,0,1,2], target = 3\n> è¾åºï¼-1\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼\n\næè½¬æ°ç»åï¼ä¾ç¶æ¯å±é¨æåºï¼ä»æ°ç»ä¸­é´åæå·¦å³ä¸¤é¨ååï¼ä¸å®æä¸é¨åæ¯æåºç\n\n * å¦æ [l, mid - 1] æ¯æåºæ°ç»ï¼ä¸ target çå¤§å°æ»¡è¶³ [{nums}[l],{nums}[mid]))ï¼åæä»¬åºè¯¥å°æç´¢èå´ç¼©å°è³ [l, mid - 1]ï¼å¦åå¨ [mid + 1, r] ä¸­å¯»æ¾ã\n * å¦æ [mid, r] æ¯æåºæ°ç»ï¼ä¸ target çå¤§å°æ»¡è¶³ ({nums}[mid+1],{nums}[r]]ï¼åæä»¬åºè¯¥å°æç´¢èå´ç¼©å°è³ [mid + 1, r]ï¼å¦åå¨ [l, mid - 1] ä¸­å¯»æ¾ã\n\npublic static int search(int[] nums,int target) {\n  int n = nums.length;\n  //ç¹ä¾\n  if (n == 0) {\n    return -1;\n  }\n  if (n == 1) {\n    return nums[0] == target ? 0 : -1;\n  }\n\n  int left = 0;\n  int right = nums.length - 1;\n\n  while (left <= right) {\n    int mid = left + (right - left) / 2;\n    if (target == nums[mid]) {\n      return mid;\n    }\n    //å·¦ä¾§æåºçè¯\n    if (nums[0] <= nums[mid]) {\n      if (nums[0] <= target && target < nums[mid]) {\n        right = mid - 1;\n      } else {\n        left = mid + 1;\n      }\n    } else {  //å³ä¾§æåº\n      if (nums[mid] < target && target <= nums[n - 1]) {\n        left = mid + 1;\n      } else {\n        right = mid - 1;\n      }\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# #34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window)\n\n> ç»å®ä¸ä¸ªæç§ååºæåçæ´æ°æ°ç» numsï¼åä¸ä¸ªç®æ å¼ targetãæ¾åºç»å®ç®æ å¼å¨æ°ç»ä¸­çå¼å§ä½ç½®åç»æä½ç½®ã\n> \n> å¦ææ°ç»ä¸­ä¸å­å¨ç®æ å¼ targetï¼è¿å [-1, -1]ã\n> \n> ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ¶é´å¤æåº¦ä¸º O(log n) çç®æ³è§£å³æ­¤é®é¢åï¼\n> \n> è¾å¥ï¼nums = [5,7,7,8,8,10], target = 8\n> è¾åºï¼[3,4]\n> è¾å¥ï¼nums = [5,7,7,8,8,10], target = 6\n> è¾åºï¼[-1,-1]\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼äºåæ³å¯»æ¾å·¦å³è¾¹çå¼\n\npublic int[] searchRange(int[] nums, int target) {\n  int first = binarySearch(nums, target, true);\n  int last = binarySearch(nums, target, false);\n  return new int[]{first, last};\n}\n\npublic int binarySearch(int[] nums, int target, boolean findLast) {\n  int length = nums.length;\n  int left = 0, right = length - 1;\n  //ç»æï¼å ä¸ºå¯è½æå¤ä¸ªå¼ï¼æä»¥éè¦åä¿å­èµ·æ¥\n  int index = -1;\n  while (left <= right) {\n    //åä¸­é´å¼\n    int middle = left + (right - left) / 2;\n\n    //æ¾å°ç¸åçå¼ï¼åªæè¿ä¸ªå°æ¹åæ®éäºåæ¥æ¾æä¸åï¼\n    if (nums[middle] == target) {\n      //åèµå¼ä¸ä¸ï¼è¯å®æ¯æ¾å°äºï¼åªæ¯ä¸ç¥éè¿ä¸ªå¼æ¯ä¸æ¯å¨åºåçè¾¹çå\n      index = middle;\n      //å¦ææ¯æ¥æ¾æåç\n      if (findLast) {\n        //é£æä»¬å°æµ®æ ç§»å¨å°ä¸ä¸ä¸ªå¼è¯æ¢ä¸ä¸åé¢çå¼è¿æ¯å¦ætarget\n        left = middle + 1;\n      } else {\n        //å¦åï¼å°±æ¯æ¥æ¾ç¬¬ä¸ä¸ªå¼ï¼ä¹æ¯åçï¼ç§»å¨æéå°ä¸ä¸ä¸ªå¼å»è¯æ¢ä¸ä¸ä¸ä¸ä¸ªå¼æ¯ä¸æ¯ç­äºtarget\n        right = middle - 1;\n      }\n\n      //ä¸é¢2ä¸ªå°±æ¯æ®éçäºåæ¥æ¾æµç¨ï¼å¤§äºå°äºé½ç§»å¨æé\n    } else if (nums[middle] < target) {\n      left = middle + 1;\n    } else {\n      right = middle - 1;\n    }\n\n  }\n  return index;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# #287. å¯»æ¾éå¤æ°(opens new window)\n\n> ç»å®ä¸ä¸ªåå« n + 1 ä¸ªæ´æ°çæ°ç» nums ï¼å¶æ°å­é½å¨ [1, n] èå´åï¼åæ¬ 1 å nï¼ï¼å¯ç¥è³å°å­å¨ä¸ä¸ªéå¤çæ´æ°ã\n> \n> åè®¾ nums åªæ ä¸ä¸ªéå¤çæ´æ° ï¼è¿å è¿ä¸ªéå¤çæ° ã\n> \n> ä½ è®¾è®¡çè§£å³æ¹æ¡å¿é¡» ä¸ä¿®æ¹ æ°ç» nums ä¸åªç¨å¸¸éçº§ O(1) çé¢å¤ç©ºé´ã\n> \n> è¾å¥ï¼nums = [1,3,4,2,2]\n> è¾åºï¼2\n> è¾å¥ï¼nums = [3,1,3,4,2]\n> è¾åºï¼3\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼\n\näºåæ¥æ¾çæè·¯æ¯åçä¸ä¸ªæ°ï¼ææèå´ [left..right] éä½äºä¸­é´çæ° midï¼ï¼ç¶åç»è®¡åå§æ°ç»ä¸­ å°äºç­äº mid çåç´ çä¸ªæ° cntï¼\n\nå¦æ cnt ä¸¥æ ¼å¤§äº midãæ ¹æ®æ½å±åçï¼éå¤åç´ å°±å¨åºé´ [left..mid] éï¼ å¦åï¼éå¤åç´ å°±å¨åºé´ [mid + 1..right] éã ä¸ç»å¤§å¤æ°ä½¿ç¨äºåæ¥æ¾é®é¢ä¸åçæ¯ï¼è¿éé¢æ­£çæèæ¯å®¹æçï¼å³ï¼æèåªè¾¹åºé´å­å¨éå¤æ°æ¯å®¹æçï¼å ä¸ºææ½å±åçåä¿è¯ã\n\npublic int findDuplicate(int[] nums) {\n  int len = nums.length;\n  int left = 1;\n  int right = len - 1;\n  while (left < right) {\n    int mid = left + (right - left) / 2;\n\n    int cnt = 0;\n    for (int num : nums) {\n      if (num <= mid) {\n        cnt += 1;\n      }\n    }\n\n    // æ ¹æ®æ½å±åçï¼å°äºç­äº 4 çä¸ªæ°å¦æä¸¥æ ¼å¤§äº 4 ä¸ªï¼æ­¤æ¶éå¤åç´ ä¸å®åºç°å¨ [1..4] åºé´é\n    if (cnt > mid) {\n      // éå¤åç´ ä½äºåºé´ [left..mid]\n      right = mid;\n    } else {\n      // if åææ­£ç¡®äºä»¥åï¼else æç´¢çåºé´å°±æ¯ if çåé¢åºé´ [mid + 1..right]\n      left = mid + 1;\n    }\n  }\n  return left;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# #162. å¯»æ¾å³°å¼(opens new window)\n\n> å³°å¼åç´ æ¯æå¶å¼ä¸¥æ ¼å¤§äºå·¦å³ç¸é»å¼çåç´ ã\n> \n> ç»ä½ ä¸ä¸ªæ´æ°æ°ç» numsï¼æ¾å°å³°å¼åç´ å¹¶è¿åå¶ç´¢å¼ãæ°ç»å¯è½åå«å¤ä¸ªå³°å¼ï¼å¨è¿ç§æåµä¸ï¼è¿å ä»»ä½ä¸ä¸ªå³°å¼ æå¨ä½ç½®å³å¯ã\n> \n> ä½ å¯ä»¥åè®¾ nums[-1] = nums[n] = -â ã\n> \n> ä½ å¿é¡»å®ç°æ¶é´å¤æåº¦ä¸º O(log n) çç®æ³æ¥è§£å³æ­¤é®é¢ã\n> \n> è¾å¥ï¼nums = [1,2,3,1]\n> è¾åºï¼2\n> è§£éï¼3 æ¯å³°å¼åç´ ï¼ä½ çå½æ°åºè¯¥è¿åå¶ç´¢å¼ 2ã\n> è¾å¥ï¼nums = [1,2,1,3,5,6,4]\n> è¾åºï¼1 æ 5 \n> è§£éï¼ä½ çå½æ°å¯ä»¥è¿åç´¢å¼ 1ï¼å¶å³°å¼åç´ ä¸º 2ï¼\n>      æèè¿åç´¢å¼ 5ï¼ å¶å³°å¼åç´ ä¸º 6ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n\næè·¯ï¼\n\nè¿é¢ï¼æç®åçæè·¯å°±æ¯ç´æ¥æ¾æå¤§å¼ï¼ä½è¿æ ·å¤æåº¦æ¯\n\nå¨äºåæ¥æ¾ä¸­ï¼æ¯æ¬¡ä¼æ¾å°ä¸ä¸ªä½ç½® midmidãæä»¬åç°ï¼midmid åªæå¦ä¸ä¸ç§æåµï¼\n\n * midmid ä¸ºä¸ä¸ªå³°å¼ï¼æ­¤æ¶æä»¬éè¿æ¯è¾ midmid ä½ç½®åç´ ä¸ä¸¤è¾¹åç´ å¤§å°å³å¯ã\n * midmid å¨ä¸ä¸ªå³°å¼å³ä¾§ï¼æ­¤æ¶æ nums[mid] < nums[mid + 1]nums[mid]<nums[mid+1]ï¼æ­¤æ¶æä»¬åå³è°æ´æç´¢èå´ï¼å¨ [mid + 1, r][mid+1,r] èå´åç»§ç»­æ¥æ¾ã\n * midmid å¨ä¸ä¸ªå³°å¼å·¦ä¾§ï¼æ­¤æ¶æ nums[mid] < nums[mid - 1]nums[mid]<nums[midâ1]ï¼æ­¤æ¶æä»¬åå·¦è°æ´æç´¢èå´ï¼å¨ [l + 1, mid][l+1,mid] èå´åç»§ç»­æ¥æ¾ã\n\npublic int findPeakElement(int[] nums) {\n  int n = nums.length;\n  if (n == 1) {\n    return 0;\n  }\n\n  // åç¹å¤ä¸¤è¾¹æåµ\n  if (nums[0] > nums[1]) return 0;\n  if (nums[n - 1] > nums[n - 2]) return n - 1;\n\n  int l = 0, r = n - 1;\n  while (l <= r) {\n    int mid = (l + r) / 2;\n\n    // å½åä¸ºå³°å¼\n    if (mid >= 1 && mid < n - 1 && nums[mid] > nums[mid - 1] && nums[mid] > nums[mid + 1]) {\n      return mid;\n    } else if (mid >= 1 && nums[mid] < nums[mid - 1]) {\n      // å³°å¼å¨ mid å·¦ä¾§\n      r = mid - 1;\n    } else if (mid < n - 1 && nums[mid] < nums[mid + 1]) {\n      // å³°å¼å¨ mid å³ä¾§\n      l = mid + 1;\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# #240. æç´¢äºç»´ç©éµ II(opens new window)\n\n> åæ Offer 04. äºç»´æ°ç»ä¸­çæ¥æ¾ (opens new window)ä¸æ ·çé¢ç®\n> \n> å¨ä¸ä¸ª n * m çäºç»´æ°ç»ä¸­ï¼æ¯ä¸è¡é½æç§ä»å·¦å°å³éå¢çé¡ºåºæåºï¼æ¯ä¸åé½æç§ä»ä¸å°ä¸éå¢çé¡ºåºæåºãè¯·å®æä¸ä¸ªé«æçå½æ°ï¼è¾å¥è¿æ ·çä¸ä¸ªäºç»´æ°ç»åä¸ä¸ªæ´æ°ï¼å¤æ­æ°ç»ä¸­æ¯å¦å«æè¯¥æ´æ°ã\n> \n> ç°æç©éµ matrix å¦ä¸ï¼\n> \n> [\n>   [1,   4,  7, 11, 15],\n>   [2,   5,  8, 12, 19],\n>   [3,   6,  9, 16, 22],\n>   [10, 13, 14, 17, 24],\n>   [18, 21, 23, 26, 30]\n> ]\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> \n> \n> ç»å® target = 5ï¼è¿å trueã\n> \n> ç»å® target = 20ï¼è¿å falseã\n\næè·¯ï¼\n\nç«å¨å³ä¸è§çãè¿ä¸ªç©éµå¶å®å°±åæ¯ä¸ä¸ªBinary Search Treeãç¶åï¼èªæçå¤§å®¶åºè¯¥ç¥éæä¹åäºã\n\npublic static boolean findNumberIn2DArray(int[][] matrix, int target) {\n\n  if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {\n    return false;\n  }\n\n  int rows = matrix.length;\n  int columns = matrix[0].length;\n  for (int i = 0; i < rows; i++) {\n    for (int j = 0; j < columns; j++) {\n      if (matrix[i][j] == target) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¦æä½ ååºè¿æ ·çæ´åè§£æ³ï¼é¢è¯å®å¯è½å°±ä¼åé®ä½ äºï¼ä½ è¿æä»ä¹æ³é®çåï¼\n\nè¨å½æ­£ä¼ ï¼æåºçæ°ç»ï¼æä»¬é¦ååºè¯¥æ³å°äºå\n\nclass Solution {\n    public boolean searchMatrix(int[][] matrix, int target) {\n        for (int[] row : matrix) {\n            int index = search(row, target);\n            if (index >= 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public int search(int[] nums, int target) {\n        int low = 0, high = nums.length - 1;\n        while (low <= high) {\n            int mid = (high - low) / 2 + low;\n            int num = nums[mid];\n            if (num == target) {\n                return mid;\n            } else if (num > target) {\n                high = mid - 1;\n            } else {\n                low = mid + 1;\n            }\n        }\n        return -1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nZ å­å½¢æ¥æ¾\n\n> åè®¾arræ°ç»ï¼valï¼tarå¦ä¸å¾æç¤ºï¼ å¦ææä»¬æäºåå¼å®å¨å³ä¸è§æèå·¦ä¸è§ï¼å°±å¯ä»¥è¿è¡äºåãè¿éä»¥å³ä¸è§ä¸ºä¾ï¼å·¦ä¸è§å¯èªè¡åæï¼ 1ï¼æä¹è®¾åå§å¼ä¸ºå³ä¸è§åç´ ï¼arr[0][5] = valï¼ç®æ tar = arr[3][1] 2ï¼æ¥ä¸æ¥è¿è¡äºåæä½ï¼ 3ï¼å¦æval == target,ç´æ¥è¿å 4ï¼å¦æ tar > val, è¯´ætargetå¨æ´å¤§çä½ç½®ï¼valå·¦è¾¹çåç´ æ¾ç¶é½æ¯ < valï¼é´æ¥ < tarï¼è¯´æç¬¬ 0 è¡é½æ¯æ æçï¼æä»¥valä¸ç§»å°arr[1][5] 5ï¼å¦æ tar < val, è¯´ætargetå¨æ´å°çä½ç½®ï¼valä¸è¾¹çåç´ æ¾ç¶é½æ¯ > valï¼é´æ¥ > tarï¼è¯´æç¬¬ 5 åé½æ¯æ æçï¼æä»¥valå·¦ç§»å°arr[0][4] 6ï¼ç»§ç»­æ­¥éª¤2)\n\npublic static boolean findNumberIn2DArray(int[][] matrix, int target) {\n\n  if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {\n    return false;\n  }\n\n  int rows = matrix.length;\n  int columns = matrix[0].length;\n  //å³ä¸è§åæ \n  int row = 0;\n  int col = columns - 1;\n  while (row < rows && col >= 0) {\n    int num = matrix[row][col];\n    if (num == target) {\n      return true;\n    } else if (target > num) {\n      row++;\n    } else {\n      col--;\n    }\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n",normalizedContent:"# äºåæ¥æ¾\n\nint binarysearch(int[] nums, int target) {\n    int left = 0; \n    int right = nums.length - 1; // æ³¨æ\n\n    while(left <= right) {\n        int mid = left + (right - left) / 2;\n        if(nums[mid] == target)\n            return mid; \n        else if (nums[mid] < target)\n            left = mid + 1; // æ³¨æ\n        else if (nums[mid] > target)\n            right = mid - 1; // æ³¨æ\n    }\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n1ãä¸ºä»ä¹ while å¾ªç¯çæ¡ä»¶ä¸­æ¯ <=ï¼èä¸æ¯ <ï¼\n\nç­ï¼å ä¸ºåå§å right çèµå¼æ¯ nums.length - 1ï¼å³æåä¸ä¸ªåç´ çç´¢å¼ï¼èä¸æ¯ nums.lengthã\n\n2ãä¸ºä»ä¹ left = mid + 1ï¼right = mid - 1ï¼æçæçä»£ç æ¯ right = mid æè left = midï¼æ²¡æè¿äºå å ååï¼å°åºæä¹åäºï¼æä¹å¤æ­ï¼\n\nç­ï¼è¿ä¹æ¯äºåæ¥æ¾çä¸ä¸ªé¾ç¹ï¼ä¸è¿åªè¦ä½ è½çè§£åé¢çåå®¹ï¼å°±è½å¤å¾å®¹æå¤æ­ã\n\nåææç¡®äºãæç´¢åºé´ãè¿ä¸ªæ¦å¿µï¼èä¸æ¬ç®æ³çæç´¢åºé´æ¯ä¸¤ç«¯é½é­çï¼å³ [left, right]ãé£ä¹å½æä»¬åç°ç´¢å¼ mid ä¸æ¯è¦æ¾ç target æ¶ï¼ä¸ä¸æ­¥åºè¯¥å»æç´¢åªéå¢ï¼\n\n\n# å¯»æ¾å·¦ä¾§è¾¹ççäºåæç´¢\n\npublic static int getleftnums(int[] nums,int target) {\n  int left = 0;\n  int right = nums.length;\n  while (left < right) {\n    int mid = left + (right - left) / 2;\n    if (nums[mid] == target) {\n      right = mid;\n    } else if (nums[mid] > target) {\n      right = mid - 1;\n    } else {\n      left = mid + 1;\n    }\n  }\n  return left;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n1ãä¸ºä»ä¹ while ä¸­æ¯ < èä¸æ¯ <=?\n\nç­ï¼ç¨ç¸åçæ¹æ³åæï¼å ä¸º right = nums.length èä¸æ¯ nums.length - 1ãå æ­¤æ¯æ¬¡å¾ªç¯çãæç´¢åºé´ãæ¯ [left, right) å·¦é­å³å¼ã\n\nwhile(left < right) ç»æ­¢çæ¡ä»¶æ¯ left == rightï¼æ­¤æ¶æç´¢åºé´ [left, left) ä¸ºç©ºï¼æä»¥å¯ä»¥æ­£ç¡®ç»æ­¢ã\n\nä¸ºä»ä¹ left = mid + 1ï¼right = mid ï¼åä¹åçç®æ³ä¸ä¸æ ·ï¼\n\nç­ï¼è¿ä¸ªå¾å¥½è§£éï¼å ä¸ºæä»¬çãæç´¢åºé´ãæ¯ [left, right) å·¦é­å³å¼ï¼æä»¥å½ nums[mid] è¢«æ£æµä¹åï¼ä¸ä¸æ­¥çæç´¢åºé´åºè¯¥å»æ mid åå²æä¸¤ä¸ªåºé´ï¼å³ [left, mid) æ [mid + 1, right)ã\n\n4ãä¸ºä»ä¹è¯¥ç®æ³è½å¤æç´¢å·¦ä¾§è¾¹çï¼\n\nç­ï¼å³é®å¨äºå¯¹äº nums[mid] == target è¿ç§æåµçå¤çï¼\n\n    if (nums[mid] == target)\n        right = mid;\n\n\n1\n2\n\n\nå¯è§ï¼æ¾å° target æ¶ä¸è¦ç«å³è¿åï¼èæ¯ç¼©å°ãæç´¢åºé´ãçä¸ç rightï¼å¨åºé´ [left, mid) ä¸­ç»§ç»­æç´¢ï¼å³ä¸æ­åå·¦æ¶ç¼©ï¼è¾¾å°éå®å·¦ä¾§è¾¹ççç®çã\n\nint left_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    // æç´¢åºé´ä¸º [left, right]\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            // æç´¢åºé´åä¸º [mid+1, right]\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            // æç´¢åºé´åä¸º [left, mid-1]\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // æ¶ç¼©å³ä¾§è¾¹ç\n            right = mid - 1;\n        }\n    }\n    // æ£æ¥åºçæåµ\n    if (left >= nums.length || nums[left] != target) {\n        return -1;\n    }\n    return left;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# å¯»æ¾å³ä¾§è¾¹ççäºåæ¥æ¾\n\nå·¦é­å³å¼çåæ³\n\nint right_bound(int[] nums, int target) {\n    if (nums.length == 0) return -1;\n    int left = 0, right = nums.length;\n    \n    while (left < right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] == target) {\n            left = mid + 1; // æ³¨æ\n        } else if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid;\n        }\n    }\n    return left - 1; // æ³¨æ\n}\nint right_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // è¿éæ¹ææ¶ç¼©å·¦ä¾§è¾¹çå³å¯\n            left = mid + 1;\n        }\n    }\n    // è¿éæ¹ä¸ºæ£æ¥ right è¶ççæåµï¼è§ä¸å¾\n    if (right < 0 || nums[right] != target) {\n        return -1;\n    }\n    return right;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nå¯¹äºå¯»æ¾å·¦å³è¾¹ççäºåæç´¢ï¼å¸¸è§çææ³æ¯ä½¿ç¨å·¦é­å³å¼çãæç´¢åºé´ãï¼æä»¬è¿æ ¹æ®é»è¾å°ãæç´¢åºé´ãå¨é½ç»ä¸æäºä¸¤ç«¯é½é­ï¼ä¾¿äºè®°å¿ï¼åªè¦ä¿®æ¹ä¸¤å¤å³å¯åååºä¸ç§åæ³ï¼\n\nint binary_search(int[] nums, int target) {\n    int left = 0, right = nums.length - 1; \n    while(left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1; \n        } else if(nums[mid] == target) {\n            // ç´æ¥è¿å\n            return mid;\n        }\n    }\n    // ç´æ¥è¿å\n    return -1;\n}\n\nint left_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // å«è¿åï¼éå®å·¦ä¾§è¾¹ç\n            right = mid - 1;\n        }\n    }\n    // æåè¦æ£æ¥ left è¶ççæåµ\n    if (left >= nums.length || nums[left] != target) {\n        return -1;\n    }\n    return left;\n}\n\nint right_bound(int[] nums, int target) {\n    int left = 0, right = nums.length - 1;\n    while (left <= right) {\n        int mid = left + (right - left) / 2;\n        if (nums[mid] < target) {\n            left = mid + 1;\n        } else if (nums[mid] > target) {\n            right = mid - 1;\n        } else if (nums[mid] == target) {\n            // å«è¿åï¼éå®å³ä¾§è¾¹ç\n            left = mid + 1;\n        }\n    }\n    // æåè¦æ£æ¥ right è¶ççæåµ\n    if (right < 0 || nums[right] != target) {\n        return -1;\n    }\n    return right;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# #153. å¯»æ¾æè½¬æåºæ°ç»ä¸­çæå°å¼(opens new window)\n\n> å·²ç¥ä¸ä¸ªé¿åº¦ä¸º n çæ°ç»ï¼é¢åæç§ååºæåï¼ç»ç± 1 å° n æ¬¡ æè½¬ åï¼å¾å°è¾å¥æ°ç»ãä¾å¦ï¼åæ°ç» nums = [0,1,2,4,5,6,7] å¨åååå¯è½å¾å°ï¼ è¥æè½¬ 4 æ¬¡ï¼åå¯ä»¥å¾å° [4,5,6,7,0,1,2] è¥æè½¬ 7 æ¬¡ï¼åå¯ä»¥å¾å° [0,1,2,4,5,6,7] æ³¨æï¼æ°ç» [a[0], a[1], a[2], ..., a[n-1]] æè½¬ä¸æ¬¡ çç»æä¸ºæ°ç» [a[n-1], a[0], a[1], a[2], ..., a[n-2]] ã\n> \n> ç»ä½ ä¸ä¸ªåç´ å¼ äºä¸ç¸å çæ°ç» nums ï¼å®åæ¥æ¯ä¸ä¸ªååºæåçæ°ç»ï¼å¹¶æä¸è¿°æå½¢è¿è¡äºå¤æ¬¡æè½¬ãè¯·ä½ æ¾åºå¹¶è¿åæ°ç»ä¸­ç æå°åç´  ã\n> \n> ä½ å¿é¡»è®¾è®¡ä¸ä¸ªæ¶é´å¤æåº¦ä¸º o(log n) çç®æ³è§£å³æ­¤é®é¢ã\n> \n> è¾å¥ï¼nums = [3,4,5,1,2]\n> è¾åºï¼1\n> è§£éï¼åæ°ç»ä¸º [1,2,3,4,5] ï¼æè½¬ 3 æ¬¡å¾å°è¾å¥æ°ç»ã\n> è¾å¥ï¼nums = [11,13,15,17]\n> è¾åºï¼11\n> è§£éï¼åæ°ç»ä¸º [11,13,15,17] ï¼æè½¬ 4 æ¬¡å¾å°è¾å¥æ°ç»ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n\næè·¯ï¼\n\nååºæ°ç»+æè½¬ï¼ä»ç¶æ¯é¨åæåºï¼èèç¨äºåæ¥æ¾ã\n\n> è¿ç§äºåæ¥æ¾é¾å°±é¾å¨ï¼arr[mid] è·è°æ¯ã\n> \n> æä»¬çç®çæ¯ï¼å½è¿è¡ä¸æ¬¡æ¯è¾æ¶ï¼ä¸å®è½å¤ç¡®å®ç­æ¡å¨ mid çæä¸ä¾§ãä¸æ¬¡æ¯è¾ä¸º arr[mid] è·è°æ¯çé®é¢ã ä¸è¬çæ¯è¾ååæï¼\n> \n>  * å¦ææç®æ å¼ targetï¼é£ä¹ç´æ¥è®© arr[mid] å target æ¯è¾å³å¯ã\n>  * å¦ææ²¡æç®æ å¼ï¼ä¸è¬å¯ä»¥èè ç«¯ç¹\n\næè½¬æ°ç»ï¼é£æå°å¼å³ä¾§çåç´ è¯å®é½å°äºæ°ç»ä¸­çæåä¸ä¸ªåç´  nums[n-1]ï¼å·¦ä¾§åç´ é½å¤§äº num[n-1]\n\npublic static int findmin(int[] nums) {\n  int left = 0;\n  int right = nums.length - 1;\n  //å·¦é­å³å¼\n  while (left < right) {\n    int mid = left + (right - left) / 2;\n    //çé®ï¼ä¸ºä»ä¹right = mid;èä¸æ¯ right = mid-1;\n    //è§£ç­ï¼{4,5,1,2,3}ï¼å¦æright = mid-1ï¼åä¸¢å¤±äºæå°å¼1\n    if (nums[mid] < nums[right]) {\n      right = mid;\n    } else {\n      left = mid + 1;\n    }\n  }\n  return nums[left];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¦ææ¯æ±æè½¬æ°ç»ä¸­çæå¤§å¼å¢\n\npublic static int findmax(int[] nums) {\n  int left = 0;\n  int right = nums.length - 1;\n\n  while (left < right) {\n    int mid = left + (right - left) >> 1;\n\n    //å ä¸ºåä¸åæ´ï¼leftå¯è½ä¼ç­äºmidï¼æä»¥è¦èè\n    if (nums[left] < nums[right]) {\n      return nums[right];\n    }\n\n    //[left,mid] æ¯éå¢çï¼æå¤§å¼åªä¼å¨[mid,right]ä¸­\n    if (nums[left] < nums[mid]) {\n      left = mid;\n    } else {\n      //[mid,right]éå¢ï¼æå¤§å¼åªä¼å¨[left, mid-1]ä¸­\n      right = mid - 1;\n    }\n  }\n  return nums[left];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# #33. æç´¢æè½¬æåºæ°ç»(opens new window)\n\n> æ´æ°æ°ç» nums æååºæåï¼æ°ç»ä¸­çå¼ äºä¸ç¸å ã\n> \n> å¨ä¼ éç»å½æ°ä¹åï¼nums å¨é¢åæªç¥çæä¸ªä¸æ  kï¼0 <= k < nums.lengthï¼ä¸è¿è¡äº æè½¬ï¼ä½¿æ°ç»åä¸º [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]ï¼ä¸æ  ä» 0 å¼å§ è®¡æ°ï¼ãä¾å¦ï¼ [0,1,2,4,5,6,7] å¨ä¸æ  3 å¤ç»æè½¬åå¯è½åä¸º [4,5,6,7,0,1,2] ã\n> \n> ç»ä½  æè½¬å çæ°ç» nums åä¸ä¸ªæ´æ° target ï¼å¦æ nums ä¸­å­å¨è¿ä¸ªç®æ å¼ target ï¼åè¿åå®çä¸æ ï¼å¦åè¿å -1 ã\n> \n> è¾å¥ï¼nums = [4,5,6,7,0,1,2], target = 0\n> è¾åºï¼4\n> è¾å¥ï¼nums = [4,5,6,7,0,1,2], target = 3\n> è¾åºï¼-1\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼\n\næè½¬æ°ç»åï¼ä¾ç¶æ¯å±é¨æåºï¼ä»æ°ç»ä¸­é´åæå·¦å³ä¸¤é¨ååï¼ä¸å®æä¸é¨åæ¯æåºç\n\n * å¦æ [l, mid - 1] æ¯æåºæ°ç»ï¼ä¸ target çå¤§å°æ»¡è¶³ [{nums}[l],{nums}[mid]))ï¼åæä»¬åºè¯¥å°æç´¢èå´ç¼©å°è³ [l, mid - 1]ï¼å¦åå¨ [mid + 1, r] ä¸­å¯»æ¾ã\n * å¦æ [mid, r] æ¯æåºæ°ç»ï¼ä¸ target çå¤§å°æ»¡è¶³ ({nums}[mid+1],{nums}[r]]ï¼åæä»¬åºè¯¥å°æç´¢èå´ç¼©å°è³ [mid + 1, r]ï¼å¦åå¨ [l, mid - 1] ä¸­å¯»æ¾ã\n\npublic static int search(int[] nums,int target) {\n  int n = nums.length;\n  //ç¹ä¾\n  if (n == 0) {\n    return -1;\n  }\n  if (n == 1) {\n    return nums[0] == target ? 0 : -1;\n  }\n\n  int left = 0;\n  int right = nums.length - 1;\n\n  while (left <= right) {\n    int mid = left + (right - left) / 2;\n    if (target == nums[mid]) {\n      return mid;\n    }\n    //å·¦ä¾§æåºçè¯\n    if (nums[0] <= nums[mid]) {\n      if (nums[0] <= target && target < nums[mid]) {\n        right = mid - 1;\n      } else {\n        left = mid + 1;\n      }\n    } else {  //å³ä¾§æåº\n      if (nums[mid] < target && target <= nums[n - 1]) {\n        left = mid + 1;\n      } else {\n        right = mid - 1;\n      }\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# #34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window)\n\n> ç»å®ä¸ä¸ªæç§ååºæåçæ´æ°æ°ç» numsï¼åä¸ä¸ªç®æ å¼ targetãæ¾åºç»å®ç®æ å¼å¨æ°ç»ä¸­çå¼å§ä½ç½®åç»æä½ç½®ã\n> \n> å¦ææ°ç»ä¸­ä¸å­å¨ç®æ å¼ targetï¼è¿å [-1, -1]ã\n> \n> ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ¶é´å¤æåº¦ä¸º o(log n) çç®æ³è§£å³æ­¤é®é¢åï¼\n> \n> è¾å¥ï¼nums = [5,7,7,8,8,10], target = 8\n> è¾åºï¼[3,4]\n> è¾å¥ï¼nums = [5,7,7,8,8,10], target = 6\n> è¾åºï¼[-1,-1]\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼äºåæ³å¯»æ¾å·¦å³è¾¹çå¼\n\npublic int[] searchrange(int[] nums, int target) {\n  int first = binarysearch(nums, target, true);\n  int last = binarysearch(nums, target, false);\n  return new int[]{first, last};\n}\n\npublic int binarysearch(int[] nums, int target, boolean findlast) {\n  int length = nums.length;\n  int left = 0, right = length - 1;\n  //ç»æï¼å ä¸ºå¯è½æå¤ä¸ªå¼ï¼æä»¥éè¦åä¿å­èµ·æ¥\n  int index = -1;\n  while (left <= right) {\n    //åä¸­é´å¼\n    int middle = left + (right - left) / 2;\n\n    //æ¾å°ç¸åçå¼ï¼åªæè¿ä¸ªå°æ¹åæ®éäºåæ¥æ¾æä¸åï¼\n    if (nums[middle] == target) {\n      //åèµå¼ä¸ä¸ï¼è¯å®æ¯æ¾å°äºï¼åªæ¯ä¸ç¥éè¿ä¸ªå¼æ¯ä¸æ¯å¨åºåçè¾¹çå\n      index = middle;\n      //å¦ææ¯æ¥æ¾æåç\n      if (findlast) {\n        //é£æä»¬å°æµ®æ ç§»å¨å°ä¸ä¸ä¸ªå¼è¯æ¢ä¸ä¸åé¢çå¼è¿æ¯å¦ætarget\n        left = middle + 1;\n      } else {\n        //å¦åï¼å°±æ¯æ¥æ¾ç¬¬ä¸ä¸ªå¼ï¼ä¹æ¯åçï¼ç§»å¨æéå°ä¸ä¸ä¸ªå¼å»è¯æ¢ä¸ä¸ä¸ä¸ä¸ªå¼æ¯ä¸æ¯ç­äºtarget\n        right = middle - 1;\n      }\n\n      //ä¸é¢2ä¸ªå°±æ¯æ®éçäºåæ¥æ¾æµç¨ï¼å¤§äºå°äºé½ç§»å¨æé\n    } else if (nums[middle] < target) {\n      left = middle + 1;\n    } else {\n      right = middle - 1;\n    }\n\n  }\n  return index;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# #287. å¯»æ¾éå¤æ°(opens new window)\n\n> ç»å®ä¸ä¸ªåå« n + 1 ä¸ªæ´æ°çæ°ç» nums ï¼å¶æ°å­é½å¨ [1, n] èå´åï¼åæ¬ 1 å nï¼ï¼å¯ç¥è³å°å­å¨ä¸ä¸ªéå¤çæ´æ°ã\n> \n> åè®¾ nums åªæ ä¸ä¸ªéå¤çæ´æ° ï¼è¿å è¿ä¸ªéå¤çæ° ã\n> \n> ä½ è®¾è®¡çè§£å³æ¹æ¡å¿é¡» ä¸ä¿®æ¹ æ°ç» nums ä¸åªç¨å¸¸éçº§ o(1) çé¢å¤ç©ºé´ã\n> \n> è¾å¥ï¼nums = [1,3,4,2,2]\n> è¾åºï¼2\n> è¾å¥ï¼nums = [3,1,3,4,2]\n> è¾åºï¼3\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼\n\näºåæ¥æ¾çæè·¯æ¯åçä¸ä¸ªæ°ï¼ææèå´ [left..right] éä½äºä¸­é´çæ° midï¼ï¼ç¶åç»è®¡åå§æ°ç»ä¸­ å°äºç­äº mid çåç´ çä¸ªæ° cntï¼\n\nå¦æ cnt ä¸¥æ ¼å¤§äº midãæ ¹æ®æ½å±åçï¼éå¤åç´ å°±å¨åºé´ [left..mid] éï¼ å¦åï¼éå¤åç´ å°±å¨åºé´ [mid + 1..right] éã ä¸ç»å¤§å¤æ°ä½¿ç¨äºåæ¥æ¾é®é¢ä¸åçæ¯ï¼è¿éé¢æ­£çæèæ¯å®¹æçï¼å³ï¼æèåªè¾¹åºé´å­å¨éå¤æ°æ¯å®¹æçï¼å ä¸ºææ½å±åçåä¿è¯ã\n\npublic int findduplicate(int[] nums) {\n  int len = nums.length;\n  int left = 1;\n  int right = len - 1;\n  while (left < right) {\n    int mid = left + (right - left) / 2;\n\n    int cnt = 0;\n    for (int num : nums) {\n      if (num <= mid) {\n        cnt += 1;\n      }\n    }\n\n    // æ ¹æ®æ½å±åçï¼å°äºç­äº 4 çä¸ªæ°å¦æä¸¥æ ¼å¤§äº 4 ä¸ªï¼æ­¤æ¶éå¤åç´ ä¸å®åºç°å¨ [1..4] åºé´é\n    if (cnt > mid) {\n      // éå¤åç´ ä½äºåºé´ [left..mid]\n      right = mid;\n    } else {\n      // if åææ­£ç¡®äºä»¥åï¼else æç´¢çåºé´å°±æ¯ if çåé¢åºé´ [mid + 1..right]\n      left = mid + 1;\n    }\n  }\n  return left;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# #162. å¯»æ¾å³°å¼(opens new window)\n\n> å³°å¼åç´ æ¯æå¶å¼ä¸¥æ ¼å¤§äºå·¦å³ç¸é»å¼çåç´ ã\n> \n> ç»ä½ ä¸ä¸ªæ´æ°æ°ç» numsï¼æ¾å°å³°å¼åç´ å¹¶è¿åå¶ç´¢å¼ãæ°ç»å¯è½åå«å¤ä¸ªå³°å¼ï¼å¨è¿ç§æåµä¸ï¼è¿å ä»»ä½ä¸ä¸ªå³°å¼ æå¨ä½ç½®å³å¯ã\n> \n> ä½ å¯ä»¥åè®¾ nums[-1] = nums[n] = -â ã\n> \n> ä½ å¿é¡»å®ç°æ¶é´å¤æåº¦ä¸º o(log n) çç®æ³æ¥è§£å³æ­¤é®é¢ã\n> \n> è¾å¥ï¼nums = [1,2,3,1]\n> è¾åºï¼2\n> è§£éï¼3 æ¯å³°å¼åç´ ï¼ä½ çå½æ°åºè¯¥è¿åå¶ç´¢å¼ 2ã\n> è¾å¥ï¼nums = [1,2,1,3,5,6,4]\n> è¾åºï¼1 æ 5 \n> è§£éï¼ä½ çå½æ°å¯ä»¥è¿åç´¢å¼ 1ï¼å¶å³°å¼åç´ ä¸º 2ï¼\n>      æèè¿åç´¢å¼ 5ï¼ å¶å³°å¼åç´ ä¸º 6ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n\næè·¯ï¼\n\nè¿é¢ï¼æç®åçæè·¯å°±æ¯ç´æ¥æ¾æå¤§å¼ï¼ä½è¿æ ·å¤æåº¦æ¯\n\nå¨äºåæ¥æ¾ä¸­ï¼æ¯æ¬¡ä¼æ¾å°ä¸ä¸ªä½ç½® midmidãæä»¬åç°ï¼midmid åªæå¦ä¸ä¸ç§æåµï¼\n\n * midmid ä¸ºä¸ä¸ªå³°å¼ï¼æ­¤æ¶æä»¬éè¿æ¯è¾ midmid ä½ç½®åç´ ä¸ä¸¤è¾¹åç´ å¤§å°å³å¯ã\n * midmid å¨ä¸ä¸ªå³°å¼å³ä¾§ï¼æ­¤æ¶æ nums[mid] < nums[mid + 1]nums[mid]<nums[mid+1]ï¼æ­¤æ¶æä»¬åå³è°æ´æç´¢èå´ï¼å¨ [mid + 1, r][mid+1,r] èå´åç»§ç»­æ¥æ¾ã\n * midmid å¨ä¸ä¸ªå³°å¼å·¦ä¾§ï¼æ­¤æ¶æ nums[mid] < nums[mid - 1]nums[mid]<nums[midâ1]ï¼æ­¤æ¶æä»¬åå·¦è°æ´æç´¢èå´ï¼å¨ [l + 1, mid][l+1,mid] èå´åç»§ç»­æ¥æ¾ã\n\npublic int findpeakelement(int[] nums) {\n  int n = nums.length;\n  if (n == 1) {\n    return 0;\n  }\n\n  // åç¹å¤ä¸¤è¾¹æåµ\n  if (nums[0] > nums[1]) return 0;\n  if (nums[n - 1] > nums[n - 2]) return n - 1;\n\n  int l = 0, r = n - 1;\n  while (l <= r) {\n    int mid = (l + r) / 2;\n\n    // å½åä¸ºå³°å¼\n    if (mid >= 1 && mid < n - 1 && nums[mid] > nums[mid - 1] && nums[mid] > nums[mid + 1]) {\n      return mid;\n    } else if (mid >= 1 && nums[mid] < nums[mid - 1]) {\n      // å³°å¼å¨ mid å·¦ä¾§\n      r = mid - 1;\n    } else if (mid < n - 1 && nums[mid] < nums[mid + 1]) {\n      // å³°å¼å¨ mid å³ä¾§\n      l = mid + 1;\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# #240. æç´¢äºç»´ç©éµ ii(opens new window)\n\n> åæ offer 04. äºç»´æ°ç»ä¸­çæ¥æ¾ (opens new window)ä¸æ ·çé¢ç®\n> \n> å¨ä¸ä¸ª n * m çäºç»´æ°ç»ä¸­ï¼æ¯ä¸è¡é½æç§ä»å·¦å°å³éå¢çé¡ºåºæåºï¼æ¯ä¸åé½æç§ä»ä¸å°ä¸éå¢çé¡ºåºæåºãè¯·å®æä¸ä¸ªé«æçå½æ°ï¼è¾å¥è¿æ ·çä¸ä¸ªäºç»´æ°ç»åä¸ä¸ªæ´æ°ï¼å¤æ­æ°ç»ä¸­æ¯å¦å«æè¯¥æ´æ°ã\n> \n> ç°æç©éµ matrix å¦ä¸ï¼\n> \n> [\n>   [1,   4,  7, 11, 15],\n>   [2,   5,  8, 12, 19],\n>   [3,   6,  9, 16, 22],\n>   [10, 13, 14, 17, 24],\n>   [18, 21, 23, 26, 30]\n> ]\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> \n> \n> ç»å® target = 5ï¼è¿å trueã\n> \n> ç»å® target = 20ï¼è¿å falseã\n\næè·¯ï¼\n\nç«å¨å³ä¸è§çãè¿ä¸ªç©éµå¶å®å°±åæ¯ä¸ä¸ªbinary search treeãç¶åï¼èªæçå¤§å®¶åºè¯¥ç¥éæä¹åäºã\n\npublic static boolean findnumberin2darray(int[][] matrix, int target) {\n\n  if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {\n    return false;\n  }\n\n  int rows = matrix.length;\n  int columns = matrix[0].length;\n  for (int i = 0; i < rows; i++) {\n    for (int j = 0; j < columns; j++) {\n      if (matrix[i][j] == target) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå¦æä½ ååºè¿æ ·çæ´åè§£æ³ï¼é¢è¯å®å¯è½å°±ä¼åé®ä½ äºï¼ä½ è¿æä»ä¹æ³é®çåï¼\n\nè¨å½æ­£ä¼ ï¼æåºçæ°ç»ï¼æä»¬é¦ååºè¯¥æ³å°äºå\n\nclass solution {\n    public boolean searchmatrix(int[][] matrix, int target) {\n        for (int[] row : matrix) {\n            int index = search(row, target);\n            if (index >= 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public int search(int[] nums, int target) {\n        int low = 0, high = nums.length - 1;\n        while (low <= high) {\n            int mid = (high - low) / 2 + low;\n            int num = nums[mid];\n            if (num == target) {\n                return mid;\n            } else if (num > target) {\n                high = mid - 1;\n            } else {\n                low = mid + 1;\n            }\n        }\n        return -1;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nz å­å½¢æ¥æ¾\n\n> åè®¾arræ°ç»ï¼valï¼tarå¦ä¸å¾æç¤ºï¼ å¦ææä»¬æäºåå¼å®å¨å³ä¸è§æèå·¦ä¸è§ï¼å°±å¯ä»¥è¿è¡äºåãè¿éä»¥å³ä¸è§ä¸ºä¾ï¼å·¦ä¸è§å¯èªè¡åæï¼ 1ï¼æä¹è®¾åå§å¼ä¸ºå³ä¸è§åç´ ï¼arr[0][5] = valï¼ç®æ tar = arr[3][1] 2ï¼æ¥ä¸æ¥è¿è¡äºåæä½ï¼ 3ï¼å¦æval == target,ç´æ¥è¿å 4ï¼å¦æ tar > val, è¯´ætargetå¨æ´å¤§çä½ç½®ï¼valå·¦è¾¹çåç´ æ¾ç¶é½æ¯ < valï¼é´æ¥ < tarï¼è¯´æç¬¬ 0 è¡é½æ¯æ æçï¼æä»¥valä¸ç§»å°arr[1][5] 5ï¼å¦æ tar < val, è¯´ætargetå¨æ´å°çä½ç½®ï¼valä¸è¾¹çåç´ æ¾ç¶é½æ¯ > valï¼é´æ¥ > tarï¼è¯´æç¬¬ 5 åé½æ¯æ æçï¼æä»¥valå·¦ç§»å°arr[0][4] 6ï¼ç»§ç»­æ­¥éª¤2)\n\npublic static boolean findnumberin2darray(int[][] matrix, int target) {\n\n  if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {\n    return false;\n  }\n\n  int rows = matrix.length;\n  int columns = matrix[0].length;\n  //å³ä¸è§åæ \n  int row = 0;\n  int col = columns - 1;\n  while (row < rows && col >= 0) {\n    int num = matrix[row][col];\n    if (num == target) {\n      return true;\n    } else if (target > num) {\n      row++;\n    } else {\n      col--;\n    }\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"åæé",frontmatter:{title:"åæé",date:"2022-10-11T23:53:40.000Z",permalink:"/pages/30153a/",categories:["è®¡ç®æºåºç¡","ç®æ³"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/40.%E7%AE%97%E6%B3%95/40.%E5%8F%8C%E6%8C%87%E9%92%88.html",relativePath:"02.è®¡ç®æºåºç¡/40.ç®æ³/40.åæé.md",key:"v-a406533a",path:"/pages/30153a/",headers:[{level:4,title:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Double-Pointer.html#_42-æ¥é¨æ°´)42. æ¥é¨æ°´(opens new window)",slug:"_42-æ¥é¨æ°´-opens-new-window",normalizedTitle:'<a href="https://javakeeper.starfish.ink/data-structure-algorithms/double-pointer.html#_42-%e6%8e%a5%e9%9b%a8%e6%b0%b4" target="_blank" rel="noopener noreferrer">#<outboundlink/></a>42. æ¥é¨æ°´(opens new window)',charIndex:null},{level:2,title:"ä¸ãå·¦å³æé",slug:"ä¸ãå·¦å³æé",normalizedTitle:"ä¸ãå·¦å³æé",charIndex:100},{level:3,title:"ä¸¤æ°ä¹å II - è¾å¥æåºæ°ç»",slug:"ä¸¤æ°ä¹å-ii-è¾å¥æåºæ°ç»",normalizedTitle:"ä¸¤æ°ä¹å ii - è¾å¥æåºæ°ç»",charIndex:343},{level:3,title:"ä¸æ°ä¹å",slug:"ä¸æ°ä¹å",normalizedTitle:"ä¸æ°ä¹å",charIndex:310},{level:3,title:"çæå¤æ°´çå®¹å¨",slug:"çæå¤æ°´çå®¹å¨",normalizedTitle:"çæå¤æ°´çå®¹å¨",charIndex:275},{level:3,title:"éªè¯åæä¸²",slug:"éªè¯åæä¸²",normalizedTitle:"éªè¯åæä¸²",charIndex:388},{level:3,title:"åè½¬å­ç¬¦ä¸²",slug:"åè½¬å­ç¬¦ä¸²",normalizedTitle:"åè½¬å­ç¬¦ä¸²",charIndex:422},{level:3,title:"äºåæ¥æ¾",slug:"äºåæ¥æ¾",normalizedTitle:"äºåæ¥æ¾",charIndex:488},{level:2,title:"äºãå¿«æ¢æé",slug:"äºãå¿«æ¢æé",normalizedTitle:"äºãå¿«æ¢æé",charIndex:5672},{level:3,title:"ç¯å½¢é¾è¡¨",slug:"ç¯å½¢é¾è¡¨",normalizedTitle:"ç¯å½¢é¾è¡¨",charIndex:5705},{level:3,title:"ç¯å½¢é¾è¡¨ II",slug:"ç¯å½¢é¾è¡¨-ii",normalizedTitle:"ç¯å½¢é¾è¡¨ ii",charIndex:6445},{level:3,title:"é¾è¡¨çä¸­é´ç»ç¹",slug:"é¾è¡¨çä¸­é´ç»ç¹",normalizedTitle:"é¾è¡¨çä¸­é´ç»ç¹",charIndex:5815},{level:3,title:"å é¤é¾è¡¨çåæ°ç¬¬ N ä¸ªç»ç¹",slug:"å é¤é¾è¡¨çåæ°ç¬¬-n-ä¸ªç»ç¹",normalizedTitle:"å é¤é¾è¡¨çåæ°ç¬¬ n ä¸ªç»ç¹",charIndex:5772},{level:3,title:"å é¤æåºæ°ç»ä¸­çéå¤é¡¹",slug:"å é¤æåºæ°ç»ä¸­çéå¤é¡¹",normalizedTitle:"å é¤æåºæ°ç»ä¸­çéå¤é¡¹",charIndex:5850},{level:3,title:"æé¿è¿ç»­éå¢åºå",slug:"æé¿è¿ç»­éå¢åºå",normalizedTitle:"æé¿è¿ç»­éå¢åºå",charIndex:8695},{level:2,title:"ä¸ãæ»å¨çªå£",slug:"ä¸ãæ»å¨çªå£",normalizedTitle:"ä¸ãæ»å¨çªå£",charIndex:9402},{level:3,title:"3.1 ååäº¤æ¿ç§»å¨çä¸¤ä¸ªåé",slug:"_3-1-ååäº¤æ¿ç§»å¨çä¸¤ä¸ªåé",normalizedTitle:"3.1 ååäº¤æ¿ç§»å¨çä¸¤ä¸ªåé",charIndex:9993},{level:4,title:"å­æ°ç»æå¤§å¹³åæ° I",slug:"å­æ°ç»æå¤§å¹³åæ°-i",normalizedTitle:"å­æ°ç»æå¤§å¹³åæ° i",charIndex:9563},{level:3,title:"3.2 ä¸å®é¿åº¦çæ»å¨çªå£",slug:"_3-2-ä¸å®é¿åº¦çæ»å¨çªå£",normalizedTitle:"3.2 ä¸å®é¿åº¦çæ»å¨çªå£",charIndex:10718},{level:4,title:"æ éå¤å­ç¬¦çæé¿å­ä¸²",slug:"æ éå¤å­ç¬¦çæé¿å­ä¸²",normalizedTitle:"æ éå¤å­ç¬¦çæé¿å­ä¸²",charIndex:9638},{level:4,title:"æå°è¦çå­ä¸²",slug:"æå°è¦çå­ä¸²",normalizedTitle:"æå°è¦çå­ä¸²",charIndex:9676},{level:4,title:"æ¿æ¢åçæé¿éå¤å­ç¬¦",slug:"æ¿æ¢åçæé¿éå¤å­ç¬¦",normalizedTitle:"æ¿æ¢åçæé¿éå¤å­ç¬¦",charIndex:9711},{level:3,title:"3.3 è®¡æ°é®é¢",slug:"_3-3-è®¡æ°é®é¢",normalizedTitle:"3.3 è®¡æ°é®é¢",charIndex:13005},{level:4,title:"è³å¤åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²",slug:"è³å¤åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²",normalizedTitle:"è³å¤åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²",charIndex:13017},{level:4,title:"è³å¤åå« K ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²",slug:"è³å¤åå«-k-ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²",normalizedTitle:"è³å¤åå« k ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²",charIndex:13197},{level:4,title:"åºé´å­æ°ç»ä¸ªæ°",slug:"åºé´å­æ°ç»ä¸ªæ°",normalizedTitle:"åºé´å­æ°ç»ä¸ªæ°",charIndex:13337},{level:4,title:"K ä¸ªä¸åæ´æ°çå­æ°ç»",slug:"k-ä¸ªä¸åæ´æ°çå­æ°ç»",normalizedTitle:"k ä¸ªä¸åæ´æ°çå­æ°ç»",charIndex:13556},{level:3,title:"3.4 ä½¿ç¨æ°æ®ç»æç»´æ¤çªå£æ§è´¨",slug:"_3-4-ä½¿ç¨æ°æ®ç»æç»´æ¤çªå£æ§è´¨",normalizedTitle:"3.4 ä½¿ç¨æ°æ®ç»æç»´æ¤çªå£æ§è´¨",charIndex:13576},{level:4,title:"æ»å¨çªå£æå¤§å¼",slug:"æ»å¨çªå£æå¤§å¼",normalizedTitle:"æ»å¨çªå£æå¤§å¼",charIndex:13677},{level:4,title:"æ»å¨çªå£ä¸­ä½æ°",slug:"æ»å¨çªå£ä¸­ä½æ°",normalizedTitle:"æ»å¨çªå£ä¸­ä½æ°",charIndex:13688},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:13700}],headersStr:"[#](https://javakeeper.starfish.ink/data-structure-algorithms/Double-Pointer.html#_42-æ¥é¨æ°´)42. æ¥é¨æ°´(opens new window) ä¸ãå·¦å³æé ä¸¤æ°ä¹å II - è¾å¥æåºæ°ç» ä¸æ°ä¹å çæå¤æ°´çå®¹å¨ éªè¯åæä¸² åè½¬å­ç¬¦ä¸² äºåæ¥æ¾ äºãå¿«æ¢æé ç¯å½¢é¾è¡¨ ç¯å½¢é¾è¡¨ II é¾è¡¨çä¸­é´ç»ç¹ å é¤é¾è¡¨çåæ°ç¬¬ N ä¸ªç»ç¹ å é¤æåºæ°ç»ä¸­çéå¤é¡¹ æé¿è¿ç»­éå¢åºå ä¸ãæ»å¨çªå£ 3.1 ååäº¤æ¿ç§»å¨çä¸¤ä¸ªåé å­æ°ç»æå¤§å¹³åæ° I 3.2 ä¸å®é¿åº¦çæ»å¨çªå£ æ éå¤å­ç¬¦çæé¿å­ä¸² æå°è¦çå­ä¸² æ¿æ¢åçæé¿éå¤å­ç¬¦ 3.3 è®¡æ°é®é¢ è³å¤åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸² è³å¤åå« K ä¸ªä¸åå­ç¬¦çæé¿å­ä¸² åºé´å­æ°ç»ä¸ªæ° K ä¸ªä¸åæ´æ°çå­æ°ç» 3.4 ä½¿ç¨æ°æ®ç»æç»´æ¤çªå£æ§è´¨ æ»å¨çªå£æå¤§å¼ æ»å¨çªå£ä¸­ä½æ° æ»ç»",content:'å½çº³ä¸åæéç®æ³ï¼å¶å®æ»å±å°±ä¸ç±»\n\n * å·¦å³æéï¼æ°ç»åå­ç¬¦ä¸²é®é¢\n * å¿«æ¢æéï¼ä¸»è¦æ¯æç¯é®é¢\n * æ»å¨çªå£ï¼éå¯¹å­ä¸²é®é¢\n\n# #42. æ¥é¨æ°´(opens new window)\n\n\n# ä¸ãå·¦å³æé\n\nå·¦å³æéå¨æ°ç»ä¸­å¶å®å°±æ¯ä¸¤ä¸ªç´¢å¼å¼ï¼\n\nTODO: ä¸è¬é½æ¯æåºæ°ç»ï¼æèåæåºåï¼\n\nJavaer ä¸è¬è¿ä¹è¡¨ç¤ºï¼\n\nint left = i + 1;\nint right = nums.length - 1;\nwhile(left < right)\n  ***\n\n\n1\n2\n3\n4\n\n\nè¿ä¸¤ä¸ªæé ç¸åäº¤æ¿ç§»å¨\n\n\n\n> 11. çæå¤æ°´çå®¹å¨(opens new window)\n> \n> 15. ä¸æ°ä¹å(opens new window)\n> \n> 167. ä¸¤æ°ä¹å II - è¾å¥æåºæ°ç»(opens new window)\n> \n> 125. éªè¯åæä¸²(opens new window)\n> \n> 344. åè½¬å­ç¬¦ä¸²(opens new window)\n> \n> 283. ç§»å¨é¶(opens new window)\n> \n> 704. äºåæ¥æ¾(opens new window)\n> \n> 34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window)\n\nTODO: ç»å¾å¯¹æ¯åä¸ªç®æ³\n\n\n# ä¸¤æ°ä¹å II - è¾å¥æåºæ°ç»\n\n> ç»å®ä¸ä¸ªæ´æ°æ°ç» nums åä¸ä¸ªæ´æ°ç®æ å¼ targetï¼è¯·ä½ å¨è¯¥æ°ç»ä¸­æ¾åº åä¸ºç®æ å¼ target çé£ ä¸¤ä¸ª æ´æ°ï¼å¹¶è¿åå®ä»¬çæ°ç»ä¸æ ã\n> \n> ä½ å¯ä»¥åè®¾æ¯ç§è¾å¥åªä¼å¯¹åºä¸ä¸ªç­æ¡ãä½æ¯ï¼æ°ç»ä¸­åä¸ä¸ªåç´ å¨ç­æ¡éä¸è½éå¤åºç°ã\n> \n> ä½ å¯ä»¥æä»»æé¡ºåºè¿åç­æ¡ã\n> \n> è¾å¥ï¼nums = [2,7,11,15], target = 9\n> è¾åºï¼[0,1]\n> è§£éï¼å ä¸º nums[0] + nums[1] == 9 ï¼è¿å [0, 1] ã\n> \n> \n> 1\n> 2\n> 3\n\nç´æ¥ç¨å·¦å³æéå¥å°±å¯ä»¥\n\npublic static int[] towSum(int[] nums, int target) {\n    int left = 0;\n    int rigth = nums.length - 1;\n    while(left < rigth){\n        int tmp = nums[left] + nums[rigth];\n        if (target == tmp) {\n            return new int[]{left, rigth};\n        } else if (tmp > target) {\n            rigth--; //å³ç§»\n        } else {\n            left++;  //å·¦ç§»\n        }\n    }\n    return new int[]{-1, -1};\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# ä¸æ°ä¹å\n\næåºãåæéãå»é\n\nç¬¬ä¸ä¸ªæ³æ³æ¯ï¼è¿ä¸ä¸ªæ°ï¼ä¸¤ä¸ªæéï¼\n\n * å¯¹æ°ç»æåºï¼åºå®ä¸ä¸ªæ° ï¼ç¶åéåæ°ç»ï¼å¹¶ç§»å¨å·¦å³æéæ±åï¼å¤æ­æ¯å¦æç­äº 0 çæåµ\n * ç¹ä¾ï¼\n   * æåºåç¬¬ä¸ä¸ªæ°å°±å¤§äº 0ï¼ä¸å¹²äº\n   * æä¸ä¸ªéè¦å»éçå°æ¹\n     * nums[i] == nums[i - 1] ç´æ¥è·³è¿æ¬æ¬¡éå\n     * nums[left] == nums[left + 1] ç§»å¨æéï¼å³å»é\n     * nums[right] == nums[right - 1] ç§»å¨æé\n\n\n\npublic static List<List<Integer>> threeSum(int[] nums) {\n  //å­æ¾ç»ælist\n  List<List<Integer>> result = new ArrayList<>();\n  int length = nums.length;\n  //ç¹ä¾å¤æ­\n  if (length < 3) {\n    return result;\n  }\n  Arrays.sort(nums);\n  for (int i = 0; i < length; i++) {\n    //æåºåçç¬¬ä¸ä¸ªæ°å­å°±å¤§äº0ï¼å°±è¯´ææ²¡æç¬¦åè¦æ±çç»æ\n    if (nums[i] > 0) break;\n\n    //å»é\n    if (i > 0 && nums[i] == nums[i - 1]) continue;\n    //å·¦å³æé\n    int l = i + 1;\n    int r = length - 1;\n    while (l < r) {\n      int sum = nums[i] + nums[l] + nums[r];\n      if (sum == 0) {\n        result.add(Arrays.asList(nums[i], nums[l], nums[r]));\n        //å»éï¼ç¸åæ°å­çè¯å°±ç§»å¨æéï¼\n        while (nums[l] == nums[l + 1]) l++;\n        while (nums[r] == nums[r - 1]) r--;\n        //ç§»å¨æé\n        l++;\n        r--;\n      } else if (sum < 0) {\n        l++;\n      } else if (sum > 0) {\n        r--;\n      }\n    }\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# çæå¤æ°´çå®¹å¨\n\n> ç»ä½  n ä¸ªéè´æ´æ° a1ï¼a2ï¼...ï¼anï¼æ¯ä¸ªæ°ä»£è¡¨åæ ä¸­çä¸ä¸ªç¹ (i, ai) ãå¨åæ åç» n æ¡åç´çº¿ï¼åç´çº¿ i çä¸¤ä¸ªç«¯ç¹åå«ä¸º (i, ai) å (i, 0) ãæ¾åºå¶ä¸­çä¸¤æ¡çº¿ï¼ä½¿å¾å®ä»¬ä¸ x è½´å±åææçå®¹å¨å¯ä»¥å®¹çº³æå¤çæ°´ã\n> \n> è¾å¥ï¼[1,8,6,2,5,4,8,3,7]\n> è¾åºï¼49 \n> è§£éï¼å¾ä¸­åç´çº¿ä»£è¡¨è¾å¥æ°ç» [1,8,6,2,5,4,8,3,7]ãå¨æ­¤æåµä¸ï¼å®¹å¨è½å¤å®¹çº³æ°´ï¼è¡¨ç¤ºä¸ºèè²é¨åï¼çæå¤§å¼ä¸º 49ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æ±å¾æ¯æ°´éï¼æ°´é = ä¸¤ä¸ªæéæåçæ°å­ä¸­è¾å°å¼ * æéä¹é´çè·ç¦»ï¼æ°´æ¡¶åçï¼æç­çæ¿æä¸ä¼æ¼æ°´ï¼\n * ä¸ºäºæ±æå¤§æ°´éï¼æä»¬éè¦å­å¨æææ¡ä»¶çæ°´éï¼è¿è¡æ¯è¾æè¡\n * åæéç¸åç§»å¨ï¼å¾ªç¯æ¶çªï¼ç´å°ä¸¤ä¸ªæéç¸é\n * å¾åªä¸ªæ¹åç§»å¨ï¼éè¦èèæ¸æ¥ï¼å¦ææä»¬ç§»å¨æ°å­è¾å¤§çé£ä¸ªæéï¼é£ä¹åèãä¸¤ä¸ªæéæåçæ°å­ä¸­è¾å°å¼ãä¸ä¼å¢å ï¼åèãæéä¹é´çè·ç¦»ãä¼åå°ï¼é£ä¹è¿ä¸ªä¹ç§¯ä¼æ´å°ï¼æä»¥æä»¬ç§»å¨æ°å­è¾å°çé£ä¸ªæé\n\npublic int maxArea(int[] height){\n  int left = 0;\n  int right = height.length - 1;\n  //éè¦ä¿å­åä¸ªé¶æ®µçå¼\n  int result = 0;\n  while(left < right){\n    //æ°´é = ä¸¤ä¸ªæéæåçæ°å­ä¸­è¾å°å¼âæéä¹é´çè·ç¦»\n    int area = Math.min(height[left],height[right]) * (right - left);\n    result = Math.max(result,area);\n    //ç§»å¨æ°å­è¾å°çæé\n    if(height[left] <= height[right]){\n      left ++;\n    }else{\n      right--;\n    }\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# éªè¯åæä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸²ï¼éªè¯å®æ¯å¦æ¯åæä¸²ï¼åªèèå­æ¯åæ°å­å­ç¬¦ï¼å¯ä»¥å¿½ç¥å­æ¯çå¤§å°åã\n> \n> è¯´æï¼æ¬é¢ä¸­ï¼æä»¬å°ç©ºå­ç¬¦ä¸²å®ä¹ä¸ºææçåæä¸²ã\n> \n> è¾å¥: "A man, a plan, a canal: Panama"\n> è¾åº: true\n> è§£éï¼"amanaplanacanalpanama" æ¯åæä¸²\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æ²¡çé¢è§£åï¼å ä¸ºè¿ä¸ªä¾å­ä¸­æåç§éå·ãç©ºæ ¼å¥çï¼æç¬¬ä¸æ³å°çå¶å®å°±æ¯åéåæ¾å¨ä¸ä¸ªæ°ç»éï¼ç¶ååå»å¤æ­ï¼çé¢è§£å¯ä»¥å¨åå­ç¬¦ä¸²å®æï¼éä½äºç©ºé´å¤æåº¦\n * é¦åéè¦ç¥éä¸ä¸ª API\n   * Character.isLetterOrDigit ç¡®å®æå®çå­ç¬¦æ¯å¦ä¸ºå­æ¯ææ°å­\n   * Character.toLowerCase å°å¤§åå­ç¬¦è½¬æ¢ä¸ºå°å\n   * public char charAt(int index) String ä¸­çæ¹æ³ï¼ç¨äºè¿åæå®ç´¢å¼å¤çå­ç¬¦\n * åæéï¼æ¯ç§»å¨ä¸æ­¥ï¼å¤æ­è¿ä¸¤ä¸ªå¼æ¯ä¸æ¯ç¸å\n * ä¸¤ä¸ªæéç¸éï¼åæ¯åæä¸²\n\npublic boolean isPalindrome(String s) {\n  int left = 0;\n  int right = s.length() - 1;\n  while (left < right) {\n    //è¿éè¿å¾å ä¸ªleft<rightï¼å°å¿whileæ­»å¾ªç¯,è¿ä¸¤æ­¥å°±æ¯ç¨æ¥è¿æ»¤éå­ç¬¦ï¼éå·å¥ç\n    while (left < right && !Character.isLetterOrDigit(s.charAt(left))) {\n      left++;\n    }\n    while (left < right && !Character.isLetterOrDigit(s.charAt(right))) {\n      right--;\n    }\n\n    if (left < right) {\n      if (Character.toLowerCase(s.charAt(left)) != Character.toLowerCase(s.charAt(right))) {\n        return false;\n      }\n      //åæ¶ç¸åç§»å¨æé\n      left++;\n      right--;\n    }\n  }\n  return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# åè½¬å­ç¬¦ä¸²\n\n> ç¼åä¸ä¸ªå½æ°ï¼å¶ä½ç¨æ¯å°è¾å¥çå­ç¬¦ä¸²åè½¬è¿æ¥ãè¾å¥å­ç¬¦ä¸²ä»¥å­ç¬¦æ°ç» char[] çå½¢å¼ç»åºã\n> \n> ä¸è¦ç»å¦å¤çæ°ç»åéé¢å¤çç©ºé´ï¼ä½ å¿é¡»åå°ä¿®æ¹è¾å¥æ°ç»ãä½¿ç¨ O(1) çé¢å¤ç©ºé´è§£å³è¿ä¸é®é¢ã\n> \n> ä½ å¯ä»¥åè®¾æ°ç»ä¸­çææå­ç¬¦é½æ¯ ASCII ç è¡¨ä¸­çå¯æå°å­ç¬¦ã\n> \n> è¾å¥ï¼["h","e","l","l","o"]\n> è¾åºï¼["o","l","l","e","h"]\n> è¾å¥ï¼["H","a","n","n","a","h"]\n> è¾åºï¼["h","a","n","n","a","H"]\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼\n\n * å ä¸ºè¦åè½¬ï¼æä»¥å°±ä¸éè¦ç¸åç§»å¨äºï¼å¦æç¨åæéæè·¯çè¯ï¼å¶å®å°±æ¯éåä¸­äº¤æ¢å·¦å³æéçå­ç¬¦\n\npublic void reverseString(char[] s) {\n  int left = 0;\n  int right = s.length - 1;\n  while (left < right){\n    char tmp = s[left];\n    s[left] = s[right];\n    s[right] = tmp;\n    left++;\n    right--;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# äºåæ¥æ¾\n\næéå¤æ°å­çè¯ï¼è¿åçå¶å®å°±æ¯æå³å¹é\n\npublic static int search(int[] nums, int target) {\n  int left = 0;\n  int right = nums.length - 1;\n  while (left <= right) {\n    //ä¸ç´æ¥ä½¿ç¨ï¼right+leftï¼/2 æ¯èèæ°æ®å¤§çæ¶åæº¢åº\n    int mid = (right - left) / 2 + left;\n    int tmp = nums[mid];\n    if (tmp == target) {\n      return mid;\n    } else if (tmp > target) {\n      //å³æéç§»å°ä¸­é´ä½ç½® - 1,ä¹é¿åä¸å­å¨çtargeté ææ­»å¾ªç¯\n      right = mid - 1;\n    } else {\n      //\n      left = mid + 1;\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# äºãå¿«æ¢æé\n\nãå¿«æ¢æéãï¼ä¹ç§°ä¸ºãåæ­¥æéã\n\n> 141. ç¯å½¢é¾è¡¨(opens new window)\n> \n> 142. ç¯å½¢é¾è¡¨II(opens new window)\n> \n> 19. å é¤é¾è¡¨çåæ°ç¬¬ N ä¸ªç»ç¹(opens new window)\n> \n> 876. é¾è¡¨çä¸­é´ç»ç¹(opens new window)\n> \n> 26. å é¤æåºæ°ç»ä¸­çéå¤é¡¹(opens new window)\n\n\n# ç¯å½¢é¾è¡¨\n\næè·¯ï¼\n\n * å¿«æ¢æéï¼ä¸¤ä¸ªæéï¼ä¸åä¸æ¢çè¯ï¼æ¢æéæ¯æ¬¡åªç§»å¨ä¸æ­¥ï¼èå¿«æéæ¯æ¬¡ç§»å¨ä¸¤æ­¥ãåå§æ¶ï¼æ¢æéå¨ä½ç½® headï¼èå¿«æéå¨ä½ç½® head.nextãè¿æ ·ä¸æ¥ï¼å¦æå¨ç§»å¨çè¿ç¨ä¸­ï¼å¿«æéåè¿æ¥è¿½ä¸æ¢æéï¼å°±è¯´æè¯¥é¾è¡¨ä¸ºç¯å½¢é¾è¡¨ãå¦åå¿«æéå°å°è¾¾é¾è¡¨å°¾é¨ï¼è¯¥é¾è¡¨ä¸ä¸ºç¯å½¢é¾è¡¨ã\n\npublic boolean hasCycle(ListNode head) {\n  if (head == null || head.next == null) {\n    return false;\n  }\n  // é¾åèµ·è·\n  ListNode fast = head;\n  ListNode slow = head;\n\n  while (fast != null && fast.next != null) {\n    // é¾èµ°ä¸æ­¥\n    slow = slow.next;\n    // åèµ°ä¸¤æ­¥\n    fast = fast.next.next;\n    if (slow == fast) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# ç¯å½¢é¾è¡¨ II\n\n> ç»å®ä¸ä¸ªé¾è¡¨ï¼è¿åé¾è¡¨å¼å§å¥ç¯çç¬¬ä¸ä¸ªèç¹ã å¦æé¾è¡¨æ ç¯ï¼åè¿å nullã\n> \n> è¾å¥ï¼head = [3,2,0,-4], pos = 1\n> è¾åºï¼è¿åç´¢å¼ä¸º 1 çé¾è¡¨èç¹\n> è§£éï¼é¾è¡¨ä¸­æä¸ä¸ªç¯ï¼å¶å°¾é¨è¿æ¥å°ç¬¬äºä¸ªèç¹ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æåï¼æå°±ææç¯çè§£éäºï¼çé¢è§£è§å¾å¿«æ¢æéç¸äº¤çå°æ¹å°±æ¯å¥ç¯çèç¹\n * åè®¾ç¯æ¯è¿æ ·çï¼slow æéè¿å¥ç¯åï¼åèµ°äº b çè·ç¦»ä¸ fast ç¸é\n * \n\n\n# é¾è¡¨çä¸­é´ç»ç¹\n\n> ç»å®ä¸ä¸ªå¤´ç»ç¹ä¸º head çéç©ºåé¾è¡¨ï¼è¿åé¾è¡¨çä¸­é´ç»ç¹ã\n> \n> å¦ææä¸¤ä¸ªä¸­é´ç»ç¹ï¼åè¿åç¬¬äºä¸ªä¸­é´ç»ç¹ã(ç»å®é¾è¡¨çç»ç¹æ°ä»äº 1 å 100 ä¹é´ã)\n> \n> è¾å¥ï¼[1,2,3,4,5]\n> è¾åºï¼æ­¤åè¡¨ä¸­çç»ç¹ 3 (åºååå½¢å¼ï¼[3,4,5])\n> è¿åçç»ç¹å¼ä¸º 3 ã (æµè¯ç³»ç»å¯¹è¯¥ç»ç¹åºååè¡¨è¿°æ¯ [3,4,5])ã\n> æ³¨æï¼æä»¬è¿åäºä¸ä¸ª ListNode ç±»åçå¯¹è±¡ ansï¼è¿æ ·ï¼\n> ans.val = 3, ans.next.val = 4, ans.next.next.val = 5, ä»¥å ans.next.next.next = NULL.\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n\næè·¯ï¼\n\n * å¿«æ¢æééåï¼å½ fast å°è¾¾é¾è¡¨çæ«å°¾æ¶ï¼slow å¿ç¶ä½äºä¸­é´\n\npublic ListNode middleNode(ListNode head) {\n  ListNode fast = head;\n  ListNode slow = head;\n  while (fast != null && fast.next != null) {\n    slow = slow.next;\n    fast = fast.next.next;\n  }\n  return slow;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# å é¤é¾è¡¨çåæ°ç¬¬ N ä¸ªç»ç¹\n\n> ç»ä½ ä¸ä¸ªé¾è¡¨ï¼å é¤é¾è¡¨çåæ°ç¬¬ n ä¸ªç»ç¹ï¼å¹¶ä¸è¿åé¾è¡¨çå¤´ç»ç¹ã\n> \n> è¾å¥ï¼head = [1,2,3,4,5], n = 2\n> è¾åºï¼[1,2,3,5]\n> \n> \n> 1\n> 2\n\n\n# å é¤æåºæ°ç»ä¸­çéå¤é¡¹\n\n> ç»ä½ ä¸ä¸ªæåºæ°ç» nums ï¼è¯·ä½  åå° å é¤éå¤åºç°çåç´ ï¼ä½¿æ¯ä¸ªåç´  åªåºç°ä¸æ¬¡ ï¼è¿åå é¤åæ°ç»çæ°é¿åº¦ã\n> \n> ä¸è¦ä½¿ç¨é¢å¤çæ°ç»ç©ºé´ï¼ä½ å¿é¡»å¨ åå° ä¿®æ¹è¾å¥æ°ç» å¹¶å¨ä½¿ç¨ é¢å¤ç©ºé´çæ¡ä»¶ä¸å®æã\n> \n> è¯´æ:\n> \n> ä¸ºä»ä¹è¿åæ°å¼æ¯æ´æ°ï¼ä½è¾åºçç­æ¡æ¯æ°ç»å¢?\n> \n> è¯·æ³¨æï¼è¾å¥æ°ç»æ¯ä»¥**ãå¼ç¨ã**æ¹å¼ä¼ éçï¼è¿æå³çå¨å½æ°éä¿®æ¹è¾å¥æ°ç»å¯¹äºè°ç¨èæ¯å¯è§çã\n> \n> ä½ å¯ä»¥æ³è±¡åé¨æä½å¦ä¸:\n> \n> // nums æ¯ä»¥âå¼ç¨âæ¹å¼ä¼ éçãä¹å°±æ¯è¯´ï¼ä¸å¯¹å®ååä»»ä½æ·è´\n> int len = removeDuplicates(nums);\n> // å¨å½æ°éä¿®æ¹è¾å¥æ°ç»å¯¹äºè°ç¨èæ¯å¯è§çã\n> // æ ¹æ®ä½ çå½æ°è¿åçé¿åº¦, å®ä¼æå°åºæ°ç»ä¸­ è¯¥é¿åº¦èå´å çææåç´ ã\n> for (int i = 0; i < len; i++) {\n>  \tprint(nums[i]);\n> }\n> è¾å¥ï¼nums = [1,1,2]\n> è¾åºï¼2, nums = [1,2]\n> è§£éï¼å½æ°åºè¯¥è¿åæ°çé¿åº¦ 2 ï¼å¹¶ä¸åæ°ç» nums çåä¸¤ä¸ªåç´ è¢«ä¿®æ¹ä¸º 1, 2 ãä¸éè¦èèæ°ç»ä¸­è¶åºæ°é¿åº¦åé¢çåç´ ã\n> è¾å¥ï¼nums = [0,0,1,1,1,2,2,3,3,4]\n> è¾åºï¼5, nums = [0,1,2,3,4]\n> è§£éï¼å½æ°åºè¯¥è¿åæ°çé¿åº¦ 5 ï¼ å¹¶ä¸åæ°ç» nums çåäºä¸ªåç´ è¢«ä¿®æ¹ä¸º 0, 1, 2, 3, 4 ãä¸éè¦èèæ°ç»ä¸­è¶åºæ°é¿åº¦åé¢çåç´ ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n\næè·¯ï¼\n\n * æ°ç»æåºï¼é£ç¸ç­çåç´ å¨æ°ç»ä¸­çä¸æ ä¸å®æ¯è¿ç»­ç\n * ä½¿ç¨å¿«æ¢æéï¼å¿«æéè¡¨ç¤ºéåæ°ç»å°è¾¾çä¸æ ä½ç½®ï¼æ¢æéè¡¨ç¤ºä¸ä¸ä¸ªä¸ååç´ è¦å¡«å¥çä¸æ ä½ç½®\n * ç¬¬ä¸ä¸ªåç´ ä¸éè¦å é¤ï¼ææå¿«æ¢æéé½ä»ä¸æ  1 å¼å§\n\npublic static int removeDuplicates(int[] nums) {\n  if (nums == null) {\n    return 0;\n  }\n  int fast = 1;\n  int slow = 1;\n  while (fast < nums.length) {\n    //ååä¸ä¸ªå¼æ¯è¾\n    if (nums[fast] != nums[fast - 1]) {\n      //ä¸ä¸æ ·çè¯ï¼æå¿«æéçå¼æ¾å¨æ¢æéä¸ï¼å®ç°äºå»éï¼å¹¶å¾åç§»å¨æ¢æé\n      nums[slow] = nums[fast];\n      ++slow;\n    }\n    //ç¸ç­çè¯ï¼ç§»å¨å¿«æéå°±è¡\n    ++fast;\n  }\n  //æ¢æéçä½ç½®å°±æ¯ä¸éå¤çæ°é\n  return slow;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# æé¿è¿ç»­éå¢åºå\n\n> ç»å®ä¸ä¸ªæªç»æåºçæ´æ°æ°ç»ï¼æ¾å°æé¿ä¸ è¿ç»­éå¢çå­åºåï¼å¹¶è¿åè¯¥åºåçé¿åº¦ã\n> \n> è¿ç»­éå¢çå­åºå å¯ä»¥ç±ä¸¤ä¸ªä¸æ  l å rï¼l < rï¼ç¡®å®ï¼å¦æå¯¹äºæ¯ä¸ª l <= i < rï¼é½æ nums[i] < nums[i + 1] ï¼é£ä¹å­åºå [nums[l], nums[l + 1], ..., nums[r - 1], nums[r]] å°±æ¯è¿ç»­éå¢å­åºåã\n> \n> è¾å¥ï¼nums = [1,3,5,4,7]\n> è¾åºï¼3\n> è§£éï¼æé¿è¿ç»­éå¢åºåæ¯ [1,3,5], é¿åº¦ä¸º3ãå°½ç®¡ [1,3,5,7] ä¹æ¯ååºçå­åºå, ä½å®ä¸æ¯è¿ç»­çï¼å ä¸º 5 å 7 å¨åæ°ç»éè¢« 4 éå¼ã \n> \n> \n> 1\n> 2\n> 3\n\næè·¯åæï¼\n\n * è¿ä¸ªé¢çæè·¯åå é¤æåºæ°ç»ä¸­çéå¤é¡¹ï¼å¾å\n\npublic int findLengthOfLCIS(int[] nums) {\n  int result = 0;\n  int fast = 0;\n  int slow = 0;\n  while (fast < nums.length) {\n    //åä¸ä¸ªæ°å¤§äºåä¸ä¸ªæ°çæ¶å\n    if (fast > 0 || nums[fast - 1] > nums[fast]) {\n      slow = fast;\n    }\n    fast++;\n    result = Math.max(result, fast - slow);\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# ä¸ãæ»å¨çªå£\n\næä¸ç±»æ°ç»ä¸çé®é¢ï¼éè¦ä½¿ç¨ä¸¤ä¸ªæéåéï¼æä»¬ç§°ä¸ºå·¦æéåå³æéï¼ï¼ååãäº¤æ¿åå³ç§»å¨å®æä»»å¡ãè¿æ ·çè¿ç¨åæäºä¸ä¸ªçªå£å¨å¹³é¢ä¸æ»å¨çè¿ç¨ï¼å æ­¤æä»¬å°è§£å³è¿ä¸ç±»é®é¢çç®æ³ç§°ä¸ºãæ»å¨çªå£ãé®é¢\n\n\n\næ»å¨çªå£ï¼å°±æ¯ä¸¤ä¸ªæéé½å¤´å¹¶è¿ï¼å¥½åä¸ä¸ªçªå£ä¸æ ·ï¼ä¸æ­å¾åæ»\n\nå­ä¸²é®é¢ï¼å ä¹é½æ¯æ»å¨çªå£\n\n> 643. å­æ°ç»æå¤§å¹³åæ° I(opens new window)\n> \n> 1052. ç±çæ°çä¹¦åºèæ¿(opens new window)\n> \n> 3. æ éå¤å­ç¬¦çæé¿å­ä¸²(opens new window)\n> \n> 76. æå°è¦çå­ä¸²(opens new window)\n> \n> 424. æ¿æ¢åçæé¿éå¤å­ç¬¦(opens new window)\n\nint left = 0, right = 0;\n\nwhile (right < s.size()) {\n    // å¢å¤§çªå£\n    window.add(s[right]);\n    right++;\n    \n    while (window needs shrink) {\n        // ç¼©å°çªå£\n        window.remove(s[left]);\n        left++;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 3.1 ååäº¤æ¿ç§»å¨çä¸¤ä¸ªåé\n\næä¸ç±»æ°ç»ä¸çé®é¢ï¼é®æä»¬åºå®é¿åº¦çæ»å¨çªå£çæ§è´¨ï¼è¿ç±»é®é¢è¿ç®ç¸å¯¹ç®åã\n\n# å­æ°ç»æå¤§å¹³åæ° I\n\n> ç»å® n ä¸ªæ´æ°ï¼æ¾åºå¹³åæ°æå¤§ä¸é¿åº¦ä¸º k çè¿ç»­å­æ°ç»ï¼å¹¶è¾åºè¯¥æå¤§å¹³åæ°ã\n> \n> è¾å¥ï¼[1,12,-5,-6,50,3], k = 4\n> è¾åºï¼12.75\n> è§£éï¼æå¤§å¹³åæ° (12-5-6+50)/4 = 51/4 = 12.75\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * é¿åº¦ä¸ºåºå®ç Kï¼æ³å°ç¨æ»å¨çªå£\n * ä¿å­æ¯ä¸ªçªå£çå¼ï¼åè¿ k ä¸ªæ°çæå¤§åå°±å¯ä»¥å¾åºæå¤§å¹³åæ°\n * æä¹ä¿å­æ¯ä¸ªçªå£çå¼ï¼è¿ä¸æ­¥\n\npublic static double getMaxAverage(int[] nums, int k) {\n  int sum = 0;\n  //åæ±åºåkä¸ªæ°çå\n  for (int i = 0; i < nums.length; i++) {\n    sum += nums[i];\n  }\n  //ç®åæå¤§çæ°æ¯åkä¸ªæ°\n  int result = sum;\n  //ç¶åä»ç¬¬ K ä¸ªæ°å¼å§ç§»å¨ï¼ä¿å­ç§»å¨ä¸­çåå¼ï¼è¿åæå¤§ç\n  for (int i = k; i < nums.length; i++) {\n    sum = sum - nums[i - k] + nums[i];\n    result = Math.max(result, sum);\n  }\n  //è¿åçæ¯double\n  return 1.0 * result / k;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 3.2 ä¸å®é¿åº¦çæ»å¨çªå£\n\n# æ éå¤å­ç¬¦çæé¿å­ä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸² s ï¼è¯·ä½ æ¾åºå¶ä¸­ä¸å«æéå¤å­ç¬¦ç æé¿å­ä¸² çé¿åº¦ã\n> \n> è¾å¥: s = "abcabcbb"\n> è¾åº: 3 \n> è§£é: å ä¸ºæ éå¤å­ç¬¦çæé¿å­ä¸²æ¯ "abc"ï¼æä»¥å¶é¿åº¦ä¸º 3ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æ»å¨çªå£ï¼å¶å®å°±æ¯ä¸ä¸ªéåï¼æ¯å¦ä¾é¢ä¸­ç abcabcbbï¼è¿å¥è¿ä¸ªéåï¼çªå£ï¼ä¸º abc æ»¡è¶³é¢ç®è¦æ±ï¼å½åè¿å¥ aï¼éååæäº abcaï¼è¿æ¶åä¸æ»¡è¶³è¦æ±ãæä»¥ï¼æä»¬è¦ç§»å¨è¿ä¸ªéå\n * å¦ä½ç§»å¨ï¼æä»¬åªè¦æéåçå·¦è¾¹çåç´ ç§»åºå°±è¡äºï¼ç´å°æ»¡è¶³é¢ç®è¦æ±ï¼\n * ä¸ç´ç»´æè¿æ ·çéåï¼æ¾åºéååºç°æé¿çé¿åº¦æ¶åï¼æ±åºè§£ï¼\n\npublic static int lengthOfLongestSubstring(String s){\n  HashMap<Character, Integer> map = new HashMap<>();\n  int result = 0;\n  int left = 0;\n  //ä¸ºäºæå·¦å³æéçææ³ï¼æææä»¬å¸¸ç¨ç i åæäº right\n  for (int right = 0; right < s.length(); right++) {\n    //å½åå­ç¬¦åå«å¨å½åææçå­æ®µä¸­ï¼å¦ï¼abcaï¼å½æä»¬éåå°ç¬¬äºä¸ªaï¼å½åæææé¿å­æ®µæ¯ abcï¼æä»¬åéåå°aï¼\n    //é£ä¹æ­¤æ¶æ´æ° left ä¸º map.get(a)+1=1ï¼å½åææå­æ®µæ´æ°ä¸º bcaï¼\n    //ç¸å½äºå·¦æéå¾åç§»å¨äºä¸ä½\n    if (map.containsKey(s.charAt(right))) {\n      left = Math.max(left, map.get(s.charAt(right)) + 1);\n    }\n    //å³æéä¸ç´å¾åç§»å¨\n    map.put(s.charAt(right), right);\n    result = Math.max(result, right - left + 1);\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æå°è¦çå­ä¸²\n\n> ç»ä½ ä¸ä¸ªå­ç¬¦ä¸² s ãä¸ä¸ªå­ç¬¦ä¸² t ãè¿å s ä¸­æ¶µç t ææå­ç¬¦çæå°å­ä¸²ãå¦æ s ä¸­ä¸å­å¨æ¶µç t ææå­ç¬¦çå­ä¸²ï¼åè¿åç©ºå­ç¬¦ä¸² "" ã\n> \n> è¾å¥ï¼s = "ADOBECODEBANC", t = "ABC"\n> è¾åºï¼"BANC"\n> \n> \n> 1\n> 2\n\n# æ¿æ¢åçæé¿éå¤å­ç¬¦\n\n> ç»ä½ ä¸ä¸ªä»ç±å¤§åè±æå­æ¯ç»æçå­ç¬¦ä¸²ï¼ä½ å¯ä»¥å°ä»»æä½ç½®ä¸çå­ç¬¦æ¿æ¢æå¦å¤çå­ç¬¦ï¼æ»å±å¯æå¤æ¿æ¢ k æ¬¡ãå¨æ§è¡ä¸è¿°æä½åï¼æ¾å°åå«éå¤å­æ¯çæé¿å­ä¸²çé¿åº¦ã\n> \n> æ³¨æï¼å­ç¬¦ä¸²é¿åº¦ å k ä¸ä¼è¶è¿ 10^4\n> \n> è¾å¥ï¼s = "ABAB", k = 2\n> è¾åºï¼4\n> è§£éï¼ç¨ä¸¤ä¸ª\'A\'æ¿æ¢ä¸ºä¸¤ä¸ª\'B\',åä¹äº¦ç¶ã\n> è¾å¥ï¼s = "AABABBA", k = 1\n> è¾åºï¼4\n> è§£éï¼å°ä¸­é´çä¸ä¸ª\'A\'æ¿æ¢ä¸º\'B\',å­ç¬¦ä¸²åä¸º "AABBBBA"ãå­ä¸² "BBBB" ææé¿éå¤å­æ¯, ç­æ¡ä¸º 4ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n\næè·¯ï¼\n\n * \n\npublic int characterReplacement(String s, int k) {\n  int len = s.length();\n  if (len < 2) {\n    return len;\n  }\n\n  char[] charArray = s.toCharArray();\n  int left = 0;\n  int right = 0;\n\n  int res = 0;\n  int maxCount = 0;\n  int[] freq = new int[26];\n  // [left, right) åæå¤æ¿æ¢ k ä¸ªå­ç¬¦å¯ä»¥å¾å°åªæä¸ç§å­ç¬¦çå­ä¸²\n  while (right < len){\n    freq[charArray[right] - \'A\']++;\n    // å¨è¿éç»´æ¤ maxCountï¼å ä¸ºæ¯ä¸æ¬¡å³è¾¹çè¯»å¥ä¸ä¸ªå­ç¬¦ï¼å­ç¬¦é¢æ°å¢å ï¼æä¼ä½¿å¾ maxCount å¢å \n    maxCount = Math.max(maxCount, freq[charArray[right] - \'A\']);\n    right++;\n\n    if (right - left > maxCount + k){\n      // è¯´ææ­¤æ¶ k ä¸å¤ç¨\n      // æå¶å®ä¸æ¯æå¤åºç°çå­ç¬¦æ¿æ¢ä»¥åï¼é½ä¸è½å¡«æ»¡è¿ä¸ªæ»å¨ççªå£ï¼è¿ä¸ªæ¶åé¡»è¦èèå·¦è¾¹çåå³ç§»å¨\n      // ç§»åºæ»å¨çªå£çæ¶åï¼é¢æ°æ°ç»é¡»è¦ç¸åºå°ååæ³\n      freq[charArray[left] - \'A\']--;\n      left++;\n    }\n    res = Math.max(res, right - left);\n  }\n  return res;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 3.3 è®¡æ°é®é¢\n\n# è³å¤åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸² sï¼æ¾åº è³å¤ åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸² t ï¼å¹¶è¿åè¯¥å­ä¸²çé¿åº¦ã\n> \n> è¾å¥: "eceba"\n> è¾åº: 3\n> è§£é: t æ¯ "ece"ï¼é¿åº¦ä¸º3ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * è¿ç§å­ç¬¦ä¸²ç¨æ»å¨çªå£çé¢ç®ï¼ä¸è¬ç¨ toCharArray() åè½¬æå­ç¬¦æ°ç»\n\n# è³å¤åå« K ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸² sï¼æ¾åº è³å¤ åå« k ä¸ªä¸åå­ç¬¦çæé¿å­ä¸² Tã\n> \n> è¾å¥: s = "eceba", k = 2\n> è¾åº: 3\n> è§£é: å T ä¸º "ece"ï¼æä»¥é¿åº¦ä¸º 3ã\n> \n> \n> 1\n> 2\n> 3\n\n# åºé´å­æ°ç»ä¸ªæ°\n\n> ç»å®ä¸ä¸ªåç´ é½æ¯æ­£æ´æ°çæ°ç»A ï¼æ­£æ´æ° L ä»¥å R (L <= R)ã\n> \n> æ±è¿ç»­ãéç©ºä¸å¶ä¸­æå¤§åç´ æ»¡è¶³å¤§äºç­äºL å°äºç­äºRçå­æ°ç»ä¸ªæ°ã\n> \n> ä¾å¦ :\n> è¾å¥: \n> A = [2, 1, 4, 3]\n> L = 2\n> R = 3\n> è¾åº: 3\n> è§£é: æ»¡è¶³æ¡ä»¶çå­æ°ç»: [2], [2, 1], [3].\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n\n# K ä¸ªä¸åæ´æ°çå­æ°ç»\n\n> \n\n\n# 3.4 ä½¿ç¨æ°æ®ç»æç»´æ¤çªå£æ§è´¨\n\næä¸ç±»é®é¢åªæ¯åå­ä¸å«ãæ»å¨çªå£ãï¼ä½è§£å³è¿ä¸ç±»é®é¢éè¦ç¨å°å¸¸è§çæ°æ®ç»æãè¿ä¸èç»åºçé®é¢å¯ä»¥å½åä¾é¢è¿è¡å­¦ä¹ ï¼ä¸äºæ¯è¾å¤æçé®é¢æ¯åºäºè¿äºé®é¢è¡çåºæ¥çã\n\n# æ»å¨çªå£æå¤§å¼\n\n# æ»å¨çªå£ä¸­ä½æ°\n\n\n# æ»ç»\n\nåºé´ä¸åçå®ä¹å³å®äºä¸åçåå§åé»è¾ãéåè¿ç¨ä¸­çé»è¾ã\n\n * ç§»é¤åç´ \n * å é¤æåºæ°ç»ä¸­çéå¤é¡¹ II\n * ç§»å¨é¶',normalizedContent:'å½çº³ä¸åæéç®æ³ï¼å¶å®æ»å±å°±ä¸ç±»\n\n * å·¦å³æéï¼æ°ç»åå­ç¬¦ä¸²é®é¢\n * å¿«æ¢æéï¼ä¸»è¦æ¯æç¯é®é¢\n * æ»å¨çªå£ï¼éå¯¹å­ä¸²é®é¢\n\n# #42. æ¥é¨æ°´(opens new window)\n\n\n# ä¸ãå·¦å³æé\n\nå·¦å³æéå¨æ°ç»ä¸­å¶å®å°±æ¯ä¸¤ä¸ªç´¢å¼å¼ï¼\n\ntodo: ä¸è¬é½æ¯æåºæ°ç»ï¼æèåæåºåï¼\n\njavaer ä¸è¬è¿ä¹è¡¨ç¤ºï¼\n\nint left = i + 1;\nint right = nums.length - 1;\nwhile(left < right)\n  ***\n\n\n1\n2\n3\n4\n\n\nè¿ä¸¤ä¸ªæé ç¸åäº¤æ¿ç§»å¨\n\n\n\n> 11. çæå¤æ°´çå®¹å¨(opens new window)\n> \n> 15. ä¸æ°ä¹å(opens new window)\n> \n> 167. ä¸¤æ°ä¹å ii - è¾å¥æåºæ°ç»(opens new window)\n> \n> 125. éªè¯åæä¸²(opens new window)\n> \n> 344. åè½¬å­ç¬¦ä¸²(opens new window)\n> \n> 283. ç§»å¨é¶(opens new window)\n> \n> 704. äºåæ¥æ¾(opens new window)\n> \n> 34. å¨æåºæ°ç»ä¸­æ¥æ¾åç´ çç¬¬ä¸ä¸ªåæåä¸ä¸ªä½ç½®(opens new window)\n\ntodo: ç»å¾å¯¹æ¯åä¸ªç®æ³\n\n\n# ä¸¤æ°ä¹å ii - è¾å¥æåºæ°ç»\n\n> ç»å®ä¸ä¸ªæ´æ°æ°ç» nums åä¸ä¸ªæ´æ°ç®æ å¼ targetï¼è¯·ä½ å¨è¯¥æ°ç»ä¸­æ¾åº åä¸ºç®æ å¼ target çé£ ä¸¤ä¸ª æ´æ°ï¼å¹¶è¿åå®ä»¬çæ°ç»ä¸æ ã\n> \n> ä½ å¯ä»¥åè®¾æ¯ç§è¾å¥åªä¼å¯¹åºä¸ä¸ªç­æ¡ãä½æ¯ï¼æ°ç»ä¸­åä¸ä¸ªåç´ å¨ç­æ¡éä¸è½éå¤åºç°ã\n> \n> ä½ å¯ä»¥æä»»æé¡ºåºè¿åç­æ¡ã\n> \n> è¾å¥ï¼nums = [2,7,11,15], target = 9\n> è¾åºï¼[0,1]\n> è§£éï¼å ä¸º nums[0] + nums[1] == 9 ï¼è¿å [0, 1] ã\n> \n> \n> 1\n> 2\n> 3\n\nç´æ¥ç¨å·¦å³æéå¥å°±å¯ä»¥\n\npublic static int[] towsum(int[] nums, int target) {\n    int left = 0;\n    int rigth = nums.length - 1;\n    while(left < rigth){\n        int tmp = nums[left] + nums[rigth];\n        if (target == tmp) {\n            return new int[]{left, rigth};\n        } else if (tmp > target) {\n            rigth--; //å³ç§»\n        } else {\n            left++;  //å·¦ç§»\n        }\n    }\n    return new int[]{-1, -1};\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# ä¸æ°ä¹å\n\næåºãåæéãå»é\n\nç¬¬ä¸ä¸ªæ³æ³æ¯ï¼è¿ä¸ä¸ªæ°ï¼ä¸¤ä¸ªæéï¼\n\n * å¯¹æ°ç»æåºï¼åºå®ä¸ä¸ªæ° ï¼ç¶åéåæ°ç»ï¼å¹¶ç§»å¨å·¦å³æéæ±åï¼å¤æ­æ¯å¦æç­äº 0 çæåµ\n * ç¹ä¾ï¼\n   * æåºåç¬¬ä¸ä¸ªæ°å°±å¤§äº 0ï¼ä¸å¹²äº\n   * æä¸ä¸ªéè¦å»éçå°æ¹\n     * nums[i] == nums[i - 1] ç´æ¥è·³è¿æ¬æ¬¡éå\n     * nums[left] == nums[left + 1] ç§»å¨æéï¼å³å»é\n     * nums[right] == nums[right - 1] ç§»å¨æé\n\n\n\npublic static list<list<integer>> threesum(int[] nums) {\n  //å­æ¾ç»ælist\n  list<list<integer>> result = new arraylist<>();\n  int length = nums.length;\n  //ç¹ä¾å¤æ­\n  if (length < 3) {\n    return result;\n  }\n  arrays.sort(nums);\n  for (int i = 0; i < length; i++) {\n    //æåºåçç¬¬ä¸ä¸ªæ°å­å°±å¤§äº0ï¼å°±è¯´ææ²¡æç¬¦åè¦æ±çç»æ\n    if (nums[i] > 0) break;\n\n    //å»é\n    if (i > 0 && nums[i] == nums[i - 1]) continue;\n    //å·¦å³æé\n    int l = i + 1;\n    int r = length - 1;\n    while (l < r) {\n      int sum = nums[i] + nums[l] + nums[r];\n      if (sum == 0) {\n        result.add(arrays.aslist(nums[i], nums[l], nums[r]));\n        //å»éï¼ç¸åæ°å­çè¯å°±ç§»å¨æéï¼\n        while (nums[l] == nums[l + 1]) l++;\n        while (nums[r] == nums[r - 1]) r--;\n        //ç§»å¨æé\n        l++;\n        r--;\n      } else if (sum < 0) {\n        l++;\n      } else if (sum > 0) {\n        r--;\n      }\n    }\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# çæå¤æ°´çå®¹å¨\n\n> ç»ä½  n ä¸ªéè´æ´æ° a1ï¼a2ï¼...ï¼anï¼æ¯ä¸ªæ°ä»£è¡¨åæ ä¸­çä¸ä¸ªç¹ (i, ai) ãå¨åæ åç» n æ¡åç´çº¿ï¼åç´çº¿ i çä¸¤ä¸ªç«¯ç¹åå«ä¸º (i, ai) å (i, 0) ãæ¾åºå¶ä¸­çä¸¤æ¡çº¿ï¼ä½¿å¾å®ä»¬ä¸ x è½´å±åææçå®¹å¨å¯ä»¥å®¹çº³æå¤çæ°´ã\n> \n> è¾å¥ï¼[1,8,6,2,5,4,8,3,7]\n> è¾åºï¼49 \n> è§£éï¼å¾ä¸­åç´çº¿ä»£è¡¨è¾å¥æ°ç» [1,8,6,2,5,4,8,3,7]ãå¨æ­¤æåµä¸ï¼å®¹å¨è½å¤å®¹çº³æ°´ï¼è¡¨ç¤ºä¸ºèè²é¨åï¼çæå¤§å¼ä¸º 49ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æ±å¾æ¯æ°´éï¼æ°´é = ä¸¤ä¸ªæéæåçæ°å­ä¸­è¾å°å¼ * æéä¹é´çè·ç¦»ï¼æ°´æ¡¶åçï¼æç­çæ¿æä¸ä¼æ¼æ°´ï¼\n * ä¸ºäºæ±æå¤§æ°´éï¼æä»¬éè¦å­å¨æææ¡ä»¶çæ°´éï¼è¿è¡æ¯è¾æè¡\n * åæéç¸åç§»å¨ï¼å¾ªç¯æ¶çªï¼ç´å°ä¸¤ä¸ªæéç¸é\n * å¾åªä¸ªæ¹åç§»å¨ï¼éè¦èèæ¸æ¥ï¼å¦ææä»¬ç§»å¨æ°å­è¾å¤§çé£ä¸ªæéï¼é£ä¹åèãä¸¤ä¸ªæéæåçæ°å­ä¸­è¾å°å¼ãä¸ä¼å¢å ï¼åèãæéä¹é´çè·ç¦»ãä¼åå°ï¼é£ä¹è¿ä¸ªä¹ç§¯ä¼æ´å°ï¼æä»¥æä»¬ç§»å¨æ°å­è¾å°çé£ä¸ªæé\n\npublic int maxarea(int[] height){\n  int left = 0;\n  int right = height.length - 1;\n  //éè¦ä¿å­åä¸ªé¶æ®µçå¼\n  int result = 0;\n  while(left < right){\n    //æ°´é = ä¸¤ä¸ªæéæåçæ°å­ä¸­è¾å°å¼âæéä¹é´çè·ç¦»\n    int area = math.min(height[left],height[right]) * (right - left);\n    result = math.max(result,area);\n    //ç§»å¨æ°å­è¾å°çæé\n    if(height[left] <= height[right]){\n      left ++;\n    }else{\n      right--;\n    }\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# éªè¯åæä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸²ï¼éªè¯å®æ¯å¦æ¯åæä¸²ï¼åªèèå­æ¯åæ°å­å­ç¬¦ï¼å¯ä»¥å¿½ç¥å­æ¯çå¤§å°åã\n> \n> è¯´æï¼æ¬é¢ä¸­ï¼æä»¬å°ç©ºå­ç¬¦ä¸²å®ä¹ä¸ºææçåæä¸²ã\n> \n> è¾å¥: "a man, a plan, a canal: panama"\n> è¾åº: true\n> è§£éï¼"amanaplanacanalpanama" æ¯åæä¸²\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æ²¡çé¢è§£åï¼å ä¸ºè¿ä¸ªä¾å­ä¸­æåç§éå·ãç©ºæ ¼å¥çï¼æç¬¬ä¸æ³å°çå¶å®å°±æ¯åéåæ¾å¨ä¸ä¸ªæ°ç»éï¼ç¶ååå»å¤æ­ï¼çé¢è§£å¯ä»¥å¨åå­ç¬¦ä¸²å®æï¼éä½äºç©ºé´å¤æåº¦\n * é¦åéè¦ç¥éä¸ä¸ª api\n   * character.isletterordigit ç¡®å®æå®çå­ç¬¦æ¯å¦ä¸ºå­æ¯ææ°å­\n   * character.tolowercase å°å¤§åå­ç¬¦è½¬æ¢ä¸ºå°å\n   * public char charat(int index) string ä¸­çæ¹æ³ï¼ç¨äºè¿åæå®ç´¢å¼å¤çå­ç¬¦\n * åæéï¼æ¯ç§»å¨ä¸æ­¥ï¼å¤æ­è¿ä¸¤ä¸ªå¼æ¯ä¸æ¯ç¸å\n * ä¸¤ä¸ªæéç¸éï¼åæ¯åæä¸²\n\npublic boolean ispalindrome(string s) {\n  int left = 0;\n  int right = s.length() - 1;\n  while (left < right) {\n    //è¿éè¿å¾å ä¸ªleft<rightï¼å°å¿whileæ­»å¾ªç¯,è¿ä¸¤æ­¥å°±æ¯ç¨æ¥è¿æ»¤éå­ç¬¦ï¼éå·å¥ç\n    while (left < right && !character.isletterordigit(s.charat(left))) {\n      left++;\n    }\n    while (left < right && !character.isletterordigit(s.charat(right))) {\n      right--;\n    }\n\n    if (left < right) {\n      if (character.tolowercase(s.charat(left)) != character.tolowercase(s.charat(right))) {\n        return false;\n      }\n      //åæ¶ç¸åç§»å¨æé\n      left++;\n      right--;\n    }\n  }\n  return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# åè½¬å­ç¬¦ä¸²\n\n> ç¼åä¸ä¸ªå½æ°ï¼å¶ä½ç¨æ¯å°è¾å¥çå­ç¬¦ä¸²åè½¬è¿æ¥ãè¾å¥å­ç¬¦ä¸²ä»¥å­ç¬¦æ°ç» char[] çå½¢å¼ç»åºã\n> \n> ä¸è¦ç»å¦å¤çæ°ç»åéé¢å¤çç©ºé´ï¼ä½ å¿é¡»åå°ä¿®æ¹è¾å¥æ°ç»ãä½¿ç¨ o(1) çé¢å¤ç©ºé´è§£å³è¿ä¸é®é¢ã\n> \n> ä½ å¯ä»¥åè®¾æ°ç»ä¸­çææå­ç¬¦é½æ¯ ascii ç è¡¨ä¸­çå¯æå°å­ç¬¦ã\n> \n> è¾å¥ï¼["h","e","l","l","o"]\n> è¾åºï¼["o","l","l","e","h"]\n> è¾å¥ï¼["h","a","n","n","a","h"]\n> è¾åºï¼["h","a","n","n","a","h"]\n> \n> \n> 1\n> 2\n> 3\n> 4\n\næè·¯ï¼\n\n * å ä¸ºè¦åè½¬ï¼æä»¥å°±ä¸éè¦ç¸åç§»å¨äºï¼å¦æç¨åæéæè·¯çè¯ï¼å¶å®å°±æ¯éåä¸­äº¤æ¢å·¦å³æéçå­ç¬¦\n\npublic void reversestring(char[] s) {\n  int left = 0;\n  int right = s.length - 1;\n  while (left < right){\n    char tmp = s[left];\n    s[left] = s[right];\n    s[right] = tmp;\n    left++;\n    right--;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# äºåæ¥æ¾\n\næéå¤æ°å­çè¯ï¼è¿åçå¶å®å°±æ¯æå³å¹é\n\npublic static int search(int[] nums, int target) {\n  int left = 0;\n  int right = nums.length - 1;\n  while (left <= right) {\n    //ä¸ç´æ¥ä½¿ç¨ï¼right+leftï¼/2 æ¯èèæ°æ®å¤§çæ¶åæº¢åº\n    int mid = (right - left) / 2 + left;\n    int tmp = nums[mid];\n    if (tmp == target) {\n      return mid;\n    } else if (tmp > target) {\n      //å³æéç§»å°ä¸­é´ä½ç½® - 1,ä¹é¿åä¸å­å¨çtargeté ææ­»å¾ªç¯\n      right = mid - 1;\n    } else {\n      //\n      left = mid + 1;\n    }\n  }\n  return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# äºãå¿«æ¢æé\n\nãå¿«æ¢æéãï¼ä¹ç§°ä¸ºãåæ­¥æéã\n\n> 141. ç¯å½¢é¾è¡¨(opens new window)\n> \n> 142. ç¯å½¢é¾è¡¨ii(opens new window)\n> \n> 19. å é¤é¾è¡¨çåæ°ç¬¬ n ä¸ªç»ç¹(opens new window)\n> \n> 876. é¾è¡¨çä¸­é´ç»ç¹(opens new window)\n> \n> 26. å é¤æåºæ°ç»ä¸­çéå¤é¡¹(opens new window)\n\n\n# ç¯å½¢é¾è¡¨\n\næè·¯ï¼\n\n * å¿«æ¢æéï¼ä¸¤ä¸ªæéï¼ä¸åä¸æ¢çè¯ï¼æ¢æéæ¯æ¬¡åªç§»å¨ä¸æ­¥ï¼èå¿«æéæ¯æ¬¡ç§»å¨ä¸¤æ­¥ãåå§æ¶ï¼æ¢æéå¨ä½ç½® headï¼èå¿«æéå¨ä½ç½® head.nextãè¿æ ·ä¸æ¥ï¼å¦æå¨ç§»å¨çè¿ç¨ä¸­ï¼å¿«æéåè¿æ¥è¿½ä¸æ¢æéï¼å°±è¯´æè¯¥é¾è¡¨ä¸ºç¯å½¢é¾è¡¨ãå¦åå¿«æéå°å°è¾¾é¾è¡¨å°¾é¨ï¼è¯¥é¾è¡¨ä¸ä¸ºç¯å½¢é¾è¡¨ã\n\npublic boolean hascycle(listnode head) {\n  if (head == null || head.next == null) {\n    return false;\n  }\n  // é¾åèµ·è·\n  listnode fast = head;\n  listnode slow = head;\n\n  while (fast != null && fast.next != null) {\n    // é¾èµ°ä¸æ­¥\n    slow = slow.next;\n    // åèµ°ä¸¤æ­¥\n    fast = fast.next.next;\n    if (slow == fast) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# ç¯å½¢é¾è¡¨ ii\n\n> ç»å®ä¸ä¸ªé¾è¡¨ï¼è¿åé¾è¡¨å¼å§å¥ç¯çç¬¬ä¸ä¸ªèç¹ã å¦æé¾è¡¨æ ç¯ï¼åè¿å nullã\n> \n> è¾å¥ï¼head = [3,2,0,-4], pos = 1\n> è¾åºï¼è¿åç´¢å¼ä¸º 1 çé¾è¡¨èç¹\n> è§£éï¼é¾è¡¨ä¸­æä¸ä¸ªç¯ï¼å¶å°¾é¨è¿æ¥å°ç¬¬äºä¸ªèç¹ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æåï¼æå°±ææç¯çè§£éäºï¼çé¢è§£è§å¾å¿«æ¢æéç¸äº¤çå°æ¹å°±æ¯å¥ç¯çèç¹\n * åè®¾ç¯æ¯è¿æ ·çï¼slow æéè¿å¥ç¯åï¼åèµ°äº b çè·ç¦»ä¸ fast ç¸é\n * \n\n\n# é¾è¡¨çä¸­é´ç»ç¹\n\n> ç»å®ä¸ä¸ªå¤´ç»ç¹ä¸º head çéç©ºåé¾è¡¨ï¼è¿åé¾è¡¨çä¸­é´ç»ç¹ã\n> \n> å¦ææä¸¤ä¸ªä¸­é´ç»ç¹ï¼åè¿åç¬¬äºä¸ªä¸­é´ç»ç¹ã(ç»å®é¾è¡¨çç»ç¹æ°ä»äº 1 å 100 ä¹é´ã)\n> \n> è¾å¥ï¼[1,2,3,4,5]\n> è¾åºï¼æ­¤åè¡¨ä¸­çç»ç¹ 3 (åºååå½¢å¼ï¼[3,4,5])\n> è¿åçç»ç¹å¼ä¸º 3 ã (æµè¯ç³»ç»å¯¹è¯¥ç»ç¹åºååè¡¨è¿°æ¯ [3,4,5])ã\n> æ³¨æï¼æä»¬è¿åäºä¸ä¸ª listnode ç±»åçå¯¹è±¡ ansï¼è¿æ ·ï¼\n> ans.val = 3, ans.next.val = 4, ans.next.next.val = 5, ä»¥å ans.next.next.next = null.\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n\næè·¯ï¼\n\n * å¿«æ¢æééåï¼å½ fast å°è¾¾é¾è¡¨çæ«å°¾æ¶ï¼slow å¿ç¶ä½äºä¸­é´\n\npublic listnode middlenode(listnode head) {\n  listnode fast = head;\n  listnode slow = head;\n  while (fast != null && fast.next != null) {\n    slow = slow.next;\n    fast = fast.next.next;\n  }\n  return slow;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# å é¤é¾è¡¨çåæ°ç¬¬ n ä¸ªç»ç¹\n\n> ç»ä½ ä¸ä¸ªé¾è¡¨ï¼å é¤é¾è¡¨çåæ°ç¬¬ n ä¸ªç»ç¹ï¼å¹¶ä¸è¿åé¾è¡¨çå¤´ç»ç¹ã\n> \n> è¾å¥ï¼head = [1,2,3,4,5], n = 2\n> è¾åºï¼[1,2,3,5]\n> \n> \n> 1\n> 2\n\n\n# å é¤æåºæ°ç»ä¸­çéå¤é¡¹\n\n> ç»ä½ ä¸ä¸ªæåºæ°ç» nums ï¼è¯·ä½  åå° å é¤éå¤åºç°çåç´ ï¼ä½¿æ¯ä¸ªåç´  åªåºç°ä¸æ¬¡ ï¼è¿åå é¤åæ°ç»çæ°é¿åº¦ã\n> \n> ä¸è¦ä½¿ç¨é¢å¤çæ°ç»ç©ºé´ï¼ä½ å¿é¡»å¨ åå° ä¿®æ¹è¾å¥æ°ç» å¹¶å¨ä½¿ç¨ é¢å¤ç©ºé´çæ¡ä»¶ä¸å®æã\n> \n> è¯´æ:\n> \n> ä¸ºä»ä¹è¿åæ°å¼æ¯æ´æ°ï¼ä½è¾åºçç­æ¡æ¯æ°ç»å¢?\n> \n> è¯·æ³¨æï¼è¾å¥æ°ç»æ¯ä»¥**ãå¼ç¨ã**æ¹å¼ä¼ éçï¼è¿æå³çå¨å½æ°éä¿®æ¹è¾å¥æ°ç»å¯¹äºè°ç¨èæ¯å¯è§çã\n> \n> ä½ å¯ä»¥æ³è±¡åé¨æä½å¦ä¸:\n> \n> // nums æ¯ä»¥âå¼ç¨âæ¹å¼ä¼ éçãä¹å°±æ¯è¯´ï¼ä¸å¯¹å®ååä»»ä½æ·è´\n> int len = removeduplicates(nums);\n> // å¨å½æ°éä¿®æ¹è¾å¥æ°ç»å¯¹äºè°ç¨èæ¯å¯è§çã\n> // æ ¹æ®ä½ çå½æ°è¿åçé¿åº¦, å®ä¼æå°åºæ°ç»ä¸­ è¯¥é¿åº¦èå´å çææåç´ ã\n> for (int i = 0; i < len; i++) {\n>  \tprint(nums[i]);\n> }\n> è¾å¥ï¼nums = [1,1,2]\n> è¾åºï¼2, nums = [1,2]\n> è§£éï¼å½æ°åºè¯¥è¿åæ°çé¿åº¦ 2 ï¼å¹¶ä¸åæ°ç» nums çåä¸¤ä¸ªåç´ è¢«ä¿®æ¹ä¸º 1, 2 ãä¸éè¦èèæ°ç»ä¸­è¶åºæ°é¿åº¦åé¢çåç´ ã\n> è¾å¥ï¼nums = [0,0,1,1,1,2,2,3,3,4]\n> è¾åºï¼5, nums = [0,1,2,3,4]\n> è§£éï¼å½æ°åºè¯¥è¿åæ°çé¿åº¦ 5 ï¼ å¹¶ä¸åæ°ç» nums çåäºä¸ªåç´ è¢«ä¿®æ¹ä¸º 0, 1, 2, 3, 4 ãä¸éè¦èèæ°ç»ä¸­è¶åºæ°é¿åº¦åé¢çåç´ ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n> 8\n> 9\n> 10\n> 11\n> 12\n> 13\n\næè·¯ï¼\n\n * æ°ç»æåºï¼é£ç¸ç­çåç´ å¨æ°ç»ä¸­çä¸æ ä¸å®æ¯è¿ç»­ç\n * ä½¿ç¨å¿«æ¢æéï¼å¿«æéè¡¨ç¤ºéåæ°ç»å°è¾¾çä¸æ ä½ç½®ï¼æ¢æéè¡¨ç¤ºä¸ä¸ä¸ªä¸ååç´ è¦å¡«å¥çä¸æ ä½ç½®\n * ç¬¬ä¸ä¸ªåç´ ä¸éè¦å é¤ï¼ææå¿«æ¢æéé½ä»ä¸æ  1 å¼å§\n\npublic static int removeduplicates(int[] nums) {\n  if (nums == null) {\n    return 0;\n  }\n  int fast = 1;\n  int slow = 1;\n  while (fast < nums.length) {\n    //ååä¸ä¸ªå¼æ¯è¾\n    if (nums[fast] != nums[fast - 1]) {\n      //ä¸ä¸æ ·çè¯ï¼æå¿«æéçå¼æ¾å¨æ¢æéä¸ï¼å®ç°äºå»éï¼å¹¶å¾åç§»å¨æ¢æé\n      nums[slow] = nums[fast];\n      ++slow;\n    }\n    //ç¸ç­çè¯ï¼ç§»å¨å¿«æéå°±è¡\n    ++fast;\n  }\n  //æ¢æéçä½ç½®å°±æ¯ä¸éå¤çæ°é\n  return slow;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# æé¿è¿ç»­éå¢åºå\n\n> ç»å®ä¸ä¸ªæªç»æåºçæ´æ°æ°ç»ï¼æ¾å°æé¿ä¸ è¿ç»­éå¢çå­åºåï¼å¹¶è¿åè¯¥åºåçé¿åº¦ã\n> \n> è¿ç»­éå¢çå­åºå å¯ä»¥ç±ä¸¤ä¸ªä¸æ  l å rï¼l < rï¼ç¡®å®ï¼å¦æå¯¹äºæ¯ä¸ª l <= i < rï¼é½æ nums[i] < nums[i + 1] ï¼é£ä¹å­åºå [nums[l], nums[l + 1], ..., nums[r - 1], nums[r]] å°±æ¯è¿ç»­éå¢å­åºåã\n> \n> è¾å¥ï¼nums = [1,3,5,4,7]\n> è¾åºï¼3\n> è§£éï¼æé¿è¿ç»­éå¢åºåæ¯ [1,3,5], é¿åº¦ä¸º3ãå°½ç®¡ [1,3,5,7] ä¹æ¯ååºçå­åºå, ä½å®ä¸æ¯è¿ç»­çï¼å ä¸º 5 å 7 å¨åæ°ç»éè¢« 4 éå¼ã \n> \n> \n> 1\n> 2\n> 3\n\næè·¯åæï¼\n\n * è¿ä¸ªé¢çæè·¯åå é¤æåºæ°ç»ä¸­çéå¤é¡¹ï¼å¾å\n\npublic int findlengthoflcis(int[] nums) {\n  int result = 0;\n  int fast = 0;\n  int slow = 0;\n  while (fast < nums.length) {\n    //åä¸ä¸ªæ°å¤§äºåä¸ä¸ªæ°çæ¶å\n    if (fast > 0 || nums[fast - 1] > nums[fast]) {\n      slow = fast;\n    }\n    fast++;\n    result = math.max(result, fast - slow);\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# ä¸ãæ»å¨çªå£\n\næä¸ç±»æ°ç»ä¸çé®é¢ï¼éè¦ä½¿ç¨ä¸¤ä¸ªæéåéï¼æä»¬ç§°ä¸ºå·¦æéåå³æéï¼ï¼ååãäº¤æ¿åå³ç§»å¨å®æä»»å¡ãè¿æ ·çè¿ç¨åæäºä¸ä¸ªçªå£å¨å¹³é¢ä¸æ»å¨çè¿ç¨ï¼å æ­¤æä»¬å°è§£å³è¿ä¸ç±»é®é¢çç®æ³ç§°ä¸ºãæ»å¨çªå£ãé®é¢\n\n\n\næ»å¨çªå£ï¼å°±æ¯ä¸¤ä¸ªæéé½å¤´å¹¶è¿ï¼å¥½åä¸ä¸ªçªå£ä¸æ ·ï¼ä¸æ­å¾åæ»\n\nå­ä¸²é®é¢ï¼å ä¹é½æ¯æ»å¨çªå£\n\n> 643. å­æ°ç»æå¤§å¹³åæ° i(opens new window)\n> \n> 1052. ç±çæ°çä¹¦åºèæ¿(opens new window)\n> \n> 3. æ éå¤å­ç¬¦çæé¿å­ä¸²(opens new window)\n> \n> 76. æå°è¦çå­ä¸²(opens new window)\n> \n> 424. æ¿æ¢åçæé¿éå¤å­ç¬¦(opens new window)\n\nint left = 0, right = 0;\n\nwhile (right < s.size()) {\n    // å¢å¤§çªå£\n    window.add(s[right]);\n    right++;\n    \n    while (window needs shrink) {\n        // ç¼©å°çªå£\n        window.remove(s[left]);\n        left++;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 3.1 ååäº¤æ¿ç§»å¨çä¸¤ä¸ªåé\n\næä¸ç±»æ°ç»ä¸çé®é¢ï¼é®æä»¬åºå®é¿åº¦çæ»å¨çªå£çæ§è´¨ï¼è¿ç±»é®é¢è¿ç®ç¸å¯¹ç®åã\n\n# å­æ°ç»æå¤§å¹³åæ° i\n\n> ç»å® n ä¸ªæ´æ°ï¼æ¾åºå¹³åæ°æå¤§ä¸é¿åº¦ä¸º k çè¿ç»­å­æ°ç»ï¼å¹¶è¾åºè¯¥æå¤§å¹³åæ°ã\n> \n> è¾å¥ï¼[1,12,-5,-6,50,3], k = 4\n> è¾åºï¼12.75\n> è§£éï¼æå¤§å¹³åæ° (12-5-6+50)/4 = 51/4 = 12.75\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * é¿åº¦ä¸ºåºå®ç kï¼æ³å°ç¨æ»å¨çªå£\n * ä¿å­æ¯ä¸ªçªå£çå¼ï¼åè¿ k ä¸ªæ°çæå¤§åå°±å¯ä»¥å¾åºæå¤§å¹³åæ°\n * æä¹ä¿å­æ¯ä¸ªçªå£çå¼ï¼è¿ä¸æ­¥\n\npublic static double getmaxaverage(int[] nums, int k) {\n  int sum = 0;\n  //åæ±åºåkä¸ªæ°çå\n  for (int i = 0; i < nums.length; i++) {\n    sum += nums[i];\n  }\n  //ç®åæå¤§çæ°æ¯åkä¸ªæ°\n  int result = sum;\n  //ç¶åä»ç¬¬ k ä¸ªæ°å¼å§ç§»å¨ï¼ä¿å­ç§»å¨ä¸­çåå¼ï¼è¿åæå¤§ç\n  for (int i = k; i < nums.length; i++) {\n    sum = sum - nums[i - k] + nums[i];\n    result = math.max(result, sum);\n  }\n  //è¿åçæ¯double\n  return 1.0 * result / k;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 3.2 ä¸å®é¿åº¦çæ»å¨çªå£\n\n# æ éå¤å­ç¬¦çæé¿å­ä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸² s ï¼è¯·ä½ æ¾åºå¶ä¸­ä¸å«æéå¤å­ç¬¦ç æé¿å­ä¸² çé¿åº¦ã\n> \n> è¾å¥: s = "abcabcbb"\n> è¾åº: 3 \n> è§£é: å ä¸ºæ éå¤å­ç¬¦çæé¿å­ä¸²æ¯ "abc"ï¼æä»¥å¶é¿åº¦ä¸º 3ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * æ»å¨çªå£ï¼å¶å®å°±æ¯ä¸ä¸ªéåï¼æ¯å¦ä¾é¢ä¸­ç abcabcbbï¼è¿å¥è¿ä¸ªéåï¼çªå£ï¼ä¸º abc æ»¡è¶³é¢ç®è¦æ±ï¼å½åè¿å¥ aï¼éååæäº abcaï¼è¿æ¶åä¸æ»¡è¶³è¦æ±ãæä»¥ï¼æä»¬è¦ç§»å¨è¿ä¸ªéå\n * å¦ä½ç§»å¨ï¼æä»¬åªè¦æéåçå·¦è¾¹çåç´ ç§»åºå°±è¡äºï¼ç´å°æ»¡è¶³é¢ç®è¦æ±ï¼\n * ä¸ç´ç»´æè¿æ ·çéåï¼æ¾åºéååºç°æé¿çé¿åº¦æ¶åï¼æ±åºè§£ï¼\n\npublic static int lengthoflongestsubstring(string s){\n  hashmap<character, integer> map = new hashmap<>();\n  int result = 0;\n  int left = 0;\n  //ä¸ºäºæå·¦å³æéçææ³ï¼æææä»¬å¸¸ç¨ç i åæäº right\n  for (int right = 0; right < s.length(); right++) {\n    //å½åå­ç¬¦åå«å¨å½åææçå­æ®µä¸­ï¼å¦ï¼abcaï¼å½æä»¬éåå°ç¬¬äºä¸ªaï¼å½åæææé¿å­æ®µæ¯ abcï¼æä»¬åéåå°aï¼\n    //é£ä¹æ­¤æ¶æ´æ° left ä¸º map.get(a)+1=1ï¼å½åææå­æ®µæ´æ°ä¸º bcaï¼\n    //ç¸å½äºå·¦æéå¾åç§»å¨äºä¸ä½\n    if (map.containskey(s.charat(right))) {\n      left = math.max(left, map.get(s.charat(right)) + 1);\n    }\n    //å³æéä¸ç´å¾åç§»å¨\n    map.put(s.charat(right), right);\n    result = math.max(result, right - left + 1);\n  }\n  return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æå°è¦çå­ä¸²\n\n> ç»ä½ ä¸ä¸ªå­ç¬¦ä¸² s ãä¸ä¸ªå­ç¬¦ä¸² t ãè¿å s ä¸­æ¶µç t ææå­ç¬¦çæå°å­ä¸²ãå¦æ s ä¸­ä¸å­å¨æ¶µç t ææå­ç¬¦çå­ä¸²ï¼åè¿åç©ºå­ç¬¦ä¸² "" ã\n> \n> è¾å¥ï¼s = "adobecodebanc", t = "abc"\n> è¾åºï¼"banc"\n> \n> \n> 1\n> 2\n\n# æ¿æ¢åçæé¿éå¤å­ç¬¦\n\n> ç»ä½ ä¸ä¸ªä»ç±å¤§åè±æå­æ¯ç»æçå­ç¬¦ä¸²ï¼ä½ å¯ä»¥å°ä»»æä½ç½®ä¸çå­ç¬¦æ¿æ¢æå¦å¤çå­ç¬¦ï¼æ»å±å¯æå¤æ¿æ¢ k æ¬¡ãå¨æ§è¡ä¸è¿°æä½åï¼æ¾å°åå«éå¤å­æ¯çæé¿å­ä¸²çé¿åº¦ã\n> \n> æ³¨æï¼å­ç¬¦ä¸²é¿åº¦ å k ä¸ä¼è¶è¿ 10^4\n> \n> è¾å¥ï¼s = "abab", k = 2\n> è¾åºï¼4\n> è§£éï¼ç¨ä¸¤ä¸ª\'a\'æ¿æ¢ä¸ºä¸¤ä¸ª\'b\',åä¹äº¦ç¶ã\n> è¾å¥ï¼s = "aababba", k = 1\n> è¾åºï¼4\n> è§£éï¼å°ä¸­é´çä¸ä¸ª\'a\'æ¿æ¢ä¸º\'b\',å­ç¬¦ä¸²åä¸º "aabbbba"ãå­ä¸² "bbbb" ææé¿éå¤å­æ¯, ç­æ¡ä¸º 4ã\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n\næè·¯ï¼\n\n * \n\npublic int characterreplacement(string s, int k) {\n  int len = s.length();\n  if (len < 2) {\n    return len;\n  }\n\n  char[] chararray = s.tochararray();\n  int left = 0;\n  int right = 0;\n\n  int res = 0;\n  int maxcount = 0;\n  int[] freq = new int[26];\n  // [left, right) åæå¤æ¿æ¢ k ä¸ªå­ç¬¦å¯ä»¥å¾å°åªæä¸ç§å­ç¬¦çå­ä¸²\n  while (right < len){\n    freq[chararray[right] - \'a\']++;\n    // å¨è¿éç»´æ¤ maxcountï¼å ä¸ºæ¯ä¸æ¬¡å³è¾¹çè¯»å¥ä¸ä¸ªå­ç¬¦ï¼å­ç¬¦é¢æ°å¢å ï¼æä¼ä½¿å¾ maxcount å¢å \n    maxcount = math.max(maxcount, freq[chararray[right] - \'a\']);\n    right++;\n\n    if (right - left > maxcount + k){\n      // è¯´ææ­¤æ¶ k ä¸å¤ç¨\n      // æå¶å®ä¸æ¯æå¤åºç°çå­ç¬¦æ¿æ¢ä»¥åï¼é½ä¸è½å¡«æ»¡è¿ä¸ªæ»å¨ççªå£ï¼è¿ä¸ªæ¶åé¡»è¦èèå·¦è¾¹çåå³ç§»å¨\n      // ç§»åºæ»å¨çªå£çæ¶åï¼é¢æ°æ°ç»é¡»è¦ç¸åºå°ååæ³\n      freq[chararray[left] - \'a\']--;\n      left++;\n    }\n    res = math.max(res, right - left);\n  }\n  return res;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 3.3 è®¡æ°é®é¢\n\n# è³å¤åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸² sï¼æ¾åº è³å¤ åå«ä¸¤ä¸ªä¸åå­ç¬¦çæé¿å­ä¸² t ï¼å¹¶è¿åè¯¥å­ä¸²çé¿åº¦ã\n> \n> è¾å¥: "eceba"\n> è¾åº: 3\n> è§£é: t æ¯ "ece"ï¼é¿åº¦ä¸º3ã\n> \n> \n> 1\n> 2\n> 3\n\næè·¯ï¼\n\n * è¿ç§å­ç¬¦ä¸²ç¨æ»å¨çªå£çé¢ç®ï¼ä¸è¬ç¨ tochararray() åè½¬æå­ç¬¦æ°ç»\n\n# è³å¤åå« k ä¸ªä¸åå­ç¬¦çæé¿å­ä¸²\n\n> ç»å®ä¸ä¸ªå­ç¬¦ä¸² sï¼æ¾åº è³å¤ åå« k ä¸ªä¸åå­ç¬¦çæé¿å­ä¸² tã\n> \n> è¾å¥: s = "eceba", k = 2\n> è¾åº: 3\n> è§£é: å t ä¸º "ece"ï¼æä»¥é¿åº¦ä¸º 3ã\n> \n> \n> 1\n> 2\n> 3\n\n# åºé´å­æ°ç»ä¸ªæ°\n\n> ç»å®ä¸ä¸ªåç´ é½æ¯æ­£æ´æ°çæ°ç»a ï¼æ­£æ´æ° l ä»¥å r (l <= r)ã\n> \n> æ±è¿ç»­ãéç©ºä¸å¶ä¸­æå¤§åç´ æ»¡è¶³å¤§äºç­äºl å°äºç­äºrçå­æ°ç»ä¸ªæ°ã\n> \n> ä¾å¦ :\n> è¾å¥: \n> a = [2, 1, 4, 3]\n> l = 2\n> r = 3\n> è¾åº: 3\n> è§£é: æ»¡è¶³æ¡ä»¶çå­æ°ç»: [2], [2, 1], [3].\n> \n> \n> 1\n> 2\n> 3\n> 4\n> 5\n> 6\n> 7\n\n# k ä¸ªä¸åæ´æ°çå­æ°ç»\n\n> \n\n\n# 3.4 ä½¿ç¨æ°æ®ç»æç»´æ¤çªå£æ§è´¨\n\næä¸ç±»é®é¢åªæ¯åå­ä¸å«ãæ»å¨çªå£ãï¼ä½è§£å³è¿ä¸ç±»é®é¢éè¦ç¨å°å¸¸è§çæ°æ®ç»æãè¿ä¸èç»åºçé®é¢å¯ä»¥å½åä¾é¢è¿è¡å­¦ä¹ ï¼ä¸äºæ¯è¾å¤æçé®é¢æ¯åºäºè¿äºé®é¢è¡çåºæ¥çã\n\n# æ»å¨çªå£æå¤§å¼\n\n# æ»å¨çªå£ä¸­ä½æ°\n\n\n# æ»ç»\n\nåºé´ä¸åçå®ä¹å³å®äºä¸åçåå§åé»è¾ãéåè¿ç¨ä¸­çé»è¾ã\n\n * ç§»é¤åç´ \n * å é¤æåºæ°ç»ä¸­çéå¤é¡¹ ii\n * ç§»å¨é¶',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ°ç»ä¸ç©éµ",frontmatter:{title:"æ°ç»ä¸ç©éµ",date:"2022-10-12T21:50:30.000Z",permalink:"/pages/5fd35f/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/01.%E6%95%B0%E7%BB%84%E4%B8%8E%E7%9F%A9%E9%98%B5.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/01.æ°ç»ä¸ç©éµ.md",key:"v-3bb878ba",path:"/pages/5fd35f/",headers:[{level:2,title:"3. æ°ç»ä¸­éå¤çæ°å­",slug:"_3-æ°ç»ä¸­éå¤çæ°å­",normalizedTitle:"3. æ°ç»ä¸­éå¤çæ°å­",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:201},{level:2,title:"4. äºç»´æ°ç»ä¸­çæ¥æ¾",slug:"_4-äºç»´æ°ç»ä¸­çæ¥æ¾",normalizedTitle:"4. äºç»´æ°ç»ä¸­çæ¥æ¾",charIndex:901},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:201},{level:2,title:"5. æ¿æ¢ç©ºæ ¼",slug:"_5-æ¿æ¢ç©ºæ ¼",normalizedTitle:"5. æ¿æ¢ç©ºæ ¼",charIndex:1923},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-3",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-3",normalizedTitle:"è§£é¢æè·¯",charIndex:201},{level:2,title:"29. é¡ºæ¶éæå°ç©éµ",slug:"_29-é¡ºæ¶éæå°ç©éµ",normalizedTitle:"29. é¡ºæ¶éæå°ç©éµ",charIndex:2900},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-4",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-4",normalizedTitle:"è§£é¢æè·¯",charIndex:201},{level:2,title:"50. ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ä½ç½®",slug:"_50-ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ä½ç½®",normalizedTitle:"50. ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ä½ç½®",charIndex:4068},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-5",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-5",normalizedTitle:"è§£é¢æè·¯",charIndex:201}],headersStr:"3. æ°ç»ä¸­éå¤çæ°å­ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 4. äºç»´æ°ç»ä¸­çæ¥æ¾ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 5. æ¿æ¢ç©ºæ ¼ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 29. é¡ºæ¶éæå°ç©éµ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 50. ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ä½ç½® é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯",content:"# 3. æ°ç»ä¸­éå¤çæ°å­\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ªé¿åº¦ä¸º n çæ°ç»éçæææ°å­é½å¨ 0 å° n-1 çèå´åãæ°ç»ä¸­æäºæ°å­æ¯éå¤çï¼ä½ä¸ç¥éæå ä¸ªæ°å­æ¯éå¤çï¼ä¹ä¸ç¥éæ¯ä¸ªæ°å­éå¤å æ¬¡ãè¯·æ¾åºæ°ç»ä¸­ä»»æä¸ä¸ªéå¤çæ°å­ã\n\nInput:\n{2, 3, 1, 0, 2, 5}\n\nOutput:\n2\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nè¦æ±æ¶é´å¤æåº¦ O(N)ï¼ç©ºé´å¤æåº¦ O(1)ãå æ­¤ä¸è½ä½¿ç¨æåºçæ¹æ³ï¼ä¹ä¸è½ä½¿ç¨é¢å¤çæ è®°æ°ç»ã\n\nå¯¹äºè¿ç§æ°ç»åç´ å¨ [0, n-1] èå´åçé®é¢ï¼å¯ä»¥å°å¼ä¸º i çåç´ è°æ´å°ç¬¬ i ä¸ªä½ç½®ä¸è¿è¡æ±è§£ãå¨è°æ´è¿ç¨ä¸­ï¼å¦æç¬¬ i ä½ç½®ä¸å·²ç»æä¸ä¸ªå¼ä¸º i çåç´ ï¼å°±å¯ä»¥ç¥é i å¼éå¤ã\n\nä»¥ (2, 3, 1, 0, 2, 5) ä¸ºä¾ï¼éåå°ä½ç½® 4 æ¶ï¼è¯¥ä½ç½®ä¸çæ°ä¸º 2ï¼ä½æ¯ç¬¬ 2 ä¸ªä½ç½®ä¸å·²ç»æä¸ä¸ª 2 çå¼äºï¼å æ­¤å¯ä»¥ç¥é 2 éå¤ï¼\n\n\n\npublic int duplicate(int[] nums) {\n    for (int i = 0; i < nums.length; i++) {\n        while (nums[i] != i) {\n            if (nums[i] == nums[nums[i]]) {\n                return  nums[i];\n            }\n            swap(nums, i, nums[i]);\n        }\n        swap(nums, i, nums[i]);\n    }\n    return -1;\n}\n\nprivate void swap(int[] nums, int i, int j) {\n    int t = nums[i];\n    nums[i] = nums[j];\n    nums[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 4. äºç»´æ°ç»ä¸­çæ¥æ¾\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªäºç»´æ°ç»ï¼å¶æ¯ä¸è¡ä»å·¦å°å³éå¢æåºï¼ä»ä¸å°ä¸ä¹æ¯éå¢æåºãç»å®ä¸ä¸ªæ°ï¼å¤æ­è¿ä¸ªæ°æ¯å¦å¨è¯¥äºç»´æ°ç»ä¸­ã\n\nConsider the following matrix:\n[\n  [1,   4,  7, 11, 15],\n  [2,   5,  8, 12, 19],\n  [3,   6,  9, 16, 22],\n  [10, 13, 14, 17, 24],\n  [18, 21, 23, 26, 30]\n]\n\nGiven target = 5, return true.\nGiven target = 20, return false.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# è§£é¢æè·¯\n\nè¦æ±æ¶é´å¤æåº¦ O(M + N)ï¼ç©ºé´å¤æåº¦ O(1)ãå¶ä¸­ M ä¸ºè¡æ°ï¼N ä¸º åæ°ã\n\nè¯¥äºç»´æ°ç»ä¸­çä¸ä¸ªæ°ï¼å°äºå®çæ°ä¸å®å¨å¶å·¦è¾¹ï¼å¤§äºå®çæ°ä¸å®å¨å¶ä¸è¾¹ãå æ­¤ï¼ä»å³ä¸è§å¼å§æ¥æ¾ï¼å°±å¯ä»¥æ ¹æ® target åå½ååç´ çå¤§å°å³ç³»æ¥å¿«éå°ç¼©å°æ¥æ¾åºé´ï¼æ¯æ¬¡åå°ä¸è¡æèä¸åçåç´ ãå½ååç´ çæ¥æ¾åºé´ä¸ºå·¦ä¸è§çææåç´ ã\n\n\n\npublic boolean Find(int target, int[][] matrix) {\n    if (matrix == null || matrix.length == 0 || matrix[0].length == 0)\n        return false;\n    int rows = matrix.length, cols = matrix[0].length;\n    int r = 0, c = cols - 1; // ä»å³ä¸è§å¼å§\n    while (r <= rows - 1 && c >= 0) {\n        if (target == matrix[r][c])\n            return true;\n        else if (target > matrix[r][c])\n            r++;\n        else\n            c--;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 5. æ¿æ¢ç©ºæ ¼\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå°ä¸ä¸ªå­ç¬¦ä¸²ä¸­çç©ºæ ¼æ¿æ¢æ \"%20\"ã\n\nInput:\n\"A B\"\n\nOutput:\n\"A%20B\"\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nâ  å¨å­ç¬¦ä¸²å°¾é¨å¡«åä»»æå­ç¬¦ï¼ä½¿å¾å­ç¬¦ä¸²çé¿åº¦ç­äºæ¿æ¢ä¹åçé¿åº¦ãå ä¸ºä¸ä¸ªç©ºæ ¼è¦æ¿æ¢æä¸ä¸ªå­ç¬¦ï¼%20ï¼ï¼æä»¥å½éåå°ä¸ä¸ªç©ºæ ¼æ¶ï¼éè¦å¨å°¾é¨å¡«åä¸¤ä¸ªä»»æå­ç¬¦ã\n\nâ¡ ä»¤ P1 æåå­ç¬¦ä¸²åæ¥çæ«å°¾ä½ç½®ï¼P2 æåå­ç¬¦ä¸²ç°å¨çæ«å°¾ä½ç½®ãP1 å P2 ä»åååéåï¼å½ P1 éåå°ä¸ä¸ªç©ºæ ¼æ¶ï¼å°±éè¦ä»¤ P2 æåçä½ç½®ä¾æ¬¡å¡«å 02%ï¼æ³¨ææ¯éåºçï¼ï¼å¦åå°±å¡«åä¸ P1 æåå­ç¬¦çå¼ãä»åååéæ¯ä¸ºäºå¨æ¹å P2 ææåçåå®¹æ¶ï¼ä¸ä¼å½±åå° P1 éååæ¥å­ç¬¦ä¸²çåå®¹ã\n\nâ¢ å½ P2 éå° P1 æ¶ï¼P2 <= P1ï¼ï¼æèéåç»æï¼P1 < 0ï¼ï¼éåºã\n\n\n\npublic String replaceSpace(StringBuffer str) {\n    int P1 = str.length() - 1;\n    for (int i = 0; i <= P1; i++)\n        if (str.charAt(i) == ' ')\n            str.append(\"  \");\n\n    int P2 = str.length() - 1;\n    while (P1 >= 0 && P2 > P1) {\n        char c = str.charAt(P1--);\n        if (c == ' ') {\n            str.setCharAt(P2--, '0');\n            str.setCharAt(P2--, '2');\n            str.setCharAt(P2--, '%');\n        } else {\n            str.setCharAt(P2--, c);\n        }\n    }\n    return str.toString();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 29. é¡ºæ¶éæå°ç©éµ\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næé¡ºæ¶éçæ¹åï¼ä»å¤å°éæå°ç©éµçå¼ãä¸å¾çç©éµæå°ç»æä¸ºï¼1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10\n\n\n\n\n# è§£é¢æè·¯\n\nä¸å±ä¸å±ä»å¤å°éæå°ï¼è§å¯å¯ç¥æ¯ä¸å±æå°é½æç¸åçå¤çæ­¥éª¤ï¼å¯ä¸ä¸åçæ¯ä¸ä¸å·¦å³çè¾¹çä¸åäºãå æ­¤ä½¿ç¨åä¸ªåé r1, r2, c1, c2 åå«å­å¨ä¸ä¸å·¦å³è¾¹çå¼ï¼ä»èå®ä¹å½åæå¤å±ãæå°å½åæå¤å±çé¡ºåºï¼ä»å·¦å°å³æå°æä¸ä¸è¡->ä»ä¸å°ä¸æå°æå³ä¸è¡->ä»å³å°å·¦æå°æä¸ä¸è¡->ä»ä¸å°ä¸æå°æå·¦ä¸è¡ãåºå½æ³¨æåªæå¨ r1 != r2 æ¶ææå°æä¸ä¸è¡ï¼ä¹å°±æ¯å¨å½åæå¤å±çè¡æ°å¤§äº 1 æ¶ææå°æä¸ä¸è¡ï¼è¿æ¯å ä¸ºå½åæå¤å±åªæä¸è¡æ¶ï¼ç»§ç»­æå°æä¸ä¸è¡ï¼ä¼å¯¼è´éå¤æå°ãæå°æå·¦ä¸è¡ä¹è¦ååæ ·å¤çã\n\n\n\npublic ArrayList<Integer> printMatrix(int[][] matrix) {\n    ArrayList<Integer> ret = new ArrayList<>();\n    int r1 = 0, r2 = matrix.length - 1, c1 = 0, c2 = matrix[0].length - 1;\n    while (r1 <= r2 && c1 <= c2) {\n        // ä¸\n        for (int i = c1; i <= c2; i++)\n            ret.add(matrix[r1][i]);\n        // å³\n        for (int i = r1 + 1; i <= r2; i++)\n            ret.add(matrix[i][c2]);\n        if (r1 != r2)\n            // ä¸\n            for (int i = c2 - 1; i >= c1; i--)\n                ret.add(matrix[r2][i]);\n        if (c1 != c2)\n            // å·¦\n            for (int i = r2 - 1; i > r1; i--)\n                ret.add(matrix[i][c1]);\n        r1++; r2--; c1++; c2--;\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 50. ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ä½ç½®\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ªå­ç¬¦ä¸²ä¸­æ¾å°ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ï¼å¹¶è¿åå®çä½ç½®ãå­ç¬¦ä¸²åªåå« ASCII ç å­ç¬¦ã\n\nInput: abacc\nOutput: b\n\n\n1\n2\n\n\n\n# è§£é¢æè·¯\n\næç´è§çè§£æ³æ¯ä½¿ç¨ HashMap å¯¹åºç°æ¬¡æ°è¿è¡ç»è®¡ï¼å­ç¬¦åä¸º keyï¼åºç°æ¬¡æ°ä½ä¸º valueï¼éåå­ç¬¦ä¸²æ¯æ¬¡é½å° key å¯¹åºç value å  1ãæååéåè¿ä¸ª HashMap å°±å¯ä»¥æ¾åºåºç°æ¬¡æ°ä¸º 1 çå­ç¬¦ã\n\nèèå°è¦ç»è®¡çå­ç¬¦èå´æéï¼ä¹å¯ä»¥ä½¿ç¨æ´åæ°ç»ä»£æ¿ HashMapãASCII ç åªæ 128 ä¸ªå­ç¬¦ï¼å æ­¤å¯ä»¥ä½¿ç¨é¿åº¦ä¸º 128 çæ´åæ°ç»æ¥å­å¨æ¯ä¸ªå­ç¬¦åºç°çæ¬¡æ°ã\n\npublic int FirstNotRepeatingChar(String str) {\n    int[] cnts = new int[128];\n    for (int i = 0; i < str.length(); i++)\n        cnts[str.charAt(i)]++;\n    for (int i = 0; i < str.length(); i++)\n        if (cnts[str.charAt(i)] == 1)\n            return i;\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä»¥ä¸å®ç°çç©ºé´å¤æåº¦è¿ä¸æ¯æä¼çãèèå°åªéè¦æ¾å°åªåºç°ä¸æ¬¡çå­ç¬¦ï¼é£ä¹éè¦ç»è®¡çæ¬¡æ°ä¿¡æ¯åªæ 0,1,æ´å¤§ï¼ä½¿ç¨ä¸¤ä¸ªæ¯ç¹ä½å°±è½å­å¨è¿äºä¿¡æ¯ã\n\npublic int FirstNotRepeatingChar2(String str) {\n    BitSet bs1 = new BitSet(128);\n    BitSet bs2 = new BitSet(128);\n    for (char c : str.toCharArray()) {\n        if (!bs1.get(c) && !bs2.get(c))\n            bs1.set(c);     // 0 0 -> 0 1\n        else if (bs1.get(c) && !bs2.get(c))\n            bs2.set(c);     // 0 1 -> 1 1\n    }\n    for (int i = 0; i < str.length(); i++) {\n        char c = str.charAt(i);\n        if (bs1.get(c) && !bs2.get(c))  // 0 1\n            return i;\n    }\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",normalizedContent:"# 3. æ°ç»ä¸­éå¤çæ°å­\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ªé¿åº¦ä¸º n çæ°ç»éçæææ°å­é½å¨ 0 å° n-1 çèå´åãæ°ç»ä¸­æäºæ°å­æ¯éå¤çï¼ä½ä¸ç¥éæå ä¸ªæ°å­æ¯éå¤çï¼ä¹ä¸ç¥éæ¯ä¸ªæ°å­éå¤å æ¬¡ãè¯·æ¾åºæ°ç»ä¸­ä»»æä¸ä¸ªéå¤çæ°å­ã\n\ninput:\n{2, 3, 1, 0, 2, 5}\n\noutput:\n2\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nè¦æ±æ¶é´å¤æåº¦ o(n)ï¼ç©ºé´å¤æåº¦ o(1)ãå æ­¤ä¸è½ä½¿ç¨æåºçæ¹æ³ï¼ä¹ä¸è½ä½¿ç¨é¢å¤çæ è®°æ°ç»ã\n\nå¯¹äºè¿ç§æ°ç»åç´ å¨ [0, n-1] èå´åçé®é¢ï¼å¯ä»¥å°å¼ä¸º i çåç´ è°æ´å°ç¬¬ i ä¸ªä½ç½®ä¸è¿è¡æ±è§£ãå¨è°æ´è¿ç¨ä¸­ï¼å¦æç¬¬ i ä½ç½®ä¸å·²ç»æä¸ä¸ªå¼ä¸º i çåç´ ï¼å°±å¯ä»¥ç¥é i å¼éå¤ã\n\nä»¥ (2, 3, 1, 0, 2, 5) ä¸ºä¾ï¼éåå°ä½ç½® 4 æ¶ï¼è¯¥ä½ç½®ä¸çæ°ä¸º 2ï¼ä½æ¯ç¬¬ 2 ä¸ªä½ç½®ä¸å·²ç»æä¸ä¸ª 2 çå¼äºï¼å æ­¤å¯ä»¥ç¥é 2 éå¤ï¼\n\n\n\npublic int duplicate(int[] nums) {\n    for (int i = 0; i < nums.length; i++) {\n        while (nums[i] != i) {\n            if (nums[i] == nums[nums[i]]) {\n                return  nums[i];\n            }\n            swap(nums, i, nums[i]);\n        }\n        swap(nums, i, nums[i]);\n    }\n    return -1;\n}\n\nprivate void swap(int[] nums, int i, int j) {\n    int t = nums[i];\n    nums[i] = nums[j];\n    nums[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 4. äºç»´æ°ç»ä¸­çæ¥æ¾\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªäºç»´æ°ç»ï¼å¶æ¯ä¸è¡ä»å·¦å°å³éå¢æåºï¼ä»ä¸å°ä¸ä¹æ¯éå¢æåºãç»å®ä¸ä¸ªæ°ï¼å¤æ­è¿ä¸ªæ°æ¯å¦å¨è¯¥äºç»´æ°ç»ä¸­ã\n\nconsider the following matrix:\n[\n  [1,   4,  7, 11, 15],\n  [2,   5,  8, 12, 19],\n  [3,   6,  9, 16, 22],\n  [10, 13, 14, 17, 24],\n  [18, 21, 23, 26, 30]\n]\n\ngiven target = 5, return true.\ngiven target = 20, return false.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# è§£é¢æè·¯\n\nè¦æ±æ¶é´å¤æåº¦ o(m + n)ï¼ç©ºé´å¤æåº¦ o(1)ãå¶ä¸­ m ä¸ºè¡æ°ï¼n ä¸º åæ°ã\n\nè¯¥äºç»´æ°ç»ä¸­çä¸ä¸ªæ°ï¼å°äºå®çæ°ä¸å®å¨å¶å·¦è¾¹ï¼å¤§äºå®çæ°ä¸å®å¨å¶ä¸è¾¹ãå æ­¤ï¼ä»å³ä¸è§å¼å§æ¥æ¾ï¼å°±å¯ä»¥æ ¹æ® target åå½ååç´ çå¤§å°å³ç³»æ¥å¿«éå°ç¼©å°æ¥æ¾åºé´ï¼æ¯æ¬¡åå°ä¸è¡æèä¸åçåç´ ãå½ååç´ çæ¥æ¾åºé´ä¸ºå·¦ä¸è§çææåç´ ã\n\n\n\npublic boolean find(int target, int[][] matrix) {\n    if (matrix == null || matrix.length == 0 || matrix[0].length == 0)\n        return false;\n    int rows = matrix.length, cols = matrix[0].length;\n    int r = 0, c = cols - 1; // ä»å³ä¸è§å¼å§\n    while (r <= rows - 1 && c >= 0) {\n        if (target == matrix[r][c])\n            return true;\n        else if (target > matrix[r][c])\n            r++;\n        else\n            c--;\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 5. æ¿æ¢ç©ºæ ¼\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå°ä¸ä¸ªå­ç¬¦ä¸²ä¸­çç©ºæ ¼æ¿æ¢æ \"%20\"ã\n\ninput:\n\"a b\"\n\noutput:\n\"a%20b\"\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nâ  å¨å­ç¬¦ä¸²å°¾é¨å¡«åä»»æå­ç¬¦ï¼ä½¿å¾å­ç¬¦ä¸²çé¿åº¦ç­äºæ¿æ¢ä¹åçé¿åº¦ãå ä¸ºä¸ä¸ªç©ºæ ¼è¦æ¿æ¢æä¸ä¸ªå­ç¬¦ï¼%20ï¼ï¼æä»¥å½éåå°ä¸ä¸ªç©ºæ ¼æ¶ï¼éè¦å¨å°¾é¨å¡«åä¸¤ä¸ªä»»æå­ç¬¦ã\n\nâ¡ ä»¤ p1 æåå­ç¬¦ä¸²åæ¥çæ«å°¾ä½ç½®ï¼p2 æåå­ç¬¦ä¸²ç°å¨çæ«å°¾ä½ç½®ãp1 å p2 ä»åååéåï¼å½ p1 éåå°ä¸ä¸ªç©ºæ ¼æ¶ï¼å°±éè¦ä»¤ p2 æåçä½ç½®ä¾æ¬¡å¡«å 02%ï¼æ³¨ææ¯éåºçï¼ï¼å¦åå°±å¡«åä¸ p1 æåå­ç¬¦çå¼ãä»åååéæ¯ä¸ºäºå¨æ¹å p2 ææåçåå®¹æ¶ï¼ä¸ä¼å½±åå° p1 éååæ¥å­ç¬¦ä¸²çåå®¹ã\n\nâ¢ å½ p2 éå° p1 æ¶ï¼p2 <= p1ï¼ï¼æèéåç»æï¼p1 < 0ï¼ï¼éåºã\n\n\n\npublic string replacespace(stringbuffer str) {\n    int p1 = str.length() - 1;\n    for (int i = 0; i <= p1; i++)\n        if (str.charat(i) == ' ')\n            str.append(\"  \");\n\n    int p2 = str.length() - 1;\n    while (p1 >= 0 && p2 > p1) {\n        char c = str.charat(p1--);\n        if (c == ' ') {\n            str.setcharat(p2--, '0');\n            str.setcharat(p2--, '2');\n            str.setcharat(p2--, '%');\n        } else {\n            str.setcharat(p2--, c);\n        }\n    }\n    return str.tostring();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 29. é¡ºæ¶éæå°ç©éµ\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næé¡ºæ¶éçæ¹åï¼ä»å¤å°éæå°ç©éµçå¼ãä¸å¾çç©éµæå°ç»æä¸ºï¼1, 2, 3, 4, 8, 12, 16, 15, 14, 13, 9, 5, 6, 7, 11, 10\n\n\n\n\n# è§£é¢æè·¯\n\nä¸å±ä¸å±ä»å¤å°éæå°ï¼è§å¯å¯ç¥æ¯ä¸å±æå°é½æç¸åçå¤çæ­¥éª¤ï¼å¯ä¸ä¸åçæ¯ä¸ä¸å·¦å³çè¾¹çä¸åäºãå æ­¤ä½¿ç¨åä¸ªåé r1, r2, c1, c2 åå«å­å¨ä¸ä¸å·¦å³è¾¹çå¼ï¼ä»èå®ä¹å½åæå¤å±ãæå°å½åæå¤å±çé¡ºåºï¼ä»å·¦å°å³æå°æä¸ä¸è¡->ä»ä¸å°ä¸æå°æå³ä¸è¡->ä»å³å°å·¦æå°æä¸ä¸è¡->ä»ä¸å°ä¸æå°æå·¦ä¸è¡ãåºå½æ³¨æåªæå¨ r1 != r2 æ¶ææå°æä¸ä¸è¡ï¼ä¹å°±æ¯å¨å½åæå¤å±çè¡æ°å¤§äº 1 æ¶ææå°æä¸ä¸è¡ï¼è¿æ¯å ä¸ºå½åæå¤å±åªæä¸è¡æ¶ï¼ç»§ç»­æå°æä¸ä¸è¡ï¼ä¼å¯¼è´éå¤æå°ãæå°æå·¦ä¸è¡ä¹è¦ååæ ·å¤çã\n\n\n\npublic arraylist<integer> printmatrix(int[][] matrix) {\n    arraylist<integer> ret = new arraylist<>();\n    int r1 = 0, r2 = matrix.length - 1, c1 = 0, c2 = matrix[0].length - 1;\n    while (r1 <= r2 && c1 <= c2) {\n        // ä¸\n        for (int i = c1; i <= c2; i++)\n            ret.add(matrix[r1][i]);\n        // å³\n        for (int i = r1 + 1; i <= r2; i++)\n            ret.add(matrix[i][c2]);\n        if (r1 != r2)\n            // ä¸\n            for (int i = c2 - 1; i >= c1; i--)\n                ret.add(matrix[r2][i]);\n        if (c1 != c2)\n            // å·¦\n            for (int i = r2 - 1; i > r1; i--)\n                ret.add(matrix[i][c1]);\n        r1++; r2--; c1++; c2--;\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 50. ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ä½ç½®\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ªå­ç¬¦ä¸²ä¸­æ¾å°ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ï¼å¹¶è¿åå®çä½ç½®ãå­ç¬¦ä¸²åªåå« ascii ç å­ç¬¦ã\n\ninput: abacc\noutput: b\n\n\n1\n2\n\n\n\n# è§£é¢æè·¯\n\næç´è§çè§£æ³æ¯ä½¿ç¨ hashmap å¯¹åºç°æ¬¡æ°è¿è¡ç»è®¡ï¼å­ç¬¦åä¸º keyï¼åºç°æ¬¡æ°ä½ä¸º valueï¼éåå­ç¬¦ä¸²æ¯æ¬¡é½å° key å¯¹åºç value å  1ãæååéåè¿ä¸ª hashmap å°±å¯ä»¥æ¾åºåºç°æ¬¡æ°ä¸º 1 çå­ç¬¦ã\n\nèèå°è¦ç»è®¡çå­ç¬¦èå´æéï¼ä¹å¯ä»¥ä½¿ç¨æ´åæ°ç»ä»£æ¿ hashmapãascii ç åªæ 128 ä¸ªå­ç¬¦ï¼å æ­¤å¯ä»¥ä½¿ç¨é¿åº¦ä¸º 128 çæ´åæ°ç»æ¥å­å¨æ¯ä¸ªå­ç¬¦åºç°çæ¬¡æ°ã\n\npublic int firstnotrepeatingchar(string str) {\n    int[] cnts = new int[128];\n    for (int i = 0; i < str.length(); i++)\n        cnts[str.charat(i)]++;\n    for (int i = 0; i < str.length(); i++)\n        if (cnts[str.charat(i)] == 1)\n            return i;\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä»¥ä¸å®ç°çç©ºé´å¤æåº¦è¿ä¸æ¯æä¼çãèèå°åªéè¦æ¾å°åªåºç°ä¸æ¬¡çå­ç¬¦ï¼é£ä¹éè¦ç»è®¡çæ¬¡æ°ä¿¡æ¯åªæ 0,1,æ´å¤§ï¼ä½¿ç¨ä¸¤ä¸ªæ¯ç¹ä½å°±è½å­å¨è¿äºä¿¡æ¯ã\n\npublic int firstnotrepeatingchar2(string str) {\n    bitset bs1 = new bitset(128);\n    bitset bs2 = new bitset(128);\n    for (char c : str.tochararray()) {\n        if (!bs1.get(c) && !bs2.get(c))\n            bs1.set(c);     // 0 0 -> 0 1\n        else if (bs1.get(c) && !bs2.get(c))\n            bs2.set(c);     // 0 1 -> 1 1\n    }\n    for (int i = 0; i < str.length(); i++) {\n        char c = str.charat(i);\n        if (bs1.get(c) && !bs2.get(c))  // 0 1\n            return i;\n    }\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ éåå ",frontmatter:{title:"æ éåå ",date:"2022-10-12T22:16:40.000Z",permalink:"/pages/8d145e/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/05.%E6%A0%88%E9%98%9F%E5%88%97%E5%A0%86.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/05.æ éåå .md",key:"v-5c643de7",path:"/pages/8d145e/",headers:[{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:93},{level:2,title:"30. åå« min å½æ°çæ ",slug:"_30-åå«-min-å½æ°çæ ",normalizedTitle:"30. åå« min å½æ°çæ ",charIndex:641},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:93},{level:2,title:"31. æ çåå¥ãå¼¹åºåºå",slug:"_31-æ çåå¥ãå¼¹åºåºå",normalizedTitle:"31. æ çåå¥ãå¼¹åºåºå",charIndex:1371},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-3",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-3",normalizedTitle:"è§£é¢æè·¯",charIndex:93},{level:2,title:"40. æå°ç K ä¸ªæ°",slug:"_40-æå°ç-k-ä¸ªæ°",normalizedTitle:"40. æå°ç k ä¸ªæ°",charIndex:2184},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-4",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-4",normalizedTitle:"è§£é¢æè·¯",charIndex:93},{level:4,title:"å¤§å°ä¸º K çæå°å ",slug:"å¤§å°ä¸º-k-çæå°å ",normalizedTitle:"å¤§å°ä¸º k çæå°å ",charIndex:2241},{level:4,title:"å¿«ééæ©",slug:"å¿«ééæ©",normalizedTitle:"å¿«ééæ©",charIndex:2972},{level:2,title:"41.1 æ°æ®æµä¸­çä¸­ä½æ°",slug:"_41-1-æ°æ®æµä¸­çä¸­ä½æ°",normalizedTitle:"41.1 æ°æ®æµä¸­çä¸­ä½æ°",charIndex:4329},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-5",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"ç¤ºä¾1",slug:"ç¤ºä¾1",normalizedTitle:"ç¤ºä¾1",charIndex:4483},{level:3,title:"ç¤ºä¾2",slug:"ç¤ºä¾2",normalizedTitle:"ç¤ºä¾2",charIndex:4641},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-5",normalizedTitle:"è§£é¢æè·¯",charIndex:93},{level:2,title:"41.2 å­ç¬¦æµä¸­ç¬¬ä¸ä¸ªä¸éå¤çå­ç¬¦",slug:"_41-2-å­ç¬¦æµä¸­ç¬¬ä¸ä¸ªä¸éå¤çå­ç¬¦",normalizedTitle:"41.2 å­ç¬¦æµä¸­ç¬¬ä¸ä¸ªä¸éå¤çå­ç¬¦",charIndex:5528},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-6",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"ç¤ºä¾1",slug:"ç¤ºä¾1-2",normalizedTitle:"ç¤ºä¾1",charIndex:4483},{level:3,title:"ç¤ºä¾2",slug:"ç¤ºä¾2-2",normalizedTitle:"ç¤ºä¾2",charIndex:4641},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-6",normalizedTitle:"è§£é¢æè·¯",charIndex:93},{level:2,title:"59. æ»å¨çªå£çæå¤§å¼",slug:"_59-æ»å¨çªå£çæå¤§å¼",normalizedTitle:"59. æ»å¨çªå£çæå¤§å¼",charIndex:6318},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-6",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-7",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-7",normalizedTitle:"è§£é¢æè·¯",charIndex:93}],headersStr:"é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 30. åå« min å½æ°çæ  é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 31. æ çåå¥ãå¼¹åºåºå é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 40. æå°ç K ä¸ªæ° é¢ç®é¾æ¥ è§£é¢æè·¯ å¤§å°ä¸º K çæå°å  å¿«ééæ© 41.1 æ°æ®æµä¸­çä¸­ä½æ° é¢ç®é¾æ¥ é¢ç®æè¿° ç¤ºä¾1 ç¤ºä¾2 è§£é¢æè·¯ 41.2 å­ç¬¦æµä¸­ç¬¬ä¸ä¸ªä¸éå¤çå­ç¬¦ é¢ç®æè¿° é¢ç®æè¿° ç¤ºä¾1 ç¤ºä¾2 è§£é¢æè·¯ 59. æ»å¨çªå£çæå¤§å¼ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯",content:'# 9. ç¨ä¸¤ä¸ªæ å®ç°éå\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç¨ä¸¤ä¸ªæ æ¥å®ç°ä¸ä¸ªéåï¼å®æéåç Push å Pop æä½ã\n\n\n# è§£é¢æè·¯\n\nin æ ç¨æ¥å¤çå¥æ ï¼pushï¼æä½ï¼out æ ç¨æ¥å¤çåºæ ï¼popï¼æä½ãä¸ä¸ªåç´ è¿å¥ in æ ä¹åï¼åºæ çé¡ºåºè¢«åè½¬ãå½åç´ è¦åºæ æ¶ï¼éè¦åè¿å¥ out æ ï¼æ­¤æ¶åç´ åºæ é¡ºåºåä¸æ¬¡è¢«åè½¬ï¼å æ­¤åºæ é¡ºåºå°±åæå¼å§å¥æ é¡ºåºæ¯ç¸åçï¼åè¿å¥çåç´ åéåºï¼è¿å°±æ¯éåçé¡ºåºã\n\n\n\nStack<Integer> in = new Stack<Integer>();\nStack<Integer> out = new Stack<Integer>();\n\npublic void push(int node) {\n    in.push(node);\n}\n\npublic int pop() throws Exception {\n    if (out.isEmpty())\n        while (!in.isEmpty())\n            out.push(in.pop());\n\n    if (out.isEmpty())\n        throw new Exception("queue is empty");\n\n    return out.pop();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 30. åå« min å½æ°çæ \n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå®ç°ä¸ä¸ªåå« min() å½æ°çæ ï¼è¯¥æ¹æ³è¿åå½åæ ä¸­æå°çå¼ã\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨ä¸ä¸ªé¢å¤ç minStackï¼æ é¡¶åç´ ä¸ºå½åæ ä¸­æå°çå¼ãå¨å¯¹æ è¿è¡ push å¥æ å pop åºæ æä½æ¶ï¼åæ ·éè¦å¯¹ minStack è¿è¡å¥æ åºæ æä½ï¼ä»èä½¿ minStack æ é¡¶åç´ ä¸ç´ä¸ºå½åæ ä¸­æå°çå¼ãå¨è¿è¡ push æä½æ¶ï¼éè¦æ¯è¾å¥æ åç´ åå½åæ ä¸­æå°å¼ï¼å°å¼è¾å°çåç´  push å° minStack ä¸­ã\n\n\n\nprivate Stack<Integer> dataStack = new Stack<>();\nprivate Stack<Integer> minStack = new Stack<>();\n\npublic void push(int node) {\n    dataStack.push(node);\n    minStack.push(minStack.isEmpty() ? node : Math.min(minStack.peek(), node));\n}\n\npublic void pop() {\n    dataStack.pop();\n    minStack.pop();\n}\n\npublic int top() {\n    return dataStack.peek();\n}\n\npublic int min() {\n    return minStack.peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 31. æ çåå¥ãå¼¹åºåºå\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸¤ä¸ªæ´æ°åºåï¼ç¬¬ä¸ä¸ªåºåè¡¨ç¤ºæ çåå¥é¡ºåºï¼è¯·å¤æ­ç¬¬äºä¸ªåºåæ¯å¦ä¸ºè¯¥æ çå¼¹åºé¡ºåºãåè®¾åå¥æ çæææ°å­åä¸ç¸ç­ã\n\nä¾å¦åºå 1,2,3,4,5 æ¯ææ çåå¥é¡ºåºï¼åºå 4,5,3,2,1 æ¯è¯¥åæ åºåå¯¹åºçä¸ä¸ªå¼¹åºåºåï¼ä½ 4,3,5,1,2 å°±ä¸å¯è½æ¯è¯¥åæ åºåçå¼¹åºåºåã\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨ä¸ä¸ªæ æ¥æ¨¡æåå¥å¼¹åºæä½ãæ¯æ¬¡å¥æ ä¸ä¸ªåç´ åï¼é½è¦å¤æ­ä¸ä¸æ é¡¶åç´ æ¯ä¸æ¯å½ååºæ åºå popSequence çç¬¬ä¸ä¸ªåç´ ï¼å¦ææ¯çè¯åæ§è¡åºæ æä½å¹¶å° popSequence å¾åç§»ä¸ä½ï¼ç»§ç»­è¿è¡å¤æ­ã\n\npublic boolean IsPopOrder(int[] pushSequence, int[] popSequence) {\n    int n = pushSequence.length;\n    Stack<Integer> stack = new Stack<>();\n    for (int pushIndex = 0, popIndex = 0; pushIndex < n; pushIndex++) {\n        stack.push(pushSequence[pushIndex]);\n        while (popIndex < n && !stack.isEmpty() \n                && stack.peek() == popSequence[popIndex]) {\n            stack.pop();\n            popIndex++;\n        }\n    }\n    return stack.isEmpty();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 40. æå°ç K ä¸ªæ°\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# è§£é¢æè·¯\n\n# å¤§å°ä¸º K çæå°å \n\n * å¤æåº¦ï¼O(NlogK) + O(K)\n * ç¹å«éåå¤çæµ·éæ°æ®\n\nç»´æ¤ä¸ä¸ªå¤§å°ä¸º K çæå°å è¿ç¨å¦ä¸ï¼ä½¿ç¨å¤§é¡¶å ãå¨æ·»å ä¸ä¸ªåç´ ä¹åï¼å¦æå¤§é¡¶å çå¤§å°å¤§äº Kï¼é£ä¹å°å¤§é¡¶å çå é¡¶åç´ å»é¤ï¼ä¹å°±æ¯å°å½åå ä¸­å¼æå¤§çåç´ å»é¤ï¼ä»èä½¿å¾çå¨å ä¸­çåç´ é½æ¯è¢«å»é¤çåç´ æ¥å¾å°ã\n\nåºè¯¥ä½¿ç¨å¤§é¡¶å æ¥ç»´æ¤æå°å ï¼èä¸è½ç´æ¥åå»ºä¸ä¸ªå°é¡¶å å¹¶è®¾ç½®ä¸ä¸ªå¤§å°ï¼ä¼å¾è®©å°é¡¶å ä¸­çåç´ é½æ¯æå°åç´ ã\n\nJava ç PriorityQueue å®ç°äºå çè½åï¼PriorityQueue é»è®¤æ¯å°é¡¶å ï¼å¯ä»¥å¨å¨åå§åæ¶ä½¿ç¨ Lambda è¡¨è¾¾å¼ (o1, o2) -> o2 - o1 æ¥å®ç°å¤§é¡¶å ãå¶å®è¯­è¨ä¹æç±»ä¼¼çå æ°æ®ç»æã\n\npublic ArrayList<Integer> GetLeastNumbers_Solution(int[] nums, int k) {\n    if (k > nums.length || k <= 0)\n        return new ArrayList<>();\n    PriorityQueue<Integer> maxHeap = new PriorityQueue<>((o1, o2) -> o2 - o1);\n    for (int num : nums) {\n        maxHeap.add(num);\n        if (maxHeap.size() > k)\n            maxHeap.poll();\n    }\n    return new ArrayList<>(maxHeap);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# å¿«ééæ©\n\n * å¤æåº¦ï¼O(N) + O(1)\n * åªæå½åè®¸ä¿®æ¹æ°ç»åç´ æ¶æå¯ä»¥ä½¿ç¨\n\nå¿«éæåºç partition() æ¹æ³ï¼ä¼è¿åä¸ä¸ªæ´æ° j ä½¿å¾ a[l..j-1] å°äºç­äº a[j]ï¼ä¸ a[j+1..h] å¤§äºç­äº a[j]ï¼æ­¤æ¶ a[j] å°±æ¯æ°ç»çç¬¬ j å¤§åç´ ãå¯ä»¥å©ç¨è¿ä¸ªç¹æ§æ¾åºæ°ç»çç¬¬ K ä¸ªåç´ ï¼è¿ç§æ¾ç¬¬ K ä¸ªåç´ çç®æ³ç§°ä¸ºå¿«ééæ©ç®æ³ã\n\npublic ArrayList<Integer> GetLeastNumbers_Solution(int[] nums, int k) {\n    ArrayList<Integer> ret = new ArrayList<>();\n    if (k > nums.length || k <= 0)\n        return ret;\n    findKthSmallest(nums, k - 1);\n    /* findKthSmallest ä¼æ¹åæ°ç»ï¼ä½¿å¾å k ä¸ªæ°é½æ¯æå°ç k ä¸ªæ° */\n    for (int i = 0; i < k; i++)\n        ret.add(nums[i]);\n    return ret;\n}\n\npublic void findKthSmallest(int[] nums, int k) {\n    int l = 0, h = nums.length - 1;\n    while (l < h) {\n        int j = partition(nums, l, h);\n        if (j == k)\n            break;\n        if (j > k)\n            h = j - 1;\n        else\n            l = j + 1;\n    }\n}\n\nprivate int partition(int[] nums, int l, int h) {\n    int p = nums[l];     /* åååç´  */\n    int i = l, j = h + 1;\n    while (true) {\n        while (i != h && nums[++i] < p) ;\n        while (j != l && nums[--j] > p) ;\n        if (i >= j)\n            break;\n        swap(nums, i, j);\n    }\n    swap(nums, l, j);\n    return j;\n}\n\nprivate void swap(int[] nums, int i, int j) {\n    int t = nums[i];\n    nums[i] = nums[j];\n    nums[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 41.1 æ°æ®æµä¸­çä¸­ä½æ°\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¦ä½å¾å°ä¸ä¸ªæ°æ®æµä¸­çä¸­ä½æ°ï¼å¦æä»æ°æ®æµä¸­è¯»åºå¥æ°ä¸ªæ°å¼ï¼é£ä¹ä¸­ä½æ°å°±æ¯æææ°å¼æåºä¹åä½äºä¸­é´çæ°å¼ãå¦æä»æ°æ®æµä¸­è¯»åºå¶æ°ä¸ªæ°å¼ï¼é£ä¹ä¸­ä½æ°å°±æ¯æææ°å¼æåºä¹åä¸­é´ä¸¤ä¸ªæ°çå¹³åå¼ã\n\n\n# ç¤ºä¾1\n\nè¾å¥ï¼\n\n[5,2,3,4,1,6,7,0,8]\n\n\n1\n\n\nè¿åå¼ï¼\n\n"5.00 3.50 3.00 3.50 3.00 3.50 4.00 3.50 4.00 "\n\n\n1\n\n\nè¯´æï¼\n\næ°æ®æµéé¢ä¸æ­ååºçæ¯5,2,3...,åå¾å°çå¹³åæ°åå«ä¸º5,(5+2)/2,3...   \n\n\n1\n\n\n\n# ç¤ºä¾2\n\nè¾å¥ï¼\n\n[1,1,1]\n\n\n1\n\n\nè¿åå¼ï¼\n\n"1.00 1.00 1.00 "\n\n\n1\n\n\n\n# è§£é¢æè·¯\n\n/* å¤§é¡¶å ï¼å­å¨å·¦åè¾¹åç´  */\nprivate PriorityQueue<Integer> left = new PriorityQueue<>((o1, o2) -> o2 - o1);\n/* å°é¡¶å ï¼å­å¨å³åè¾¹åç´ ï¼å¹¶ä¸å³åè¾¹åç´ é½å¤§äºå·¦åè¾¹ */\nprivate PriorityQueue<Integer> right = new PriorityQueue<>();\n/* å½åæ°æ®æµè¯»å¥çåç´ ä¸ªæ° */\nprivate int N = 0;\n\npublic void Insert(Integer val) {\n    /* æå¥è¦ä¿è¯ä¸¤ä¸ªå å­äºå¹³è¡¡ç¶æ */\n    if (N % 2 == 0) {\n        /* N ä¸ºå¶æ°çæåµä¸æå¥å°å³åè¾¹ã\n         * å ä¸ºå³åè¾¹åç´ é½è¦å¤§äºå·¦åè¾¹ï¼ä½æ¯æ°æå¥çåç´ ä¸ä¸å®æ¯å·¦åè¾¹åç´ æ¥çå¤§ï¼\n         * å æ­¤éè¦åå°åç´ æå¥å·¦åè¾¹ï¼ç¶åå©ç¨å·¦åè¾¹ä¸ºå¤§é¡¶å çç¹ç¹ï¼ååºå é¡¶åç´ å³ä¸ºæå¤§åç´ ï¼æ­¤æ¶æå¥å³åè¾¹ */\n        left.add(val);\n        right.add(left.poll());\n    } else {\n        right.add(val);\n        left.add(right.poll());\n    }\n    N++;\n}\n\npublic Double GetMedian() {\n    if (N % 2 == 0)\n        return (left.peek() + right.peek()) / 2.0;\n    else\n        return (double) right.peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 41.2 å­ç¬¦æµä¸­ç¬¬ä¸ä¸ªä¸éå¤çå­ç¬¦\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¯·å®ç°ä¸ä¸ªå½æ°ç¨æ¥æ¾åºå­ç¬¦æµä¸­ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ãä¾å¦ï¼å½ä»å­ç¬¦æµä¸­åªè¯»åºåä¸¤ä¸ªå­ç¬¦ "go" æ¶ï¼ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦æ¯ "g"ãå½ä»è¯¥å­ç¬¦æµä¸­è¯»åºåå­ä¸ªå­ç¬¦âgoogle" æ¶ï¼ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦æ¯ "l"ã\n\n\n# ç¤ºä¾1\n\nè¾å¥ï¼\n\n"google"\n\n\n1\n\n\nè¿åå¼ï¼\n\n"ggg#ll"\n\n\n1\n\n\n\n# ç¤ºä¾2\n\n"abcdee"\n\n\n1\n\n\nè¿åå¼ï¼\n\n"aaaaaa"\n\n\n1\n\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨ç»è®¡æ°ç»æ¥ç»è®¡æ¯ä¸ªå­ç¬¦åºç°çæ¬¡æ°ï¼æ¬é¢æ¶åå°çå­ç¬¦ä¸ºé½ä¸º ASCII ç ï¼å æ­¤ä½¿ç¨ä¸ä¸ªå¤§å°ä¸º 128 çæ´åæ°ç»å°±è½å®ææ¬¡æ°ç»è®¡ä»»å¡ã\n\nä½¿ç¨éåæ¥å­å¨å°è¾¾çå­ç¬¦ï¼å¹¶å¨æ¯æ¬¡ææ°çå­ç¬¦ä»å­ç¬¦æµå°è¾¾æ¶ç§»é¤éåå¤´é¨é£äºåºç°æ¬¡æ°ä¸åæ¯ä¸æ¬¡çåç´ ãå ä¸ºéåæ¯åè¿ååºé¡ºåºï¼å æ­¤éåå¤´é¨çåç´ ä¸ºç¬¬ä¸æ¬¡åªåºç°ä¸æ¬¡çå­ç¬¦ã\n\nprivate int[] cnts = new int[128];\nprivate Queue<Character> queue = new LinkedList<>();\n\npublic void Insert(char ch) {\n    cnts[ch]++;\n    queue.add(ch);\n    while (!queue.isEmpty() && cnts[queue.peek()] > 1)\n        queue.poll();\n}\n\npublic char FirstAppearingOnce() {\n    return queue.isEmpty() ? \'#\' : queue.peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 59. æ»å¨çªå£çæå¤§å¼\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªæ°ç»åæ»å¨çªå£çå¤§å°ï¼æ¾åºæææ»å¨çªå£éæ°å¼çæå¤§å¼ã\n\nä¾å¦ï¼å¦æè¾å¥æ°ç» {2, 3, 4, 2, 6, 2, 5, 1} åæ»å¨çªå£çå¤§å° 3ï¼é£ä¹ä¸å±å­å¨ 6 ä¸ªæ»å¨çªå£ï¼ä»ä»¬çæå¤§å¼åå«ä¸º {4, 4, 6, 6, 6, 5}ã\n\n\n\n\n# è§£é¢æè·¯\n\nç»´æ¤ä¸ä¸ªå¤§å°ä¸ºçªå£å¤§å°çå¤§é¡¶å ï¼é¡¶å åç´ åä¸ºå½åçªå£çæå¤§å¼ã\n\nåè®¾çªå£çå¤§å°ä¸º Mï¼æ°ç»çé¿åº¦ä¸º Nãå¨çªå£åå³ç§»å¨æ¶ï¼éè¦åå¨å ä¸­å é¤ç¦»å¼çªå£çåç´ ï¼å¹¶å°æ°å°è¾¾çåç´ æ·»å å°å ä¸­ï¼è¿ä¸¤ä¸ªæä½çæ¶é´å¤æåº¦é½ä¸º log2Mï¼å æ­¤ç®æ³çæ¶é´å¤æåº¦ä¸º O(Nlog2M)ï¼ç©ºé´å¤æåº¦ä¸º O(M)ã\n\npublic ArrayList<Integer> maxInWindows(int[] num, int size) {\n    ArrayList<Integer> ret = new ArrayList<>();\n    if (size > num.length || size < 1)\n        return ret;\n    PriorityQueue<Integer> heap = new PriorityQueue<>((o1, o2) -> o2 - o1);  /* å¤§é¡¶å  */\n    for (int i = 0; i < size; i++)\n        heap.add(num[i]);\n    ret.add(heap.peek());\n    for (int i = 0, j = i + size; j < num.length; i++, j++) {            /* ç»´æ¤ä¸ä¸ªå¤§å°ä¸º size çå¤§é¡¶å  */\n        heap.remove(num[i]);\n        heap.add(num[j]);\n        ret.add(heap.peek());\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n',normalizedContent:'# 9. ç¨ä¸¤ä¸ªæ å®ç°éå\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç¨ä¸¤ä¸ªæ æ¥å®ç°ä¸ä¸ªéåï¼å®æéåç push å pop æä½ã\n\n\n# è§£é¢æè·¯\n\nin æ ç¨æ¥å¤çå¥æ ï¼pushï¼æä½ï¼out æ ç¨æ¥å¤çåºæ ï¼popï¼æä½ãä¸ä¸ªåç´ è¿å¥ in æ ä¹åï¼åºæ çé¡ºåºè¢«åè½¬ãå½åç´ è¦åºæ æ¶ï¼éè¦åè¿å¥ out æ ï¼æ­¤æ¶åç´ åºæ é¡ºåºåä¸æ¬¡è¢«åè½¬ï¼å æ­¤åºæ é¡ºåºå°±åæå¼å§å¥æ é¡ºåºæ¯ç¸åçï¼åè¿å¥çåç´ åéåºï¼è¿å°±æ¯éåçé¡ºåºã\n\n\n\nstack<integer> in = new stack<integer>();\nstack<integer> out = new stack<integer>();\n\npublic void push(int node) {\n    in.push(node);\n}\n\npublic int pop() throws exception {\n    if (out.isempty())\n        while (!in.isempty())\n            out.push(in.pop());\n\n    if (out.isempty())\n        throw new exception("queue is empty");\n\n    return out.pop();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 30. åå« min å½æ°çæ \n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå®ç°ä¸ä¸ªåå« min() å½æ°çæ ï¼è¯¥æ¹æ³è¿åå½åæ ä¸­æå°çå¼ã\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨ä¸ä¸ªé¢å¤ç minstackï¼æ é¡¶åç´ ä¸ºå½åæ ä¸­æå°çå¼ãå¨å¯¹æ è¿è¡ push å¥æ å pop åºæ æä½æ¶ï¼åæ ·éè¦å¯¹ minstack è¿è¡å¥æ åºæ æä½ï¼ä»èä½¿ minstack æ é¡¶åç´ ä¸ç´ä¸ºå½åæ ä¸­æå°çå¼ãå¨è¿è¡ push æä½æ¶ï¼éè¦æ¯è¾å¥æ åç´ åå½åæ ä¸­æå°å¼ï¼å°å¼è¾å°çåç´  push å° minstack ä¸­ã\n\n\n\nprivate stack<integer> datastack = new stack<>();\nprivate stack<integer> minstack = new stack<>();\n\npublic void push(int node) {\n    datastack.push(node);\n    minstack.push(minstack.isempty() ? node : math.min(minstack.peek(), node));\n}\n\npublic void pop() {\n    datastack.pop();\n    minstack.pop();\n}\n\npublic int top() {\n    return datastack.peek();\n}\n\npublic int min() {\n    return minstack.peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 31. æ çåå¥ãå¼¹åºåºå\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸¤ä¸ªæ´æ°åºåï¼ç¬¬ä¸ä¸ªåºåè¡¨ç¤ºæ çåå¥é¡ºåºï¼è¯·å¤æ­ç¬¬äºä¸ªåºåæ¯å¦ä¸ºè¯¥æ çå¼¹åºé¡ºåºãåè®¾åå¥æ çæææ°å­åä¸ç¸ç­ã\n\nä¾å¦åºå 1,2,3,4,5 æ¯ææ çåå¥é¡ºåºï¼åºå 4,5,3,2,1 æ¯è¯¥åæ åºåå¯¹åºçä¸ä¸ªå¼¹åºåºåï¼ä½ 4,3,5,1,2 å°±ä¸å¯è½æ¯è¯¥åæ åºåçå¼¹åºåºåã\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨ä¸ä¸ªæ æ¥æ¨¡æåå¥å¼¹åºæä½ãæ¯æ¬¡å¥æ ä¸ä¸ªåç´ åï¼é½è¦å¤æ­ä¸ä¸æ é¡¶åç´ æ¯ä¸æ¯å½ååºæ åºå popsequence çç¬¬ä¸ä¸ªåç´ ï¼å¦ææ¯çè¯åæ§è¡åºæ æä½å¹¶å° popsequence å¾åç§»ä¸ä½ï¼ç»§ç»­è¿è¡å¤æ­ã\n\npublic boolean ispoporder(int[] pushsequence, int[] popsequence) {\n    int n = pushsequence.length;\n    stack<integer> stack = new stack<>();\n    for (int pushindex = 0, popindex = 0; pushindex < n; pushindex++) {\n        stack.push(pushsequence[pushindex]);\n        while (popindex < n && !stack.isempty() \n                && stack.peek() == popsequence[popindex]) {\n            stack.pop();\n            popindex++;\n        }\n    }\n    return stack.isempty();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 40. æå°ç k ä¸ªæ°\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# è§£é¢æè·¯\n\n# å¤§å°ä¸º k çæå°å \n\n * å¤æåº¦ï¼o(nlogk) + o(k)\n * ç¹å«éåå¤çæµ·éæ°æ®\n\nç»´æ¤ä¸ä¸ªå¤§å°ä¸º k çæå°å è¿ç¨å¦ä¸ï¼ä½¿ç¨å¤§é¡¶å ãå¨æ·»å ä¸ä¸ªåç´ ä¹åï¼å¦æå¤§é¡¶å çå¤§å°å¤§äº kï¼é£ä¹å°å¤§é¡¶å çå é¡¶åç´ å»é¤ï¼ä¹å°±æ¯å°å½åå ä¸­å¼æå¤§çåç´ å»é¤ï¼ä»èä½¿å¾çå¨å ä¸­çåç´ é½æ¯è¢«å»é¤çåç´ æ¥å¾å°ã\n\nåºè¯¥ä½¿ç¨å¤§é¡¶å æ¥ç»´æ¤æå°å ï¼èä¸è½ç´æ¥åå»ºä¸ä¸ªå°é¡¶å å¹¶è®¾ç½®ä¸ä¸ªå¤§å°ï¼ä¼å¾è®©å°é¡¶å ä¸­çåç´ é½æ¯æå°åç´ ã\n\njava ç priorityqueue å®ç°äºå çè½åï¼priorityqueue é»è®¤æ¯å°é¡¶å ï¼å¯ä»¥å¨å¨åå§åæ¶ä½¿ç¨ lambda è¡¨è¾¾å¼ (o1, o2) -> o2 - o1 æ¥å®ç°å¤§é¡¶å ãå¶å®è¯­è¨ä¹æç±»ä¼¼çå æ°æ®ç»æã\n\npublic arraylist<integer> getleastnumbers_solution(int[] nums, int k) {\n    if (k > nums.length || k <= 0)\n        return new arraylist<>();\n    priorityqueue<integer> maxheap = new priorityqueue<>((o1, o2) -> o2 - o1);\n    for (int num : nums) {\n        maxheap.add(num);\n        if (maxheap.size() > k)\n            maxheap.poll();\n    }\n    return new arraylist<>(maxheap);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# å¿«ééæ©\n\n * å¤æåº¦ï¼o(n) + o(1)\n * åªæå½åè®¸ä¿®æ¹æ°ç»åç´ æ¶æå¯ä»¥ä½¿ç¨\n\nå¿«éæåºç partition() æ¹æ³ï¼ä¼è¿åä¸ä¸ªæ´æ° j ä½¿å¾ a[l..j-1] å°äºç­äº a[j]ï¼ä¸ a[j+1..h] å¤§äºç­äº a[j]ï¼æ­¤æ¶ a[j] å°±æ¯æ°ç»çç¬¬ j å¤§åç´ ãå¯ä»¥å©ç¨è¿ä¸ªç¹æ§æ¾åºæ°ç»çç¬¬ k ä¸ªåç´ ï¼è¿ç§æ¾ç¬¬ k ä¸ªåç´ çç®æ³ç§°ä¸ºå¿«ééæ©ç®æ³ã\n\npublic arraylist<integer> getleastnumbers_solution(int[] nums, int k) {\n    arraylist<integer> ret = new arraylist<>();\n    if (k > nums.length || k <= 0)\n        return ret;\n    findkthsmallest(nums, k - 1);\n    /* findkthsmallest ä¼æ¹åæ°ç»ï¼ä½¿å¾å k ä¸ªæ°é½æ¯æå°ç k ä¸ªæ° */\n    for (int i = 0; i < k; i++)\n        ret.add(nums[i]);\n    return ret;\n}\n\npublic void findkthsmallest(int[] nums, int k) {\n    int l = 0, h = nums.length - 1;\n    while (l < h) {\n        int j = partition(nums, l, h);\n        if (j == k)\n            break;\n        if (j > k)\n            h = j - 1;\n        else\n            l = j + 1;\n    }\n}\n\nprivate int partition(int[] nums, int l, int h) {\n    int p = nums[l];     /* åååç´  */\n    int i = l, j = h + 1;\n    while (true) {\n        while (i != h && nums[++i] < p) ;\n        while (j != l && nums[--j] > p) ;\n        if (i >= j)\n            break;\n        swap(nums, i, j);\n    }\n    swap(nums, l, j);\n    return j;\n}\n\nprivate void swap(int[] nums, int i, int j) {\n    int t = nums[i];\n    nums[i] = nums[j];\n    nums[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 41.1 æ°æ®æµä¸­çä¸­ä½æ°\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¦ä½å¾å°ä¸ä¸ªæ°æ®æµä¸­çä¸­ä½æ°ï¼å¦æä»æ°æ®æµä¸­è¯»åºå¥æ°ä¸ªæ°å¼ï¼é£ä¹ä¸­ä½æ°å°±æ¯æææ°å¼æåºä¹åä½äºä¸­é´çæ°å¼ãå¦æä»æ°æ®æµä¸­è¯»åºå¶æ°ä¸ªæ°å¼ï¼é£ä¹ä¸­ä½æ°å°±æ¯æææ°å¼æåºä¹åä¸­é´ä¸¤ä¸ªæ°çå¹³åå¼ã\n\n\n# ç¤ºä¾1\n\nè¾å¥ï¼\n\n[5,2,3,4,1,6,7,0,8]\n\n\n1\n\n\nè¿åå¼ï¼\n\n"5.00 3.50 3.00 3.50 3.00 3.50 4.00 3.50 4.00 "\n\n\n1\n\n\nè¯´æï¼\n\næ°æ®æµéé¢ä¸æ­ååºçæ¯5,2,3...,åå¾å°çå¹³åæ°åå«ä¸º5,(5+2)/2,3...   \n\n\n1\n\n\n\n# ç¤ºä¾2\n\nè¾å¥ï¼\n\n[1,1,1]\n\n\n1\n\n\nè¿åå¼ï¼\n\n"1.00 1.00 1.00 "\n\n\n1\n\n\n\n# è§£é¢æè·¯\n\n/* å¤§é¡¶å ï¼å­å¨å·¦åè¾¹åç´  */\nprivate priorityqueue<integer> left = new priorityqueue<>((o1, o2) -> o2 - o1);\n/* å°é¡¶å ï¼å­å¨å³åè¾¹åç´ ï¼å¹¶ä¸å³åè¾¹åç´ é½å¤§äºå·¦åè¾¹ */\nprivate priorityqueue<integer> right = new priorityqueue<>();\n/* å½åæ°æ®æµè¯»å¥çåç´ ä¸ªæ° */\nprivate int n = 0;\n\npublic void insert(integer val) {\n    /* æå¥è¦ä¿è¯ä¸¤ä¸ªå å­äºå¹³è¡¡ç¶æ */\n    if (n % 2 == 0) {\n        /* n ä¸ºå¶æ°çæåµä¸æå¥å°å³åè¾¹ã\n         * å ä¸ºå³åè¾¹åç´ é½è¦å¤§äºå·¦åè¾¹ï¼ä½æ¯æ°æå¥çåç´ ä¸ä¸å®æ¯å·¦åè¾¹åç´ æ¥çå¤§ï¼\n         * å æ­¤éè¦åå°åç´ æå¥å·¦åè¾¹ï¼ç¶åå©ç¨å·¦åè¾¹ä¸ºå¤§é¡¶å çç¹ç¹ï¼ååºå é¡¶åç´ å³ä¸ºæå¤§åç´ ï¼æ­¤æ¶æå¥å³åè¾¹ */\n        left.add(val);\n        right.add(left.poll());\n    } else {\n        right.add(val);\n        left.add(right.poll());\n    }\n    n++;\n}\n\npublic double getmedian() {\n    if (n % 2 == 0)\n        return (left.peek() + right.peek()) / 2.0;\n    else\n        return (double) right.peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 41.2 å­ç¬¦æµä¸­ç¬¬ä¸ä¸ªä¸éå¤çå­ç¬¦\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¯·å®ç°ä¸ä¸ªå½æ°ç¨æ¥æ¾åºå­ç¬¦æµä¸­ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦ãä¾å¦ï¼å½ä»å­ç¬¦æµä¸­åªè¯»åºåä¸¤ä¸ªå­ç¬¦ "go" æ¶ï¼ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦æ¯ "g"ãå½ä»è¯¥å­ç¬¦æµä¸­è¯»åºåå­ä¸ªå­ç¬¦âgoogle" æ¶ï¼ç¬¬ä¸ä¸ªåªåºç°ä¸æ¬¡çå­ç¬¦æ¯ "l"ã\n\n\n# ç¤ºä¾1\n\nè¾å¥ï¼\n\n"google"\n\n\n1\n\n\nè¿åå¼ï¼\n\n"ggg#ll"\n\n\n1\n\n\n\n# ç¤ºä¾2\n\n"abcdee"\n\n\n1\n\n\nè¿åå¼ï¼\n\n"aaaaaa"\n\n\n1\n\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨ç»è®¡æ°ç»æ¥ç»è®¡æ¯ä¸ªå­ç¬¦åºç°çæ¬¡æ°ï¼æ¬é¢æ¶åå°çå­ç¬¦ä¸ºé½ä¸º ascii ç ï¼å æ­¤ä½¿ç¨ä¸ä¸ªå¤§å°ä¸º 128 çæ´åæ°ç»å°±è½å®ææ¬¡æ°ç»è®¡ä»»å¡ã\n\nä½¿ç¨éåæ¥å­å¨å°è¾¾çå­ç¬¦ï¼å¹¶å¨æ¯æ¬¡ææ°çå­ç¬¦ä»å­ç¬¦æµå°è¾¾æ¶ç§»é¤éåå¤´é¨é£äºåºç°æ¬¡æ°ä¸åæ¯ä¸æ¬¡çåç´ ãå ä¸ºéåæ¯åè¿ååºé¡ºåºï¼å æ­¤éåå¤´é¨çåç´ ä¸ºç¬¬ä¸æ¬¡åªåºç°ä¸æ¬¡çå­ç¬¦ã\n\nprivate int[] cnts = new int[128];\nprivate queue<character> queue = new linkedlist<>();\n\npublic void insert(char ch) {\n    cnts[ch]++;\n    queue.add(ch);\n    while (!queue.isempty() && cnts[queue.peek()] > 1)\n        queue.poll();\n}\n\npublic char firstappearingonce() {\n    return queue.isempty() ? \'#\' : queue.peek();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 59. æ»å¨çªå£çæå¤§å¼\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªæ°ç»åæ»å¨çªå£çå¤§å°ï¼æ¾åºæææ»å¨çªå£éæ°å¼çæå¤§å¼ã\n\nä¾å¦ï¼å¦æè¾å¥æ°ç» {2, 3, 4, 2, 6, 2, 5, 1} åæ»å¨çªå£çå¤§å° 3ï¼é£ä¹ä¸å±å­å¨ 6 ä¸ªæ»å¨çªå£ï¼ä»ä»¬çæå¤§å¼åå«ä¸º {4, 4, 6, 6, 6, 5}ã\n\n\n\n\n# è§£é¢æè·¯\n\nç»´æ¤ä¸ä¸ªå¤§å°ä¸ºçªå£å¤§å°çå¤§é¡¶å ï¼é¡¶å åç´ åä¸ºå½åçªå£çæå¤§å¼ã\n\nåè®¾çªå£çå¤§å°ä¸º mï¼æ°ç»çé¿åº¦ä¸º nãå¨çªå£åå³ç§»å¨æ¶ï¼éè¦åå¨å ä¸­å é¤ç¦»å¼çªå£çåç´ ï¼å¹¶å°æ°å°è¾¾çåç´ æ·»å å°å ä¸­ï¼è¿ä¸¤ä¸ªæä½çæ¶é´å¤æåº¦é½ä¸º log2mï¼å æ­¤ç®æ³çæ¶é´å¤æåº¦ä¸º o(nlog2m)ï¼ç©ºé´å¤æåº¦ä¸º o(m)ã\n\npublic arraylist<integer> maxinwindows(int[] num, int size) {\n    arraylist<integer> ret = new arraylist<>();\n    if (size > num.length || size < 1)\n        return ret;\n    priorityqueue<integer> heap = new priorityqueue<>((o1, o2) -> o2 - o1);  /* å¤§é¡¶å  */\n    for (int i = 0; i < size; i++)\n        heap.add(num[i]);\n    ret.add(heap.peek());\n    for (int i = 0, j = i + size; j < num.length; i++, j++) {            /* ç»´æ¤ä¸ä¸ªå¤§å°ä¸º size çå¤§é¡¶å  */\n        heap.remove(num[i]);\n        heap.add(num[j]);\n        ret.add(heap.peek());\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"åæé",frontmatter:{title:"åæé",date:"2022-10-12T22:57:42.000Z",permalink:"/pages/4b7917/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/06.%E5%8F%8C%E6%8C%87%E9%92%88.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/06.åæé.md",key:"v-24153295",path:"/pages/4b7917/",headers:[{level:2,title:"57.1 åä¸º S çä¸¤ä¸ªæ°å­",slug:"_57-1-åä¸º-s-çä¸¤ä¸ªæ°å­",normalizedTitle:"57.1 åä¸º s çä¸¤ä¸ªæ°å­",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:22},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"57.2 åä¸º S çè¿ç»­æ­£æ°åºå",slug:"_57-2-åä¸º-s-çè¿ç»­æ­£æ°åºå",normalizedTitle:"57.2 åä¸º s çè¿ç»­æ­£æ°åºå",charIndex:717},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"58.1 ç¿»è½¬åè¯é¡ºåºå",slug:"_58-1-ç¿»è½¬åè¯é¡ºåºå",normalizedTitle:"58.1 ç¿»è½¬åè¯é¡ºåºå",charIndex:1621},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-3",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"58.1 ç¿»è½¬åè¯é¡ºåºå",slug:"_58-1-ç¿»è½¬åè¯é¡ºåºå-2",normalizedTitle:"58.1 ç¿»è½¬åè¯é¡ºåºå",charIndex:1621},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-6",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-7",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-4",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"58.2 å·¦æè½¬å­ç¬¦ä¸²",slug:"_58-2-å·¦æè½¬å­ç¬¦ä¸²",normalizedTitle:"58.2 å·¦æè½¬å­ç¬¦ä¸²",charIndex:3427},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:22},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-8",normalizedTitle:"é¢ç®æè¿°",charIndex:54},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-5",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"22. é¾è¡¨ä¸­åæ°ç¬¬ K ä¸ªç»ç¹",slug:"_22-é¾è¡¨ä¸­åæ°ç¬¬-k-ä¸ªç»ç¹",normalizedTitle:"22. é¾è¡¨ä¸­åæ°ç¬¬ k ä¸ªç»ç¹",charIndex:4219},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-6",normalizedTitle:"è§£é¢æè·¯",charIndex:114}],headersStr:"57.1 åä¸º S çä¸¤ä¸ªæ°å­ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 57.2 åä¸º S çè¿ç»­æ­£æ°åºå é¢ç®æè¿° é¢ç®æè¿° è§£é¢æè·¯ 58.1 ç¿»è½¬åè¯é¡ºåºå é¢ç®æè¿° é¢ç®æè¿° è§£é¢æè·¯ 58.1 ç¿»è½¬åè¯é¡ºåºå é¢ç®æè¿° é¢ç®æè¿° è§£é¢æè·¯ 58.2 å·¦æè½¬å­ç¬¦ä¸² é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 22. é¾è¡¨ä¸­åæ°ç¬¬ K ä¸ªç»ç¹ è§£é¢æè·¯",content:'# 57.1 åä¸º S çä¸¤ä¸ªæ°å­\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨æåºæ°ç»ä¸­æ¾åºä¸¤ä¸ªæ°ï¼ä½¿å¾åä¸ºç»å®çæ° Sãå¦ææå¤å¯¹æ°å­çåç­äº Sï¼è¾åºä¸¤ä¸ªæ°çä¹ç§¯æå°çã\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨åæéï¼ä¸ä¸ªæéæååç´ è¾å°çå¼ï¼ä¸ä¸ªæéæååç´ è¾å¤§çå¼ãæåè¾å°åç´ çæéä»å¤´åå°¾éåï¼æåè¾å¤§åç´ çæéä»å°¾åå¤´éåã\n\n * å¦æä¸¤ä¸ªæéæååç´ çå sum == targetï¼é£ä¹è¿ä¸¤ä¸ªåç´ å³ä¸ºææ±ã\n * å¦æ sum > targetï¼ç§»å¨è¾å¤§çåç´ ï¼ä½¿ sum åå°ä¸äºï¼\n * å¦æ sum < targetï¼ç§»å¨è¾å°çåç´ ï¼ä½¿ sum åå¤§ä¸äºã\n\npublic ArrayList<Integer> FindNumbersWithSum(int[] nums, int target) {\n    int i = 0, j = nums.length - 1;\n    while (i < j) {\n        int cur = nums[i] + array[j];\n        if (cur == target)\n            return new ArrayList<>(Arrays.asList(nums[i], nums[j]));\n        if (cur < target)\n            i++;\n        else\n            j--;\n    }\n    return new ArrayList<>();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 57.2 åä¸º S çè¿ç»­æ­£æ°åºå\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾åºææåä¸º S çè¿ç»­æ­£æ°åºåãä¾å¦åä¸º 100 çè¿ç»­åºåæï¼\n\n[9, 10, 11, 12, 13, 14, 15, 16]\n[18, 19, 20, 21, 22]ã\n\n\n1\n2\n\n\n\n# è§£é¢æè·¯\n\npublic ArrayList<ArrayList<Integer>> FindContinuousSequence(int sum) {\n    ArrayList<ArrayList<Integer>> ret = new ArrayList<>();\n    int start = 1, end = 2;\n    int curSum = 3;\n    while (end < sum) {\n        if (curSum > sum) {\n            curSum -= start;\n            start++;\n        } else if (curSum < sum) {\n            end++;\n            curSum += end;\n        } else {\n            ArrayList<Integer> list = new ArrayList<>();\n            for (int i = start; i <= end; i++)\n                list.add(i);\n            ret.add(list);\n            curSum -= start;\n            start++;\n            end++;\n            curSum += end;\n        }\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 58.1 ç¿»è½¬åè¯é¡ºåºå\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nInput:\n"I am a student."\n\nOutput:\n"student. a am I"\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nåç¿»è½¬æ¯ä¸ªåè¯ï¼åç¿»è½¬æ´ä¸ªå­ç¬¦ä¸²ã\n\né¢ç®åºè¯¥æä¸ä¸ªéå«æ¡ä»¶ï¼å°±æ¯ä¸è½ç¨é¢å¤çç©ºé´ãè½ç¶ Java çé¢ç®è¾å¥åæ°ä¸º String ç±»åï¼éè¦ååå»ºä¸ä¸ªå­ç¬¦æ°ç»ä½¿å¾ç©ºé´å¤æåº¦ä¸º O(N)ï¼ä½æ¯æ­£ç¡®çåæ°ç±»ååºè¯¥ååä¹¦ä¸æ ·ï¼ä¸ºå­ç¬¦æ°ç»ï¼å¹¶ä¸åªè½ä½¿ç¨è¯¥å­ç¬¦æ°ç»çç©ºé´ãä»»ä½ä½¿ç¨äºé¢å¤ç©ºé´çè§£æ³å¨é¢è¯æ¶é½ä¼å¤§æææ£ï¼åæ¬éå½è§£æ³ã\n\npublic String ReverseSentence(String str) {\n    int n = str.length();\n    char[] chars = str.toCharArray();\n    int i = 0, j = 0;\n    while (j <= n) {\n        if (j == n || chars[j] == \' \') {\n            reverse(chars, i, j - 1);\n            i = j + 1;\n        }\n        j++;\n    }\n    reverse(chars, 0, n - 1);\n    return new String(chars);\n}\n\nprivate void reverse(char[] c, int i, int j) {\n    while (i < j)\n        swap(c, i++, j--);\n}\n\nprivate void swap(char[] c, int i, int j) {\n    char t = c[i];\n    c[i] = c[j];\n    c[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 58.1 ç¿»è½¬åè¯é¡ºåºå\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nInput:\n"I am a student."\n\nOutput:\n"student. a am I"\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nåç¿»è½¬æ¯ä¸ªåè¯ï¼åç¿»è½¬æ´ä¸ªå­ç¬¦ä¸²ã\n\né¢ç®åºè¯¥æä¸ä¸ªéå«æ¡ä»¶ï¼å°±æ¯ä¸è½ç¨é¢å¤çç©ºé´ãè½ç¶ Java çé¢ç®è¾å¥åæ°ä¸º String ç±»åï¼éè¦ååå»ºä¸ä¸ªå­ç¬¦æ°ç»ä½¿å¾ç©ºé´å¤æåº¦ä¸º O(N)ï¼ä½æ¯æ­£ç¡®çåæ°ç±»ååºè¯¥ååä¹¦ä¸æ ·ï¼ä¸ºå­ç¬¦æ°ç»ï¼å¹¶ä¸åªè½ä½¿ç¨è¯¥å­ç¬¦æ°ç»çç©ºé´ãä»»ä½ä½¿ç¨äºé¢å¤ç©ºé´çè§£æ³å¨é¢è¯æ¶é½ä¼å¤§æææ£ï¼åæ¬éå½è§£æ³ã\n\npublic String ReverseSentence(String str) {\n    int n = str.length();\n    char[] chars = str.toCharArray();\n    int i = 0, j = 0;\n    while (j <= n) {\n        if (j == n || chars[j] == \' \') {\n            reverse(chars, i, j - 1);\n            i = j + 1;\n        }\n        j++;\n    }\n    reverse(chars, 0, n - 1);\n    return new String(chars);\n}\n\nprivate void reverse(char[] c, int i, int j) {\n    while (i < j)\n        swap(c, i++, j--);\n}\n\nprivate void swap(char[] c, int i, int j) {\n    char t = c[i];\n    c[i] = c[j];\n    c[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 58.2 å·¦æè½¬å­ç¬¦ä¸²\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå°å­ç¬¦ä¸² S ä»ç¬¬ K ä½ç½®åéæä¸¤ä¸ªå­å­ç¬¦ä¸²ï¼å¹¶äº¤æ¢è¿ä¸¤ä¸ªå­å­ç¬¦ä¸²çä½ç½®ã\n\nInput:\nS="abcXYZdef"\nK=3\n\nOutput:\n"XYZdefabc"\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# è§£é¢æè·¯\n\nåå° "abc" å "XYZdef" åå«ç¿»è½¬ï¼å¾å° "cbafedZYX"ï¼ç¶ååææ´ä¸ªå­ç¬¦ä¸²ç¿»è½¬å¾å° "XYZdefabc"ã\n\npublic String LeftRotateString(String str, int n) {\n    if (n >= str.length())\n        return str;\n    char[] chars = str.toCharArray();\n    reverse(chars, 0, n - 1);\n    reverse(chars, n, chars.length - 1);\n    reverse(chars, 0, chars.length - 1);\n    return new String(chars);\n}\n\nprivate void reverse(char[] chars, int i, int j) {\n    while (i < j)\n        swap(chars, i++, j--);\n}\n\nprivate void swap(char[] chars, int i, int j) {\n    char t = chars[i];\n    chars[i] = chars[j];\n    chars[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 22. é¾è¡¨ä¸­åæ°ç¬¬ K ä¸ªç»ç¹\n\nçå®¢ç½(opens new window)\n\n\n# è§£é¢æè·¯\n\nè®¾é¾è¡¨çé¿åº¦ä¸º Nãè®¾ç½®ä¸¤ä¸ªæé P1 å P2ï¼åè®© P1 ç§»å¨ K ä¸ªèç¹ï¼åè¿æ N - K ä¸ªèç¹å¯ä»¥ç§»å¨ãæ­¤æ¶è®© P1 å P2 åæ¶ç§»å¨ï¼å¯ä»¥ç¥éå½ P1 ç§»å¨å°é¾è¡¨ç»å°¾æ¶ï¼P2 ç§»å¨å°ç¬¬ N - K ä¸ªèç¹å¤ï¼è¯¥ä½ç½®å°±æ¯åæ°ç¬¬ K ä¸ªèç¹ã\n\n\n\npublic ListNode FindKthToTail(ListNode head, int k) {\n    if (head == null)\n        return null;\n    ListNode P1 = head;\n    while (P1 != null && k-- > 0)\n        P1 = P1.next;\n    if (k > 0)\n        return null;\n    ListNode P2 = head;\n    while (P1 != null) {\n        P1 = P1.next;\n        P2 = P2.next;\n    }\n    return P2;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n',normalizedContent:'# 57.1 åä¸º s çä¸¤ä¸ªæ°å­\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨æåºæ°ç»ä¸­æ¾åºä¸¤ä¸ªæ°ï¼ä½¿å¾åä¸ºç»å®çæ° sãå¦ææå¤å¯¹æ°å­çåç­äº sï¼è¾åºä¸¤ä¸ªæ°çä¹ç§¯æå°çã\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨åæéï¼ä¸ä¸ªæéæååç´ è¾å°çå¼ï¼ä¸ä¸ªæéæååç´ è¾å¤§çå¼ãæåè¾å°åç´ çæéä»å¤´åå°¾éåï¼æåè¾å¤§åç´ çæéä»å°¾åå¤´éåã\n\n * å¦æä¸¤ä¸ªæéæååç´ çå sum == targetï¼é£ä¹è¿ä¸¤ä¸ªåç´ å³ä¸ºææ±ã\n * å¦æ sum > targetï¼ç§»å¨è¾å¤§çåç´ ï¼ä½¿ sum åå°ä¸äºï¼\n * å¦æ sum < targetï¼ç§»å¨è¾å°çåç´ ï¼ä½¿ sum åå¤§ä¸äºã\n\npublic arraylist<integer> findnumberswithsum(int[] nums, int target) {\n    int i = 0, j = nums.length - 1;\n    while (i < j) {\n        int cur = nums[i] + array[j];\n        if (cur == target)\n            return new arraylist<>(arrays.aslist(nums[i], nums[j]));\n        if (cur < target)\n            i++;\n        else\n            j--;\n    }\n    return new arraylist<>();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 57.2 åä¸º s çè¿ç»­æ­£æ°åºå\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾åºææåä¸º s çè¿ç»­æ­£æ°åºåãä¾å¦åä¸º 100 çè¿ç»­åºåæï¼\n\n[9, 10, 11, 12, 13, 14, 15, 16]\n[18, 19, 20, 21, 22]ã\n\n\n1\n2\n\n\n\n# è§£é¢æè·¯\n\npublic arraylist<arraylist<integer>> findcontinuoussequence(int sum) {\n    arraylist<arraylist<integer>> ret = new arraylist<>();\n    int start = 1, end = 2;\n    int cursum = 3;\n    while (end < sum) {\n        if (cursum > sum) {\n            cursum -= start;\n            start++;\n        } else if (cursum < sum) {\n            end++;\n            cursum += end;\n        } else {\n            arraylist<integer> list = new arraylist<>();\n            for (int i = start; i <= end; i++)\n                list.add(i);\n            ret.add(list);\n            cursum -= start;\n            start++;\n            end++;\n            cursum += end;\n        }\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 58.1 ç¿»è½¬åè¯é¡ºåºå\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\ninput:\n"i am a student."\n\noutput:\n"student. a am i"\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nåç¿»è½¬æ¯ä¸ªåè¯ï¼åç¿»è½¬æ´ä¸ªå­ç¬¦ä¸²ã\n\né¢ç®åºè¯¥æä¸ä¸ªéå«æ¡ä»¶ï¼å°±æ¯ä¸è½ç¨é¢å¤çç©ºé´ãè½ç¶ java çé¢ç®è¾å¥åæ°ä¸º string ç±»åï¼éè¦ååå»ºä¸ä¸ªå­ç¬¦æ°ç»ä½¿å¾ç©ºé´å¤æåº¦ä¸º o(n)ï¼ä½æ¯æ­£ç¡®çåæ°ç±»ååºè¯¥ååä¹¦ä¸æ ·ï¼ä¸ºå­ç¬¦æ°ç»ï¼å¹¶ä¸åªè½ä½¿ç¨è¯¥å­ç¬¦æ°ç»çç©ºé´ãä»»ä½ä½¿ç¨äºé¢å¤ç©ºé´çè§£æ³å¨é¢è¯æ¶é½ä¼å¤§æææ£ï¼åæ¬éå½è§£æ³ã\n\npublic string reversesentence(string str) {\n    int n = str.length();\n    char[] chars = str.tochararray();\n    int i = 0, j = 0;\n    while (j <= n) {\n        if (j == n || chars[j] == \' \') {\n            reverse(chars, i, j - 1);\n            i = j + 1;\n        }\n        j++;\n    }\n    reverse(chars, 0, n - 1);\n    return new string(chars);\n}\n\nprivate void reverse(char[] c, int i, int j) {\n    while (i < j)\n        swap(c, i++, j--);\n}\n\nprivate void swap(char[] c, int i, int j) {\n    char t = c[i];\n    c[i] = c[j];\n    c[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 58.1 ç¿»è½¬åè¯é¡ºåºå\n\n\n# é¢ç®æè¿°\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\ninput:\n"i am a student."\n\noutput:\n"student. a am i"\n\n\n1\n2\n3\n4\n5\n\n\n\n# è§£é¢æè·¯\n\nåç¿»è½¬æ¯ä¸ªåè¯ï¼åç¿»è½¬æ´ä¸ªå­ç¬¦ä¸²ã\n\né¢ç®åºè¯¥æä¸ä¸ªéå«æ¡ä»¶ï¼å°±æ¯ä¸è½ç¨é¢å¤çç©ºé´ãè½ç¶ java çé¢ç®è¾å¥åæ°ä¸º string ç±»åï¼éè¦ååå»ºä¸ä¸ªå­ç¬¦æ°ç»ä½¿å¾ç©ºé´å¤æåº¦ä¸º o(n)ï¼ä½æ¯æ­£ç¡®çåæ°ç±»ååºè¯¥ååä¹¦ä¸æ ·ï¼ä¸ºå­ç¬¦æ°ç»ï¼å¹¶ä¸åªè½ä½¿ç¨è¯¥å­ç¬¦æ°ç»çç©ºé´ãä»»ä½ä½¿ç¨äºé¢å¤ç©ºé´çè§£æ³å¨é¢è¯æ¶é½ä¼å¤§æææ£ï¼åæ¬éå½è§£æ³ã\n\npublic string reversesentence(string str) {\n    int n = str.length();\n    char[] chars = str.tochararray();\n    int i = 0, j = 0;\n    while (j <= n) {\n        if (j == n || chars[j] == \' \') {\n            reverse(chars, i, j - 1);\n            i = j + 1;\n        }\n        j++;\n    }\n    reverse(chars, 0, n - 1);\n    return new string(chars);\n}\n\nprivate void reverse(char[] c, int i, int j) {\n    while (i < j)\n        swap(c, i++, j--);\n}\n\nprivate void swap(char[] c, int i, int j) {\n    char t = c[i];\n    c[i] = c[j];\n    c[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 58.2 å·¦æè½¬å­ç¬¦ä¸²\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå°å­ç¬¦ä¸² s ä»ç¬¬ k ä½ç½®åéæä¸¤ä¸ªå­å­ç¬¦ä¸²ï¼å¹¶äº¤æ¢è¿ä¸¤ä¸ªå­å­ç¬¦ä¸²çä½ç½®ã\n\ninput:\ns="abcxyzdef"\nk=3\n\noutput:\n"xyzdefabc"\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# è§£é¢æè·¯\n\nåå° "abc" å "xyzdef" åå«ç¿»è½¬ï¼å¾å° "cbafedzyx"ï¼ç¶ååææ´ä¸ªå­ç¬¦ä¸²ç¿»è½¬å¾å° "xyzdefabc"ã\n\npublic string leftrotatestring(string str, int n) {\n    if (n >= str.length())\n        return str;\n    char[] chars = str.tochararray();\n    reverse(chars, 0, n - 1);\n    reverse(chars, n, chars.length - 1);\n    reverse(chars, 0, chars.length - 1);\n    return new string(chars);\n}\n\nprivate void reverse(char[] chars, int i, int j) {\n    while (i < j)\n        swap(chars, i++, j--);\n}\n\nprivate void swap(char[] chars, int i, int j) {\n    char t = chars[i];\n    chars[i] = chars[j];\n    chars[j] = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 22. é¾è¡¨ä¸­åæ°ç¬¬ k ä¸ªç»ç¹\n\nçå®¢ç½(opens new window)\n\n\n# è§£é¢æè·¯\n\nè®¾é¾è¡¨çé¿åº¦ä¸º nãè®¾ç½®ä¸¤ä¸ªæé p1 å p2ï¼åè®© p1 ç§»å¨ k ä¸ªèç¹ï¼åè¿æ n - k ä¸ªèç¹å¯ä»¥ç§»å¨ãæ­¤æ¶è®© p1 å p2 åæ¶ç§»å¨ï¼å¯ä»¥ç¥éå½ p1 ç§»å¨å°é¾è¡¨ç»å°¾æ¶ï¼p2 ç§»å¨å°ç¬¬ n - k ä¸ªèç¹å¤ï¼è¯¥ä½ç½®å°±æ¯åæ°ç¬¬ k ä¸ªèç¹ã\n\n\n\npublic listnode findkthtotail(listnode head, int k) {\n    if (head == null)\n        return null;\n    listnode p1 = head;\n    while (p1 != null && k-- > 0)\n        p1 = p1.next;\n    if (k > 0)\n        return null;\n    listnode p2 = head;\n    while (p1 != null) {\n        p1 = p1.next;\n        p2 = p2.next;\n    }\n    return p2;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"é¾è¡¨",frontmatter:{title:"é¾è¡¨",date:"2022-10-12T23:23:03.000Z",permalink:"/pages/f55bff/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/10.%E9%93%BE%E8%A1%A8.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/10.é¾è¡¨.md",key:"v-ca8a5a42",path:"/pages/f55bff/",headers:[{level:2,title:"6. ä»å°¾å°å¤´æå°é¾è¡¨",slug:"_6-ä»å°¾å°å¤´æå°é¾è¡¨",normalizedTitle:"6. ä»å°¾å°å¤´æå°é¾è¡¨",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:80},{level:4,title:"1. ä½¿ç¨éå½",slug:"_1-ä½¿ç¨éå½",normalizedTitle:"1. ä½¿ç¨éå½",charIndex:88},{level:4,title:"2. ä½¿ç¨å¤´ææ³",slug:"_2-ä½¿ç¨å¤´ææ³",normalizedTitle:"2. ä½¿ç¨å¤´ææ³",charIndex:500},{level:4,title:"3. ä½¿ç¨æ ",slug:"_3-ä½¿ç¨æ ",normalizedTitle:"3. ä½¿ç¨æ ",charIndex:1324},{level:2,title:"18.2 å é¤é¾è¡¨ä¸­éå¤çç»ç¹",slug:"_18-2-å é¤é¾è¡¨ä¸­éå¤çç»ç¹",normalizedTitle:"18.2 å é¤é¾è¡¨ä¸­éå¤çç»ç¹",charIndex:1748},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè¿°",slug:"è§£é¢æè¿°",normalizedTitle:"è§£é¢æè¿°",charIndex:1900},{level:2,title:"24. åè½¬é¾è¡¨",slug:"_24-åè½¬é¾è¡¨",normalizedTitle:"24. åè½¬é¾è¡¨",charIndex:2346},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:80},{level:4,title:"éå½",slug:"éå½",normalizedTitle:"éå½",charIndex:93},{level:4,title:"è¿­ä»£",slug:"è¿­ä»£",normalizedTitle:"è¿­ä»£",charIndex:2671},{level:2,title:"25. åå¹¶ä¸¤ä¸ªæåºçé¾è¡¨",slug:"_25-åå¹¶ä¸¤ä¸ªæåºçé¾è¡¨",normalizedTitle:"25. åå¹¶ä¸¤ä¸ªæåºçé¾è¡¨",charIndex:2976},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-3",normalizedTitle:"è§£é¢æè·¯",charIndex:80},{level:4,title:"éå½",slug:"éå½-2",normalizedTitle:"éå½",charIndex:93},{level:4,title:"è¿­ä»£",slug:"è¿­ä»£-2",normalizedTitle:"è¿­ä»£",charIndex:2671},{level:2,title:"35. å¤æé¾è¡¨çå¤å¶",slug:"_35-å¤æé¾è¡¨çå¤å¶",normalizedTitle:"35. å¤æé¾è¡¨çå¤å¶",charIndex:3984},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-4",normalizedTitle:"è§£é¢æè·¯",charIndex:80},{level:2,title:"52. ä¸¤ä¸ªé¾è¡¨çç¬¬ä¸ä¸ªå¬å±ç»ç¹",slug:"_52-ä¸¤ä¸ªé¾è¡¨çç¬¬ä¸ä¸ªå¬å±ç»ç¹",normalizedTitle:"52. ä¸¤ä¸ªé¾è¡¨çç¬¬ä¸ä¸ªå¬å±ç»ç¹",charIndex:5223},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-5",normalizedTitle:"è§£é¢æè·¯",charIndex:80}],headersStr:"6. ä»å°¾å°å¤´æå°é¾è¡¨ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 1. ä½¿ç¨éå½ 2. ä½¿ç¨å¤´ææ³ 3. ä½¿ç¨æ  18.2 å é¤é¾è¡¨ä¸­éå¤çç»ç¹ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè¿° 24. åè½¬é¾è¡¨ è§£é¢æè·¯ éå½ è¿­ä»£ 25. åå¹¶ä¸¤ä¸ªæåºçé¾è¡¨ é¢ç®æè¿° è§£é¢æè·¯ éå½ è¿­ä»£ 35. å¤æé¾è¡¨çå¤å¶ é¢ç®æè¿° è§£é¢æè·¯ 52. ä¸¤ä¸ªé¾è¡¨çç¬¬ä¸ä¸ªå¬å±ç»ç¹ é¢ç®æè¿° è§£é¢æè·¯",content:"# 6. ä»å°¾å°å¤´æå°é¾è¡¨\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nä»å°¾å°å¤´åè¿æ¥æå°åºæ¯ä¸ªç»ç¹çå¼ã\n\n\n\n\n# è§£é¢æè·¯\n\n# 1. ä½¿ç¨éå½\n\nè¦éåºæå°é¾è¡¨ 1->2->3ï¼3,2,1)ï¼å¯ä»¥åéåºæå°é¾è¡¨ 2->3(3,2)ï¼æååæå°ç¬¬ä¸ä¸ªèç¹ 1ãèé¾è¡¨ 2->3 å¯ä»¥çæä¸ä¸ªæ°çé¾è¡¨ï¼è¦éåºæå°è¯¥é¾è¡¨å¯ä»¥ç»§ç»­ä½¿ç¨æ±è§£å½æ°ï¼ä¹å°±æ¯å¨æ±è§£å½æ°ä¸­è°ç¨èªå·±ï¼è¿å°±æ¯éå½å½æ°ã\n\npublic ArrayList<Integer> printListFromTailToHead(ListNode listNode) {\n    ArrayList<Integer> ret = new ArrayList<>();\n    if (listNode != null) {\n        ret.addAll(printListFromTailToHead(listNode.next));\n        ret.add(listNode.val);\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 2. ä½¿ç¨å¤´ææ³\n\nå¤´ææ³é¡¾åæä¹æ¯å°èç¹æå¥å°å¤´é¨ï¼å¨éååå§é¾è¡¨æ¶ï¼å°å½åèç¹æå¥æ°é¾è¡¨çå¤´é¨ï¼ä½¿å¶æä¸ºç¬¬ä¸ä¸ªèç¹ã\n\né¾è¡¨çæä½éè¦ç»´æ¤åç»§å³ç³»ï¼ä¾å¦å¨æä¸ªèç¹ node1 ä¹åæå¥ä¸ä¸ªèç¹ node2ï¼æä»¬å¯ä»¥éè¿ä¿®æ¹åç»§å³ç³»æ¥å®ç°ï¼\n\nnode3 = node1.next;\nnode2.next = node3;\nnode1.next = node2;\n\n\n1\n2\n3\n\n\n\n\nä¸ºäºè½å°ä¸ä¸ªèç¹æå¥å¤´é¨ï¼æä»¬å¼å¥äºä¸ä¸ªå«å¤´ç»ç¹çè¾å©èç¹ï¼è¯¥èç¹ä¸å­å¨å¼ï¼åªæ¯ä¸ºäºæ¹ä¾¿è¿è¡æå¥æä½ãä¸è¦å°å¤´ç»ç¹ä¸ç¬¬ä¸ä¸ªèç¹æ··èµ·æ¥ï¼ç¬¬ä¸ä¸ªèç¹æ¯é¾è¡¨ä¸­ç¬¬ä¸ä¸ªçæ­£å­å¨å¼çèç¹ã\n\n\n\npublic ArrayList<Integer> printListFromTailToHead(ListNode listNode) {\n    // å¤´ææ³æå»ºéåºé¾è¡¨\n    ListNode head = new ListNode(-1);\n    while (listNode != null) {\n        ListNode memo = listNode.next;\n        listNode.next = head.next;\n        head.next = listNode;\n        listNode = memo;\n    }\n    // æå»º ArrayList\n    ArrayList<Integer> ret = new ArrayList<>();\n    head = head.next;\n    while (head != null) {\n        ret.add(head.val);\n        head = head.next;\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 3. ä½¿ç¨æ \n\næ å·æåè¿ååºçç¹ç¹ï¼å¨éåé¾è¡¨æ¶å°å¼æé¡ºåºæ¾å¥æ ä¸­ï¼æååºæ çé¡ºåºå³ä¸ºéåºã\n\n\n\npublic ArrayList<Integer> printListFromTailToHead(ListNode listNode) {\n    Stack<Integer> stack = new Stack<>();\n    while (listNode != null) {\n        stack.add(listNode.val);\n        listNode = listNode.next;\n    }\n    ArrayList<Integer> ret = new ArrayList<>();\n    while (!stack.isEmpty())\n        ret.add(stack.pop());\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 18.2 å é¤é¾è¡¨ä¸­éå¤çç»ç¹\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ªæåºçé¾è¡¨ä¸­ï¼å­å¨éå¤çç»ç¹ï¼è¯·å é¤è¯¥é¾è¡¨ä¸­éå¤çç»ç¹ï¼éå¤çç»ç¹ä¸ä¿çï¼è¿åé¾è¡¨å¤´æéã ä¾å¦ï¼é¾è¡¨ 1->2->3->3->4->4->5 å¤çåä¸º 1->2->5\n\n\n\n\n# è§£é¢æè¿°\n\npublic ListNode deleteDuplication(ListNode pHead) {\n    if (pHead == null || pHead.next == null)\n        return pHead;\n    ListNode next = pHead.next;\n    if (pHead.val == next.val) {\n        while (next != null && pHead.val == next.val)\n            next = next.next;\n        return deleteDuplication(next);\n    } else {\n        pHead.next = deleteDuplication(pHead.next);\n        return pHead;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 24. åè½¬é¾è¡¨\n\nNowCoder(opens new window)\n\n\n# è§£é¢æè·¯\n\n# éå½\n\npublic ListNode ReverseList(ListNode head) {\n    if (head == null || head.next == null)\n        return head;\n    ListNode next = head.next;\n    head.next = null;\n    ListNode newHead = ReverseList(next);\n    next.next = head;\n    return newHead;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# è¿­ä»£\n\nä½¿ç¨å¤´ææ³ã\n\npublic ListNode ReverseList(ListNode head) {\n    ListNode newList = new ListNode(-1);\n    while (head != null) {\n        ListNode next = head.next;\n        head.next = newList.next;\n        newList.next = head;\n        head = next;\n    }\n    return newList.next;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 25. åå¹¶ä¸¤ä¸ªæåºçé¾è¡¨\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\n\n\n\n# è§£é¢æè·¯\n\n# éå½\n\npublic ListNode Merge(ListNode list1, ListNode list2) {\n    if (list1 == null)\n        return list2;\n    if (list2 == null)\n        return list1;\n    if (list1.val <= list2.val) {\n        list1.next = Merge(list1.next, list2);\n        return list1;\n    } else {\n        list2.next = Merge(list1, list2.next);\n        return list2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# è¿­ä»£\n\npublic ListNode Merge(ListNode list1, ListNode list2) {\n    ListNode head = new ListNode(-1);\n    ListNode cur = head;\n    while (list1 != null && list2 != null) {\n        if (list1.val <= list2.val) {\n            cur.next = list1;\n            list1 = list1.next;\n        } else {\n            cur.next = list2;\n            list2 = list2.next;\n        }\n        cur = cur.next;\n    }\n    if (list1 != null)\n        cur.next = list1;\n    if (list2 != null)\n        cur.next = list2;\n    return head.next;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 35. å¤æé¾è¡¨çå¤å¶\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸ä¸ªå¤æé¾è¡¨ï¼æ¯ä¸ªèç¹ä¸­æèç¹å¼ï¼ä»¥åä¸¤ä¸ªæéï¼ä¸ä¸ªæåä¸ä¸ä¸ªèç¹ï¼å¦ä¸ä¸ªç¹æ®æéæåä»»æä¸ä¸ªèç¹ï¼ï¼è¿åç»æä¸ºå¤å¶åå¤æé¾è¡¨ç headã\n\npublic class RandomListNode {\n    int label;\n    RandomListNode next = null;\n    RandomListNode random = null;\n\n    RandomListNode(int label) {\n        this.label = label;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n# è§£é¢æè·¯\n\nç¬¬ä¸æ­¥ï¼å¨æ¯ä¸ªèç¹çåé¢æå¥å¤å¶çèç¹ã\n\n\n\nç¬¬äºæ­¥ï¼å¯¹å¤å¶èç¹ç random é¾æ¥è¿è¡èµå¼ã\n\n\n\nç¬¬ä¸æ­¥ï¼æåã\n\n\n\npublic RandomListNode Clone(RandomListNode pHead) {\n    if (pHead == null)\n        return null;\n    // æå¥æ°èç¹\n    RandomListNode cur = pHead;\n    while (cur != null) {\n        RandomListNode clone = new RandomListNode(cur.label);\n        clone.next = cur.next;\n        cur.next = clone;\n        cur = clone.next;\n    }\n    // å»ºç« random é¾æ¥\n    cur = pHead;\n    while (cur != null) {\n        RandomListNode clone = cur.next;\n        if (cur.random != null)\n            clone.random = cur.random.next;\n        cur = clone.next;\n    }\n    // æå\n    cur = pHead;\n    RandomListNode pCloneHead = pHead.next;\n    while (cur.next != null) {\n        RandomListNode next = cur.next;\n        cur.next = next.next;\n        cur = next;\n    }\n    return pCloneHead;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 52. ä¸¤ä¸ªé¾è¡¨çç¬¬ä¸ä¸ªå¬å±ç»ç¹\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\n\n\n\n# è§£é¢æè·¯\n\nè®¾ A çé¿åº¦ä¸º a + cï¼B çé¿åº¦ä¸º b + cï¼å¶ä¸­ c ä¸ºå°¾é¨å¬å±é¨åé¿åº¦ï¼å¯ç¥ a + c + b = b + c + aã\n\nå½è®¿é®é¾è¡¨ A çæéè®¿é®å°é¾è¡¨å°¾é¨æ¶ï¼ä»¤å®ä»é¾è¡¨ B çå¤´é¨éæ°å¼å§è®¿é®é¾è¡¨ Bï¼åæ ·å°ï¼å½è®¿é®é¾è¡¨ B çæéè®¿é®å°é¾è¡¨å°¾é¨æ¶ï¼ä»¤å®ä»é¾è¡¨ A çå¤´é¨éæ°å¼å§è®¿é®é¾è¡¨ Aãè¿æ ·å°±è½æ§å¶è®¿é® A å B ä¸¤ä¸ªé¾è¡¨çæéè½åæ¶è®¿é®å°äº¤ç¹ã\n\npublic ListNode FindFirstCommonNode(ListNode pHead1, ListNode pHead2) {\n    ListNode l1 = pHead1, l2 = pHead2;\n    while (l1 != l2) {\n        l1 = (l1 == null) ? pHead2 : l1.next;\n        l2 = (l2 == null) ? pHead1 : l2.next;\n    }\n    return l1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n",normalizedContent:"# 6. ä»å°¾å°å¤´æå°é¾è¡¨\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nä»å°¾å°å¤´åè¿æ¥æå°åºæ¯ä¸ªç»ç¹çå¼ã\n\n\n\n\n# è§£é¢æè·¯\n\n# 1. ä½¿ç¨éå½\n\nè¦éåºæå°é¾è¡¨ 1->2->3ï¼3,2,1)ï¼å¯ä»¥åéåºæå°é¾è¡¨ 2->3(3,2)ï¼æååæå°ç¬¬ä¸ä¸ªèç¹ 1ãèé¾è¡¨ 2->3 å¯ä»¥çæä¸ä¸ªæ°çé¾è¡¨ï¼è¦éåºæå°è¯¥é¾è¡¨å¯ä»¥ç»§ç»­ä½¿ç¨æ±è§£å½æ°ï¼ä¹å°±æ¯å¨æ±è§£å½æ°ä¸­è°ç¨èªå·±ï¼è¿å°±æ¯éå½å½æ°ã\n\npublic arraylist<integer> printlistfromtailtohead(listnode listnode) {\n    arraylist<integer> ret = new arraylist<>();\n    if (listnode != null) {\n        ret.addall(printlistfromtailtohead(listnode.next));\n        ret.add(listnode.val);\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 2. ä½¿ç¨å¤´ææ³\n\nå¤´ææ³é¡¾åæä¹æ¯å°èç¹æå¥å°å¤´é¨ï¼å¨éååå§é¾è¡¨æ¶ï¼å°å½åèç¹æå¥æ°é¾è¡¨çå¤´é¨ï¼ä½¿å¶æä¸ºç¬¬ä¸ä¸ªèç¹ã\n\né¾è¡¨çæä½éè¦ç»´æ¤åç»§å³ç³»ï¼ä¾å¦å¨æä¸ªèç¹ node1 ä¹åæå¥ä¸ä¸ªèç¹ node2ï¼æä»¬å¯ä»¥éè¿ä¿®æ¹åç»§å³ç³»æ¥å®ç°ï¼\n\nnode3 = node1.next;\nnode2.next = node3;\nnode1.next = node2;\n\n\n1\n2\n3\n\n\n\n\nä¸ºäºè½å°ä¸ä¸ªèç¹æå¥å¤´é¨ï¼æä»¬å¼å¥äºä¸ä¸ªå«å¤´ç»ç¹çè¾å©èç¹ï¼è¯¥èç¹ä¸å­å¨å¼ï¼åªæ¯ä¸ºäºæ¹ä¾¿è¿è¡æå¥æä½ãä¸è¦å°å¤´ç»ç¹ä¸ç¬¬ä¸ä¸ªèç¹æ··èµ·æ¥ï¼ç¬¬ä¸ä¸ªèç¹æ¯é¾è¡¨ä¸­ç¬¬ä¸ä¸ªçæ­£å­å¨å¼çèç¹ã\n\n\n\npublic arraylist<integer> printlistfromtailtohead(listnode listnode) {\n    // å¤´ææ³æå»ºéåºé¾è¡¨\n    listnode head = new listnode(-1);\n    while (listnode != null) {\n        listnode memo = listnode.next;\n        listnode.next = head.next;\n        head.next = listnode;\n        listnode = memo;\n    }\n    // æå»º arraylist\n    arraylist<integer> ret = new arraylist<>();\n    head = head.next;\n    while (head != null) {\n        ret.add(head.val);\n        head = head.next;\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 3. ä½¿ç¨æ \n\næ å·æåè¿ååºçç¹ç¹ï¼å¨éåé¾è¡¨æ¶å°å¼æé¡ºåºæ¾å¥æ ä¸­ï¼æååºæ çé¡ºåºå³ä¸ºéåºã\n\n\n\npublic arraylist<integer> printlistfromtailtohead(listnode listnode) {\n    stack<integer> stack = new stack<>();\n    while (listnode != null) {\n        stack.add(listnode.val);\n        listnode = listnode.next;\n    }\n    arraylist<integer> ret = new arraylist<>();\n    while (!stack.isempty())\n        ret.add(stack.pop());\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 18.2 å é¤é¾è¡¨ä¸­éå¤çç»ç¹\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ªæåºçé¾è¡¨ä¸­ï¼å­å¨éå¤çç»ç¹ï¼è¯·å é¤è¯¥é¾è¡¨ä¸­éå¤çç»ç¹ï¼éå¤çç»ç¹ä¸ä¿çï¼è¿åé¾è¡¨å¤´æéã ä¾å¦ï¼é¾è¡¨ 1->2->3->3->4->4->5 å¤çåä¸º 1->2->5\n\n\n\n\n# è§£é¢æè¿°\n\npublic listnode deleteduplication(listnode phead) {\n    if (phead == null || phead.next == null)\n        return phead;\n    listnode next = phead.next;\n    if (phead.val == next.val) {\n        while (next != null && phead.val == next.val)\n            next = next.next;\n        return deleteduplication(next);\n    } else {\n        phead.next = deleteduplication(phead.next);\n        return phead;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 24. åè½¬é¾è¡¨\n\nnowcoder(opens new window)\n\n\n# è§£é¢æè·¯\n\n# éå½\n\npublic listnode reverselist(listnode head) {\n    if (head == null || head.next == null)\n        return head;\n    listnode next = head.next;\n    head.next = null;\n    listnode newhead = reverselist(next);\n    next.next = head;\n    return newhead;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# è¿­ä»£\n\nä½¿ç¨å¤´ææ³ã\n\npublic listnode reverselist(listnode head) {\n    listnode newlist = new listnode(-1);\n    while (head != null) {\n        listnode next = head.next;\n        head.next = newlist.next;\n        newlist.next = head;\n        head = next;\n    }\n    return newlist.next;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 25. åå¹¶ä¸¤ä¸ªæåºçé¾è¡¨\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\n\n\n\n# è§£é¢æè·¯\n\n# éå½\n\npublic listnode merge(listnode list1, listnode list2) {\n    if (list1 == null)\n        return list2;\n    if (list2 == null)\n        return list1;\n    if (list1.val <= list2.val) {\n        list1.next = merge(list1.next, list2);\n        return list1;\n    } else {\n        list2.next = merge(list1, list2.next);\n        return list2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# è¿­ä»£\n\npublic listnode merge(listnode list1, listnode list2) {\n    listnode head = new listnode(-1);\n    listnode cur = head;\n    while (list1 != null && list2 != null) {\n        if (list1.val <= list2.val) {\n            cur.next = list1;\n            list1 = list1.next;\n        } else {\n            cur.next = list2;\n            list2 = list2.next;\n        }\n        cur = cur.next;\n    }\n    if (list1 != null)\n        cur.next = list1;\n    if (list2 != null)\n        cur.next = list2;\n    return head.next;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 35. å¤æé¾è¡¨çå¤å¶\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸ä¸ªå¤æé¾è¡¨ï¼æ¯ä¸ªèç¹ä¸­æèç¹å¼ï¼ä»¥åä¸¤ä¸ªæéï¼ä¸ä¸ªæåä¸ä¸ä¸ªèç¹ï¼å¦ä¸ä¸ªç¹æ®æéæåä»»æä¸ä¸ªèç¹ï¼ï¼è¿åç»æä¸ºå¤å¶åå¤æé¾è¡¨ç headã\n\npublic class randomlistnode {\n    int label;\n    randomlistnode next = null;\n    randomlistnode random = null;\n\n    randomlistnode(int label) {\n        this.label = label;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n# è§£é¢æè·¯\n\nç¬¬ä¸æ­¥ï¼å¨æ¯ä¸ªèç¹çåé¢æå¥å¤å¶çèç¹ã\n\n\n\nç¬¬äºæ­¥ï¼å¯¹å¤å¶èç¹ç random é¾æ¥è¿è¡èµå¼ã\n\n\n\nç¬¬ä¸æ­¥ï¼æåã\n\n\n\npublic randomlistnode clone(randomlistnode phead) {\n    if (phead == null)\n        return null;\n    // æå¥æ°èç¹\n    randomlistnode cur = phead;\n    while (cur != null) {\n        randomlistnode clone = new randomlistnode(cur.label);\n        clone.next = cur.next;\n        cur.next = clone;\n        cur = clone.next;\n    }\n    // å»ºç« random é¾æ¥\n    cur = phead;\n    while (cur != null) {\n        randomlistnode clone = cur.next;\n        if (cur.random != null)\n            clone.random = cur.random.next;\n        cur = clone.next;\n    }\n    // æå\n    cur = phead;\n    randomlistnode pclonehead = phead.next;\n    while (cur.next != null) {\n        randomlistnode next = cur.next;\n        cur.next = next.next;\n        cur = next;\n    }\n    return pclonehead;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 52. ä¸¤ä¸ªé¾è¡¨çç¬¬ä¸ä¸ªå¬å±ç»ç¹\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\n\n\n\n# è§£é¢æè·¯\n\nè®¾ a çé¿åº¦ä¸º a + cï¼b çé¿åº¦ä¸º b + cï¼å¶ä¸­ c ä¸ºå°¾é¨å¬å±é¨åé¿åº¦ï¼å¯ç¥ a + c + b = b + c + aã\n\nå½è®¿é®é¾è¡¨ a çæéè®¿é®å°é¾è¡¨å°¾é¨æ¶ï¼ä»¤å®ä»é¾è¡¨ b çå¤´é¨éæ°å¼å§è®¿é®é¾è¡¨ bï¼åæ ·å°ï¼å½è®¿é®é¾è¡¨ b çæéè®¿é®å°é¾è¡¨å°¾é¨æ¶ï¼ä»¤å®ä»é¾è¡¨ a çå¤´é¨éæ°å¼å§è®¿é®é¾è¡¨ aãè¿æ ·å°±è½æ§å¶è®¿é® a å b ä¸¤ä¸ªé¾è¡¨çæéè½åæ¶è®¿é®å°äº¤ç¹ã\n\npublic listnode findfirstcommonnode(listnode phead1, listnode phead2) {\n    listnode l1 = phead1, l2 = phead2;\n    while (l1 != l2) {\n        l1 = (l1 == null) ? phead2 : l1.next;\n        l2 = (l2 == null) ? phead1 : l2.next;\n    }\n    return l1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ ",frontmatter:{title:"æ ",date:"2022-10-12T23:46:13.000Z",permalink:"/pages/873a10/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/15.%E6%A0%91.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/15.æ .md",key:"v-ccd01cc4",path:"/pages/873a10/",headers:[{level:2,title:"7. éå»ºäºåæ ",slug:"_7-éå»ºäºåæ ",normalizedTitle:"7. éå»ºäºåæ ",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:15},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:3,title:"8. äºåæ çä¸ä¸ä¸ªç»ç¹",slug:"_8-äºåæ çä¸ä¸ä¸ªç»ç¹",normalizedTitle:"8. äºåæ çä¸ä¸ä¸ªç»ç¹",charIndex:1008},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:15},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"26. æ çå­ç»æ",slug:"_26-æ çå­ç»æ",normalizedTitle:"26. æ çå­ç»æ",charIndex:2145},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-3",normalizedTitle:"é¢ç®é¾æ¥",charIndex:15},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-3",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"27. äºåæ çéå",slug:"_27-äºåæ çéå",normalizedTitle:"27. äºåæ çéå",charIndex:2906},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-4",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"28. å¯¹ç§°çäºåæ ",slug:"_28-å¯¹ç§°çäºåæ ",normalizedTitle:"28. å¯¹ç§°çäºåæ ",charIndex:3280},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-5",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"32.1 ä»ä¸å¾ä¸æå°äºåæ ",slug:"_32-1-ä»ä¸å¾ä¸æå°äºåæ ",normalizedTitle:"32.1 ä»ä¸å¾ä¸æå°äºåæ ",charIndex:3868},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-6",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-6",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"32.2 æäºåæ æå°æå¤è¡",slug:"_32-2-æäºåæ æå°æå¤è¡",normalizedTitle:"32.2 æäºåæ æå°æå¤è¡",charIndex:4690},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-7",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-7",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"32.3 æä¹å­å½¢é¡ºåºæå°äºåæ ",slug:"_32-3-æä¹å­å½¢é¡ºåºæå°äºåæ ",normalizedTitle:"32.3 æä¹å­å½¢é¡ºåºæå°äºåæ ",charIndex:5576},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-8",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-8",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"33. äºåæç´¢æ çååºéååºå",slug:"_33-äºåæç´¢æ çååºéååºå",normalizedTitle:"33. äºåæç´¢æ çååºéååºå",charIndex:6525},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-9",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-9",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"34. äºåæ ä¸­åä¸ºæä¸å¼çè·¯å¾",slug:"_34-äºåæ ä¸­åä¸ºæä¸å¼çè·¯å¾",normalizedTitle:"34. äºåæ ä¸­åä¸ºæä¸å¼çè·¯å¾",charIndex:7623},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-10",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-10",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"36. äºåæç´¢æ ä¸ååé¾è¡¨",slug:"_36-äºåæç´¢æ ä¸ååé¾è¡¨",normalizedTitle:"36. äºåæç´¢æ ä¸ååé¾è¡¨",charIndex:8618},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-11",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-11",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"37. åºååäºåæ ",slug:"_37-åºååäºåæ ",normalizedTitle:"37. åºååäºåæ ",charIndex:9193},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-12",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-12",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"54. äºåæ¥æ¾æ çç¬¬ K ä¸ªç»ç¹",slug:"_54-äºåæ¥æ¾æ çç¬¬-k-ä¸ªç»ç¹",normalizedTitle:"54. äºåæ¥æ¾æ çç¬¬ k ä¸ªç»ç¹",charIndex:10365},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-13",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"55.1 äºåæ çæ·±åº¦",slug:"_55-1-äºåæ çæ·±åº¦",normalizedTitle:"55.1 äºåæ çæ·±åº¦",charIndex:10825},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-13",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-14",normalizedTitle:"è§£é¢æè·¯",charIndex:114},{level:2,title:"55.2 å¤æ­æ¯å¦æ¯å¹³è¡¡äºåæ ",slug:"_55-2-å¤æ­æ¯å¦æ¯å¹³è¡¡äºåæ ",normalizedTitle:"55.2 å¤æ­æ¯å¦æ¯å¹³è¡¡äºåæ ",charIndex:11075},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-14",normalizedTitle:"é¢ç®æè¿°",charIndex:47},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-15",normalizedTitle:"è§£é¢æè·¯",charIndex:114}],headersStr:"7. éå»ºäºåæ  é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 8. äºåæ çä¸ä¸ä¸ªç»ç¹ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 26. æ çå­ç»æ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 27. äºåæ çéå é¢ç®æè¿° è§£é¢æè·¯ 28. å¯¹ç§°çäºåæ  é¢ç®æè¿° è§£é¢æè·¯ 32.1 ä»ä¸å¾ä¸æå°äºåæ  é¢ç®æè¿° è§£é¢æè·¯ 32.2 æäºåæ æå°æå¤è¡ é¢ç®æè¿° è§£é¢æè·¯ 32.3 æä¹å­å½¢é¡ºåºæå°äºåæ  é¢ç®æè¿° è§£é¢æè·¯ 33. äºåæç´¢æ çååºéååºå é¢ç®æè¿° è§£é¢æè·¯ 34. äºåæ ä¸­åä¸ºæä¸å¼çè·¯å¾ é¢ç®æè¿° è§£é¢æè·¯ 36. äºåæç´¢æ ä¸ååé¾è¡¨ é¢ç®æè¿° è§£é¢æè·¯ 37. åºååäºåæ  é¢ç®æè¿° è§£é¢æè·¯ 54. äºåæ¥æ¾æ çç¬¬ K ä¸ªç»ç¹ è§£é¢æè·¯ 55.1 äºåæ çæ·±åº¦ é¢ç®æè¿° è§£é¢æè·¯ 55.2 å¤æ­æ¯å¦æ¯å¹³è¡¡äºåæ  é¢ç®æè¿° è§£é¢æè·¯",content:'# 7. éå»ºäºåæ \n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næ ¹æ®äºåæ çååºéååä¸­åºéåçç»æï¼éå»ºåºè¯¥äºåæ ãåè®¾è¾å¥çååºéååä¸­åºéåçç»æä¸­é½ä¸å«éå¤çæ°å­ã\n\n\n\n\n# è§£é¢æè·¯\n\nååºéåçç¬¬ä¸ä¸ªå¼ä¸ºæ ¹èç¹çå¼ï¼ä½¿ç¨è¿ä¸ªå¼å°ä¸­åºéåç»æåæä¸¤é¨åï¼å·¦é¨åä¸ºæ çå·¦å­æ ä¸­åºéåç»æï¼å³é¨åä¸ºæ çå³å­æ ä¸­åºéåçç»æãç¶ååå«å¯¹å·¦å³å­æ éå½å°æ±è§£ã\n\n\n\n// ç¼å­ä¸­åºéåæ°ç»æ¯ä¸ªå¼å¯¹åºçç´¢å¼\nprivate Map<Integer, Integer> indexForInOrders = new HashMap<>();\n\npublic TreeNode reConstructBinaryTree(int[] pre, int[] in) {\n    for (int i = 0; i < in.length; i++)\n        indexForInOrders.put(in[i], i);\n    return reConstructBinaryTree(pre, 0, pre.length - 1, 0);\n}\n\nprivate TreeNode reConstructBinaryTree(int[] pre, int preL, int preR, int inL) {\n    if (preL > preR)\n        return null;\n    TreeNode root = new TreeNode(pre[preL]);\n    int inIndex = indexForInOrders.get(root.val);\n    int leftTreeSize = inIndex - inL;\n    root.left = reConstructBinaryTree(pre, preL + 1, preL + leftTreeSize, inL);\n    root.right = reConstructBinaryTree(pre, preL + leftTreeSize + 1, preR, inL + leftTreeSize + 1);\n    return root;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 8. äºåæ çä¸ä¸ä¸ªç»ç¹\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªäºåæ åå¶ä¸­çä¸ä¸ªç»ç¹ï¼è¯·æ¾åºä¸­åºéåé¡ºåºçä¸ä¸ä¸ªç»ç¹å¹¶ä¸è¿å ãæ³¨æï¼æ ä¸­çç»ç¹ä¸ä»åå«å·¦å³å­ç»ç¹ï¼åæ¶åå«æåç¶ç»ç¹çæéã\n\npublic class TreeLinkNode {\n\n    int val;\n    TreeLinkNode left = null;\n    TreeLinkNode right = null;\n    TreeLinkNode next = null; // æåç¶ç»ç¹çæé\n\n    TreeLinkNode(int val) {\n        this.val = val;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# è§£é¢æè·¯\n\næä»¬åæ¥åé¡¾ä¸ä¸ä¸­åºéåçè¿ç¨ï¼åéåæ çå·¦å­æ ï¼åéåæ ¹èç¹ï¼æååéåå³å­æ ãæä»¥æå·¦èç¹æ¯ä¸­åºéåçç¬¬ä¸ä¸ªèç¹ã\n\nvoid traverse(TreeNode root) {\n    if (root == null) return;\n    traverse(root.left);\n    visit(root);\n    traverse(root.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\nâ  å¦æä¸ä¸ªèç¹çå³å­æ ä¸ä¸ºç©ºï¼é£ä¹è¯¥èç¹çä¸ä¸ä¸ªèç¹æ¯å³å­æ çæå·¦èç¹ï¼\n\n\n\nâ¡ å¦åï¼åä¸æ¾ç¬¬ä¸ä¸ªå·¦é¾æ¥æåçæ åå«è¯¥èç¹çç¥åèç¹ã\n\n\n\npublic TreeLinkNode GetNext(TreeLinkNode pNode) {\n    if (pNode.right != null) {\n        TreeLinkNode node = pNode.right;\n        while (node.left != null)\n            node = node.left;\n        return node;\n    } else {\n        while (pNode.next != null) {\n            TreeLinkNode parent = pNode.next;\n            if (parent.left == pNode)\n                return parent;\n            pNode = pNode.next;\n        }\n    }\n    return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 26. æ çå­ç»æ\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸¤æ£µäºåæ Aï¼Bï¼å¤æ­Bæ¯ä¸æ¯Açå­ç»æãï¼æä»¬çº¦å®ç©ºæ ä¸æ¯ä»»æä¸ä¸ªæ çå­ç»æï¼ åå¦ç»å®Aä¸º{8,8,7,9,2,#,#,#,#,4,7}ï¼Bä¸º{8,9,2}ï¼2ä¸ªæ çç»æå¦ä¸ï¼å¯ä»¥çåºBæ¯Açå­ç»æ\n\n\n\n\n# è§£é¢æè·¯\n\npublic boolean HasSubtree(TreeNode root1, TreeNode root2) {\n    if (root1 == null || root2 == null)\n        return false;\n    return isSubtreeWithRoot(root1, root2) || HasSubtree(root1.left, root2) || HasSubtree(root1.right, root2);\n}\n\nprivate boolean isSubtreeWithRoot(TreeNode root1, TreeNode root2) {\n    if (root2 == null)\n        return true;\n    if (root1 == null)\n        return false;\n    if (root1.val != root2.val)\n        return false;\n    return isSubtreeWithRoot(root1.left, root2.left) && isSubtreeWithRoot(root1.right, root2.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 27. äºåæ çéå\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\n\n\n\n# è§£é¢æè·¯\n\npublic TreeNode Mirror(TreeNode root) {\n    if (root == null)\n        return root;\n    swap(root);\n    Mirror(root.left);\n    Mirror(root.right);\n    return root;\n}\n\nprivate void swap(TreeNode root) {\n    TreeNode t = root.left;\n    root.left = root.right;\n    root.right = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 28. å¯¹ç§°çäºåæ \n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸æ£µäºåæ ï¼å¤æ­å¶æ¯å¦æ¯èªèº«çéåï¼å³ï¼æ¯å¦å¯¹ç§°ï¼ ä¾å¦ï¼ ä¸é¢è¿æ£µäºåæ æ¯å¯¹ç§°ç ä¸é¢è¿æ£µäºåæ ä¸å¯¹ç§°ã\n\n\n# è§£é¢æè·¯\n\nboolean isSymmetrical(TreeNode pRoot) {\n    if (pRoot == null)\n        return true;\n    return isSymmetrical(pRoot.left, pRoot.right);\n}\n\nboolean isSymmetrical(TreeNode t1, TreeNode t2) {\n    if (t1 == null && t2 == null)\n        return true;\n    if (t1 == null || t2 == null)\n        return false;\n    if (t1.val != t2.val)\n        return false;\n    return isSymmetrical(t1.left, t2.right) && isSymmetrical(t1.right, t2.left);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 32.1 ä»ä¸å¾ä¸æå°äºåæ \n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nä¸åè¡ä»ä¸å¾ä¸æå°åºäºåæ çæ¯ä¸ªèç¹ï¼åå±èç¹ä»å·¦è³å³æå°ãä¾å¦è¾å¥{8,6,10,#,#,2,1}ï¼å¦ä»¥ä¸å¾ä¸­çç¤ºä¾äºåæ ï¼åä¾æ¬¡æå°8,6,10,2,1(ç©ºèç¹ä¸æå°ï¼è·³è¿)ï¼è¯·ä½ å°æå°çç»æå­æ¾å°ä¸ä¸ªæ°ç»éé¢ï¼è¿åã\n\n\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨éåæ¥è¿è¡å±æ¬¡éåã\n\nä¸éè¦ä½¿ç¨ä¸¤ä¸ªéååå«å­å¨å½åå±çèç¹åä¸ä¸å±çèç¹ï¼å ä¸ºå¨å¼å§éåä¸å±çèç¹æ¶ï¼å½åéåä¸­çèç¹æ°å°±æ¯å½åå±çèç¹æ°ï¼åªè¦æ§å¶éåè¿ä¹å¤èç¹æ°ï¼å°±è½ä¿è¯è¿æ¬¡éåçé½æ¯å½åå±çèç¹ã\n\npublic ArrayList<Integer> PrintFromTopToBottom(TreeNode root) {\n    Queue<TreeNode> queue = new LinkedList<>();\n    ArrayList<Integer> ret = new ArrayList<>();\n    queue.add(root);\n    while (!queue.isEmpty()) {\n        int cnt = queue.size();\n        while (cnt-- > 0) {\n            TreeNode t = queue.poll();\n            if (t == null)\n                continue;\n            ret.add(t.val);\n            queue.add(t.left);\n            queue.add(t.right);\n        }\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 32.2 æäºåæ æå°æå¤è¡\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªèç¹æ°ä¸º n äºåæ ï¼è¦æ±ä»ä¸å°ä¸æå±æå°äºåæ ç val å¼ï¼åä¸å±ç»ç¹ä»å·¦è³å³è¾åºï¼æ¯ä¸å±è¾åºä¸è¡ï¼å°è¾åºçç»æå­æ¾å°ä¸ä¸ªäºç»´æ°ç»ä¸­è¿åã\n\nä¾å¦ï¼ ç»å®çäºåæ æ¯{1,2,3,#,#,4,5} è¯¥äºåæ å¤è¡æå°å±åºéåçç»ææ¯\n\n[\n\n[1],\n\n[2,3],\n\n[4,5]\n\n]\n\n\n# è§£é¢æè·¯\n\nArrayList<ArrayList<Integer>> Print(TreeNode pRoot) {\n    ArrayList<ArrayList<Integer>> ret = new ArrayList<>();\n    Queue<TreeNode> queue = new LinkedList<>();\n    queue.add(pRoot);\n    while (!queue.isEmpty()) {\n        ArrayList<Integer> list = new ArrayList<>();\n        int cnt = queue.size();\n        while (cnt-- > 0) {\n            TreeNode node = queue.poll();\n            if (node == null)\n                continue;\n            list.add(node.val);\n            queue.add(node.left);\n            queue.add(node.right);\n        }\n        if (list.size() != 0)\n            ret.add(list);\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 32.3 æä¹å­å½¢é¡ºåºæå°äºåæ \n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¯·å®ç°ä¸ä¸ªå½æ°æç§ä¹å­å½¢æå°äºåæ ï¼å³ç¬¬ä¸è¡æç§ä»å·¦å°å³çé¡ºåºæå°ï¼ç¬¬äºå±æç§ä»å³è³å·¦çé¡ºåºæå°ï¼ç¬¬ä¸è¡æç§ä»å·¦å°å³çé¡ºåºæå°ï¼å¶ä»è¡ä»¥æ­¤ç±»æ¨ã\n\n\n# è§£é¢æè·¯\n\npublic ArrayList<ArrayList<Integer>> Print(TreeNode pRoot) {\n    ArrayList<ArrayList<Integer>> ret = new ArrayList<>();\n    Queue<TreeNode> queue = new LinkedList<>();\n    queue.add(pRoot);\n    boolean reverse = false;\n    while (!queue.isEmpty()) {\n        ArrayList<Integer> list = new ArrayList<>();\n        int cnt = queue.size();\n        while (cnt-- > 0) {\n            TreeNode node = queue.poll();\n            if (node == null)\n                continue;\n            list.add(node.val);\n            queue.add(node.left);\n            queue.add(node.right);\n        }\n        if (reverse)\n            Collections.reverse(list);\n        reverse = !reverse;\n        if (list.size() != 0)\n            ret.add(list);\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 33. äºåæç´¢æ çååºéååºå\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸ä¸ªæ´æ°æ°ç»ï¼å¤æ­è¯¥æ°ç»æ¯ä¸æ¯æäºåæç´¢æ çååºéåçç»æãåè®¾è¾å¥çæ°ç»çä»»æä¸¤ä¸ªæ°å­é½äºä¸ç¸åã\n\nä¾å¦ï¼ä¸å¾æ¯ååºéååºå 1,3,2 æå¯¹åºçäºåæç´¢æ ã\n\n\n\n\n# è§£é¢æè·¯\n\n 1. äºåæ çååºéåé¡ºåºæ¯ï¼å·¦å­æ  -> å³å­æ  -> æ ¹èç¹\n 2. å æ­¤åºåçæåä¸ä¸ªæ°ä»£è¡¨äºæ ¹èç¹\n 3. å æ­¤æä»¬å¯ä»¥å°ä¸ä¸ªåºåååä¸º3æ®µ, å·¦å­æ +å³å­æ +æ ¹, ä¾å¦[4, 8, 6, 12, 16, 14, 10]å¯ä»¥æ ¹æ®æ ¹èç¹çå¼å°å¶ååä¸ºå·¦å­æ [4, 8, 6], å³å­æ [12, 16, 14], æ ¹[10], ç±äºæä»¬æ¯åç¡®å®çå·¦å­æ åºé´, å æ­¤å½å³å­æ åºé´ä¸­åºç°å°äºæ ¹èç¹çå¼æ¶, åºåä¸åæ³, æä»¬åéç¨åæ²»çææ³, å¯¹äºæ¯æ®µåºåä»£è¡¨çå­æ , æ£æ¥å®çå·¦å­æ åå³å­æ , å½ä¸ä»å½å·¦å³å­æ é½åæ³æ¶è¿åtrue\n\npublic boolean VerifySquenceOfBST(int[] sequence) {\n    if (sequence == null || sequence.length == 0)\n        return false;\n    return verify(sequence, 0, sequence.length - 1);\n}\n\nprivate boolean verify(int[] sequence, int first, int last) {\n    if (last - first <= 1)\n        return true;\n    int rootVal = sequence[last];\n    int cutIndex = first;\n    while (cutIndex < last && sequence[cutIndex] <= rootVal)\n        cutIndex++;\n    for (int i = cutIndex; i < last; i++)\n        if (sequence[i] < rootVal)\n            return false;\n    return verify(sequence, first, cutIndex - 1) && verify(sequence, cutIndex, last - 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 34. äºåæ ä¸­åä¸ºæä¸å¼çè·¯å¾\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸é¢äºåæ åä¸ä¸ªæ´æ°ï¼æå°åºäºåæ ä¸­ç»ç¹å¼çåä¸ºè¾å¥æ´æ°çææè·¯å¾ãè·¯å¾å®ä¹ä¸ºä»æ çæ ¹ç»ç¹å¼å§å¾ä¸ä¸ç´å°å¶ç»ç¹æç»è¿çç»ç¹å½¢æä¸æ¡è·¯å¾ã\n\nä¸å¾çäºåæ æä¸¤æ¡åä¸º 22 çè·¯å¾ï¼10, 5, 7 å 10, 12\n\n\n\n\n# è§£é¢æè·¯\n\nprivate ArrayList<ArrayList<Integer>> ret = new ArrayList<>();\n\npublic ArrayList<ArrayList<Integer>> FindPath(TreeNode root, int target) {\n    backtracking(root, target, new ArrayList<>());\n    return ret;\n}\n\nprivate void backtracking(TreeNode node, int target, ArrayList<Integer> path) {\n    if (node == null)\n        return;\n    path.add(node.val);\n    target -= node.val;\n  //å·²ç»å°è¾¾å¶å­èç¹ï¼å¹¶ä¸æ­£å¥½å åºäºtarget\n    if (target == 0 && node.left == null && node.right == null) {\n        ret.add(new ArrayList<>(path));\n    } else {\n      //éå½å·¦å­æ \n        backtracking(node.left, target, path);\n      //éå½å³å­æ \n        backtracking(node.right, target, path);\n    }\n  //æ è®ºå½åè·¯å¾æ¯å¦å åºäºtargetï¼å¿é¡»å»ææåä¸ä¸ªï¼ç¶åè¿åç¶èç¹ï¼å»æ¥æ¾å¦ä¸æ¡è·¯å¾ï¼æç»çpathè¯å®ä¸ºnull\n    path.remove(path.size() - 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 36. äºåæç´¢æ ä¸ååé¾è¡¨\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸æ£µäºåæç´¢æ ï¼å°è¯¥äºåæç´¢æ è½¬æ¢æä¸ä¸ªæåºçååé¾è¡¨ãè¦æ±ä¸è½åå»ºä»»ä½æ°çç»ç¹ï¼åªè½è°æ´æ ä¸­ç»ç¹æéçæåã\n\n\n\n\n# è§£é¢æè·¯\n\nprivate TreeNode pre = null;\nprivate TreeNode head = null;\n\npublic TreeNode Convert(TreeNode root) {\n    inOrder(root);\n    return head;\n}\n\nprivate void inOrder(TreeNode node) {\n    if (node == null)\n        return;\n    inOrder(node.left);\n    node.left = pre;\n    if (pre != null)\n        pre.right = node;\n    pre = node;\n    if (head == null)\n        head = node;\n    inOrder(node.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 37. åºååäºåæ \n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¯·å®ç°ä¸¤ä¸ªå½æ°ï¼åå«ç¨æ¥åºåååååºååäºåæ ã\n\n\n# è§£é¢æè·¯\n\npublic class SerializeTree {\n\n    int index = -1;\n    /**\n     * åå«éåå·¦èç¹åå³èç¹ï¼ç©ºä½¿ç¨#ä»£æ¿ï¼èç¹ä¹é´ï¼éå¼\n     *\n     * @param root\n     * @return\n     */\n    public String Serialize(TreeNode root) {\n        if (root == null) {\n            return "#";\n        } else {\n            return root.val + "," + Serialize(root.left) + "," + Serialize(root.right);\n        }\n    }\n    /**\n     * ä½¿ç¨indexæ¥è®¾ç½®æ èç¹çvalå¼ï¼éå½éåå·¦èç¹åå³èç¹ï¼å¦æå¼æ¯#åè¡¨ç¤ºæ¯ç©ºèç¹ï¼ç´æ¥è¿å\n     *\n     * @param str\n     * @return\n     */\n    TreeNode Deserialize(String str) {\n        String[] s = str.split(",");//å°åºååä¹åçåºåç¨ï¼åéç¬¦è½¬åä¸ºæ°ç»\n        index++;//ç´¢å¼æ¯æ¬¡å ä¸\n        int len = s.length;\n        if (index > len) {\n            return null;\n        }\n        TreeNode treeNode = null;\n        if (!s[index].equals("#")) {//ä¸æ¯å¶å­èç¹ ç»§ç»­èµ° æ¯å¶å­èç¹åºéå½\n            treeNode = new TreeNode(Integer.parseInt(s[index]));\n            treeNode.left = Deserialize(str);\n            treeNode.right = Deserialize(str);\n        }\n        return treeNode;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 54. äºåæ¥æ¾æ çç¬¬ K ä¸ªç»ç¹\n\nNowCoder(opens new window)\n\n\n# è§£é¢æè·¯\n\nå©ç¨äºåæ¥æ¾æ ä¸­åºéåæåºçç¹ç¹ã\n\nprivate TreeNode ret;\nprivate int cnt = 0;\n\npublic TreeNode KthNode(TreeNode pRoot, int k) {\n    inOrder(pRoot, k);\n    return ret;\n}\n\nprivate void inOrder(TreeNode root, int k) {\n    if (root == null || cnt >= k)\n        return;\n    inOrder(root.left, k);\n    cnt++;\n    if (cnt == k)\n        ret = root;\n    inOrder(root.right, k);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 55.1 äºåæ çæ·±åº¦\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nä»æ ¹ç»ç¹å°å¶ç»ç¹ä¾æ¬¡ç»è¿çç»ç¹ï¼å«æ ¹ãå¶ç»ç¹ï¼å½¢ææ çä¸æ¡è·¯å¾ï¼æé¿è·¯å¾çé¿åº¦ä¸ºæ çæ·±åº¦ã\n\n\n\n\n# è§£é¢æè·¯\n\npublic int TreeDepth(TreeNode root) {\n    return root == null ? 0 : 1 + Math.max(TreeDepth(root.left), TreeDepth(root.right));\n}\n\n\n1\n2\n3\n\n\n\n# 55.2 å¤æ­æ¯å¦æ¯å¹³è¡¡äºåæ \n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸æ£µèç¹æ°ä¸º n äºåæ ï¼å¤æ­è¯¥äºåæ æ¯å¦æ¯å¹³è¡¡äºåæ ã å¨è¿éï¼æä»¬åªéè¦èèå¶å¹³è¡¡æ§ï¼ä¸éè¦èèå¶æ¯ä¸æ¯æåºäºåæ  å¹³è¡¡äºåæ ï¼Balanced Binary Treeï¼ï¼å·æä»¥ä¸æ§è´¨ï¼å®æ¯ä¸æ£µç©ºæ æå®çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿1ï¼å¹¶ä¸å·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸æ£µå¹³è¡¡äºåæ ã æ ·ä¾è§£éï¼\n\n\n\næ ·ä¾äºåæ å¦å¾ï¼ä¸ºä¸é¢å¹³è¡¡äºåæ  æ³¨ï¼æä»¬çº¦å®ç©ºæ æ¯å¹³è¡¡äºåæ ã\n\n\n# è§£é¢æè·¯\n\nprivate boolean isBalanced = true;\n\npublic boolean IsBalanced_Solution(TreeNode root) {\n    height(root);\n    return isBalanced;\n}\n\nprivate int height(TreeNode root) {\n    if (root == null || !isBalanced)\n        return 0;\n    int left = height(root.left);\n    int right = height(root.right);\n    if (Math.abs(left - right) > 1)\n        isBalanced = false;\n    return 1 + Math.max(left, right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',normalizedContent:'# 7. éå»ºäºåæ \n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næ ¹æ®äºåæ çååºéååä¸­åºéåçç»æï¼éå»ºåºè¯¥äºåæ ãåè®¾è¾å¥çååºéååä¸­åºéåçç»æä¸­é½ä¸å«éå¤çæ°å­ã\n\n\n\n\n# è§£é¢æè·¯\n\nååºéåçç¬¬ä¸ä¸ªå¼ä¸ºæ ¹èç¹çå¼ï¼ä½¿ç¨è¿ä¸ªå¼å°ä¸­åºéåç»æåæä¸¤é¨åï¼å·¦é¨åä¸ºæ çå·¦å­æ ä¸­åºéåç»æï¼å³é¨åä¸ºæ çå³å­æ ä¸­åºéåçç»æãç¶ååå«å¯¹å·¦å³å­æ éå½å°æ±è§£ã\n\n\n\n// ç¼å­ä¸­åºéåæ°ç»æ¯ä¸ªå¼å¯¹åºçç´¢å¼\nprivate map<integer, integer> indexforinorders = new hashmap<>();\n\npublic treenode reconstructbinarytree(int[] pre, int[] in) {\n    for (int i = 0; i < in.length; i++)\n        indexforinorders.put(in[i], i);\n    return reconstructbinarytree(pre, 0, pre.length - 1, 0);\n}\n\nprivate treenode reconstructbinarytree(int[] pre, int prel, int prer, int inl) {\n    if (prel > prer)\n        return null;\n    treenode root = new treenode(pre[prel]);\n    int inindex = indexforinorders.get(root.val);\n    int lefttreesize = inindex - inl;\n    root.left = reconstructbinarytree(pre, prel + 1, prel + lefttreesize, inl);\n    root.right = reconstructbinarytree(pre, prel + lefttreesize + 1, prer, inl + lefttreesize + 1);\n    return root;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 8. äºåæ çä¸ä¸ä¸ªç»ç¹\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªäºåæ åå¶ä¸­çä¸ä¸ªç»ç¹ï¼è¯·æ¾åºä¸­åºéåé¡ºåºçä¸ä¸ä¸ªç»ç¹å¹¶ä¸è¿å ãæ³¨æï¼æ ä¸­çç»ç¹ä¸ä»åå«å·¦å³å­ç»ç¹ï¼åæ¶åå«æåç¶ç»ç¹çæéã\n\npublic class treelinknode {\n\n    int val;\n    treelinknode left = null;\n    treelinknode right = null;\n    treelinknode next = null; // æåç¶ç»ç¹çæé\n\n    treelinknode(int val) {\n        this.val = val;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# è§£é¢æè·¯\n\næä»¬åæ¥åé¡¾ä¸ä¸ä¸­åºéåçè¿ç¨ï¼åéåæ çå·¦å­æ ï¼åéåæ ¹èç¹ï¼æååéåå³å­æ ãæä»¥æå·¦èç¹æ¯ä¸­åºéåçç¬¬ä¸ä¸ªèç¹ã\n\nvoid traverse(treenode root) {\n    if (root == null) return;\n    traverse(root.left);\n    visit(root);\n    traverse(root.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\nâ  å¦æä¸ä¸ªèç¹çå³å­æ ä¸ä¸ºç©ºï¼é£ä¹è¯¥èç¹çä¸ä¸ä¸ªèç¹æ¯å³å­æ çæå·¦èç¹ï¼\n\n\n\nâ¡ å¦åï¼åä¸æ¾ç¬¬ä¸ä¸ªå·¦é¾æ¥æåçæ åå«è¯¥èç¹çç¥åèç¹ã\n\n\n\npublic treelinknode getnext(treelinknode pnode) {\n    if (pnode.right != null) {\n        treelinknode node = pnode.right;\n        while (node.left != null)\n            node = node.left;\n        return node;\n    } else {\n        while (pnode.next != null) {\n            treelinknode parent = pnode.next;\n            if (parent.left == pnode)\n                return parent;\n            pnode = pnode.next;\n        }\n    }\n    return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 26. æ çå­ç»æ\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸¤æ£µäºåæ aï¼bï¼å¤æ­bæ¯ä¸æ¯açå­ç»æãï¼æä»¬çº¦å®ç©ºæ ä¸æ¯ä»»æä¸ä¸ªæ çå­ç»æï¼ åå¦ç»å®aä¸º{8,8,7,9,2,#,#,#,#,4,7}ï¼bä¸º{8,9,2}ï¼2ä¸ªæ çç»æå¦ä¸ï¼å¯ä»¥çåºbæ¯açå­ç»æ\n\n\n\n\n# è§£é¢æè·¯\n\npublic boolean hassubtree(treenode root1, treenode root2) {\n    if (root1 == null || root2 == null)\n        return false;\n    return issubtreewithroot(root1, root2) || hassubtree(root1.left, root2) || hassubtree(root1.right, root2);\n}\n\nprivate boolean issubtreewithroot(treenode root1, treenode root2) {\n    if (root2 == null)\n        return true;\n    if (root1 == null)\n        return false;\n    if (root1.val != root2.val)\n        return false;\n    return issubtreewithroot(root1.left, root2.left) && issubtreewithroot(root1.right, root2.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 27. äºåæ çéå\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\n\n\n\n# è§£é¢æè·¯\n\npublic treenode mirror(treenode root) {\n    if (root == null)\n        return root;\n    swap(root);\n    mirror(root.left);\n    mirror(root.right);\n    return root;\n}\n\nprivate void swap(treenode root) {\n    treenode t = root.left;\n    root.left = root.right;\n    root.right = t;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 28. å¯¹ç§°çäºåæ \n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸æ£µäºåæ ï¼å¤æ­å¶æ¯å¦æ¯èªèº«çéåï¼å³ï¼æ¯å¦å¯¹ç§°ï¼ ä¾å¦ï¼ ä¸é¢è¿æ£µäºåæ æ¯å¯¹ç§°ç ä¸é¢è¿æ£µäºåæ ä¸å¯¹ç§°ã\n\n\n# è§£é¢æè·¯\n\nboolean issymmetrical(treenode proot) {\n    if (proot == null)\n        return true;\n    return issymmetrical(proot.left, proot.right);\n}\n\nboolean issymmetrical(treenode t1, treenode t2) {\n    if (t1 == null && t2 == null)\n        return true;\n    if (t1 == null || t2 == null)\n        return false;\n    if (t1.val != t2.val)\n        return false;\n    return issymmetrical(t1.left, t2.right) && issymmetrical(t1.right, t2.left);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 32.1 ä»ä¸å¾ä¸æå°äºåæ \n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nä¸åè¡ä»ä¸å¾ä¸æå°åºäºåæ çæ¯ä¸ªèç¹ï¼åå±èç¹ä»å·¦è³å³æå°ãä¾å¦è¾å¥{8,6,10,#,#,2,1}ï¼å¦ä»¥ä¸å¾ä¸­çç¤ºä¾äºåæ ï¼åä¾æ¬¡æå°8,6,10,2,1(ç©ºèç¹ä¸æå°ï¼è·³è¿)ï¼è¯·ä½ å°æå°çç»æå­æ¾å°ä¸ä¸ªæ°ç»éé¢ï¼è¿åã\n\n\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨éåæ¥è¿è¡å±æ¬¡éåã\n\nä¸éè¦ä½¿ç¨ä¸¤ä¸ªéååå«å­å¨å½åå±çèç¹åä¸ä¸å±çèç¹ï¼å ä¸ºå¨å¼å§éåä¸å±çèç¹æ¶ï¼å½åéåä¸­çèç¹æ°å°±æ¯å½åå±çèç¹æ°ï¼åªè¦æ§å¶éåè¿ä¹å¤èç¹æ°ï¼å°±è½ä¿è¯è¿æ¬¡éåçé½æ¯å½åå±çèç¹ã\n\npublic arraylist<integer> printfromtoptobottom(treenode root) {\n    queue<treenode> queue = new linkedlist<>();\n    arraylist<integer> ret = new arraylist<>();\n    queue.add(root);\n    while (!queue.isempty()) {\n        int cnt = queue.size();\n        while (cnt-- > 0) {\n            treenode t = queue.poll();\n            if (t == null)\n                continue;\n            ret.add(t.val);\n            queue.add(t.left);\n            queue.add(t.right);\n        }\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 32.2 æäºåæ æå°æå¤è¡\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ªèç¹æ°ä¸º n äºåæ ï¼è¦æ±ä»ä¸å°ä¸æå±æå°äºåæ ç val å¼ï¼åä¸å±ç»ç¹ä»å·¦è³å³è¾åºï¼æ¯ä¸å±è¾åºä¸è¡ï¼å°è¾åºçç»æå­æ¾å°ä¸ä¸ªäºç»´æ°ç»ä¸­è¿åã\n\nä¾å¦ï¼ ç»å®çäºåæ æ¯{1,2,3,#,#,4,5} è¯¥äºåæ å¤è¡æå°å±åºéåçç»ææ¯\n\n[\n\n[1],\n\n[2,3],\n\n[4,5]\n\n]\n\n\n# è§£é¢æè·¯\n\narraylist<arraylist<integer>> print(treenode proot) {\n    arraylist<arraylist<integer>> ret = new arraylist<>();\n    queue<treenode> queue = new linkedlist<>();\n    queue.add(proot);\n    while (!queue.isempty()) {\n        arraylist<integer> list = new arraylist<>();\n        int cnt = queue.size();\n        while (cnt-- > 0) {\n            treenode node = queue.poll();\n            if (node == null)\n                continue;\n            list.add(node.val);\n            queue.add(node.left);\n            queue.add(node.right);\n        }\n        if (list.size() != 0)\n            ret.add(list);\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 32.3 æä¹å­å½¢é¡ºåºæå°äºåæ \n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¯·å®ç°ä¸ä¸ªå½æ°æç§ä¹å­å½¢æå°äºåæ ï¼å³ç¬¬ä¸è¡æç§ä»å·¦å°å³çé¡ºåºæå°ï¼ç¬¬äºå±æç§ä»å³è³å·¦çé¡ºåºæå°ï¼ç¬¬ä¸è¡æç§ä»å·¦å°å³çé¡ºåºæå°ï¼å¶ä»è¡ä»¥æ­¤ç±»æ¨ã\n\n\n# è§£é¢æè·¯\n\npublic arraylist<arraylist<integer>> print(treenode proot) {\n    arraylist<arraylist<integer>> ret = new arraylist<>();\n    queue<treenode> queue = new linkedlist<>();\n    queue.add(proot);\n    boolean reverse = false;\n    while (!queue.isempty()) {\n        arraylist<integer> list = new arraylist<>();\n        int cnt = queue.size();\n        while (cnt-- > 0) {\n            treenode node = queue.poll();\n            if (node == null)\n                continue;\n            list.add(node.val);\n            queue.add(node.left);\n            queue.add(node.right);\n        }\n        if (reverse)\n            collections.reverse(list);\n        reverse = !reverse;\n        if (list.size() != 0)\n            ret.add(list);\n    }\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 33. äºåæç´¢æ çååºéååºå\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸ä¸ªæ´æ°æ°ç»ï¼å¤æ­è¯¥æ°ç»æ¯ä¸æ¯æäºåæç´¢æ çååºéåçç»æãåè®¾è¾å¥çæ°ç»çä»»æä¸¤ä¸ªæ°å­é½äºä¸ç¸åã\n\nä¾å¦ï¼ä¸å¾æ¯ååºéååºå 1,3,2 æå¯¹åºçäºåæç´¢æ ã\n\n\n\n\n# è§£é¢æè·¯\n\n 1. äºåæ çååºéåé¡ºåºæ¯ï¼å·¦å­æ  -> å³å­æ  -> æ ¹èç¹\n 2. å æ­¤åºåçæåä¸ä¸ªæ°ä»£è¡¨äºæ ¹èç¹\n 3. å æ­¤æä»¬å¯ä»¥å°ä¸ä¸ªåºåååä¸º3æ®µ, å·¦å­æ +å³å­æ +æ ¹, ä¾å¦[4, 8, 6, 12, 16, 14, 10]å¯ä»¥æ ¹æ®æ ¹èç¹çå¼å°å¶ååä¸ºå·¦å­æ [4, 8, 6], å³å­æ [12, 16, 14], æ ¹[10], ç±äºæä»¬æ¯åç¡®å®çå·¦å­æ åºé´, å æ­¤å½å³å­æ åºé´ä¸­åºç°å°äºæ ¹èç¹çå¼æ¶, åºåä¸åæ³, æä»¬åéç¨åæ²»çææ³, å¯¹äºæ¯æ®µåºåä»£è¡¨çå­æ , æ£æ¥å®çå·¦å­æ åå³å­æ , å½ä¸ä»å½å·¦å³å­æ é½åæ³æ¶è¿åtrue\n\npublic boolean verifysquenceofbst(int[] sequence) {\n    if (sequence == null || sequence.length == 0)\n        return false;\n    return verify(sequence, 0, sequence.length - 1);\n}\n\nprivate boolean verify(int[] sequence, int first, int last) {\n    if (last - first <= 1)\n        return true;\n    int rootval = sequence[last];\n    int cutindex = first;\n    while (cutindex < last && sequence[cutindex] <= rootval)\n        cutindex++;\n    for (int i = cutindex; i < last; i++)\n        if (sequence[i] < rootval)\n            return false;\n    return verify(sequence, first, cutindex - 1) && verify(sequence, cutindex, last - 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 34. äºåæ ä¸­åä¸ºæä¸å¼çè·¯å¾\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸é¢äºåæ åä¸ä¸ªæ´æ°ï¼æå°åºäºåæ ä¸­ç»ç¹å¼çåä¸ºè¾å¥æ´æ°çææè·¯å¾ãè·¯å¾å®ä¹ä¸ºä»æ çæ ¹ç»ç¹å¼å§å¾ä¸ä¸ç´å°å¶ç»ç¹æç»è¿çç»ç¹å½¢æä¸æ¡è·¯å¾ã\n\nä¸å¾çäºåæ æä¸¤æ¡åä¸º 22 çè·¯å¾ï¼10, 5, 7 å 10, 12\n\n\n\n\n# è§£é¢æè·¯\n\nprivate arraylist<arraylist<integer>> ret = new arraylist<>();\n\npublic arraylist<arraylist<integer>> findpath(treenode root, int target) {\n    backtracking(root, target, new arraylist<>());\n    return ret;\n}\n\nprivate void backtracking(treenode node, int target, arraylist<integer> path) {\n    if (node == null)\n        return;\n    path.add(node.val);\n    target -= node.val;\n  //å·²ç»å°è¾¾å¶å­èç¹ï¼å¹¶ä¸æ­£å¥½å åºäºtarget\n    if (target == 0 && node.left == null && node.right == null) {\n        ret.add(new arraylist<>(path));\n    } else {\n      //éå½å·¦å­æ \n        backtracking(node.left, target, path);\n      //éå½å³å­æ \n        backtracking(node.right, target, path);\n    }\n  //æ è®ºå½åè·¯å¾æ¯å¦å åºäºtargetï¼å¿é¡»å»ææåä¸ä¸ªï¼ç¶åè¿åç¶èç¹ï¼å»æ¥æ¾å¦ä¸æ¡è·¯å¾ï¼æç»çpathè¯å®ä¸ºnull\n    path.remove(path.size() - 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 36. äºåæç´¢æ ä¸ååé¾è¡¨\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸æ£µäºåæç´¢æ ï¼å°è¯¥äºåæç´¢æ è½¬æ¢æä¸ä¸ªæåºçååé¾è¡¨ãè¦æ±ä¸è½åå»ºä»»ä½æ°çç»ç¹ï¼åªè½è°æ´æ ä¸­ç»ç¹æéçæåã\n\n\n\n\n# è§£é¢æè·¯\n\nprivate treenode pre = null;\nprivate treenode head = null;\n\npublic treenode convert(treenode root) {\n    inorder(root);\n    return head;\n}\n\nprivate void inorder(treenode node) {\n    if (node == null)\n        return;\n    inorder(node.left);\n    node.left = pre;\n    if (pre != null)\n        pre.right = node;\n    pre = node;\n    if (head == null)\n        head = node;\n    inorder(node.right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 37. åºååäºåæ \n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¯·å®ç°ä¸¤ä¸ªå½æ°ï¼åå«ç¨æ¥åºåååååºååäºåæ ã\n\n\n# è§£é¢æè·¯\n\npublic class serializetree {\n\n    int index = -1;\n    /**\n     * åå«éåå·¦èç¹åå³èç¹ï¼ç©ºä½¿ç¨#ä»£æ¿ï¼èç¹ä¹é´ï¼éå¼\n     *\n     * @param root\n     * @return\n     */\n    public string serialize(treenode root) {\n        if (root == null) {\n            return "#";\n        } else {\n            return root.val + "," + serialize(root.left) + "," + serialize(root.right);\n        }\n    }\n    /**\n     * ä½¿ç¨indexæ¥è®¾ç½®æ èç¹çvalå¼ï¼éå½éåå·¦èç¹åå³èç¹ï¼å¦æå¼æ¯#åè¡¨ç¤ºæ¯ç©ºèç¹ï¼ç´æ¥è¿å\n     *\n     * @param str\n     * @return\n     */\n    treenode deserialize(string str) {\n        string[] s = str.split(",");//å°åºååä¹åçåºåç¨ï¼åéç¬¦è½¬åä¸ºæ°ç»\n        index++;//ç´¢å¼æ¯æ¬¡å ä¸\n        int len = s.length;\n        if (index > len) {\n            return null;\n        }\n        treenode treenode = null;\n        if (!s[index].equals("#")) {//ä¸æ¯å¶å­èç¹ ç»§ç»­èµ° æ¯å¶å­èç¹åºéå½\n            treenode = new treenode(integer.parseint(s[index]));\n            treenode.left = deserialize(str);\n            treenode.right = deserialize(str);\n        }\n        return treenode;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 54. äºåæ¥æ¾æ çç¬¬ k ä¸ªç»ç¹\n\nnowcoder(opens new window)\n\n\n# è§£é¢æè·¯\n\nå©ç¨äºåæ¥æ¾æ ä¸­åºéåæåºçç¹ç¹ã\n\nprivate treenode ret;\nprivate int cnt = 0;\n\npublic treenode kthnode(treenode proot, int k) {\n    inorder(proot, k);\n    return ret;\n}\n\nprivate void inorder(treenode root, int k) {\n    if (root == null || cnt >= k)\n        return;\n    inorder(root.left, k);\n    cnt++;\n    if (cnt == k)\n        ret = root;\n    inorder(root.right, k);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 55.1 äºåæ çæ·±åº¦\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nä»æ ¹ç»ç¹å°å¶ç»ç¹ä¾æ¬¡ç»è¿çç»ç¹ï¼å«æ ¹ãå¶ç»ç¹ï¼å½¢ææ çä¸æ¡è·¯å¾ï¼æé¿è·¯å¾çé¿åº¦ä¸ºæ çæ·±åº¦ã\n\n\n\n\n# è§£é¢æè·¯\n\npublic int treedepth(treenode root) {\n    return root == null ? 0 : 1 + math.max(treedepth(root.left), treedepth(root.right));\n}\n\n\n1\n2\n3\n\n\n\n# 55.2 å¤æ­æ¯å¦æ¯å¹³è¡¡äºåæ \n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸æ£µèç¹æ°ä¸º n äºåæ ï¼å¤æ­è¯¥äºåæ æ¯å¦æ¯å¹³è¡¡äºåæ ã å¨è¿éï¼æä»¬åªéè¦èèå¶å¹³è¡¡æ§ï¼ä¸éè¦èèå¶æ¯ä¸æ¯æåºäºåæ  å¹³è¡¡äºåæ ï¼balanced binary treeï¼ï¼å·æä»¥ä¸æ§è´¨ï¼å®æ¯ä¸æ£µç©ºæ æå®çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿1ï¼å¹¶ä¸å·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸æ£µå¹³è¡¡äºåæ ã æ ·ä¾è§£éï¼\n\n\n\næ ·ä¾äºåæ å¦å¾ï¼ä¸ºä¸é¢å¹³è¡¡äºåæ  æ³¨ï¼æä»¬çº¦å®ç©ºæ æ¯å¹³è¡¡äºåæ ã\n\n\n# è§£é¢æè·¯\n\nprivate boolean isbalanced = true;\n\npublic boolean isbalanced_solution(treenode root) {\n    height(root);\n    return isbalanced;\n}\n\nprivate int height(treenode root) {\n    if (root == null || !isbalanced)\n        return 0;\n    int left = height(root.left);\n    int right = height(root.right);\n    if (math.abs(left - right) > 1)\n        isbalanced = false;\n    return 1 + math.max(left, right);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"è´ªå¿",frontmatter:{title:"è´ªå¿",date:"2022-10-17T22:18:27.000Z",permalink:"/pages/b54770/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/20.%E8%B4%AA%E5%BF%83.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/20.è´ªå¿.md",key:"v-1fc84936",path:"/pages/b54770/",headers:[{level:2,title:"63. è¡ç¥¨çæå¤§å©æ¶¦",slug:"_63-è¡ç¥¨çæå¤§å©æ¶¦",normalizedTitle:"63. è¡ç¥¨çæå¤§å©æ¶¦",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:93},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:132}],headersStr:"63. è¡ç¥¨çæå¤§å©æ¶¦ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯",content:"# 63. è¡ç¥¨çæå¤§å©æ¶¦\n\n\n# é¢ç®é¾æ¥\n\nLeetcodeï¼121. Best Time to Buy and Sell Stock (opens new window)\n\n\n# é¢ç®æè¿°\n\nå¯ä»¥æä¸æ¬¡ä¹°å¥åä¸æ¬¡ååºï¼ä¹°å¥å¿é¡»å¨åãæ±æå¤§æ¶çã\n\n\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨è´ªå¿ç­ç¥ï¼åè®¾ç¬¬ i è½®è¿è¡ååºæä½ï¼ä¹°å¥æä½ä»·æ ¼åºè¯¥å¨ i ä¹åå¹¶ä¸ä»·æ ¼æä½ãå æ­¤å¨éåæ°ç»æ¶è®°å½å½åæä½çä¹°å¥ä»·æ ¼ï¼å¹¶ä¸å°è¯å°æ¯ä¸ªä½ç½®é½ä½ä¸ºååºä»·æ ¼ï¼åæ¶çæå¤§çå³å¯ã\n\npublic int maxProfit(int[] prices) {\n    if (prices == null || prices.length == 0)\n        return 0;\n    int soFarMin = prices[0];\n    int maxProfit = 0;\n    for (int i = 1; i < prices.length; i++) {\n        soFarMin = Math.min(soFarMin, prices[i]);\n        maxProfit = Math.max(maxProfit, prices[i] - soFarMin);\n    }\n    return maxProfit;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n",normalizedContent:"# 63. è¡ç¥¨çæå¤§å©æ¶¦\n\n\n# é¢ç®é¾æ¥\n\nleetcodeï¼121. best time to buy and sell stock (opens new window)\n\n\n# é¢ç®æè¿°\n\nå¯ä»¥æä¸æ¬¡ä¹°å¥åä¸æ¬¡ååºï¼ä¹°å¥å¿é¡»å¨åãæ±æå¤§æ¶çã\n\n\n\n\n# è§£é¢æè·¯\n\nä½¿ç¨è´ªå¿ç­ç¥ï¼åè®¾ç¬¬ i è½®è¿è¡ååºæä½ï¼ä¹°å¥æä½ä»·æ ¼åºè¯¥å¨ i ä¹åå¹¶ä¸ä»·æ ¼æä½ãå æ­¤å¨éåæ°ç»æ¶è®°å½å½åæä½çä¹°å¥ä»·æ ¼ï¼å¹¶ä¸å°è¯å°æ¯ä¸ªä½ç½®é½ä½ä¸ºååºä»·æ ¼ï¼åæ¶çæå¤§çå³å¯ã\n\npublic int maxprofit(int[] prices) {\n    if (prices == null || prices.length == 0)\n        return 0;\n    int sofarmin = prices[0];\n    int maxprofit = 0;\n    for (int i = 1; i < prices.length; i++) {\n        sofarmin = math.min(sofarmin, prices[i]);\n        maxprofit = math.max(maxprofit, prices[i] - sofarmin);\n    }\n    return maxprofit;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"åæ²»",frontmatter:{title:"åæ²»",date:"2022-10-17T22:57:57.000Z",permalink:"/pages/87a843/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/25.%E5%88%86%E6%B2%BB.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/25.åæ²».md",key:"v-13bddd54",path:"/pages/87a843/",headers:[{level:2,title:"16. æ°å¼çæ´æ°æ¬¡æ¹",slug:"_16-æ°å¼çæ´æ°æ¬¡æ¹",normalizedTitle:"16. æ°å¼çæ´æ°æ¬¡æ¹",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:106}],headersStr:"16. æ°å¼çæ´æ°æ¬¡æ¹ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯",content:"# 16. æ°å¼çæ´æ°æ¬¡æ¹\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ª double ç±»åçæµ®ç¹æ° xå int ç±»åçæ´æ° nï¼æ± x ç n æ¬¡æ¹ã\n\n\n# è§£é¢æè·¯\n\næç´è§çè§£æ³æ¯å° x éå¤ä¹ n æ¬¡ï¼xxx...xï¼é£ä¹æ¶é´å¤æåº¦ä¸º O(N)ãå ä¸ºä¹æ³æ¯å¯äº¤æ¢çï¼æä»¥å¯ä»¥å°ä¸è¿°æä½æå¼æä¸¤å (xx..x) (x*x..*x)ï¼ä¸¤åçè®¡ç®æ¯ä¸æ ·çï¼å æ­¤åªéè¦è®¡ç®ä¸æ¬¡ãèä¸å¯¹äºæ°æå¼çè®¡ç®ï¼åå¯ä»¥ç»§ç»­æå¼ãè¿å°±æ¯åæ²»ææ³ï¼å°åé®é¢çè§æ¨¡ææå¤ä¸ªè§æ¨¡è¾å°çå­é®é¢ï¼æåå­é®é¢çè§£åå¹¶èµ·æ¥ã\n\næ¬é¢ä¸­å­é®é¢æ¯ xn/2ï¼å¨å°å­é®é¢åå¹¶æ¶å°å­é®é¢çè§£ä¹äºèªèº«ç¸ä¹å³å¯ãä½å¦æ n ä¸ä¸ºå¶æ°ï¼é£ä¹ææä¸¤åè¿ä¼å©ä¸ä¸ä¸ª xï¼å¨å°å­é®é¢åå¹¶æ¶è¿éè¦éè¦å¤ä¹äºä¸ä¸ª xã\n\n\n\nå ä¸º (x*x)n/2 å¯ä»¥éè¿éå½æ±è§£ï¼å¹¶ä¸æ¯æ¬¡éå½ n é½åå°ä¸åï¼å æ­¤æ´ä¸ªç®æ³çæ¶é´å¤æåº¦ä¸º O(logN)ã\n\npublic double Power(double x, int n) {\n    boolean isNegative = false;\n    if (n < 0) {\n        n = -n;\n        isNegative = true;\n    }\n    double res = pow(x, n);\n    return isNegative ? 1 / res : res;\n}\n\nprivate double pow(double x, int n) {\n    if (n == 0) return 1;\n    if (n == 1) return x;\n    double res = pow(x, n / 2);\n    res = res * res;\n    if (n % 2 != 0) res *= x;\n    return res;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",normalizedContent:"# 16. æ°å¼çæ´æ°æ¬¡æ¹\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nç»å®ä¸ä¸ª double ç±»åçæµ®ç¹æ° xå int ç±»åçæ´æ° nï¼æ± x ç n æ¬¡æ¹ã\n\n\n# è§£é¢æè·¯\n\næç´è§çè§£æ³æ¯å° x éå¤ä¹ n æ¬¡ï¼xxx...xï¼é£ä¹æ¶é´å¤æåº¦ä¸º o(n)ãå ä¸ºä¹æ³æ¯å¯äº¤æ¢çï¼æä»¥å¯ä»¥å°ä¸è¿°æä½æå¼æä¸¤å (xx..x) (x*x..*x)ï¼ä¸¤åçè®¡ç®æ¯ä¸æ ·çï¼å æ­¤åªéè¦è®¡ç®ä¸æ¬¡ãèä¸å¯¹äºæ°æå¼çè®¡ç®ï¼åå¯ä»¥ç»§ç»­æå¼ãè¿å°±æ¯åæ²»ææ³ï¼å°åé®é¢çè§æ¨¡ææå¤ä¸ªè§æ¨¡è¾å°çå­é®é¢ï¼æåå­é®é¢çè§£åå¹¶èµ·æ¥ã\n\næ¬é¢ä¸­å­é®é¢æ¯ xn/2ï¼å¨å°å­é®é¢åå¹¶æ¶å°å­é®é¢çè§£ä¹äºèªèº«ç¸ä¹å³å¯ãä½å¦æ n ä¸ä¸ºå¶æ°ï¼é£ä¹ææä¸¤åè¿ä¼å©ä¸ä¸ä¸ª xï¼å¨å°å­é®é¢åå¹¶æ¶è¿éè¦éè¦å¤ä¹äºä¸ä¸ª xã\n\n\n\nå ä¸º (x*x)n/2 å¯ä»¥éè¿éå½æ±è§£ï¼å¹¶ä¸æ¯æ¬¡éå½ n é½åå°ä¸åï¼å æ­¤æ´ä¸ªç®æ³çæ¶é´å¤æåº¦ä¸º o(logn)ã\n\npublic double power(double x, int n) {\n    boolean isnegative = false;\n    if (n < 0) {\n        n = -n;\n        isnegative = true;\n    }\n    double res = pow(x, n);\n    return isnegative ? 1 / res : res;\n}\n\nprivate double pow(double x, int n) {\n    if (n == 0) return 1;\n    if (n == 1) return x;\n    double res = pow(x, n / 2);\n    res = res * res;\n    if (n % 2 != 0) res *= x;\n    return res;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æåº",frontmatter:{title:"æåº",date:"2022-10-31T22:45:38.000Z",permalink:"/pages/d3dd7b/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/30.%E6%8E%92%E5%BA%8F.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/30.æåº.md",key:"v-c85da526",path:"/pages/d3dd7b/",headers:[{level:2,title:"21. è°æ´æ°ç»é¡ºåºä½¿å¥æ°ä½äºå¶æ°åé¢",slug:"_21-è°æ´æ°ç»é¡ºåºä½¿å¥æ°ä½äºå¶æ°åé¢",normalizedTitle:"21. è°æ´æ°ç»é¡ºåºä½¿å¥æ°ä½äºå¶æ°åé¢",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:26},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:58},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:169},{level:2,title:"45. ææ°ç»æææå°çæ°",slug:"_45-ææ°ç»æææå°çæ°",normalizedTitle:"45. ææ°ç»æææå°çæ°",charIndex:676},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:26},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:58},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:169}],headersStr:"21. è°æ´æ°ç»é¡ºåºä½¿å¥æ°ä½äºå¶æ°åé¢ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 45. ææ°ç»æææå°çæ° é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯",content:'# 21. è°æ´æ°ç»é¡ºåºä½¿å¥æ°ä½äºå¶æ°åé¢\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\néè¦ä¿è¯å¥æ°åå¥æ°ï¼å¶æ°åå¶æ°ä¹é´çç¸å¯¹ä½ç½®ä¸åï¼è¿åä¹¦æ¬ä¸å¤ªä¸æ ·ãä¾å¦å¯¹äº [1,2,3,4,5]ï¼è°æ´åå¾å° [1,3,5,2,4]ï¼èä¸è½æ¯ {5,1,3,4,2} è¿ç§ç¸å¯¹ä½ç½®æ¹åçç»æã\n\n\n\n\n# è§£é¢æè·¯\n\næ¹æ³ä¸ï¼åå»ºä¸ä¸ªæ°æ°ç»ï¼æ¶é´å¤æåº¦ O(N)ï¼ç©ºé´å¤æåº¦ O(N)ã\n\npublic int[] reOrderArray (int[] nums) {\n    // å¥æ°ä¸ªæ°\n    int oddCnt = 0;\n    for (int x : nums)\n        if (!isEven(x))\n            oddCnt++;\n    int[] copy = nums.clone();\n    int i = 0, j = oddCnt;\n    for (int num : copy) {\n        if (num % 2 == 1)\n            nums[i++] = num;\n        else\n            nums[j++] = num;\n    }\n    return nums;\n}\n\nprivate boolean isEven(int x) {\n    return x % 2 == 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 45. ææ°ç»æææå°çæ°\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸ä¸ªæ­£æ´æ°æ°ç»ï¼ææ°ç»éæææ°å­æ¼æ¥èµ·æ¥ææä¸ä¸ªæ°ï¼æå°è½æ¼æ¥åºçæææ°å­ä¸­æå°çä¸ä¸ªãä¾å¦è¾å¥æ°ç» {3ï¼32ï¼321}ï¼åæå°åºè¿ä¸ä¸ªæ°å­è½ææçæå°æ°å­ä¸º 321323ã\n\n\n# è§£é¢æè·¯\n\nå¯ä»¥çææ¯ä¸ä¸ªæåºé®é¢ï¼å¨æ¯è¾ä¸¤ä¸ªå­ç¬¦ä¸² S1 å S2 çå¤§å°æ¶ï¼åºè¯¥æ¯è¾çæ¯ S1+S2 å S2+S1 çå¤§å°ï¼å¦æ S1+S2 < S2+S1ï¼é£ä¹åºè¯¥æ S1 æå¨åé¢ï¼å¦ååºè¯¥æ S2 æå¨åé¢ã\n\npublic String PrintMinNumber(int[] numbers) {\n    if (numbers == null || numbers.length == 0)\n        return "";\n    int n = numbers.length;\n    String[] nums = new String[n];\n    for (int i = 0; i < n; i++)\n        nums[i] = numbers[i] + "";\n    Arrays.sort(nums, (s1, s2) -> (s1 + s2).compareTo(s2 + s1));\n    String ret = "";\n    for (String str : nums)\n        ret += str;\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',normalizedContent:'# 21. è°æ´æ°ç»é¡ºåºä½¿å¥æ°ä½äºå¶æ°åé¢\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\néè¦ä¿è¯å¥æ°åå¥æ°ï¼å¶æ°åå¶æ°ä¹é´çç¸å¯¹ä½ç½®ä¸åï¼è¿åä¹¦æ¬ä¸å¤ªä¸æ ·ãä¾å¦å¯¹äº [1,2,3,4,5]ï¼è°æ´åå¾å° [1,3,5,2,4]ï¼èä¸è½æ¯ {5,1,3,4,2} è¿ç§ç¸å¯¹ä½ç½®æ¹åçç»æã\n\n\n\n\n# è§£é¢æè·¯\n\næ¹æ³ä¸ï¼åå»ºä¸ä¸ªæ°æ°ç»ï¼æ¶é´å¤æåº¦ o(n)ï¼ç©ºé´å¤æåº¦ o(n)ã\n\npublic int[] reorderarray (int[] nums) {\n    // å¥æ°ä¸ªæ°\n    int oddcnt = 0;\n    for (int x : nums)\n        if (!iseven(x))\n            oddcnt++;\n    int[] copy = nums.clone();\n    int i = 0, j = oddcnt;\n    for (int num : copy) {\n        if (num % 2 == 1)\n            nums[i++] = num;\n        else\n            nums[j++] = num;\n    }\n    return nums;\n}\n\nprivate boolean iseven(int x) {\n    return x % 2 == 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 45. ææ°ç»æææå°çæ°\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nè¾å¥ä¸ä¸ªæ­£æ´æ°æ°ç»ï¼ææ°ç»éæææ°å­æ¼æ¥èµ·æ¥ææä¸ä¸ªæ°ï¼æå°è½æ¼æ¥åºçæææ°å­ä¸­æå°çä¸ä¸ªãä¾å¦è¾å¥æ°ç» {3ï¼32ï¼321}ï¼åæå°åºè¿ä¸ä¸ªæ°å­è½ææçæå°æ°å­ä¸º 321323ã\n\n\n# è§£é¢æè·¯\n\nå¯ä»¥çææ¯ä¸ä¸ªæåºé®é¢ï¼å¨æ¯è¾ä¸¤ä¸ªå­ç¬¦ä¸² s1 å s2 çå¤§å°æ¶ï¼åºè¯¥æ¯è¾çæ¯ s1+s2 å s2+s1 çå¤§å°ï¼å¦æ s1+s2 < s2+s1ï¼é£ä¹åºè¯¥æ s1 æå¨åé¢ï¼å¦ååºè¯¥æ s2 æå¨åé¢ã\n\npublic string printminnumber(int[] numbers) {\n    if (numbers == null || numbers.length == 0)\n        return "";\n    int n = numbers.length;\n    string[] nums = new string[n];\n    for (int i = 0; i < n; i++)\n        nums[i] = numbers[i] + "";\n    arrays.sort(nums, (s1, s2) -> (s1 + s2).compareto(s2 + s1));\n    string ret = "";\n    for (string str : nums)\n        ret += str;\n    return ret;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å¨æè§å",frontmatter:{title:"å¨æè§å",date:"2022-10-31T22:52:31.000Z",permalink:"/pages/6546a2/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/35.%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/35.å¨æè§å.md",key:"v-311026d5",path:"/pages/6546a2/",headers:[{level:2,title:"10.1 ææ³¢é£å¥æ°å",slug:"_10-1-ææ³¢é£å¥æ°å",normalizedTitle:"10.1 ææ³¢é£å¥æ°å",charIndex:2},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:85},{level:2,title:"10.2 ç©å½¢è¦ç",slug:"_10-2-ç©å½¢è¦ç",normalizedTitle:"10.2 ç©å½¢è¦ç",charIndex:820},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-2",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-2",normalizedTitle:"è§£é¢æè·¯",charIndex:85},{level:2,title:"10.4 åæè·³å°é¶",slug:"_10-4-åæè·³å°é¶",normalizedTitle:"10.4 åæè·³å°é¶",charIndex:1399},{level:3,title:"é¢ç®é¾æ¥",slug:"é¢ç®é¾æ¥-3",normalizedTitle:"é¢ç®é¾æ¥",charIndex:18},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-3",normalizedTitle:"è§£é¢æè·¯",charIndex:85},{level:4,title:"å¨æè§å",slug:"å¨æè§å",normalizedTitle:"å¨æè§å",charIndex:204},{level:4,title:"æ°å­¦æ¨å¯¼",slug:"æ°å­¦æ¨å¯¼",normalizedTitle:"æ°å­¦æ¨å¯¼",charIndex:1783},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-4",normalizedTitle:"è§£é¢æè·¯",charIndex:85},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:50},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯-5",normalizedTitle:"è§£é¢æè·¯",charIndex:85}],headersStr:"10.1 ææ³¢é£å¥æ°å é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 10.2 ç©å½¢è¦ç é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ 10.4 åæè·³å°é¶ é¢ç®é¾æ¥ é¢ç®æè¿° è§£é¢æè·¯ å¨æè§å æ°å­¦æ¨å¯¼ é¢ç®æè¿° è§£é¢æè·¯ é¢ç®æè¿° è§£é¢æè·¯",content:"# 10.1 ææ³¢é£å¥æ°å\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næ±ææ³¢é£å¥æ°åçç¬¬ n é¡¹ï¼n <= 39ã\n\n\n\n\n# è§£é¢æè·¯\n\nå¦æä½¿ç¨éå½æ±è§£ï¼ä¼éå¤è®¡ç®ä¸äºå­é®é¢ãä¾å¦ï¼è®¡ç® f(4) éè¦è®¡ç® f(3) å f(2)ï¼è®¡ç® f(3) éè¦è®¡ç® f(2) å f(1)ï¼å¯ä»¥çå° f(2) è¢«éå¤è®¡ç®äºã\n\n\n\néå½æ¯å°ä¸ä¸ªé®é¢ååæå¤ä¸ªå­é®é¢æ±è§£ï¼å¨æè§åä¹æ¯å¦æ­¤ï¼ä½æ¯å¨æè§åä¼æå­é®é¢çè§£ç¼å­èµ·æ¥ï¼ä»èé¿åéå¤æ±è§£å­é®é¢ã\n\npublic int Fibonacci(int n) {\n    if (n <= 1)\n        return n;\n    int[] fib = new int[n + 1];\n    fib[1] = 1;\n    for (int i = 2; i <= n; i++)\n        fib[i] = fib[i - 1] + fib[i - 2];\n    return fib[n];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nèèå°ç¬¬ i é¡¹åªä¸ç¬¬ i-1 åç¬¬ i-2 é¡¹æå³ï¼å æ­¤åªéè¦å­å¨åä¸¤é¡¹çå¼å°±è½æ±è§£ç¬¬ i é¡¹ï¼ä»èå°ç©ºé´å¤æåº¦ç± O(N) éä½ä¸º O(1)ã\n\npublic int Fibonacci(int n) {\n    if (n <= 1)\n        return n;\n    int pre2 = 0, pre1 = 1;\n    int fib = 0;\n    for (int i = 2; i <= n; i++) {\n        fib = pre2 + pre1;\n        pre2 = pre1;\n        pre1 = fib;\n    }\n    return fib;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 10.2 ç©å½¢è¦ç\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næä»¬å¯ä»¥ç¨ 21 çå°ç©å½¢æ¨ªçæèç«çå»è¦çæ´å¤§çç©å½¢ãè¯·é®ç¨ n ä¸ª 21 çå°ç©å½¢æ éå å°è¦çä¸ä¸ª 2*n çå¤§ç©å½¢ï¼æ»å±æå¤å°ç§æ¹æ³ï¼\n\n\n\n\n# è§£é¢æè·¯\n\nå½ n ä¸º 1 æ¶ï¼åªæä¸ç§è¦çæ¹æ³ï¼\n\n\n\nå½ n ä¸º 2 æ¶ï¼æä¸¤ç§è¦çæ¹æ³ï¼\n\n\n\nè¦è¦ç 2n çå¤§ç©å½¢ï¼å¯ä»¥åè¦ç 21 çç©å½¢ï¼åè¦ç 2*(n-1) çç©å½¢ï¼æèåè¦ç 22 çç©å½¢ï¼åè¦ç 2(n-2) çç©å½¢ãèè¦ç 2*(n-1) å 2*(n-2) çç©å½¢å¯ä»¥çæå­é®é¢ãè¯¥é®é¢çéæ¨å¬å¼å¦ä¸ï¼\n\n\n\npublic int rectCover(int n) {\n    if (n <= 2)\n        return n;\n    int pre2 = 1, pre1 = 2;\n    int result = 0;\n    for (int i = 3; i <= n; i++) {\n        result = pre2 + pre1;\n        pre2 = pre1;\n        pre1 = result;\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 10.4 åæè·³å°é¶\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nä¸åªéèä¸æ¬¡å¯ä»¥è·³ä¸ 1 çº§å°é¶ï¼ä¹å¯ä»¥è·³ä¸ 2 çº§... å®ä¹å¯ä»¥è·³ä¸ n çº§ãæ±è¯¥éèè·³ä¸ä¸ä¸ª n çº§çå°é¶æ»å±æå¤å°ç§è·³æ³ã\n\n\n\n\n# è§£é¢æè·¯\n\n# å¨æè§å\n\npublic int jumpFloorII(int target) {\n    int[] dp = new int[target];\n    Arrays.fill(dp, 1);\n    for (int i = 1; i < target; i++)\n        for (int j = 0; j < i; j++)\n            dp[i] += dp[j];\n    return dp[target - 1];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æ°å­¦æ¨å¯¼\n\nè·³ä¸ n-1 çº§å°é¶ï¼å¯ä»¥ä» n-2 çº§è·³ 1 çº§ä¸å»ï¼ä¹å¯ä»¥ä» n-3 çº§è·³ 2 çº§ä¸å»...ï¼é£ä¹\n\nf(n-1) = f(n-2) + f(n-3) + ... + f(0)\n\n\n1\n\n\nåæ ·ï¼è·³ä¸ n çº§å°é¶ï¼å¯ä»¥ä» n-1 çº§è·³ 1 çº§ä¸å»ï¼ä¹å¯ä»¥ä» n-2 çº§è·³ 2 çº§ä¸å»... ï¼é£ä¹\n\nf(n) = f(n-1) + f(n-2) + ... + f(0)\n\n\n1\n\n\nç»¼ä¸å¯å¾\n\nf(n) - f(n-1) = f(n-1)\n\n\n1\n\n\nå³\n\nf(n) = 2*f(n-1)\n\n\n1\n\n\næä»¥ f(n) æ¯ä¸ä¸ªç­æ¯æ°å\n\npublic int JumpFloorII(int target) {\n    return (int) Math.pow(2, target - 1);\n}\n\n\n1\n2\n3\n\n\n\n# 42. è¿ç»­å­æ°ç»çæå¤§å\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\n{6, -3, -2, 7, -15, 1, 2, 2}ï¼è¿ç»­å­æ°ç»çæå¤§åä¸º 8ï¼ä»ç¬¬ 0 ä¸ªå¼å§ï¼å°ç¬¬ 3 ä¸ªä¸ºæ­¢ï¼ã\n\n\n# è§£é¢æè·¯\n\npublic int FindGreatestSumOfSubArray(int[] array) {\n        int[] dp = new int[array.length];\n        int max = array[0];\n        dp[0] = array[0];\n        for(int i=1;i<array.length;i++){\n            // å¨æè§åï¼ç¶æè½¬ç§»æ¹ç¨ï¼ç¡®å®dp[i]çæå¤§å¼\n            dp[i] = Math.max(dp[i-1] + array[i], array[i]);\n            // æ¯æ¬¡æ¯è¾ï¼ä¿å­åºç°çæå¤§å¼\n            max = Math.max(max,dp[i]);\n        }\n        return max;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 47. ç¤¼ç©çæå¤§ä»·å¼\n\nNowCoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ª m*n çæ£ççæ¯ä¸ä¸ªæ ¼é½æ¾æä¸ä¸ªç¤¼ç©ï¼æ¯ä¸ªç¤¼ç©é½æä¸å®ä»·å¼ï¼å¤§äº 0ï¼ãä»å·¦ä¸è§å¼å§æ¿ç¤¼ç©ï¼æ¯æ¬¡åå³æåä¸ç§»å¨ä¸æ ¼ï¼ç´å°å³ä¸è§ç»æãç»å®ä¸ä¸ªæ£çï¼æ±æ¿å°ç¤¼ç©çæå¤§ä»·å¼ãä¾å¦ï¼å¯¹äºå¦ä¸æ£ç\n\n1    10   3    8\n12   2    9    6\n5    7    4    11\n3    7    16   5\n\n\n1\n2\n3\n4\n\n\nç¤¼ç©çæå¤§ä»·å¼ä¸º 1+12+5+7+7+16+5=53ã\n\n\n# è§£é¢æè·¯\n\nåºè¯¥ç¨å¨æè§åæ±è§£ï¼èä¸æ¯æ·±åº¦ä¼åæç´¢ï¼æ·±åº¦ä¼åæç´¢è¿äºå¤æï¼ä¸æ¯æä¼è§£ã\n\nimport java.util.*;\n\npublic class Bonus {\n    public int getMost(int[][] board) {\n        \n\t\tif(board == null || board.length==0){\n\t\t\treturn 0;\n\t\t}\n\t\t\n\t\tfor(int i=0;i<board.length;i++){\n\t\t\tfor (int j = 0; j < board[0].length; j++) {\n\t\t\t\tif(i==0 && j==0){\n\t\t\t\t\t// å¥éå°±æ¯ç¬¬ä¸ä¸ªæ ¼å­æ¬èº«\n\t\t\t\t}else if(i==0){\n\t\t\t\t\t// è¯´æå¨ç¬¬ä¸è¡   ç¬¬ä¸è¡çå¥éåªè½æ¥èªç¬¬ä¸è¡å·¦è¾¹çæ ¼å­\n                    // å¥éç­äºå½åæ ¼å­çå¥éå ä¸å·¦è¾¹æ ¼å­çå¥é\n\t\t\t\t\tboard[0][j] += board[0][j-1];\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t}else if(j==0){\n\t\t\t\t\t// è¯´æå¨ç¬¬ä¸å   ç¬¬ä¸åçå¥éåªè½æ¥èªåçä¸é¢ä¸ªæ ¼å­\n                    // å¥éç­äºå½åæ ¼å­çå¥éå ä¸ä¸é¢æ ¼å­çå¥é\n\t\t\t\t\tboard[i][0] += board[i-1][0];\t\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\t// æ¥èªä¸é¢æèå·¦è¾¹çæ ¼å­ï¼éåæå¤§å¥éçã\n                    // æå¤§å¥éç­äºå½åæ ¼å­å¥éå ä¸å·¦è¾¹æä¸é¢æ ¼å­ä¸­å¥éæ°å¤§çé£ä¸ª\n\t\t\t\t\tboard[i][j] +=Math.max(board[i][j-1],board[i-1][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// å¢å éç¨åï¼ç´æ¥ç¨æ°æ®çé¿åº¦å§\n\t\treturn board[board.length-1][board[0].length-1];\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n",normalizedContent:"# 10.1 ææ³¢é£å¥æ°å\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næ±ææ³¢é£å¥æ°åçç¬¬ n é¡¹ï¼n <= 39ã\n\n\n\n\n# è§£é¢æè·¯\n\nå¦æä½¿ç¨éå½æ±è§£ï¼ä¼éå¤è®¡ç®ä¸äºå­é®é¢ãä¾å¦ï¼è®¡ç® f(4) éè¦è®¡ç® f(3) å f(2)ï¼è®¡ç® f(3) éè¦è®¡ç® f(2) å f(1)ï¼å¯ä»¥çå° f(2) è¢«éå¤è®¡ç®äºã\n\n\n\néå½æ¯å°ä¸ä¸ªé®é¢ååæå¤ä¸ªå­é®é¢æ±è§£ï¼å¨æè§åä¹æ¯å¦æ­¤ï¼ä½æ¯å¨æè§åä¼æå­é®é¢çè§£ç¼å­èµ·æ¥ï¼ä»èé¿åéå¤æ±è§£å­é®é¢ã\n\npublic int fibonacci(int n) {\n    if (n <= 1)\n        return n;\n    int[] fib = new int[n + 1];\n    fib[1] = 1;\n    for (int i = 2; i <= n; i++)\n        fib[i] = fib[i - 1] + fib[i - 2];\n    return fib[n];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nèèå°ç¬¬ i é¡¹åªä¸ç¬¬ i-1 åç¬¬ i-2 é¡¹æå³ï¼å æ­¤åªéè¦å­å¨åä¸¤é¡¹çå¼å°±è½æ±è§£ç¬¬ i é¡¹ï¼ä»èå°ç©ºé´å¤æåº¦ç± o(n) éä½ä¸º o(1)ã\n\npublic int fibonacci(int n) {\n    if (n <= 1)\n        return n;\n    int pre2 = 0, pre1 = 1;\n    int fib = 0;\n    for (int i = 2; i <= n; i++) {\n        fib = pre2 + pre1;\n        pre2 = pre1;\n        pre1 = fib;\n    }\n    return fib;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 10.2 ç©å½¢è¦ç\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\næä»¬å¯ä»¥ç¨ 21 çå°ç©å½¢æ¨ªçæèç«çå»è¦çæ´å¤§çç©å½¢ãè¯·é®ç¨ n ä¸ª 21 çå°ç©å½¢æ éå å°è¦çä¸ä¸ª 2*n çå¤§ç©å½¢ï¼æ»å±æå¤å°ç§æ¹æ³ï¼\n\n\n\n\n# è§£é¢æè·¯\n\nå½ n ä¸º 1 æ¶ï¼åªæä¸ç§è¦çæ¹æ³ï¼\n\n\n\nå½ n ä¸º 2 æ¶ï¼æä¸¤ç§è¦çæ¹æ³ï¼\n\n\n\nè¦è¦ç 2n çå¤§ç©å½¢ï¼å¯ä»¥åè¦ç 21 çç©å½¢ï¼åè¦ç 2*(n-1) çç©å½¢ï¼æèåè¦ç 22 çç©å½¢ï¼åè¦ç 2(n-2) çç©å½¢ãèè¦ç 2*(n-1) å 2*(n-2) çç©å½¢å¯ä»¥çæå­é®é¢ãè¯¥é®é¢çéæ¨å¬å¼å¦ä¸ï¼\n\n\n\npublic int rectcover(int n) {\n    if (n <= 2)\n        return n;\n    int pre2 = 1, pre1 = 2;\n    int result = 0;\n    for (int i = 3; i <= n; i++) {\n        result = pre2 + pre1;\n        pre2 = pre1;\n        pre1 = result;\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 10.4 åæè·³å°é¶\n\n\n# é¢ç®é¾æ¥\n\nçå®¢ç½(opens new window)\n\n\n# é¢ç®æè¿°\n\nä¸åªéèä¸æ¬¡å¯ä»¥è·³ä¸ 1 çº§å°é¶ï¼ä¹å¯ä»¥è·³ä¸ 2 çº§... å®ä¹å¯ä»¥è·³ä¸ n çº§ãæ±è¯¥éèè·³ä¸ä¸ä¸ª n çº§çå°é¶æ»å±æå¤å°ç§è·³æ³ã\n\n\n\n\n# è§£é¢æè·¯\n\n# å¨æè§å\n\npublic int jumpfloorii(int target) {\n    int[] dp = new int[target];\n    arrays.fill(dp, 1);\n    for (int i = 1; i < target; i++)\n        for (int j = 0; j < i; j++)\n            dp[i] += dp[j];\n    return dp[target - 1];\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# æ°å­¦æ¨å¯¼\n\nè·³ä¸ n-1 çº§å°é¶ï¼å¯ä»¥ä» n-2 çº§è·³ 1 çº§ä¸å»ï¼ä¹å¯ä»¥ä» n-3 çº§è·³ 2 çº§ä¸å»...ï¼é£ä¹\n\nf(n-1) = f(n-2) + f(n-3) + ... + f(0)\n\n\n1\n\n\nåæ ·ï¼è·³ä¸ n çº§å°é¶ï¼å¯ä»¥ä» n-1 çº§è·³ 1 çº§ä¸å»ï¼ä¹å¯ä»¥ä» n-2 çº§è·³ 2 çº§ä¸å»... ï¼é£ä¹\n\nf(n) = f(n-1) + f(n-2) + ... + f(0)\n\n\n1\n\n\nç»¼ä¸å¯å¾\n\nf(n) - f(n-1) = f(n-1)\n\n\n1\n\n\nå³\n\nf(n) = 2*f(n-1)\n\n\n1\n\n\næä»¥ f(n) æ¯ä¸ä¸ªç­æ¯æ°å\n\npublic int jumpfloorii(int target) {\n    return (int) math.pow(2, target - 1);\n}\n\n\n1\n2\n3\n\n\n\n# 42. è¿ç»­å­æ°ç»çæå¤§å\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\n{6, -3, -2, 7, -15, 1, 2, 2}ï¼è¿ç»­å­æ°ç»çæå¤§åä¸º 8ï¼ä»ç¬¬ 0 ä¸ªå¼å§ï¼å°ç¬¬ 3 ä¸ªä¸ºæ­¢ï¼ã\n\n\n# è§£é¢æè·¯\n\npublic int findgreatestsumofsubarray(int[] array) {\n        int[] dp = new int[array.length];\n        int max = array[0];\n        dp[0] = array[0];\n        for(int i=1;i<array.length;i++){\n            // å¨æè§åï¼ç¶æè½¬ç§»æ¹ç¨ï¼ç¡®å®dp[i]çæå¤§å¼\n            dp[i] = math.max(dp[i-1] + array[i], array[i]);\n            // æ¯æ¬¡æ¯è¾ï¼ä¿å­åºç°çæå¤§å¼\n            max = math.max(max,dp[i]);\n        }\n        return max;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 47. ç¤¼ç©çæå¤§ä»·å¼\n\nnowcoder(opens new window)\n\n\n# é¢ç®æè¿°\n\nå¨ä¸ä¸ª m*n çæ£ççæ¯ä¸ä¸ªæ ¼é½æ¾æä¸ä¸ªç¤¼ç©ï¼æ¯ä¸ªç¤¼ç©é½æä¸å®ä»·å¼ï¼å¤§äº 0ï¼ãä»å·¦ä¸è§å¼å§æ¿ç¤¼ç©ï¼æ¯æ¬¡åå³æåä¸ç§»å¨ä¸æ ¼ï¼ç´å°å³ä¸è§ç»æãç»å®ä¸ä¸ªæ£çï¼æ±æ¿å°ç¤¼ç©çæå¤§ä»·å¼ãä¾å¦ï¼å¯¹äºå¦ä¸æ£ç\n\n1    10   3    8\n12   2    9    6\n5    7    4    11\n3    7    16   5\n\n\n1\n2\n3\n4\n\n\nç¤¼ç©çæå¤§ä»·å¼ä¸º 1+12+5+7+7+16+5=53ã\n\n\n# è§£é¢æè·¯\n\nåºè¯¥ç¨å¨æè§åæ±è§£ï¼èä¸æ¯æ·±åº¦ä¼åæç´¢ï¼æ·±åº¦ä¼åæç´¢è¿äºå¤æï¼ä¸æ¯æä¼è§£ã\n\nimport java.util.*;\n\npublic class bonus {\n    public int getmost(int[][] board) {\n        \n\t\tif(board == null || board.length==0){\n\t\t\treturn 0;\n\t\t}\n\t\t\n\t\tfor(int i=0;i<board.length;i++){\n\t\t\tfor (int j = 0; j < board[0].length; j++) {\n\t\t\t\tif(i==0 && j==0){\n\t\t\t\t\t// å¥éå°±æ¯ç¬¬ä¸ä¸ªæ ¼å­æ¬èº«\n\t\t\t\t}else if(i==0){\n\t\t\t\t\t// è¯´æå¨ç¬¬ä¸è¡   ç¬¬ä¸è¡çå¥éåªè½æ¥èªç¬¬ä¸è¡å·¦è¾¹çæ ¼å­\n                    // å¥éç­äºå½åæ ¼å­çå¥éå ä¸å·¦è¾¹æ ¼å­çå¥é\n\t\t\t\t\tboard[0][j] += board[0][j-1];\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t}else if(j==0){\n\t\t\t\t\t// è¯´æå¨ç¬¬ä¸å   ç¬¬ä¸åçå¥éåªè½æ¥èªåçä¸é¢ä¸ªæ ¼å­\n                    // å¥éç­äºå½åæ ¼å­çå¥éå ä¸ä¸é¢æ ¼å­çå¥é\n\t\t\t\t\tboard[i][0] += board[i-1][0];\t\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\t// æ¥èªä¸é¢æèå·¦è¾¹çæ ¼å­ï¼éåæå¤§å¥éçã\n                    // æå¤§å¥éç­äºå½åæ ¼å­å¥éå ä¸å·¦è¾¹æä¸é¢æ ¼å­ä¸­å¥éæ°å¤§çé£ä¸ª\n\t\t\t\t\tboard[i][j] +=math.max(board[i][j-1],board[i-1][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// å¢å éç¨åï¼ç´æ¥ç¨æ°æ®çé¿åº¦å§\n\t\treturn board[board.length-1][board[0].length-1];\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ°å­¦",frontmatter:{title:"æ°å­¦",date:"2022-11-01T23:22:36.000Z",permalink:"/pages/9c176f/",categories:["è®¡ç®æºåºç¡","åæOfferé¢è§£"],tags:[null]},regularPath:"/02.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/50.%E5%89%91%E6%8C%87Offer%E9%A2%98%E8%A7%A3/40.%E6%95%B0%E5%AD%A6.html",relativePath:"02.è®¡ç®æºåºç¡/50.åæOfferé¢è§£/40.æ°å­¦.md",key:"v-25d809ae",path:"/pages/9c176f/",headers:[{level:2,title:"39. æ°ç»ä¸­åºç°æ¬¡æ°è¶è¿ä¸åçæ°å­",slug:"_39-æ°ç»ä¸­åºç°æ¬¡æ°è¶è¿ä¸åçæ°å­",normalizedTitle:"39. æ°ç»ä¸­åºç°æ¬¡æ°è¶è¿ä¸åçæ°å­",charIndex:2},{level:3,title:"è§£é¢æè·¯",slug:"è§£é¢æè·¯",normalizedTitle:"è§£é¢æè·¯",charIndex:53}],headersStr:"39. æ°ç»ä¸­åºç°æ¬¡æ°è¶è¿ä¸åçæ°å­ è§£é¢æè·¯",content:"# 39. æ°ç»ä¸­åºç°æ¬¡æ°è¶è¿ä¸åçæ°å­\n\nNowCoder(opens new window)\n\n\n# è§£é¢æè·¯\n\næ³è±¡ä¸ä¸ï¼å¦ææè¿äºæ°å­å½åäººç§ï¼ä¸ä¸ªæ°å­åå¦å¤ä¸ä¸ªæ°å­æäºèµ·æ¥ï¼åå½äºå°½ãæåå©ä¸çæ¯ä¸æ¯äººæ°æå¤çé£ç§äººãè¿éè¦æ»¡è¶³ä¸ä¸ªæ¡ä»¶ï¼æç±»äººçæ°ç®ä¸å®è¦å¤§äºæ»äººæ°çä¸åã\n\nç®æ³æ­¥éª¤ï¼æä»¬éæ©è¾å¥æ°ç»ä¸­ç¬¬ä¸ä¸ªåç´ ä½ä¸ºåéåç´ candidateï¼å¹¶è®¾ç½®å¶åºç°æ¬¡æ°ä¸ºcount=1ãéåéåæ°ç»ãå½éå°ä¸candidateç¸åçåç´ ï¼count+1;ä¸åçåç´ ï¼count-1ãå½countä¸º0çæ¶åï¼éæ©ä¸ä¸ä¸ªåç´ ä¸ºåéåç´ ï¼å¹¶ä¸ç½®count=1ãéåå°æ°ç»çæåï¼å©ä¸çcandidateå°±æ¯è¦æ±çç»æã\n\nint MoreThanHalfNum_Solution(vector<int> &numbers) {\n    int candidate = numbers[0];\n    int count = 1;\n    for (int i = 1; i < numbers.size(); i++) {\n        if (numbers[i] == candidate) {\n            count++;\n        } else {\n            count--;\n        }\n        if (count == 0) {\n            candidate = numbers[i + 1];\n            count++;\n        }\n    }\n    return candidate;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",normalizedContent:"# 39. æ°ç»ä¸­åºç°æ¬¡æ°è¶è¿ä¸åçæ°å­\n\nnowcoder(opens new window)\n\n\n# è§£é¢æè·¯\n\næ³è±¡ä¸ä¸ï¼å¦ææè¿äºæ°å­å½åäººç§ï¼ä¸ä¸ªæ°å­åå¦å¤ä¸ä¸ªæ°å­æäºèµ·æ¥ï¼åå½äºå°½ãæåå©ä¸çæ¯ä¸æ¯äººæ°æå¤çé£ç§äººãè¿éè¦æ»¡è¶³ä¸ä¸ªæ¡ä»¶ï¼æç±»äººçæ°ç®ä¸å®è¦å¤§äºæ»äººæ°çä¸åã\n\nç®æ³æ­¥éª¤ï¼æä»¬éæ©è¾å¥æ°ç»ä¸­ç¬¬ä¸ä¸ªåç´ ä½ä¸ºåéåç´ candidateï¼å¹¶è®¾ç½®å¶åºç°æ¬¡æ°ä¸ºcount=1ãéåéåæ°ç»ãå½éå°ä¸candidateç¸åçåç´ ï¼count+1;ä¸åçåç´ ï¼count-1ãå½countä¸º0çæ¶åï¼éæ©ä¸ä¸ä¸ªåç´ ä¸ºåéåç´ ï¼å¹¶ä¸ç½®count=1ãéåå°æ°ç»çæåï¼å©ä¸çcandidateå°±æ¯è¦æ±çç»æã\n\nint morethanhalfnum_solution(vector<int> &numbers) {\n    int candidate = numbers[0];\n    int count = 1;\n    for (int i = 1; i < numbers.size(); i++) {\n        if (numbers[i] == candidate) {\n            count++;\n        } else {\n            count--;\n        }\n        if (count == 0) {\n            candidate = numbers[i + 1];\n            count++;\n        }\n    }\n    return candidate;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"èç°ç´¢å¼åéèç°ç´¢å¼æä»ä¹åºå«ï¼",frontmatter:{title:"èç°ç´¢å¼åéèç°ç´¢å¼æä»ä¹åºå«ï¼",date:"2022-05-21T17:08:04.000Z",permalink:"/pages/a5adb0/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/006.%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E5%92%8C%E9%9D%9E%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/006.èç°ç´¢å¼åéèç°ç´¢å¼æä»ä¹åºå«ï¼.md",key:"v-f0f711c4",path:"/pages/a5adb0/",headers:[{level:2,title:"èç°ç´¢å¼",slug:"èç°ç´¢å¼",normalizedTitle:"èç°ç´¢å¼",charIndex:2},{level:2,title:"éèç°ç´¢å¼",slug:"éèç°ç´¢å¼",normalizedTitle:"éèç°ç´¢å¼",charIndex:119}],headersStr:"èç°ç´¢å¼ éèç°ç´¢å¼",content:"# èç°ç´¢å¼\n\n * å¯¹åºInnodbå¼æä¸­çä¸»é®ç´¢å¼\n * ç´¢å¼çå¶èç¹å°±æ¯æ°æ®èç¹ -æ­£å¼èç°ç´¢å¼çé¡ºåºå°±æ¯æ°æ®çç©çå­å¨é¡ºåºï¼æä»¥ä¸ä¸ªè¡¨æå¤åªè½æä¸ä¸ªèç°ç´¢å¼ï¼å ä¸ºç©çå­å¨åªè½æä¸ä¸ªé¡ºåºãæ­£å ä¸ºä¸ä¸ªè¡¨æå¤åªè½æä¸ä¸ªèç°ç´¢å¼\n\n\n# éèç°ç´¢å¼\n\n * å¯¹åºMyISAM\n * éèç°ç´¢å¼çå¶èç¹ä»ç¶æ¯ç´¢å¼èç¹ï¼åªä¸è¿æä¸ä¸ªæéæåå¯¹åºçæ°æ®åã\n\n",normalizedContent:"# èç°ç´¢å¼\n\n * å¯¹åºinnodbå¼æä¸­çä¸»é®ç´¢å¼\n * ç´¢å¼çå¶èç¹å°±æ¯æ°æ®èç¹ -æ­£å¼èç°ç´¢å¼çé¡ºåºå°±æ¯æ°æ®çç©çå­å¨é¡ºåºï¼æä»¥ä¸ä¸ªè¡¨æå¤åªè½æä¸ä¸ªèç°ç´¢å¼ï¼å ä¸ºç©çå­å¨åªè½æä¸ä¸ªé¡ºåºãæ­£å ä¸ºä¸ä¸ªè¡¨æå¤åªè½æä¸ä¸ªèç°ç´¢å¼\n\n\n# éèç°ç´¢å¼\n\n * å¯¹åºmyisam\n * éèç°ç´¢å¼çå¶èç¹ä»ç¶æ¯ç´¢å¼èç¹ï¼åªä¸è¿æä¸ä¸ªæéæåå¯¹åºçæ°æ®åã\n\n",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° MySQL å¸¸è§ç´¢å¼ç±»åï¼ä»ç»ä¸ä¸è¦çç´¢å¼",frontmatter:{title:"ç®è¿° MySQL å¸¸è§ç´¢å¼ç±»åï¼ä»ç»ä¸ä¸è¦çç´¢å¼",date:"2022-05-21T17:08:24.000Z",permalink:"/pages/17b014/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/007.%E7%AE%80%E8%BF%B0%20MySQL%20%E5%B8%B8%E8%A7%81%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B%EF%BC%8C%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E8%A6%86%E7%9B%96%E7%B4%A2%E5%BC%95.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/007.ç®è¿° MySQL å¸¸è§ç´¢å¼ç±»åï¼ä»ç»ä¸ä¸è¦çç´¢å¼.md",key:"v-824b776c",path:"/pages/17b014/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"MySQLä¸­ InnoDB å MylSAM çåºå«æ¯ä»ä¹ï¼",frontmatter:{title:"MySQLä¸­ InnoDB å MylSAM çåºå«æ¯ä»ä¹ï¼",date:"2022-05-21T17:07:47.000Z",permalink:"/pages/3a8659/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/001.MySQL%E4%B8%AD%20InnoDB%20%E5%92%8C%20MylSAM%20%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/001.MySQLä¸­ InnoDB å MylSAM çåºå«æ¯ä»ä¹ï¼.md",key:"v-674454ac",path:"/pages/3a8659/",headers:[{level:2,title:"åºå«",slug:"åºå«",normalizedTitle:"åºå«",charIndex:37},{level:2,title:"åºæ¯éæ©",slug:"åºæ¯éæ©",normalizedTitle:"åºæ¯éæ©",charIndex:253}],headersStr:"åºå« åºæ¯éæ©",content:"MySQL5.5çæ¬å¼å§Innodbå·²ç»æä¸ºMysqlçé»è®¤å¼æ\n\n\n# åºå«\n\n * InnoDB æ¯æäºå¡ï¼MyISAM ä¸æ¯æäºå¡ã è¿æ¯ MySQL å°é»è®¤å­å¨å¼æä» MyISAM åæ InnoDB çéè¦åå ä¹ä¸\n * MyISAMéçç²åº¦æ¯è¡¨çº§çï¼èInnoDBæ¯æè¡çº§é\n * MyISAMæ¯æå¨æç±»åç´¢å¼ï¼èInnoDBä¸æ¯æå¨æç´¢å¼\n * MyISAMç¸å¯¹ç®åï¼æçä¸è¦ä¼äºInnoDBï¼å°ååºç¨å¯ä»¥èèä½¿ç¨MyISAM\n * MyISAMè¡¨ä¿å­ææä»¶å½¢å¼ï¼è·¨å¹³å°ä½¿ç¨æ´å æ¹ä¾¿\n\n\n# åºæ¯éæ©\n\nMyISAMç®¡çéäºå¡è¡¨ï¼æä¾é«éå­å¨åæ£ç´¢ä»¥åå¨ææç´¢è½åï¼å¦æååºç¨ä¸­æ§è¡å¤§éselectæä½ï¼åºè¯¥éæ©MyISAM InnoDBç¨äºäºå¡å¤çï¼å·æACIDäºå¡æ¯æç­ç¹æ§ï¼å¦æå¨åºç¨ä¸­æ§è¡å¤§éinsertåupdateæä½ï¼åºè¯¥éæ©InnoDB",normalizedContent:"mysql5.5çæ¬å¼å§innodbå·²ç»æä¸ºmysqlçé»è®¤å¼æ\n\n\n# åºå«\n\n * innodb æ¯æäºå¡ï¼myisam ä¸æ¯æäºå¡ã è¿æ¯ mysql å°é»è®¤å­å¨å¼æä» myisam åæ innodb çéè¦åå ä¹ä¸\n * myisaméçç²åº¦æ¯è¡¨çº§çï¼èinnodbæ¯æè¡çº§é\n * myisamæ¯æå¨æç±»åç´¢å¼ï¼èinnodbä¸æ¯æå¨æç´¢å¼\n * myisamç¸å¯¹ç®åï¼æçä¸è¦ä¼äºinnodbï¼å°ååºç¨å¯ä»¥èèä½¿ç¨myisam\n * myisamè¡¨ä¿å­ææä»¶å½¢å¼ï¼è·¨å¹³å°ä½¿ç¨æ´å æ¹ä¾¿\n\n\n# åºæ¯éæ©\n\nmyisamç®¡çéäºå¡è¡¨ï¼æä¾é«éå­å¨åæ£ç´¢ä»¥åå¨ææç´¢è½åï¼å¦æååºç¨ä¸­æ§è¡å¤§éselectæä½ï¼åºè¯¥éæ©myisam innodbç¨äºäºå¡å¤çï¼å·æacidäºå¡æ¯æç­ç¹æ§ï¼å¦æå¨åºç¨ä¸­æ§è¡å¤§éinsertåupdateæä½ï¼åºè¯¥éæ©innodb",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"MySQL ä¸ºä»ä¹ä½¿ç¨ B+ æ æ¥ä½ç´¢å¼ï¼å¯¹æ¯ B æ å®çä¼ç¹åç¼ºç¹æ¯ä»ä¹",frontmatter:{title:"MySQL ä¸ºä»ä¹ä½¿ç¨ B+ æ æ¥ä½ç´¢å¼ï¼å¯¹æ¯ B æ å®çä¼ç¹åç¼ºç¹æ¯ä»ä¹",date:"2022-05-21T17:05:11.000Z",permalink:"/pages/bc5538/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/020.MySQL%20%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%20B+%20%E6%A0%91%E6%9D%A5%E4%BD%9C%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%AF%B9%E6%AF%94%20B%20%E6%A0%91%E5%AE%83%E7%9A%84%E4%BC%98%E7%82%B9%E5%92%8C%E7%BC%BA%E7%82%B9%E6%98%AF%E4%BB%80%E4%B9%88.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/020.MySQL ä¸ºä»ä¹ä½¿ç¨ B+ æ æ¥ä½ç´¢å¼ï¼å¯¹æ¯ B æ å®çä¼ç¹åç¼ºç¹æ¯ä»ä¹.md",key:"v-6c681639",path:"/pages/bc5538/",headers:[{level:2,title:"ç£çå­ååç",slug:"ç£çå­ååç",normalizedTitle:"ç£çå­ååç",charIndex:59},{level:2,title:"B-/+Treeç´¢å¼çæ§è½åæ",slug:"b-treeç´¢å¼çæ§è½åæ",normalizedTitle:"b-/+treeç´¢å¼çæ§è½åæ",charIndex:246}],headersStr:"ç£çå­ååç B-/+Treeç´¢å¼çæ§è½åæ",content:"> ç´¢å¼æ¬èº«ä¹æ¯ä»¥æä»¶çå½¢å¼å­å¨å¨ç£çä¸ï¼ç´¢å¼æ¥æ¾è¿ç¨ä¸­å­å¨I/Oæ¶èï¼éç¨B treeç»æå¯ä»¥åå°I/Oã\n\n\n# ç£çå­ååç\n\n> å±é¨æ§åçä¸ç£çé¢è¯»ï¼å½ä¸ä¸ªæ°æ®è¢«ç¨å°æ¶ï¼å¶éè¿çæ°æ®ä¹å¾å¿«ä¼è¢«ç¨å°ã é¢è¯»çé¿åº¦ä¸è¬ä¸ºé¡µçæ´æ°åï¼ä¸»å­åç£çä»¥é¡µä¸ºåä½äº¤æ¢æ°æ®ã\n\nç£çåç£å¤´ææäºå­åç©çç»æãåå¿åç¯æ¯ç£éï¼ç£éè¢«ååæä¸ä¸ªä¸ªæ®µï¼å«æåºï¼æåºæ¯æå°å­å¨ååã i/oè¯»åæ°æ®çè¿ç¨ï¼ç£çæè½¬å°æå®æåºï¼ç£å¤´ç§»å¨å°æå®ç£éã æä»¥åå°ç£çæè½¬æèåå°ç£å¤´ç§»å¨å°±è½åå°i/oã\n\n\n# B-/+Treeç´¢å¼çæ§è½åæ\n\nB Treeå©ç¨å±é¨æ§åçå¯åå°i/oæ¬¡æ°ã æ ¹æ®B Treeå®ä¹å¯ç¥ï¼æ£ç´¢ä¸æ¬¡æå¤éè¦è®¿é®hä¸ªèç¹ï¼h-1æ¬¡i/oï¼hæ¯æ é«ï¼mysqlè®¾è®¡èå·§å¦çå°ä¸ä¸ªèç¹å¤§å°è®¾ç½®ä¸ºç­äºä¸ä¸ªé¡µå¤§å°ï¼æ¯æ¬¡æ°å»ºèç¹é½ç³è¯·ä¸ä¸ªé¡µçç©ºé´ï¼è¿æ ·å°±ä¿è¯ä¸ä¸ªèç¹ç©çä¸ä¹å­å¨å¨ä¸ä¸ªé¡µï¼è¿æ ·æ¯ä¸ªèç¹åªéè¦ä¸æ¬¡i/oå°±å¯ä»¥å®å¨è½½å¥ã",normalizedContent:"> ç´¢å¼æ¬èº«ä¹æ¯ä»¥æä»¶çå½¢å¼å­å¨å¨ç£çä¸ï¼ç´¢å¼æ¥æ¾è¿ç¨ä¸­å­å¨i/oæ¶èï¼éç¨b treeç»æå¯ä»¥åå°i/oã\n\n\n# ç£çå­ååç\n\n> å±é¨æ§åçä¸ç£çé¢è¯»ï¼å½ä¸ä¸ªæ°æ®è¢«ç¨å°æ¶ï¼å¶éè¿çæ°æ®ä¹å¾å¿«ä¼è¢«ç¨å°ã é¢è¯»çé¿åº¦ä¸è¬ä¸ºé¡µçæ´æ°åï¼ä¸»å­åç£çä»¥é¡µä¸ºåä½äº¤æ¢æ°æ®ã\n\nç£çåç£å¤´ææäºå­åç©çç»æãåå¿åç¯æ¯ç£éï¼ç£éè¢«ååæä¸ä¸ªä¸ªæ®µï¼å«æåºï¼æåºæ¯æå°å­å¨ååã i/oè¯»åæ°æ®çè¿ç¨ï¼ç£çæè½¬å°æå®æåºï¼ç£å¤´ç§»å¨å°æå®ç£éã æä»¥åå°ç£çæè½¬æèåå°ç£å¤´ç§»å¨å°±è½åå°i/oã\n\n\n# b-/+treeç´¢å¼çæ§è½åæ\n\nb treeå©ç¨å±é¨æ§åçå¯åå°i/oæ¬¡æ°ã æ ¹æ®b treeå®ä¹å¯ç¥ï¼æ£ç´¢ä¸æ¬¡æå¤éè¦è®¿é®hä¸ªèç¹ï¼h-1æ¬¡i/oï¼hæ¯æ é«ï¼mysqlè®¾è®¡èå·§å¦çå°ä¸ä¸ªèç¹å¤§å°è®¾ç½®ä¸ºç­äºä¸ä¸ªé¡µå¤§å°ï¼æ¯æ¬¡æ°å»ºèç¹é½ç³è¯·ä¸ä¸ªé¡µçç©ºé´ï¼è¿æ ·å°±ä¿è¯ä¸ä¸ªèç¹ç©çä¸ä¹å­å¨å¨ä¸ä¸ªé¡µï¼è¿æ ·æ¯ä¸ªèç¹åªéè¦ä¸æ¬¡i/oå°±å¯ä»¥å®å¨è½½å¥ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿°Mysqlçäºå¡éç¦»çº§å«",frontmatter:{title:"ç®è¿°Mysqlçäºå¡éç¦»çº§å«",date:"2022-05-20T11:35:30.000Z",permalink:"/pages/9f2936/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/010.%E7%AE%80%E8%BF%B0Mysql%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/010.ç®è¿°Mysqlçäºå¡éç¦»çº§å«.md",key:"v-7e02c4a1",path:"/pages/9f2936/",headers:[{level:2,title:"READ UNCOMMITTED (æªæäº¤è¯»)",slug:"read-uncommitted-æªæäº¤è¯»",normalizedTitle:"read uncommitted (æªæäº¤è¯»)",charIndex:2},{level:2,title:"READ COMMITTED (æäº¤è¯»)",slug:"read-committed-æäº¤è¯»",normalizedTitle:"read committed (æäº¤è¯»)",charIndex:55},{level:2,title:"REPEATABLE READ (å¯éå¤è¯»)",slug:"repeatable-read-å¯éå¤è¯»",normalizedTitle:"repeatable read (å¯éå¤è¯»)",charIndex:117},{level:2,title:"SERIALIZABLE (å¯ä¸²è¡å)",slug:"serializable-å¯ä¸²è¡å",normalizedTitle:"serializable (å¯ä¸²è¡å)",charIndex:168}],headersStr:"READ UNCOMMITTED (æªæäº¤è¯») READ COMMITTED (æäº¤è¯») REPEATABLE READ (å¯éå¤è¯») SERIALIZABLE (å¯ä¸²è¡å)",content:"# READ UNCOMMITTED (æªæäº¤è¯»)\n\nå­å¨èè¯»é®é¢ å­å¨ä¸å¯éå¤è¯»é®é¢ å­å¨å¹»è¯»é®é¢\n\n\n# READ COMMITTED (æäº¤è¯»)\n\nåªè¯»å·²ç»äºç©æäº¤çæ°æ®ï¼ä¸å­å¨èè¯»ã å­å¨ä¸å¯éå¤è¯»é®é¢ å­å¨å¹»è¯»é®é¢\n\n\n# REPEATABLE READ (å¯éå¤è¯»)\n\næ¯mysqlé»è®¤çéç¦»çº§å« mvccè§£å³å¹»è¯»\n\n\n# SERIALIZABLE (å¯ä¸²è¡å)\n\nè¯»åä¸²è¡åï¼æçå¤ªä½ï¼æ²¡äººä½¿ç¨ã",normalizedContent:"# read uncommitted (æªæäº¤è¯»)\n\nå­å¨èè¯»é®é¢ å­å¨ä¸å¯éå¤è¯»é®é¢ å­å¨å¹»è¯»é®é¢\n\n\n# read committed (æäº¤è¯»)\n\nåªè¯»å·²ç»äºç©æäº¤çæ°æ®ï¼ä¸å­å¨èè¯»ã å­å¨ä¸å¯éå¤è¯»é®é¢ å­å¨å¹»è¯»é®é¢\n\n\n# repeatable read (å¯éå¤è¯»)\n\næ¯mysqlé»è®¤çéç¦»çº§å« mvccè§£å³å¹»è¯»\n\n\n# serializable (å¯ä¸²è¡å)\n\nè¯»åä¸²è¡åï¼æçå¤ªä½ï¼æ²¡äººä½¿ç¨ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"è¯´ä¸ä¸Mysqlé",frontmatter:{title:"è¯´ä¸ä¸Mysqlé",date:"2022-05-21T22:59:15.000Z",permalink:"/pages/b17e88/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/015.%E8%AF%B4%E4%B8%80%E4%B8%8BMysql%E9%94%81.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/015.è¯´ä¸ä¸Mysqlé.md",key:"v-5b0e09c6",path:"/pages/b17e88/",headers:[{level:2,title:"éç±»å",slug:"éç±»å",normalizedTitle:"éç±»å",charIndex:2},{level:2,title:"Record lockãgap lockãnext-key lock",slug:"record-lockãgap-lockãnext-key-lock",normalizedTitle:"record lockãgap lockãnext-key lock",charIndex:1049},{level:2,title:"éé½å å¨åªäºèµæºä¸",slug:"éé½å å¨åªäºèµæºä¸",normalizedTitle:"éé½å å¨åªäºèµæºä¸",charIndex:1599},{level:2,title:"4.4 åç§æ¡ä»¶ä¸çå é",slug:"_4-4-åç§æ¡ä»¶ä¸çå é",normalizedTitle:"4.4 åç§æ¡ä»¶ä¸çå é",charIndex:1867}],headersStr:"éç±»å Record lockãgap lockãnext-key lock éé½å å¨åªäºèµæºä¸ 4.4 åç§æ¡ä»¶ä¸çå é",content:"# éç±»å\n\n * å±äº«éï¼Sï¼:éä½ä¸è¡ï¼é»æ­¢å¶ä»äºç©è·å¾ç¸åæ°æ®éçæä»é\n * æä»éï¼Xï¼:éä½ä¸è¡ï¼é»æ­¢å¶ä»äºç©è·å¾ç¸åæ°æ®éçå±äº«éåæä»é\n\nä¸ºäºå®ç°è¡¨éåè¡éå±å­ï¼InnoDBåé¨è¿ä½¿ç¨äºæåéï¼è¿ä¸¤ç§æåéé½æ¯è¡¨éã\n\n * æåå±äº«éï¼ISï¼:è·å¾æ°æ®è¡çSéåè¦åè·å¾è¡¨çISé\n * æåæä»éï¼IXï¼:è·å¾æ°æ®è¡çXéåè¦åè·å¾è¡¨çIXé\n\nå¼å®¹ç©éµ\n\né¡¹ç®   X    IX   S    IS\nX    å²çª   å²çª   å²çª   å²çª\nIX   å²çª        å²çª   \nS    å²çª   å²çª        \nIS   å²çª             \n\nä¸ºä»ä¹è¦ä½¿ç¨æåéï¼ å¨æ²¡ææåéæåµä¸ï¼äºç©T1ç³è¯·äºè¡æä»éï¼å¦æäºç©T2è¦ç³è¯·è¡¨æä»éï¼å°±è¦éåè¡¨çææéçææ²¡æè¡æä»éï¼è¿æ¯èè´¹æ§è½çãæäºæåéï¼å¤æ­æ¯å¦ææåæä»éå°±å¯ä»¥äºã\n\næåå±äº«éå¯ä»¥å¤ä¸ªå¹¶å­ï¼æåæä»éåªè½æä¸ä¸ªã\n\nå¨å¼å®¹ç©éµä¸­ï¼ä¸ºä»ä¹IXåIXæ¯å¼å®¹çï¼ å ä¸ºIXå­å¨çæ¡ä»¶æ¯è¡¨ä¸­æè¡æä»éï¼IXå­å¨çç®çæ¯é»æ­¢å¶ä»äºç©ç³è¯·è¡¨æä»éï¼ä½æ¯ä¸ç»ç»å¶ä»äºç©ç³è¯·è¡æä»éã æä»¥ï¼å½è¡¨ä¸­å­å¨IXéï¼å¨ç³è¯·è¡æä»éæ¶ï¼ä¼åç³è¯·IXéå¹¶ä¸ç³è¯·æå ä½æ¯å¦æç³è¯·è¡¨æä»éåç³è¯·å¤±è´¥ã\n\nä»ä¹SQLå ä»ä¹éï¼ æåéæ¯InnoDBèªå¨å çï¼æ éç¨æ·å¹²é¢ã updateãdeleteãinsertï¼InnoDBèªå¨å æä»éã éæ¾å¼å éçselectï¼InnoDBä¸ä¼å éã\n\nselectå éï¼ å±äº«éï¼Sï¼ï¼SELECT * FROM table_name WHERE ... LOCK IN SHARE MODEã æä»éï¼X)ï¼SELECT * FROM table_name WHERE ... FOR UPDATEã\n\ninsertå éï¼ insertä¼å¨insertæå¨è¡å æä»éï¼è¿æ¯ä¸ä¸ªrecord lockã ä¸è¿ï¼å¨insertä¹åä¼åå ä¸ç§éï¼å®æ¹ç§°ä¸ºinsertion intention gap lockï¼ä¹å°±æ¯æågapéãæågapéå¯ä»¥åæ¶å­å¨å¤ä¸ªï¼ä¸¤ä¸ªäºç©å¯ä»¥ç»ç¸åçgapå æågapéï¼åªè¦æå¥çè®°å½å¯ä¸é®ä¸åï¼ä¸¤ä¸ªäºç©çinserté½ä¼æåã ä¸ºä»ä¹éè¦æågapéï¼ ï¼ä¸ªäººçè§£ï¼å¦ææ²¡ææågapéï¼insertæ¶éè¦å¯¹æ¯æææªæäº¤çinsertè®°å½ï¼çæ¯ä¸æ¯å¯ä¸é®å²çªãægapéï¼ååªéè¦åè·å¾è¿ä¸ªgapéçäºå¡æ¯è¾å¯ä¸é®ã\n\n\n# Record lockãgap lockãnext-key lock\n\nä¸ç§ç±»åçæä»éï¼éå®æ°æ®èå´ä¸åï¼ Record lock:åªéä¸è¡æ°æ®ï¼æå¯ä¸é®å é gap lockï¼éä½ä¸¤ä¸ªç´¢å¼ä¹é´çé´éï¼ä½ä¸åå«è®°å½æ¬èº« åªæä¸¤ç§æåµææåçº¯çgapéï¼ next-key lockï¼Record lock+gap lockã\n\nä¸¾ä¸ªä¾å­æ¥çè¿ä¸ç§æä»é.å¦ä¸è¡¨ï¼idä¸ºPKã\n\nID   NAME\n10   a\n20   b\n50   c\n\nRecord Lockï¼select * from tab where id = 10 for update; //å¯¹id=10åè¡è¿è¡å é Gap Lockéèå´ï¼ï¼- âï¼10ï¼ï¼10ï¼20ï¼ï¼20ï¼50ï¼ï¼50ï¼+âï¼ Next-Key Lockéèå´ï¼ï¼- âï¼10ï¼[10ï¼20ï¼[20ï¼50ï¼[50ï¼+âï¼\n\nåªæä¸¤ç§åºæ¯ä¼æåçº¯çgap lock:\n\n * update t set name ='d' where id > 60; éå® (60,+â),è¿éåªægapéï¼æ²¡æç´¢å¼æ¬èº«çéã\n * update t set name ='d' where id < 1; éå® (- â,1),è¿éåªægapéï¼æ²¡æç´¢å¼æ¬èº«çéã\n\n\n# éé½å å¨åªäºèµæºä¸\n\n * è¡¨\n * ç´¢å¼ï¼ä¸»é®ç´¢å¼ãå¯ä¸ç´¢å¼ãæ®éç´¢å¼ï¼\n * ç´¢å¼ä¹é´çgap\n\nä¸ºä»ä¹ä»»ä½sessioné½insertä¸è¿å»ï¼ å¯è½æ¯ï¼è¡¨æ°æ®å°ï¼æä¸ä¸ªäºç©å¨æ§è¡updateæ¶å¨è¡¨æ«æï¼æè¡¨éä½äºã\n\nè¿ç§é»è¾ï¼åselectåupdateï¼æä»ä¹é®é¢ï¼ selectæ¯å¿«ç§è¯»ï¼updateæ¯å½åè¯»ï¼å¯è½ä¼åºç°å¹»è¯»å¯¼è´æ°æ®ä¸ä¸è´ã è§£å³åæ³ï¼\n\n * ä¹è§é update set version=v+1 where version=v\n * æ²è§é select * from t for update\n\n\n# 4.4 åç§æ¡ä»¶ä¸çå é\n\nç»å®SQLï¼delete from t1 where id = 10; é£ä¹ï¼å½åçäºç©éç¦»çº§å«RCãRRãidçç´¢å¼æåµãæå¦ä¸è®¨è®ºï¼\n\n-      RC                                                                                                                                         RR\nä¸»é®ç´¢å¼   [å¤é¾å¾çè½¬å­ä¸­...(img-vkCidSBQ-1653142673824)]åªéè¦å°ä¸»é®ä¸ï¼id =                                                                                       [å¤é¾å¾çè½¬å­ä¸­...(img-IznzsLkw-1653142673825)]åªéè¦å°ä¸»é®ä¸ï¼id =\n       10çè®°å½å ä¸Xéå³å¯                                                                                                                                10çè®°å½å ä¸Xéå³å¯\nå¯ä¸ç´¢å¼   [å¤é¾å¾çè½¬å­ä¸­...(img-I8ESnpgb-1653142673825)]æ­¤ç»åä¸­ï¼idæ¯uniqueç´¢å¼ï¼èä¸»é®æ¯nameåãé¦åä¼å°uniqueç´¢å¼ä¸çid=10ç´¢å¼è®°å½å ä¸Xéï¼åæ¶ï¼ä¼æ ¹æ®è¯»åå°çnameåï¼åä¸»é®ç´¢å¼(èç°ç´¢å¼)ï¼ç¶åå°èç°ç´¢å¼ä¸çname   [å¤é¾å¾çè½¬å­ä¸­...(img-ULIYfRJG-1653142673826)]æ­¤ç»åä¸­ï¼idæ¯uniqueç´¢å¼ï¼èä¸»é®æ¯nameåãé¦åä¼å°uniqueç´¢å¼ä¸çid=10ç´¢å¼è®°å½å ä¸Xéï¼åæ¶ï¼ä¼æ ¹æ®è¯»åå°çnameåï¼åä¸»é®ç´¢å¼(èç°ç´¢å¼)ï¼ç¶åå°èç°ç´¢å¼ä¸çname\n       = âdâ å¯¹åºçä¸»é®ç´¢å¼é¡¹å Xéã                                                                                                                         = âdâ å¯¹åºçä¸»é®ç´¢å¼é¡¹å Xéã\næ®éç´¢å¼   [å¤é¾å¾çè½¬å­ä¸­...(img-LMDZXlly-1653142673826)]idåç´¢å¼ä¸ï¼æ»¡è¶³id =                                                                                      [å¤é¾å¾çè½¬å­ä¸­...(img-KS9pBMEu-1653142673827)]ä¸å·¦å¾çå¯ä¸ä¸åå¨äºï¼å¨ä¸»é®ä¸å äºgapéã\n       10æ¥è¯¢æ¡ä»¶çè®°å½ï¼åå·²å éãåæ¶ï¼è¿äºè®°å½å¯¹åºçä¸»é®ç´¢å¼ä¸çè®°å½ä¹é½å ä¸äºé\néç´¢å¼    [å¤é¾å¾çè½¬å­ä¸­...(img-RmaEu3Nd-1653142673827)]è¿è¡å¨é¨æ«æãèç°ç´¢å¼ä¸ææçè®°å½ï¼é½è¢«å ä¸äºXé                                                                          [å¤é¾å¾çè½¬å­ä¸­...(img-cffdiN3C-1653142673827)]å¨è¡¨è®°å½å Xéï¼èç°ç´¢å¼çæ¯ä¸ªgapé½å gapé",normalizedContent:"# éç±»å\n\n * å±äº«éï¼sï¼:éä½ä¸è¡ï¼é»æ­¢å¶ä»äºç©è·å¾ç¸åæ°æ®éçæä»é\n * æä»éï¼xï¼:éä½ä¸è¡ï¼é»æ­¢å¶ä»äºç©è·å¾ç¸åæ°æ®éçå±äº«éåæä»é\n\nä¸ºäºå®ç°è¡¨éåè¡éå±å­ï¼innodbåé¨è¿ä½¿ç¨äºæåéï¼è¿ä¸¤ç§æåéé½æ¯è¡¨éã\n\n * æåå±äº«éï¼isï¼:è·å¾æ°æ®è¡çséåè¦åè·å¾è¡¨çisé\n * æåæä»éï¼ixï¼:è·å¾æ°æ®è¡çxéåè¦åè·å¾è¡¨çixé\n\nå¼å®¹ç©éµ\n\né¡¹ç®   x    ix   s    is\nx    å²çª   å²çª   å²çª   å²çª\nix   å²çª        å²çª   \ns    å²çª   å²çª        \nis   å²çª             \n\nä¸ºä»ä¹è¦ä½¿ç¨æåéï¼ å¨æ²¡ææåéæåµä¸ï¼äºç©t1ç³è¯·äºè¡æä»éï¼å¦æäºç©t2è¦ç³è¯·è¡¨æä»éï¼å°±è¦éåè¡¨çææéçææ²¡æè¡æä»éï¼è¿æ¯èè´¹æ§è½çãæäºæåéï¼å¤æ­æ¯å¦ææåæä»éå°±å¯ä»¥äºã\n\næåå±äº«éå¯ä»¥å¤ä¸ªå¹¶å­ï¼æåæä»éåªè½æä¸ä¸ªã\n\nå¨å¼å®¹ç©éµä¸­ï¼ä¸ºä»ä¹ixåixæ¯å¼å®¹çï¼ å ä¸ºixå­å¨çæ¡ä»¶æ¯è¡¨ä¸­æè¡æä»éï¼ixå­å¨çç®çæ¯é»æ­¢å¶ä»äºç©ç³è¯·è¡¨æä»éï¼ä½æ¯ä¸ç»ç»å¶ä»äºç©ç³è¯·è¡æä»éã æä»¥ï¼å½è¡¨ä¸­å­å¨ixéï¼å¨ç³è¯·è¡æä»éæ¶ï¼ä¼åç³è¯·ixéå¹¶ä¸ç³è¯·æå ä½æ¯å¦æç³è¯·è¡¨æä»éåç³è¯·å¤±è´¥ã\n\nä»ä¹sqlå ä»ä¹éï¼ æåéæ¯innodbèªå¨å çï¼æ éç¨æ·å¹²é¢ã updateãdeleteãinsertï¼innodbèªå¨å æä»éã éæ¾å¼å éçselectï¼innodbä¸ä¼å éã\n\nselectå éï¼ å±äº«éï¼sï¼ï¼select * from table_name where ... lock in share modeã æä»éï¼x)ï¼select * from table_name where ... for updateã\n\ninsertå éï¼ insertä¼å¨insertæå¨è¡å æä»éï¼è¿æ¯ä¸ä¸ªrecord lockã ä¸è¿ï¼å¨insertä¹åä¼åå ä¸ç§éï¼å®æ¹ç§°ä¸ºinsertion intention gap lockï¼ä¹å°±æ¯æågapéãæågapéå¯ä»¥åæ¶å­å¨å¤ä¸ªï¼ä¸¤ä¸ªäºç©å¯ä»¥ç»ç¸åçgapå æågapéï¼åªè¦æå¥çè®°å½å¯ä¸é®ä¸åï¼ä¸¤ä¸ªäºç©çinserté½ä¼æåã ä¸ºä»ä¹éè¦æågapéï¼ ï¼ä¸ªäººçè§£ï¼å¦ææ²¡ææågapéï¼insertæ¶éè¦å¯¹æ¯æææªæäº¤çinsertè®°å½ï¼çæ¯ä¸æ¯å¯ä¸é®å²çªãægapéï¼ååªéè¦åè·å¾è¿ä¸ªgapéçäºå¡æ¯è¾å¯ä¸é®ã\n\n\n# record lockãgap lockãnext-key lock\n\nä¸ç§ç±»åçæä»éï¼éå®æ°æ®èå´ä¸åï¼ record lock:åªéä¸è¡æ°æ®ï¼æå¯ä¸é®å é gap lockï¼éä½ä¸¤ä¸ªç´¢å¼ä¹é´çé´éï¼ä½ä¸åå«è®°å½æ¬èº« åªæä¸¤ç§æåµææåçº¯çgapéï¼ next-key lockï¼record lock+gap lockã\n\nä¸¾ä¸ªä¾å­æ¥çè¿ä¸ç§æä»é.å¦ä¸è¡¨ï¼idä¸ºpkã\n\nid   name\n10   a\n20   b\n50   c\n\nrecord lockï¼select * from tab where id = 10 for update; //å¯¹id=10åè¡è¿è¡å é gap lockéèå´ï¼ï¼- âï¼10ï¼ï¼10ï¼20ï¼ï¼20ï¼50ï¼ï¼50ï¼+âï¼ next-key lockéèå´ï¼ï¼- âï¼10ï¼[10ï¼20ï¼[20ï¼50ï¼[50ï¼+âï¼\n\nåªæä¸¤ç§åºæ¯ä¼æåçº¯çgap lock:\n\n * update t set name ='d' where id > 60; éå® (60,+â),è¿éåªægapéï¼æ²¡æç´¢å¼æ¬èº«çéã\n * update t set name ='d' where id < 1; éå® (- â,1),è¿éåªægapéï¼æ²¡æç´¢å¼æ¬èº«çéã\n\n\n# éé½å å¨åªäºèµæºä¸\n\n * è¡¨\n * ç´¢å¼ï¼ä¸»é®ç´¢å¼ãå¯ä¸ç´¢å¼ãæ®éç´¢å¼ï¼\n * ç´¢å¼ä¹é´çgap\n\nä¸ºä»ä¹ä»»ä½sessioné½insertä¸è¿å»ï¼ å¯è½æ¯ï¼è¡¨æ°æ®å°ï¼æä¸ä¸ªäºç©å¨æ§è¡updateæ¶å¨è¡¨æ«æï¼æè¡¨éä½äºã\n\nè¿ç§é»è¾ï¼åselectåupdateï¼æä»ä¹é®é¢ï¼ selectæ¯å¿«ç§è¯»ï¼updateæ¯å½åè¯»ï¼å¯è½ä¼åºç°å¹»è¯»å¯¼è´æ°æ®ä¸ä¸è´ã è§£å³åæ³ï¼\n\n * ä¹è§é update set version=v+1 where version=v\n * æ²è§é select * from t for update\n\n\n# 4.4 åç§æ¡ä»¶ä¸çå é\n\nç»å®sqlï¼delete from t1 where id = 10; é£ä¹ï¼å½åçäºç©éç¦»çº§å«rcãrrãidçç´¢å¼æåµãæå¦ä¸è®¨è®ºï¼\n\n-      rc                                                                                                                                         rr\nä¸»é®ç´¢å¼   [å¤é¾å¾çè½¬å­ä¸­...(img-vkcidsbq-1653142673824)]åªéè¦å°ä¸»é®ä¸ï¼id =                                                                                       [å¤é¾å¾çè½¬å­ä¸­...(img-iznzslkw-1653142673825)]åªéè¦å°ä¸»é®ä¸ï¼id =\n       10çè®°å½å ä¸xéå³å¯                                                                                                                                10çè®°å½å ä¸xéå³å¯\nå¯ä¸ç´¢å¼   [å¤é¾å¾çè½¬å­ä¸­...(img-i8esnpgb-1653142673825)]æ­¤ç»åä¸­ï¼idæ¯uniqueç´¢å¼ï¼èä¸»é®æ¯nameåãé¦åä¼å°uniqueç´¢å¼ä¸çid=10ç´¢å¼è®°å½å ä¸xéï¼åæ¶ï¼ä¼æ ¹æ®è¯»åå°çnameåï¼åä¸»é®ç´¢å¼(èç°ç´¢å¼)ï¼ç¶åå°èç°ç´¢å¼ä¸çname   [å¤é¾å¾çè½¬å­ä¸­...(img-uliyfrjg-1653142673826)]æ­¤ç»åä¸­ï¼idæ¯uniqueç´¢å¼ï¼èä¸»é®æ¯nameåãé¦åä¼å°uniqueç´¢å¼ä¸çid=10ç´¢å¼è®°å½å ä¸xéï¼åæ¶ï¼ä¼æ ¹æ®è¯»åå°çnameåï¼åä¸»é®ç´¢å¼(èç°ç´¢å¼)ï¼ç¶åå°èç°ç´¢å¼ä¸çname\n       = âdâ å¯¹åºçä¸»é®ç´¢å¼é¡¹å xéã                                                                                                                         = âdâ å¯¹åºçä¸»é®ç´¢å¼é¡¹å xéã\næ®éç´¢å¼   [å¤é¾å¾çè½¬å­ä¸­...(img-lmdzxlly-1653142673826)]idåç´¢å¼ä¸ï¼æ»¡è¶³id =                                                                                      [å¤é¾å¾çè½¬å­ä¸­...(img-ks9pbmeu-1653142673827)]ä¸å·¦å¾çå¯ä¸ä¸åå¨äºï¼å¨ä¸»é®ä¸å äºgapéã\n       10æ¥è¯¢æ¡ä»¶çè®°å½ï¼åå·²å éãåæ¶ï¼è¿äºè®°å½å¯¹åºçä¸»é®ç´¢å¼ä¸çè®°å½ä¹é½å ä¸äºé\néç´¢å¼    [å¤é¾å¾çè½¬å­ä¸­...(img-rmaeu3nd-1653142673827)]è¿è¡å¨é¨æ«æãèç°ç´¢å¼ä¸ææçè®°å½ï¼é½è¢«å ä¸äºxé                                                                          [å¤é¾å¾çè½¬å­ä¸­...(img-cffdin3c-1653142673827)]å¨è¡¨è®°å½å xéï¼èç°ç´¢å¼çæ¯ä¸ªgapé½å gapé",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿°ä¹è§éä»¥åæ²è§éçåºå«ä»¥åä½¿ç¨åºæ¯",frontmatter:{title:"ç®è¿°ä¹è§éä»¥åæ²è§éçåºå«ä»¥åä½¿ç¨åºæ¯",date:"2022-05-21T17:05:33.000Z",permalink:"/pages/57561d/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/030.%E7%AE%80%E8%BF%B0%E4%B9%90%E8%A7%82%E9%94%81%E4%BB%A5%E5%8F%8A%E6%82%B2%E8%A7%82%E9%94%81%E7%9A%84%E5%8C%BA%E5%88%AB%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/030.ç®è¿°ä¹è§éä»¥åæ²è§éçåºå«ä»¥åä½¿ç¨åºæ¯.md",key:"v-c39c4fe2",path:"/pages/57561d/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿°ä»ä¹æ¯æå·¦å¹éåå",frontmatter:{title:"ç®è¿°ä»ä¹æ¯æå·¦å¹éåå",date:"2022-05-21T17:06:10.000Z",permalink:"/pages/7a1f1e/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/050.%E7%AE%80%E8%BF%B0%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%80%E5%B7%A6%E5%8C%B9%E9%85%8D%E5%8E%9F%E5%88%99.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/050.ç®è¿°ä»ä¹æ¯æå·¦å¹éåå.md",key:"v-4ecddbec",path:"/pages/7a1f1e/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿°èè¯»åå¹»è¯»çåçåºæ¯ï¼InnoDB æ¯å¦ä½è§£å³å¹»è¯»çï¼",frontmatter:{title:"ç®è¿°èè¯»åå¹»è¯»çåçåºæ¯ï¼InnoDB æ¯å¦ä½è§£å³å¹»è¯»çï¼",date:"2022-05-21T17:05:55.000Z",permalink:"/pages/36672c/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/040.%E7%AE%80%E8%BF%B0%E8%84%8F%E8%AF%BB%E5%92%8C%E5%B9%BB%E8%AF%BB%E7%9A%84%E5%8F%91%E7%94%9F%E5%9C%BA%E6%99%AF%EF%BC%8CInnoDB%20%E6%98%AF%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%B9%BB%E8%AF%BB%E7%9A%84%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/040.ç®è¿°èè¯»åå¹»è¯»çåçåºæ¯ï¼InnoDB æ¯å¦ä½è§£å³å¹»è¯»çï¼.md",key:"v-689e142a",path:"/pages/36672c/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"MySQL èåç´¢å¼åºå±åçæ¯ä»ä¹ï¼",frontmatter:{title:"MySQL èåç´¢å¼åºå±åçæ¯ä»ä¹ï¼",date:"2022-05-21T17:06:26.000Z",permalink:"/pages/52773a/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/060.MySQL%20%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/060.MySQL èåç´¢å¼åºå±åçæ¯ä»ä¹ï¼.md",key:"v-505fbe2e",path:"/pages/52773a/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"äº§çæ­»éçå¿è¦æ¡ä»¶æåªäºï¼å¦ä½è§£å³æ­»éï¼",frontmatter:{title:"äº§çæ­»éçå¿è¦æ¡ä»¶æåªäºï¼å¦ä½è§£å³æ­»éï¼",date:"2022-05-21T17:06:48.000Z",permalink:"/pages/f4cf50/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/070.%E4%BA%A7%E7%94%9F%E6%AD%BB%E9%94%81%E7%9A%84%E5%BF%85%E8%A6%81%E6%9D%A1%E4%BB%B6%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%AD%BB%E9%94%81%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/070.äº§çæ­»éçå¿è¦æ¡ä»¶æåªäºï¼å¦ä½è§£å³æ­»éï¼.md",key:"v-0dd47f09",path:"/pages/f4cf50/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³",frontmatter:{title:"ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³",date:"2022-05-21T17:07:07.000Z",permalink:"/pages/f2dbbe/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/080.%E7%AE%80%E8%BF%B0%E5%B8%B8%E8%A7%81%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AE%97%E6%B3%95.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/080.ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³.md",key:"v-53bcbb7a",path:"/pages/f2dbbe/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° MySQL çä¸»ä»åæ­¥æºå¶ï¼å¦æåæ­¥å¤±è´¥ä¼æä¹æ ·ï¼",frontmatter:{title:"ç®è¿° MySQL çä¸»ä»åæ­¥æºå¶ï¼å¦æåæ­¥å¤±è´¥ä¼æä¹æ ·ï¼",date:"2022-05-21T17:07:22.000Z",permalink:"/pages/1ac30e/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/090.%E7%AE%80%E8%BF%B0%20MySQL%20%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%90%8C%E6%AD%A5%E5%A4%B1%E8%B4%A5%E4%BC%9A%E6%80%8E%E4%B9%88%E6%A0%B7%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/090.ç®è¿° MySQL çä¸»ä»åæ­¥æºå¶ï¼å¦æåæ­¥å¤±è´¥ä¼æä¹æ ·ï¼.md",key:"v-c383b96e",path:"/pages/1ac30e/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"å¦ä½è®¾è®¡æ°æ®åºåæµæ¹æ¡ï¼",frontmatter:{title:"å¦ä½è®¾è®¡æ°æ®åºåæµæ¹æ¡ï¼",date:"2022-05-21T17:08:40.000Z",permalink:"/pages/a8eb47/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/100.%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%8B%E6%B5%8B%E6%96%B9%E6%A1%88%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/100.å¦ä½è®¾è®¡æ°æ®åºåæµæ¹æ¡ï¼.md",key:"v-4cef944a",path:"/pages/a8eb47/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿°æ°æ®åºä¸­ä»ä¹æåµä¸è¿è¡ååºï¼ä»ä¹æåµä¸è¿è¡åè¡¨ï¼",frontmatter:{title:"ç®è¿°æ°æ®åºä¸­ä»ä¹æåµä¸è¿è¡ååºï¼ä»ä¹æåµä¸è¿è¡åè¡¨ï¼",date:"2022-05-21T17:08:52.000Z",permalink:"/pages/ac0bb8/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/110.%E7%AE%80%E8%BF%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E8%BF%9B%E8%A1%8C%E5%88%86%E5%BA%93%EF%BC%8C%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E8%BF%9B%E8%A1%8C%E5%88%86%E8%A1%A8%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/110.ç®è¿°æ°æ®åºä¸­ä»ä¹æåµä¸è¿è¡ååºï¼ä»ä¹æåµä¸è¿è¡åè¡¨ï¼.md",key:"v-ed0c93b8",path:"/pages/ac0bb8/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° undo log å redo log çä½ç¨",frontmatter:{title:"ç®è¿° undo log å redo log çä½ç¨",date:"2022-05-21T17:09:29.000Z",permalink:"/pages/7bbbf6/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:["binlog","redo log"]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/130.%E7%AE%80%E8%BF%B0%20undo%20log%20%E5%92%8C%20redo%20log%20%E7%9A%84%E4%BD%9C%E7%94%A8.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/130.ç®è¿° undo log å redo log çä½ç¨.md",key:"v-f3acaa1a",path:"/pages/7bbbf6/",headers:[{level:2,title:"redo log çåå¥æºå¶",slug:"redo-log-çåå¥æºå¶",normalizedTitle:"redo log çåå¥æºå¶",charIndex:456},{level:2,title:"binlog çåå¥æºå¶",slug:"binlog-çåå¥æºå¶",normalizedTitle:"binlog çåå¥æºå¶",charIndex:711},{level:2,title:"ç»æäº¤æºå¶ï¼group commitï¼",slug:"ç»æäº¤æºå¶-group-commit",normalizedTitle:"ç»æäº¤æºå¶ï¼group commitï¼",charIndex:971}],headersStr:"redo log çåå¥æºå¶ binlog çåå¥æºå¶ ç»æäº¤æºå¶ï¼group commitï¼",content:"# binlogåredo logæ¯ä»ä¹ï¼æä»ä¹ç¨\n\nè¿ä¸¤ä¸ªæ¥å¿é½å¯ä»¥ç¨äºæ°æ®åºçå¤ä»½åæ¢å¤ï¼ä»¥åä¸»ä»å¤å¶ãåºå«å¨äº\n\nBINLOG            REDO LOG               å¤æ³¨\nå¨sql å±äº§ç          å¨innoDBå­å¨å¼æå±äº§ç         \nè®°å½æ°æ®è¡ä¿®æ¹           è®°å½æ°æ®é¡µä¿®æ¹                \nåæäº¤äºå¡ï¼åäº§çbinlog   åäº§çredo logåæäº¤äºå¡       \nç¨äºä¸»ä»å¤å¶            å¨å¨mysqlå´©æºæ¶ï¼æ¢å¤æªæäº¤äºå¡æ°æ®   \n                                         \n\n\n# binlogåredo logåå¥æºå¶\n\nåè¯´å±æ§ï¼è¿ä¸¤ä¸ªlogçåå¥é½è¦èµ°è¿ä¸ªè¿ç¨ï¼ ååå¥mysql serverçbufferï¼ååå¥os bufferï¼ååå¥ç£çã ä¸¤ä¸ªbufferä¹é´çåå¥æ¯åå­æä½ï¼å¾å¿«çï¼èè´¹ioçæä½æ¯è°ç¨fsyncåå¥ç£ççæä½ã\n\n\n# redo log çåå¥æºå¶\n\ninnodb_flush_log_at_trx_commitçå¼æä¸ç§0ã1ã2ãæ§å¶logåå¥ç£ççé¢çã innodb_flush_log_at_trx_commitçå¼ | åå¥ç­ç¥\n\n-------- | ----- 1 |äºå¡commitåé©¬ä¸å°log bufferåå¥os bufferå¹¶ä¸è°ç¨fsyncåå¥ç£ç 0 | æ¯ç§åå¥os bufferå¹¶ç«å»è°ç¨fsyncåå¥ç£ç 2 | commitåç«å³åå¥os bufferï¼ç¶åæ¯ç§è°ç¨fsyncåç£ç\n\n\n# binlog çåå¥æºå¶\n\næ¯ä¸ªçº¿ç¨ä¸ä¸ªbinlogç¼å­ï¼å ä¸ºbinlogåå¥è¦æ±äºå¡çå®æ´æ§ï¼å³ä¸ä¸ªäºå¡å®ææè½æäºå¡binlogå®æ´çåå¥ã\n\nSYNC_BINLOGçå¼   åå¥ç­ç¥\n1               äºå¡commitåé©¬ä¸å°log bufferåå¥os bufferå¹¶ä¸è°ç¨fsyncåå¥ç£ç\n0               æ¯ç§åå¥os bufferå¹¶ç«å»è°ç¨fsyncåå¥ç£ç\nN(N>1)          commitåç«å³åå¥os bufferï¼ç§¯ç´¯Nä¸ªäºå¡è°ç¨fsyncåç£ç\n\n\n# ç»æäº¤æºå¶ï¼group commitï¼\n\n> å1éç½®æ¯è¯´å°sync_binlogåinnodb_flush_log_at_trx_commité½è®¾ç½®ä¸º1.é£æ¯ä¸æ¯è¯´æ¯æ¬¡commité½è¦ä¸¤æ¬¡å·çï¼ä½æ¯æ¯å¦å®çãç¨ç»æäº¤æºå¶æ¥å®ç°ã\n\nå¦æä½ æ³æå binlog ç»æäº¤çææï¼å¯ä»¥éè¿è®¾ç½®binlog_group_commit_sync_delayåbinlog_group_commit_sync_no_delay_countå®ç°ï¼\n\nBINLOG_GROUP_COMMIT_SYNC_DELAY   BINLOG_GROUP_COMMIT_SYNC_NO_DELAY_COUNT\nè°ç¨å¤å°å¾®å¦ååè°ç¨fsync                  ç§¯ç´¯å¤å°æ¬¡åè°ç¨fsync\n\n\n# åºå¯¹IOæ§è½ç¶é¢\n\nå¦æIOåºç°æ§è½ç¶é¢ï¼å¯ä»¥èèä»¥ä¸ä¸ä¸ªè§£å³åæ³\n\n * è°å¤§binlog_group_commit_sync_delayåbinlog_group_commit_sync_no_delay_countï¼åææ¯å¯è½å¢å sqlæ§è¡æ¶é´ï¼ä½æ¯æ°æ®ä¸ä¼ä¸¢å¤±ã\n * sync_binlogè®¾ç½®å¤§äº1çæ°ï¼é£é©æ¯ï¼æ­çµåæä¸¢æbinlogæ¥å¿\n * innodb_flush_log_at_trx_commitè®¾ç½®ä¸º2ï¼é£é©æ¯ï¼æ­çµåä¼ä¸¢å¤±æ°æ®ã",normalizedContent:"# binlogåredo logæ¯ä»ä¹ï¼æä»ä¹ç¨\n\nè¿ä¸¤ä¸ªæ¥å¿é½å¯ä»¥ç¨äºæ°æ®åºçå¤ä»½åæ¢å¤ï¼ä»¥åä¸»ä»å¤å¶ãåºå«å¨äº\n\nbinlog            redo log               å¤æ³¨\nå¨sql å±äº§ç          å¨innodbå­å¨å¼æå±äº§ç         \nè®°å½æ°æ®è¡ä¿®æ¹           è®°å½æ°æ®é¡µä¿®æ¹                \nåæäº¤äºå¡ï¼åäº§çbinlog   åäº§çredo logåæäº¤äºå¡       \nç¨äºä¸»ä»å¤å¶            å¨å¨mysqlå´©æºæ¶ï¼æ¢å¤æªæäº¤äºå¡æ°æ®   \n                                         \n\n\n# binlogåredo logåå¥æºå¶\n\nåè¯´å±æ§ï¼è¿ä¸¤ä¸ªlogçåå¥é½è¦èµ°è¿ä¸ªè¿ç¨ï¼ ååå¥mysql serverçbufferï¼ååå¥os bufferï¼ååå¥ç£çã ä¸¤ä¸ªbufferä¹é´çåå¥æ¯åå­æä½ï¼å¾å¿«çï¼èè´¹ioçæä½æ¯è°ç¨fsyncåå¥ç£ççæä½ã\n\n\n# redo log çåå¥æºå¶\n\ninnodb_flush_log_at_trx_commitçå¼æä¸ç§0ã1ã2ãæ§å¶logåå¥ç£ççé¢çã innodb_flush_log_at_trx_commitçå¼ | åå¥ç­ç¥\n\n-------- | ----- 1 |äºå¡commitåé©¬ä¸å°log bufferåå¥os bufferå¹¶ä¸è°ç¨fsyncåå¥ç£ç 0 | æ¯ç§åå¥os bufferå¹¶ç«å»è°ç¨fsyncåå¥ç£ç 2 | commitåç«å³åå¥os bufferï¼ç¶åæ¯ç§è°ç¨fsyncåç£ç\n\n\n# binlog çåå¥æºå¶\n\næ¯ä¸ªçº¿ç¨ä¸ä¸ªbinlogç¼å­ï¼å ä¸ºbinlogåå¥è¦æ±äºå¡çå®æ´æ§ï¼å³ä¸ä¸ªäºå¡å®ææè½æäºå¡binlogå®æ´çåå¥ã\n\nsync_binlogçå¼   åå¥ç­ç¥\n1               äºå¡commitåé©¬ä¸å°log bufferåå¥os bufferå¹¶ä¸è°ç¨fsyncåå¥ç£ç\n0               æ¯ç§åå¥os bufferå¹¶ç«å»è°ç¨fsyncåå¥ç£ç\nn(n>1)          commitåç«å³åå¥os bufferï¼ç§¯ç´¯nä¸ªäºå¡è°ç¨fsyncåç£ç\n\n\n# ç»æäº¤æºå¶ï¼group commitï¼\n\n> å1éç½®æ¯è¯´å°sync_binlogåinnodb_flush_log_at_trx_commité½è®¾ç½®ä¸º1.é£æ¯ä¸æ¯è¯´æ¯æ¬¡commité½è¦ä¸¤æ¬¡å·çï¼ä½æ¯æ¯å¦å®çãç¨ç»æäº¤æºå¶æ¥å®ç°ã\n\nå¦æä½ æ³æå binlog ç»æäº¤çææï¼å¯ä»¥éè¿è®¾ç½®binlog_group_commit_sync_delayåbinlog_group_commit_sync_no_delay_countå®ç°ï¼\n\nbinlog_group_commit_sync_delay   binlog_group_commit_sync_no_delay_count\nè°ç¨å¤å°å¾®å¦ååè°ç¨fsync                  ç§¯ç´¯å¤å°æ¬¡åè°ç¨fsync\n\n\n# åºå¯¹ioæ§è½ç¶é¢\n\nå¦æioåºç°æ§è½ç¶é¢ï¼å¯ä»¥èèä»¥ä¸ä¸ä¸ªè§£å³åæ³\n\n * è°å¤§binlog_group_commit_sync_delayåbinlog_group_commit_sync_no_delay_countï¼åææ¯å¯è½å¢å sqlæ§è¡æ¶é´ï¼ä½æ¯æ°æ®ä¸ä¼ä¸¢å¤±ã\n * sync_binlogè®¾ç½®å¤§äº1çæ°ï¼é£é©æ¯ï¼æ­çµåæä¸¢æbinlogæ¥å¿\n * innodb_flush_log_at_trx_commitè®¾ç½®ä¸º2ï¼é£é©æ¯ï¼æ­çµåä¼ä¸¢å¤±æ°æ®ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"æ°æ®åºçè¯»ååç¦»çä½ç¨æ¯ä»ä¹ï¼å¦ä½å®ç°ï¼",frontmatter:{title:"æ°æ®åºçè¯»ååç¦»çä½ç¨æ¯ä»ä¹ï¼å¦ä½å®ç°ï¼",date:"2022-05-21T17:09:05.000Z",permalink:"/pages/f62359/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/120.%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/120.æ°æ®åºçè¯»ååç¦»çä½ç¨æ¯ä»ä¹ï¼å¦ä½å®ç°ï¼.md",key:"v-d6bc240a",path:"/pages/f62359/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ä»ä¹æ¯ SQL æ³¨å¥æ»å»ï¼å¦ä½é²æ­¢è¿ç±»æ»å»ï¼",frontmatter:{title:"ä»ä¹æ¯ SQL æ³¨å¥æ»å»ï¼å¦ä½é²æ­¢è¿ç±»æ»å»ï¼",date:"2022-05-21T17:09:41.000Z",permalink:"/pages/b4338e/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/140.%E4%BB%80%E4%B9%88%E6%98%AF%20SQL%20%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB%EF%BC%9F%E5%A6%82%E4%BD%95%E9%98%B2%E6%AD%A2%E8%BF%99%E7%B1%BB%E6%94%BB%E5%87%BB%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/140.ä»ä¹æ¯ SQL æ³¨å¥æ»å»ï¼å¦ä½é²æ­¢è¿ç±»æ»å»ï¼.md",key:"v-ceed6ba6",path:"/pages/b4338e/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"MySQL ä¸­ join ä¸ left join çåºå«æ¯ä»ä¹ï¼",frontmatter:{title:"MySQL ä¸­ join ä¸ left join çåºå«æ¯ä»ä¹ï¼",date:"2022-05-21T17:09:52.000Z",permalink:"/pages/429100/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/150.MySQL%20%E4%B8%AD%20join%20%E4%B8%8E%20left%20join%20%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/150.MySQL ä¸­ join ä¸ left join çåºå«æ¯ä»ä¹ï¼.md",key:"v-77790024",path:"/pages/429100/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° MySQL MVCC çå®ç°åç",frontmatter:{title:"ç®è¿° MySQL MVCC çå®ç°åç",date:"2022-05-21T17:10:09.000Z",permalink:"/pages/1656d8/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/160.%E7%AE%80%E8%BF%B0%20MySQL%20MVCC%20%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%20.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/160.ç®è¿° MySQL MVCC çå®ç°åç .md",key:"v-76f5e79a",path:"/pages/1656d8/",headers:[{level:2,title:"ä»ä¹æ¯MVCCï¼",slug:"ä»ä¹æ¯mvcc",normalizedTitle:"ä»ä¹æ¯mvccï¼",charIndex:2},{level:2,title:"Innodb MVCCå®ç°çæ ¸å¿ç¥è¯ç¹",slug:"innodb-mvccå®ç°çæ ¸å¿ç¥è¯ç¹",normalizedTitle:"innodb mvccå®ç°çæ ¸å¿ç¥è¯ç¹",charIndex:398},{level:3,title:"äºå¡çæ¬å·",slug:"äºå¡çæ¬å·",normalizedTitle:"äºå¡çæ¬å·",charIndex:422},{level:3,title:"è¡¨çéèåã",slug:"è¡¨çéèåã",normalizedTitle:"è¡¨çéèåã",charIndex:479},{level:3,title:"undo log",slug:"undo-log",normalizedTitle:"undo log",charIndex:644},{level:3,title:"read view",slug:"read-view",normalizedTitle:"read view",charIndex:993},{level:3,title:"Read view çå ä¸ªéè¦å±æ§",slug:"read-view-çå ä¸ªéè¦å±æ§",normalizedTitle:"read view çå ä¸ªéè¦å±æ§",charIndex:1120},{level:3,title:"Read view å¹éæ¡ä»¶",slug:"read-view-å¹éæ¡ä»¶",normalizedTitle:"read view å¹éæ¡ä»¶",charIndex:1303},{level:3,title:"çæ¬é¾",slug:"çæ¬é¾",normalizedTitle:"çæ¬é¾",charIndex:215},{level:2,title:"MVCCåç",slug:"mvccåç",normalizedTitle:"mvccåç",charIndex:2244},{level:2,title:"ä¸¾ä¾è¯´æ",slug:"ä¸¾ä¾è¯´æ",normalizedTitle:"ä¸¾ä¾è¯´æ",charIndex:2725},{level:2,title:"MVCCä¸å­å¨å¹»è¯»é®é¢ï¼RRçº§å«çæåµä¸ï¼",slug:"mvccä¸å­å¨å¹»è¯»é®é¢-rrçº§å«çæåµä¸",normalizedTitle:"mvccä¸å­å¨å¹»è¯»é®é¢ï¼rrçº§å«çæåµä¸ï¼",charIndex:3024}],headersStr:"ä»ä¹æ¯MVCCï¼ Innodb MVCCå®ç°çæ ¸å¿ç¥è¯ç¹ äºå¡çæ¬å· è¡¨çéèåã undo log read view Read view çå ä¸ªéè¦å±æ§ Read view å¹éæ¡ä»¶ çæ¬é¾ MVCCåç ä¸¾ä¾è¯´æ MVCCä¸å­å¨å¹»è¯»é®é¢ï¼RRçº§å«çæåµä¸ï¼",content:"# ä»ä¹æ¯MVCCï¼\n\nMVCCæ¯å¨å¹¶åè®¿é®æ°æ®åºæ¶ï¼éè¿å¯¹æ°æ®åå¤çæ¬ç®¡çï¼é¿åå ä¸ºåéçé»å¡èé æè¯»æ°æ®çå¹¶åé»å¡é®é¢ã\n\néä¿çè®²å°±æ¯MVCCéè¿ä¿å­æ°æ®çåå²çæ¬ï¼æ ¹æ®æ¯è¾çæ¬å·æ¥å¤çæ°æ®çæ¯å¦æ¾ç¤ºï¼ä»èè¾¾å°è¯»åæ°æ®çæ¶åä¸éè¦å éå°±å¯ä»¥ä¿è¯äºå¡éç¦»æ§çææã\n\nå¨MySQLä¸­ï¼MVCCåªå¨è¯»åå·²æäº¤ï¼Read Committedï¼åå¯éå¤è¯»ï¼Repeatable Readï¼ä¸¤ä¸ªäºå¡çº§å«ä¸ææãå¶æ¯éè¿Undoæ¥å¿ä¸­ççæ¬é¾åReadViewä¸è´æ§è§å¾æ¥å®ç°çã\n\nMVCCå°±æ¯å¨å¤ä¸ªäºå¡åæ¶å­å¨æ¶ï¼SELECTè¯­å¥æ¾å¯»å°å·ä½æ¯çæ¬é¾ä¸çåªä¸ªçæ¬ï¼ç¶åå¨æ¾å°ççæ¬ä¸è¿åå¶ä¸­æè®°å½çæ°æ®çè¿ç¨ã\n\n * mvccç¹æ§ï¼è¯»ä¸å éï¼è¯»åä¸å²çªã\n * MVCCåªå¨READ COMMITTED (æäº¤è¯»)ãREPEATABLE READ (å¯éå¤è¯»)ä¸å·¥ä½ãä¸å¼å®¹å¶ä»éç¦»çº§å«ã\n\n\n# Innodb MVCCå®ç°çæ ¸å¿ç¥è¯ç¹\n\n\n# äºå¡çæ¬å·\n\næ¯æ¬¡äºå¡å¼å¯åé½ä¼ä»æ°æ®åºè·å¾ä¸ä¸ªèªå¢é¿çäºå¡IDï¼å¯ä»¥ä»äºå¡IDå¤æ­äºå¡çæ§è¡ååé¡ºåºã\n\n\n# è¡¨çéèåã\n\nå¨æ°æ®è¡¨åå ä¸ä¸ªéèåï¼äºç©çæ¬ï¼DB_TRX_IDï¼ï¼åæ»æéï¼DB_ROLL_PTRï¼ãéèIDï¼DB_ROW_IDï¼ãæ¯å¼å¯ä¸ä¸ªäºç©çæ¬å·èªå¢1ï¼\n\n * DB_TRX_ID: äºå¡IDï¼è®°å½çæ¯å½åäºå¡å¨åINSERTæUPDATEè¯­å¥æä½æ¶çäºå¡IDï¼\n * DB_ROLL_PTRï¼æåä¸ä¸ä¸ªçæ¬æ°æ®å¨undo log éçä½ç½®æéï¼åæ»æéï¼éè¿å®å¯ä»¥å°ä¸åççæ¬ä¸²èèµ·æ¥ï¼å½¢æçæ¬é¾ã\n * DB_ROW_ID: éèID ï¼å½åå»ºè¡¨æ²¡æåéçç´¢å¼ä½ä¸ºèéç´¢å¼æ¶ï¼ä¼ç¨è¯¥éèIDåå»ºèéç´¢å¼;\n\n\n# undo log\n\nUndo log ä¸»è¦ç¨äºè®°å½æ°æ®è¢«ä¿®æ¹ä¹åçæ¥å¿ï¼å¨è¡¨ä¿¡æ¯ä¿®æ¹ä¹ååä¼ææ°æ®æ·è´å°undo log éï¼å½äºå¡è¿è¡åæ»æ¶å¯ä»¥éè¿undo log éçæ¥å¿è¿è¡æ°æ®è¿åã\n\nUndo log çç¨é\n\n * ä¿è¯äºå¡è¿è¡rollbackæ¶çåå­æ§åä¸è´æ§ï¼å½äºå¡è¿è¡åæ»çæ¶åå¯ä»¥ç¨undo logçæ°æ®è¿è¡æ¢å¤ã\n\n * ç¨äºMVCCå¿«ç§è¯»çæ°æ®ï¼å¨MVCCå¤çæ¬æ§å¶ä¸­ï¼éè¿è¯»åundo logçåå²çæ¬æ°æ®å¯ä»¥å®ç°ä¸åäºå¡çæ¬å·é½æ¥æèªå·±ç¬ç«çå¿«ç§æ°æ®çæ¬ã\n\n\n# read view\n\nå¨innodb ä¸­æ¯ä¸ªäºå¡å¼å¯åé½ä¼å¾å°ä¸ä¸ªread_viewã\n\nå¯æ¬ä¸»è¦ä¿å­äºå½åæ°æ®åºç³»ç»ä¸­æ­£å¤äºæ´»è·ï¼æ²¡æcommitï¼çäºå¡çIDå·ï¼å¶å®ç®åçè¯´è¿ä¸ªå¯æ¬ä¸­ä¿å­çæ¯ç³»ç»ä¸­å½åä¸åºè¯¥è¢«æ¬äºå¡çå°çå¶ä»äºå¡idåè¡¨ã\n\n\n# Read view çå ä¸ªéè¦å±æ§\n\ntrx_ids: å½åç³»ç»æ´»è·(æªæäº¤)äºå¡çæ¬å·éåã\n\nlow_limit_id: åå»ºå½åread view æ¶âå½åç³»ç»æå¤§äºå¡çæ¬å·+1âã\n\nup_limit_id: åå»ºå½åread view æ¶âç³»ç»æ­£å¤äºæ´»è·äºå¡æå°çæ¬å·â\n\ncreator_trx_id: åå»ºå½åread viewçäºå¡çæ¬å·ï¼\n\n\n# Read view å¹éæ¡ä»¶\n\n 1. æ°æ®äºå¡ID <up_limit_id åæ¾ç¤º å¦ææ°æ®äºå¡IDå°äºread viewä¸­çæå°æ´»è·äºå¡IDï¼åå¯ä»¥è¯å®è¯¥æ°æ®æ¯å¨å½åäºå¡å¯ä¹åå°±å·²ç»å­å¨äºç,æä»¥å¯ä»¥æ¾ç¤ºã\n 2. æ°æ®äºå¡ID>=low_limit_id åä¸æ¾ç¤º å¦ææ°æ®äºå¡IDå¤§äºread view ä¸­çå½åç³»ç»çæå¤§äºå¡IDï¼åè¯´æè¯¥æ°æ®æ¯å¨å½åread view åå»ºä¹åæäº§ççï¼æä»¥æ°æ®ä¸äºæ¾ç¤ºã\n 3. p_limit_id <=æ°æ®äºå¡ID<low_limit_id åä¸æ´»è·äºå¡éåtrx_idséå¹é å¦ææ°æ®çäºå¡IDå¤§äºæå°çæ´»è·äºå¡ID,åæ¶åå°äºç­äºç³»ç»æå¤§çäºå¡IDï¼è¿ç§æåµå°±è¯´æè¿ä¸ªæ°æ®æå¯è½æ¯å¨å½åäºå¡å¼å§çæ¶åè¿æ²¡ææäº¤çã æä»¥è¿æ¶åæä»¬éè¦ææ°æ®çäºå¡IDä¸å½åread view ä¸­çæ´»è·äºå¡éåtrx_ids å¹é:\n    1. å¦æäºå¡IDä¸å­å¨äºtrx_ids éåï¼åè¯´æread viewäº§ççæ¶åäºå¡å·²ç»commitäºï¼ï¼è¿ç§æåµæ°æ®åå¯ä»¥æ¾ç¤ºã\n    2. å¦æäºå¡IDå­å¨trx_idsåè¯´æread viewäº§ççæ¶åæ°æ®è¿æ²¡ææäº¤ï¼ä½æ¯å¦ææ°æ®çäºå¡IDç­äºcreator_trx_id ï¼é£ä¹è¯´æè¿ä¸ªæ°æ®å°±æ¯å½åäºå¡èªå·±çæçï¼èªå·±çæçæ°æ®èªå·±å½ç¶è½çè§ï¼æä»¥è¿ç§æåµä¸æ­¤æ°æ®ä¹æ¯å¯ä»¥æ¾ç¤ºçã\n    3. å¦æäºå¡IDæ¢å­å¨trx_idsèä¸åä¸ç­äºcreator_trx_idé£å°±è¯´æread viewäº§ççæ¶åæ°æ®è¿æ²¡ææäº¤ï¼åä¸æ¯èªå·±çæçï¼æä»¥è¿ç§æåµä¸æ­¤æ°æ®ä¸è½æ¾ç¤ºã\n 4. ä¸æ»¡è¶³read viewæ¡ä»¶æ¶åï¼ä»undo logéé¢è·åæ°æ®\n\nå½æ°æ®çäºå¡IDä¸æ»¡è¶³read viewæ¡ä»¶æ¶åï¼ä»undo logéé¢è·åæ°æ®çåå²çæ¬ï¼ç¶åæ°æ®åå²çæ¬äºå¡å·åå¤´åæ¥åread view æ¡ä»¶å¹é ï¼ç´å°æ¾å°ä¸æ¡æ»¡è¶³æ¡ä»¶çåå²æ°æ®ï¼æèæ¾ä¸å°åè¿åç©ºç»æï¼\n\n\n# çæ¬é¾\n\nææçæ¬çæ°æ®é½åªä¼å­ä¸ä»½ï¼ç¶åéè¿åæ»æéè¿æ¥èµ·æ¥ï¼ä¹åå°±æ¯éè¿ä¸å®çè§åæ¾å°å·ä½æ¯åªä¸ªçæ¬ä¸çæ°æ®å°±è¡äºã\n\nåè®¾ç°å¨æä¸å¼ accountè¡¨ï¼å¶ä¸­æidånameä¸¤ä¸ªå­æ®µï¼é£ä¹çæ¬é¾çç¤ºæå¾å¦ä¸ï¼\n\n\n# MVCCåç\n\n\n\n * å¦æè½å¨ç»¿è²åºé´ï¼DB_TRX_ID < min_idï¼ï¼è¿ä¸ªçæ¬æ¯min_idè¿å°ï¼äºå¡IDæ¯ä»å°å¾å¤§é¡ºåºçæçï¼ï¼è¯´æè¿ä¸ªçæ¬å¨SELECTä¹åå°±å·²ç»æäº¤äºï¼æä»¥è¿ä¸ªæ°æ®æ¯å¯è§çãæèï¼è¿éæ¯ç­è·¯æï¼åé¢æ¡ä»¶ä¸æ»¡è¶³æä¼å¤æ­åé¢è¿ä¸ªæ¡ä»¶ï¼è¿ä¸ªçæ¬çäºå¡æ¬èº«å°±æ¯å½åSELECTè¯­å¥æå¨äºå¡çè¯ï¼ä¹æ¯ä¸æ ·å¯è§çï¼\n\n * å¦æè½å¨çº¢è²åºé´ï¼DB_TRX_ID > max_idï¼ï¼è¡¨ç¤ºè¿ä¸ªçæ¬æ¯ç±å°æ¥å¯å¨çäºå¡æ¥çæçï¼å½åè¿æªå¼å§ï¼é£ä¹æ¯ä¸å¯è§çï¼\n\n * æè½å¨é»è²åºé´ï¼min_id <= DB_TRX_ID <= max_idï¼ï¼è¿ä¸ªæ¶åå°±éè¦åå¤æ­ä¸¤ç§æåµï¼ å¦æè¿ä¸ªçæ¬çäºå¡IDå¨ReadViewçæªæäº¤äºå¡æ°ç»ä¸­ï¼è¡¨ç¤ºè¿ä¸ªçæ¬æ¯ç±è¿æªæäº¤çäºå¡çæçï¼é£ä¹å°±æ¯ä¸å¯è§çï¼\n\n * å¦æè¿ä¸ªçæ¬çäºå¡IDä¸å¨ReadViewçæªæäº¤äºå¡æ°ç»ä¸­ï¼è¡¨ç¤ºè¿ä¸ªçæ¬æ¯å·²ç»æäº¤äºçäºå¡çæçï¼é£ä¹æ¯å¯è§çã\n\n * å¦æå¨ä¸è¿°çå¤æ­ä¸­åç°å½åçæ¬æ¯ä¸å¯è§çï¼é£ä¹å°±ç»§ç»­ä»çæ¬é¾ä¸­éè¿åæ»æéæ¿åä¸ä¸ä¸ªçæ¬æ¥è¿è¡ä¸è¿°çå¤æ­ã\n\n\n# ä¸¾ä¾è¯´æ\n\nåè®¾å½åäºç©çæ¬ä¸ºcurrent_version\n\n** select: ** æ¥è¯¢ä¼èªå¨å whereæ¡ä»¶ and current_version>=def_create_version and (DB_TRX_ID = 'undefined' or DB_TRX_ID>current_version ) delete: DB_ROW_ID = current_version update: åæ§è¡deleteåæ§è¡insert insert: æå¥æ°æ®å¹¶ä¸é»è®¤DB_TRX_ID = current_version and DB_ROW_ID = 'undefined'\n\n\n# MVCCä¸å­å¨å¹»è¯»é®é¢ï¼RRçº§å«çæåµä¸ï¼\n\né¦åç¡®è®¤ä¸ç¹MVCCå±äºå¿«ç§è¯»çï¼å¨è¿è¡å¿«ç§è¯»çæåµä¸æ¯ä¸ä¼å¯¹æ°æ®è¿è¡å éï¼èæ¯åºäºäºå¡çæ¬å·åundoåå²çæ¬è¯»åæ°æ®ï¼å¶å®ä¸é¢çæç« å·²ç»è¯´å¾å¾æ¸æ¥äºï¼æä»¬æ ¹æ®ä¸é¢çMVCCæµç¨æ¥æ¨å¯¼ï¼æ è®ºå¦ä½å¨MVCCçæåµä¸é½æ¯ä¸ä¼åºç°å¹»è¯»çé®é¢çï¼å¦ä¸å¾ã\n\n1ãå¼å¯äºå¡1ï¼è·å¾äºå¡IDä¸º1ã\n\n2ãäºå¡1æ§è¡æ¥è¯¢ï¼å¾å°readviewã\n\n3ãå¼å§äºå¡2ã\n\n4ãæ§è¡insertã\n\n5ãæäº¤äºå¡2ã\n\n6ãæ§è¡äºå¡1çç¬¬äºæ¬¡æ¥è¯¢ (å ä¸ºè¿éæ¯RRçº§å«ï¼æä»¥ä¸ä¼åå»è·å¾readview,è¿æ¯ä½¿ç¨ç¬¬ä¸æ¬¡è·å¾çreadview)\n\n7ãæåå¾å°çç»ææ¯ï¼æå¥çæ°æ®ä¸ä¼æ¾ç¤ºï¼å ä¸ºæå¥çæ°æ®äºå¡IDå¤§äºç­äº readviewéçæå¤§æ´»è·äºå¡IDã",normalizedContent:"# ä»ä¹æ¯mvccï¼\n\nmvccæ¯å¨å¹¶åè®¿é®æ°æ®åºæ¶ï¼éè¿å¯¹æ°æ®åå¤çæ¬ç®¡çï¼é¿åå ä¸ºåéçé»å¡èé æè¯»æ°æ®çå¹¶åé»å¡é®é¢ã\n\néä¿çè®²å°±æ¯mvccéè¿ä¿å­æ°æ®çåå²çæ¬ï¼æ ¹æ®æ¯è¾çæ¬å·æ¥å¤çæ°æ®çæ¯å¦æ¾ç¤ºï¼ä»èè¾¾å°è¯»åæ°æ®çæ¶åä¸éè¦å éå°±å¯ä»¥ä¿è¯äºå¡éç¦»æ§çææã\n\nå¨mysqlä¸­ï¼mvccåªå¨è¯»åå·²æäº¤ï¼read committedï¼åå¯éå¤è¯»ï¼repeatable readï¼ä¸¤ä¸ªäºå¡çº§å«ä¸ææãå¶æ¯éè¿undoæ¥å¿ä¸­ççæ¬é¾åreadviewä¸è´æ§è§å¾æ¥å®ç°çã\n\nmvccå°±æ¯å¨å¤ä¸ªäºå¡åæ¶å­å¨æ¶ï¼selectè¯­å¥æ¾å¯»å°å·ä½æ¯çæ¬é¾ä¸çåªä¸ªçæ¬ï¼ç¶åå¨æ¾å°ççæ¬ä¸è¿åå¶ä¸­æè®°å½çæ°æ®çè¿ç¨ã\n\n * mvccç¹æ§ï¼è¯»ä¸å éï¼è¯»åä¸å²çªã\n * mvccåªå¨read committed (æäº¤è¯»)ãrepeatable read (å¯éå¤è¯»)ä¸å·¥ä½ãä¸å¼å®¹å¶ä»éç¦»çº§å«ã\n\n\n# innodb mvccå®ç°çæ ¸å¿ç¥è¯ç¹\n\n\n# äºå¡çæ¬å·\n\næ¯æ¬¡äºå¡å¼å¯åé½ä¼ä»æ°æ®åºè·å¾ä¸ä¸ªèªå¢é¿çäºå¡idï¼å¯ä»¥ä»äºå¡idå¤æ­äºå¡çæ§è¡ååé¡ºåºã\n\n\n# è¡¨çéèåã\n\nå¨æ°æ®è¡¨åå ä¸ä¸ªéèåï¼äºç©çæ¬ï¼db_trx_idï¼ï¼åæ»æéï¼db_roll_ptrï¼ãéèidï¼db_row_idï¼ãæ¯å¼å¯ä¸ä¸ªäºç©çæ¬å·èªå¢1ï¼\n\n * db_trx_id: äºå¡idï¼è®°å½çæ¯å½åäºå¡å¨åinsertæupdateè¯­å¥æä½æ¶çäºå¡idï¼\n * db_roll_ptrï¼æåä¸ä¸ä¸ªçæ¬æ°æ®å¨undo log éçä½ç½®æéï¼åæ»æéï¼éè¿å®å¯ä»¥å°ä¸åççæ¬ä¸²èèµ·æ¥ï¼å½¢æçæ¬é¾ã\n * db_row_id: éèid ï¼å½åå»ºè¡¨æ²¡æåéçç´¢å¼ä½ä¸ºèéç´¢å¼æ¶ï¼ä¼ç¨è¯¥éèidåå»ºèéç´¢å¼;\n\n\n# undo log\n\nundo log ä¸»è¦ç¨äºè®°å½æ°æ®è¢«ä¿®æ¹ä¹åçæ¥å¿ï¼å¨è¡¨ä¿¡æ¯ä¿®æ¹ä¹ååä¼ææ°æ®æ·è´å°undo log éï¼å½äºå¡è¿è¡åæ»æ¶å¯ä»¥éè¿undo log éçæ¥å¿è¿è¡æ°æ®è¿åã\n\nundo log çç¨é\n\n * ä¿è¯äºå¡è¿è¡rollbackæ¶çåå­æ§åä¸è´æ§ï¼å½äºå¡è¿è¡åæ»çæ¶åå¯ä»¥ç¨undo logçæ°æ®è¿è¡æ¢å¤ã\n\n * ç¨äºmvccå¿«ç§è¯»çæ°æ®ï¼å¨mvccå¤çæ¬æ§å¶ä¸­ï¼éè¿è¯»åundo logçåå²çæ¬æ°æ®å¯ä»¥å®ç°ä¸åäºå¡çæ¬å·é½æ¥æèªå·±ç¬ç«çå¿«ç§æ°æ®çæ¬ã\n\n\n# read view\n\nå¨innodb ä¸­æ¯ä¸ªäºå¡å¼å¯åé½ä¼å¾å°ä¸ä¸ªread_viewã\n\nå¯æ¬ä¸»è¦ä¿å­äºå½åæ°æ®åºç³»ç»ä¸­æ­£å¤äºæ´»è·ï¼æ²¡æcommitï¼çäºå¡çidå·ï¼å¶å®ç®åçè¯´è¿ä¸ªå¯æ¬ä¸­ä¿å­çæ¯ç³»ç»ä¸­å½åä¸åºè¯¥è¢«æ¬äºå¡çå°çå¶ä»äºå¡idåè¡¨ã\n\n\n# read view çå ä¸ªéè¦å±æ§\n\ntrx_ids: å½åç³»ç»æ´»è·(æªæäº¤)äºå¡çæ¬å·éåã\n\nlow_limit_id: åå»ºå½åread view æ¶âå½åç³»ç»æå¤§äºå¡çæ¬å·+1âã\n\nup_limit_id: åå»ºå½åread view æ¶âç³»ç»æ­£å¤äºæ´»è·äºå¡æå°çæ¬å·â\n\ncreator_trx_id: åå»ºå½åread viewçäºå¡çæ¬å·ï¼\n\n\n# read view å¹éæ¡ä»¶\n\n 1. æ°æ®äºå¡id <up_limit_id åæ¾ç¤º å¦ææ°æ®äºå¡idå°äºread viewä¸­çæå°æ´»è·äºå¡idï¼åå¯ä»¥è¯å®è¯¥æ°æ®æ¯å¨å½åäºå¡å¯ä¹åå°±å·²ç»å­å¨äºç,æä»¥å¯ä»¥æ¾ç¤ºã\n 2. æ°æ®äºå¡id>=low_limit_id åä¸æ¾ç¤º å¦ææ°æ®äºå¡idå¤§äºread view ä¸­çå½åç³»ç»çæå¤§äºå¡idï¼åè¯´æè¯¥æ°æ®æ¯å¨å½åread view åå»ºä¹åæäº§ççï¼æä»¥æ°æ®ä¸äºæ¾ç¤ºã\n 3. p_limit_id <=æ°æ®äºå¡id<low_limit_id åä¸æ´»è·äºå¡éåtrx_idséå¹é å¦ææ°æ®çäºå¡idå¤§äºæå°çæ´»è·äºå¡id,åæ¶åå°äºç­äºç³»ç»æå¤§çäºå¡idï¼è¿ç§æåµå°±è¯´æè¿ä¸ªæ°æ®æå¯è½æ¯å¨å½åäºå¡å¼å§çæ¶åè¿æ²¡ææäº¤çã æä»¥è¿æ¶åæä»¬éè¦ææ°æ®çäºå¡idä¸å½åread view ä¸­çæ´»è·äºå¡éåtrx_ids å¹é:\n    1. å¦æäºå¡idä¸å­å¨äºtrx_ids éåï¼åè¯´æread viewäº§ççæ¶åäºå¡å·²ç»commitäºï¼ï¼è¿ç§æåµæ°æ®åå¯ä»¥æ¾ç¤ºã\n    2. å¦æäºå¡idå­å¨trx_idsåè¯´æread viewäº§ççæ¶åæ°æ®è¿æ²¡ææäº¤ï¼ä½æ¯å¦ææ°æ®çäºå¡idç­äºcreator_trx_id ï¼é£ä¹è¯´æè¿ä¸ªæ°æ®å°±æ¯å½åäºå¡èªå·±çæçï¼èªå·±çæçæ°æ®èªå·±å½ç¶è½çè§ï¼æä»¥è¿ç§æåµä¸æ­¤æ°æ®ä¹æ¯å¯ä»¥æ¾ç¤ºçã\n    3. å¦æäºå¡idæ¢å­å¨trx_idsèä¸åä¸ç­äºcreator_trx_idé£å°±è¯´æread viewäº§ççæ¶åæ°æ®è¿æ²¡ææäº¤ï¼åä¸æ¯èªå·±çæçï¼æä»¥è¿ç§æåµä¸æ­¤æ°æ®ä¸è½æ¾ç¤ºã\n 4. ä¸æ»¡è¶³read viewæ¡ä»¶æ¶åï¼ä»undo logéé¢è·åæ°æ®\n\nå½æ°æ®çäºå¡idä¸æ»¡è¶³read viewæ¡ä»¶æ¶åï¼ä»undo logéé¢è·åæ°æ®çåå²çæ¬ï¼ç¶åæ°æ®åå²çæ¬äºå¡å·åå¤´åæ¥åread view æ¡ä»¶å¹é ï¼ç´å°æ¾å°ä¸æ¡æ»¡è¶³æ¡ä»¶çåå²æ°æ®ï¼æèæ¾ä¸å°åè¿åç©ºç»æï¼\n\n\n# çæ¬é¾\n\nææçæ¬çæ°æ®é½åªä¼å­ä¸ä»½ï¼ç¶åéè¿åæ»æéè¿æ¥èµ·æ¥ï¼ä¹åå°±æ¯éè¿ä¸å®çè§åæ¾å°å·ä½æ¯åªä¸ªçæ¬ä¸çæ°æ®å°±è¡äºã\n\nåè®¾ç°å¨æä¸å¼ accountè¡¨ï¼å¶ä¸­æidånameä¸¤ä¸ªå­æ®µï¼é£ä¹çæ¬é¾çç¤ºæå¾å¦ä¸ï¼\n\n\n# mvccåç\n\n\n\n * å¦æè½å¨ç»¿è²åºé´ï¼db_trx_id < min_idï¼ï¼è¿ä¸ªçæ¬æ¯min_idè¿å°ï¼äºå¡idæ¯ä»å°å¾å¤§é¡ºåºçæçï¼ï¼è¯´æè¿ä¸ªçæ¬å¨selectä¹åå°±å·²ç»æäº¤äºï¼æä»¥è¿ä¸ªæ°æ®æ¯å¯è§çãæèï¼è¿éæ¯ç­è·¯æï¼åé¢æ¡ä»¶ä¸æ»¡è¶³æä¼å¤æ­åé¢è¿ä¸ªæ¡ä»¶ï¼è¿ä¸ªçæ¬çäºå¡æ¬èº«å°±æ¯å½åselectè¯­å¥æå¨äºå¡çè¯ï¼ä¹æ¯ä¸æ ·å¯è§çï¼\n\n * å¦æè½å¨çº¢è²åºé´ï¼db_trx_id > max_idï¼ï¼è¡¨ç¤ºè¿ä¸ªçæ¬æ¯ç±å°æ¥å¯å¨çäºå¡æ¥çæçï¼å½åè¿æªå¼å§ï¼é£ä¹æ¯ä¸å¯è§çï¼\n\n * æè½å¨é»è²åºé´ï¼min_id <= db_trx_id <= max_idï¼ï¼è¿ä¸ªæ¶åå°±éè¦åå¤æ­ä¸¤ç§æåµï¼ å¦æè¿ä¸ªçæ¬çäºå¡idå¨readviewçæªæäº¤äºå¡æ°ç»ä¸­ï¼è¡¨ç¤ºè¿ä¸ªçæ¬æ¯ç±è¿æªæäº¤çäºå¡çæçï¼é£ä¹å°±æ¯ä¸å¯è§çï¼\n\n * å¦æè¿ä¸ªçæ¬çäºå¡idä¸å¨readviewçæªæäº¤äºå¡æ°ç»ä¸­ï¼è¡¨ç¤ºè¿ä¸ªçæ¬æ¯å·²ç»æäº¤äºçäºå¡çæçï¼é£ä¹æ¯å¯è§çã\n\n * å¦æå¨ä¸è¿°çå¤æ­ä¸­åç°å½åçæ¬æ¯ä¸å¯è§çï¼é£ä¹å°±ç»§ç»­ä»çæ¬é¾ä¸­éè¿åæ»æéæ¿åä¸ä¸ä¸ªçæ¬æ¥è¿è¡ä¸è¿°çå¤æ­ã\n\n\n# ä¸¾ä¾è¯´æ\n\nåè®¾å½åäºç©çæ¬ä¸ºcurrent_version\n\n** select: ** æ¥è¯¢ä¼èªå¨å whereæ¡ä»¶ and current_version>=def_create_version and (db_trx_id = 'undefined' or db_trx_id>current_version ) delete: db_row_id = current_version update: åæ§è¡deleteåæ§è¡insert insert: æå¥æ°æ®å¹¶ä¸é»è®¤db_trx_id = current_version and db_row_id = 'undefined'\n\n\n# mvccä¸å­å¨å¹»è¯»é®é¢ï¼rrçº§å«çæåµä¸ï¼\n\né¦åç¡®è®¤ä¸ç¹mvccå±äºå¿«ç§è¯»çï¼å¨è¿è¡å¿«ç§è¯»çæåµä¸æ¯ä¸ä¼å¯¹æ°æ®è¿è¡å éï¼èæ¯åºäºäºå¡çæ¬å·åundoåå²çæ¬è¯»åæ°æ®ï¼å¶å®ä¸é¢çæç« å·²ç»è¯´å¾å¾æ¸æ¥äºï¼æä»¬æ ¹æ®ä¸é¢çmvccæµç¨æ¥æ¨å¯¼ï¼æ è®ºå¦ä½å¨mvccçæåµä¸é½æ¯ä¸ä¼åºç°å¹»è¯»çé®é¢çï¼å¦ä¸å¾ã\n\n1ãå¼å¯äºå¡1ï¼è·å¾äºå¡idä¸º1ã\n\n2ãäºå¡1æ§è¡æ¥è¯¢ï¼å¾å°readviewã\n\n3ãå¼å§äºå¡2ã\n\n4ãæ§è¡insertã\n\n5ãæäº¤äºå¡2ã\n\n6ãæ§è¡äºå¡1çç¬¬äºæ¬¡æ¥è¯¢ (å ä¸ºè¿éæ¯rrçº§å«ï¼æä»¥ä¸ä¼åå»è·å¾readview,è¿æ¯ä½¿ç¨ç¬¬ä¸æ¬¡è·å¾çreadview)\n\n7ãæåå¾å°çç»ææ¯ï¼æå¥çæ°æ®ä¸ä¼æ¾ç¤ºï¼å ä¸ºæå¥çæ°æ®äºå¡idå¤§äºç­äº readviewéçæå¤§æ´»è·äºå¡idã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"MySQL ä¸­ varchar å char çåºå«æ¯ä»ä¹ï¼",frontmatter:{title:"MySQL ä¸­ varchar å char çåºå«æ¯ä»ä¹ï¼",date:"2022-05-21T17:10:21.000Z",permalink:"/pages/d97948/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/170.MySQL%20%E4%B8%AD%20varchar%20%E5%92%8C%20char%20%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/170.MySQL ä¸­ varchar å char çåºå«æ¯ä»ä¹ï¼.md",key:"v-0a7e6416",path:"/pages/d97948/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"æ¨¡ç³æ¥è¯¢æ¯å¦ä½å®ç°çï¼",frontmatter:{title:"æ¨¡ç³æ¥è¯¢æ¯å¦ä½å®ç°çï¼",date:"2022-05-21T17:10:36.000Z",permalink:"/pages/32696d/",categories:["æ°æ®åº","MYSQLç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MYSQL%E7%9B%B8%E5%85%B3/180.%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.html",relativePath:"03.æ°æ®åº/01.MYSQLç¸å³/180.æ¨¡ç³æ¥è¯¢æ¯å¦ä½å®ç°çï¼.md",key:"v-6b967a6e",path:"/pages/32696d/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Redis æå ç§æ°æ®ç»æï¼Zset æ¯å¦ä½å®ç°çï¼",frontmatter:{title:"Redis æå ç§æ°æ®ç»æï¼Zset æ¯å¦ä½å®ç°çï¼",date:"2022-05-21T17:21:14.000Z",permalink:"/pages/d70c1f/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/001.Redis%20%E6%9C%89%E5%87%A0%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9FZset%20%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/001.Redis æå ç§æ°æ®ç»æï¼Zset æ¯å¦ä½å®ç°çï¼.md",key:"v-d804fba0",path:"/pages/d70c1f/",headers:[{level:2,title:"å­ç¬¦ä¸²",slug:"å­ç¬¦ä¸²",normalizedTitle:"å­ç¬¦ä¸²",charIndex:2},{level:2,title:"é¾è¡¨",slug:"é¾è¡¨",normalizedTitle:"é¾è¡¨",charIndex:396},{level:2,title:"hash",slug:"hash",normalizedTitle:"hash",charIndex:26},{level:2,title:"è·³è·è¡¨",slug:"è·³è·è¡¨",normalizedTitle:"è·³è·è¡¨",charIndex:2338},{level:2,title:"æ´æ°éå",slug:"æ´æ°éå",normalizedTitle:"æ´æ°éå",charIndex:3010},{level:2,title:"åç¼©åè¡¨",slug:"åç¼©åè¡¨",normalizedTitle:"åç¼©åè¡¨",charIndex:3402},{level:2,title:"RedisObject",slug:"redisobject",normalizedTitle:"redisobject",charIndex:4119}],headersStr:"å­ç¬¦ä¸² é¾è¡¨ hash è·³è·è¡¨ æ´æ°éå åç¼©åè¡¨ RedisObject",content:"> å­ç¬¦ä¸²ï¼Stringï¼ãåè¡¨ï¼listï¼ãå­å¸ï¼hashï¼ãéåï¼setï¼ãæåºéåï¼sortSetï¼.\n\n\n# å­ç¬¦ä¸²\n\n 1. æºç \n\n/*\n- ä¿å­å­ç¬¦ä¸²å¯¹è±¡çç»æ\n*/\nstruct sdshdr {\n\n   // buf ä¸­å·²å ç¨ç©ºé´çé¿åº¦\n   int len;\n\n   // buf ä¸­å©ä½å¯ç¨ç©ºé´çé¿åº¦\n   int free;\n\n   // æ°æ®ç©ºé´\n   char buf[];\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 2. sdsä¸cå­ç¬¦ä¸²çåºå«\n\n * sdsè·åå­ç¬¦ä¸²é¿åº¦çå¤æåº¦ä¸ºO(1),cçæ¯O(n)\n * cçapiæ¯ä¸å®å¨çï¼å¯è½é æç¼å²åºæº¢åºï¼sdsçæ¯å®å¨çã\n * ä¿®æ¹Næ¬¡å­ç¬¦ä¸²ï¼céè¦Næ¬¡åå­åéãsdsæå¤éè¦Næ¬¡åéãsdsæç©ºé´é¢åéåæ°æ§åæ¶ã\n * sdså¯ä»¥ä½¿ç¨é¨åcçå­ç¬¦ä¸²åºã\n\n\n# é¾è¡¨\n\n 1. æºç \n\n/*\n* åç«¯é¾è¡¨èç¹\n*/\ntypedef struct listNode {\n\n  // åç½®èç¹\n  struct listNode *prev;\n\n  // åç½®èç¹\n  struct listNode *next;\n\n  // èç¹çå¼\n  void *value;\n\n} listNode;\n\n/*\n* åç«¯é¾è¡¨ç»æ\n*/\ntypedef struct list {\n\n  // è¡¨å¤´èç¹\n  listNode *head;\n\n  // è¡¨å°¾èç¹\n  listNode *tail;\n\n  // èç¹å¼å¤å¶å½æ°\n  void *(*dup)(void *ptr);\n\n  // èç¹å¼éæ¾å½æ°\n  void (*free)(void *ptr);\n\n  // èç¹å¼å¯¹æ¯å½æ°\n  int (*match)(void *ptr, void *key);\n\n  // é¾è¡¨æåå«çèç¹æ°é\n  unsigned long len;\n\n} list;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-ua4uHhOc-1653145947289)]\n\n\n# hash\n\n 1. æºç \n\n/*\n* åå¸è¡¨èç¹\n*/\ntypedef struct dictEntry {\n  \n  // é®\n  void *key;\n\n  // å¼\n  union {\n      void *val;\n      uint64_t u64;\n      int64_t s64;\n  } v;\n\n  // æåä¸ä¸ªåå¸è¡¨èç¹ï¼å½¢æé¾è¡¨\n  struct dictEntry *next;\n\n} dictEntry;\n\n/*\n* åå¸è¡¨\n*\n* æ¯ä¸ªå­å¸é½ä½¿ç¨ä¸¤ä¸ªåå¸è¡¨ï¼ä»èå®ç°æ¸è¿å¼ rehash ã\n*/\ntypedef struct dictht {\n  \n  // åå¸è¡¨æ°ç»\n  dictEntry **table;\n\n  // åå¸è¡¨å¤§å°\n  unsigned long size;\n  \n  // åå¸è¡¨å¤§å°æ©ç ï¼ç¨äºè®¡ç®ç´¢å¼å¼\n  // æ»æ¯ç­äº size - 1\n  unsigned long sizemask;\n\n  // è¯¥åå¸è¡¨å·²æèç¹çæ°é\n  unsigned long used;\n\n} dictht;\n\n/*\n* å­å¸\n*/\ntypedef struct dict {\n\n  // ç±»åç¹å®å½æ°\n  dictType *type;\n\n  // ç§ææ°æ®\n  void *privdata;\n\n  // åå¸è¡¨\n  dictht ht[2];\n\n  // rehash ç´¢å¼\n  // å½ rehash ä¸å¨è¿è¡æ¶ï¼å¼ä¸º -1\n  int rehashidx; /* rehashing not in progress if rehashidx == -1 */\n\n  // ç®åæ­£å¨è¿è¡çå®å¨è¿­ä»£å¨çæ°é\n  int iterators; /* number of iterators currently running */\n\n} dict;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-3IEt2xy5-1653145947290)] 2. reHash\n\n> æ©å®¹åºæ¯ï¼ æBGSAVEæèBGREWRITEAOFæ¶ï¼è´è½½å å­è¶è¿5. æ BGSAVEæèBGREWRITEAOFæ¶ï¼è´è½½å å­è¶è¿1. æ©å®¹ä¸ºç¬¬ä¸ä¸ªå¤§äºç­äºht[0].used*2ç2çå¹\n\n> ç¼©å®¹åºæ¯ï¼ è´è½½å å­å°äº0.1 ç¼©å®¹ä¸ºç¬¬ä¸ä¸ªå¤§äºç­äºht[0].usedç2çå¹\n\n> è´è½½å å­ï¼ht[0].used/ht[0].size\n\n> æ¸è¿å¼rehash: rehashidxæåæ­£å¨hashçç´¢å¼ãrehashidx=-1è¡¨ç¤ºæªè¿è¡rehash æ¯æ¬¡è®¿é®dictç»ææ¶rehashä¸ä¸ªç´¢å¼\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-A0e54HI9-1653145947290)]\n\n\n# è·³è·è¡¨\n\n 1. æºç \n\n/*\n* è·³è·è¡¨èç¹\n*/\ntypedef struct zskiplistNode {\n\n   // æåå¯¹è±¡\n   robj *obj;\n\n   // åå¼\n   double score;\n\n   // åéæé\n   struct zskiplistNode *backward;\n\n   // å±\n   struct zskiplistLevel {\n\n       // åè¿æé\n       struct zskiplistNode *forward;\n\n       // è·¨åº¦\n       unsigned int span;\n\n   } level[];\n\n} zskiplistNode;\n\n/*\n* è·³è·è¡¨\n*/\ntypedef struct zskiplist {\n\n   // è¡¨å¤´èç¹åè¡¨å°¾èç¹\n   struct zskiplistNode *header, *tail;\n\n   // è¡¨ä¸­èç¹çæ°é\n   unsigned long length;\n\n   // è¡¨ä¸­å±æ°æå¤§çèç¹çå±æ°\n   int level;\n\n} zskiplist;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-MbZS62dp-1653145947291)]\n\n\n# æ´æ°éå\n\n 1. æºç \n\ntypedef struct intset {\n   \n   // ç¼ç æ¹å¼\n   uint32_t encoding;\n\n   // éååå«çåç´ æ°é\n   uint32_t length;\n\n   // ä¿å­åç´ çæ°ç»\n   int8_t contents[];\n\n} intset;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-hdTbZZhS-1653145947291)] 2. ç¼ç åçº§ æ·»å ä¸ä¸ªåç´ å¯è½å¯¼è´ç¼ç åçº§ãç¼ç åçº§éè¦åä¸ä»¶äº\n\n * æ©å±ç©ºé´\n * è½¬åç°æåç´ çç±»åå¹¶åè³å¨åéçä½ç½®ä¸ãä¿è¯åæé¡ºåºé²æ­¢\n * é²æ­¢æ°å å¥çåç´ ãæ°å å¥çåç´ ä¸å®æ¯æå¤§ææå°çï¼æä»¥æ¾å¨æåæèæå\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-0R00I0BO-1653145947291)]\n\n\n# åç¼©åè¡¨\n\n> åç¼©åè¡¨æ¯ Redis ä¸ºäºèçº¦åå­èå¼åçï¼ ç±ä¸ç³»åç¹æ®ç¼ç çè¿ç»­åå­åç»æçé¡ºåºåï¼sequentialï¼æ°æ®ç»æã ä¸ä¸ªåç¼©åè¡¨å¯ä»¥åå«ä»»æå¤ä¸ªèç¹ï¼entryï¼ï¼ æ¯ä¸ªèç¹å¯ä»¥ä¿å­ä¸ä¸ªå­èæ°ç»æèä¸ä¸ªæ´æ°å¼\n\n 1. æºç \n\n/*\n* ä¿å­ ziplist èç¹ä¿¡æ¯çç»æ\n*/\ntypedef struct zlentry {\n\n   // prevrawlen ï¼åç½®èç¹çé¿åº¦\n   // prevrawlensize ï¼ç¼ç  prevrawlen æéçå­èå¤§å°\n   unsigned int prevrawlensize, prevrawlen;\n\n   // len ï¼å½åèç¹å¼çé¿åº¦\n   // lensize ï¼ç¼ç  len æéçå­èå¤§å°\n   unsigned int lensize, len;\n\n   // å½åèç¹ header çå¤§å°\n   // ç­äº prevrawlensize + lensize\n   unsigned int headersize;\n\n   // å½åèç¹å¼æä½¿ç¨çç¼ç ç±»å\n   unsigned char encoding;\n\n   // æåå½åèç¹çæé\n   unsigned char *p;\n\n} zlentry;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n 2. ç¤ºæå¾ [å¤é¾å¾çè½¬å­ä¸­...(img-NMDF8Bnt-1653145947292)] [å¤é¾å¾çè½¬å­ä¸­...(img-5KdqaS0e-1653145947292)]\n\n\n# RedisObject\n\n> Redis ä½¿ç¨å¯¹è±¡æ¥è¡¨ç¤ºæ°æ®åºä¸­çé®åå¼ï¼ æ¯æ¬¡å½æä»¬å¨ Redis çæ°æ®åºä¸­æ°åå»ºä¸ä¸ªé®å¼å¯¹æ¶ï¼ æä»¬è³å°ä¼åå»ºä¸¤ä¸ªå¯¹è±¡ï¼ ä¸ä¸ªå¯¹è±¡ç¨ä½é®å¼å¯¹çé®ï¼é®å¯¹è±¡ï¼ï¼ å¦ä¸ä¸ªå¯¹è±¡ç¨ä½é®å¼å¯¹çå¼ï¼å¼å¯¹è±¡ï¼ã\n\n 1. æºç \n\ntypedef struct redisObject {\n\n   // ç±»å\n   unsigned type:4;\n\n   // ç¼ç \n   unsigned encoding:4;\n\n   // å¯¹è±¡æåä¸æ¬¡è¢«è®¿é®çæ¶é´\n   unsigned lru:REDIS_LRU_BITS; /* lru time (relative to server.lruclock) */\n\n   // å¼ç¨è®¡æ°\n   int refcount;\n\n   // æåå®éå¼çæé\n   void *ptr;\n\n} robj;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-uT4NW4Ki-1653145947292)] 2. ç±»ååç¼ç çå¯¹åºå³ç³» [å¤é¾å¾çè½¬å­ä¸­...(img-jkooRnC4-1653145947293)] 3. å­ç¬¦ä¸²å¯¹è±¡\n\nå¼                           ç¼ç \nå¯ä»¥ç¨longä¿å­çæ´å½¢                int\nå¯ä»¥ç¨longï¼doubleä¿å­çæµ®ç¹         embstrærow\né¿åº¦å¤ªé¿ï¼ä¸å¯ä»¥ç¨longï¼doubleä¿å­çæµ®ç¹   embstrærow\nå°äº39å­èçå­ç¬¦ä¸²                  embstr\nå¤§äº39å­èçå­ç¬¦ä¸²                  row\n\n> rowè¦ä¸¤æ¬¡ç³è¯·åå­ï¼ä¸¤æ¬¡éæ¾åå­ãä¸ºè¿ä¿©å¯¹è±¡RedisObjectãSdsStrãembstrç³è¯·ä¸æ¬¡éæ¾ä¸æ¬¡ï¼èä¸ç³è¯·çæ¯è¿ç»­çåå­ç©ºé´ï¼è½æ´å¥½çå©ç¨ç¼å­ã\n\n 4. é¾è¡¨å¯¹è±¡\n\n> inkedListåzipListçè½¬æ¢ä¸´çå¼:æ¯ä¸ªåç´ é¿åº¦é½å°äº64ãåç´ ä¸ªæ°å°äº512ãæ»¡è¶³ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æè½ç¨zipList\n\n 5. hashå¯¹è±¡\n\n> hashtableåzipListçè½¬æ¢ä¸´çå¼:æ¯ä¸ªåç´ é¿åº¦é½å°äº64ãåç´ ä¸ªæ°å°äº512ãæ»¡è¶³ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æè½ç¨zipList\n\n 6. éåå¯¹è±¡\n\n> hashtableåintsetçè½¬æ¢ä¸´çå¼:æ¯ä¸ªåç´ é½æ¯intãåç´ ä¸ªæ°å°äº512ãæ»¡è¶³ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æè½ç¨intset\n\n 7. åå­åæ¶\n\n> redisæ¯ç¨Cå®ç°çï¼Cæ²¡æèªå¨åæ¶åå­çæºå¶ãRedisObjectä¸­çrefCountè®°å½å¯¹è±¡çå¼ç¨ä¸ªæ°ï¼å½refCount=0çæ¶åèªå¨éæ¾åå­ã\n\n 8. å¯¹è±¡å±äº«\n\n> 0- 9999è¿1wä¸ªæ´æ°æ¯å±äº«å¯¹è±¡ãå­ç¬¦ä¸²ä¸åå±äº«å¯¹è±¡ï¼å ä¸ºå¯¹æ¯å¹éå¤ªå¤æ",normalizedContent:"> å­ç¬¦ä¸²ï¼stringï¼ãåè¡¨ï¼listï¼ãå­å¸ï¼hashï¼ãéåï¼setï¼ãæåºéåï¼sortsetï¼.\n\n\n# å­ç¬¦ä¸²\n\n 1. æºç \n\n/*\n- ä¿å­å­ç¬¦ä¸²å¯¹è±¡çç»æ\n*/\nstruct sdshdr {\n\n   // buf ä¸­å·²å ç¨ç©ºé´çé¿åº¦\n   int len;\n\n   // buf ä¸­å©ä½å¯ç¨ç©ºé´çé¿åº¦\n   int free;\n\n   // æ°æ®ç©ºé´\n   char buf[];\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 2. sdsä¸cå­ç¬¦ä¸²çåºå«\n\n * sdsè·åå­ç¬¦ä¸²é¿åº¦çå¤æåº¦ä¸ºo(1),cçæ¯o(n)\n * cçapiæ¯ä¸å®å¨çï¼å¯è½é æç¼å²åºæº¢åºï¼sdsçæ¯å®å¨çã\n * ä¿®æ¹næ¬¡å­ç¬¦ä¸²ï¼céè¦næ¬¡åå­åéãsdsæå¤éè¦næ¬¡åéãsdsæç©ºé´é¢åéåæ°æ§åæ¶ã\n * sdså¯ä»¥ä½¿ç¨é¨åcçå­ç¬¦ä¸²åºã\n\n\n# é¾è¡¨\n\n 1. æºç \n\n/*\n* åç«¯é¾è¡¨èç¹\n*/\ntypedef struct listnode {\n\n  // åç½®èç¹\n  struct listnode *prev;\n\n  // åç½®èç¹\n  struct listnode *next;\n\n  // èç¹çå¼\n  void *value;\n\n} listnode;\n\n/*\n* åç«¯é¾è¡¨ç»æ\n*/\ntypedef struct list {\n\n  // è¡¨å¤´èç¹\n  listnode *head;\n\n  // è¡¨å°¾èç¹\n  listnode *tail;\n\n  // èç¹å¼å¤å¶å½æ°\n  void *(*dup)(void *ptr);\n\n  // èç¹å¼éæ¾å½æ°\n  void (*free)(void *ptr);\n\n  // èç¹å¼å¯¹æ¯å½æ°\n  int (*match)(void *ptr, void *key);\n\n  // é¾è¡¨æåå«çèç¹æ°é\n  unsigned long len;\n\n} list;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-ua4uhhoc-1653145947289)]\n\n\n# hash\n\n 1. æºç \n\n/*\n* åå¸è¡¨èç¹\n*/\ntypedef struct dictentry {\n  \n  // é®\n  void *key;\n\n  // å¼\n  union {\n      void *val;\n      uint64_t u64;\n      int64_t s64;\n  } v;\n\n  // æåä¸ä¸ªåå¸è¡¨èç¹ï¼å½¢æé¾è¡¨\n  struct dictentry *next;\n\n} dictentry;\n\n/*\n* åå¸è¡¨\n*\n* æ¯ä¸ªå­å¸é½ä½¿ç¨ä¸¤ä¸ªåå¸è¡¨ï¼ä»èå®ç°æ¸è¿å¼ rehash ã\n*/\ntypedef struct dictht {\n  \n  // åå¸è¡¨æ°ç»\n  dictentry **table;\n\n  // åå¸è¡¨å¤§å°\n  unsigned long size;\n  \n  // åå¸è¡¨å¤§å°æ©ç ï¼ç¨äºè®¡ç®ç´¢å¼å¼\n  // æ»æ¯ç­äº size - 1\n  unsigned long sizemask;\n\n  // è¯¥åå¸è¡¨å·²æèç¹çæ°é\n  unsigned long used;\n\n} dictht;\n\n/*\n* å­å¸\n*/\ntypedef struct dict {\n\n  // ç±»åç¹å®å½æ°\n  dicttype *type;\n\n  // ç§ææ°æ®\n  void *privdata;\n\n  // åå¸è¡¨\n  dictht ht[2];\n\n  // rehash ç´¢å¼\n  // å½ rehash ä¸å¨è¿è¡æ¶ï¼å¼ä¸º -1\n  int rehashidx; /* rehashing not in progress if rehashidx == -1 */\n\n  // ç®åæ­£å¨è¿è¡çå®å¨è¿­ä»£å¨çæ°é\n  int iterators; /* number of iterators currently running */\n\n} dict;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-3iet2xy5-1653145947290)] 2. rehash\n\n> æ©å®¹åºæ¯ï¼ æbgsaveæèbgrewriteaofæ¶ï¼è´è½½å å­è¶è¿5. æ bgsaveæèbgrewriteaofæ¶ï¼è´è½½å å­è¶è¿1. æ©å®¹ä¸ºç¬¬ä¸ä¸ªå¤§äºç­äºht[0].used*2ç2çå¹\n\n> ç¼©å®¹åºæ¯ï¼ è´è½½å å­å°äº0.1 ç¼©å®¹ä¸ºç¬¬ä¸ä¸ªå¤§äºç­äºht[0].usedç2çå¹\n\n> è´è½½å å­ï¼ht[0].used/ht[0].size\n\n> æ¸è¿å¼rehash: rehashidxæåæ­£å¨hashçç´¢å¼ãrehashidx=-1è¡¨ç¤ºæªè¿è¡rehash æ¯æ¬¡è®¿é®dictç»ææ¶rehashä¸ä¸ªç´¢å¼\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-a0e54hi9-1653145947290)]\n\n\n# è·³è·è¡¨\n\n 1. æºç \n\n/*\n* è·³è·è¡¨èç¹\n*/\ntypedef struct zskiplistnode {\n\n   // æåå¯¹è±¡\n   robj *obj;\n\n   // åå¼\n   double score;\n\n   // åéæé\n   struct zskiplistnode *backward;\n\n   // å±\n   struct zskiplistlevel {\n\n       // åè¿æé\n       struct zskiplistnode *forward;\n\n       // è·¨åº¦\n       unsigned int span;\n\n   } level[];\n\n} zskiplistnode;\n\n/*\n* è·³è·è¡¨\n*/\ntypedef struct zskiplist {\n\n   // è¡¨å¤´èç¹åè¡¨å°¾èç¹\n   struct zskiplistnode *header, *tail;\n\n   // è¡¨ä¸­èç¹çæ°é\n   unsigned long length;\n\n   // è¡¨ä¸­å±æ°æå¤§çèç¹çå±æ°\n   int level;\n\n} zskiplist;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-mbzs62dp-1653145947291)]\n\n\n# æ´æ°éå\n\n 1. æºç \n\ntypedef struct intset {\n   \n   // ç¼ç æ¹å¼\n   uint32_t encoding;\n\n   // éååå«çåç´ æ°é\n   uint32_t length;\n\n   // ä¿å­åç´ çæ°ç»\n   int8_t contents[];\n\n} intset;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-hdtbzzhs-1653145947291)] 2. ç¼ç åçº§ æ·»å ä¸ä¸ªåç´ å¯è½å¯¼è´ç¼ç åçº§ãç¼ç åçº§éè¦åä¸ä»¶äº\n\n * æ©å±ç©ºé´\n * è½¬åç°æåç´ çç±»åå¹¶åè³å¨åéçä½ç½®ä¸ãä¿è¯åæé¡ºåºé²æ­¢\n * é²æ­¢æ°å å¥çåç´ ãæ°å å¥çåç´ ä¸å®æ¯æå¤§ææå°çï¼æä»¥æ¾å¨æåæèæå\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-0r00i0bo-1653145947291)]\n\n\n# åç¼©åè¡¨\n\n> åç¼©åè¡¨æ¯ redis ä¸ºäºèçº¦åå­èå¼åçï¼ ç±ä¸ç³»åç¹æ®ç¼ç çè¿ç»­åå­åç»æçé¡ºåºåï¼sequentialï¼æ°æ®ç»æã ä¸ä¸ªåç¼©åè¡¨å¯ä»¥åå«ä»»æå¤ä¸ªèç¹ï¼entryï¼ï¼ æ¯ä¸ªèç¹å¯ä»¥ä¿å­ä¸ä¸ªå­èæ°ç»æèä¸ä¸ªæ´æ°å¼\n\n 1. æºç \n\n/*\n* ä¿å­ ziplist èç¹ä¿¡æ¯çç»æ\n*/\ntypedef struct zlentry {\n\n   // prevrawlen ï¼åç½®èç¹çé¿åº¦\n   // prevrawlensize ï¼ç¼ç  prevrawlen æéçå­èå¤§å°\n   unsigned int prevrawlensize, prevrawlen;\n\n   // len ï¼å½åèç¹å¼çé¿åº¦\n   // lensize ï¼ç¼ç  len æéçå­èå¤§å°\n   unsigned int lensize, len;\n\n   // å½åèç¹ header çå¤§å°\n   // ç­äº prevrawlensize + lensize\n   unsigned int headersize;\n\n   // å½åèç¹å¼æä½¿ç¨çç¼ç ç±»å\n   unsigned char encoding;\n\n   // æåå½åèç¹çæé\n   unsigned char *p;\n\n} zlentry;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n 2. ç¤ºæå¾ [å¤é¾å¾çè½¬å­ä¸­...(img-nmdf8bnt-1653145947292)] [å¤é¾å¾çè½¬å­ä¸­...(img-5kdqas0e-1653145947292)]\n\n\n# redisobject\n\n> redis ä½¿ç¨å¯¹è±¡æ¥è¡¨ç¤ºæ°æ®åºä¸­çé®åå¼ï¼ æ¯æ¬¡å½æä»¬å¨ redis çæ°æ®åºä¸­æ°åå»ºä¸ä¸ªé®å¼å¯¹æ¶ï¼ æä»¬è³å°ä¼åå»ºä¸¤ä¸ªå¯¹è±¡ï¼ ä¸ä¸ªå¯¹è±¡ç¨ä½é®å¼å¯¹çé®ï¼é®å¯¹è±¡ï¼ï¼ å¦ä¸ä¸ªå¯¹è±¡ç¨ä½é®å¼å¯¹çå¼ï¼å¼å¯¹è±¡ï¼ã\n\n 1. æºç \n\ntypedef struct redisobject {\n\n   // ç±»å\n   unsigned type:4;\n\n   // ç¼ç \n   unsigned encoding:4;\n\n   // å¯¹è±¡æåä¸æ¬¡è¢«è®¿é®çæ¶é´\n   unsigned lru:redis_lru_bits; /* lru time (relative to server.lruclock) */\n\n   // å¼ç¨è®¡æ°\n   int refcount;\n\n   // æåå®éå¼çæé\n   void *ptr;\n\n} robj;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-ut4nw4ki-1653145947292)] 2. ç±»ååç¼ç çå¯¹åºå³ç³» [å¤é¾å¾çè½¬å­ä¸­...(img-jkoornc4-1653145947293)] 3. å­ç¬¦ä¸²å¯¹è±¡\n\nå¼                           ç¼ç \nå¯ä»¥ç¨longä¿å­çæ´å½¢                int\nå¯ä»¥ç¨longï¼doubleä¿å­çæµ®ç¹         embstrærow\né¿åº¦å¤ªé¿ï¼ä¸å¯ä»¥ç¨longï¼doubleä¿å­çæµ®ç¹   embstrærow\nå°äº39å­èçå­ç¬¦ä¸²                  embstr\nå¤§äº39å­èçå­ç¬¦ä¸²                  row\n\n> rowè¦ä¸¤æ¬¡ç³è¯·åå­ï¼ä¸¤æ¬¡éæ¾åå­ãä¸ºè¿ä¿©å¯¹è±¡redisobjectãsdsstrãembstrç³è¯·ä¸æ¬¡éæ¾ä¸æ¬¡ï¼èä¸ç³è¯·çæ¯è¿ç»­çåå­ç©ºé´ï¼è½æ´å¥½çå©ç¨ç¼å­ã\n\n 4. é¾è¡¨å¯¹è±¡\n\n> inkedliståziplistçè½¬æ¢ä¸´çå¼:æ¯ä¸ªåç´ é¿åº¦é½å°äº64ãåç´ ä¸ªæ°å°äº512ãæ»¡è¶³ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æè½ç¨ziplist\n\n 5. hashå¯¹è±¡\n\n> hashtableåziplistçè½¬æ¢ä¸´çå¼:æ¯ä¸ªåç´ é¿åº¦é½å°äº64ãåç´ ä¸ªæ°å°äº512ãæ»¡è¶³ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æè½ç¨ziplist\n\n 6. éåå¯¹è±¡\n\n> hashtableåintsetçè½¬æ¢ä¸´çå¼:æ¯ä¸ªåç´ é½æ¯intãåç´ ä¸ªæ°å°äº512ãæ»¡è¶³ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æè½ç¨intset\n\n 7. åå­åæ¶\n\n> redisæ¯ç¨cå®ç°çï¼cæ²¡æèªå¨åæ¶åå­çæºå¶ãredisobjectä¸­çrefcountè®°å½å¯¹è±¡çå¼ç¨ä¸ªæ°ï¼å½refcount=0çæ¶åèªå¨éæ¾åå­ã\n\n 8. å¯¹è±¡å±äº«\n\n> 0- 9999è¿1wä¸ªæ´æ°æ¯å±äº«å¯¹è±¡ãå­ç¬¦ä¸²ä¸åå±äº«å¯¹è±¡ï¼å ä¸ºå¯¹æ¯å¹éå¤ªå¤æ",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ä¸ºä»ä¹ Redis å¨åçº¿ç¨ä¸è½å¦æ­¤å¿«ï¼",frontmatter:{title:"ä¸ºä»ä¹ Redis å¨åçº¿ç¨ä¸è½å¦æ­¤å¿«ï¼",date:"2022-05-21T17:20:12.000Z",permalink:"/pages/d66211/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/002.%E4%B8%BA%E4%BB%80%E4%B9%88%20Redis%20%E5%9C%A8%E5%8D%95%E7%BA%BF%E7%A8%8B%E4%B8%8B%E8%83%BD%E5%A6%82%E6%AD%A4%E5%BF%AB%EF%BC%9F.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/002.ä¸ºä»ä¹ Redis å¨åçº¿ç¨ä¸è½å¦æ­¤å¿«ï¼.md",key:"v-cb742458",path:"/pages/d66211/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis å­ç¬¦ä¸²çåºå±ç»æ",frontmatter:{title:"ç®è¿° Redis å­ç¬¦ä¸²çåºå±ç»æ",date:"2022-05-21T17:20:49.000Z",permalink:"/pages/34aec2/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/005.%E7%AE%80%E8%BF%B0%20Redis%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/005.ç®è¿° Redis å­ç¬¦ä¸²çåºå±ç»æ.md",key:"v-3e917471",path:"/pages/34aec2/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Redis å¦ä½å®ç°åå¸å¼éï¼",frontmatter:{title:"Redis å¦ä½å®ç°åå¸å¼éï¼",date:"2022-05-21T17:21:32.000Z",permalink:"/pages/656f46/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/030.Redis%20%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%EF%BC%9F.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/030.Redis å¦ä½å®ç°åå¸å¼éï¼.md",key:"v-2c6b511c",path:"/pages/656f46/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis éç¾¤éç½®ä»¥ååºç¡åç",frontmatter:{title:"ç®è¿° Redis éç¾¤éç½®ä»¥ååºç¡åç",date:"2022-05-21T17:21:55.000Z",permalink:"/pages/338e30/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/040.%E7%AE%80%E8%BF%B0%20Redis%20%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E5%9F%BA%E7%A1%80%E5%8E%9F%E7%90%86.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/040.ç®è¿° Redis éç¾¤éç½®ä»¥ååºç¡åç.md",key:"v-3d2fdd6a",path:"/pages/338e30/",headers:[{level:2,title:"å¤å¶",slug:"å¤å¶",normalizedTitle:"å¤å¶",charIndex:39}],headersStr:"å¤å¶",content:"# éç¾¤\n\n> éç¾¤æ¯redisçåå¸å¼æ°æ®åºæ¹æ¡ãéè¿åçå®ç°æ°æ®å±äº«ãæä¾å¤å¶åæéè½¬ç§»åè½ã\n\n// ä¿å­è¿æ¥èç¹æéçæå³ä¿¡æ¯\ntypedef struct clusterLink {\n\n    // è¿æ¥çåå»ºæ¶é´\n    mstime_t ctime;             /* Link creation time */\n\n    // TCP å¥æ¥å­æè¿°ç¬¦\n    int fd;                     /* TCP socket file descriptor */\n\n    // è¾åºç¼å²åºï¼ä¿å­çç­å¾åéç»å¶ä»èç¹çæ¶æ¯ï¼messageï¼ã\n    sds sndbuf;                 /* Packet send buffer */\n\n    // è¾å¥ç¼å²åºï¼ä¿å­çä»å¶ä»èç¹æ¥æ¶å°çæ¶æ¯ã\n    sds rcvbuf;                 /* Packet reception buffer */\n\n    // ä¸è¿ä¸ªè¿æ¥ç¸å³èçèç¹ï¼å¦ææ²¡æçè¯å°±ä¸º NULL\n    struct clusterNode *node;   /* Node related to this link if any, or NULL */\n\n} clusterLink;\n\n// èç¹ç¶æ\nstruct clusterNode {\n\n    // åå»ºèç¹çæ¶é´\n    mstime_t ctime; /* Node object creation time. */\n\n    // èç¹çåå­ï¼ç± 40 ä¸ªåå­è¿å¶å­ç¬¦ç»æ\n    // ä¾å¦ 68eef66df23420a5862208ef5b1a7005b806f2ff\n    char name[REDIS_CLUSTER_NAMELEN]; /* Node name, hex string, sha1-size */\n\n    // èç¹æ è¯\n    // ä½¿ç¨åç§ä¸åçæ è¯å¼è®°å½èç¹çè§è²ï¼æ¯å¦ä¸»èç¹æèä»èç¹ï¼ï¼\n    // ä»¥åèç¹ç®åæå¤çç¶æï¼æ¯å¦å¨çº¿æèä¸çº¿ï¼ã\n    int flags;      /* REDIS_NODE_... */\n\n    // èç¹å½åçéç½®çºªåï¼ç¨äºå®ç°æéè½¬ç§»\n    uint64_t configEpoch; /* Last configEpoch observed for this node */\n\n    // ç±è¿ä¸ªèç¹è´è´£å¤ççæ§½\n    // ä¸å±æ REDIS_CLUSTER_SLOTS / 8 ä¸ªå­èé¿\n    // æ¯ä¸ªå­èçæ¯ä¸ªä½è®°å½äºä¸ä¸ªæ§½çä¿å­ç¶æ\n    // ä½çå¼ä¸º 1 è¡¨ç¤ºæ§½æ­£ç±æ¬èç¹å¤çï¼å¼ä¸º 0 åè¡¨ç¤ºæ§½å¹¶éæ¬èç¹å¤ç\n    // æ¯å¦ slots[0] çç¬¬ä¸ä¸ªä½ä¿å­äºæ§½ 0 çä¿å­æåµ\n    // slots[0] çç¬¬äºä¸ªä½ä¿å­äºæ§½ 1 çä¿å­æåµï¼ä»¥æ­¤ç±»æ¨\n    unsigned char slots[REDIS_CLUSTER_SLOTS/8]; /* slots handled by this node */\n\n    // è¯¥èç¹è´è´£å¤ççæ§½æ°é\n    int numslots;   /* Number of slots handled by this node */\n\n    // å¦ææ¬èç¹æ¯ä¸»èç¹ï¼é£ä¹ç¨è¿ä¸ªå±æ§è®°å½ä»èç¹çæ°é\n    int numslaves;  /* Number of slave nodes, if this is a master */\n\n    // æéæ°ç»ï¼æååä¸ªä»èç¹\n    struct clusterNode **slaves; /* pointers to slave nodes */\n\n    // å¦æè¿æ¯ä¸ä¸ªä»èç¹ï¼é£ä¹æåä¸»èç¹\n    struct clusterNode *slaveof; /* pointer to the master node */\n\n    // æåä¸æ¬¡åé PING å½ä»¤çæ¶é´\n    mstime_t ping_sent;      /* Unix time we sent latest ping */\n\n    // æåä¸æ¬¡æ¥æ¶ PONG åå¤çæ¶é´æ³\n    mstime_t pong_received;  /* Unix time we received the pong */\n\n    // æåä¸æ¬¡è¢«è®¾ç½®ä¸º FAIL ç¶æçæ¶é´\n    mstime_t fail_time;      /* Unix time when FAIL flag was set */\n\n    // æåä¸æ¬¡ç»æä¸ªä»èç¹æç¥¨çæ¶é´\n    mstime_t voted_time;     /* Last time we voted for a slave of this master */\n\n    // æåä¸æ¬¡ä»è¿ä¸ªèç¹æ¥æ¶å°å¤å¶åç§»éçæ¶é´\n    mstime_t repl_offset_time;  /* Unix time we received offset for this node */\n\n    // è¿ä¸ªèç¹çå¤å¶åç§»é\n    long long repl_offset;      /* Last known repl offset for this node. */\n\n    // èç¹ç IP å°å\n    char ip[REDIS_IP_STR_LEN];  /* Latest known IP address of this node */\n\n    // èç¹çç«¯å£å·\n    int port;                   /* Latest known port of this node */\n\n    // ä¿å­è¿æ¥èç¹æéçæå³ä¿¡æ¯\n    clusterLink *link;          /* TCP/IP link with this node */\n\n    // ä¸ä¸ªé¾è¡¨ï¼è®°å½äºææå¶ä»èç¹å¯¹è¯¥èç¹çä¸çº¿æ¥å\n    list *fail_reports;         /* List of nodes signaling this as failing */\n\n};\ntypedef struct clusterNode clusterNode;\n\n\n// éç¾¤ç¶æï¼æ¯ä¸ªèç¹é½ä¿å­çä¸ä¸ªè¿æ ·çç¶æï¼è®°å½äºå®ä»¬ç¼ä¸­çéç¾¤çæ ·å­ã\n// å¦å¤ï¼è½ç¶è¿ä¸ªç»æä¸»è¦ç¨äºè®°å½éç¾¤çå±æ§ï¼ä½æ¯ä¸ºäºèçº¦èµæºï¼\n// æäºä¸èç¹æå³çå±æ§ï¼æ¯å¦ slots_to_keys ã failover_auth_count \n// ä¹è¢«æ¾å°äºè¿ä¸ªç»æéé¢ã\ntypedef struct clusterState {\n\n    // æåå½åèç¹çæé\n    clusterNode *myself;  /* This node */\n\n    // éç¾¤å½åçéç½®çºªåï¼ç¨äºå®ç°æéè½¬ç§»\n    uint64_t currentEpoch;\n\n    // éç¾¤å½åçç¶æï¼æ¯å¨çº¿è¿æ¯ä¸çº¿\n    int state;            /* REDIS_CLUSTER_OK, REDIS_CLUSTER_FAIL, ... */\n\n    // éç¾¤ä¸­è³å°å¤ççä¸ä¸ªæ§½çèç¹çæ°éã\n    int size;             /* Num of master nodes with at least one slot */\n\n    // éç¾¤èç¹ååï¼åæ¬ myself èç¹ï¼\n    // å­å¸çé®ä¸ºèç¹çåå­ï¼å­å¸çå¼ä¸º clusterNode ç»æ\n    dict *nodes;          /* Hash table of name -> clusterNode structures */\n\n    // èç¹é»ååï¼ç¨äº CLUSTER FORGET å½ä»¤\n    // é²æ­¢è¢« FORGET çå½ä»¤éæ°è¢«æ·»å å°éç¾¤éé¢\n    // ï¼ä¸è¿ç°å¨ä¼¼ä¹æ²¡æå¨ä½¿ç¨çæ ·å­ï¼å·²åºå¼ï¼è¿æ¯å°æªå®ç°ï¼ï¼\n    dict *nodes_black_list; /* Nodes we don't re-add for a few seconds. */\n\n    // è®°å½è¦ä»å½åèç¹è¿ç§»å°ç®æ èç¹çæ§½ï¼ä»¥åè¿ç§»çç®æ èç¹\n    // migrating_slots_to[i] = NULL è¡¨ç¤ºæ§½ i æªè¢«è¿ç§»\n    // migrating_slots_to[i] = clusterNode_A è¡¨ç¤ºæ§½ i è¦ä»æ¬èç¹è¿ç§»è³èç¹ A\n    clusterNode *migrating_slots_to[REDIS_CLUSTER_SLOTS];\n\n    // è®°å½è¦ä»æºèç¹è¿ç§»å°æ¬èç¹çæ§½ï¼ä»¥åè¿è¡è¿ç§»çæºèç¹\n    // importing_slots_from[i] = NULL è¡¨ç¤ºæ§½ i æªè¿è¡å¯¼å¥\n    // importing_slots_from[i] = clusterNode_A è¡¨ç¤ºæ­£ä»èç¹ A ä¸­å¯¼å¥æ§½ i\n    clusterNode *importing_slots_from[REDIS_CLUSTER_SLOTS];\n\n    // è´è´£å¤çåä¸ªæ§½çèç¹\n    // ä¾å¦ slots[i] = clusterNode_A è¡¨ç¤ºæ§½ i ç±èç¹ A å¤ç\n    clusterNode *slots[REDIS_CLUSTER_SLOTS];\n\n    // è·³è·è¡¨ï¼è¡¨ä¸­ä»¥æ§½ä½ä¸ºåå¼ï¼é®ä½ä¸ºæåï¼å¯¹æ§½è¿è¡æåºæåº\n    // å½éè¦å¯¹æäºæ§½è¿è¡åºé´ï¼rangeï¼æä½æ¶ï¼è¿ä¸ªè·³è·è¡¨å¯ä»¥æä¾æ¹ä¾¿\n    // å·ä½æä½å®ä¹å¨ db.c éé¢\n    zskiplist *slots_to_keys;\n\n    /* The following fields are used to take the slave state on elections. */\n    // ä»¥ä¸è¿äºåè¢«ç¨äºè¿è¡æéè½¬ç§»éä¸¾\n\n    // ä¸æ¬¡æ§è¡éä¸¾æèä¸æ¬¡æ§è¡éä¸¾çæ¶é´\n    mstime_t failover_auth_time; /* Time of previous or next election. */\n\n    // èç¹è·å¾çæç¥¨æ°é\n    int failover_auth_count;    /* Number of votes received so far. */\n\n    // å¦æå¼ä¸º 1 ï¼è¡¨ç¤ºæ¬èç¹å·²ç»åå¶ä»èç¹åéäºæç¥¨è¯·æ±\n    int failover_auth_sent;     /* True if we already asked for votes. */\n\n    int failover_auth_rank;     /* This slave rank for current auth request. */\n\n    uint64_t failover_auth_epoch; /* Epoch of the current election. */\n\n    /* Manual failover state in common. */\n    /* å±ç¨çæå¨æéè½¬ç§»ç¶æ */\n\n    // æå¨æéè½¬ç§»æ§è¡çæ¶é´éå¶\n    mstime_t mf_end;            /* Manual failover time limit (ms unixtime).\n                                   It is zero if there is no MF in progress. */\n    /* Manual failover state of master. */\n    /* ä¸»æå¡å¨çæå¨æéè½¬ç§»ç¶æ */\n    clusterNode *mf_slave;      /* Slave performing the manual failover. */\n    /* Manual failover state of slave. */\n    /* ä»æå¡å¨çæå¨æéè½¬ç§»ç¶æ */\n    long long mf_master_offset; /* Master offset the slave needs to start MF\n                                   or zero if stil not received. */\n    // æç¤ºæå¨æéè½¬ç§»æ¯å¦å¯ä»¥å¼å§çæ å¿å¼\n    // å¼ä¸ºé 0 æ¶è¡¨ç¤ºåä¸ªä¸»æå¡å¨å¯ä»¥å¼å§æç¥¨\n    int mf_can_start;           /* If non-zero signal that the manual failover\n                                   can start requesting masters vote. */\n\n    /* The followign fields are uesd by masters to take state on elections. */\n    /* ä»¥ä¸è¿äºåç±ä¸»æå¡å¨ä½¿ç¨ï¼ç¨äºè®°å½éä¸¾æ¶çç¶æ */\n\n    // éç¾¤æåä¸æ¬¡è¿è¡æç¥¨ççºªå\n    uint64_t lastVoteEpoch;     /* Epoch of the last vote granted. */\n\n    // å¨è¿å¥ä¸ä¸ªäºä»¶å¾ªç¯ä¹åè¦åçäºæï¼ä»¥åä¸ª flag æ¥è®°å½\n    int todo_before_sleep; /* Things to do in clusterBeforeSleep(). */\n\n    // éè¿ cluster è¿æ¥åéçæ¶æ¯æ°é\n    long long stats_bus_messages_sent;  /* Num of msg sent via cluster bus. */\n\n    // éè¿ cluster æ¥æ¶å°çæ¶æ¯æ°é\n    long long stats_bus_messages_received; /* Num of msg rcvd via cluster bus.*/\n\n} clusterState;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-pyfo5Uy7-1653145947299)]\n\n 2. cluster meetå½ä»¤\n\n> å®¢æ·ç«¯åèç¹Aåémeetå½ä»¤ï¼æå®èç¹Bçipåç«¯å£ãå°Bå å¥å°Açéç¾¤ã\n\n * åAåå½ä»¤cluster meet B.\n * Aä¸ºBåå»ºä¸ä¸ªclusterNodeç»æå¹¶ä¿å­å¨dictä¸­\n * AåBåä¸ä¸ªmeetæ¶æ¯\n * Bä¸ºAåå»ºä¸ä¸ªclusterNodeç»æå¹¶ä¿å­å¨dictä¸­\n * Bè¿åAä¸ä¸ªPONGæ¶æ¯\n * Aæ¶å°PONGè¿åä¸ä¸ªPING\n * Bæ¶å°PINGï¼æ¡æç»æ [å¤é¾å¾çè½¬å­ä¸­...(img-MJB1V7if-1653145947300)]\n\n 3. æ§½ææ´¾\n\n> rediséè¿åççæ¹å¼ä¿å­é®å¼å¯¹ï¼éç¾¤çæ´ä¸ªæ°æ®åºè¢«åæ16384ä¸ªæ§½ãæ¯ä¸ªèç¹å¤çä¸å®æ°éçæ§½ï¼æ¯ä¸ªkeyä¸å®å±äºå¶ä¸­ä¸ä¸ªæ§½ã\n\n * åèç¹ææ´¾æ§½çå½ä»¤ï¼cluster addslots 1 2 3 4\n * clusterNodeä¸­Slotsæ°ç»ä¿å­å½åèç¹æææ§½ä¿¡æ¯ãSlotsæ¯äºè¿å¶æ°ç»ã\n * ä¼ æ­èç¹çæ§½ææ´¾ä¿¡æ¯ï¼éç¾¤èç¹ä¼ç¸äºåéèªå·±è¢«ææ´¾çæ§½ï¼èç¹æ¶å°å¶ä»å ç¹çæ§½ä¿¡æ¯ä¼æ´æ°ç¸åºçdictä¸­çclusterNodeç»æã\n * clusterStateä¸­Slotsæ°ç»ä¿å­æææ§½ä¿¡æ¯ã [å¤é¾å¾çè½¬å­ä¸­...(img-p5szUZKB-1653145947300)]\n * cluster addslots 1 2 3 4çå®ç°ï¼é¦åéåclusterStateçSlotså¤æ­å½ä»¤ä¸­çæ§½è¿æ²¡æè¢«ææ´¾ãç¶åéåå½ä»¤ä¸­çæ§½ï¼è®¾ç½®clusterStateçSlotsåclusterNodeçslotsã\n\n 4. éç¾¤ä¸­æ§è¡å½ä»¤\n\n * æ¥æ¶å½ä»¤çèç¹è®¡ç®å½ä»¤è¦å¤ççæ°æ®åºå±äºåªä¸ªæ§½ï¼å¦ææ¯ææ´¾ç»èªå·±çå°±ç´æ¥æ§è¡ï¼å¦æä¸æ¯å°±åå®¢æ·ç«¯è¿åä¸ä¸ªmovedéè¯¯æå¼å®¢æ·ç«¯è³æ­£ç¡®èç¹æ§è¡ã\n * è®¡ç®ç»å®keyçæ§½ï¼ä»»ä½ä¸ä¸ªkeyéè¿è¿ä¸ªç®æ³å°±å¯ä»¥å¾åºä¸ä¸ªä»äº0-16383ä¹é´çæ§½ãcrc16(key)&16383\n * éç¾¤ä¸­çèç¹åªè½ä½¿ç¨0å·æ°æ®åºã\n\n 5. éæ°åç éç¾¤ç®¡çè½¯ä»¶redis-tribè´è´£æ§è¡ã\n\n * redis-tribåç®æ èç¹åéå¯¼å¥å½ä»¤ï¼å¹¶å°slotæåç®æ èç¹\n * redis-tribåæºèç¹åéå¯¼åºå½ä»¤\n * redis-tribä»æºèç¹è·åå¯¼åºslotçé®ï¼å¯¼å¥å°ç®æ èç¹\n * é®è¿ç§»ç»æãåéç¾¤ä¸­ä»»æèç¹åéæ¶æ¯ï¼slotå·²æåç®æ èç¹ã [å¤é¾å¾çè½¬å­ä¸­...(img-dezJf9DD-1653145947300)]\n\n 6. askéè¯¯\n\n * askéè¯¯ï¼æ­£å¨è¢«è½¬ç§»çkeyè¢«æ¥è¯¢æ¶ï¼ä¼åçæ¥è¯¢è½¬ç§»\n * Cluster setslot importingå½ä»¤ï¼clusterStateçImporting_lots_fromè®°å½çå¯¼å¥çæ§½\n * Cluster setslot migratingå½ä»¤:clusterStateçmigrating_slots_toè®°å½çæ­£å¨å¯¼åºçæ§½ãaskéè¯¯çå®ç°\n\n 7. publishçå®ç°\n\n> ä¸æ¯ç´æ¥åææèç¹å¹¿æ­ï¼èæ¯éè¿ä¸ä¸ªèç¹åææèç¹å¹¿æ­ãå ä¸ºredisä¸­æä¸ä¸ªæ½è§åï¼åèç¹éè¿æ¶æ¯éä¿¡ã\n\ntypedef struct {\n\n    // é¢éåé¿åº¦\n    uint32_t channel_len;\n\n    // æ¶æ¯é¿åº¦\n    uint32_t message_len;\n\n    // æ¶æ¯åå®¹ï¼æ ¼å¼ä¸º é¢éå+æ¶æ¯\n    // bulk_data[0:channel_len-1] ä¸ºé¢éå\n    // bulk_data[channel_len:channel_len+message_len-1] ä¸ºæ¶æ¯\n    unsigned char bulk_data[8]; /* defined as 8 just for alignment concerns. */\n\n} clusterMsgDataPublish;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¤å¶\n\n 1. å¤å¶çæ­¥éª¤\n\n * redisçå¤å¶åä¸ºä¸¤ä¸ªæ­¥éª¤ï¼åæ­¥ï¼syncï¼åå½ä»¤ä¼ æ­(commond propogate)ã\n * åæ­¥ï¼ä»æå¡å¨åä¸»æå¡å¨åésyncå½ä»¤ï¼ä¸»æå¡å¨çærdbæä»¶ï¼å¹¶å°çærdbæé´çæ°æ®åºä¿®æ¹å½ä»¤ä¿å­å¨ç¼å²åºï¼ç¶åé½ä¼ ç»ä»æå¡å¨ãåæ­¥æµªè´¹èµæºä½ç°å¨ï¼a.çærdbèè´¹cpuï¼åå­ï¼i/o;b.ä¼ è¾rdbèè´¹ç½ç»èµæºï¼c.è½½å¥rdbä¼é»å¡æå¡å¨ã\n * å½ä»¤ä¼ æ­ï¼ä¸»æå¡å¨æ¶å°çä¿®æ¹å½ä»¤ä¹åç»ä»æå¡å¨æ§è¡ã\n * redis2.8ä»¥åçå¤å¶ç¼ºé·ï¼ç¼ºé·åºæ¯ï¼ä¸»ä»æ­çº¿ä¹åçéæ°å¤å¶ãå®ç°æ¹å¼ï¼æ­çº¿ä¹åï¼ä¸»ä»éæ°èµ°ä¸éåæ­¥åå½ä»¤ä¼ æ­ãç¼ºé·åå ï¼åæ­¥æ¯å¾æµªè´¹èµæºçæä½ï¼åºè¯¥å°½éé¿åã\n * redis2.8ä»¥åç¨psyncä»£æ¿sync;psyncæ¯æå®å¨éåæ­¥åé¨åéåæ­¥ã\n * é¨åéåæ­¥çå®ç°ï¼åç§»éï¼åæ­¥çå­èéï¼ï¼å¤å¶ç§¯åç¼å²åº(åºå®é¿åº¦çéå)ï¼æå¡å¨è¿è¡idï¼å¤æ­æ¯ä¸æ¯ååä¸ä¸ªæå¡å¨åéçåæ­¥å½ä»¤ï¼ã [å¤é¾å¾çè½¬å­ä¸­...(img-PHS6g12W-1653145947297)]\n\n 2. å¤å¶çå®ç°\n\n * è®¾ç½®ä¸»æå¡å¨å°ååç«¯å£ãSlaveof 127.0.0.1 6379ãä»æå¡å¨ä¿å­ä¸»æå¡å¨å°ååç«¯å£ã\n * å»ºç«å¥æ¥å­ãä»æå¡å¨æ ¹æ®ä¿å­çä¸»æå¡å¨å°ååç«¯å£å·ï¼å»ºç«å¥æ¥å­ã\n * ä»æå¡å¨åépingå½ä»¤ãè¶æ¶æèéè¯¯åéæ°å»ºç«å¥æ¥å­éè¯ï¼è¿åâPONGâè¯´æç½ç»è¿æ¥æ­£å¸¸ã\n * èº«ä»½éªè¯ãä¸»ä»é½æ²¡æè®¾ç½®èº«ä»½éªè¯æèè®¾ç½®ä¸è´æå¯ä»¥éè¿èº«ä»½éªè¯ã\n * ä»æå¡å¨åéçå¬ç«¯å£ï¼ä¸»æå¡å¨å°å¶ä¿å­å¨redisClientçslave_listening_port;\n * åæ­¥ãä»æå¡å¨åä¸»æå¡åépsyncå½ä»¤ã [å¤é¾å¾çè½¬å­ä¸­...(img-JbQvVK4o-1653145947297)]\n\n 3. å¿è·³æ£æµ\n\n> ä»æå¡å¨æ¯ç§åéå½ä»¤ç»ä¸»æå¡å¨ï¼replconf ack offset,æä¸ä¸ªä½ç¨\n\n * æ£æµé¾æ¥ç¶åµ\n * è¾å©å®ç°min-slaveséé¡¹ãmin-slaves-to-write 3ï¼min-slaves-max-lag 10ãè¡¨ç¤ºä»æå¡å¨å°äº3ä¸ªï¼æèä»æå¡å»¶è¿é½å¤§äºç­äº10ï¼ä¸»æå¡å¨å°ç»æ­¢åå½ä»¤ã\n * æ£æµå½ä»¤ä¸¢å¤±",normalizedContent:"# éç¾¤\n\n> éç¾¤æ¯redisçåå¸å¼æ°æ®åºæ¹æ¡ãéè¿åçå®ç°æ°æ®å±äº«ãæä¾å¤å¶åæéè½¬ç§»åè½ã\n\n// ä¿å­è¿æ¥èç¹æéçæå³ä¿¡æ¯\ntypedef struct clusterlink {\n\n    // è¿æ¥çåå»ºæ¶é´\n    mstime_t ctime;             /* link creation time */\n\n    // tcp å¥æ¥å­æè¿°ç¬¦\n    int fd;                     /* tcp socket file descriptor */\n\n    // è¾åºç¼å²åºï¼ä¿å­çç­å¾åéç»å¶ä»èç¹çæ¶æ¯ï¼messageï¼ã\n    sds sndbuf;                 /* packet send buffer */\n\n    // è¾å¥ç¼å²åºï¼ä¿å­çä»å¶ä»èç¹æ¥æ¶å°çæ¶æ¯ã\n    sds rcvbuf;                 /* packet reception buffer */\n\n    // ä¸è¿ä¸ªè¿æ¥ç¸å³èçèç¹ï¼å¦ææ²¡æçè¯å°±ä¸º null\n    struct clusternode *node;   /* node related to this link if any, or null */\n\n} clusterlink;\n\n// èç¹ç¶æ\nstruct clusternode {\n\n    // åå»ºèç¹çæ¶é´\n    mstime_t ctime; /* node object creation time. */\n\n    // èç¹çåå­ï¼ç± 40 ä¸ªåå­è¿å¶å­ç¬¦ç»æ\n    // ä¾å¦ 68eef66df23420a5862208ef5b1a7005b806f2ff\n    char name[redis_cluster_namelen]; /* node name, hex string, sha1-size */\n\n    // èç¹æ è¯\n    // ä½¿ç¨åç§ä¸åçæ è¯å¼è®°å½èç¹çè§è²ï¼æ¯å¦ä¸»èç¹æèä»èç¹ï¼ï¼\n    // ä»¥åèç¹ç®åæå¤çç¶æï¼æ¯å¦å¨çº¿æèä¸çº¿ï¼ã\n    int flags;      /* redis_node_... */\n\n    // èç¹å½åçéç½®çºªåï¼ç¨äºå®ç°æéè½¬ç§»\n    uint64_t configepoch; /* last configepoch observed for this node */\n\n    // ç±è¿ä¸ªèç¹è´è´£å¤ççæ§½\n    // ä¸å±æ redis_cluster_slots / 8 ä¸ªå­èé¿\n    // æ¯ä¸ªå­èçæ¯ä¸ªä½è®°å½äºä¸ä¸ªæ§½çä¿å­ç¶æ\n    // ä½çå¼ä¸º 1 è¡¨ç¤ºæ§½æ­£ç±æ¬èç¹å¤çï¼å¼ä¸º 0 åè¡¨ç¤ºæ§½å¹¶éæ¬èç¹å¤ç\n    // æ¯å¦ slots[0] çç¬¬ä¸ä¸ªä½ä¿å­äºæ§½ 0 çä¿å­æåµ\n    // slots[0] çç¬¬äºä¸ªä½ä¿å­äºæ§½ 1 çä¿å­æåµï¼ä»¥æ­¤ç±»æ¨\n    unsigned char slots[redis_cluster_slots/8]; /* slots handled by this node */\n\n    // è¯¥èç¹è´è´£å¤ççæ§½æ°é\n    int numslots;   /* number of slots handled by this node */\n\n    // å¦ææ¬èç¹æ¯ä¸»èç¹ï¼é£ä¹ç¨è¿ä¸ªå±æ§è®°å½ä»èç¹çæ°é\n    int numslaves;  /* number of slave nodes, if this is a master */\n\n    // æéæ°ç»ï¼æååä¸ªä»èç¹\n    struct clusternode **slaves; /* pointers to slave nodes */\n\n    // å¦æè¿æ¯ä¸ä¸ªä»èç¹ï¼é£ä¹æåä¸»èç¹\n    struct clusternode *slaveof; /* pointer to the master node */\n\n    // æåä¸æ¬¡åé ping å½ä»¤çæ¶é´\n    mstime_t ping_sent;      /* unix time we sent latest ping */\n\n    // æåä¸æ¬¡æ¥æ¶ pong åå¤çæ¶é´æ³\n    mstime_t pong_received;  /* unix time we received the pong */\n\n    // æåä¸æ¬¡è¢«è®¾ç½®ä¸º fail ç¶æçæ¶é´\n    mstime_t fail_time;      /* unix time when fail flag was set */\n\n    // æåä¸æ¬¡ç»æä¸ªä»èç¹æç¥¨çæ¶é´\n    mstime_t voted_time;     /* last time we voted for a slave of this master */\n\n    // æåä¸æ¬¡ä»è¿ä¸ªèç¹æ¥æ¶å°å¤å¶åç§»éçæ¶é´\n    mstime_t repl_offset_time;  /* unix time we received offset for this node */\n\n    // è¿ä¸ªèç¹çå¤å¶åç§»é\n    long long repl_offset;      /* last known repl offset for this node. */\n\n    // èç¹ç ip å°å\n    char ip[redis_ip_str_len];  /* latest known ip address of this node */\n\n    // èç¹çç«¯å£å·\n    int port;                   /* latest known port of this node */\n\n    // ä¿å­è¿æ¥èç¹æéçæå³ä¿¡æ¯\n    clusterlink *link;          /* tcp/ip link with this node */\n\n    // ä¸ä¸ªé¾è¡¨ï¼è®°å½äºææå¶ä»èç¹å¯¹è¯¥èç¹çä¸çº¿æ¥å\n    list *fail_reports;         /* list of nodes signaling this as failing */\n\n};\ntypedef struct clusternode clusternode;\n\n\n// éç¾¤ç¶æï¼æ¯ä¸ªèç¹é½ä¿å­çä¸ä¸ªè¿æ ·çç¶æï¼è®°å½äºå®ä»¬ç¼ä¸­çéç¾¤çæ ·å­ã\n// å¦å¤ï¼è½ç¶è¿ä¸ªç»æä¸»è¦ç¨äºè®°å½éç¾¤çå±æ§ï¼ä½æ¯ä¸ºäºèçº¦èµæºï¼\n// æäºä¸èç¹æå³çå±æ§ï¼æ¯å¦ slots_to_keys ã failover_auth_count \n// ä¹è¢«æ¾å°äºè¿ä¸ªç»æéé¢ã\ntypedef struct clusterstate {\n\n    // æåå½åèç¹çæé\n    clusternode *myself;  /* this node */\n\n    // éç¾¤å½åçéç½®çºªåï¼ç¨äºå®ç°æéè½¬ç§»\n    uint64_t currentepoch;\n\n    // éç¾¤å½åçç¶æï¼æ¯å¨çº¿è¿æ¯ä¸çº¿\n    int state;            /* redis_cluster_ok, redis_cluster_fail, ... */\n\n    // éç¾¤ä¸­è³å°å¤ççä¸ä¸ªæ§½çèç¹çæ°éã\n    int size;             /* num of master nodes with at least one slot */\n\n    // éç¾¤èç¹ååï¼åæ¬ myself èç¹ï¼\n    // å­å¸çé®ä¸ºèç¹çåå­ï¼å­å¸çå¼ä¸º clusternode ç»æ\n    dict *nodes;          /* hash table of name -> clusternode structures */\n\n    // èç¹é»ååï¼ç¨äº cluster forget å½ä»¤\n    // é²æ­¢è¢« forget çå½ä»¤éæ°è¢«æ·»å å°éç¾¤éé¢\n    // ï¼ä¸è¿ç°å¨ä¼¼ä¹æ²¡æå¨ä½¿ç¨çæ ·å­ï¼å·²åºå¼ï¼è¿æ¯å°æªå®ç°ï¼ï¼\n    dict *nodes_black_list; /* nodes we don't re-add for a few seconds. */\n\n    // è®°å½è¦ä»å½åèç¹è¿ç§»å°ç®æ èç¹çæ§½ï¼ä»¥åè¿ç§»çç®æ èç¹\n    // migrating_slots_to[i] = null è¡¨ç¤ºæ§½ i æªè¢«è¿ç§»\n    // migrating_slots_to[i] = clusternode_a è¡¨ç¤ºæ§½ i è¦ä»æ¬èç¹è¿ç§»è³èç¹ a\n    clusternode *migrating_slots_to[redis_cluster_slots];\n\n    // è®°å½è¦ä»æºèç¹è¿ç§»å°æ¬èç¹çæ§½ï¼ä»¥åè¿è¡è¿ç§»çæºèç¹\n    // importing_slots_from[i] = null è¡¨ç¤ºæ§½ i æªè¿è¡å¯¼å¥\n    // importing_slots_from[i] = clusternode_a è¡¨ç¤ºæ­£ä»èç¹ a ä¸­å¯¼å¥æ§½ i\n    clusternode *importing_slots_from[redis_cluster_slots];\n\n    // è´è´£å¤çåä¸ªæ§½çèç¹\n    // ä¾å¦ slots[i] = clusternode_a è¡¨ç¤ºæ§½ i ç±èç¹ a å¤ç\n    clusternode *slots[redis_cluster_slots];\n\n    // è·³è·è¡¨ï¼è¡¨ä¸­ä»¥æ§½ä½ä¸ºåå¼ï¼é®ä½ä¸ºæåï¼å¯¹æ§½è¿è¡æåºæåº\n    // å½éè¦å¯¹æäºæ§½è¿è¡åºé´ï¼rangeï¼æä½æ¶ï¼è¿ä¸ªè·³è·è¡¨å¯ä»¥æä¾æ¹ä¾¿\n    // å·ä½æä½å®ä¹å¨ db.c éé¢\n    zskiplist *slots_to_keys;\n\n    /* the following fields are used to take the slave state on elections. */\n    // ä»¥ä¸è¿äºåè¢«ç¨äºè¿è¡æéè½¬ç§»éä¸¾\n\n    // ä¸æ¬¡æ§è¡éä¸¾æèä¸æ¬¡æ§è¡éä¸¾çæ¶é´\n    mstime_t failover_auth_time; /* time of previous or next election. */\n\n    // èç¹è·å¾çæç¥¨æ°é\n    int failover_auth_count;    /* number of votes received so far. */\n\n    // å¦æå¼ä¸º 1 ï¼è¡¨ç¤ºæ¬èç¹å·²ç»åå¶ä»èç¹åéäºæç¥¨è¯·æ±\n    int failover_auth_sent;     /* true if we already asked for votes. */\n\n    int failover_auth_rank;     /* this slave rank for current auth request. */\n\n    uint64_t failover_auth_epoch; /* epoch of the current election. */\n\n    /* manual failover state in common. */\n    /* å±ç¨çæå¨æéè½¬ç§»ç¶æ */\n\n    // æå¨æéè½¬ç§»æ§è¡çæ¶é´éå¶\n    mstime_t mf_end;            /* manual failover time limit (ms unixtime).\n                                   it is zero if there is no mf in progress. */\n    /* manual failover state of master. */\n    /* ä¸»æå¡å¨çæå¨æéè½¬ç§»ç¶æ */\n    clusternode *mf_slave;      /* slave performing the manual failover. */\n    /* manual failover state of slave. */\n    /* ä»æå¡å¨çæå¨æéè½¬ç§»ç¶æ */\n    long long mf_master_offset; /* master offset the slave needs to start mf\n                                   or zero if stil not received. */\n    // æç¤ºæå¨æéè½¬ç§»æ¯å¦å¯ä»¥å¼å§çæ å¿å¼\n    // å¼ä¸ºé 0 æ¶è¡¨ç¤ºåä¸ªä¸»æå¡å¨å¯ä»¥å¼å§æç¥¨\n    int mf_can_start;           /* if non-zero signal that the manual failover\n                                   can start requesting masters vote. */\n\n    /* the followign fields are uesd by masters to take state on elections. */\n    /* ä»¥ä¸è¿äºåç±ä¸»æå¡å¨ä½¿ç¨ï¼ç¨äºè®°å½éä¸¾æ¶çç¶æ */\n\n    // éç¾¤æåä¸æ¬¡è¿è¡æç¥¨ççºªå\n    uint64_t lastvoteepoch;     /* epoch of the last vote granted. */\n\n    // å¨è¿å¥ä¸ä¸ªäºä»¶å¾ªç¯ä¹åè¦åçäºæï¼ä»¥åä¸ª flag æ¥è®°å½\n    int todo_before_sleep; /* things to do in clusterbeforesleep(). */\n\n    // éè¿ cluster è¿æ¥åéçæ¶æ¯æ°é\n    long long stats_bus_messages_sent;  /* num of msg sent via cluster bus. */\n\n    // éè¿ cluster æ¥æ¶å°çæ¶æ¯æ°é\n    long long stats_bus_messages_received; /* num of msg rcvd via cluster bus.*/\n\n} clusterstate;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-pyfo5uy7-1653145947299)]\n\n 2. cluster meetå½ä»¤\n\n> å®¢æ·ç«¯åèç¹aåémeetå½ä»¤ï¼æå®èç¹bçipåç«¯å£ãå°bå å¥å°açéç¾¤ã\n\n * åaåå½ä»¤cluster meet b.\n * aä¸ºbåå»ºä¸ä¸ªclusternodeç»æå¹¶ä¿å­å¨dictä¸­\n * aåbåä¸ä¸ªmeetæ¶æ¯\n * bä¸ºaåå»ºä¸ä¸ªclusternodeç»æå¹¶ä¿å­å¨dictä¸­\n * bè¿åaä¸ä¸ªpongæ¶æ¯\n * aæ¶å°pongè¿åä¸ä¸ªping\n * bæ¶å°pingï¼æ¡æç»æ [å¤é¾å¾çè½¬å­ä¸­...(img-mjb1v7if-1653145947300)]\n\n 3. æ§½ææ´¾\n\n> rediséè¿åççæ¹å¼ä¿å­é®å¼å¯¹ï¼éç¾¤çæ´ä¸ªæ°æ®åºè¢«åæ16384ä¸ªæ§½ãæ¯ä¸ªèç¹å¤çä¸å®æ°éçæ§½ï¼æ¯ä¸ªkeyä¸å®å±äºå¶ä¸­ä¸ä¸ªæ§½ã\n\n * åèç¹ææ´¾æ§½çå½ä»¤ï¼cluster addslots 1 2 3 4\n * clusternodeä¸­slotsæ°ç»ä¿å­å½åèç¹æææ§½ä¿¡æ¯ãslotsæ¯äºè¿å¶æ°ç»ã\n * ä¼ æ­èç¹çæ§½ææ´¾ä¿¡æ¯ï¼éç¾¤èç¹ä¼ç¸äºåéèªå·±è¢«ææ´¾çæ§½ï¼èç¹æ¶å°å¶ä»å ç¹çæ§½ä¿¡æ¯ä¼æ´æ°ç¸åºçdictä¸­çclusternodeç»æã\n * clusterstateä¸­slotsæ°ç»ä¿å­æææ§½ä¿¡æ¯ã [å¤é¾å¾çè½¬å­ä¸­...(img-p5szuzkb-1653145947300)]\n * cluster addslots 1 2 3 4çå®ç°ï¼é¦åéåclusterstateçslotså¤æ­å½ä»¤ä¸­çæ§½è¿æ²¡æè¢«ææ´¾ãç¶åéåå½ä»¤ä¸­çæ§½ï¼è®¾ç½®clusterstateçslotsåclusternodeçslotsã\n\n 4. éç¾¤ä¸­æ§è¡å½ä»¤\n\n * æ¥æ¶å½ä»¤çèç¹è®¡ç®å½ä»¤è¦å¤ççæ°æ®åºå±äºåªä¸ªæ§½ï¼å¦ææ¯ææ´¾ç»èªå·±çå°±ç´æ¥æ§è¡ï¼å¦æä¸æ¯å°±åå®¢æ·ç«¯è¿åä¸ä¸ªmovedéè¯¯æå¼å®¢æ·ç«¯è³æ­£ç¡®èç¹æ§è¡ã\n * è®¡ç®ç»å®keyçæ§½ï¼ä»»ä½ä¸ä¸ªkeyéè¿è¿ä¸ªç®æ³å°±å¯ä»¥å¾åºä¸ä¸ªä»äº0-16383ä¹é´çæ§½ãcrc16(key)&16383\n * éç¾¤ä¸­çèç¹åªè½ä½¿ç¨0å·æ°æ®åºã\n\n 5. éæ°åç éç¾¤ç®¡çè½¯ä»¶redis-tribè´è´£æ§è¡ã\n\n * redis-tribåç®æ èç¹åéå¯¼å¥å½ä»¤ï¼å¹¶å°slotæåç®æ èç¹\n * redis-tribåæºèç¹åéå¯¼åºå½ä»¤\n * redis-tribä»æºèç¹è·åå¯¼åºslotçé®ï¼å¯¼å¥å°ç®æ èç¹\n * é®è¿ç§»ç»æãåéç¾¤ä¸­ä»»æèç¹åéæ¶æ¯ï¼slotå·²æåç®æ èç¹ã [å¤é¾å¾çè½¬å­ä¸­...(img-dezjf9dd-1653145947300)]\n\n 6. askéè¯¯\n\n * askéè¯¯ï¼æ­£å¨è¢«è½¬ç§»çkeyè¢«æ¥è¯¢æ¶ï¼ä¼åçæ¥è¯¢è½¬ç§»\n * cluster setslot importingå½ä»¤ï¼clusterstateçimporting_lots_fromè®°å½çå¯¼å¥çæ§½\n * cluster setslot migratingå½ä»¤:clusterstateçmigrating_slots_toè®°å½çæ­£å¨å¯¼åºçæ§½ãaskéè¯¯çå®ç°\n\n 7. publishçå®ç°\n\n> ä¸æ¯ç´æ¥åææèç¹å¹¿æ­ï¼èæ¯éè¿ä¸ä¸ªèç¹åææèç¹å¹¿æ­ãå ä¸ºredisä¸­æä¸ä¸ªæ½è§åï¼åèç¹éè¿æ¶æ¯éä¿¡ã\n\ntypedef struct {\n\n    // é¢éåé¿åº¦\n    uint32_t channel_len;\n\n    // æ¶æ¯é¿åº¦\n    uint32_t message_len;\n\n    // æ¶æ¯åå®¹ï¼æ ¼å¼ä¸º é¢éå+æ¶æ¯\n    // bulk_data[0:channel_len-1] ä¸ºé¢éå\n    // bulk_data[channel_len:channel_len+message_len-1] ä¸ºæ¶æ¯\n    unsigned char bulk_data[8]; /* defined as 8 just for alignment concerns. */\n\n} clustermsgdatapublish;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# å¤å¶\n\n 1. å¤å¶çæ­¥éª¤\n\n * redisçå¤å¶åä¸ºä¸¤ä¸ªæ­¥éª¤ï¼åæ­¥ï¼syncï¼åå½ä»¤ä¼ æ­(commond propogate)ã\n * åæ­¥ï¼ä»æå¡å¨åä¸»æå¡å¨åésyncå½ä»¤ï¼ä¸»æå¡å¨çærdbæä»¶ï¼å¹¶å°çærdbæé´çæ°æ®åºä¿®æ¹å½ä»¤ä¿å­å¨ç¼å²åºï¼ç¶åé½ä¼ ç»ä»æå¡å¨ãåæ­¥æµªè´¹èµæºä½ç°å¨ï¼a.çærdbèè´¹cpuï¼åå­ï¼i/o;b.ä¼ è¾rdbèè´¹ç½ç»èµæºï¼c.è½½å¥rdbä¼é»å¡æå¡å¨ã\n * å½ä»¤ä¼ æ­ï¼ä¸»æå¡å¨æ¶å°çä¿®æ¹å½ä»¤ä¹åç»ä»æå¡å¨æ§è¡ã\n * redis2.8ä»¥åçå¤å¶ç¼ºé·ï¼ç¼ºé·åºæ¯ï¼ä¸»ä»æ­çº¿ä¹åçéæ°å¤å¶ãå®ç°æ¹å¼ï¼æ­çº¿ä¹åï¼ä¸»ä»éæ°èµ°ä¸éåæ­¥åå½ä»¤ä¼ æ­ãç¼ºé·åå ï¼åæ­¥æ¯å¾æµªè´¹èµæºçæä½ï¼åºè¯¥å°½éé¿åã\n * redis2.8ä»¥åç¨psyncä»£æ¿sync;psyncæ¯æå®å¨éåæ­¥åé¨åéåæ­¥ã\n * é¨åéåæ­¥çå®ç°ï¼åç§»éï¼åæ­¥çå­èéï¼ï¼å¤å¶ç§¯åç¼å²åº(åºå®é¿åº¦çéå)ï¼æå¡å¨è¿è¡idï¼å¤æ­æ¯ä¸æ¯ååä¸ä¸ªæå¡å¨åéçåæ­¥å½ä»¤ï¼ã [å¤é¾å¾çè½¬å­ä¸­...(img-phs6g12w-1653145947297)]\n\n 2. å¤å¶çå®ç°\n\n * è®¾ç½®ä¸»æå¡å¨å°ååç«¯å£ãslaveof 127.0.0.1 6379ãä»æå¡å¨ä¿å­ä¸»æå¡å¨å°ååç«¯å£ã\n * å»ºç«å¥æ¥å­ãä»æå¡å¨æ ¹æ®ä¿å­çä¸»æå¡å¨å°ååç«¯å£å·ï¼å»ºç«å¥æ¥å­ã\n * ä»æå¡å¨åépingå½ä»¤ãè¶æ¶æèéè¯¯åéæ°å»ºç«å¥æ¥å­éè¯ï¼è¿åâpongâè¯´æç½ç»è¿æ¥æ­£å¸¸ã\n * èº«ä»½éªè¯ãä¸»ä»é½æ²¡æè®¾ç½®èº«ä»½éªè¯æèè®¾ç½®ä¸è´æå¯ä»¥éè¿èº«ä»½éªè¯ã\n * ä»æå¡å¨åéçå¬ç«¯å£ï¼ä¸»æå¡å¨å°å¶ä¿å­å¨redisclientçslave_listening_port;\n * åæ­¥ãä»æå¡å¨åä¸»æå¡åépsyncå½ä»¤ã [å¤é¾å¾çè½¬å­ä¸­...(img-jbqvvk4o-1653145947297)]\n\n 3. å¿è·³æ£æµ\n\n> ä»æå¡å¨æ¯ç§åéå½ä»¤ç»ä¸»æå¡å¨ï¼replconf ack offset,æä¸ä¸ªä½ç¨\n\n * æ£æµé¾æ¥ç¶åµ\n * è¾å©å®ç°min-slaveséé¡¹ãmin-slaves-to-write 3ï¼min-slaves-max-lag 10ãè¡¨ç¤ºä»æå¡å¨å°äº3ä¸ªï¼æèä»æå¡å»¶è¿é½å¤§äºç­äº10ï¼ä¸»æå¡å¨å°ç»æ­¢åå½ä»¤ã\n * æ£æµå½ä»¤ä¸¢å¤±",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis ä¸­è·³è¡¨çåºç¨ä»¥åä¼ç¼ºç¹",frontmatter:{title:"ç®è¿° Redis ä¸­è·³è¡¨çåºç¨ä»¥åä¼ç¼ºç¹",date:"2022-05-21T17:22:09.000Z",permalink:"/pages/a42826/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/050.%E7%AE%80%E8%BF%B0%20Redis%20%E4%B8%AD%E8%B7%B3%E8%A1%A8%E7%9A%84%E5%BA%94%E7%94%A8%E4%BB%A5%E5%8F%8A%E4%BC%98%E7%BC%BA%E7%82%B9.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/050.ç®è¿° Redis ä¸­è·³è¡¨çåºç¨ä»¥åä¼ç¼ºç¹.md",key:"v-18b427a0",path:"/pages/a42826/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Redisçç¼å­æ·æ±°ç­ç¥æåªäºï¼",frontmatter:{title:"Redisçç¼å­æ·æ±°ç­ç¥æåªäºï¼",date:"2022-05-21T17:20:33.000Z",permalink:"/pages/9326cc/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/010.Redis%E7%9A%84%E7%BC%93%E5%AD%98%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/010.Redisçç¼å­æ·æ±°ç­ç¥æåªäºï¼.md",key:"v-c0bc7b7a",path:"/pages/9326cc/",headers:[{level:2,title:"è¿æé®",slug:"è¿æé®",normalizedTitle:"è¿æé®",charIndex:2},{level:2,title:"åå­æ·æ±°ç­ç¥ï¼åå­ä¸è¶³æ¶)",slug:"åå­æ·æ±°ç­ç¥-åå­ä¸è¶³æ¶",normalizedTitle:"åå­æ·æ±°ç­ç¥ï¼åå­ä¸è¶³æ¶)",charIndex:235}],headersStr:"è¿æé® åå­æ·æ±°ç­ç¥ï¼åå­ä¸è¶³æ¶)",content:"# è¿æé®\n\n * å é¤è¿æé®çç­ç¥\n   \n   * å®æ¶ï¼å¯¹åå­åå¥½ï¼å¯¹cpuä¸åå¥½\n   * æ°æ§ï¼å¯¹åå­ä¸åå¥½ï¼å¯¹cpuåå¥½\n   * å®æï¼æ¯å®æ¶åæ°æ§çæä¸­æ¹æ¡ãæ§è¡æ¶é¿åé¢çæ¯è¡¡éä¸ä¸ªå®æç­ç¥å¥½åçæ åã\n\n * rdbåè¯´çæåå è½½è¿ç¨ä¸­è¿æ»¤æè¿æçé®\n\n * aofæ¨¡å¼ä¸ï¼è¿æçé®åªæçæ­£delçæ¶åæä¼è®°å½å¨aofæä»¶ãéåaofæä»¶ä¸ä¼åå«è¿æçé®ã\n\n * ä¸»ä»å¤å¶ï¼ä»æå¡å¨éå°è¿æé®ä¸ä¼delï¼æ¥æ¶å°ä¸»æå¡å¨çdelå½ä»¤æä¼å é¤ã\n\n\n# åå­æ·æ±°ç­ç¥ï¼åå­ä¸è¶³æ¶)\n\n * noevictionï¼æå¼å¸¸\n * allkeys-lruï¼å¨ææçkeyä¸­ælruæ·æ±°\n * allkeys-random:å¨ææçkeyä¸­éæºæ·æ±°\n * volatile-lruï¼å¨è®¾ç½®äºè¿ææ¶é´çkeyä¸­lruæ·æ±°\n * volatile-random:å¨è®¾ç½®äºè¿ææ¶é´çkeyä¸­éæºæ·æ±°\n * volatile-ttlï¼å é¤å¿«è¿æçkey",normalizedContent:"# è¿æé®\n\n * å é¤è¿æé®çç­ç¥\n   \n   * å®æ¶ï¼å¯¹åå­åå¥½ï¼å¯¹cpuä¸åå¥½\n   * æ°æ§ï¼å¯¹åå­ä¸åå¥½ï¼å¯¹cpuåå¥½\n   * å®æï¼æ¯å®æ¶åæ°æ§çæä¸­æ¹æ¡ãæ§è¡æ¶é¿åé¢çæ¯è¡¡éä¸ä¸ªå®æç­ç¥å¥½åçæ åã\n\n * rdbåè¯´çæåå è½½è¿ç¨ä¸­è¿æ»¤æè¿æçé®\n\n * aofæ¨¡å¼ä¸ï¼è¿æçé®åªæçæ­£delçæ¶åæä¼è®°å½å¨aofæä»¶ãéåaofæä»¶ä¸ä¼åå«è¿æçé®ã\n\n * ä¸»ä»å¤å¶ï¼ä»æå¡å¨éå°è¿æé®ä¸ä¼delï¼æ¥æ¶å°ä¸»æå¡å¨çdelå½ä»¤æä¼å é¤ã\n\n\n# åå­æ·æ±°ç­ç¥ï¼åå­ä¸è¶³æ¶)\n\n * noevictionï¼æå¼å¸¸\n * allkeys-lruï¼å¨ææçkeyä¸­ælruæ·æ±°\n * allkeys-random:å¨ææçkeyä¸­éæºæ·æ±°\n * volatile-lruï¼å¨è®¾ç½®äºè¿ææ¶é´çkeyä¸­lruæ·æ±°\n * volatile-random:å¨è®¾ç½®äºè¿ææ¶é´çkeyä¸­éæºæ·æ±°\n * volatile-ttlï¼å é¤å¿«è¿æçkey",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis æä¹åä¸­ RDB ä»¥å AOF æ¹æ¡çä¼ç¼ºç¹",frontmatter:{title:"ç®è¿° Redis æä¹åä¸­ RDB ä»¥å AOF æ¹æ¡çä¼ç¼ºç¹",date:"2022-05-21T17:21:43.000Z",permalink:"/pages/7e708d/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/020.%E7%AE%80%E8%BF%B0%20Redis%20%E6%8C%81%E4%B9%85%E5%8C%96%E4%B8%AD%20RDB%20%E4%BB%A5%E5%8F%8A%20AOF%20%E6%96%B9%E6%A1%88%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/020.ç®è¿° Redis æä¹åä¸­ RDB ä»¥å AOF æ¹æ¡çä¼ç¼ºç¹.md",key:"v-7c214d00",path:"/pages/7e708d/",headers:[{level:2,title:"RDBæä¹å",slug:"rdbæä¹å",normalizedTitle:"rdbæä¹å",charIndex:2},{level:2,title:"AOFæä¹å",slug:"aofæä¹å",normalizedTitle:"aofæä¹å",charIndex:1345}],headersStr:"RDBæä¹å AOFæä¹å",content:'# RDBæä¹å\n\n 1. saveåbgsaveæºç \n\nvoid saveCommand(redisClient *c) {\n\n   // BGSAVE å·²ç»å¨æ§è¡ä¸­ï¼ä¸è½åæ§è¡ SAVE\n   // å¦åå°äº§çç«äºæ¡ä»¶\n   if (server.rdb_child_pid != -1) {\n       addReplyError(c,"Background save already in progress");\n       return;\n   }\n\n   // æ§è¡ \n   if (rdbSave(server.rdb_filename) == REDIS_OK) {\n       addReply(c,shared.ok);\n   } else {\n       addReply(c,shared.err);\n   }\n}\n\nvoid bgsaveCommand(redisClient *c) {\n\n   // ä¸è½éå¤æ§è¡ BGSAVE\n   if (server.rdb_child_pid != -1) {\n       addReplyError(c,"Background save already in progress");\n\n   // ä¸è½å¨ BGREWRITEAOF æ­£å¨è¿è¡æ¶æ§è¡\n   } else if (server.aof_child_pid != -1) {\n       addReplyError(c,"Can\'t BGSAVE while AOF log rewriting is in progress");\n\n   // æ§è¡ BGSAVE\n   } else if (rdbSaveBackground(server.rdb_filename) == REDIS_OK) {\n       addReplyStatus(c,"Background saving started");\n\n   } else {\n       addReply(c,shared.err);\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n 2. èªå¨é´éæ§ä¿å­\n\n> æå¡å¨é´éæ§æ£è½¦saveparamsä¸­çä»»æä¸ä¸ªæ¡ä»¶æ¯å¦å¾å°æ»¡è¶³ï¼å¦æå¾å°æ»¡è¶³ï¼æ§è¡bgsave.saveparams[0]è¡¨ç¤ºè·ç¦»ä¸æ¬¡bgsave900så,è³å°æä¸æ¬¡æ°æ®åºååã\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-SwAqAX8z-1653145947293)]\n\n 3. rdbæä»¶ç»æ [å¤é¾å¾çè½¬å­ä¸­...(img-Prs54pGE-1653145947294)] å¶ä¸­databaseç»æå¦ä¸ï¼ [å¤é¾å¾çè½¬å­ä¸­...(img-rn1gUv6w-1653145947294)] å¶ä¸­ksy_value_pairsç»æå¦ä¸ [å¤é¾å¾çè½¬å­ä¸­...(img-B62S2gV5-1653145947295)]\n\n> typeæå®äºvalueçç±»åãvalueçç¼ç æ¹å¼ä¸åæå­å¨ç»æä¹ä¸åã\n\n\n# AOFæä¹å\n\n 1. aofçå®ç° å½ä»¤è¿½å ï¼ææå®¢æ·ç«¯å½ä»¤é½ä¼è¢«å­å°redis_serverçaof_bufç¼å²åºã æä»¶åå¥ï¼æä½ç³»ç»å¨åå¥æä»¶çæ¶åï¼ååå¥ç¼å­ï¼ç¼å­æ»¡äºæåå¥æä»¶ã æä»¶åæ­¥ï¼flushAppendOnlyFile()è´è´£å°aof_bufåå¥æä»¶aofã\n\n> flushAppendOnlyFileä¸­éç½®çappendfsyncå³å®åæ­¥ç­ç¥ãappendfsyncæä¸ä¸ªåå¼ï¼always(æ¯æ¬¡åå¥é½åæ­¥)ãeverysec(æ¯æ¬¡äºä»¶é½åå¥ä½ä¸åæ­¥ï¼æ¯ç§åæ­¥)ã no(æ¯æ¬¡äºä»¶é½åå¥ä½ä¸åæ­¥ï¼æä½ç³»ç»å³å®åæ­¥)ï¼\n\n 2. aofçè½½å¥ä¸è¿å [å¤é¾å¾çè½¬å­ä¸­...(img-pNMyXRLJ-1653145947295)]\n 3. AOFéå [å¤é¾å¾çè½¬å­ä¸­...(img-i1nhwgNs-1653145947295)]',normalizedContent:'# rdbæä¹å\n\n 1. saveåbgsaveæºç \n\nvoid savecommand(redisclient *c) {\n\n   // bgsave å·²ç»å¨æ§è¡ä¸­ï¼ä¸è½åæ§è¡ save\n   // å¦åå°äº§çç«äºæ¡ä»¶\n   if (server.rdb_child_pid != -1) {\n       addreplyerror(c,"background save already in progress");\n       return;\n   }\n\n   // æ§è¡ \n   if (rdbsave(server.rdb_filename) == redis_ok) {\n       addreply(c,shared.ok);\n   } else {\n       addreply(c,shared.err);\n   }\n}\n\nvoid bgsavecommand(redisclient *c) {\n\n   // ä¸è½éå¤æ§è¡ bgsave\n   if (server.rdb_child_pid != -1) {\n       addreplyerror(c,"background save already in progress");\n\n   // ä¸è½å¨ bgrewriteaof æ­£å¨è¿è¡æ¶æ§è¡\n   } else if (server.aof_child_pid != -1) {\n       addreplyerror(c,"can\'t bgsave while aof log rewriting is in progress");\n\n   // æ§è¡ bgsave\n   } else if (rdbsavebackground(server.rdb_filename) == redis_ok) {\n       addreplystatus(c,"background saving started");\n\n   } else {\n       addreply(c,shared.err);\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n 2. èªå¨é´éæ§ä¿å­\n\n> æå¡å¨é´éæ§æ£è½¦saveparamsä¸­çä»»æä¸ä¸ªæ¡ä»¶æ¯å¦å¾å°æ»¡è¶³ï¼å¦æå¾å°æ»¡è¶³ï¼æ§è¡bgsave.saveparams[0]è¡¨ç¤ºè·ç¦»ä¸æ¬¡bgsave900så,è³å°æä¸æ¬¡æ°æ®åºååã\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-swaqax8z-1653145947293)]\n\n 3. rdbæä»¶ç»æ [å¤é¾å¾çè½¬å­ä¸­...(img-prs54pge-1653145947294)] å¶ä¸­databaseç»æå¦ä¸ï¼ [å¤é¾å¾çè½¬å­ä¸­...(img-rn1guv6w-1653145947294)] å¶ä¸­ksy_value_pairsç»æå¦ä¸ [å¤é¾å¾çè½¬å­ä¸­...(img-b62s2gv5-1653145947295)]\n\n> typeæå®äºvalueçç±»åãvalueçç¼ç æ¹å¼ä¸åæå­å¨ç»æä¹ä¸åã\n\n\n# aofæä¹å\n\n 1. aofçå®ç° å½ä»¤è¿½å ï¼ææå®¢æ·ç«¯å½ä»¤é½ä¼è¢«å­å°redis_serverçaof_bufç¼å²åºã æä»¶åå¥ï¼æä½ç³»ç»å¨åå¥æä»¶çæ¶åï¼ååå¥ç¼å­ï¼ç¼å­æ»¡äºæåå¥æä»¶ã æä»¶åæ­¥ï¼flushappendonlyfile()è´è´£å°aof_bufåå¥æä»¶aofã\n\n> flushappendonlyfileä¸­éç½®çappendfsyncå³å®åæ­¥ç­ç¥ãappendfsyncæä¸ä¸ªåå¼ï¼always(æ¯æ¬¡åå¥é½åæ­¥)ãeverysec(æ¯æ¬¡äºä»¶é½åå¥ä½ä¸åæ­¥ï¼æ¯ç§åæ­¥)ã no(æ¯æ¬¡äºä»¶é½åå¥ä½ä¸åæ­¥ï¼æä½ç³»ç»å³å®åæ­¥)ï¼\n\n 2. aofçè½½å¥ä¸è¿å [å¤é¾å¾çè½¬å­ä¸­...(img-pnmyxrlj-1653145947295)]\n 3. aoféå [å¤é¾å¾çè½¬å­ä¸­...(img-i1nhwgns-1653145947295)]',charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis ä¸­å¦ä½é²æ­¢ç¼å­éªå´©åç¼å­å»ç©¿",frontmatter:{title:"ç®è¿° Redis ä¸­å¦ä½é²æ­¢ç¼å­éªå´©åç¼å­å»ç©¿",date:"2022-05-21T17:22:52.000Z",permalink:"/pages/03cd25/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/070.%E7%AE%80%E8%BF%B0%20Redis%20%E4%B8%AD%E5%A6%82%E4%BD%95%E9%98%B2%E6%AD%A2%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9%E5%92%8C%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/070.ç®è¿° Redis ä¸­å¦ä½é²æ­¢ç¼å­éªå´©åç¼å­å»ç©¿.md",key:"v-c2fe5e1a",path:"/pages/03cd25/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis ççº¿ç¨æ¨¡åä»¥ååºå±æ¶æè®¾è®¡",frontmatter:{title:"ç®è¿° Redis ççº¿ç¨æ¨¡åä»¥ååºå±æ¶æè®¾è®¡",date:"2022-05-21T17:23:08.000Z",permalink:"/pages/9c28c9/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/080.%E7%AE%80%E8%BF%B0%20Redis%20%E7%9A%84%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B%E4%BB%A5%E5%8F%8A%E5%BA%95%E5%B1%82%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/080.ç®è¿° Redis ççº¿ç¨æ¨¡åä»¥ååºå±æ¶æè®¾è®¡.md",key:"v-35718f4e",path:"/pages/9c28c9/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Redis ä¸­ï¼sentinel å cluster çåºå«åéç¨åºæ¯æ¯ä»ä¹ï¼",frontmatter:{title:"Redis ä¸­ï¼sentinel å cluster çåºå«åéç¨åºæ¯æ¯ä»ä¹ï¼",date:"2022-05-21T17:22:27.000Z",permalink:"/pages/e2e910/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/060.Redis%20%E4%B8%AD%EF%BC%8Csentinel%20%E5%92%8C%20cluster%20%E7%9A%84%E5%8C%BA%E5%88%AB%E5%92%8C%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/060.Redis ä¸­ï¼sentinel å cluster çåºå«åéç¨åºæ¯æ¯ä»ä¹ï¼.md",key:"v-6a45f68d",path:"/pages/e2e910/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis çå¨åµæºå¶",frontmatter:{title:"ç®è¿° Redis çå¨åµæºå¶",date:"2022-05-21T17:23:24.000Z",permalink:"/pages/cc8507/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/100.%E7%AE%80%E8%BF%B0%20Redis%20%E7%9A%84%E5%93%A8%E5%85%B5%E6%9C%BA%E5%88%B6.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/100.ç®è¿° Redis çå¨åµæºå¶.md",key:"v-57957421",path:"/pages/cc8507/",headers:[{level:2,title:"sentinel",slug:"sentinel",normalizedTitle:"sentinel",charIndex:2}],headersStr:"sentinel",content:"# sentinel\n\n> è´è´£redisé«å¯ç¨ï¼æ£æµä¸»æå¡å¨ä¸çº¿ï¼ç¶åéä¸¾ä¸ä¸ªä»æå¡å¨æä¸ºæ°çä¸»æå¡å¨ã\n\n 1. æºç \n\n// Sentinel ä¼ä¸ºæ¯ä¸ªè¢«çè§ç Redis å®ä¾åå»ºç¸åºç sentinelRedisInstance å®ä¾\n// ï¼è¢«çè§çå®ä¾å¯ä»¥æ¯ä¸»æå¡å¨ãä»æå¡å¨ãæèå¶ä» Sentinel ï¼\ntypedef struct sentinelRedisInstance {\n    \n    // æ è¯å¼ï¼è®°å½äºå®ä¾çç±»åï¼ä»¥åè¯¥å®ä¾çå½åç¶æ\n    int flags;      /* See SRI_... defines */\n    \n    // å®ä¾çåå­\n    // ä¸»æå¡å¨çåå­ç±ç¨æ·å¨éç½®æä»¶ä¸­è®¾ç½®\n    // ä»æå¡å¨ä»¥å Sentinel çåå­ç± Sentinel èªå¨è®¾ç½®\n    // æ ¼å¼ä¸º ip:port ï¼ä¾å¦ \"127.0.0.1:26379\"\n    char *name;     /* Master name from the point of view of this sentinel. */\n\n    // å®ä¾çè¿è¡ ID\n    char *runid;    /* run ID of this instance. */\n\n    // éç½®çºªåï¼ç¨äºå®ç°æéè½¬ç§»\n    uint64_t config_epoch;  /* Configuration epoch. */\n\n    // å®ä¾çå°å\n    sentinelAddr *addr; /* Master host. */\n\n    // ç¨äºåéå½ä»¤çå¼æ­¥è¿æ¥\n    redisAsyncContext *cc; /* Hiredis context for commands. */\n\n    // ç¨äºæ§è¡ SUBSCRIBE å½ä»¤ãæ¥æ¶é¢éä¿¡æ¯çå¼æ­¥è¿æ¥\n    // ä»å¨å®ä¾ä¸ºä¸»æå¡å¨æ¶ä½¿ç¨\n    redisAsyncContext *pc; /* Hiredis context for Pub / Sub. */\n\n    // å·²åéä½å°æªåå¤çå½ä»¤æ°é\n    int pending_commands;   /* Number of commands sent waiting for a reply. */\n\n    // cc è¿æ¥çåå»ºæ¶é´\n    mstime_t cc_conn_time; /* cc connection time. */\n    \n    // pc è¿æ¥çåå»ºæ¶é´\n    mstime_t pc_conn_time; /* pc connection time. */\n\n    // æåä¸æ¬¡ä»è¿ä¸ªå®ä¾æ¥æ¶ä¿¡æ¯çæ¶é´\n    mstime_t pc_last_activity; /* Last time we received any message. */\n\n    // å®ä¾æåä¸æ¬¡è¿åæ­£ç¡®ç PING å½ä»¤åå¤çæ¶é´\n    mstime_t last_avail_time; /* Last time the instance replied to ping with\n                                 a reply we consider valid. */\n    // å®ä¾æåä¸æ¬¡åé PING å½ä»¤çæ¶é´\n    mstime_t last_ping_time;  /* Last time a pending ping was sent in the\n                                 context of the current command connection\n                                 with the instance. 0 if still not sent or\n                                 if pong already received. */\n    // å®ä¾æåä¸æ¬¡è¿å PING å½ä»¤çæ¶é´ï¼æ è®ºåå®¹æ­£ç¡®ä¸å¦\n    mstime_t last_pong_time;  /* Last time the instance replied to ping,\n                                 whatever the reply was. That's used to check\n                                 if the link is idle and must be reconnected. */\n\n    // æåä¸æ¬¡åé¢éåéé®åä¿¡æ¯çæ¶é´\n    // åªå¨å½åå®ä¾ä¸º sentinel æ¶ä½¿ç¨\n    mstime_t last_pub_time;   /* Last time we sent hello via Pub/Sub. */\n\n    // æåä¸æ¬¡æ¥æ¶å°è¿ä¸ª sentinel åæ¥çé®åä¿¡æ¯çæ¶é´\n    // åªå¨å½åå®ä¾ä¸º sentinel æ¶ä½¿ç¨\n    mstime_t last_hello_time; /* Only used if SRI_SENTINEL is set. Last time\n                                 we received a hello from this Sentinel\n                                 via Pub/Sub. */\n\n    // æåä¸æ¬¡åå¤ SENTINEL is-master-down-by-addr å½ä»¤çæ¶é´\n    // åªå¨å½åå®ä¾ä¸º sentinel æ¶ä½¿ç¨\n    mstime_t last_master_down_reply_time; /* Time of last reply to\n                                             SENTINEL is-master-down command. */\n\n    // å®ä¾è¢«å¤æ­ä¸º SDOWN ç¶æçæ¶é´\n    mstime_t s_down_since_time; /* Subjectively down since time. */\n\n    // å®ä¾è¢«å¤æ­ä¸º ODOWN ç¶æçæ¶é´\n    mstime_t o_down_since_time; /* Objectively down since time. */\n\n    // SENTINEL down-after-milliseconds éé¡¹æè®¾å®çå¼\n    // å®ä¾æ ååºå¤å°æ¯«ç§ä¹åæä¼è¢«å¤æ­ä¸ºä¸»è§ä¸çº¿ï¼subjectively downï¼\n    mstime_t down_after_period; /* Consider it down after that period. */\n\n    // ä»å®ä¾è·å INFO å½ä»¤çåå¤çæ¶é´\n    mstime_t info_refresh;  /* Time at which we received INFO output from it. */\n\n    /* Role and the first time we observed it.\n     * This is useful in order to delay replacing what the instance reports\n     * with our own configuration. We need to always wait some time in order\n     * to give a chance to the leader to report the new configuration before\n     * we do silly things. */\n    // å®ä¾çè§è²\n    int role_reported;\n    // è§è²çæ´æ°æ¶é´\n    mstime_t role_reported_time;\n\n    // æåä¸æ¬¡ä»æå¡å¨çä¸»æå¡å¨å°ååæ´çæ¶é´\n    mstime_t slave_conf_change_time; /* Last time slave master addr changed. */\n\n    /* Master specific. */\n    /* ä¸»æå¡å¨å®ä¾ç¹æçå±æ§ -------------------------------------------------------------*/\n\n    // å¶ä»åæ ·çæ§è¿ä¸ªä¸»æå¡å¨çææ sentinel\n    dict *sentinels;    /* Other sentinels monitoring the same master. */\n\n    // å¦æè¿ä¸ªå®ä¾ä»£è¡¨çæ¯ä¸ä¸ªä¸»æå¡å¨\n    // é£ä¹è¿ä¸ªå­å¸ä¿å­çä¸»æå¡å¨å±ä¸çä»æå¡å¨\n    // å­å¸çé®æ¯ä»æå¡å¨çåå­ï¼å­å¸çå¼æ¯ä»æå¡å¨å¯¹åºç sentinelRedisInstance ç»æ\n    dict *slaves;       /* Slaves for this master instance. */\n\n    // SENTINEL monitor <master-name> <IP> <port> <quorum> éé¡¹ä¸­ç quorum åæ°\n    // å¤æ­è¿ä¸ªå®ä¾ä¸ºå®¢è§ä¸çº¿ï¼objectively downï¼æéçæ¯ææç¥¨æ°é\n    int quorum;         /* Number of sentinels that need to agree on failure. */\n\n    // SENTINEL parallel-syncs <master-name> <number> éé¡¹çå¼\n    // å¨æ§è¡æéè½¬ç§»æä½æ¶ï¼å¯ä»¥åæ¶å¯¹æ°çä¸»æå¡å¨è¿è¡åæ­¥çä»æå¡å¨æ°é\n    int parallel_syncs; /* How many slaves to reconfigure at same time. */\n\n    // è¿æ¥ä¸»æå¡å¨åä»æå¡å¨æéçå¯ç \n    char *auth_pass;    /* Password to use for AUTH against master & slaves. */\n\n    /* Slave specific. */\n    /* ä»æå¡å¨å®ä¾ç¹æçå±æ§ -------------------------------------------------------------*/\n\n    // ä¸»ä»æå¡å¨è¿æ¥æ­å¼çæ¶é´\n    mstime_t master_link_down_time; /* Slave replication link down time. */\n\n    // ä»æå¡å¨ä¼åçº§\n    int slave_priority; /* Slave priority according to its INFO output. */\n\n    // æ§è¡æéè½¬ç§»æä½æ¶ï¼ä»æå¡å¨åé SLAVEOF <new-master> å½ä»¤çæ¶é´\n    mstime_t slave_reconf_sent_time; /* Time at which we sent SLAVE OF <new> */\n\n    // ä¸»æå¡å¨çå®ä¾ï¼å¨æ¬å®ä¾ä¸ºä»æå¡å¨æ¶ä½¿ç¨ï¼\n    struct sentinelRedisInstance *master; /* Master instance if it's slave. */\n\n    // INFO å½ä»¤çåå¤ä¸­è®°å½çä¸»æå¡å¨ IP\n    char *slave_master_host;    /* Master host as reported by INFO */\n    \n    // INFO å½ä»¤çåå¤ä¸­è®°å½çä¸»æå¡å¨ç«¯å£å·\n    int slave_master_port;      /* Master port as reported by INFO */\n\n    // INFO å½ä»¤çåå¤ä¸­è®°å½çä¸»ä»æå¡å¨è¿æ¥ç¶æ\n    int slave_master_link_status; /* Master link status as reported by INFO */\n\n    // ä»æå¡å¨çå¤å¶åç§»é\n    unsigned long long slave_repl_offset; /* Slave replication offset. */\n\n    /* Failover */\n    /* æéè½¬ç§»ç¸å³å±æ§ -------------------------------------------------------------------*/\n\n\n    // å¦æè¿æ¯ä¸ä¸ªä¸»æå¡å¨å®ä¾ï¼é£ä¹ leader å°æ¯è´è´£è¿è¡æéè½¬ç§»ç Sentinel çè¿è¡ ID ã\n    // å¦æè¿æ¯ä¸ä¸ª Sentinel å®ä¾ï¼é£ä¹ leader å°±æ¯è¢«éä¸¾åºæ¥çé¢å¤´ Sentinel ã\n    // è¿ä¸ªååªå¨ Sentinel å®ä¾ç flags å±æ§ç SRI_MASTER_DOWN æ å¿å¤äºæå¼ç¶ææ¶æææã\n    char *leader;       /* If this is a master instance, this is the runid of\n                           the Sentinel that should perform the failover. If\n                           this is a Sentinel, this is the runid of the Sentinel\n                           that this Sentinel voted as leader. */\n    // é¢å¤´ççºªå\n    uint64_t leader_epoch; /* Epoch of the 'leader' field. */\n    // å½åæ§è¡ä¸­çæéè½¬ç§»ççºªå\n    uint64_t failover_epoch; /* Epoch of the currently started failover. */\n    // æéè½¬ç§»æä½çå½åç¶æ\n    int failover_state; /* See SENTINEL_FAILOVER_STATE_* defines. */\n\n    // ç¶ææ¹åçæ¶é´\n    mstime_t failover_state_change_time;\n\n    // æåä¸æ¬¡è¿è¡æéè¿ç§»çæ¶é´\n    mstime_t failover_start_time;   /* Last failover attempt start time. */\n\n    // SENTINEL failover-timeout <master-name> <ms> éé¡¹çå¼\n    // å·æ°æéè¿ç§»ç¶æçæå¤§æ¶é\n    mstime_t failover_timeout;      /* Max time to refresh failover state. */\n\n    mstime_t failover_delay_logged; /* For what failover_start_time value we\n                                       logged the failover delay. */\n    // æåè¢«æåä¸ºæ°ä¸»æå¡å¨çä»æå¡å¨çæé\n    struct sentinelRedisInstance *promoted_slave; /* Promoted slave instance. */\n\n    /* Scripts executed to notify admin or reconfigure clients: when they\n     * are set to NULL no script is executed. */\n    // ä¸ä¸ªæä»¶è·¯å¾ï¼ä¿å­ç WARNING çº§å«çäºä»¶åçæ¶æ§è¡çï¼\n    // ç¨äºéç¥ç®¡çåçèæ¬çå°å\n    char *notification_script;\n\n    // ä¸ä¸ªæä»¶è·¯å¾ï¼ä¿å­çæéè½¬ç§»æ§è¡ä¹åãä¹åãæèè¢«ä¸­æ­¢æ¶ï¼\n    // éè¦æ§è¡çèæ¬çå°å\n    char *client_reconfig_script;\n\n} sentinelRedisInstance;\n\n/* Main state. */\n/* Sentinel çç¶æç»æ */\nstruct sentinelState {\n\n    // å½åçºªå\n    uint64_t current_epoch;     /* Current epoch. */\n\n    // ä¿å­äºææè¢«è¿ä¸ª sentinel çè§çä¸»æå¡å¨\n    // å­å¸çé®æ¯ä¸»æå¡å¨çåå­\n    // å­å¸çå¼åæ¯ä¸ä¸ªæå sentinelRedisInstance ç»æçæé\n    dict *masters;      /* Dictionary of master sentinelRedisInstances.\n                           Key is the instance name, value is the\n                           sentinelRedisInstance structure pointer. */\n\n    // æ¯å¦è¿å¥äº TILT æ¨¡å¼ï¼\n    int tilt;           /* Are we in TILT mode? */\n\n    // ç®åæ­£å¨æ§è¡çèæ¬çæ°é\n    int running_scripts;    /* Number of scripts in execution right now. */\n\n    // è¿å¥ TILT æ¨¡å¼çæ¶é´\n    mstime_t tilt_start_time;   /* When TITL started. */\n\n    // æåä¸æ¬¡æ§è¡æ¶é´å¤çå¨çæ¶é´\n    mstime_t previous_time;     /* Last time we ran the time handler. */\n\n    // ä¸ä¸ª FIFO éåï¼åå«äºææéè¦æ§è¡çç¨æ·èæ¬\n    list *scripts_queue;    /* Queue of user scripts to execute. */\n\n} sentinel;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n\n 2. å¯å¨å¹¶åå§åsentinel\n\n * å¯å¨å½ä»¤ï¼Redis-sentinel /path/sentinel.conf\n * åå§åæå¡å¨\n * ä½¿ç¨sentinelä¸ç¨ä»£ç \n * åå§åsentinelç¶æãsentinelState{}\n * åå§åmasterså±æ§ãæ ¹æ®éç½®æä»¶æ¥çæã [å¤é¾å¾çè½¬å­ä¸­...(img-gEx8X9Le-1653145947298)]\n * åå»ºä¸¤ä¸ªé¾æ¥ä¸»æå¡å¨çå¼æ­¥ç½ç»ï¼ä¸ä¸ªå½ä»¤é¾æ¥ï¼ä¸ä¸ªè®¢éé¾æ¥ã\n * è·åæå¡å¨ä¿¡æ¯ã10s/æ¬¡åä¸»æå¡å¨åéinfoå½ä»¤ãè·åä¸»ä»ä¿¡æ¯ãæ´æ°ä¸»ä»ä¿¡æ¯ãä»ä¿¡æ¯çä¿å­ç»æå¦ä¸ï¼ [å¤é¾å¾çè½¬å­ä¸­...(img-aBn6piJg-1653145947298)]\n * è·åä»æå¡å¨ä¿¡æ¯ãè·åä»æå¡å¨ä¿¡æ¯ãsentinelåç°ä¸»æå¡å¨æä»æå¡å¨æ¶ï¼ä¿å­ä»æå¡å¨å¹¶åå»ºä¸¤ä¸ªå¼æ­¥é¾æ¥ï¼å½ä»¤é¾æ¥åè®¢éé¾æ¥ã10s/æ¬¡åä»æå¡å¨åéå½ä»¤è·åä¿¡æ¯æ´æ°æ¬å°å­å¨ã\n * åä¸»ä»åéä¿¡æ¯ã2s/æ¬¡éè¿å½ä»¤è¿æ¥åéä¿¡æ¯ãåéé¢é_sentinel_:hello\n * æ¥æ¶ä¿¡æ¯ãæ¥æ¶é¢é sentinel:helloï¼ç¨äºåç°æ°çsentinelï¼\n * æ´æ°sentinelå­å¸ãsentinelResidInstanceç»æä¸­çsentinelsä¿å­è¿ä¸ªä¸»æå¡å¨çææsentinelãæ¥æ¶å°_sentinel_:helloé¢éçæ¶æ¯æ¶ï¼æ´æ°sentinel.\n * åå»ºsentinelä¹é´çè¿æ¥ã(ä¸åå»ºè®¢éé¾æ¥)\n\n 3. æ£æµä¸»è§ä¸çº¿ç¶æ\n\n> sentinelæ¯ç§åå®è¿æ¥çå®ä¾åépingå½ä»¤ãè¿å+pongã-loadingã-masterdownæ¯ææåå¤ãå¶ä»åå¤æèæå®æ¶é´æ²¡åå¤åè®¤ä¸ºæ æãéç½®é¡¹down-after-millisecondsæå®äºsentinelå¤æ­ä¸»è§ä¸çº¿æ¶é´é¿åº¦ãå¦æä¸ä¸ªå®ä¾å¨down-after-millisecondsæ¶é´åè¿ç»­åsentinelè¿åæ æï¼åè®¤ä¸ºä¸»è§ä¸çº¿ã\n\n * sentinelRedisInstanceä¸­çmasterå±æ§æä¸»è§ä¸çº¿æ è¯ã\n * down-after-millisecondsæ¯masterä¸çº¿çæ åï¼ä¹æ¯masterä¸slavesä¸çº¿çæ åï¼ä¹æ¯å¶ä»sentinelå¤æ­masterä¸çº¿çæ åã\n * å¤ä¸ªsentinelè®¾ç½®åä¸ä¸ªmsaterçdown-after-millisecondså¯è½ä¸å\n\n 4. å®¢è§ä¸çº¿\n\n> sentinelå¤æ­ä¸ä¸ªmasterå·²ç»ä¸»è§ä¸çº¿ï¼ä¼è¯¢é®å¶ä»sentinelï¼å¦æä¸å®æ°é çé½è®¤ä¸ºè¿ä¸ªmasterå·²ç»ä¸»è§ä¸çº¿ï¼åå¤å®è¿ä¸ªmasterå®¢è§ä¸çº¿ãç¶ååæéè½¬ç§»ã\n\n * åésentinel is-master-down-by-addrå½ä»¤è¯¢é®å¶ä»sentinel\n * sentineléç½®ä¸­çquorumåæ°å³å®æå ä¸ªsentinelå¤æ­ä¸çº¿æè½ç®æ¯ä¸çº¿\n * å½ä¸ä¸ªmsaterè¢«å¤å®ä¸ºå®¢è§ä¸çº¿æ¶ï¼çè§è¿ä¸ªmasterçåä¸ªsentinelä¹é´ä¼éä¸¾ä¸ä¸ªä¸ºé¢å¤´sentinelï¼åæéè½¬ç§»ã\n * æéè½¬ç§»ï¼éä¸ä¸ªåmasterãslavesåæ­¥æ°çmasterãæ§çmasteræä¸ºæ°masterçslave\n\n 5. éä¸¾é¢å¤´sentinel\n\n> å½ä¸ä¸ªä¸»æå¡å¨ä¸çº¿åï¼å¨çç®¡è¿ä¸ªä¸»æå¡å¨çsentinelä¸­éä¸¾ä¸ä¸ªé¢å¤´sentinelãç¨äºæéè½¬ç§»\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-5XFvVtzH-1653145947298)] 6. æéè½¬ç§» é¢å¤´sentinelå®ææéè½¬ç§»éè¦ä¸ä¸ªæ­¥éª¤ï¼\n\n * å¨ä»æå¡å¨ä¸­éä¸ä¸ªæä¸ºæ°çä¸»æå¡å¨ãsentinelå¨ä»æå¡å¨ä¸­éä¸¾ä¸ä¸ªï¼åå¶åéå½ä»¤slaveof no one,ä½¿ä¹æä¸ºä¸»æå¡å¨ãåéslaveof no oneæååæ¯ç§åéinfoå½ä»¤è§å¯roleæ¯ä¸æ¯åæäºmasterã\n * è®©ä»æå¡å¨åæ­¥æ°çä¸»æå¡å¨. [å¤é¾å¾çè½¬å­ä¸­...(img-jz4GYou9-1653145947299)]\n * è®©æ§çä¸»æå¡å¨æä¸ºæ°çä¸»æå¡å¨çä»æå¡å¨ï¼å½å¶ä¸çº¿æ¶ï¼æä¸ºä»æå¡å¨ã",normalizedContent:"# sentinel\n\n> è´è´£redisé«å¯ç¨ï¼æ£æµä¸»æå¡å¨ä¸çº¿ï¼ç¶åéä¸¾ä¸ä¸ªä»æå¡å¨æä¸ºæ°çä¸»æå¡å¨ã\n\n 1. æºç \n\n// sentinel ä¼ä¸ºæ¯ä¸ªè¢«çè§ç redis å®ä¾åå»ºç¸åºç sentinelredisinstance å®ä¾\n// ï¼è¢«çè§çå®ä¾å¯ä»¥æ¯ä¸»æå¡å¨ãä»æå¡å¨ãæèå¶ä» sentinel ï¼\ntypedef struct sentinelredisinstance {\n    \n    // æ è¯å¼ï¼è®°å½äºå®ä¾çç±»åï¼ä»¥åè¯¥å®ä¾çå½åç¶æ\n    int flags;      /* see sri_... defines */\n    \n    // å®ä¾çåå­\n    // ä¸»æå¡å¨çåå­ç±ç¨æ·å¨éç½®æä»¶ä¸­è®¾ç½®\n    // ä»æå¡å¨ä»¥å sentinel çåå­ç± sentinel èªå¨è®¾ç½®\n    // æ ¼å¼ä¸º ip:port ï¼ä¾å¦ \"127.0.0.1:26379\"\n    char *name;     /* master name from the point of view of this sentinel. */\n\n    // å®ä¾çè¿è¡ id\n    char *runid;    /* run id of this instance. */\n\n    // éç½®çºªåï¼ç¨äºå®ç°æéè½¬ç§»\n    uint64_t config_epoch;  /* configuration epoch. */\n\n    // å®ä¾çå°å\n    sentineladdr *addr; /* master host. */\n\n    // ç¨äºåéå½ä»¤çå¼æ­¥è¿æ¥\n    redisasynccontext *cc; /* hiredis context for commands. */\n\n    // ç¨äºæ§è¡ subscribe å½ä»¤ãæ¥æ¶é¢éä¿¡æ¯çå¼æ­¥è¿æ¥\n    // ä»å¨å®ä¾ä¸ºä¸»æå¡å¨æ¶ä½¿ç¨\n    redisasynccontext *pc; /* hiredis context for pub / sub. */\n\n    // å·²åéä½å°æªåå¤çå½ä»¤æ°é\n    int pending_commands;   /* number of commands sent waiting for a reply. */\n\n    // cc è¿æ¥çåå»ºæ¶é´\n    mstime_t cc_conn_time; /* cc connection time. */\n    \n    // pc è¿æ¥çåå»ºæ¶é´\n    mstime_t pc_conn_time; /* pc connection time. */\n\n    // æåä¸æ¬¡ä»è¿ä¸ªå®ä¾æ¥æ¶ä¿¡æ¯çæ¶é´\n    mstime_t pc_last_activity; /* last time we received any message. */\n\n    // å®ä¾æåä¸æ¬¡è¿åæ­£ç¡®ç ping å½ä»¤åå¤çæ¶é´\n    mstime_t last_avail_time; /* last time the instance replied to ping with\n                                 a reply we consider valid. */\n    // å®ä¾æåä¸æ¬¡åé ping å½ä»¤çæ¶é´\n    mstime_t last_ping_time;  /* last time a pending ping was sent in the\n                                 context of the current command connection\n                                 with the instance. 0 if still not sent or\n                                 if pong already received. */\n    // å®ä¾æåä¸æ¬¡è¿å ping å½ä»¤çæ¶é´ï¼æ è®ºåå®¹æ­£ç¡®ä¸å¦\n    mstime_t last_pong_time;  /* last time the instance replied to ping,\n                                 whatever the reply was. that's used to check\n                                 if the link is idle and must be reconnected. */\n\n    // æåä¸æ¬¡åé¢éåéé®åä¿¡æ¯çæ¶é´\n    // åªå¨å½åå®ä¾ä¸º sentinel æ¶ä½¿ç¨\n    mstime_t last_pub_time;   /* last time we sent hello via pub/sub. */\n\n    // æåä¸æ¬¡æ¥æ¶å°è¿ä¸ª sentinel åæ¥çé®åä¿¡æ¯çæ¶é´\n    // åªå¨å½åå®ä¾ä¸º sentinel æ¶ä½¿ç¨\n    mstime_t last_hello_time; /* only used if sri_sentinel is set. last time\n                                 we received a hello from this sentinel\n                                 via pub/sub. */\n\n    // æåä¸æ¬¡åå¤ sentinel is-master-down-by-addr å½ä»¤çæ¶é´\n    // åªå¨å½åå®ä¾ä¸º sentinel æ¶ä½¿ç¨\n    mstime_t last_master_down_reply_time; /* time of last reply to\n                                             sentinel is-master-down command. */\n\n    // å®ä¾è¢«å¤æ­ä¸º sdown ç¶æçæ¶é´\n    mstime_t s_down_since_time; /* subjectively down since time. */\n\n    // å®ä¾è¢«å¤æ­ä¸º odown ç¶æçæ¶é´\n    mstime_t o_down_since_time; /* objectively down since time. */\n\n    // sentinel down-after-milliseconds éé¡¹æè®¾å®çå¼\n    // å®ä¾æ ååºå¤å°æ¯«ç§ä¹åæä¼è¢«å¤æ­ä¸ºä¸»è§ä¸çº¿ï¼subjectively downï¼\n    mstime_t down_after_period; /* consider it down after that period. */\n\n    // ä»å®ä¾è·å info å½ä»¤çåå¤çæ¶é´\n    mstime_t info_refresh;  /* time at which we received info output from it. */\n\n    /* role and the first time we observed it.\n     * this is useful in order to delay replacing what the instance reports\n     * with our own configuration. we need to always wait some time in order\n     * to give a chance to the leader to report the new configuration before\n     * we do silly things. */\n    // å®ä¾çè§è²\n    int role_reported;\n    // è§è²çæ´æ°æ¶é´\n    mstime_t role_reported_time;\n\n    // æåä¸æ¬¡ä»æå¡å¨çä¸»æå¡å¨å°ååæ´çæ¶é´\n    mstime_t slave_conf_change_time; /* last time slave master addr changed. */\n\n    /* master specific. */\n    /* ä¸»æå¡å¨å®ä¾ç¹æçå±æ§ -------------------------------------------------------------*/\n\n    // å¶ä»åæ ·çæ§è¿ä¸ªä¸»æå¡å¨çææ sentinel\n    dict *sentinels;    /* other sentinels monitoring the same master. */\n\n    // å¦æè¿ä¸ªå®ä¾ä»£è¡¨çæ¯ä¸ä¸ªä¸»æå¡å¨\n    // é£ä¹è¿ä¸ªå­å¸ä¿å­çä¸»æå¡å¨å±ä¸çä»æå¡å¨\n    // å­å¸çé®æ¯ä»æå¡å¨çåå­ï¼å­å¸çå¼æ¯ä»æå¡å¨å¯¹åºç sentinelredisinstance ç»æ\n    dict *slaves;       /* slaves for this master instance. */\n\n    // sentinel monitor <master-name> <ip> <port> <quorum> éé¡¹ä¸­ç quorum åæ°\n    // å¤æ­è¿ä¸ªå®ä¾ä¸ºå®¢è§ä¸çº¿ï¼objectively downï¼æéçæ¯ææç¥¨æ°é\n    int quorum;         /* number of sentinels that need to agree on failure. */\n\n    // sentinel parallel-syncs <master-name> <number> éé¡¹çå¼\n    // å¨æ§è¡æéè½¬ç§»æä½æ¶ï¼å¯ä»¥åæ¶å¯¹æ°çä¸»æå¡å¨è¿è¡åæ­¥çä»æå¡å¨æ°é\n    int parallel_syncs; /* how many slaves to reconfigure at same time. */\n\n    // è¿æ¥ä¸»æå¡å¨åä»æå¡å¨æéçå¯ç \n    char *auth_pass;    /* password to use for auth against master & slaves. */\n\n    /* slave specific. */\n    /* ä»æå¡å¨å®ä¾ç¹æçå±æ§ -------------------------------------------------------------*/\n\n    // ä¸»ä»æå¡å¨è¿æ¥æ­å¼çæ¶é´\n    mstime_t master_link_down_time; /* slave replication link down time. */\n\n    // ä»æå¡å¨ä¼åçº§\n    int slave_priority; /* slave priority according to its info output. */\n\n    // æ§è¡æéè½¬ç§»æä½æ¶ï¼ä»æå¡å¨åé slaveof <new-master> å½ä»¤çæ¶é´\n    mstime_t slave_reconf_sent_time; /* time at which we sent slave of <new> */\n\n    // ä¸»æå¡å¨çå®ä¾ï¼å¨æ¬å®ä¾ä¸ºä»æå¡å¨æ¶ä½¿ç¨ï¼\n    struct sentinelredisinstance *master; /* master instance if it's slave. */\n\n    // info å½ä»¤çåå¤ä¸­è®°å½çä¸»æå¡å¨ ip\n    char *slave_master_host;    /* master host as reported by info */\n    \n    // info å½ä»¤çåå¤ä¸­è®°å½çä¸»æå¡å¨ç«¯å£å·\n    int slave_master_port;      /* master port as reported by info */\n\n    // info å½ä»¤çåå¤ä¸­è®°å½çä¸»ä»æå¡å¨è¿æ¥ç¶æ\n    int slave_master_link_status; /* master link status as reported by info */\n\n    // ä»æå¡å¨çå¤å¶åç§»é\n    unsigned long long slave_repl_offset; /* slave replication offset. */\n\n    /* failover */\n    /* æéè½¬ç§»ç¸å³å±æ§ -------------------------------------------------------------------*/\n\n\n    // å¦æè¿æ¯ä¸ä¸ªä¸»æå¡å¨å®ä¾ï¼é£ä¹ leader å°æ¯è´è´£è¿è¡æéè½¬ç§»ç sentinel çè¿è¡ id ã\n    // å¦æè¿æ¯ä¸ä¸ª sentinel å®ä¾ï¼é£ä¹ leader å°±æ¯è¢«éä¸¾åºæ¥çé¢å¤´ sentinel ã\n    // è¿ä¸ªååªå¨ sentinel å®ä¾ç flags å±æ§ç sri_master_down æ å¿å¤äºæå¼ç¶ææ¶æææã\n    char *leader;       /* if this is a master instance, this is the runid of\n                           the sentinel that should perform the failover. if\n                           this is a sentinel, this is the runid of the sentinel\n                           that this sentinel voted as leader. */\n    // é¢å¤´ççºªå\n    uint64_t leader_epoch; /* epoch of the 'leader' field. */\n    // å½åæ§è¡ä¸­çæéè½¬ç§»ççºªå\n    uint64_t failover_epoch; /* epoch of the currently started failover. */\n    // æéè½¬ç§»æä½çå½åç¶æ\n    int failover_state; /* see sentinel_failover_state_* defines. */\n\n    // ç¶ææ¹åçæ¶é´\n    mstime_t failover_state_change_time;\n\n    // æåä¸æ¬¡è¿è¡æéè¿ç§»çæ¶é´\n    mstime_t failover_start_time;   /* last failover attempt start time. */\n\n    // sentinel failover-timeout <master-name> <ms> éé¡¹çå¼\n    // å·æ°æéè¿ç§»ç¶æçæå¤§æ¶é\n    mstime_t failover_timeout;      /* max time to refresh failover state. */\n\n    mstime_t failover_delay_logged; /* for what failover_start_time value we\n                                       logged the failover delay. */\n    // æåè¢«æåä¸ºæ°ä¸»æå¡å¨çä»æå¡å¨çæé\n    struct sentinelredisinstance *promoted_slave; /* promoted slave instance. */\n\n    /* scripts executed to notify admin or reconfigure clients: when they\n     * are set to null no script is executed. */\n    // ä¸ä¸ªæä»¶è·¯å¾ï¼ä¿å­ç warning çº§å«çäºä»¶åçæ¶æ§è¡çï¼\n    // ç¨äºéç¥ç®¡çåçèæ¬çå°å\n    char *notification_script;\n\n    // ä¸ä¸ªæä»¶è·¯å¾ï¼ä¿å­çæéè½¬ç§»æ§è¡ä¹åãä¹åãæèè¢«ä¸­æ­¢æ¶ï¼\n    // éè¦æ§è¡çèæ¬çå°å\n    char *client_reconfig_script;\n\n} sentinelredisinstance;\n\n/* main state. */\n/* sentinel çç¶æç»æ */\nstruct sentinelstate {\n\n    // å½åçºªå\n    uint64_t current_epoch;     /* current epoch. */\n\n    // ä¿å­äºææè¢«è¿ä¸ª sentinel çè§çä¸»æå¡å¨\n    // å­å¸çé®æ¯ä¸»æå¡å¨çåå­\n    // å­å¸çå¼åæ¯ä¸ä¸ªæå sentinelredisinstance ç»æçæé\n    dict *masters;      /* dictionary of master sentinelredisinstances.\n                           key is the instance name, value is the\n                           sentinelredisinstance structure pointer. */\n\n    // æ¯å¦è¿å¥äº tilt æ¨¡å¼ï¼\n    int tilt;           /* are we in tilt mode? */\n\n    // ç®åæ­£å¨æ§è¡çèæ¬çæ°é\n    int running_scripts;    /* number of scripts in execution right now. */\n\n    // è¿å¥ tilt æ¨¡å¼çæ¶é´\n    mstime_t tilt_start_time;   /* when titl started. */\n\n    // æåä¸æ¬¡æ§è¡æ¶é´å¤çå¨çæ¶é´\n    mstime_t previous_time;     /* last time we ran the time handler. */\n\n    // ä¸ä¸ª fifo éåï¼åå«äºææéè¦æ§è¡çç¨æ·èæ¬\n    list *scripts_queue;    /* queue of user scripts to execute. */\n\n} sentinel;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n\n 2. å¯å¨å¹¶åå§åsentinel\n\n * å¯å¨å½ä»¤ï¼redis-sentinel /path/sentinel.conf\n * åå§åæå¡å¨\n * ä½¿ç¨sentinelä¸ç¨ä»£ç \n * åå§åsentinelç¶æãsentinelstate{}\n * åå§åmasterså±æ§ãæ ¹æ®éç½®æä»¶æ¥çæã [å¤é¾å¾çè½¬å­ä¸­...(img-gex8x9le-1653145947298)]\n * åå»ºä¸¤ä¸ªé¾æ¥ä¸»æå¡å¨çå¼æ­¥ç½ç»ï¼ä¸ä¸ªå½ä»¤é¾æ¥ï¼ä¸ä¸ªè®¢éé¾æ¥ã\n * è·åæå¡å¨ä¿¡æ¯ã10s/æ¬¡åä¸»æå¡å¨åéinfoå½ä»¤ãè·åä¸»ä»ä¿¡æ¯ãæ´æ°ä¸»ä»ä¿¡æ¯ãä»ä¿¡æ¯çä¿å­ç»æå¦ä¸ï¼ [å¤é¾å¾çè½¬å­ä¸­...(img-abn6pijg-1653145947298)]\n * è·åä»æå¡å¨ä¿¡æ¯ãè·åä»æå¡å¨ä¿¡æ¯ãsentinelåç°ä¸»æå¡å¨æä»æå¡å¨æ¶ï¼ä¿å­ä»æå¡å¨å¹¶åå»ºä¸¤ä¸ªå¼æ­¥é¾æ¥ï¼å½ä»¤é¾æ¥åè®¢éé¾æ¥ã10s/æ¬¡åä»æå¡å¨åéå½ä»¤è·åä¿¡æ¯æ´æ°æ¬å°å­å¨ã\n * åä¸»ä»åéä¿¡æ¯ã2s/æ¬¡éè¿å½ä»¤è¿æ¥åéä¿¡æ¯ãåéé¢é_sentinel_:hello\n * æ¥æ¶ä¿¡æ¯ãæ¥æ¶é¢é sentinel:helloï¼ç¨äºåç°æ°çsentinelï¼\n * æ´æ°sentinelå­å¸ãsentinelresidinstanceç»æä¸­çsentinelsä¿å­è¿ä¸ªä¸»æå¡å¨çææsentinelãæ¥æ¶å°_sentinel_:helloé¢éçæ¶æ¯æ¶ï¼æ´æ°sentinel.\n * åå»ºsentinelä¹é´çè¿æ¥ã(ä¸åå»ºè®¢éé¾æ¥)\n\n 3. æ£æµä¸»è§ä¸çº¿ç¶æ\n\n> sentinelæ¯ç§åå®è¿æ¥çå®ä¾åépingå½ä»¤ãè¿å+pongã-loadingã-masterdownæ¯ææåå¤ãå¶ä»åå¤æèæå®æ¶é´æ²¡åå¤åè®¤ä¸ºæ æãéç½®é¡¹down-after-millisecondsæå®äºsentinelå¤æ­ä¸»è§ä¸çº¿æ¶é´é¿åº¦ãå¦æä¸ä¸ªå®ä¾å¨down-after-millisecondsæ¶é´åè¿ç»­åsentinelè¿åæ æï¼åè®¤ä¸ºä¸»è§ä¸çº¿ã\n\n * sentinelredisinstanceä¸­çmasterå±æ§æä¸»è§ä¸çº¿æ è¯ã\n * down-after-millisecondsæ¯masterä¸çº¿çæ åï¼ä¹æ¯masterä¸slavesä¸çº¿çæ åï¼ä¹æ¯å¶ä»sentinelå¤æ­masterä¸çº¿çæ åã\n * å¤ä¸ªsentinelè®¾ç½®åä¸ä¸ªmsaterçdown-after-millisecondså¯è½ä¸å\n\n 4. å®¢è§ä¸çº¿\n\n> sentinelå¤æ­ä¸ä¸ªmasterå·²ç»ä¸»è§ä¸çº¿ï¼ä¼è¯¢é®å¶ä»sentinelï¼å¦æä¸å®æ°é çé½è®¤ä¸ºè¿ä¸ªmasterå·²ç»ä¸»è§ä¸çº¿ï¼åå¤å®è¿ä¸ªmasterå®¢è§ä¸çº¿ãç¶ååæéè½¬ç§»ã\n\n * åésentinel is-master-down-by-addrå½ä»¤è¯¢é®å¶ä»sentinel\n * sentineléç½®ä¸­çquorumåæ°å³å®æå ä¸ªsentinelå¤æ­ä¸çº¿æè½ç®æ¯ä¸çº¿\n * å½ä¸ä¸ªmsaterè¢«å¤å®ä¸ºå®¢è§ä¸çº¿æ¶ï¼çè§è¿ä¸ªmasterçåä¸ªsentinelä¹é´ä¼éä¸¾ä¸ä¸ªä¸ºé¢å¤´sentinelï¼åæéè½¬ç§»ã\n * æéè½¬ç§»ï¼éä¸ä¸ªåmasterãslavesåæ­¥æ°çmasterãæ§çmasteræä¸ºæ°masterçslave\n\n 5. éä¸¾é¢å¤´sentinel\n\n> å½ä¸ä¸ªä¸»æå¡å¨ä¸çº¿åï¼å¨çç®¡è¿ä¸ªä¸»æå¡å¨çsentinelä¸­éä¸¾ä¸ä¸ªé¢å¤´sentinelãç¨äºæéè½¬ç§»\n\n[å¤é¾å¾çè½¬å­ä¸­...(img-5xfvvtzh-1653145947298)] 6. æéè½¬ç§» é¢å¤´sentinelå®ææéè½¬ç§»éè¦ä¸ä¸ªæ­¥éª¤ï¼\n\n * å¨ä»æå¡å¨ä¸­éä¸ä¸ªæä¸ºæ°çä¸»æå¡å¨ãsentinelå¨ä»æå¡å¨ä¸­éä¸¾ä¸ä¸ªï¼åå¶åéå½ä»¤slaveof no one,ä½¿ä¹æä¸ºä¸»æå¡å¨ãåéslaveof no oneæååæ¯ç§åéinfoå½ä»¤è§å¯roleæ¯ä¸æ¯åæäºmasterã\n * è®©ä»æå¡å¨åæ­¥æ°çä¸»æå¡å¨. [å¤é¾å¾çè½¬å­ä¸­...(img-jz4gyou9-1653145947299)]\n * è®©æ§çä¸»æå¡å¨æä¸ºæ°çä¸»æå¡å¨çä»æå¡å¨ï¼å½å¶ä¸çº¿æ¶ï¼æä¸ºä»æå¡å¨ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç®è¿° Redis å¦ä½å¤çç­ç¹ key è®¿é®",frontmatter:{title:"ç®è¿° Redis å¦ä½å¤çç­ç¹ key è®¿é®",date:"2022-05-21T17:23:43.000Z",permalink:"/pages/795c09/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/110.%E7%AE%80%E8%BF%B0%20Redis%20%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E7%83%AD%E7%82%B9%20key%20%E8%AE%BF%E9%97%AE.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/110.ç®è¿° Redis å¦ä½å¤çç­ç¹ key è®¿é®.md",key:"v-37f158ba",path:"/pages/795c09/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Redis åºååæåªäºæ¹å¼ï¼",frontmatter:{title:"Redis åºååæåªäºæ¹å¼ï¼",date:"2022-05-21T17:23:58.000Z",permalink:"/pages/0d3c6b/",categories:["æ°æ®åº","REDISç¸å³"],tags:[null]},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/02.REDIS%E7%9B%B8%E5%85%B3/120.Redis%20%E5%BA%8F%E5%88%97%E5%8C%96%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E5%BC%8F%EF%BC%9F.html",relativePath:"03.æ°æ®åº/02.REDISç¸å³/120.Redis åºååæåªäºæ¹å¼ï¼.md",key:"v-02ea33c3",path:"/pages/0d3c6b/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Netty",frontmatter:{title:"Netty",date:"2020-05-21T21:50:26.000Z",permalink:"/pages/40f3c9/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/001.%E4%BD%A0%E7%86%9F%E6%82%89%E5%93%AA%E4%BA%9BIO%E6%A8%A1%E5%9E%8B%EF%BC%9F.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/001.ä½ çæåªäºIOæ¨¡åï¼.md",key:"v-be02b3c0",path:"/pages/40f3c9/",headers:[{level:2,title:"1.1 I/Oåºç¡å¥é¨",slug:"_1-1-i-oåºç¡å¥é¨",normalizedTitle:"1.1 i/oåºç¡å¥é¨",charIndex:2},{level:3,title:"1.1.1 linuxç½ç»I/Oæ¨¡åç®ä»",slug:"_1-1-1-linuxç½ç»i-oæ¨¡åç®ä»",normalizedTitle:"1.1.1 linuxç½ç»i/oæ¨¡åç®ä»",charIndex:141},{level:3,title:"I/Oå¤è·¯å¤ç¨ææ¯",slug:"i-oå¤è·¯å¤ç¨ææ¯",normalizedTitle:"i/oå¤è·¯å¤ç¨ææ¯",charIndex:425},{level:2,title:"1.2 JavaçIOæ¼è¿",slug:"_1-2-javaçioæ¼è¿",normalizedTitle:"1.2 javaçioæ¼è¿",charIndex:531},{level:2,title:"2.1 ä¼ ç»çBIOç¼ç¨",slug:"_2-1-ä¼ ç»çbioç¼ç¨",normalizedTitle:"2.1 ä¼ ç»çbioç¼ç¨",charIndex:595},{level:3,title:"2.1.1 BIOéä¿¡æ¨¡åå¾",slug:"_2-1-1-bioéä¿¡æ¨¡åå¾",normalizedTitle:"2.1.1 bioéä¿¡æ¨¡åå¾",charIndex:692},{level:2,title:"2.2 ä¼ªå¼æ­¥IOæ¨¡å",slug:"_2-2-ä¼ªå¼æ­¥ioæ¨¡å",normalizedTitle:"2.2 ä¼ªå¼æ­¥ioæ¨¡å",charIndex:767},{level:2,title:"2.3 NIOæ¨¡å",slug:"_2-3-nioæ¨¡å",normalizedTitle:"2.3 nioæ¨¡å",charIndex:877},{level:2,title:"2.3.1 NIOç®ä»",slug:"_2-3-1-nioç®ä»",normalizedTitle:"2.3.1 nioç®ä»",charIndex:891},{level:2,title:"2.3.2 NIOæå¡åºåå¾",slug:"_2-3-2-nioæå¡åºåå¾",normalizedTitle:"2.3.2 nioæå¡åºåå¾",charIndex:1035},{level:2,title:"2.4 AIO",slug:"_2-4-aio",normalizedTitle:"2.4 aio",charIndex:1056}],headersStr:"1.1 I/Oåºç¡å¥é¨ 1.1.1 linuxç½ç»I/Oæ¨¡åç®ä» I/Oå¤è·¯å¤ç¨ææ¯ 1.2 JavaçIOæ¼è¿ 2.1 ä¼ ç»çBIOç¼ç¨ 2.1.1 BIOéä¿¡æ¨¡åå¾ 2.2 ä¼ªå¼æ­¥IOæ¨¡å 2.3 NIOæ¨¡å 2.3.1 NIOç®ä» 2.3.2 NIOæå¡åºåå¾ 2.4 AIO",content:"# 1.1 I/Oåºç¡å¥é¨\n\nJava1.4ä¹åå¯¹I/Oçæ¯æå¹¶ä¸å®åï¼ç»å¼åå¸¦æ¥çé®é¢æï¼\n\n * æ²¡ææ°æ®ç¼å²åºï¼I/Oæ§è½å­å¨é®é¢\n * æ²¡æC/C++ä¸­channelçæ¦å¿µï¼åªæè¾å¥è¾åºæµ\n * BIOä¼å¯¼è´éä¿¡è¢«é¿æ¶é´é»å¡\n * æ¯æçå­ç¬¦éä¼åï¼ç¡¬ä»¶ç§»æ¤æ§ä¸å¥½\n\n\n# 1.1.1 linuxç½ç»I/Oæ¨¡åç®ä»\n\nlinuxä¸­ææçå¤é¨è®¾å¤é½æ¯ä¸ä¸ªæä»¶ï¼socketä¹æ¯ä¸ä¸ªæä»¶ï¼ææä»¶æè¿°ç¬¦ï¼fdï¼æåå®ã UNIXæä¾5ä¸­I/Oæ¨¡åï¼\n\n * BIOæ¨¡åï¼å¨è¿ç¨ç©ºé´è°ç¨recvfrom,ç´å°ææ°æ®æè¿åã\n * NIOæ¨¡åï¼è½®è®­è°ç¨recvfromã\n * I/Oå¤ç¨ï¼linuxæä¾select/pollï¼å¶æ¯æå¤ä¸ªfdçNIOï¼ä½æ¯select/pollæ¬èº«æ¯é»å¡çãepolléç¨äºä»¶é©±å¨çæ¹å¼ä»£æ¿é¡ºåºæ«æï¼å¶æ§è½æ´é«ã\n * ä¿¡å·é©±å¨I/Oæ¨¡åï¼\n * å¼æ­¥I/O:éç¥åæ ¸æä¸ªæä½ï¼å¹¶æ´ä¸ªæä½å®æçæ¶åéç¥æä»¬ã\n\n\n# I/Oå¤è·¯å¤ç¨ææ¯\n\nepollä¼ç¹ï¼\n\n * æ¯æä¸ä¸ªè¿ç¨æå¼çfdä¸åéå¶\n * IOæçä¸ä¼éçfdæ°éå¢å èä¸é\n * ä½¿ç¨mmapå éåæ ¸åç¨æ·ç©ºé´çæ¶æ¯ä¼ é\n * epoll APIæ´å ç®å\n\n\n# 1.2 JavaçIOæ¼è¿\n\n2011å¹´JDK7åå¸ï¼\n\n * æä¾äºè½æ¹éè·åæä»¶å±æ§çAPI\n * æä¾AIOåè½\n\n\n# 2.1 ä¼ ç»çBIOç¼ç¨\n\nCLient/Serveræ¨¡åä¸­ï¼Serverè´è´£ç»å®IP,å¯å¨çå¬ç«¯å£ï¼Clientåèµ·é¾æ¥è¯·æ±ï¼ç»è¿ä¸æ¬¡æ¡æå»ºç«è¿æ¥ï¼éè¿è¾å¥è¾åºæµè¿è¡åæ­¥é»å¡å¼éä¿¡ã\n\n\n# 2.1.1 BIOéä¿¡æ¨¡åå¾\n\néè¿Acceptorå¤çå¤ä¸ªclientè¿æ¥è¯·æ±ï¼å¤çå®æåéæ¯çº¿ç¨ã è¯¥æ¨¡åçé®é¢å°±æ¯æ¯æççº¿ç¨æ°éæéã\n\n\n# 2.2 ä¼ªå¼æ­¥IOæ¨¡å\n\nä¼ªå¼æ­¥æ¯ä¸ºäºè§£å³BIOä¸ä¸ªé¾è·¯éè¦ä¸ä¸ªçº¿ç¨çé®é¢ã éè¿ä¸ä¸ªçº¿ç¨æ± å¤çå¤ä¸ªå®¢æ·ç«¯çè¯·æ±æ¥å¥\n\n * çº¿ç¨çæ°éä¸ä¼å¤§éè¨èå¯¼è´èµæºèå°½\n * é®é¢æ¯ï¼æ²¡æè§£å³åæ­¥IOå¯¼è´ççº¿ç¨é»å¡é®é¢\n\n\n# 2.3 NIOæ¨¡å\n\n\n# 2.3.1 NIOç®ä»\n\nç¼å²åºbuf æ¬è´¨æ¯ä¸ä¸ªå­èæ°ç»ï¼ByteBuffï¼ï¼åæ¶æä¾æ°æ®çç»æåè®¿é®ä»¥åç»´æ¤è¯»åä½ç½®ã\n\néé channel channelæ¯å¨åå·¥çã æµæ¯ååçã å¤è·¯å¤ç¨ selector selectorç®åæ¥è¯´å°±æ¯è½®è®­æ³¨åå¨å¶ä¸çchannel,\n\n\n# 2.3.2 NIOæå¡åºåå¾\n\n\n\n\n# 2.4 AIO",normalizedContent:"# 1.1 i/oåºç¡å¥é¨\n\njava1.4ä¹åå¯¹i/oçæ¯æå¹¶ä¸å®åï¼ç»å¼åå¸¦æ¥çé®é¢æï¼\n\n * æ²¡ææ°æ®ç¼å²åºï¼i/oæ§è½å­å¨é®é¢\n * æ²¡æc/c++ä¸­channelçæ¦å¿µï¼åªæè¾å¥è¾åºæµ\n * bioä¼å¯¼è´éä¿¡è¢«é¿æ¶é´é»å¡\n * æ¯æçå­ç¬¦éä¼åï¼ç¡¬ä»¶ç§»æ¤æ§ä¸å¥½\n\n\n# 1.1.1 linuxç½ç»i/oæ¨¡åç®ä»\n\nlinuxä¸­ææçå¤é¨è®¾å¤é½æ¯ä¸ä¸ªæä»¶ï¼socketä¹æ¯ä¸ä¸ªæä»¶ï¼ææä»¶æè¿°ç¬¦ï¼fdï¼æåå®ã unixæä¾5ä¸­i/oæ¨¡åï¼\n\n * bioæ¨¡åï¼å¨è¿ç¨ç©ºé´è°ç¨recvfrom,ç´å°ææ°æ®æè¿åã\n * nioæ¨¡åï¼è½®è®­è°ç¨recvfromã\n * i/oå¤ç¨ï¼linuxæä¾select/pollï¼å¶æ¯æå¤ä¸ªfdçnioï¼ä½æ¯select/pollæ¬èº«æ¯é»å¡çãepolléç¨äºä»¶é©±å¨çæ¹å¼ä»£æ¿é¡ºåºæ«æï¼å¶æ§è½æ´é«ã\n * ä¿¡å·é©±å¨i/oæ¨¡åï¼\n * å¼æ­¥i/o:éç¥åæ ¸æä¸ªæä½ï¼å¹¶æ´ä¸ªæä½å®æçæ¶åéç¥æä»¬ã\n\n\n# i/oå¤è·¯å¤ç¨ææ¯\n\nepollä¼ç¹ï¼\n\n * æ¯æä¸ä¸ªè¿ç¨æå¼çfdä¸åéå¶\n * ioæçä¸ä¼éçfdæ°éå¢å èä¸é\n * ä½¿ç¨mmapå éåæ ¸åç¨æ·ç©ºé´çæ¶æ¯ä¼ é\n * epoll apiæ´å ç®å\n\n\n# 1.2 javaçioæ¼è¿\n\n2011å¹´jdk7åå¸ï¼\n\n * æä¾äºè½æ¹éè·åæä»¶å±æ§çapi\n * æä¾aioåè½\n\n\n# 2.1 ä¼ ç»çbioç¼ç¨\n\nclient/serveræ¨¡åä¸­ï¼serverè´è´£ç»å®ip,å¯å¨çå¬ç«¯å£ï¼clientåèµ·é¾æ¥è¯·æ±ï¼ç»è¿ä¸æ¬¡æ¡æå»ºç«è¿æ¥ï¼éè¿è¾å¥è¾åºæµè¿è¡åæ­¥é»å¡å¼éä¿¡ã\n\n\n# 2.1.1 bioéä¿¡æ¨¡åå¾\n\néè¿acceptorå¤çå¤ä¸ªclientè¿æ¥è¯·æ±ï¼å¤çå®æåéæ¯çº¿ç¨ã è¯¥æ¨¡åçé®é¢å°±æ¯æ¯æççº¿ç¨æ°éæéã\n\n\n# 2.2 ä¼ªå¼æ­¥ioæ¨¡å\n\nä¼ªå¼æ­¥æ¯ä¸ºäºè§£å³bioä¸ä¸ªé¾è·¯éè¦ä¸ä¸ªçº¿ç¨çé®é¢ã éè¿ä¸ä¸ªçº¿ç¨æ± å¤çå¤ä¸ªå®¢æ·ç«¯çè¯·æ±æ¥å¥\n\n * çº¿ç¨çæ°éä¸ä¼å¤§éè¨èå¯¼è´èµæºèå°½\n * é®é¢æ¯ï¼æ²¡æè§£å³åæ­¥ioå¯¼è´ççº¿ç¨é»å¡é®é¢\n\n\n# 2.3 nioæ¨¡å\n\n\n# 2.3.1 nioç®ä»\n\nç¼å²åºbuf æ¬è´¨æ¯ä¸ä¸ªå­èæ°ç»ï¼bytebuffï¼ï¼åæ¶æä¾æ°æ®çç»æåè®¿é®ä»¥åç»´æ¤è¯»åä½ç½®ã\n\néé channel channelæ¯å¨åå·¥çã æµæ¯ååçã å¤è·¯å¤ç¨ selector selectorç®åæ¥è¯´å°±æ¯è½®è®­æ³¨åå¨å¶ä¸çchannel,\n\n\n# 2.3.2 nioæå¡åºåå¾\n\n\n\n\n# 2.4 aio",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"TCPç²åæåé®é¢çè§£å³ä¹é",frontmatter:{title:"TCPç²åæåé®é¢çè§£å³ä¹é",date:"2022-05-21T23:32:33.000Z",permalink:"/pages/3db019/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/010.TCP%E7%B2%98%E5%8C%85%E6%8B%86%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E4%B9%8B%E9%81%93.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/010.TCPç²åæåé®é¢çè§£å³ä¹é.md",key:"v-5acdab4d",path:"/pages/3db019/",headers:[{level:2,title:"4.1 TCPç²å/æå",slug:"_4-1-tcpç²å-æå",normalizedTitle:"4.1 tcpç²å/æå",charIndex:2},{level:3,title:"4.1.1 TCPç²å/æåé®é¢è¯´æ",slug:"_4-1-1-tcpç²å-æåé®é¢è¯´æ",normalizedTitle:"4.1.1 tcpç²å/æåé®é¢è¯´æ",charIndex:19},{level:3,title:"4.1.2 TCPç²å/æååççåå ",slug:"_4-1-2-tcpç²å-æååççåå ",normalizedTitle:"4.1.2 tcpç²å/æååççåå ",charIndex:111},{level:3,title:"4.1.3 TCPç²å/æåé®é¢çè§£å³ç­ç¥",slug:"_4-1-3-tcpç²å-æåé®é¢çè§£å³ç­ç¥",normalizedTitle:"4.1.3 tcpç²å/æåé®é¢çè§£å³ç­ç¥",charIndex:181},{level:2,title:"4.3 Nettyè§£å³tcpç²åé®é¢",slug:"_4-3-nettyè§£å³tcpç²åé®é¢",normalizedTitle:"4.3 nettyè§£å³tcpç²åé®é¢",charIndex:322}],headersStr:"4.1 TCPç²å/æå 4.1.1 TCPç²å/æåé®é¢è¯´æ 4.1.2 TCPç²å/æååççåå  4.1.3 TCPç²å/æåé®é¢çè§£å³ç­ç¥ 4.3 Nettyè§£å³tcpç²åé®é¢",content:"# 4.1 TCPç²å/æå\n\n\n# 4.1.1 TCPç²å/æåé®é¢è¯´æ\n\nTCPåè®®æ¯âæµâåè®®ï¼æµæ¯æ²¡æé´éçãtcpä¼æ ¹æ®ç¼å­å¤§å°å°ä¸å¡ä¸çå¤§åååæå¤ä¸ªå°ååéåºå»ãä¹å¯è½å¤ä¸ªå°ååæä¸ä¸ªå¤§ååéåºå»ã\n\n\n# 4.1.2 TCPç²å/æååççåå \n\n * åºç¨å±ï¼å¤§äºå¥æ¥å­æ¥å£ç¼å²åºå¤§å°\n * TCPå±ï¼MSS\n * IPå±ï¼MTU\n\n\n\n\n# 4.1.3 TCPç²å/æåé®é¢çè§£å³ç­ç¥\n\n * æ¶æ¯å®é¿lenï¼ä¾å¦æ¯ä¸ªæ¥æåºå®200å­èãé£ä¹è¯»åå°å®é¿lenåå°±éç½®è®¡æ°å¨å¼å§è¯»åä¸ä¸ä¸ªåã\n * åå°¾å æ¢è¡ç¬¦åå²ï¼å¦ftpã\n * æ¶æ¯å¤´+æ¶æ¯ä½ãæ¶æ¯å¤´åå«æ¶æ¯é¿åº¦ä¿¡æ¯ã\n * æ´å¤æçåºç¨åè®®ï¼å¦netty.\n\n\n# 4.3 Nettyè§£å³tcpç²åé®é¢\n\n * LineBasedFrameDecoderï¼åçæ¯éåByteBufä¸­å­èï¼ä»¥æ¢è¡ç¬¦åå²\n * StringDecoder:å°æ¥æ¶çbyteå¯¹è±¡è½¬æ¢ä¸ºå­ç¬¦ä¸²ï¼ç¶åè°ç¨åé¢çhandler å¦æåéçæ¶æ¯ä¸æ¯ä»¥æ¢è¡ç¬¦ç»æçï¼nettyä¹æå¶ä»è§£ç å¨æ¯æã",normalizedContent:"# 4.1 tcpç²å/æå\n\n\n# 4.1.1 tcpç²å/æåé®é¢è¯´æ\n\ntcpåè®®æ¯âæµâåè®®ï¼æµæ¯æ²¡æé´éçãtcpä¼æ ¹æ®ç¼å­å¤§å°å°ä¸å¡ä¸çå¤§åååæå¤ä¸ªå°ååéåºå»ãä¹å¯è½å¤ä¸ªå°ååæä¸ä¸ªå¤§ååéåºå»ã\n\n\n# 4.1.2 tcpç²å/æååççåå \n\n * åºç¨å±ï¼å¤§äºå¥æ¥å­æ¥å£ç¼å²åºå¤§å°\n * tcpå±ï¼mss\n * ipå±ï¼mtu\n\n\n\n\n# 4.1.3 tcpç²å/æåé®é¢çè§£å³ç­ç¥\n\n * æ¶æ¯å®é¿lenï¼ä¾å¦æ¯ä¸ªæ¥æåºå®200å­èãé£ä¹è¯»åå°å®é¿lenåå°±éç½®è®¡æ°å¨å¼å§è¯»åä¸ä¸ä¸ªåã\n * åå°¾å æ¢è¡ç¬¦åå²ï¼å¦ftpã\n * æ¶æ¯å¤´+æ¶æ¯ä½ãæ¶æ¯å¤´åå«æ¶æ¯é¿åº¦ä¿¡æ¯ã\n * æ´å¤æçåºç¨åè®®ï¼å¦netty.\n\n\n# 4.3 nettyè§£å³tcpç²åé®é¢\n\n * linebasedframedecoderï¼åçæ¯éåbytebufä¸­å­èï¼ä»¥æ¢è¡ç¬¦åå²\n * stringdecoder:å°æ¥æ¶çbyteå¯¹è±¡è½¬æ¢ä¸ºå­ç¬¦ä¸²ï¼ç¶åè°ç¨åé¢çhandler å¦æåéçæ¶æ¯ä¸æ¯ä»¥æ¢è¡ç¬¦ç»æçï¼nettyä¹æå¶ä»è§£ç å¨æ¯æã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Nettyä¸­æåªäºè§£ç å¨ï¼",frontmatter:{title:"Nettyä¸­æåªäºè§£ç å¨ï¼",date:"2022-05-21T23:33:34.000Z",permalink:"/pages/59089d/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/015.Netty%E4%B8%AD%E6%9C%89%E5%93%AA%E4%BA%9B%E8%A7%A3%E7%A0%81%E5%99%A8%EF%BC%9F.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/015.Nettyä¸­æåªäºè§£ç å¨ï¼.md",key:"v-073f22cd",path:"/pages/59089d/",headers:[{level:2,title:"5.1 DelimiterBasedFrameDecoder",slug:"_5-1-delimiterbasedframedecoder",normalizedTitle:"5.1 delimiterbasedframedecoder",charIndex:2},{level:2,title:"5.2 FixedLengthFrameDecoder",slug:"_5-2-fixedlengthframedecoder",normalizedTitle:"5.2 fixedlengthframedecoder",charIndex:83}],headersStr:"5.1 DelimiterBasedFrameDecoder 5.2 FixedLengthFrameDecoder",content:"# 5.1 DelimiterBasedFrameDecoder\n\næ¯æä»»æå­ç¬¦ä¸ºåéç¬¦ æ¯æè®¾ç½®åæ¡æ¶æ¯æå¤§é¿åº¦ï¼å¦ææ¾äºæå¤§é¿åº¦è¿æ²¡æ¾å°åéç¬¦å°±æåºå¼å¸¸\n\n\n# 5.2 FixedLengthFrameDecoder\n\nä½¿ç¨ç®åï¼æå®åé¿æ¸¡å°±okã",normalizedContent:"# 5.1 delimiterbasedframedecoder\n\næ¯æä»»æå­ç¬¦ä¸ºåéç¬¦ æ¯æè®¾ç½®åæ¡æ¶æ¯æå¤§é¿åº¦ï¼å¦ææ¾äºæå¤§é¿åº¦è¿æ²¡æ¾å°åéç¬¦å°±æåºå¼å¸¸\n\n\n# 5.2 fixedlengthframedecoder\n\nä½¿ç¨ç®åï¼æå®åé¿æ¸¡å°±okã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ChannelPipelineåChannelHandler",frontmatter:{title:"ChannelPipelineåChannelHandler",date:"2022-05-21T23:36:46.000Z",permalink:"/pages/f851b6/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/030.ChannelPipeline%E5%92%8CChannelHandler.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/030.ChannelPipelineåChannelHandler.md",key:"v-5157927c",path:"/pages/f851b6/",headers:[{level:2,title:"ChannelPipelineåChannelHandler",slug:"channelpipelineåchannelhandler",normalizedTitle:"channelpipelineåchannelhandler",charIndex:2},{level:2,title:"17.1 ChannelPipelineçåè½è¯´æ",slug:"_17-1-channelpipelineçåè½è¯´æ",normalizedTitle:"17.1 channelpipelineçåè½è¯´æ",charIndex:170},{level:2,title:"17.1 ChannelPipelineæºç ",slug:"_17-1-channelpipelineæºç ",normalizedTitle:"17.1 channelpipelineæºç ",charIndex:641}],headersStr:"ChannelPipelineåChannelHandler 17.1 ChannelPipelineçåè½è¯´æ 17.1 ChannelPipelineæºç ",content:"# ChannelPipelineåChannelHandler\n\nChannelPipelineæ¯å¯¹Channelçå°è£ï¼ChannelPipelineæææ¶é´æ¦æªå¨ChannelHandlerçé¾è¡¨ï¼ç±ChannelHandlerå¯¹I/Oäºä»¶æ¦æªåå¤çï¼å¯ä»¥éè¿æ°å¢åå é¤ChannelHandleræ¥å®ç°ä¸åä¸å¡çé»è¾å®å¶ã\n\n\n# 17.1 ChannelPipelineçåè½è¯´æ\n\nChannelPipelineæ¯ChannelHandlerçå®¹å¨ï¼è´è´£ChannelHandlerçç®¡çåäºä»¶æ¦æª 17.1.1 ChannelPipelineçäºä»¶å¤ç Nettyä¸­çäºä»¶åä¸ºinboundåoutboundäºä»¶ inboundäºä»¶éå¸¸ç±IOçº¿ç¨è§¦åï¼å¦tcpè¿æ¥å»ºç«ãæ­å¼ãå¼å¸¸éç¥ç­ outboundäºä»¶éå¸¸æ¯ç±ç¨æ·ä¸»å¨åèµ·çç½ç»IOæä½ï¼å¦ç¨æ·åèµ·çç»å®æ¬å°å°åï¼åéæ¶æ¯ç­ 17.1.2 èªå®ä¹æ¦æªå¨ éå¸¸ChannelHandleråªéè¦ç»§æ¿ChannelHandlerAdapterç±»è¦çèªå·±å³å¿çæ¹æ³å³å¯ã 17.1.3 ChannelPipelineçä¸»è¦ç¹æ§ ChannelPipelineæ¯æå¨ææ·»å æèå é¤ChannelHandlerãä½¿ç¨åºæ¯ï¼ä¸å¡é«å³°æå å¥æ¥å¡ä¿æ¤ChannelHandlerï¼é«å³°è¿åå æChannelHandlerï¼ã ChannelPipelineæ¯çº¿ç¨å®å¨çï¼ä½æ¯ChannelHandlerä¸æ¯çº¿ç¨å®å¨çã\n\n\n# 17.1 ChannelPipelineæºç \n\nå®éä¸æ¯ChannelHandler çå®¹å¨ï¼åé¨ç»´æ¤äºä¸ä¸ªChannelHandleré¾è¡¨åè¿­ä»£å¨ã",normalizedContent:"# channelpipelineåchannelhandler\n\nchannelpipelineæ¯å¯¹channelçå°è£ï¼channelpipelineæææ¶é´æ¦æªå¨channelhandlerçé¾è¡¨ï¼ç±channelhandlerå¯¹i/oäºä»¶æ¦æªåå¤çï¼å¯ä»¥éè¿æ°å¢åå é¤channelhandleræ¥å®ç°ä¸åä¸å¡çé»è¾å®å¶ã\n\n\n# 17.1 channelpipelineçåè½è¯´æ\n\nchannelpipelineæ¯channelhandlerçå®¹å¨ï¼è´è´£channelhandlerçç®¡çåäºä»¶æ¦æª 17.1.1 channelpipelineçäºä»¶å¤ç nettyä¸­çäºä»¶åä¸ºinboundåoutboundäºä»¶ inboundäºä»¶éå¸¸ç±ioçº¿ç¨è§¦åï¼å¦tcpè¿æ¥å»ºç«ãæ­å¼ãå¼å¸¸éç¥ç­ outboundäºä»¶éå¸¸æ¯ç±ç¨æ·ä¸»å¨åèµ·çç½ç»ioæä½ï¼å¦ç¨æ·åèµ·çç»å®æ¬å°å°åï¼åéæ¶æ¯ç­ 17.1.2 èªå®ä¹æ¦æªå¨ éå¸¸channelhandleråªéè¦ç»§æ¿channelhandleradapterç±»è¦çèªå·±å³å¿çæ¹æ³å³å¯ã 17.1.3 channelpipelineçä¸»è¦ç¹æ§ channelpipelineæ¯æå¨ææ·»å æèå é¤channelhandlerãä½¿ç¨åºæ¯ï¼ä¸å¡é«å³°æå å¥æ¥å¡ä¿æ¤channelhandlerï¼é«å³°è¿åå æchannelhandlerï¼ã channelpipelineæ¯çº¿ç¨å®å¨çï¼ä½æ¯channelhandlerä¸æ¯çº¿ç¨å®å¨çã\n\n\n# 17.1 channelpipelineæºç \n\nå®éä¸æ¯channelhandler çå®¹å¨ï¼åé¨ç»´æ¤äºä¸ä¸ªchannelhandleré¾è¡¨åè¿­ä»£å¨ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"EventLoopåEventLoopGroup",frontmatter:{title:"EventLoopåEventLoopGroup",date:"2022-05-21T23:37:23.000Z",permalink:"/pages/e7aa60/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/040.EventLoop%E5%92%8CEventLoopGroup.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/040.EventLoopåEventLoopGroup.md",key:"v-62f3fa3e",path:"/pages/e7aa60/",headers:[{level:2,title:"EventLoopåEventLoopGroup",slug:"eventloopåeventloopgroup",normalizedTitle:"eventloopåeventloopgroup",charIndex:2}],headersStr:"EventLoopåEventLoopGroup",content:"# EventLoopåEventLoopGroup\n\nEventLoopè´è´£å¤çè¿æ¥ä¸­çäºä»¶ï¼ åEvenvLoopæå³çå ä¸ªæ¦å¿µæ¯ï¼Channel, EventLoopGroupã\n\n * ä¸ä¸ªEventLoopGroupåå«ä¸ä¸ªæå¤ä¸ªEventLoopã\n * ä¸ä¸ªEventLoopå¯¹åºäºä¸ä¸ªçº¿ç¨ï¼ææEventLoopå¤ççI/Oäºä»¶é½å¨è¿ä¸ªçº¿ç¨ä¸­å®æã\n * ä¸ä¸ªChannelå¯¹åºå¯ä¸ä¸ªä¸ä¸ªEventLoopã\n * ä¸ä¸ªEventLoopå¯ä»¥å¯¹åºå¤ä¸ªChannelã\n\nå¯¹äºåºäºNettyçç½ç»æå¡ï¼Clientç«¯å¯å¨éè¦ä¸ä¸ªEventLoopGroupï¼ Serverç«¯å¯å¨éè¦ä¸¤ä¸ªEventLoopGroup, å ä¸ºServerç«¯éè¦ä¸¤ç§Channel, ä¸ç§æ¯ServerChannel, åªæä¸ä¸ªï¼è´è´£æ¥åè¿æ¥ï¼å¦ä¸ç§æ¯ç¨äºå¤çè¿æ¥çä¸ç»Channelã\n\nEventLoopç»§æ¿äºconcurrentåéç ScheduledExecutorServiceï¼è¿ä½¿å¾å®å¯ä»¥æ¥åCallableæèRunnableå¹¶æ§è¡ãEventLoopä¸­çparent()æ¹æ³è¿ååå«è¿ä¸ªEventLoopçEventLoopGroup",normalizedContent:"# eventloopåeventloopgroup\n\neventloopè´è´£å¤çè¿æ¥ä¸­çäºä»¶ï¼ åevenvloopæå³çå ä¸ªæ¦å¿µæ¯ï¼channel, eventloopgroupã\n\n * ä¸ä¸ªeventloopgroupåå«ä¸ä¸ªæå¤ä¸ªeventloopã\n * ä¸ä¸ªeventloopå¯¹åºäºä¸ä¸ªçº¿ç¨ï¼ææeventloopå¤ççi/oäºä»¶é½å¨è¿ä¸ªçº¿ç¨ä¸­å®æã\n * ä¸ä¸ªchannelå¯¹åºå¯ä¸ä¸ªä¸ä¸ªeventloopã\n * ä¸ä¸ªeventloopå¯ä»¥å¯¹åºå¤ä¸ªchannelã\n\nå¯¹äºåºäºnettyçç½ç»æå¡ï¼clientç«¯å¯å¨éè¦ä¸ä¸ªeventloopgroupï¼ serverç«¯å¯å¨éè¦ä¸¤ä¸ªeventloopgroup, å ä¸ºserverç«¯éè¦ä¸¤ç§channel, ä¸ç§æ¯serverchannel, åªæä¸ä¸ªï¼è´è´£æ¥åè¿æ¥ï¼å¦ä¸ç§æ¯ç¨äºå¤çè¿æ¥çä¸ç»channelã\n\neventloopç»§æ¿äºconcurrentåéç scheduledexecutorserviceï¼è¿ä½¿å¾å®å¯ä»¥æ¥åcallableæèrunnableå¹¶æ§è¡ãeventloopä¸­çparent()æ¹æ³è¿ååå«è¿ä¸ªeventloopçeventloopgroup",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ä¸ºä»ä¹Nettyè¦èªå·±åä¸ä¸ªByteBuf",frontmatter:{title:"ä¸ºä»ä¹Nettyè¦èªå·±åä¸ä¸ªByteBuf",date:"2022-05-21T23:35:32.000Z",permalink:"/pages/ef17ee/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/020.%E4%B8%BA%E4%BB%80%E4%B9%88Netty%E8%A6%81%E8%87%AA%E5%B7%B1%E5%86%99%E4%B8%80%E4%B8%AAByteBuf.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/020.ä¸ºä»ä¹Nettyè¦èªå·±åä¸ä¸ªByteBuf.md",key:"v-bbcf6e5a",path:"/pages/ef17ee/",headers:[{level:2,title:"15.2 ByteBufæºç åæ",slug:"_15-2-bytebufæºç åæ",normalizedTitle:"15.2 bytebufæºç åæ",charIndex:2},{level:2,title:"15.3 ByteBufferç¸å³è¾å©ç±»",slug:"_15-3-bytebufferç¸å³è¾å©ç±»",normalizedTitle:"15.3 bytebufferç¸å³è¾å©ç±»",charIndex:8055}],headersStr:"15.2 ByteBufæºç åæ 15.3 ByteBufferç¸å³è¾å©ç±»",content:'# 15.2 ByteBufæºç åæ\n\nç»§æ¿å³ç³» ä»åå­åéçè§åº¦çï¼byteBufåä¸ºä¸¤ç±»ï¼\n\n * å åå­ç¼å²åºï¼ä¼ç¹æ¯åå­çåéååæ¶å¿«ãç¼ºç¹æ¯è¿è¡IOè¯»åæ¶éè¦ä¸æ¬¡åå­å¤å¶ï¼ç¨æ·ç©ºé´ååæ ¸ç©ºé´çå¤å¶ã\n * ç´æ¥åå­ç¼å²åºï¼ä¼ç¼ºç¹åå åå­ç¼å²åºæ´å¥½ç¸åã ç»éªè¡¨æByteBufçæä½³å®è·µæ¯å¨IOéä¿¡çº¿ç¨çè¯»åç¼å²åºä½¿ç¨DirectByteBuf,åç«¯ä¸å¡çç¼è§£ç æ¨¡åä½¿ç¨HeapByteBufï¼è¿æ ·çç»åå¯ä»¥è¾¾å°æ§è½æä¼ã ä»åå­åæ¶çè§åº¦çãByteBufåä¸¤ç±»ï¼åºäºå¯¹è±¡æ± çByteBufåæ®éByteBufãä½¿ç¨åå­æ± åçNettyå¨é«å¹¶ååé«è´è½½ç¯å¢ä¸åå­åGCæ´å å¹³ç¨³ã 15.2.1 AbstractByteBufæºç åæ å®ç°ByteBufçä¸äºå¬å±å±æ§ååè½ã ä¸»è¦æååé\n\n    static final ResourceLeakDetector<ByteBuf> leakDetector =\n            ResourceLeakDetectorFactory.instance().newResourceLeakDetector(ByteBuf.class);//ç¨äºå¯¹è±¡æ¯å¦æ³æ¼ï¼å®ä¹ä¸ºstaticï¼æå³çææbyteBufå±äº«\n\n    int readerIndex;//è¯»ç´¢å¼\n    int writerIndex;//åç´¢å¼\n    private int markedReaderIndex;//è¯»mark\n    private int markedWriterIndex;//åmark\n    private int maxCapacity;//æå¤§å®¹é\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nByteæ°ç»ä¸å¨è¿éï¼å ä¸ºAbstractByteBufæ æ³ç¡®å®ä½¿ç¨ç´æ¥åå­è¿æ¯å åå­ã readBytes(ByteBuf dst, int dstIndex, int length)\n\npublic ByteBuf readBytes(ByteBuf dst, int dstIndex, int length) {\n       checkReadableBytes(length);//æ ¡éªå¯è¯»æ§\n       getBytes(readerIndex, dst, dstIndex, length);//è¯»åãä»readerIndexå¼å§è¯»ålengthä¸ªå­èå°ç®æ æ°ç»ä¸­\n       readerIndex += length;//ç§»å¨è¯»æé\n       return this;\n   }\n\n\n1\n2\n3\n4\n5\n6\n\n\nåçä¸ä¸checkReadableBytes():\n\n/**\n     * Throws an {@link IndexOutOfBoundsException} if the current\n     * {@linkplain #readableBytes() readable bytes} of this buffer is less\n     * than the specified value.\n     */\n    protected final void checkReadableBytes(int minimumReadableBytes) {\n        if (minimumReadableBytes < 0) {\n            throw new IllegalArgumentException("minimumReadableBytes: " + minimumReadableBytes + " (expected: >= 0)");\n        }\n        checkReadableBytes0(minimumReadableBytes);\n    }\n    \nprivate void checkReadableBytes0(int minimumReadableBytes) {\n        ensureAccessible();\n        if (readerIndex > writerIndex - minimumReadableBytes) {\n            throw new IndexOutOfBoundsException(String.format(\n                    "readerIndex(%d) + length(%d) exceeds writerIndex(%d): %s",\n                    readerIndex, minimumReadableBytes, writerIndex, this));\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nwriteBytes(byte[] src, int srcIndex, int length)\n\npublic ByteBuf writeBytes(byte[] src, int srcIndex, int length) {\n        ensureWritable(length);//å¯åæ ¡éªåæ©å®¹\n        setBytes(writerIndex, src, srcIndex, length);//ä»writerIndexå¼å§ålengthé¿åº¦\n        writerIndex += length;//ç§»å¨åæé\n        return this;\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\nensureWritable(int minWritableBytes)\n\npublic ByteBuf ensureWritable(int minWritableBytes) {\n        if (minWritableBytes < 0) {\n            throw new IllegalArgumentException(String.format(\n                    "minWritableBytes: %d (expected: >= 0)", minWritableBytes));\n        }\n        ensureWritable0(minWritableBytes);\n        return this;\n    }\n    \nfinal void ensureWritable0(int minWritableBytes) {\n        ensureAccessible();//æ£æ¥è¿ä¸ªbufæ¯å¦è¿æå¼ç¨ï¼å¦æå·²ç»æ²¡æå¼ç¨é£å°±æ²¡å¿è¦å¨åäºï¼\n        if (minWritableBytes <= writableBytes()) {//åå¥çå­èå°äºå¯åå­èï¼æ ¡éªéè¿\n            return;\n        }\n\n        if (minWritableBytes > maxCapacity - writerIndex) {//åå¥çå­èå¤§äºæå¤§å¯åå¥å­èï¼æå¼å¸¸\n            throw new IndexOutOfBoundsException(String.format(\n                    "writerIndex(%d) + minWritableBytes(%d) exceeds maxCapacity(%d): %s",\n                    writerIndex, minWritableBytes, maxCapacity, this));\n        }\n\n        // Normalize the current capacity to the power of 2.\n        int newCapacity = alloc().calculateNewCapacity(writerIndex + minWritableBytes, maxCapacity);\n\n        // Adjust to the new capacity.\n        capacity(newCapacity);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\néç¨ç¼å²åº\n\npublic ByteBuf discardReadBytes() {\n        ensureAccessible();\n        if (readerIndex == 0) {\n            return this;\n        }\n\n        if (readerIndex != writerIndex) {\n            setBytes(0, this, readerIndex, writerIndex - readerIndex);//å¤å¶ç¼å²åº\n            writerIndex -= readerIndex;//éç½®åæé\n            adjustMarkers(readerIndex);//è°æ´markæé\n            readerIndex = 0;//éç½®è¯»æé\n        } else {\n            adjustMarkers(readerIndex);\n            writerIndex = readerIndex = 0;\n        }\n        return this;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n15.2.2 AbstractReferenceCountedByteBufæºç åæ\n\npublic abstract class AbstractReferenceCountedByteBuf extends AbstractByteBuf {\n\n    private static final AtomicIntegerFieldUpdater<AbstractReferenceCountedByteBuf> refCntUpdater =\n            AtomicIntegerFieldUpdater.newUpdater(AbstractReferenceCountedByteBuf.class, "refCnt");//éè¿åå­çæ¹å¼å¯¹æååéè¿è¡æ´æ°ï¼æ¶é¤é\n\n    private volatile int refCnt;//è·è¸ªå¯¹è±¡çå¼ç¨æ¬¡æ°ï¼éç¨CASå¯¹å¶èªå¢1ï¼é»è®¤å¼ä¸º1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n15.2.2 UnPooledHeapByteBufæºç åæ éæ± åçåºäºå åå­ï¼é¢ç¹çå¤§ååå­åéååæ¶ä¼å¯¹æ§è½é æå½±åï¼ä½æ¯ç¸æ¯å¯¹å¤åå­çç³è¯·åéæ¾ï¼ææ¬è¿æ¯ä½ä¸äºã ç¸æ¯HeapByteBufï¼ UnPooledHeapByteBufçå®ç°æ´å å åï¼ä¹ä¸å®¹æåºç°åå­ç®¡çæ¹é¢çé®é¢ï¼å æ­¤å¨æ»¡è¶³æ§è½çæ¡ä»¶ä¸ï¼æ¨èä½¿ç¨UnPooledHeapByteBufã\n\npublic class UnpooledHeapByteBuf extends AbstractReferenceCountedByteBuf {\nprivate final ByteBufAllocator alloc;\n    byte[] array;//è¿éç´æ¥ä½¿ç¨JDKçByteBufferä¹å¯ä»¥ï¼ä¹æä»¥ä½¿ç¨Byteæ°ç»æ¯å ä¸ºæ§è½åä¾¿æ·çä½æä½\n    private ByteBuffer tmpNioBuf;//ç¨äºå®ç°å°nettyçbyteBufè½¬æ¢ä¸ºJDKçByteBuffer\n }\n\n\n1\n2\n3\n4\n5\n\n\nè½¬æ¢JDK Buffer nettyåºäºbyteæ°ç»å®ç° jdkçnio bufæä¾wrapæ¹æ³ï¼å¯ç´æ¥å®ç° è½¬æ¢ çä¸è½¬æ¢æ¹æ³\n\npublic ByteBuffer nioBuffer(int index, int length) {\n        ensureAccessible();\n        return ByteBuffer.wrap(array, index, length).slice();\n    }\npublic ByteBuffer slice() {\n        return new HeapByteBuffer(hb,//ä»ç¶ä½¿ç¨çæ¯åbufferçå¨å±æ°ç»ï¼åªæ¯æ¹åäºpositionålimitçä½ç½®ï¼æä»¥æ°bufååbufåå®¹æ¯ç¸äºå½±åç\n                                        -1,\n                                        0,\n                                        this.remaining(),\n                                        this.remaining(),\n                                        this.position() + offset);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nsliceæ¹æ³çä½ç¨ï¼copy positionå°limitä¹é´çåå®¹ï¼ 15.2.3 pooledByteBufåå­æ± åçåæ PoolArenaæ¯nettyçåå­æ± æ¾ç°ç±»ã ä¸ºäºéä¸­ç®¡çåå­ï¼æä¾åå­ç³è¯·æ¯éæ¾çæçï¼å¾å¤æ¡æ¶ä¼ç³è¯·ä¸å¤§ååå­ï¼æä¾ç¸åºçæ¥å£åéåéæ¾åå­ï¼è¿æ ·å°±ä¸åé¢ç¹çä½¿ç¨ç³»ç»è°ç¨æ¥ä½¿ç¨åå­ï¼å¯ä»¥æé«æ§è½ãé¢åç³è¯·çé£ååå­å°±å«Memory ArenaãPoolArenaæ¯nettyå¯¹Memory Arenaçå®ç°ã NettyçPoolArenaç±å¤ä¸ªchunkç»æï¼æ¯ä¸ªchunkç±å¤ä¸ªPageç»æã PoolArenaæºç ï¼\n\nabstract class PoolArena<T> implements PoolArenaMetric {\n    static final boolean HAS_UNSAFE = PlatformDependent.hasUnsafe();\n\n    enum SizeClass {\n        Tiny,\n        Small,\n        Normal\n    }\n\n    static final int numTinySubpagePools = 512 >>> 4;\n\n    final PooledByteBufAllocator parent;\n\n    private final int maxOrder;\n    final int pageSize;\n    final int pageShifts;\n    final int chunkSize;\n    final int subpageOverflowMask;\n    final int numSmallSubpagePools;\n    final int directMemoryCacheAlignment;\n    final int directMemoryCacheAlignmentMask;\n    private final PoolSubpage<T>[] tinySubpagePools;\n    private final PoolSubpage<T>[] smallSubpagePools;\n\n    private final PoolChunkList<T> q050;\n    private final PoolChunkList<T> q025;\n    private final PoolChunkList<T> q000;\n    private final PoolChunkList<T> qInit;\n    private final PoolChunkList<T> q075;\n    private final PoolChunkList<T> q100;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nPoolChunkçå®ç° PoolChunkè´è´£å¤ä¸ªPageçåå­ç®¡çï¼PoolChunkå°å¶è´è´£çå¤ä¸ªPageæå»ºæä¸æ£µäºåæ ã åè®¾ä¸ä¸ªchunkç±16ä¸ªpageç»æï¼åå¶ç»ç»å½¢å¼ï¼ Pageå¤§å°æ¯4å­èï¼chunkå¤§å°æ¯64å­èã æ¯ä¸ªèç¹é½è®°å½èªå·±å¨æ´ä¸ªMemory Arenaä¸­çåç§»å°åï¼ä¸æ¦è¢«åéï¼åè¯¥èç¹åå¶å­èç¹å¨æ¥ä¸æ¥çåå­åéè¿ç¨ä¸­ä¼è¢«å¿½ç¥ã ä¸¾ä¾æ¥è¯´ï¼æä»¬ç³è¯·16ä¸ªå­èç©ºé´ï¼åç¬¬ä¸å±çæä¸ªèç¹ä¼è¢«æ è®°ä¸ºå·²åéï¼ååæ¬¡åéåå­çæ¶åä¼ä»å¶ä»ä¸ä¸ªèç¹ä¸­åéã åéåå­æ¶å¯¹æ éç¨æ·±åº¦ä¼åç®æ³ï¼ä½æ¯ä»åªæ£µå­æ å¼å§æ·±åº¦éåæ¯éæºçã PoolSubPageçå®ç° ç³è¯·åå­å°äºä¸ä¸ªpageï¼ååå­åéå¨pageä¸­å®æï¼æ¯ä¸ªpageä¼è¢«åä¸ºå¤§å°ç¸ç­çå¤ä¸ªåã è¢«åçåä½åå¤§å°ç­äºç¬¬ä¸æ¬¡ç³è¯·çåå­å¤§å°ï¼ä¾å¦ä¸ä¸ªPage8å­èï¼ç¬¬ä¸æ¬¡ç³è¯·2å­èï¼åè¯¥pageè¢«ååæ4åï¼æ¯å2å­èãèä¸è¿ä¸ªpageä»¥ååªè½ç¨äºåé2å­èçåå­ç³è¯·ï¼å¦æåæ¥ä¸ä¸ª4å­èçåå­ç³è¯·ï¼åªè½å¨å¦ä¸ä¸ªPageä¸­ç³è¯·ã Pageä½¿ç¨æ è¯ä½æ¥è¡¨ç¤ºåå­åæ¯å¦å¯ç¨ãç»´æ¤ä¸ä¸ªlongæ°ç»ï¼æ¯ä¸ªä½è¡¨ç¤ºä¸ä¸ªåçä½¿ç¨æåµã ä¾å¦pageä¸º128å­èï¼ç¬¬ä¸æ¬¡ç³è¯·åå­ä¸º1å­èï¼åè¯¥pageè¢«åä¸º128åï¼ålongæ°ç»ä¸­æ2ä¸ªåç´ ï¼ï¼æ¯ä¸ªlong64ä½ï¼ä¸¤ä¸ªlongå¯ä»¥è¡¨ç¤º128ä½ï¼ã0ã1è¡¨ç¤ºè¯¥åæ¯å¦å¯ç¨ã 15.2.4 PooledDirectByteBufåå­æ± åçåæ åå»ºå­èç¼å²åº ç±äºéç¨åå­æ± å®ç°ï¼æä»¥åå»ºPooledDirectByteBufå¯¹è±¡ä¸è½newä¸ä¸ªå®ä¾ï¼èæ¯ä»åå­æ± è·åãç¶åè®¾ç½®å¼ç¨è®¡æ°å¨ã\n\nstatic PooledDirectByteBuf newInstance(int maxCapacity) {\n        PooledDirectByteBuf buf = RECYCLER.get();\n        buf.reuse(maxCapacity);\n        return buf;\n    }\nfinal void reuse(int maxCapacity) {\n        maxCapacity(maxCapacity);\n        setRefCnt(1);\n        setIndex0(0, 0);\n        discardMarks();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¤å¶å­èç¼å²åº ä¼ä»åå­æ± ä¸­è·åä¸ä¸ªæ°çbufferèä¸æ¯newä¸ä¸ªã\n\n\n# 15.3 ByteBufferç¸å³è¾å©ç±»\n\n15.3.1 ByteBufHolder å¯¹æ¶æ¯ä½è¿è¡åè£åæ½è±¡ï¼ä¸åçå­ç±»æä¸åçå®ç°ã å®ç°ByteBufHolderçå­ç±»å¯ä»¥èªå·±å®ç°ä¸äºå®ç¨çæ¹æ³ã Nettyä¹æä¸äºå­ç±»ç»§æ¿èªByteBufHolderã 15.3.2 ByteBufAllocator å­èç¼å²åºåéå¨ï¼å¶å®ç°ç±»æä¸¤ç§ï¼åºäºæ± çåæ®éçã å¶API: 15.3.3 CompositeByteBuf åè®¸å°å¤ä¸ªByteBufç»è£å°ä¸èµ·ã ä½¿ç¨åºæ¯ï¼å¦æåè®®åå«æ¶æ¯å¤´åæ¶æ¯ä½ï¼å½å¯¹æ¶æ¯è¿è¡ç¼ç çæ¶åéè¦è¿è¡æ´åã è¿ç§åºæ¯æä¸¤ç§å®ç°æ¹å¼ï¼\n\n * å°ä¸ä¸ªbufå¤å¶å°å¦ä¸ä¸ªbufãæèåå»ºä¸ä¸ªæ°çbufå°ä¸¤ä¸ªbufé½æ¾å°æ°çbufã\n * éè¿Listæå¶ä»éåå®¹å¨ï¼å°ä¸¤ä¸ªbufé½æ¾å¥å®¹å¨ç»ä¸ç»´æ¤åå¤çã\n\nçä¸æºç ï¼\n\npublic class CompositeByteBuf extends AbstractReferenceCountedByteBuf implements Iterable<ByteBuf> {\n\n   private static final ByteBuffer EMPTY_NIO_BUFFER = Unpooled.EMPTY_BUFFER.nioBuffer();\n   private static final Iterator<ByteBuf> EMPTY_ITERATOR = Collections.<ByteBuf>emptyList().iterator();\n\n   private final ByteBufAllocator alloc;\n   private final boolean direct;\n   private final ComponentList components;//ç»´æ¤bufçå®¹å¨\n   private final int maxNumComponents;\n\n   private boolean freed;\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåçä¸ComponentListï¼\n\nprivate static final class ComponentList extends ArrayList<Component> {\n\n        ComponentList(int initialCapacity) {\n            super(initialCapacity);\n        }\n\n        // Expose this methods so we not need to create a new subList just to remove a range of elements.\n        @Override\n        public void removeRange(int fromIndex, int toIndex) {\n            super.removeRange(fromIndex, toIndex);\n        }\n    }\n\nprivate static final class Component {\n        final ByteBuf buf;\n        final int length;\n        int offset;//å¨éåä¸­çä½ç½®åç§»\n        int endOffset;\n\n        Component(ByteBuf buf) {\n            this.buf = buf;\n            length = buf.readableBytes();\n        }\n\n        void freeIfNecessary() {\n            buf.release(); // We should not get a NPE here. If so, it must be a bug.\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n15.3.4 ByteBufUtil å ä¸ªå¸¸ç¨çå·¥å·æ¹æ³ï¼\n\n * encodeString\n * decodeString\n * hexDump',normalizedContent:'# 15.2 bytebufæºç åæ\n\nç»§æ¿å³ç³» ä»åå­åéçè§åº¦çï¼bytebufåä¸ºä¸¤ç±»ï¼\n\n * å åå­ç¼å²åºï¼ä¼ç¹æ¯åå­çåéååæ¶å¿«ãç¼ºç¹æ¯è¿è¡ioè¯»åæ¶éè¦ä¸æ¬¡åå­å¤å¶ï¼ç¨æ·ç©ºé´ååæ ¸ç©ºé´çå¤å¶ã\n * ç´æ¥åå­ç¼å²åºï¼ä¼ç¼ºç¹åå åå­ç¼å²åºæ´å¥½ç¸åã ç»éªè¡¨æbytebufçæä½³å®è·µæ¯å¨ioéä¿¡çº¿ç¨çè¯»åç¼å²åºä½¿ç¨directbytebuf,åç«¯ä¸å¡çç¼è§£ç æ¨¡åä½¿ç¨heapbytebufï¼è¿æ ·çç»åå¯ä»¥è¾¾å°æ§è½æä¼ã ä»åå­åæ¶çè§åº¦çãbytebufåä¸¤ç±»ï¼åºäºå¯¹è±¡æ± çbytebufåæ®ébytebufãä½¿ç¨åå­æ± åçnettyå¨é«å¹¶ååé«è´è½½ç¯å¢ä¸åå­ågcæ´å å¹³ç¨³ã 15.2.1 abstractbytebufæºç åæ å®ç°bytebufçä¸äºå¬å±å±æ§ååè½ã ä¸»è¦æååé\n\n    static final resourceleakdetector<bytebuf> leakdetector =\n            resourceleakdetectorfactory.instance().newresourceleakdetector(bytebuf.class);//ç¨äºå¯¹è±¡æ¯å¦æ³æ¼ï¼å®ä¹ä¸ºstaticï¼æå³çææbytebufå±äº«\n\n    int readerindex;//è¯»ç´¢å¼\n    int writerindex;//åç´¢å¼\n    private int markedreaderindex;//è¯»mark\n    private int markedwriterindex;//åmark\n    private int maxcapacity;//æå¤§å®¹é\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nbyteæ°ç»ä¸å¨è¿éï¼å ä¸ºabstractbytebufæ æ³ç¡®å®ä½¿ç¨ç´æ¥åå­è¿æ¯å åå­ã readbytes(bytebuf dst, int dstindex, int length)\n\npublic bytebuf readbytes(bytebuf dst, int dstindex, int length) {\n       checkreadablebytes(length);//æ ¡éªå¯è¯»æ§\n       getbytes(readerindex, dst, dstindex, length);//è¯»åãä»readerindexå¼å§è¯»ålengthä¸ªå­èå°ç®æ æ°ç»ä¸­\n       readerindex += length;//ç§»å¨è¯»æé\n       return this;\n   }\n\n\n1\n2\n3\n4\n5\n6\n\n\nåçä¸ä¸checkreadablebytes():\n\n/**\n     * throws an {@link indexoutofboundsexception} if the current\n     * {@linkplain #readablebytes() readable bytes} of this buffer is less\n     * than the specified value.\n     */\n    protected final void checkreadablebytes(int minimumreadablebytes) {\n        if (minimumreadablebytes < 0) {\n            throw new illegalargumentexception("minimumreadablebytes: " + minimumreadablebytes + " (expected: >= 0)");\n        }\n        checkreadablebytes0(minimumreadablebytes);\n    }\n    \nprivate void checkreadablebytes0(int minimumreadablebytes) {\n        ensureaccessible();\n        if (readerindex > writerindex - minimumreadablebytes) {\n            throw new indexoutofboundsexception(string.format(\n                    "readerindex(%d) + length(%d) exceeds writerindex(%d): %s",\n                    readerindex, minimumreadablebytes, writerindex, this));\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nwritebytes(byte[] src, int srcindex, int length)\n\npublic bytebuf writebytes(byte[] src, int srcindex, int length) {\n        ensurewritable(length);//å¯åæ ¡éªåæ©å®¹\n        setbytes(writerindex, src, srcindex, length);//ä»writerindexå¼å§ålengthé¿åº¦\n        writerindex += length;//ç§»å¨åæé\n        return this;\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\nensurewritable(int minwritablebytes)\n\npublic bytebuf ensurewritable(int minwritablebytes) {\n        if (minwritablebytes < 0) {\n            throw new illegalargumentexception(string.format(\n                    "minwritablebytes: %d (expected: >= 0)", minwritablebytes));\n        }\n        ensurewritable0(minwritablebytes);\n        return this;\n    }\n    \nfinal void ensurewritable0(int minwritablebytes) {\n        ensureaccessible();//æ£æ¥è¿ä¸ªbufæ¯å¦è¿æå¼ç¨ï¼å¦æå·²ç»æ²¡æå¼ç¨é£å°±æ²¡å¿è¦å¨åäºï¼\n        if (minwritablebytes <= writablebytes()) {//åå¥çå­èå°äºå¯åå­èï¼æ ¡éªéè¿\n            return;\n        }\n\n        if (minwritablebytes > maxcapacity - writerindex) {//åå¥çå­èå¤§äºæå¤§å¯åå¥å­èï¼æå¼å¸¸\n            throw new indexoutofboundsexception(string.format(\n                    "writerindex(%d) + minwritablebytes(%d) exceeds maxcapacity(%d): %s",\n                    writerindex, minwritablebytes, maxcapacity, this));\n        }\n\n        // normalize the current capacity to the power of 2.\n        int newcapacity = alloc().calculatenewcapacity(writerindex + minwritablebytes, maxcapacity);\n\n        // adjust to the new capacity.\n        capacity(newcapacity);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\néç¨ç¼å²åº\n\npublic bytebuf discardreadbytes() {\n        ensureaccessible();\n        if (readerindex == 0) {\n            return this;\n        }\n\n        if (readerindex != writerindex) {\n            setbytes(0, this, readerindex, writerindex - readerindex);//å¤å¶ç¼å²åº\n            writerindex -= readerindex;//éç½®åæé\n            adjustmarkers(readerindex);//è°æ´markæé\n            readerindex = 0;//éç½®è¯»æé\n        } else {\n            adjustmarkers(readerindex);\n            writerindex = readerindex = 0;\n        }\n        return this;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n15.2.2 abstractreferencecountedbytebufæºç åæ\n\npublic abstract class abstractreferencecountedbytebuf extends abstractbytebuf {\n\n    private static final atomicintegerfieldupdater<abstractreferencecountedbytebuf> refcntupdater =\n            atomicintegerfieldupdater.newupdater(abstractreferencecountedbytebuf.class, "refcnt");//éè¿åå­çæ¹å¼å¯¹æååéè¿è¡æ´æ°ï¼æ¶é¤é\n\n    private volatile int refcnt;//è·è¸ªå¯¹è±¡çå¼ç¨æ¬¡æ°ï¼éç¨caså¯¹å¶èªå¢1ï¼é»è®¤å¼ä¸º1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n15.2.2 unpooledheapbytebufæºç åæ éæ± åçåºäºå åå­ï¼é¢ç¹çå¤§ååå­åéååæ¶ä¼å¯¹æ§è½é æå½±åï¼ä½æ¯ç¸æ¯å¯¹å¤åå­çç³è¯·åéæ¾ï¼ææ¬è¿æ¯ä½ä¸äºã ç¸æ¯heapbytebufï¼ unpooledheapbytebufçå®ç°æ´å å åï¼ä¹ä¸å®¹æåºç°åå­ç®¡çæ¹é¢çé®é¢ï¼å æ­¤å¨æ»¡è¶³æ§è½çæ¡ä»¶ä¸ï¼æ¨èä½¿ç¨unpooledheapbytebufã\n\npublic class unpooledheapbytebuf extends abstractreferencecountedbytebuf {\nprivate final bytebufallocator alloc;\n    byte[] array;//è¿éç´æ¥ä½¿ç¨jdkçbytebufferä¹å¯ä»¥ï¼ä¹æä»¥ä½¿ç¨byteæ°ç»æ¯å ä¸ºæ§è½åä¾¿æ·çä½æä½\n    private bytebuffer tmpniobuf;//ç¨äºå®ç°å°nettyçbytebufè½¬æ¢ä¸ºjdkçbytebuffer\n }\n\n\n1\n2\n3\n4\n5\n\n\nè½¬æ¢jdk buffer nettyåºäºbyteæ°ç»å®ç° jdkçnio bufæä¾wrapæ¹æ³ï¼å¯ç´æ¥å®ç° è½¬æ¢ çä¸è½¬æ¢æ¹æ³\n\npublic bytebuffer niobuffer(int index, int length) {\n        ensureaccessible();\n        return bytebuffer.wrap(array, index, length).slice();\n    }\npublic bytebuffer slice() {\n        return new heapbytebuffer(hb,//ä»ç¶ä½¿ç¨çæ¯åbufferçå¨å±æ°ç»ï¼åªæ¯æ¹åäºpositionålimitçä½ç½®ï¼æä»¥æ°bufååbufåå®¹æ¯ç¸äºå½±åç\n                                        -1,\n                                        0,\n                                        this.remaining(),\n                                        this.remaining(),\n                                        this.position() + offset);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nsliceæ¹æ³çä½ç¨ï¼copy positionå°limitä¹é´çåå®¹ï¼ 15.2.3 pooledbytebufåå­æ± åçåæ poolarenaæ¯nettyçåå­æ± æ¾ç°ç±»ã ä¸ºäºéä¸­ç®¡çåå­ï¼æä¾åå­ç³è¯·æ¯éæ¾çæçï¼å¾å¤æ¡æ¶ä¼ç³è¯·ä¸å¤§ååå­ï¼æä¾ç¸åºçæ¥å£åéåéæ¾åå­ï¼è¿æ ·å°±ä¸åé¢ç¹çä½¿ç¨ç³»ç»è°ç¨æ¥ä½¿ç¨åå­ï¼å¯ä»¥æé«æ§è½ãé¢åç³è¯·çé£ååå­å°±å«memory arenaãpoolarenaæ¯nettyå¯¹memory arenaçå®ç°ã nettyçpoolarenaç±å¤ä¸ªchunkç»æï¼æ¯ä¸ªchunkç±å¤ä¸ªpageç»æã poolarenaæºç ï¼\n\nabstract class poolarena<t> implements poolarenametric {\n    static final boolean has_unsafe = platformdependent.hasunsafe();\n\n    enum sizeclass {\n        tiny,\n        small,\n        normal\n    }\n\n    static final int numtinysubpagepools = 512 >>> 4;\n\n    final pooledbytebufallocator parent;\n\n    private final int maxorder;\n    final int pagesize;\n    final int pageshifts;\n    final int chunksize;\n    final int subpageoverflowmask;\n    final int numsmallsubpagepools;\n    final int directmemorycachealignment;\n    final int directmemorycachealignmentmask;\n    private final poolsubpage<t>[] tinysubpagepools;\n    private final poolsubpage<t>[] smallsubpagepools;\n\n    private final poolchunklist<t> q050;\n    private final poolchunklist<t> q025;\n    private final poolchunklist<t> q000;\n    private final poolchunklist<t> qinit;\n    private final poolchunklist<t> q075;\n    private final poolchunklist<t> q100;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\npoolchunkçå®ç° poolchunkè´è´£å¤ä¸ªpageçåå­ç®¡çï¼poolchunkå°å¶è´è´£çå¤ä¸ªpageæå»ºæä¸æ£µäºåæ ã åè®¾ä¸ä¸ªchunkç±16ä¸ªpageç»æï¼åå¶ç»ç»å½¢å¼ï¼ pageå¤§å°æ¯4å­èï¼chunkå¤§å°æ¯64å­èã æ¯ä¸ªèç¹é½è®°å½èªå·±å¨æ´ä¸ªmemory arenaä¸­çåç§»å°åï¼ä¸æ¦è¢«åéï¼åè¯¥èç¹åå¶å­èç¹å¨æ¥ä¸æ¥çåå­åéè¿ç¨ä¸­ä¼è¢«å¿½ç¥ã ä¸¾ä¾æ¥è¯´ï¼æä»¬ç³è¯·16ä¸ªå­èç©ºé´ï¼åç¬¬ä¸å±çæä¸ªèç¹ä¼è¢«æ è®°ä¸ºå·²åéï¼ååæ¬¡åéåå­çæ¶åä¼ä»å¶ä»ä¸ä¸ªèç¹ä¸­åéã åéåå­æ¶å¯¹æ éç¨æ·±åº¦ä¼åç®æ³ï¼ä½æ¯ä»åªæ£µå­æ å¼å§æ·±åº¦éåæ¯éæºçã poolsubpageçå®ç° ç³è¯·åå­å°äºä¸ä¸ªpageï¼ååå­åéå¨pageä¸­å®æï¼æ¯ä¸ªpageä¼è¢«åä¸ºå¤§å°ç¸ç­çå¤ä¸ªåã è¢«åçåä½åå¤§å°ç­äºç¬¬ä¸æ¬¡ç³è¯·çåå­å¤§å°ï¼ä¾å¦ä¸ä¸ªpage8å­èï¼ç¬¬ä¸æ¬¡ç³è¯·2å­èï¼åè¯¥pageè¢«ååæ4åï¼æ¯å2å­èãèä¸è¿ä¸ªpageä»¥ååªè½ç¨äºåé2å­èçåå­ç³è¯·ï¼å¦æåæ¥ä¸ä¸ª4å­èçåå­ç³è¯·ï¼åªè½å¨å¦ä¸ä¸ªpageä¸­ç³è¯·ã pageä½¿ç¨æ è¯ä½æ¥è¡¨ç¤ºåå­åæ¯å¦å¯ç¨ãç»´æ¤ä¸ä¸ªlongæ°ç»ï¼æ¯ä¸ªä½è¡¨ç¤ºä¸ä¸ªåçä½¿ç¨æåµã ä¾å¦pageä¸º128å­èï¼ç¬¬ä¸æ¬¡ç³è¯·åå­ä¸º1å­èï¼åè¯¥pageè¢«åä¸º128åï¼ålongæ°ç»ä¸­æ2ä¸ªåç´ ï¼ï¼æ¯ä¸ªlong64ä½ï¼ä¸¤ä¸ªlongå¯ä»¥è¡¨ç¤º128ä½ï¼ã0ã1è¡¨ç¤ºè¯¥åæ¯å¦å¯ç¨ã 15.2.4 pooleddirectbytebufåå­æ± åçåæ åå»ºå­èç¼å²åº ç±äºéç¨åå­æ± å®ç°ï¼æä»¥åå»ºpooleddirectbytebufå¯¹è±¡ä¸è½newä¸ä¸ªå®ä¾ï¼èæ¯ä»åå­æ± è·åãç¶åè®¾ç½®å¼ç¨è®¡æ°å¨ã\n\nstatic pooleddirectbytebuf newinstance(int maxcapacity) {\n        pooleddirectbytebuf buf = recycler.get();\n        buf.reuse(maxcapacity);\n        return buf;\n    }\nfinal void reuse(int maxcapacity) {\n        maxcapacity(maxcapacity);\n        setrefcnt(1);\n        setindex0(0, 0);\n        discardmarks();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nå¤å¶å­èç¼å²åº ä¼ä»åå­æ± ä¸­è·åä¸ä¸ªæ°çbufferèä¸æ¯newä¸ä¸ªã\n\n\n# 15.3 bytebufferç¸å³è¾å©ç±»\n\n15.3.1 bytebufholder å¯¹æ¶æ¯ä½è¿è¡åè£åæ½è±¡ï¼ä¸åçå­ç±»æä¸åçå®ç°ã å®ç°bytebufholderçå­ç±»å¯ä»¥èªå·±å®ç°ä¸äºå®ç¨çæ¹æ³ã nettyä¹æä¸äºå­ç±»ç»§æ¿èªbytebufholderã 15.3.2 bytebufallocator å­èç¼å²åºåéå¨ï¼å¶å®ç°ç±»æä¸¤ç§ï¼åºäºæ± çåæ®éçã å¶api: 15.3.3 compositebytebuf åè®¸å°å¤ä¸ªbytebufç»è£å°ä¸èµ·ã ä½¿ç¨åºæ¯ï¼å¦æåè®®åå«æ¶æ¯å¤´åæ¶æ¯ä½ï¼å½å¯¹æ¶æ¯è¿è¡ç¼ç çæ¶åéè¦è¿è¡æ´åã è¿ç§åºæ¯æä¸¤ç§å®ç°æ¹å¼ï¼\n\n * å°ä¸ä¸ªbufå¤å¶å°å¦ä¸ä¸ªbufãæèåå»ºä¸ä¸ªæ°çbufå°ä¸¤ä¸ªbufé½æ¾å°æ°çbufã\n * éè¿listæå¶ä»éåå®¹å¨ï¼å°ä¸¤ä¸ªbufé½æ¾å¥å®¹å¨ç»ä¸ç»´æ¤åå¤çã\n\nçä¸æºç ï¼\n\npublic class compositebytebuf extends abstractreferencecountedbytebuf implements iterable<bytebuf> {\n\n   private static final bytebuffer empty_nio_buffer = unpooled.empty_buffer.niobuffer();\n   private static final iterator<bytebuf> empty_iterator = collections.<bytebuf>emptylist().iterator();\n\n   private final bytebufallocator alloc;\n   private final boolean direct;\n   private final componentlist components;//ç»´æ¤bufçå®¹å¨\n   private final int maxnumcomponents;\n\n   private boolean freed;\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nåçä¸componentlistï¼\n\nprivate static final class componentlist extends arraylist<component> {\n\n        componentlist(int initialcapacity) {\n            super(initialcapacity);\n        }\n\n        // expose this methods so we not need to create a new sublist just to remove a range of elements.\n        @override\n        public void removerange(int fromindex, int toindex) {\n            super.removerange(fromindex, toindex);\n        }\n    }\n\nprivate static final class component {\n        final bytebuf buf;\n        final int length;\n        int offset;//å¨éåä¸­çä½ç½®åç§»\n        int endoffset;\n\n        component(bytebuf buf) {\n            this.buf = buf;\n            length = buf.readablebytes();\n        }\n\n        void freeifnecessary() {\n            buf.release(); // we should not get a npe here. if so, it must be a bug.\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n15.3.4 bytebufutil å ä¸ªå¸¸ç¨çå·¥å·æ¹æ³ï¼\n\n * encodestring\n * decodestring\n * hexdump',charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Java NIOäºè§£åï¼",frontmatter:{title:"Java NIOäºè§£åï¼",date:"2022-05-21T23:39:27.000Z",permalink:"/pages/bfdcc8/",categories:["ä¸­é´ä»¶","Netty"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/10.Netty/050.Java%20NIO%E4%BA%86%E8%A7%A3%E5%90%97%EF%BC%9F.html",relativePath:"04.ä¸­é´ä»¶/10.Netty/050.Java NIOäºè§£åï¼.md",key:"v-6b32ada0",path:"/pages/bfdcc8/",headers:[{level:2,title:"1.1 IOæ¦å¿µ",slug:"_1-1-ioæ¦å¿µ",normalizedTitle:"1.1 ioæ¦å¿µ",charIndex:22},{level:3,title:"1.1.1 Buffer Handler",slug:"_1-1-1-buffer-handler",normalizedTitle:"1.1.1 buffer handler",charIndex:35},{level:3,title:"1.1.1 scatter/gather",slug:"_1-1-1-scatter-gather",normalizedTitle:"1.1.1 scatter/gather",charIndex:537},{level:3,title:"1.1.2 èæåå­",slug:"_1-1-2-èæåå­",normalizedTitle:"1.1.2 èæåå­",charIndex:1452},{level:3,title:"1.1.3 åå­é¡µ",slug:"_1-1-3-åå­é¡µ",normalizedTitle:"1.1.3 åå­é¡µ",charIndex:1664},{level:3,title:"1.1.4 æä»¶IO",slug:"_1-1-4-æä»¶io",normalizedTitle:"1.1.4 æä»¶io",charIndex:1791},{level:3,title:"1.1.5 IOæµ",slug:"_1-1-5-ioæµ",normalizedTitle:"1.1.5 ioæµ",charIndex:1900},{level:2,title:"2.1 Buffer Basic",slug:"_2-1-buffer-basic",normalizedTitle:"2.1 buffer basic",charIndex:2130},{level:3,title:"2.1.1 Bufferçå ä¸ªå±æ§",slug:"_2-1-1-bufferçå ä¸ªå±æ§",normalizedTitle:"2.1.1 bufferçå ä¸ªå±æ§",charIndex:2151},{level:3,title:"2.1.2 Buffer API",slug:"_2-1-2-buffer-api",normalizedTitle:"2.1.2 buffer api",charIndex:2215},{level:3,title:"2.1.3 è®¿é®Buffer",slug:"_2-1-3-è®¿é®buffer",normalizedTitle:"2.1.3 è®¿é®buffer",charIndex:2740},{level:3,title:"2.1.4 write",slug:"_2-1-4-write",normalizedTitle:"2.1.4 write",charIndex:3055},{level:3,title:"2.1.5 Flipping",slug:"_2-1-5-flipping",normalizedTitle:"2.1.5 flipping",charIndex:3270},{level:3,title:"2.1.6 Draining",slug:"_2-1-6-draining",normalizedTitle:"2.1.6 draining",charIndex:3522},{level:3,title:"2.1.7 Compacting",slug:"_2-1-7-compacting",normalizedTitle:"2.1.7 compacting",charIndex:3872},{level:3,title:"2.1.9 Mark",slug:"_2-1-9-mark",normalizedTitle:"2.1.9 mark",charIndex:3998},{level:3,title:"2.1.9 Comparing",slug:"_2-1-9-comparing",normalizedTitle:"2.1.9 comparing",charIndex:4147},{level:3,title:"2.2 åå»ºBuffer",slug:"_2-2-åå»ºbuffer",normalizedTitle:"2.2 åå»ºbuffer",charIndex:4476},{level:2,title:"2.3 Duplicating Buffers",slug:"_2-3-duplicating-buffers",normalizedTitle:"2.3 duplicating buffers",charIndex:5030},{level:2,title:"2.4 Byte Buffers",slug:"_2-4-byte-buffers",normalizedTitle:"2.4 byte buffers",charIndex:5966},{level:3,title:"2.4.1 Byte Ordering",slug:"_2-4-1-byte-ordering",normalizedTitle:"2.4.1 byte ordering",charIndex:5987},{level:3,title:"2.4.2 Direct Buffers",slug:"_2-4-2-direct-buffers",normalizedTitle:"2.4.2 direct buffers",charIndex:6473},{level:3,title:"2.4.3 View Buffers",slug:"_2-4-3-view-buffers",normalizedTitle:"2.4.3 view buffers",charIndex:6835},{level:3,title:"2.4.4 Data Element Views",slug:"_2-4-4-data-element-views",normalizedTitle:"2.4.4 data element views",charIndex:7400},{level:2,title:"3.1 basic",slug:"_3-1-basic",normalizedTitle:"3.1 basic",charIndex:7698},{level:3,title:"3.1.1 Open channel",slug:"_3-1-1-open-channel",normalizedTitle:"3.1.1 open channel",charIndex:8270},{level:3,title:"3.1.2 Using Channels",slug:"_3-1-2-using-channels",normalizedTitle:"3.1.2 using channels",charIndex:8725},{level:3,title:"3.1.3 close Channels",slug:"_3-1-3-close-channels",normalizedTitle:"3.1.3 close channels",charIndex:9090},{level:2,title:"3.2 Scatter/Gather",slug:"_3-2-scatter-gather",normalizedTitle:"3.2 scatter/gather",charIndex:9115},{level:2,title:"3.3 File Channels",slug:"_3-3-file-channels",normalizedTitle:"3.3 file channels",charIndex:9200},{level:2,title:"3.3.1 Accessing Files",slug:"_3-3-1-accessing-files",normalizedTitle:"3.3.1 accessing files",charIndex:9248},{level:3,title:"3.3.2 File Locking",slug:"_3-3-2-file-locking",normalizedTitle:"3.3.2 file locking",charIndex:10039},{level:2,title:"3.4 Memory-Mapped Files",slug:"_3-4-memory-mapped-files",normalizedTitle:"3.4 memory-mapped files",charIndex:10062},{level:2,title:"3.5 Socket Channels",slug:"_3-5-socket-channels",normalizedTitle:"3.5 socket channels",charIndex:10090},{level:3,title:"3.5.1 Nonblocking Mode",slug:"_3-5-1-nonblocking-mode",normalizedTitle:"3.5.1 nonblocking mode",charIndex:10562},{level:3,title:"3.5.2 ServerSocketChannel",slug:"_3-5-2-serversocketchannel",normalizedTitle:"3.5.2 serversocketchannel",charIndex:11237},{level:3,title:"3.5.4 DatagramChannel",slug:"_3-5-4-datagramchannel",normalizedTitle:"3.5.4 datagramchannel",charIndex:12348},{level:3,title:"3.5.5 Pipes",slug:"_3-5-5-pipes",normalizedTitle:"3.5.5 pipes",charIndex:12444},{level:2,title:"4.1 åºç¡",slug:"_4-1-åºç¡",normalizedTitle:"4.1 åºç¡",charIndex:13917},{level:2,title:"4.2 ç¤ºä¾",slug:"_4-2-ç¤ºä¾",normalizedTitle:"4.2 ç¤ºä¾",charIndex:14101}],headersStr:"1.1 IOæ¦å¿µ 1.1.1 Buffer Handler 1.1.1 scatter/gather 1.1.2 èæåå­ 1.1.3 åå­é¡µ 1.1.4 æä»¶IO 1.1.5 IOæµ 2.1 Buffer Basic 2.1.1 Bufferçå ä¸ªå±æ§ 2.1.2 Buffer API 2.1.3 è®¿é®Buffer 2.1.4 write 2.1.5 Flipping 2.1.6 Draining 2.1.7 Compacting 2.1.9 Mark 2.1.9 Comparing 2.2 åå»ºBuffer 2.3 Duplicating Buffers 2.4 Byte Buffers 2.4.1 Byte Ordering 2.4.2 Direct Buffers 2.4.3 View Buffers 2.4.4 Data Element Views 3.1 basic 3.1.1 Open channel 3.1.2 Using Channels 3.1.3 close Channels 3.2 Scatter/Gather 3.3 File Channels 3.3.1 Accessing Files 3.3.2 File Locking 3.4 Memory-Mapped Files 3.5 Socket Channels 3.5.1 Nonblocking Mode 3.5.2 ServerSocketChannel 3.5.4 DatagramChannel 3.5.5 Pipes 4.1 åºç¡ 4.2 ç¤ºä¾",content:"@TOC\n\n\n# ç¬¬ä¸ç«  IOä»ç»\n\n\n# 1.1 IOæ¦å¿µ\n\n\n# 1.1.1 Buffer Handler\n\nåå­åä¸ºç¨æ·ç©ºé´ï¼User spaceï¼ï¼åæ ¸ç©ºé´ï¼Kernel spaceï¼ã ç¨æ·ç©ºé´çæ°æ®è¯»åéè¦éè¿åå­ç©ºé´ä¼ éã å¦ä¸å¾æç¤ºï¼ç¨æ·éè¦è¯»æ°æ®ï¼ååcpuåéä¸ä¸ªè¯»è¯·æ±ï¼cpuç¸åºè¿ä¸ªè¯·æ±æ§å¶disk controllerä»diskè¯»åæ°æ®å°åæ ¸bufferï¼ç¶ååæåæ ¸bufferçæ°æ®æ¨éç»ç¨æ·ç©ºé´çbufferã ä¸ºä»ä¹è¦åºåç¨æ·ç©ºé´ååæ ¸ç©ºé´å¢ï¼ æ¯ä¸ªè¿ç¨æç¬ç«çåå­ç©ºé´å¥½å¤å¨äºå¤ä¸ªè¿ç¨çåå­åéäºä¸å½±åãå¦æå¤ä¸ªè¿ç¨å±äº«ä¸ååå­ï¼é£ä¹åå­åéçæ¶åå°±å¾æéã\n\nä¸ºä»ä¹ç¨æ·ç©ºé´ä¸è½ç´æ¥ä»diskè¯»æ°æ®å¢ï¼\n\n * ç¡¬ä»¶æ§å¶å¨åªè½å¤çåºå®å¤§å°çæ°æ®ï¼ç¨æ·ç©ºé´éè¦çå¯è½æ¯æ°æ®åå¤§å°å¼å¸¸æèä¸å¯¹é½çæ°æ®ï¼åæ ¸ç©ºé´èµ·ä½å°æ°æåãéç»çä½ç¨ã\n * ç¡¬ä»¶è®¾å¤éå¸¸ä¸åè®¸ç´æ¥æä½èæåå­ï¼å³ç¨æ·ç©ºé´\n\nDMAæ¯ä»ä¹ï¼ DMA(Direct Memory Access,ç´æ¥å­å¨å¨è®¿é®)ã å¨DMAä¹åéè¿ä¸­æ­CPUæ¥ä¼ è¾æ°æ®ãCPUååºä¸­æ­ï¼æ§å¶æ»çº¿ä¼ è¾æ°æ®ã DMAä¸éè¦CPUåä¸æ°æ®ä¼ è¾ãDMAå¯ä»¥åCPUäº¤äºè¯·æ±æ§å¶æ»çº¿ä¼ è¾æ°æ®ã\n\n\n# 1.1.1 scatter/gather\n\nåæ£ï¼scatterï¼ä»Channelä¸­è¯»åæ¯æå¨è¯»æä½æ¶å°è¯»åçæ°æ®åå¥å¤ä¸ªbufferä¸­ãå æ­¤ï¼Channelå°ä»Channelä¸­è¯»åçæ°æ®âåæ£ï¼scatterï¼âå°å¤ä¸ªBufferä¸­ã èéï¼gatherï¼åå¥Channelæ¯æå¨åæä½æ¶å°å¤ä¸ªbufferçæ°æ®åå¥åä¸ä¸ªChannelï¼å æ­¤ï¼Channel å°å¤ä¸ªBufferä¸­çæ°æ®âèéï¼gatherï¼âååéå°Channelã\n\næ¯å¦æä¸ªåè®®çæ¶æ¯åºå®æ¶æ¯å¤´128å­èï¼æ¶æ¯ä½1024å­èï¼æ¶æ¯å°¾128å­èãæä»¬æ³è¦åå«å¤çæ¶æ¯å¤´ï¼æ¶æ¯ä½ï¼æ¶æ¯å°¾ã ä½¿ç¨scatterç¤ºä¾ä»£ç :\n\nByteBuffer header = ByteBuffer.allocate(128);\nByteBuffer body   = ByteBuffer.allocate(1024);\nByteBuffer tail   = ByteBuffer.allocate(128);\n\nByteBuffer[] bufferArray = { header, body,tail };\nchannel.read(bufferArray);\n\n\n1\n2\n3\n4\n5\n6\n\n\næ³¨æbufferé¦åè¢«æå¥å°æ°ç»ï¼ç¶ååå°æ°ç»ä½ä¸ºchannel.read() çè¾å¥åæ°ãread()æ¹æ³æç§bufferå¨æ°ç»ä¸­çé¡ºåºå°ä»channelä¸­è¯»åçæ°æ®åå¥å°bufferï¼å½ä¸ä¸ªbufferè¢«åæ»¡åï¼channelç´§æ¥çåå¦ä¸ä¸ªbufferä¸­åã æä»¥ã\n\nscatterä¸éåå¤çå¨ææ¶æ¯ï¼ç¸åï¼gatheréåå¤çå¨ææ¶æ¯ã buffersæ°ç»æ¯write()æ¹æ³çå¥åï¼write()æ¹æ³ä¼æç§bufferå¨æ°ç»ä¸­çé¡ºåºï¼å°æ°æ®åå¥å°channelï¼æ³¨æåªæpositionålimitä¹é´çæ°æ®æä¼è¢«åå¥ãå æ­¤ï¼å¦æä¸ä¸ªbufferçå®¹éä¸º128byteï¼ä½æ¯ä»ä»åå«58byteçæ°æ®ï¼é£ä¹è¿58byteçæ°æ®å°è¢«åå¥å°channelä¸­ãå æ­¤ä¸Scattering Readsç¸åï¼Gathering Writesè½è¾å¥½çå¤çå¨ææ¶æ¯ã\n\n\n# 1.1.2 èæåå­\n\nèæåå­æ¯æä½¿ç¨èæåå­å°åä»£æ¿ç©çåå­å°åã\n\n * ä¼æå¤ä¸ªèæåå­æååä¸ä¸ªç©çåå­\n * èæåå­å¯è½ä¼å¤§äºç©çåå­ ä¸é¢è¯´disk controllerä¸å¯ä»¥ç´æ¥ææ°æ®è¯»å°ç¨æ·ç©ºé´ãèæåå­å¯ä»¥éè¿èæå°åæ å°åæ ¸ç©ºé´çæ¹å¼åå°è¿ä¸ç¹ã å¦ä¸å¾ï¼åæ ¸ç©ºé´çbufferå¯¹ç¨æ·ç©ºé´ä¹æ¯å¯è§çãè¿å°±æ¯nettyé¶æ·è´çåçï¼è¿åå°äºbufferå¨ç¨æ·ç©ºé´ååæ ¸ç©ºé´çæ·è´ï¼éå¸¸ææä¹ã\n\n\n# 1.1.3 åå­é¡µ\n\næä½ç³»ç»å°åå­æåºå®å­èåé¡µã åå­è¯»åçåºæ¬åä½æ¯é¡µã\n\nMMU(Memory Management Unit):åå­ç®¡çååï¼ä¿å­èæåå­åç©çåå­çæ å°å³ç³»ï¼å¤å¨CPUååå­ä¹é´ï¼èµ·å°å°èæåå­è½¬æ¢ä¸ºç©çåå­çä½ç¨ã\n\n\n# 1.1.4 æä»¶IO\n\næä»¶ç³»ç»ï¼æä»¶IOåçå¨æä»¶ç³»ç»ãæä»¶ä¿å­å¨ç£çï¼ç£çæåºç±»ä¼¼åå­åé¡µçæ¦å¿µãåå­æä»¶è¯»åéè¿æä»¶ç³»ç»é´æ¥æä½ç£çæä»¶ã æä»¶é¶æ·è´å¦ä¸å¾ãé¿åäºæä»¶ç³»ç»åå­é¡µåç¨æ·åå­é¡µä¹é´çæ·è´ã\n\n\n# 1.1.5 IOæµ\n\nä¸é¢è¯´çIOé½æ¯é¢ååçIOãè¿æé¢åæµçIOã å¤§å¤æ°æä½ç³»ç»æ¯æå°æµç½®ä¸ºéé»å¡æ¨¡å¼ï¼é¢å¤è®¾ç½®ä¸ä¸ªè¿ç¨ç¨äºæ£æ¥æµä¸æ¯å¦æè¾å¥ï¼å æ­¤æµæ¬èº«æ¯ä¸è¢«é»å¡çã ç½ç»IOä¸è¬é½æ¯æµIOã å¤è·¯å¤ç¨ï¼ç¨ä¸ä¸ªè¿ç¨ç®¡çå¤ä¸ªéé»å¡IOæµçç¶æã\n\n\n# ç¬¬äºç«  Buffer\n\næ åçIOåºäºå­èæµåå­ç¬¦æµè¿è¡æä½çï¼èNIOæ¯åºäºééï¼Channelï¼åç¼å²åºï¼Bufferï¼è¿è¡æä½ï¼æ°æ®æ»æ¯ä»ééè¯»åå°ç¼å²åºä¸­ï¼æèä»ç¼å²åºåå¥å°ééä¸­ã\n\n\n# 2.1 Buffer Basic\n\n\n# 2.1.1 Bufferçå ä¸ªå±æ§\n\n * capacity\n * limit\n * position\n * mark\n\n\n# 2.1.2 Buffer API\n\npackage java.nio;\npublic abstract class Buffer {\npublic final int capacity()\npublic final int position()\npublic final Buffer position (int newPosition) public final int limit()\n  }\npublic final Buffer limit (int newLimit)\npublic final Buffer mark()\npublic final Buffer reset()\npublic final Buffer clear()\npublic final Buffer flip()\npublic final Buffer rewind()\npublic final int remaining()\npublic final boolean hasRemaining()\npublic abstract boolean isReadOnly();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 2.1.3 è®¿é®Buffer\n\npublic abstract class ByteBuffer\n       extends Buffer implements Comparable\n {\n// This is a partial API listing\npublic abstract byte get();\npublic abstract byte get (int index);\npublic abstract ByteBuffer put (byte b);\npublic abstract ByteBuffer put (int index, byte b);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 2.1.4 write\n\nFigure 2-2çbufferç»è¿ä¸é¢è¿ä¸ªä»£ç ä¼åæFigure 2-3çæ ·å­ï¼\n\nbuffer.put((byte)'H').put((byte)'e').put((byte)'l')\n.put((byte)'l').put( (byte)'o');\n\n\n1\n2\n\n\nä¹å¯ä»¥æç»å¯¹ä½ç½®åå¥ï¼\n\nbuffer.put(0, (byte)'M').put((byte)'w');\n\n\n1\n\n\n\n\n\n# 2.1.5 Flipping\n\nå½æä»¬æ³è¦ååºbufferçåå®¹æ¶ï¼æä»¬éè¦ç¨positionålimitæéæåæ¶æºåå®¹çèµ·å§ä½ç½®ãç±»ä¼¼è¿æ ·ï¼\n\nbuffer.limit(buffer.position()).position(0);\n\n\n1\n\n\nè¿ç­åäºbuffer.flip(); è°ç¨flip()å2-4ä¼åæ2-5 è¯´ç½äºï¼flip()æ¹åpositionålimitä¸¤ä¸ªæéã rewind()åªæ¹åpositionæéï¼ç­åäºï¼\n\nbuffer.position(0);\n\n\n1\n\n\n\n# 2.1.6 Draining\n\nhasRemaining()å¯ä»¥å¤æ­æ¯å¦å°è¾¾limitæé ä¸é¢æ¯ä¸ä¸ªå®ç°ï¼å°bufferåå®¹è¯»å°ä¸ä¸ªæ°ç»ä¸­\n\nfor (int i = 0; buffer.hasRemaining(), i++) {\n       myByteArray [i] = buffer.get();\n}\n\n\n1\n2\n3\n\n\nremaining()ä¼è¿åpositionå°limitçæ°éã å°bufferåå®¹è¯»å°ä¸ä¸ªæ°ç»ä¸­å¦ä¸ç§å®ç°æ¹å¼ï¼\n\nint count = buffer.remaining();\nfor (int i = 0; i < count, i++) {\n       myByteArray [i] = buffer.get();\n}\n\n\n1\n2\n3\n4\n\n\n\n# 2.1.7 Compacting\n\nå½ä½ drainä¸é¨åæ°æ®æ³è¦ç»§ç»­fillæ°æ®çæ¶åï¼ä½ éè¦æè¿æªdrainçæ°æ®æ´ä½åç§»ã buffer.compact()ï¼å¯ä»¥å®æè¿ä¸ªå·¥ä½ã è°ç¨buffer.compact()çææå°±æ¯2-6å°2-7\n\n\n# 2.1.9 Mark\n\nmark()æ¹æ³ä¼ç¨markæéæåpositionçä½ç½®ã\n\nbuffer.position(2).mark().position(4);\n\n\n1\n\n\nreset()æ¹æ³ä¼æpositionæéæåmarkçä½ç½®ã\n\nbuffer.reset();\n\n\n1\n\n\n\n\n\n# 2.1.9 Comparing\n\npublic abstract class ByteBuffer\n       extends Buffer implements Comparable\n  {\n  // This is a partial API listing\npublic boolean equals (Object ob)\npublic int compareTo (Object ob)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nequals()è¿åtrueéè¦æ»¡è¶³ä¸ä¸ªæ¡ä»¶ï¼\n\n * Bufferåå«ç¸åç±»åçåç´ \n * ä¸¤ä¸ªBufferçremaining()è¿åå¼ç¸å\n * remaining dataçåºåç¸å ä¸é¢æ¯ä¸¤ä¸ªä¾å­ï¼\n\n\n# 2.2 åå»ºBuffer\n\nåå»ºæ°bufferçä¸¤ç§æ¹å¼ï¼allocation or wrapping\n\npublic abstract class CharBuffer\nextends Buffer implements CharSequence, Comparable\n{\n}\n// This is a partial API listing\npublic static CharBuffer allocate (int capacity)\npublic static CharBuffer wrap (char [] array)\npublic static CharBuffer wrap (char [] array, int offset, int length)\npublic final boolean hasArray()\npublic final char [] array()\npublic final int arrayOffset()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\néè¿allocationåå»ºçbufferæ¯åéä¸ååºå®å¤§å°çå åå­ä½ä¸ºbufferå­å¨ç©ºé´ã wrappingåå»ºçbufferæ¯åå»ºä¸ä¸ªbufferå¯¹è±¡æåä¸ä¸ªarrayç©ºé´ã\n\n\n# 2.3 Duplicating Buffers\n\npublic abstract class CharBuffer\nextends Buffer implements CharSequence, Comparable\n   {\n}\n// This is a partial API listing\npublic abstract CharBuffer duplicate();\npublic abstract CharBuffer asReadOnlyBuffer(); \npublic abstract CharBuffer slice();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nduplicate()åå»ºä¸ä¸ªæ°çbuffer,ååbufferä¸æ ·ã ä¸¤ä¸ªbufferå±äº«æ°æ®åç´  ä½æ¯ä»ä»¬æç¬ç«çposition, limit, and mark ä¸ä¸ªbufferæ´æ¹äºæ°æ®åç´ å¯¹å¦ä¸ä¸ªbufferå¯è§ åªè¯»ãç´æ¥åå­è¿ä¸¤ä¸ªå±æ§ä¹å¯ä»¥éè¿duplicate()ç»§æ¿ ä¸¾ä¸ªä¾å­ï¼\n\nCharBuffer buffer = CharBuffer.allocate (8); \nbuffer.position (3).limit (6).mark().position (5); \nCharBuffer dupeBuffer = buffer.duplicate(); buffer.clear();\n\n\n1\n2\n3\n\n\nasReadOnlyBuffer()åduplicate()åè½ç±»ä¼¼ï¼åªæ¯asReadOnlyBuffer()è¿åä¸ä¸ªåªè¯»çè§å¾ã slice() è¿åä¸ä¸ªæ°çbufferè§å¾ï¼ä¸è¿ new_position = original_position new_capacity = original_limit - original_position ä¸¾ä¸ªä¾å­æ¥çslice():\n\nCharBuffer buffer = CharBuffer.allocate (8); \nbuffer.position (3).limit (5);\nCharBuffer sliceBuffer = buffer.slice();\n\n\n1\n2\n3\n\n\n\n\n\n# 2.4 Byte Buffers\n\n\n# 2.4.1 Byte Ordering\n\nåå§æ°æ®ç±»åå¨åå­ä¸­çå­å¨æ¹å¼æ¯å¤ä¸ªå­èçè¿ç»­åºåã ä¸¾ä¸ªä¾å­ä¸ä¸ª32-bit int å¼ä¸º 0x037FB4C7çåå­å­å¨åºåå¯è½ä¸º2-14ä¹å¯è½ä¸º2-15: è¿å°±æ¯æè°çå¤§ç«¯è®¾è®¡åå°ç«¯è®¾è®¡ã éç¨å¤§ç«¯è¿æ¯å°ç«¯éå¸¸ç±ç¡¬ä»¶çè®¾è®¡èå³å®èä¸æ¯å°ç«¯çè®¾è®¡èã IPåè®®å®ä¹çå­èé¡ºåºæ¯å¤§ç«¯ãææä½¿ç¨IPåè®®çå¤å­èæ°å¼å¿é¡»å¨ç½ç»å­èåºåæ¬å°ä¸»æºå­èåºåè½¬æ¢ã\n\npackage java.nio;\npublic final class ByteOrder\n{\npublic static final ByteOrder BIG_ENDIAN public static final ByteOrder LITTLE_ENDIAN\npublic static ByteOrder nativeOrder()\npublic String toString()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\né¤äºByteBufferä¹å¤ï¼å¶ä»bufferçorder()éä¸­è¿ååä¸ä¸ªå¼ï¼ByteOrder.nativeOrder()ã\n\n\n# 2.4.2 Direct Buffers\n\npublic abstract class ByteBuffer extends Buffer implements Comparable {\n// This is a partial API listing\npublic static ByteBuffer allocate (int capacity) ;\npublic static ByteBuffer allocateDirect (int capacity) ;\npublic abstract boolean isDirect();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nallocateDirectå¯ä»¥ç´æ¥å¨å å¤å¼è¾ä¸ä¸ªbufferã å å¤bufferèçäºç¨æ·ç©ºé´åç³»ç»ç©ºé´çbufferæ·è´ï¼æåæçã\n\n\n# 2.4.3 View Buffers\n\næ¶å°æ°æ®çæ¶åä½ å¯è½è¦åçä¸ä¸æ°æ®åå³å®åä»ä¹æä½ï¼è¿å°±éè¦ç¨å°ByteBufferçè§å¾APIã\n\npublic abstract class ByteBuffer extends Buffer implements Comparable {\n// This is a partial API listing\npublic abstract CharBuffer asCharBuffer(); \npublic abstract ShortBuffer asShortBuffer(); \npublic abstract IntBuffer asIntBuffer();\n public abstract LongBuffer asLongBuffer();\n  public abstract FloatBuffer asFloatBuffer();\n   public abstract DoubleBuffer asDoubleBuffer();\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè§å¾å¨ç´æ¥åå­bufferä¸æä½æ´é«æã å½æ¬å°ç¡¬ä»¶çå­èé¡ºåºåbufferä¸­çå­èé¡ºåºä¸è´æ¶ï¼éè¿ä½çº§ä»£ç å°±å¯ä»¥æä½bufferä¸­çæ°æ®ï¼èä¸éè¦ç»è¿å­èç çç¼ç è§£ç ã\n\n\n# 2.4.4 Data Element Views\n\nå½getInt() è¢«è°ç¨æ¶ï¼é£ä¹ä»å½åä½ç½®å¼å§ç4ä¸ªå­èå°è¢«æåæä¸ä¸ªintè¿åã int value = buffer.getInt();å°è¿åbufferä¸­ç1-4ä½ï¼å·ä½è¿åçæ°æ®å¼ä¸å­èåºæå³ç³»ã int value = buffer.order (ByteOrder.BIG_ENDIAN).getInt(); è¿å0x3BC5315Eã int value = buffer.order (ByteOrder.LITTLE_ENDIAN).getInt(); è¿å0x5E31C53Bã\n\n\n# ç¬¬ä¸ç«  Channels\n\n\n# 3.1 basic\n\nå¨NIOæ¥å£ä¸­æä»¬éè¦ä½¿ç¨ChannelåBufferè¿è¡IOæä½ï¼Channelæ¨¡æäºæµçæ¦å¿µï¼ä½æ¯åæä¸åãæ°æ®æ»æ¯ä»ä¸ä¸ªChannelè¯»å°ä¸ä¸ªbufferä¸­ï¼æèä»ä¸ä¸ªbufferä¸­åå°channelä¸­ã channelæ¥å£çä¸»è¦å®ç°ç±»å¦ä¸ï¼\n\n * FileChannel\n * DatagramChannel\n * SocketChannel\n * ServerSocketChannel\n\nJavaNIO Channelsåæµæä¸äºç¸ä¼¼ï¼ä½æ¯åæäºä¸åï¼\n\nä½ å¯ä»¥åæ¶è¯»ååChannelsï¼æµStreamåªæ¯æååçè¯»æåï¼InputStream/OutputStreamï¼\n\n * Channelså¯ä»¥å¼æ­¥çè¯»ååï¼æµStreamæ¯åæ­¥ç\n * Channelsæ»æ¯è¯»åå°bufferæèä»bufferä¸­åå¥\n\nä¸é¢åå«ä»ç»ä¸ä¸Channelæéè¦çä¸äºå®ç°ç±»ï¼\n\n * FileChannel : å¯ä»¥è¯»åæä»¶ä¸­çæ°æ®\n * DatagramChannelï¼å¯ä»¥éè¿UDPåè®®è¯»åæ°æ®\n * SocketChannelï¼å¯ä»¥éè¿TCPåè®®è¯»åæ°æ®\n * ServerSocketChannelï¼åè®¸æä»¬åä¸ä¸ªwebæå¡å¨é£æ ·çå¬TCPé¾æ¥è¯·æ±ï¼ä¸ºæ¯ä¸ä¸ªé¾æ¥è¯·æ±åå»ºä¸ä¸ªSocketChannel\n\n\n# 3.1.1 Open channel\n\nFileChannelåªè½éè¿getChannel()å¾å°ã SocketChannelæå·¥åæ¹æ³å¯ä»¥å¾å°ã\n\nSocketChannel sc = SocketChannel.open();\nsc.connect (new InetSocketAddress (\"somehost\", someport));\n\nServerSocketChannel ssc = ServerSocketChannel.open(); ssc.socket().bind (new InetSocketAddress (somelocalport));\nDatagramChannel dc = DatagramChannel.open();\n\nRandomAccessFile raf = new RandomAccessFile (\"somefile\", \"r\"); FileChannel fc = raf.getChannel();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 3.1.2 Using Channels\n\npublic interface ReadableByteChannel extends Channel {\npublic int read (ByteBuffer dst) throws IOException;\n}\n\npublic interface WritableByteChannel extends Channel {\npublic int write (ByteBuffer src) throws IOException;\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nChannels å¯ä»¥æ¯ååæèååçã å¦æä¸ä¸ªclasså®ç°äºä¸é¢ä¸¤ä¸ªæ¥å£ï¼å°±æ¯ååçã Channelså¯ä»¥å¨é»å¡æ¨¡å¼åéé»å¡æ¨¡å¼å·¥ä½ã åªæsocketåpipeså¯ä»¥å·¥ä½å¨éé»å¡æ¨¡å¼ã\n\n\n# 3.1.3 close Channels\n\n\n# 3.2 Scatter/Gather\n\nScatterï¼å°å¤ä¸ªbufferæç§é¡ºåºåæä¸ä¸ª Gatherï¼å°ä¸ä¸ªå­ç¬¦ä¸²æç§é¡ºåºæåæå¤ä¸ªãéä¸ªå¡«æ»¡bufferã\n\n\n# 3.3 File Channels\n\nFile channels åªè½ä»¥é»å¡æ¨¡å¼å·¥ä½ã\n\n\n# 3.3.1 Accessing Files\n\npublic abstract class FileChannel extends AbstractChannel \nimplements ByteChannel, GatheringByteChannel, ScatteringByteChannel{\n// This is a partial API listing\n//è·åpositionä½ç½®\npublic abstract long position()\n//è®¾ç½®position\npublic abstract void position (long newPosition)\n//ä»positionä½ç½®å¼å§è¯»\npublic abstract int read (ByteBuffer dst)\n//ä»positionä½ç½®å¼å§è¯»\npublic abstract int read (ByteBuffer dst, long position)\n//ä»positionä½ç½®å¼å§å\n public abstract int write (ByteBuffer src)\n//ä»positionä½ç½®å¼å§å\npublic abstract int write (ByteBuffer src, long position)\npublic abstract long size()\n//æªåæä»¶ä¿çsizeå¤§å°ï¼å¹¶ç§»å¨positionå°sizeçä½ç½®\npublic abstract void truncate (long size) \n//å¼ºå¶å·æ°ç¼å­å°ç£çæä»¶\npublic abstract void force (boolean metaData)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 3.3.2 File Locking\n\n\n# 3.4 Memory-Mapped Files\n\n\n# 3.5 Socket Channels\n\nThe new socket channels can operate in nonblocking mode and are selectable. These two capabilities enable tremendous scalability and flexibility in large applications. ServerSocketChannelæ²¡æå®ç°readåwriteæ¥å£ï¼è¯´æå®ä¸éè¦è½¬åæ°æ®ãå®åªè´è´£å®¶åº­socketè¿æ¥ï¼åå»ºSocketChannelã\n\na channel is a conduit to an I/O service and provides methods for interacting with that service\n\næ¯ä¸ªsocket channelsé½æä¸ä¸ªsocketä¸ä¹å¯¹åºï¼è°ç¨socket()å¯ä»¥è·å¾ã ä½å¹¶ä¸æ¯ææçsocketsé½æchannelsãsocketçgetChannel()å¯è½ä½ä¼null;\n\n\n# 3.5.1 Nonblocking Mode\n\nè°ç¨configureBlocking (false);è®¾ç½®channelä¸ºéé»å¡æ¨¡å¼ã ä½æ¯åªæææblockingLock() è¿åçå¯¹è±¡éççº¿ç¨æè½ä¿®æ¹é»å¡æ¨¡å¼ã\n\nSocket socket = null;\nObject lockObj = serverChannel.blockingLock();\n// have a handle to the lock object, but haven't locked it yet\n// may block here until lock is acquired\nsynchronize (lockObj){\n// This thread now owns the lock; mode can't be changed boolean prevState = serverChannel.isBlocking();\nserverChannel.configureBlocking (false); socket = serverChannel.accept(); serverChannel.configureBlocking (prevState);\n}\n// lock is now released, mode is allowed to change\nif (socket != null) {\ndoSomethingWithTheSocket (socket);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 3.5.2 ServerSocketChannel\n\nThe ServerSocketChannel class is a channel-based socket listener. å®è´è´£å¤çsocketä»»å¡å¹¶æ·»å channelã\n\npublic abstract class SocketChannel\n    extends AbstractSelectableChannel\n    implements ByteChannel, ScatteringByteChannel, GatheringByteChannel, NetworkChannel\n{\n//SocketChannelè¢«åå»ºä½æ¯å¹¶æ²¡æè¿æ¥ï¼openï¼ï¼åªæ¯åå»ºä¸ä¸ªSocketChannelï¼è¿éè¦è°ç¨connect()è¿æ¥å°ä¸ä¸ªå°å\npublic static SocketChannel open() throws IOException\n//åå»ºå¹¶è¿æ¥\npublic static SocketChannel open(SocketAddress remote) throws IOException\n//æ¯æçæä½ï¼è¯»ãåãè¿æ¥ï¼\npublic final int validOps()\nãã\npublic abstract Socket socket();\n//æ¯å¦è¿æ¥å°è¿ç¨\npublic abstract boolean isConnected();\n//Connectï¼ï¼æ¹æ³æ¯èæ¶çï¼å ä¸ºéè¦æ°æ®åå¯¹è¯ï¼TCPæ¡æï¼ãå¦æSocketChannelèº«ä¸æå¹¶åãconnect(),isConnectionPendingè¿åtrue\npublic abstract boolean isConnectionPending();\n//å»ºç«è¿æ¥\npublic abstract boolean connect(SocketAddress remote) throws IOException;\n//ä»»ä½æ¶åé½å¯ä»¥å®å¨çè°ç¨\npublic abstract boolean finishConnect() throws IOException;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nSocket channelsæ¯çº¿ç¨å®å¨çã Socketæ¯é¢åæµçèä¸æ¯é¢åæ°æ®åçï¼å®è½ä¿è¯å°è¾¾çé¡ºåºæ¯åéçé¡ºåºï¼ä¸è½ä¿è¯ç»´æ¤åç»ãåéæ¹åé20ä¸ªå­èï¼æ¥æ¶æ¹readå¯è½ç´æ¥åå°7ä¸ªå­èï¼å¶ä½å­èå¨ä¼ è¾ä¸­ãæä»¥ï¼å¤ä¸ªçº¿ç¨å±äº«ä¸ä¸ªsocketçä¸ç«¯ä¸æ¯å¥½çè®¾è®¡ã\n\n\n# 3.5.4 DatagramChannel\n\nsocketchannelä¸ºé¢åè¿æ¥çæµåè®®ï¼å¦tcp/ipï¼ datagramchannelä¸ºé¢åæ è¿æ¥çæ°æ®ååè®®ï¼å¦udp/ipï¼\n\n\n# 3.5.5 Pipes\n\nPipeç¨äºåä¸ä¸ªJVMåä¸åçº¿ç¨ä¹é´çæ°æ®äº¤æ¢é®é¢ ä¸åJVMä¹é´çæ°æ®äº¤æ¢é®é¢åºè¯¥ä½¿ç¨SocketChannel Pipeç±»åå»ºäºä¸å¯¹channelå¯¹è±¡ï¼å®ä»¬æä¾äºä¸ç§åéæºå¶ã Pipeå®ç°ä¸¤ä¸ªè¿ç¨ä¹é´çååæ°æ®è¿æ¥ã Pipeæä¸ä¸ªSinkChannelåä¸ä¸ªSourceChannel æ°æ®ä¼ä»SourceChannelè¯»åãè¢«åå°SinkChannel\n\npublic abstract class Pipe {\n    public static abstract class SourceChannel\n        extends AbstractSelectableChannel\n        implements ReadableByteChannel, ScatteringByteChannel\n    {\n        protected SourceChannel(SelectorProvider provider) {\n            super(provider);\n        }\n        public final int validOps() {\n            return SelectionKey.OP_READ;\n        }\n    }\n\n    public static abstract class SinkChannel\n        extends AbstractSelectableChannel\n        implements WritableByteChannel, GatheringByteChannel\n    {\n        protected SinkChannel(SelectorProvider provider) {\n            super(provider);\n        }\n        public final int validOps() {\n            return SelectionKey.OP_WRITE;\n        }\n\n    }\n    protected Pipe() { }\n    //ä»ç®¡éè¯»åæ°æ®ï¼è¦è®¿é®sourceéé\n    public abstract SourceChannel source();\n    //åç®¡éåå¥æ°æ®ï¼è¦è®¿é®Sinkéé\n    public abstract SinkChannel sink();\n    //ç®¡éåå»º\n    public static Pipe open() throws IOException {\n        return SelectorProvider.provider().openPipe();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# ç¬¬åç«  Selectors\n\nSelectorï¼éæ©å¨ï¼æ¯Java NIOä¸­è½å¤æ£æµä¸å°å¤ä¸ªNIOééï¼å¹¶è½å¤ç¥æééæ¯å¦ä¸ºè¯¸å¦è¯»åäºä»¶åå¥½åå¤çç»ä»¶ãè¿æ ·ï¼ä¸ä¸ªåç¬ççº¿ç¨å¯ä»¥ç®¡çå¤ä¸ªchannelï¼ä»èç®¡çå¤ä¸ªç½ç»è¿æ¥,ä»ç¨åä¸ªçº¿ç¨æ¥å¤çå¤ä¸ªChannelsçå¥½å¤æ¯ï¼åªéè¦æ´å°ççº¿ç¨æ¥å¤çééã\n\n\n# 4.1 åºç¡\n\n * Selectorï¼ä¸ä¸ªselectorå¯ä»¥æ³¨åå¤ä¸ªchannelï¼ä¸ä¸ªçº¿ç¨éè¿ç®¡çSelectorå®ç°ç®¡çå¤ä¸ªchannelã\n * SelectableChannelï¼æä¾channle selectabilityçéç¨æ¹æ³ã\n * SelectionKeyï¼å°è£äºchannleåselectorçæ³¨åå³ç³»ï¼åå«æ³¨åçæå´è¶£çäºä»¶ã\n\n\n# 4.2 ç¤ºä¾\n\n//åå»ºSelector\nSelector selector = Selector.open();\nchannel.configureBlocking(false);\n//æ³¨åSelector\nSelectionKey key = channel.register(selector, SelectionKey.OP_READ);\nwhile(true) {\n//åçº¿ç¨é»å¡æ£æ¥Selectorä¸­å°±ç»ªçäºä»¶\n  int readyChannels = selector.select();\n  if(readyChannels == 0) continue;\n  Set selectedKeys = selector.selectedKeys();\n  Iterator keyIterator = selectedKeys.iterator();\n  //å¾ªç¯å¤çå°±ç»ªçäºä»¶\n  while(keyIterator.hasNext()) {\n    SelectionKey key = keyIterator.next();\n    if(key.isAcceptable()) {\n        // a connection was accepted by a ServerSocketChannel.\n    } else if (key.isConnectable()) {\n        // a connection was established with a remote server.\n    } else if (key.isReadable()) {\n        // a channel is ready for reading\n    } else if (key.isWritable()) {\n        // a channel is ready for writing\n    }\n    keyIterator.remove();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n",normalizedContent:"@toc\n\n\n# ç¬¬ä¸ç«  ioä»ç»\n\n\n# 1.1 ioæ¦å¿µ\n\n\n# 1.1.1 buffer handler\n\nåå­åä¸ºç¨æ·ç©ºé´ï¼user spaceï¼ï¼åæ ¸ç©ºé´ï¼kernel spaceï¼ã ç¨æ·ç©ºé´çæ°æ®è¯»åéè¦éè¿åå­ç©ºé´ä¼ éã å¦ä¸å¾æç¤ºï¼ç¨æ·éè¦è¯»æ°æ®ï¼ååcpuåéä¸ä¸ªè¯»è¯·æ±ï¼cpuç¸åºè¿ä¸ªè¯·æ±æ§å¶disk controllerä»diskè¯»åæ°æ®å°åæ ¸bufferï¼ç¶ååæåæ ¸bufferçæ°æ®æ¨éç»ç¨æ·ç©ºé´çbufferã ä¸ºä»ä¹è¦åºåç¨æ·ç©ºé´ååæ ¸ç©ºé´å¢ï¼ æ¯ä¸ªè¿ç¨æç¬ç«çåå­ç©ºé´å¥½å¤å¨äºå¤ä¸ªè¿ç¨çåå­åéäºä¸å½±åãå¦æå¤ä¸ªè¿ç¨å±äº«ä¸ååå­ï¼é£ä¹åå­åéçæ¶åå°±å¾æéã\n\nä¸ºä»ä¹ç¨æ·ç©ºé´ä¸è½ç´æ¥ä»diskè¯»æ°æ®å¢ï¼\n\n * ç¡¬ä»¶æ§å¶å¨åªè½å¤çåºå®å¤§å°çæ°æ®ï¼ç¨æ·ç©ºé´éè¦çå¯è½æ¯æ°æ®åå¤§å°å¼å¸¸æèä¸å¯¹é½çæ°æ®ï¼åæ ¸ç©ºé´èµ·ä½å°æ°æåãéç»çä½ç¨ã\n * ç¡¬ä»¶è®¾å¤éå¸¸ä¸åè®¸ç´æ¥æä½èæåå­ï¼å³ç¨æ·ç©ºé´\n\ndmaæ¯ä»ä¹ï¼ dma(direct memory access,ç´æ¥å­å¨å¨è®¿é®)ã å¨dmaä¹åéè¿ä¸­æ­cpuæ¥ä¼ è¾æ°æ®ãcpuååºä¸­æ­ï¼æ§å¶æ»çº¿ä¼ è¾æ°æ®ã dmaä¸éè¦cpuåä¸æ°æ®ä¼ è¾ãdmaå¯ä»¥åcpuäº¤äºè¯·æ±æ§å¶æ»çº¿ä¼ è¾æ°æ®ã\n\n\n# 1.1.1 scatter/gather\n\nåæ£ï¼scatterï¼ä»channelä¸­è¯»åæ¯æå¨è¯»æä½æ¶å°è¯»åçæ°æ®åå¥å¤ä¸ªbufferä¸­ãå æ­¤ï¼channelå°ä»channelä¸­è¯»åçæ°æ®âåæ£ï¼scatterï¼âå°å¤ä¸ªbufferä¸­ã èéï¼gatherï¼åå¥channelæ¯æå¨åæä½æ¶å°å¤ä¸ªbufferçæ°æ®åå¥åä¸ä¸ªchannelï¼å æ­¤ï¼channel å°å¤ä¸ªbufferä¸­çæ°æ®âèéï¼gatherï¼âååéå°channelã\n\næ¯å¦æä¸ªåè®®çæ¶æ¯åºå®æ¶æ¯å¤´128å­èï¼æ¶æ¯ä½1024å­èï¼æ¶æ¯å°¾128å­èãæä»¬æ³è¦åå«å¤çæ¶æ¯å¤´ï¼æ¶æ¯ä½ï¼æ¶æ¯å°¾ã ä½¿ç¨scatterç¤ºä¾ä»£ç :\n\nbytebuffer header = bytebuffer.allocate(128);\nbytebuffer body   = bytebuffer.allocate(1024);\nbytebuffer tail   = bytebuffer.allocate(128);\n\nbytebuffer[] bufferarray = { header, body,tail };\nchannel.read(bufferarray);\n\n\n1\n2\n3\n4\n5\n6\n\n\næ³¨æbufferé¦åè¢«æå¥å°æ°ç»ï¼ç¶ååå°æ°ç»ä½ä¸ºchannel.read() çè¾å¥åæ°ãread()æ¹æ³æç§bufferå¨æ°ç»ä¸­çé¡ºåºå°ä»channelä¸­è¯»åçæ°æ®åå¥å°bufferï¼å½ä¸ä¸ªbufferè¢«åæ»¡åï¼channelç´§æ¥çåå¦ä¸ä¸ªbufferä¸­åã æä»¥ã\n\nscatterä¸éåå¤çå¨ææ¶æ¯ï¼ç¸åï¼gatheréåå¤çå¨ææ¶æ¯ã buffersæ°ç»æ¯write()æ¹æ³çå¥åï¼write()æ¹æ³ä¼æç§bufferå¨æ°ç»ä¸­çé¡ºåºï¼å°æ°æ®åå¥å°channelï¼æ³¨æåªæpositionålimitä¹é´çæ°æ®æä¼è¢«åå¥ãå æ­¤ï¼å¦æä¸ä¸ªbufferçå®¹éä¸º128byteï¼ä½æ¯ä»ä»åå«58byteçæ°æ®ï¼é£ä¹è¿58byteçæ°æ®å°è¢«åå¥å°channelä¸­ãå æ­¤ä¸scattering readsç¸åï¼gathering writesè½è¾å¥½çå¤çå¨ææ¶æ¯ã\n\n\n# 1.1.2 èæåå­\n\nèæåå­æ¯æä½¿ç¨èæåå­å°åä»£æ¿ç©çåå­å°åã\n\n * ä¼æå¤ä¸ªèæåå­æååä¸ä¸ªç©çåå­\n * èæåå­å¯è½ä¼å¤§äºç©çåå­ ä¸é¢è¯´disk controllerä¸å¯ä»¥ç´æ¥ææ°æ®è¯»å°ç¨æ·ç©ºé´ãèæåå­å¯ä»¥éè¿èæå°åæ å°åæ ¸ç©ºé´çæ¹å¼åå°è¿ä¸ç¹ã å¦ä¸å¾ï¼åæ ¸ç©ºé´çbufferå¯¹ç¨æ·ç©ºé´ä¹æ¯å¯è§çãè¿å°±æ¯nettyé¶æ·è´çåçï¼è¿åå°äºbufferå¨ç¨æ·ç©ºé´ååæ ¸ç©ºé´çæ·è´ï¼éå¸¸ææä¹ã\n\n\n# 1.1.3 åå­é¡µ\n\næä½ç³»ç»å°åå­æåºå®å­èåé¡µã åå­è¯»åçåºæ¬åä½æ¯é¡µã\n\nmmu(memory management unit):åå­ç®¡çååï¼ä¿å­èæåå­åç©çåå­çæ å°å³ç³»ï¼å¤å¨cpuååå­ä¹é´ï¼èµ·å°å°èæåå­è½¬æ¢ä¸ºç©çåå­çä½ç¨ã\n\n\n# 1.1.4 æä»¶io\n\næä»¶ç³»ç»ï¼æä»¶ioåçå¨æä»¶ç³»ç»ãæä»¶ä¿å­å¨ç£çï¼ç£çæåºç±»ä¼¼åå­åé¡µçæ¦å¿µãåå­æä»¶è¯»åéè¿æä»¶ç³»ç»é´æ¥æä½ç£çæä»¶ã æä»¶é¶æ·è´å¦ä¸å¾ãé¿åäºæä»¶ç³»ç»åå­é¡µåç¨æ·åå­é¡µä¹é´çæ·è´ã\n\n\n# 1.1.5 ioæµ\n\nä¸é¢è¯´çioé½æ¯é¢ååçioãè¿æé¢åæµçioã å¤§å¤æ°æä½ç³»ç»æ¯æå°æµç½®ä¸ºéé»å¡æ¨¡å¼ï¼é¢å¤è®¾ç½®ä¸ä¸ªè¿ç¨ç¨äºæ£æ¥æµä¸æ¯å¦æè¾å¥ï¼å æ­¤æµæ¬èº«æ¯ä¸è¢«é»å¡çã ç½ç»ioä¸è¬é½æ¯æµioã å¤è·¯å¤ç¨ï¼ç¨ä¸ä¸ªè¿ç¨ç®¡çå¤ä¸ªéé»å¡ioæµçç¶æã\n\n\n# ç¬¬äºç«  buffer\n\næ åçioåºäºå­èæµåå­ç¬¦æµè¿è¡æä½çï¼ènioæ¯åºäºééï¼channelï¼åç¼å²åºï¼bufferï¼è¿è¡æä½ï¼æ°æ®æ»æ¯ä»ééè¯»åå°ç¼å²åºä¸­ï¼æèä»ç¼å²åºåå¥å°ééä¸­ã\n\n\n# 2.1 buffer basic\n\n\n# 2.1.1 bufferçå ä¸ªå±æ§\n\n * capacity\n * limit\n * position\n * mark\n\n\n# 2.1.2 buffer api\n\npackage java.nio;\npublic abstract class buffer {\npublic final int capacity()\npublic final int position()\npublic final buffer position (int newposition) public final int limit()\n  }\npublic final buffer limit (int newlimit)\npublic final buffer mark()\npublic final buffer reset()\npublic final buffer clear()\npublic final buffer flip()\npublic final buffer rewind()\npublic final int remaining()\npublic final boolean hasremaining()\npublic abstract boolean isreadonly();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 2.1.3 è®¿é®buffer\n\npublic abstract class bytebuffer\n       extends buffer implements comparable\n {\n// this is a partial api listing\npublic abstract byte get();\npublic abstract byte get (int index);\npublic abstract bytebuffer put (byte b);\npublic abstract bytebuffer put (int index, byte b);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 2.1.4 write\n\nfigure 2-2çbufferç»è¿ä¸é¢è¿ä¸ªä»£ç ä¼åæfigure 2-3çæ ·å­ï¼\n\nbuffer.put((byte)'h').put((byte)'e').put((byte)'l')\n.put((byte)'l').put( (byte)'o');\n\n\n1\n2\n\n\nä¹å¯ä»¥æç»å¯¹ä½ç½®åå¥ï¼\n\nbuffer.put(0, (byte)'m').put((byte)'w');\n\n\n1\n\n\n\n\n\n# 2.1.5 flipping\n\nå½æä»¬æ³è¦ååºbufferçåå®¹æ¶ï¼æä»¬éè¦ç¨positionålimitæéæåæ¶æºåå®¹çèµ·å§ä½ç½®ãç±»ä¼¼è¿æ ·ï¼\n\nbuffer.limit(buffer.position()).position(0);\n\n\n1\n\n\nè¿ç­åäºbuffer.flip(); è°ç¨flip()å2-4ä¼åæ2-5 è¯´ç½äºï¼flip()æ¹åpositionålimitä¸¤ä¸ªæéã rewind()åªæ¹åpositionæéï¼ç­åäºï¼\n\nbuffer.position(0);\n\n\n1\n\n\n\n# 2.1.6 draining\n\nhasremaining()å¯ä»¥å¤æ­æ¯å¦å°è¾¾limitæé ä¸é¢æ¯ä¸ä¸ªå®ç°ï¼å°bufferåå®¹è¯»å°ä¸ä¸ªæ°ç»ä¸­\n\nfor (int i = 0; buffer.hasremaining(), i++) {\n       mybytearray [i] = buffer.get();\n}\n\n\n1\n2\n3\n\n\nremaining()ä¼è¿åpositionå°limitçæ°éã å°bufferåå®¹è¯»å°ä¸ä¸ªæ°ç»ä¸­å¦ä¸ç§å®ç°æ¹å¼ï¼\n\nint count = buffer.remaining();\nfor (int i = 0; i < count, i++) {\n       mybytearray [i] = buffer.get();\n}\n\n\n1\n2\n3\n4\n\n\n\n# 2.1.7 compacting\n\nå½ä½ drainä¸é¨åæ°æ®æ³è¦ç»§ç»­fillæ°æ®çæ¶åï¼ä½ éè¦æè¿æªdrainçæ°æ®æ´ä½åç§»ã buffer.compact()ï¼å¯ä»¥å®æè¿ä¸ªå·¥ä½ã è°ç¨buffer.compact()çææå°±æ¯2-6å°2-7\n\n\n# 2.1.9 mark\n\nmark()æ¹æ³ä¼ç¨markæéæåpositionçä½ç½®ã\n\nbuffer.position(2).mark().position(4);\n\n\n1\n\n\nreset()æ¹æ³ä¼æpositionæéæåmarkçä½ç½®ã\n\nbuffer.reset();\n\n\n1\n\n\n\n\n\n# 2.1.9 comparing\n\npublic abstract class bytebuffer\n       extends buffer implements comparable\n  {\n  // this is a partial api listing\npublic boolean equals (object ob)\npublic int compareto (object ob)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nequals()è¿åtrueéè¦æ»¡è¶³ä¸ä¸ªæ¡ä»¶ï¼\n\n * bufferåå«ç¸åç±»åçåç´ \n * ä¸¤ä¸ªbufferçremaining()è¿åå¼ç¸å\n * remaining dataçåºåç¸å ä¸é¢æ¯ä¸¤ä¸ªä¾å­ï¼\n\n\n# 2.2 åå»ºbuffer\n\nåå»ºæ°bufferçä¸¤ç§æ¹å¼ï¼allocation or wrapping\n\npublic abstract class charbuffer\nextends buffer implements charsequence, comparable\n{\n}\n// this is a partial api listing\npublic static charbuffer allocate (int capacity)\npublic static charbuffer wrap (char [] array)\npublic static charbuffer wrap (char [] array, int offset, int length)\npublic final boolean hasarray()\npublic final char [] array()\npublic final int arrayoffset()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\néè¿allocationåå»ºçbufferæ¯åéä¸ååºå®å¤§å°çå åå­ä½ä¸ºbufferå­å¨ç©ºé´ã wrappingåå»ºçbufferæ¯åå»ºä¸ä¸ªbufferå¯¹è±¡æåä¸ä¸ªarrayç©ºé´ã\n\n\n# 2.3 duplicating buffers\n\npublic abstract class charbuffer\nextends buffer implements charsequence, comparable\n   {\n}\n// this is a partial api listing\npublic abstract charbuffer duplicate();\npublic abstract charbuffer asreadonlybuffer(); \npublic abstract charbuffer slice();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nduplicate()åå»ºä¸ä¸ªæ°çbuffer,ååbufferä¸æ ·ã ä¸¤ä¸ªbufferå±äº«æ°æ®åç´  ä½æ¯ä»ä»¬æç¬ç«çposition, limit, and mark ä¸ä¸ªbufferæ´æ¹äºæ°æ®åç´ å¯¹å¦ä¸ä¸ªbufferå¯è§ åªè¯»ãç´æ¥åå­è¿ä¸¤ä¸ªå±æ§ä¹å¯ä»¥éè¿duplicate()ç»§æ¿ ä¸¾ä¸ªä¾å­ï¼\n\ncharbuffer buffer = charbuffer.allocate (8); \nbuffer.position (3).limit (6).mark().position (5); \ncharbuffer dupebuffer = buffer.duplicate(); buffer.clear();\n\n\n1\n2\n3\n\n\nasreadonlybuffer()åduplicate()åè½ç±»ä¼¼ï¼åªæ¯asreadonlybuffer()è¿åä¸ä¸ªåªè¯»çè§å¾ã slice() è¿åä¸ä¸ªæ°çbufferè§å¾ï¼ä¸è¿ new_position = original_position new_capacity = original_limit - original_position ä¸¾ä¸ªä¾å­æ¥çslice():\n\ncharbuffer buffer = charbuffer.allocate (8); \nbuffer.position (3).limit (5);\ncharbuffer slicebuffer = buffer.slice();\n\n\n1\n2\n3\n\n\n\n\n\n# 2.4 byte buffers\n\n\n# 2.4.1 byte ordering\n\nåå§æ°æ®ç±»åå¨åå­ä¸­çå­å¨æ¹å¼æ¯å¤ä¸ªå­èçè¿ç»­åºåã ä¸¾ä¸ªä¾å­ä¸ä¸ª32-bit int å¼ä¸º 0x037fb4c7çåå­å­å¨åºåå¯è½ä¸º2-14ä¹å¯è½ä¸º2-15: è¿å°±æ¯æè°çå¤§ç«¯è®¾è®¡åå°ç«¯è®¾è®¡ã éç¨å¤§ç«¯è¿æ¯å°ç«¯éå¸¸ç±ç¡¬ä»¶çè®¾è®¡èå³å®èä¸æ¯å°ç«¯çè®¾è®¡èã ipåè®®å®ä¹çå­èé¡ºåºæ¯å¤§ç«¯ãææä½¿ç¨ipåè®®çå¤å­èæ°å¼å¿é¡»å¨ç½ç»å­èåºåæ¬å°ä¸»æºå­èåºåè½¬æ¢ã\n\npackage java.nio;\npublic final class byteorder\n{\npublic static final byteorder big_endian public static final byteorder little_endian\npublic static byteorder nativeorder()\npublic string tostring()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\né¤äºbytebufferä¹å¤ï¼å¶ä»bufferçorder()éä¸­è¿ååä¸ä¸ªå¼ï¼byteorder.nativeorder()ã\n\n\n# 2.4.2 direct buffers\n\npublic abstract class bytebuffer extends buffer implements comparable {\n// this is a partial api listing\npublic static bytebuffer allocate (int capacity) ;\npublic static bytebuffer allocatedirect (int capacity) ;\npublic abstract boolean isdirect();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nallocatedirectå¯ä»¥ç´æ¥å¨å å¤å¼è¾ä¸ä¸ªbufferã å å¤bufferèçäºç¨æ·ç©ºé´åç³»ç»ç©ºé´çbufferæ·è´ï¼æåæçã\n\n\n# 2.4.3 view buffers\n\næ¶å°æ°æ®çæ¶åä½ å¯è½è¦åçä¸ä¸æ°æ®åå³å®åä»ä¹æä½ï¼è¿å°±éè¦ç¨å°bytebufferçè§å¾apiã\n\npublic abstract class bytebuffer extends buffer implements comparable {\n// this is a partial api listing\npublic abstract charbuffer ascharbuffer(); \npublic abstract shortbuffer asshortbuffer(); \npublic abstract intbuffer asintbuffer();\n public abstract longbuffer aslongbuffer();\n  public abstract floatbuffer asfloatbuffer();\n   public abstract doublebuffer asdoublebuffer();\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè§å¾å¨ç´æ¥åå­bufferä¸æä½æ´é«æã å½æ¬å°ç¡¬ä»¶çå­èé¡ºåºåbufferä¸­çå­èé¡ºåºä¸è´æ¶ï¼éè¿ä½çº§ä»£ç å°±å¯ä»¥æä½bufferä¸­çæ°æ®ï¼èä¸éè¦ç»è¿å­èç çç¼ç è§£ç ã\n\n\n# 2.4.4 data element views\n\nå½getint() è¢«è°ç¨æ¶ï¼é£ä¹ä»å½åä½ç½®å¼å§ç4ä¸ªå­èå°è¢«æåæä¸ä¸ªintè¿åã int value = buffer.getint();å°è¿åbufferä¸­ç1-4ä½ï¼å·ä½è¿åçæ°æ®å¼ä¸å­èåºæå³ç³»ã int value = buffer.order (byteorder.big_endian).getint(); è¿å0x3bc5315eã int value = buffer.order (byteorder.little_endian).getint(); è¿å0x5e31c53bã\n\n\n# ç¬¬ä¸ç«  channels\n\n\n# 3.1 basic\n\nå¨nioæ¥å£ä¸­æä»¬éè¦ä½¿ç¨channelåbufferè¿è¡ioæä½ï¼channelæ¨¡æäºæµçæ¦å¿µï¼ä½æ¯åæä¸åãæ°æ®æ»æ¯ä»ä¸ä¸ªchannelè¯»å°ä¸ä¸ªbufferä¸­ï¼æèä»ä¸ä¸ªbufferä¸­åå°channelä¸­ã channelæ¥å£çä¸»è¦å®ç°ç±»å¦ä¸ï¼\n\n * filechannel\n * datagramchannel\n * socketchannel\n * serversocketchannel\n\njavanio channelsåæµæä¸äºç¸ä¼¼ï¼ä½æ¯åæäºä¸åï¼\n\nä½ å¯ä»¥åæ¶è¯»ååchannelsï¼æµstreamåªæ¯æååçè¯»æåï¼inputstream/outputstreamï¼\n\n * channelså¯ä»¥å¼æ­¥çè¯»ååï¼æµstreamæ¯åæ­¥ç\n * channelsæ»æ¯è¯»åå°bufferæèä»bufferä¸­åå¥\n\nä¸é¢åå«ä»ç»ä¸ä¸channelæéè¦çä¸äºå®ç°ç±»ï¼\n\n * filechannel : å¯ä»¥è¯»åæä»¶ä¸­çæ°æ®\n * datagramchannelï¼å¯ä»¥éè¿udpåè®®è¯»åæ°æ®\n * socketchannelï¼å¯ä»¥éè¿tcpåè®®è¯»åæ°æ®\n * serversocketchannelï¼åè®¸æä»¬åä¸ä¸ªwebæå¡å¨é£æ ·çå¬tcpé¾æ¥è¯·æ±ï¼ä¸ºæ¯ä¸ä¸ªé¾æ¥è¯·æ±åå»ºä¸ä¸ªsocketchannel\n\n\n# 3.1.1 open channel\n\nfilechannelåªè½éè¿getchannel()å¾å°ã socketchannelæå·¥åæ¹æ³å¯ä»¥å¾å°ã\n\nsocketchannel sc = socketchannel.open();\nsc.connect (new inetsocketaddress (\"somehost\", someport));\n\nserversocketchannel ssc = serversocketchannel.open(); ssc.socket().bind (new inetsocketaddress (somelocalport));\ndatagramchannel dc = datagramchannel.open();\n\nrandomaccessfile raf = new randomaccessfile (\"somefile\", \"r\"); filechannel fc = raf.getchannel();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 3.1.2 using channels\n\npublic interface readablebytechannel extends channel {\npublic int read (bytebuffer dst) throws ioexception;\n}\n\npublic interface writablebytechannel extends channel {\npublic int write (bytebuffer src) throws ioexception;\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nchannels å¯ä»¥æ¯ååæèååçã å¦æä¸ä¸ªclasså®ç°äºä¸é¢ä¸¤ä¸ªæ¥å£ï¼å°±æ¯ååçã channelså¯ä»¥å¨é»å¡æ¨¡å¼åéé»å¡æ¨¡å¼å·¥ä½ã åªæsocketåpipeså¯ä»¥å·¥ä½å¨éé»å¡æ¨¡å¼ã\n\n\n# 3.1.3 close channels\n\n\n# 3.2 scatter/gather\n\nscatterï¼å°å¤ä¸ªbufferæç§é¡ºåºåæä¸ä¸ª gatherï¼å°ä¸ä¸ªå­ç¬¦ä¸²æç§é¡ºåºæåæå¤ä¸ªãéä¸ªå¡«æ»¡bufferã\n\n\n# 3.3 file channels\n\nfile channels åªè½ä»¥é»å¡æ¨¡å¼å·¥ä½ã\n\n\n# 3.3.1 accessing files\n\npublic abstract class filechannel extends abstractchannel \nimplements bytechannel, gatheringbytechannel, scatteringbytechannel{\n// this is a partial api listing\n//è·åpositionä½ç½®\npublic abstract long position()\n//è®¾ç½®position\npublic abstract void position (long newposition)\n//ä»positionä½ç½®å¼å§è¯»\npublic abstract int read (bytebuffer dst)\n//ä»positionä½ç½®å¼å§è¯»\npublic abstract int read (bytebuffer dst, long position)\n//ä»positionä½ç½®å¼å§å\n public abstract int write (bytebuffer src)\n//ä»positionä½ç½®å¼å§å\npublic abstract int write (bytebuffer src, long position)\npublic abstract long size()\n//æªåæä»¶ä¿çsizeå¤§å°ï¼å¹¶ç§»å¨positionå°sizeçä½ç½®\npublic abstract void truncate (long size) \n//å¼ºå¶å·æ°ç¼å­å°ç£çæä»¶\npublic abstract void force (boolean metadata)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 3.3.2 file locking\n\n\n# 3.4 memory-mapped files\n\n\n# 3.5 socket channels\n\nthe new socket channels can operate in nonblocking mode and are selectable. these two capabilities enable tremendous scalability and flexibility in large applications. serversocketchannelæ²¡æå®ç°readåwriteæ¥å£ï¼è¯´æå®ä¸éè¦è½¬åæ°æ®ãå®åªè´è´£å®¶åº­socketè¿æ¥ï¼åå»ºsocketchannelã\n\na channel is a conduit to an i/o service and provides methods for interacting with that service\n\næ¯ä¸ªsocket channelsé½æä¸ä¸ªsocketä¸ä¹å¯¹åºï¼è°ç¨socket()å¯ä»¥è·å¾ã ä½å¹¶ä¸æ¯ææçsocketsé½æchannelsãsocketçgetchannel()å¯è½ä½ä¼null;\n\n\n# 3.5.1 nonblocking mode\n\nè°ç¨configureblocking (false);è®¾ç½®channelä¸ºéé»å¡æ¨¡å¼ã ä½æ¯åªæææblockinglock() è¿åçå¯¹è±¡éççº¿ç¨æè½ä¿®æ¹é»å¡æ¨¡å¼ã\n\nsocket socket = null;\nobject lockobj = serverchannel.blockinglock();\n// have a handle to the lock object, but haven't locked it yet\n// may block here until lock is acquired\nsynchronize (lockobj){\n// this thread now owns the lock; mode can't be changed boolean prevstate = serverchannel.isblocking();\nserverchannel.configureblocking (false); socket = serverchannel.accept(); serverchannel.configureblocking (prevstate);\n}\n// lock is now released, mode is allowed to change\nif (socket != null) {\ndosomethingwiththesocket (socket);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 3.5.2 serversocketchannel\n\nthe serversocketchannel class is a channel-based socket listener. å®è´è´£å¤çsocketä»»å¡å¹¶æ·»å channelã\n\npublic abstract class socketchannel\n    extends abstractselectablechannel\n    implements bytechannel, scatteringbytechannel, gatheringbytechannel, networkchannel\n{\n//socketchannelè¢«åå»ºä½æ¯å¹¶æ²¡æè¿æ¥ï¼openï¼ï¼åªæ¯åå»ºä¸ä¸ªsocketchannelï¼è¿éè¦è°ç¨connect()è¿æ¥å°ä¸ä¸ªå°å\npublic static socketchannel open() throws ioexception\n//åå»ºå¹¶è¿æ¥\npublic static socketchannel open(socketaddress remote) throws ioexception\n//æ¯æçæä½ï¼è¯»ãåãè¿æ¥ï¼\npublic final int validops()\nãã\npublic abstract socket socket();\n//æ¯å¦è¿æ¥å°è¿ç¨\npublic abstract boolean isconnected();\n//connectï¼ï¼æ¹æ³æ¯èæ¶çï¼å ä¸ºéè¦æ°æ®åå¯¹è¯ï¼tcpæ¡æï¼ãå¦æsocketchannelèº«ä¸æå¹¶åãconnect(),isconnectionpendingè¿åtrue\npublic abstract boolean isconnectionpending();\n//å»ºç«è¿æ¥\npublic abstract boolean connect(socketaddress remote) throws ioexception;\n//ä»»ä½æ¶åé½å¯ä»¥å®å¨çè°ç¨\npublic abstract boolean finishconnect() throws ioexception;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nsocket channelsæ¯çº¿ç¨å®å¨çã socketæ¯é¢åæµçèä¸æ¯é¢åæ°æ®åçï¼å®è½ä¿è¯å°è¾¾çé¡ºåºæ¯åéçé¡ºåºï¼ä¸è½ä¿è¯ç»´æ¤åç»ãåéæ¹åé20ä¸ªå­èï¼æ¥æ¶æ¹readå¯è½ç´æ¥åå°7ä¸ªå­èï¼å¶ä½å­èå¨ä¼ è¾ä¸­ãæä»¥ï¼å¤ä¸ªçº¿ç¨å±äº«ä¸ä¸ªsocketçä¸ç«¯ä¸æ¯å¥½çè®¾è®¡ã\n\n\n# 3.5.4 datagramchannel\n\nsocketchannelä¸ºé¢åè¿æ¥çæµåè®®ï¼å¦tcp/ipï¼ datagramchannelä¸ºé¢åæ è¿æ¥çæ°æ®ååè®®ï¼å¦udp/ipï¼\n\n\n# 3.5.5 pipes\n\npipeç¨äºåä¸ä¸ªjvmåä¸åçº¿ç¨ä¹é´çæ°æ®äº¤æ¢é®é¢ ä¸åjvmä¹é´çæ°æ®äº¤æ¢é®é¢åºè¯¥ä½¿ç¨socketchannel pipeç±»åå»ºäºä¸å¯¹channelå¯¹è±¡ï¼å®ä»¬æä¾äºä¸ç§åéæºå¶ã pipeå®ç°ä¸¤ä¸ªè¿ç¨ä¹é´çååæ°æ®è¿æ¥ã pipeæä¸ä¸ªsinkchannelåä¸ä¸ªsourcechannel æ°æ®ä¼ä»sourcechannelè¯»åãè¢«åå°sinkchannel\n\npublic abstract class pipe {\n    public static abstract class sourcechannel\n        extends abstractselectablechannel\n        implements readablebytechannel, scatteringbytechannel\n    {\n        protected sourcechannel(selectorprovider provider) {\n            super(provider);\n        }\n        public final int validops() {\n            return selectionkey.op_read;\n        }\n    }\n\n    public static abstract class sinkchannel\n        extends abstractselectablechannel\n        implements writablebytechannel, gatheringbytechannel\n    {\n        protected sinkchannel(selectorprovider provider) {\n            super(provider);\n        }\n        public final int validops() {\n            return selectionkey.op_write;\n        }\n\n    }\n    protected pipe() { }\n    //ä»ç®¡éè¯»åæ°æ®ï¼è¦è®¿é®sourceéé\n    public abstract sourcechannel source();\n    //åç®¡éåå¥æ°æ®ï¼è¦è®¿é®sinkéé\n    public abstract sinkchannel sink();\n    //ç®¡éåå»º\n    public static pipe open() throws ioexception {\n        return selectorprovider.provider().openpipe();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# ç¬¬åç«  selectors\n\nselectorï¼éæ©å¨ï¼æ¯java nioä¸­è½å¤æ£æµä¸å°å¤ä¸ªnioééï¼å¹¶è½å¤ç¥æééæ¯å¦ä¸ºè¯¸å¦è¯»åäºä»¶åå¥½åå¤çç»ä»¶ãè¿æ ·ï¼ä¸ä¸ªåç¬ççº¿ç¨å¯ä»¥ç®¡çå¤ä¸ªchannelï¼ä»èç®¡çå¤ä¸ªç½ç»è¿æ¥,ä»ç¨åä¸ªçº¿ç¨æ¥å¤çå¤ä¸ªchannelsçå¥½å¤æ¯ï¼åªéè¦æ´å°ççº¿ç¨æ¥å¤çééã\n\n\n# 4.1 åºç¡\n\n * selectorï¼ä¸ä¸ªselectorå¯ä»¥æ³¨åå¤ä¸ªchannelï¼ä¸ä¸ªçº¿ç¨éè¿ç®¡çselectorå®ç°ç®¡çå¤ä¸ªchannelã\n * selectablechannelï¼æä¾channle selectabilityçéç¨æ¹æ³ã\n * selectionkeyï¼å°è£äºchannleåselectorçæ³¨åå³ç³»ï¼åå«æ³¨åçæå´è¶£çäºä»¶ã\n\n\n# 4.2 ç¤ºä¾\n\n//åå»ºselector\nselector selector = selector.open();\nchannel.configureblocking(false);\n//æ³¨åselector\nselectionkey key = channel.register(selector, selectionkey.op_read);\nwhile(true) {\n//åçº¿ç¨é»å¡æ£æ¥selectorä¸­å°±ç»ªçäºä»¶\n  int readychannels = selector.select();\n  if(readychannels == 0) continue;\n  set selectedkeys = selector.selectedkeys();\n  iterator keyiterator = selectedkeys.iterator();\n  //å¾ªç¯å¤çå°±ç»ªçäºä»¶\n  while(keyiterator.hasnext()) {\n    selectionkey key = keyiterator.next();\n    if(key.isacceptable()) {\n        // a connection was accepted by a serversocketchannel.\n    } else if (key.isconnectable()) {\n        // a connection was established with a remote server.\n    } else if (key.isreadable()) {\n        // a channel is ready for reading\n    } else if (key.iswritable()) {\n        // a channel is ready for writing\n    }\n    keyiterator.remove();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"çäº§è",frontmatter:{title:"çäº§è",date:"2022-05-21T23:43:06.000Z",permalink:"/pages/fe7ca2/",categories:["ä¸­é´ä»¶","Kafka"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/40.Kafka/010.%E7%94%9F%E4%BA%A7%E8%80%85.html",relativePath:"04.ä¸­é´ä»¶/40.Kafka/010.çäº§è.md",key:"v-7c0136cf",path:"/pages/fe7ca2/",headersStr:null,content:'# åå»ºçäº§è\n\nåå»ºçäº§èæä¸ä¸ªå±æ§æ¯å¿éç bootstrap.servers æå®brokeréç¾¤çå°åï¼æ ¼å¼ä¸ºhost:port key.serializer kafka brokerå¸ææ¶å°æ¶æ¯çé®åå¼é½æ¯å­èæ°ç»ï¼ä½æ¯ä¸ºäºä»£ç çå¯è¯»æ§ï¼åè®¸produceræjavaå¯¹è±¡åéç»brokerï¼ä½æ¯éè¦æå®ä¸ä¸ªå®ç°äºorg.apache.kafka.common.serialization.Serializeræ¥å£çåºååå¨ã value.serializer ä¸key.serializerä¸æ ·çéçã\n\n\t\tProperties props = new Properties();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, "172.16.1.1,172.16.1.2");\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer");\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, "org.apache.kafka.common.serialization.StringSerializer");\n        producer = new KafkaProducer<>(props);\n\n\n1\n2\n3\n4\n5\n\n\n\n# åéæ¶æ¯\n\nåéæ¶æ¯æä¸ç§æ¹å¼ï¼\n\n * åéå¹¶å¿è®°ï¼fire-and-forgetï¼\n * åæ­¥åé\n * å¼æ­¥åé\n\nåéå¹¶å¿è®° ä¸å³å¿æ¶æ¯æ¯å¦å°è¾¾\n\nProducerRecord<String, String> record = new ProducerRecord<>(topicName, key,value);\nproducer.send(record);\n\n\n1\n2\n\n\nåæ­¥åé\n\nProducerRecord<String, String> record = new ProducerRecord<>(topicName, key,value);\ntry{\n\tproducer.send(record).get();//producer.send(record)è¿åä¸ä¸ªFutureå¯¹è±¡ï¼è°ç¨get()é»å¡ç­å¾è¿åç»æ\n} catch (Exception e){\n\te.printStackTrace();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nkafkaProducerä¼åéä¸¤ç±»éè¯¯\n\n * å¯éè¯çï¼æ¯å¦è¿æ¥éè¯¯ãæ ä¸»ï¼no leaderï¼éè¯¯\n * ä¸å¯éè¯çï¼æ¯å¦æ¶æ¯å¤ªå¤§ å¼æ­¥åé å¼æ­¥åéçå¼å¸¸éè¦è®°å½ä¸æï¼produceræ¯æåè°ã\n\nProducerRecord<String, String> record = new ProducerRecord<>(topicNameTrade, key,value);\n            producer.send(record, new Callback() {\n                @Override\n                public void onCompletion(RecordMetadata metadata, Exception exception) {\n                    exception.printStackTrace();\n                }\n            });\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# çäº§èçéç½®\n\nacks æå®è¦å¤å°ä¸ªååºå¯æ¬æ¶å°æ¶æ¯ï¼çäº§èæè®¤ä¸ºæ¶æ¯åå¥æ¯æåçãå¶å¼æ0ã1ãall.\n\n * 0ï¼ä¸ç­å¾ä»»ä½æå¡å¨çç¸åº\n * 1ï¼ åªè¦éç¾¤çé¦é¢èç¹æ¶å°\n * all: ç­å¾ææå¯æ¬é½æ¶å°\n\nbuffer.memory è®¾ç½®çäº§èåå­ç¼å²åºå¤§å°ã ç¨åºåéæ¶æ¯çéåº¦ > åéå°brokerçéåº¦ä¼å¯¼è´è¿ä¸ªç¼å²åºç©ºé´ä¸è¶³ã ç©ºé´ä¸è¶³æ¶ç¨åºé»å¡è¿æ¯æå¼å¸¸åå³äºéç½®max.block.ms compression.type é»è®¤ï¼æ¶æ¯æ¯ä¸ä¼è¢«åç¼©çã produceråbrokeråéæ¶æ¯ä¸æ¯éæ¡åéçï¼æ¯ä¸æ¹ä¸æ¹åéçã åéæ¹æ¬¡æå¯éçåç¼©æ¹å¼ï¼æä¸ç§ï¼\n\n * snappy\n * gzip\n * lz4\n\nretries éè¯æ¬¡æ° é»è®¤éè¯ä¹é´ä¼ç­å¾100ms retry.backoff.mså¯è®¾ç½®è¿ä¸ªç­å¾æ¶é´ batch.size æå¤ä¸ªæ¶æ¯è¦åéå°ä¸ä¸ªååºçæ¶åï¼producerä¼æä»ä»¬æ¾å°ä¸ä¸ªæ¹æ¬¡ã è¯¥éç½®æå®æ¯æ¹æ¬¡å¤§å°ï¼å­èï¼ã æ¹æ¬¡è£æ»¡çæ¶åä¼è¢«åéåºå»ï¼\n\n\n# åºååå¨\n\n\n# ååº\n\nkafkaæ¶æ¯çrecodeåå«topicãkeyãvalueã brokerç¨keyåéååºãkeyç¸åçä¸å®ä¼åéå°åä¸ä¸ªååºã å¦ækeyä¸ºnull,é£ä¹å°ä½¿ç¨é»è®¤ååºï¼é»è®¤çååºå¨æ¯ä½¿ç¨Round Robinç®æ³ã ä¹å¯ä»¥å®ç°partitionerå®ç°èªå®ä¹ååºå¨ã',normalizedContent:'# åå»ºçäº§è\n\nåå»ºçäº§èæä¸ä¸ªå±æ§æ¯å¿éç bootstrap.servers æå®brokeréç¾¤çå°åï¼æ ¼å¼ä¸ºhost:port key.serializer kafka brokerå¸ææ¶å°æ¶æ¯çé®åå¼é½æ¯å­èæ°ç»ï¼ä½æ¯ä¸ºäºä»£ç çå¯è¯»æ§ï¼åè®¸produceræjavaå¯¹è±¡åéç»brokerï¼ä½æ¯éè¦æå®ä¸ä¸ªå®ç°äºorg.apache.kafka.common.serialization.serializeræ¥å£çåºååå¨ã value.serializer ä¸key.serializerä¸æ ·çéçã\n\n\t\tproperties props = new properties();\n        props.put(producerconfig.bootstrap_servers_config, "172.16.1.1,172.16.1.2");\n        props.put(producerconfig.key_serializer_class_config, "org.apache.kafka.common.serialization.stringserializer");\n        props.put(producerconfig.value_serializer_class_config, "org.apache.kafka.common.serialization.stringserializer");\n        producer = new kafkaproducer<>(props);\n\n\n1\n2\n3\n4\n5\n\n\n\n# åéæ¶æ¯\n\nåéæ¶æ¯æä¸ç§æ¹å¼ï¼\n\n * åéå¹¶å¿è®°ï¼fire-and-forgetï¼\n * åæ­¥åé\n * å¼æ­¥åé\n\nåéå¹¶å¿è®° ä¸å³å¿æ¶æ¯æ¯å¦å°è¾¾\n\nproducerrecord<string, string> record = new producerrecord<>(topicname, key,value);\nproducer.send(record);\n\n\n1\n2\n\n\nåæ­¥åé\n\nproducerrecord<string, string> record = new producerrecord<>(topicname, key,value);\ntry{\n\tproducer.send(record).get();//producer.send(record)è¿åä¸ä¸ªfutureå¯¹è±¡ï¼è°ç¨get()é»å¡ç­å¾è¿åç»æ\n} catch (exception e){\n\te.printstacktrace();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nkafkaproducerä¼åéä¸¤ç±»éè¯¯\n\n * å¯éè¯çï¼æ¯å¦è¿æ¥éè¯¯ãæ ä¸»ï¼no leaderï¼éè¯¯\n * ä¸å¯éè¯çï¼æ¯å¦æ¶æ¯å¤ªå¤§ å¼æ­¥åé å¼æ­¥åéçå¼å¸¸éè¦è®°å½ä¸æï¼produceræ¯æåè°ã\n\nproducerrecord<string, string> record = new producerrecord<>(topicnametrade, key,value);\n            producer.send(record, new callback() {\n                @override\n                public void oncompletion(recordmetadata metadata, exception exception) {\n                    exception.printstacktrace();\n                }\n            });\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# çäº§èçéç½®\n\nacks æå®è¦å¤å°ä¸ªååºå¯æ¬æ¶å°æ¶æ¯ï¼çäº§èæè®¤ä¸ºæ¶æ¯åå¥æ¯æåçãå¶å¼æ0ã1ãall.\n\n * 0ï¼ä¸ç­å¾ä»»ä½æå¡å¨çç¸åº\n * 1ï¼ åªè¦éç¾¤çé¦é¢èç¹æ¶å°\n * all: ç­å¾ææå¯æ¬é½æ¶å°\n\nbuffer.memory è®¾ç½®çäº§èåå­ç¼å²åºå¤§å°ã ç¨åºåéæ¶æ¯çéåº¦ > åéå°brokerçéåº¦ä¼å¯¼è´è¿ä¸ªç¼å²åºç©ºé´ä¸è¶³ã ç©ºé´ä¸è¶³æ¶ç¨åºé»å¡è¿æ¯æå¼å¸¸åå³äºéç½®max.block.ms compression.type é»è®¤ï¼æ¶æ¯æ¯ä¸ä¼è¢«åç¼©çã produceråbrokeråéæ¶æ¯ä¸æ¯éæ¡åéçï¼æ¯ä¸æ¹ä¸æ¹åéçã åéæ¹æ¬¡æå¯éçåç¼©æ¹å¼ï¼æä¸ç§ï¼\n\n * snappy\n * gzip\n * lz4\n\nretries éè¯æ¬¡æ° é»è®¤éè¯ä¹é´ä¼ç­å¾100ms retry.backoff.mså¯è®¾ç½®è¿ä¸ªç­å¾æ¶é´ batch.size æå¤ä¸ªæ¶æ¯è¦åéå°ä¸ä¸ªååºçæ¶åï¼producerä¼æä»ä»¬æ¾å°ä¸ä¸ªæ¹æ¬¡ã è¯¥éç½®æå®æ¯æ¹æ¬¡å¤§å°ï¼å­èï¼ã æ¹æ¬¡è£æ»¡çæ¶åä¼è¢«åéåºå»ï¼\n\n\n# åºååå¨\n\n\n# ååº\n\nkafkaæ¶æ¯çrecodeåå«topicãkeyãvalueã brokerç¨keyåéååºãkeyç¸åçä¸å®ä¼åéå°åä¸ä¸ªååºã å¦ækeyä¸ºnull,é£ä¹å°ä½¿ç¨é»è®¤ååºï¼é»è®¤çååºå¨æ¯ä½¿ç¨round robinç®æ³ã ä¹å¯ä»¥å®ç°partitionerå®ç°èªå®ä¹ååºå¨ã',charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"Kafka",frontmatter:{title:"Kafka",date:"2020-05-21T21:50:26.000Z",permalink:"/pages/561f34/",categories:["ä¸­é´ä»¶","Kafka"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/40.Kafka/001.Kafka%E5%8C%85%E5%90%AB%E9%82%A3%E5%87%A0%E9%83%A8%E5%88%86.html",relativePath:"04.ä¸­é´ä»¶/40.Kafka/001.Kafkaåå«é£å é¨å.md",key:"v-0df39df8",path:"/pages/561f34/",headersStr:null,content:"# ä¸»é¢åååº\n\nkafkaéè¿ä¸»é¢å¯¹æ¶æ¯åç±»ã kafkaéè¿ååºå®ç°æ°æ®åä½åä¼¸ç¼©æ§ã ä¸ä¸ªä¸»é¢åå«å¤ä¸ªååºï¼æä»¥å¨topicåæ¶æ¯å¯è½æ¯æ éçï¼ä½æ¯å¨åä¸ªpartitionåé¨æ¯æåºçã\n\n\n# çäº§èåæ¶è´¹è\n\nçäº§èåå»ºæ¶æ¯ï¼åå¸å°ä¸ä¸ªç¹å®çä¸»é¢ä¸ï¼æ¶æ¯ä¼åè¡¡å¨ææååºä¸ã æ¶è´¹èè®¢éä¸ä¸ªæèå¤ä¸ªä¸»é¢ï¼æç§çäº§é¡ºåºæ¶è´¹æ¶æ¯ã åç§»éæ¯ä¸ç§åæ°æ®ï¼æ¯ä¸ä¸ªä¸æ­éå¢çæ´æ°å¼ï¼æ¶è´¹èéè¿åç§»éæ¥åºåå·²ç»æ¶è´¹çæ¶æ¯ãæ¯ä¸ªååºæå¯ä¸çåç§»éï¼æ¶è´¹èææåæ¶è´¹çæ¶æ¯çåç§»éåéå°brokeræèzookeeperä¿å­ã æ¶è´¹èç¾¤ç»å¤ä¸ªæ¶è´¹èå±åè¯»åä¸ä¸ªä¸»é¢ï¼æå¯ä¸çgroupId,ç¾¤ç»ä¿è¯ï¼æ¯ä¸ªååºåªè½è¢«ä¸ä¸ªæ¶è´¹èä½¿ç¨ã\n\n\n# brokeråéç¾¤\n\nbrokeræ¯ä¸ä¸ªç¬ç«çkafka æå¡å¨ãè´è´£æ¥æ¶çäº§èçæ¶æ¯ï¼ä¸ºæ¶æ¯è®¾ç½®åç§»éï¼æäº¤æ¶æ¯å°ç£çä¿å­ãæ¯éç¾¤çç»æé¨åã éç¾¤æ§å¶å¨æ¯éç¾¤ä¸­çä¸ä¸ªbrokerãè´è´£ååºåéåbrokerçæ§ã ååºé¦é¢ãä¸ä¸ªååºä¼åéç»å¤ä¸ªbrokerï¼è¿ç§å¤å¶æºå¶æ¯ä¸ºäºæä¾æ¶æ¯åä½ãå¨è¿å¤ä¸ªbrokerä¸­éè¦æä¸ä¸ªååºé¦é¢ï¼æ¶è´¹èåªæ¶è´¹ååºé¦é¢çæ¶æ¯ï¼ååºé¦é¢è´è´£ææ¶è´¹çoffsetåæ­¥å°åä½ååºä¸­ã",normalizedContent:"# ä¸»é¢åååº\n\nkafkaéè¿ä¸»é¢å¯¹æ¶æ¯åç±»ã kafkaéè¿ååºå®ç°æ°æ®åä½åä¼¸ç¼©æ§ã ä¸ä¸ªä¸»é¢åå«å¤ä¸ªååºï¼æä»¥å¨topicåæ¶æ¯å¯è½æ¯æ éçï¼ä½æ¯å¨åä¸ªpartitionåé¨æ¯æåºçã\n\n\n# çäº§èåæ¶è´¹è\n\nçäº§èåå»ºæ¶æ¯ï¼åå¸å°ä¸ä¸ªç¹å®çä¸»é¢ä¸ï¼æ¶æ¯ä¼åè¡¡å¨ææååºä¸ã æ¶è´¹èè®¢éä¸ä¸ªæèå¤ä¸ªä¸»é¢ï¼æç§çäº§é¡ºåºæ¶è´¹æ¶æ¯ã åç§»éæ¯ä¸ç§åæ°æ®ï¼æ¯ä¸ä¸ªä¸æ­éå¢çæ´æ°å¼ï¼æ¶è´¹èéè¿åç§»éæ¥åºåå·²ç»æ¶è´¹çæ¶æ¯ãæ¯ä¸ªååºæå¯ä¸çåç§»éï¼æ¶è´¹èææåæ¶è´¹çæ¶æ¯çåç§»éåéå°brokeræèzookeeperä¿å­ã æ¶è´¹èç¾¤ç»å¤ä¸ªæ¶è´¹èå±åè¯»åä¸ä¸ªä¸»é¢ï¼æå¯ä¸çgroupid,ç¾¤ç»ä¿è¯ï¼æ¯ä¸ªååºåªè½è¢«ä¸ä¸ªæ¶è´¹èä½¿ç¨ã\n\n\n# brokeråéç¾¤\n\nbrokeræ¯ä¸ä¸ªç¬ç«çkafka æå¡å¨ãè´è´£æ¥æ¶çäº§èçæ¶æ¯ï¼ä¸ºæ¶æ¯è®¾ç½®åç§»éï¼æäº¤æ¶æ¯å°ç£çä¿å­ãæ¯éç¾¤çç»æé¨åã éç¾¤æ§å¶å¨æ¯éç¾¤ä¸­çä¸ä¸ªbrokerãè´è´£ååºåéåbrokerçæ§ã ååºé¦é¢ãä¸ä¸ªååºä¼åéç»å¤ä¸ªbrokerï¼è¿ç§å¤å¶æºå¶æ¯ä¸ºäºæä¾æ¶æ¯åä½ãå¨è¿å¤ä¸ªbrokerä¸­éè¦æä¸ä¸ªååºé¦é¢ï¼æ¶è´¹èåªæ¶è´¹ååºé¦é¢çæ¶æ¯ï¼ååºé¦é¢è´è´£ææ¶è´¹çoffsetåæ­¥å°åä½ååºä¸­ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"æ¶è´¹è",frontmatter:{title:"æ¶è´¹è",date:"2022-05-21T23:43:44.000Z",permalink:"/pages/fed167/",categories:["ä¸­é´ä»¶","Kafka"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/40.Kafka/020.%E6%B6%88%E8%B4%B9%E8%80%85.html",relativePath:"04.ä¸­é´ä»¶/40.Kafka/020.æ¶è´¹è.md",key:"v-04af9e42",path:"/pages/fed167/",headers:[{level:2,title:"å ä¸ªæ¦å¿µ",slug:"å ä¸ªæ¦å¿µ",normalizedTitle:"å ä¸ªæ¦å¿µ",charIndex:2},{level:2,title:"éç½®é¡¹",slug:"éç½®é¡¹",normalizedTitle:"éç½®é¡¹",charIndex:1024}],headersStr:"å ä¸ªæ¦å¿µ éç½®é¡¹",content:'# å ä¸ªæ¦å¿µ\n\næ¶è´¹èç» å¤ä¸ªæ¶è´¹å®ä¾å±äº«ä¸ä¸ªGroupId,å¤ä¸ªæ¶è´¹å®ä¾ç»ç»å¨ä¸èµ·åè°æ¶è´¹è®¢éçä¸»é¢åååºã æ¶è´¹å®ä¾å¯ä»¥æ¯ä¸ä¸ªè¿ç¨ä¹å¯ä»¥æ¯ä¸ä¸ªçº¿ç¨ GroupIdæ¯ä¸ä¸ªå­ç¬¦ä¸²ï¼å¯ä¸æ è¯ä¸ä¸ªæ¶è´¹ç» GroupId.consumerInstance:GroupId.partition = 1:Nï¼ä¹å°±æ¯è¯´åä¸ä¸ªæ¶è´¹èå®ä¾åpartitionçå¯¹åºå³ç³»æ¯1ï¼N offset ä½ç§»ï¼offsetï¼:consumerè®°å½æ¶è´¹æ¶æ¯çä½ç½® kafkaçä½ç§»æºå¶ï¼\n\n * consumerå®ä¾ä¿å­èªå·±çoffset,éè¿checkPointæºå¶å®ææä¹å\n * æ°çæ¬çkafkaéè¿topicå®ææä¹åå°broker\n * èçæ¬çkafkaæ¯æä¹åå°zkçï¼ä½æ¯zkå¹¶ä¸éåé¢ç¹çå\n\nrebalance ä¸ä¸ªgroupIdåæå¤ä¸ªconsumerï¼å¶è®¢étopicæå¤ä¸ªpartitionï¼é£ä¹é£ä¸ªæ¶è´¹èæ¶è´¹é£ä¸ªpartitionå¢ï¼rebalanceå°±æ¯åconsumeråpartitionçå¹éã\n\nä»ä¹æ¶årebalance\n\n * ç»æåçåæ´ï¼consumerçå å¥æèç¦»å¼ãå´©æºï¼\n * è®¢éçpartitionåçåæ´\n * è®¢éçtopicåçåæ´ï¼æç§æ­£åæ¹å¼è®¢éæ¶æ¯å¯è½åççï¼\n\nå¦ä½rebalance consumerClientæä¸¤ç§ç­ç¥å¯éï¼éè¿partition.assignment.strategyéç½®ï¼é»è®¤æ¯Rangeç­ç¥\n\n * Range strategyï¼æç§topicç»´åº¦ååpartition,é®é¢æ¯å¯è½åºç°åéä¸åçé®é¢\n * RoundRobinï¼ææpartitionååï¼åéçæ´åå\n\nè°æ¥æ§è¡rebalanceåconsumer groupç®¡ç æ¯ä¸ªconsumer groupé½ä¼è¢«åéä¸ä¸ªcoordinatorç¨äºç»ç®¡çåä½ç§»ç®¡çã å½æ°çæ¬consumer groupçç¬¬ä¸ä¸ªconsumerå¯å¨çæ¶åï¼å®ä¼å»åkafka serverç¡®å®è°æ¯å®ä»¬ç»çcoordinatorï¼ä¹åè¯¥groupåçæææåé½ä¼åè¯¥coordinatorè¿è¡åè°éä¿¡ã\n\nè°æ¯coordinator consumer groupä½ç§»ä¿¡æ¯åå¥__consumers_offsetsçååºä¸ºpartition,è¯¥partitionçleaderæå¨çbrokerå°±æ¯è¯¥ç»çcoordinatorã\n\n\n# éç½®é¡¹\n\n\t//ç»å¯ä¸id\n\tpublic static final String GROUP_ID_CONFIG = "group.id";\n\n\n    //æ§å¶åæ¬¡è°ç¨call()è¿åçè®°å½æ°é\n    public static final String MAX_POLL_RECORDS_CONFIG = "max.poll.records";\n\n    /** ä½¿ç¨ç»ç®¡ççæ¶åçæ å¦æconsumerä¸¤æ¬¡poll()è°ç¨æ¶é´è¶è¿è¿ä¸ªéå¼ ç»ç®¡çå¨ä¼è¿è¡rebalance */\n    public static final String MAX_POLL_INTERVAL_MS_CONFIG = "max.poll.interval.ms";\n\n    /** consumerçå¿è·³æ¶é´*/\n    public static final String SESSION_TIMEOUT_MS_CONFIG = "session.timeout.ms";\n    /**\n     * èªå¨æäº¤offset é»è®¤æ¯true\n     * å¯å³é­ï¼ç¶åèªå·±æ§å¶æäº¤offset,éè¿auto.commit.interval.msæ§å¶æäº¤é¢æ¬¡\n     */\n    public static final String ENABLE_AUTO_COMMIT_CONFIG = "enable.auto.commit";\n\n    /**\n     * èªå¨æäº¤offsetçé¢æ¬¡\n     */\n    public static final String AUTO_COMMIT_INTERVAL_MS_CONFIG = "auto.commit.interval.ms";\n    /**\n     * èªå®ä¹ååºç­ç¥çclasså¨è·¯å¾\n     */\n    public static final String PARTITION_ASSIGNMENT_STRATEGY_CONFIG = "partition.assignment.strategy";\n\n    /**\n     * å½offsetä¸å­å¨æèå¤±æçæåµä¸ï¼æå®æ¶è´¹ç­ç¥\n     * æä¸¤æ¬¡æ¶è´¹ç­ç¥earliestãlatest\n     * åå«è¡¨ç¤ºä»ææ°çæ¶æ¯å¼å§æ¶è´¹è¿æ¯ä»ææ©çå¼å§æ¶è´¹\n     */\n    public static final String AUTO_OFFSET_RESET_CONFIG = "auto.offset.reset";\n\n    /**\n     * æå®ä»brokerè·åçæå°çæ°æ®éå­èæ°\n     * å¦æbrokerçæ°æ®éå°äºè¯¥éç½®é£ä¹ä¼ç­ä¸ä¼åè¿åconsumer\n     * å¯éä½brokeråconsumerä¹é´çäº¤äºæ¬¡æ°\n     */\n    public static final String FETCH_MIN_BYTES_CONFIG = "fetch.min.bytes";\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n',normalizedContent:'# å ä¸ªæ¦å¿µ\n\næ¶è´¹èç» å¤ä¸ªæ¶è´¹å®ä¾å±äº«ä¸ä¸ªgroupid,å¤ä¸ªæ¶è´¹å®ä¾ç»ç»å¨ä¸èµ·åè°æ¶è´¹è®¢éçä¸»é¢åååºã æ¶è´¹å®ä¾å¯ä»¥æ¯ä¸ä¸ªè¿ç¨ä¹å¯ä»¥æ¯ä¸ä¸ªçº¿ç¨ groupidæ¯ä¸ä¸ªå­ç¬¦ä¸²ï¼å¯ä¸æ è¯ä¸ä¸ªæ¶è´¹ç» groupid.consumerinstance:groupid.partition = 1:nï¼ä¹å°±æ¯è¯´åä¸ä¸ªæ¶è´¹èå®ä¾åpartitionçå¯¹åºå³ç³»æ¯1ï¼n offset ä½ç§»ï¼offsetï¼:consumerè®°å½æ¶è´¹æ¶æ¯çä½ç½® kafkaçä½ç§»æºå¶ï¼\n\n * consumerå®ä¾ä¿å­èªå·±çoffset,éè¿checkpointæºå¶å®ææä¹å\n * æ°çæ¬çkafkaéè¿topicå®ææä¹åå°broker\n * èçæ¬çkafkaæ¯æä¹åå°zkçï¼ä½æ¯zkå¹¶ä¸éåé¢ç¹çå\n\nrebalance ä¸ä¸ªgroupidåæå¤ä¸ªconsumerï¼å¶è®¢étopicæå¤ä¸ªpartitionï¼é£ä¹é£ä¸ªæ¶è´¹èæ¶è´¹é£ä¸ªpartitionå¢ï¼rebalanceå°±æ¯åconsumeråpartitionçå¹éã\n\nä»ä¹æ¶årebalance\n\n * ç»æåçåæ´ï¼consumerçå å¥æèç¦»å¼ãå´©æºï¼\n * è®¢éçpartitionåçåæ´\n * è®¢éçtopicåçåæ´ï¼æç§æ­£åæ¹å¼è®¢éæ¶æ¯å¯è½åççï¼\n\nå¦ä½rebalance consumerclientæä¸¤ç§ç­ç¥å¯éï¼éè¿partition.assignment.strategyéç½®ï¼é»è®¤æ¯rangeç­ç¥\n\n * range strategyï¼æç§topicç»´åº¦ååpartition,é®é¢æ¯å¯è½åºç°åéä¸åçé®é¢\n * roundrobinï¼ææpartitionååï¼åéçæ´åå\n\nè°æ¥æ§è¡rebalanceåconsumer groupç®¡ç æ¯ä¸ªconsumer groupé½ä¼è¢«åéä¸ä¸ªcoordinatorç¨äºç»ç®¡çåä½ç§»ç®¡çã å½æ°çæ¬consumer groupçç¬¬ä¸ä¸ªconsumerå¯å¨çæ¶åï¼å®ä¼å»åkafka serverç¡®å®è°æ¯å®ä»¬ç»çcoordinatorï¼ä¹åè¯¥groupåçæææåé½ä¼åè¯¥coordinatorè¿è¡åè°éä¿¡ã\n\nè°æ¯coordinator consumer groupä½ç§»ä¿¡æ¯åå¥__consumers_offsetsçååºä¸ºpartition,è¯¥partitionçleaderæå¨çbrokerå°±æ¯è¯¥ç»çcoordinatorã\n\n\n# éç½®é¡¹\n\n\t//ç»å¯ä¸id\n\tpublic static final string group_id_config = "group.id";\n\n\n    //æ§å¶åæ¬¡è°ç¨call()è¿åçè®°å½æ°é\n    public static final string max_poll_records_config = "max.poll.records";\n\n    /** ä½¿ç¨ç»ç®¡ççæ¶åçæ å¦æconsumerä¸¤æ¬¡poll()è°ç¨æ¶é´è¶è¿è¿ä¸ªéå¼ ç»ç®¡çå¨ä¼è¿è¡rebalance */\n    public static final string max_poll_interval_ms_config = "max.poll.interval.ms";\n\n    /** consumerçå¿è·³æ¶é´*/\n    public static final string session_timeout_ms_config = "session.timeout.ms";\n    /**\n     * èªå¨æäº¤offset é»è®¤æ¯true\n     * å¯å³é­ï¼ç¶åèªå·±æ§å¶æäº¤offset,éè¿auto.commit.interval.msæ§å¶æäº¤é¢æ¬¡\n     */\n    public static final string enable_auto_commit_config = "enable.auto.commit";\n\n    /**\n     * èªå¨æäº¤offsetçé¢æ¬¡\n     */\n    public static final string auto_commit_interval_ms_config = "auto.commit.interval.ms";\n    /**\n     * èªå®ä¹ååºç­ç¥çclasså¨è·¯å¾\n     */\n    public static final string partition_assignment_strategy_config = "partition.assignment.strategy";\n\n    /**\n     * å½offsetä¸å­å¨æèå¤±æçæåµä¸ï¼æå®æ¶è´¹ç­ç¥\n     * æä¸¤æ¬¡æ¶è´¹ç­ç¥earliestãlatest\n     * åå«è¡¨ç¤ºä»ææ°çæ¶æ¯å¼å§æ¶è´¹è¿æ¯ä»ææ©çå¼å§æ¶è´¹\n     */\n    public static final string auto_offset_reset_config = "auto.offset.reset";\n\n    /**\n     * æå®ä»brokerè·åçæå°çæ°æ®éå­èæ°\n     * å¦æbrokerçæ°æ®éå°äºè¯¥éç½®é£ä¹ä¼ç­ä¸ä¼åè¿åconsumer\n     * å¯éä½brokeråconsumerä¹é´çäº¤äºæ¬¡æ°\n     */\n    public static final string fetch_min_bytes_config = "fetch.min.bytes";\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n',charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"éç¾¤ä¸çKafkaè¦èèåªäºäºæ",frontmatter:{title:"éç¾¤ä¸çKafkaè¦èèåªäºäºæ",date:"2022-05-21T23:46:20.000Z",permalink:"/pages/8d1d04/",categories:["ä¸­é´ä»¶","Kafka"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/40.Kafka/030.%E9%9B%86%E7%BE%A4%E4%B8%8B%E7%9A%84Kafka%E8%A6%81%E8%80%83%E8%99%91%E5%93%AA%E4%BA%9B%E4%BA%8B%E6%83%85.html",relativePath:"04.ä¸­é´ä»¶/40.Kafka/030.éç¾¤ä¸çKafkaè¦èèåªäºäºæ.md",key:"v-0c440466",path:"/pages/8d1d04/",headersStr:null,content:"# éç¾¤æåå³ç³»\n\nKafkaä½¿ç¨ Zookeeperæ¥ç»´æ¤éç¾¤æåçä¿¡æ¯. æ¯ä¸ªbrokeré½æå¯ä¸çæ è¯ç¬¦ï¼å¯ä»¥éç½®æå®ï¼ä¹å¯ä»¥èªå¨çæã å¨brokerå¯å¨æ¶ï¼ä»éè¿åå»ºä¸´æ¶èç¹æèªå·±æ³¨åå°zkã brokerè®¢ézkç/brokers/idsè·¯å¾ï¼å½æbrokerå å¥æèéåºéç¾¤æ¶ï¼è¿äºç»ä»¶å¯ä»¥è·å¾éç¥ã\n\nå¨å³é­ brokeræ¶ï¼å®å¯¹åºçèç¹ä¹ä¼æ¶å¤±ï¼ä¸è¿å®ç IDä¼ç»§ç»­å­å¨äºå¶ä»æ°æ®ç»æä¸­ãä¾å¦ï¼ä¸»é¢çå¯æ¬åè¡¨(ä¸é¢ä¼ä»ç»)éå°±å¯è½åå«è¿äºIDã å¨å®å¨å³é­ä¸ä¸ª brokerä¹ åï¼å¦æä½¿ç¨ç¸åç ID å¯å¨å¦ä¸ä¸ªå¨æ°ç brokerï¼å®ä¼ç«å³å å¥éç¾¤ï¼äºæ¥æä¸æ§ broker ç¸åçååºåä¸»é¢ã\n\n\n# æ§å¶å¨\n\næ§å¶å¨å¶å®å°±æ¯ ä¸ ä¸ª brokerï¼åªä¸è¿å®é¤äºå·æä¸è¬ broker çåè½ä¹å¤ï¼è¿è´è´£ååº é¦é¢çéä¸¾ã åªä¸ªbrokerå¯ä»¥æä¸ºæ§å¶å¨ï¼ å¨éç¾¤å¯å¨æ¶ï¼ææbrokeré½ä¼å°è¯å¨zkåå»ºèç¹/controllerï¼ä½æ¯åªæä¸ä¸ªbrokerå¯ä»¥åå»ºæåï¼å®å°±æ¯æ§å¶å¨ã éæ§å¶å¨çbrokerèç¹ä¼å¨æ§å¶å¨èç¹åå»ºzk watchå¯¹è±¡ï¼ç¨äºæ¥æ¶è¿ä¸ªèç¹çåæ´éç¥ã éè¿watchå¯¹è±¡å¾ç¥æ§å¶å¨èç¹æ¶å¤±ï¼é£ä¹å¶ä»brokerèç¹ä¼è¿å¥ä¸ä¸è½®çé¦é¢éä¸¾ï¼éä¸¾æåä¼æä¸ä¸ªæ°çéå¢çIDäº§çã æ°brokerå å¥éç¾¤ä¼åçä»ä¹ï¼ æ§å¶å¨ä¼æ£æ¥æ°brokeræ¯å¦åå«ç°æååºçå¯æ¬ï¼å¦ææï¼åéç¥å¶ä»brokerï¼åè®¸æ°çbrokeråæ­¥ååºå¯æ¬ã brokeréåºéç¾¤ä¼åçä»ä¹ï¼ æ§å¶å¨çå¬å°brokerç¦»å¼éç¾¤çæ¶æ¯ï¼checkåªäºååºé¦é¢å¨è¯¥brokerä¸ãç¶ååå¶ä»brokerä¸éä¸¾æ°çååºé¦é¢ï¼å¹¶éç¥ææbrokeræ°çååºé¦é¢ã\n\n\n# å¤å¶\n\nkafkaæ¯ä¸ä¸ªåå¸å¼çãå¯ååºçãå¯å¤å¶çæäº¤æ¥å¿æå¡ã å¤å¶ä»ä¹ï¼ æ¯ä¸ªtopicç±å¯¹ä¸ªpartitionãæ¯ä¸ªpartitionæå¤ä¸ªå¯æ¬ï¼å¶ä¸­ä¸ä¸ªæ¯é¦é¢å¯æ¬ï¼å¶ä»æ¯è·éèå¯æ¬ã è¯¥partitionççäº§èåæ¶è´¹èè¯·æ±é½ä¼ç»è¿é¦é¢å¯æ¬ã å¤å¶å°±åçå¨é¦é¢å¯æ¬åè·éèå¯æ¬ä¹é´ã å½é¦é¢å¯æ¬å´©æºæ¶ï¼å¶ä¸­ä¸ä¸ªè·éèå¯æ¬å¯ä»¥æåä¸ºé¦é¢å¯æ¬ã å½é¦é¢å¯æ¬å´©æºæ¶ï¼åªä¸ªè·éèå¯æ¬å¯ä»¥æåä¸ºé¦é¢å¯æ¬ ä¸åæ­¥çè·éèæ¯ä¸è½æä¸ºé¦é¢ç ä»ä¹æ åå¤æ­ä¸ä¸ªè·éèæ¯ä¸åæ­¥çï¼ è·éèè¯·æ±åæ­¥æ¶æ»æ¯æç§offsetéå¢çé¡ºåºè¯·æ±åæ­¥çæ¶æ¯ï¼èä¸æ»æ¯å¨æ¶å°ä¸ä¸ä¸ªè¯·æ±çå½±åä¹åæä¼ååºä¸ä¸ä¸ªè¯·æ±ãæä»¥å½é¦é¢æ¶ä¸å°followerçè¯·æ±ææ°çoffsetæ¶æèä¸å®æ¶é´åæ¶ä¸å°followerçåæ­¥è¯·æ±æ¶ï¼è®¤ä¸ºè¿ä¸ªfolloweræ¯ä¸åæ­¥çãè¿ä¸ªä¸å®æ¶é´å¯ä»¥éè¿replica.lg.time.max.mséç½®ã é¦éé¦é¢æ¯å¯ä»¥ä¼åç§°ä¸ºä¸ä¸å±é¦é¢çã é¦éé¦é¢æ¯å¨åå»ºååºæ¶ï¼ä¸ºäºå¨brokerä¹é´åè¡¡é¦é¢éä¸¾çååºé¦é¢ã\n\n\n# å¤çè¯·æ±\n\nbroker çå¤§é¨åå·¥ä½æ¯å¤çå®¢æ·ç«¯ãååºå¯æ¬åæ§å¶å¨åéç»ååºé¦é¢çè¯·æ±ã producerççäº§è¯·æ±åconsumerçè·åè¯·æ±é½å¿é¡»åéç»ååºçé¦é¢å¯æ¬ã é£ä¹å®¢æ·ç«¯æä¹ç¥éè°æ¯é¦é¢å¯æ¬å¢? å®¢æ·ç«¯ä½¿ç¨äºå¦ä¸ ç§è¯·æ±ç±»åï¼ä¹å°±æ¯åæ°æ®è¯·æ±ãè¯·æ±å°åæ°æ®åç¼å­å¨æ¬å°ã éè¿éç½®matedata.max.age.msè®¾ç½®å®æ¶å·æ°åæ°æ®ã\n\nçäº§èè¯·æ± åå«é¦é¢å¯æ¬ç brokerå¨æ¶å°çäº§è¯·æ±æ¶ï¼ä¼å¯¹è¯·æ±åä¸äºéªè¯\n\n * åéæ°æ®çç¨æ·æ¯å¦æä¸»é¢çåæé\n * è¯·æ±éçackså¼æ¯å¦æ¯ææå¼ï¼åªåè®¸0ã1ãallï¼\n * å¦æacks=allï¼æ¯å¦æè¶³å¤çè¯»æ¬ä¿è¯æ¶æ¯å·²ç»è¢«å®å¨åå¥ï¼ ä»¥ä¸é½åå®ç»å®¢æ·ç«¯ç¸åºã\n\næ¶è´¹èè¯·æ± å®¢æ·ç«¯å¯ä»¥æå®brokeræå¤ä»ä¸ä¸ªååºéè¿åå¤å°æ°æ®ï¼è¿æ¯æå¿è¦çï¼å ä¸ºbrokerè¿åå¤§éçæ°æ®æå¯è½æçå®¢æ·ç«¯çbuffer brokeä¼checkè¯·æ±æ¯å¦ææï¼æ¯å¦è¯·æ±çåç§»éæ¯å¦å­å¨ï¼å¦æå­å¨ï¼åç¨é¶æ·è´çæ¹å¼è¿åæ°æ®ã å®¢æ·ç«¯ä¹å¯ä»¥æå®brokerç§¯æä¸å®çæ°æ®åè¿åï¼é¿åé¢ç¹çç½ç»IOã å¹¶ä¸æ¯é¦é¢å¯æ¬ä¸çæ¶æ¯é½å¯ä»¥è¿åç»å®¢æ·ç«¯ï¼åªæè¢«ææfolloweråæ­¥äºçæ¶æ¯æå¯ä»¥è¿åç»å®¢æ·ç«¯ã\n\n\n# ç©çå­å¨\n\nkafkaçåºæ¬å­å¨ååæ¯ååºã log.dirséç½®ç¨äºæå®å­å¨ååºçç®å½ã å¦ä½åååºåbrokerä¹é´çåé å å¥è¦å¨6ä¸ªbrokerçkafkaéç¾¤ä¸åå»ºååºæ°ä¸º10å¤å¶ç³»æ°ä¸º3çä¸»é¢ï¼é£ä¹è¿30ä¸ªååºå¯æ¬å¦ä½åéç»6ä¸ªbroker? åååºåbrokerä¹é´çåéè¦éµå¾ªä»¥ä¸ååï¼\n\n * å¨brokeré´å¹³åçåå¸ååºå¯æ¬\n * æ¯ä¸ªååºçå¯æ¬å°½å¯è½çåå¸å¨ä¸åçbrokerä¸\n * å¦æå¶å®äºbrokerçæºæ¶ä¿¡æ¯ï¼å°½å¯è½çææ¯ä¸ªååºçå¯æ¬åéå°ä¸åçæºæ¶ä¸\n\nä¾ç§è¿ä¸ªè§åï¼åéæ¹å¼å¯ä»¥å¦ä¸ï¼\n\n 1. ååååéé¦é¢ååºãéæºéä¸ä¸ªbrokerï¼è½®è®­çæ¹å¼ç»æ¯ä¸ªbrokeråéååºæ¥ç¡®å®é¦é¢ååºçä½ç½®ã\n 2. ååååéååºå¯æ¬ãä»¥é¦é¢ååºä¸ºèµ·ç¹ï¼äºè½®è®­åéååºå¯æ¬ã\n 3. æå®æºæ¶ä¿¡æ¯çæ¶åï¼åååéååºçæ¹å¼ãåè®¾ broker0ã broker1å broker2æ¾ç½®å¨åä¸ä¸ªæºæ¶ä¸ï¼ broker3ã broker4 å broker5åå«æ¾ç½®å¨å¶ä»ä¸åçæºæ¶ä¸ï¼é£ä¹å¨è½®è®­åéçæ¶åï¼æä»¬ä¸æ¯æç§ä» 0å° 5çé¡ºåºæ¥éæ© brokerï¼è æ¯æç§ 0, 3, 1, 4, 2, 5 çé¡ºåºæ¥éæ©ã\n\nå¦ä½åæä»¶ç®¡ç å ä¸ºå¨ä¸ä¸ªå¤§æä»¶ä¸­æ¥æ¾åå é¤æ¯éå¸¸èæ¶çï¼æä»¥æä»¬æååºåæè¥å¹²ä¸ªçæ®µãé»è®¤æ¯ä¸ªçæ®µåå«1Gæè1å¨çæ°æ®ã å½åæ­£å¨åå¥æ°æ®ççæ®µå«åæ´»è·çæ®µãæ´»è·çæ®µæ°¸è¿ä¸ä¼è¢«å é¤ã brokerä¼ä¸ºååºçæ¯ä¸ªçæ®µæå¼ä¸ä¸ªæä»¶å¥æï¼è¿ä¼å¯¼è´æå¼è¿å¤çæä»¶å¥æï¼æä»¥æä½ç³»ç»å¿é¡»æ ¹æ®å®éæåµåä¸äºè°ä¼ã brokerå¦ä½å¨ä¸ä¸ªååºçä¼å¤æä»¶ä¸­å®ä½æå®çoffsetä½ç½®ï¼ kakfaä¸ºæ¯ä¸ªååºæä»¶å»ºç«ç´¢å¼ï¼æ ¹æ®ç´¢å¼å¯ä»¥å¿«éå®ä½offsetå¨æä»¶ä¸­çä½ç½®ã\n\nå¦ææå¿è¦ï¼ç®¡çåå¯ä»¥å é¤ç´¢å¼ï¼kafkaä¼éæ°çæè¿äºç´¢å¼ã",normalizedContent:"# éç¾¤æåå³ç³»\n\nkafkaä½¿ç¨ zookeeperæ¥ç»´æ¤éç¾¤æåçä¿¡æ¯. æ¯ä¸ªbrokeré½æå¯ä¸çæ è¯ç¬¦ï¼å¯ä»¥éç½®æå®ï¼ä¹å¯ä»¥èªå¨çæã å¨brokerå¯å¨æ¶ï¼ä»éè¿åå»ºä¸´æ¶èç¹æèªå·±æ³¨åå°zkã brokerè®¢ézkç/brokers/idsè·¯å¾ï¼å½æbrokerå å¥æèéåºéç¾¤æ¶ï¼è¿äºç»ä»¶å¯ä»¥è·å¾éç¥ã\n\nå¨å³é­ brokeræ¶ï¼å®å¯¹åºçèç¹ä¹ä¼æ¶å¤±ï¼ä¸è¿å®ç idä¼ç»§ç»­å­å¨äºå¶ä»æ°æ®ç»æä¸­ãä¾å¦ï¼ä¸»é¢çå¯æ¬åè¡¨(ä¸é¢ä¼ä»ç»)éå°±å¯è½åå«è¿äºidã å¨å®å¨å³é­ä¸ä¸ª brokerä¹ åï¼å¦æä½¿ç¨ç¸åç id å¯å¨å¦ä¸ä¸ªå¨æ°ç brokerï¼å®ä¼ç«å³å å¥éç¾¤ï¼äºæ¥æä¸æ§ broker ç¸åçååºåä¸»é¢ã\n\n\n# æ§å¶å¨\n\næ§å¶å¨å¶å®å°±æ¯ ä¸ ä¸ª brokerï¼åªä¸è¿å®é¤äºå·æä¸è¬ broker çåè½ä¹å¤ï¼è¿è´è´£ååº é¦é¢çéä¸¾ã åªä¸ªbrokerå¯ä»¥æä¸ºæ§å¶å¨ï¼ å¨éç¾¤å¯å¨æ¶ï¼ææbrokeré½ä¼å°è¯å¨zkåå»ºèç¹/controllerï¼ä½æ¯åªæä¸ä¸ªbrokerå¯ä»¥åå»ºæåï¼å®å°±æ¯æ§å¶å¨ã éæ§å¶å¨çbrokerèç¹ä¼å¨æ§å¶å¨èç¹åå»ºzk watchå¯¹è±¡ï¼ç¨äºæ¥æ¶è¿ä¸ªèç¹çåæ´éç¥ã éè¿watchå¯¹è±¡å¾ç¥æ§å¶å¨èç¹æ¶å¤±ï¼é£ä¹å¶ä»brokerèç¹ä¼è¿å¥ä¸ä¸è½®çé¦é¢éä¸¾ï¼éä¸¾æåä¼æä¸ä¸ªæ°çéå¢çidäº§çã æ°brokerå å¥éç¾¤ä¼åçä»ä¹ï¼ æ§å¶å¨ä¼æ£æ¥æ°brokeræ¯å¦åå«ç°æååºçå¯æ¬ï¼å¦ææï¼åéç¥å¶ä»brokerï¼åè®¸æ°çbrokeråæ­¥ååºå¯æ¬ã brokeréåºéç¾¤ä¼åçä»ä¹ï¼ æ§å¶å¨çå¬å°brokerç¦»å¼éç¾¤çæ¶æ¯ï¼checkåªäºååºé¦é¢å¨è¯¥brokerä¸ãç¶ååå¶ä»brokerä¸éä¸¾æ°çååºé¦é¢ï¼å¹¶éç¥ææbrokeræ°çååºé¦é¢ã\n\n\n# å¤å¶\n\nkafkaæ¯ä¸ä¸ªåå¸å¼çãå¯ååºçãå¯å¤å¶çæäº¤æ¥å¿æå¡ã å¤å¶ä»ä¹ï¼ æ¯ä¸ªtopicç±å¯¹ä¸ªpartitionãæ¯ä¸ªpartitionæå¤ä¸ªå¯æ¬ï¼å¶ä¸­ä¸ä¸ªæ¯é¦é¢å¯æ¬ï¼å¶ä»æ¯è·éèå¯æ¬ã è¯¥partitionççäº§èåæ¶è´¹èè¯·æ±é½ä¼ç»è¿é¦é¢å¯æ¬ã å¤å¶å°±åçå¨é¦é¢å¯æ¬åè·éèå¯æ¬ä¹é´ã å½é¦é¢å¯æ¬å´©æºæ¶ï¼å¶ä¸­ä¸ä¸ªè·éèå¯æ¬å¯ä»¥æåä¸ºé¦é¢å¯æ¬ã å½é¦é¢å¯æ¬å´©æºæ¶ï¼åªä¸ªè·éèå¯æ¬å¯ä»¥æåä¸ºé¦é¢å¯æ¬ ä¸åæ­¥çè·éèæ¯ä¸è½æä¸ºé¦é¢ç ä»ä¹æ åå¤æ­ä¸ä¸ªè·éèæ¯ä¸åæ­¥çï¼ è·éèè¯·æ±åæ­¥æ¶æ»æ¯æç§offsetéå¢çé¡ºåºè¯·æ±åæ­¥çæ¶æ¯ï¼èä¸æ»æ¯å¨æ¶å°ä¸ä¸ä¸ªè¯·æ±çå½±åä¹åæä¼ååºä¸ä¸ä¸ªè¯·æ±ãæä»¥å½é¦é¢æ¶ä¸å°followerçè¯·æ±ææ°çoffsetæ¶æèä¸å®æ¶é´åæ¶ä¸å°followerçåæ­¥è¯·æ±æ¶ï¼è®¤ä¸ºè¿ä¸ªfolloweræ¯ä¸åæ­¥çãè¿ä¸ªä¸å®æ¶é´å¯ä»¥éè¿replica.lg.time.max.mséç½®ã é¦éé¦é¢æ¯å¯ä»¥ä¼åç§°ä¸ºä¸ä¸å±é¦é¢çã é¦éé¦é¢æ¯å¨åå»ºååºæ¶ï¼ä¸ºäºå¨brokerä¹é´åè¡¡é¦é¢éä¸¾çååºé¦é¢ã\n\n\n# å¤çè¯·æ±\n\nbroker çå¤§é¨åå·¥ä½æ¯å¤çå®¢æ·ç«¯ãååºå¯æ¬åæ§å¶å¨åéç»ååºé¦é¢çè¯·æ±ã producerççäº§è¯·æ±åconsumerçè·åè¯·æ±é½å¿é¡»åéç»ååºçé¦é¢å¯æ¬ã é£ä¹å®¢æ·ç«¯æä¹ç¥éè°æ¯é¦é¢å¯æ¬å¢? å®¢æ·ç«¯ä½¿ç¨äºå¦ä¸ ç§è¯·æ±ç±»åï¼ä¹å°±æ¯åæ°æ®è¯·æ±ãè¯·æ±å°åæ°æ®åç¼å­å¨æ¬å°ã éè¿éç½®matedata.max.age.msè®¾ç½®å®æ¶å·æ°åæ°æ®ã\n\nçäº§èè¯·æ± åå«é¦é¢å¯æ¬ç brokerå¨æ¶å°çäº§è¯·æ±æ¶ï¼ä¼å¯¹è¯·æ±åä¸äºéªè¯\n\n * åéæ°æ®çç¨æ·æ¯å¦æä¸»é¢çåæé\n * è¯·æ±éçackså¼æ¯å¦æ¯ææå¼ï¼åªåè®¸0ã1ãallï¼\n * å¦æacks=allï¼æ¯å¦æè¶³å¤çè¯»æ¬ä¿è¯æ¶æ¯å·²ç»è¢«å®å¨åå¥ï¼ ä»¥ä¸é½åå®ç»å®¢æ·ç«¯ç¸åºã\n\næ¶è´¹èè¯·æ± å®¢æ·ç«¯å¯ä»¥æå®brokeræå¤ä»ä¸ä¸ªååºéè¿åå¤å°æ°æ®ï¼è¿æ¯æå¿è¦çï¼å ä¸ºbrokerè¿åå¤§éçæ°æ®æå¯è½æçå®¢æ·ç«¯çbuffer brokeä¼checkè¯·æ±æ¯å¦ææï¼æ¯å¦è¯·æ±çåç§»éæ¯å¦å­å¨ï¼å¦æå­å¨ï¼åç¨é¶æ·è´çæ¹å¼è¿åæ°æ®ã å®¢æ·ç«¯ä¹å¯ä»¥æå®brokerç§¯æä¸å®çæ°æ®åè¿åï¼é¿åé¢ç¹çç½ç»ioã å¹¶ä¸æ¯é¦é¢å¯æ¬ä¸çæ¶æ¯é½å¯ä»¥è¿åç»å®¢æ·ç«¯ï¼åªæè¢«ææfolloweråæ­¥äºçæ¶æ¯æå¯ä»¥è¿åç»å®¢æ·ç«¯ã\n\n\n# ç©çå­å¨\n\nkafkaçåºæ¬å­å¨ååæ¯ååºã log.dirséç½®ç¨äºæå®å­å¨ååºçç®å½ã å¦ä½åååºåbrokerä¹é´çåé å å¥è¦å¨6ä¸ªbrokerçkafkaéç¾¤ä¸åå»ºååºæ°ä¸º10å¤å¶ç³»æ°ä¸º3çä¸»é¢ï¼é£ä¹è¿30ä¸ªååºå¯æ¬å¦ä½åéç»6ä¸ªbroker? åååºåbrokerä¹é´çåéè¦éµå¾ªä»¥ä¸ååï¼\n\n * å¨brokeré´å¹³åçåå¸ååºå¯æ¬\n * æ¯ä¸ªååºçå¯æ¬å°½å¯è½çåå¸å¨ä¸åçbrokerä¸\n * å¦æå¶å®äºbrokerçæºæ¶ä¿¡æ¯ï¼å°½å¯è½çææ¯ä¸ªååºçå¯æ¬åéå°ä¸åçæºæ¶ä¸\n\nä¾ç§è¿ä¸ªè§åï¼åéæ¹å¼å¯ä»¥å¦ä¸ï¼\n\n 1. ååååéé¦é¢ååºãéæºéä¸ä¸ªbrokerï¼è½®è®­çæ¹å¼ç»æ¯ä¸ªbrokeråéååºæ¥ç¡®å®é¦é¢ååºçä½ç½®ã\n 2. ååååéååºå¯æ¬ãä»¥é¦é¢ååºä¸ºèµ·ç¹ï¼äºè½®è®­åéååºå¯æ¬ã\n 3. æå®æºæ¶ä¿¡æ¯çæ¶åï¼åååéååºçæ¹å¼ãåè®¾ broker0ã broker1å broker2æ¾ç½®å¨åä¸ä¸ªæºæ¶ä¸ï¼ broker3ã broker4 å broker5åå«æ¾ç½®å¨å¶ä»ä¸åçæºæ¶ä¸ï¼é£ä¹å¨è½®è®­åéçæ¶åï¼æä»¬ä¸æ¯æç§ä» 0å° 5çé¡ºåºæ¥éæ© brokerï¼è æ¯æç§ 0, 3, 1, 4, 2, 5 çé¡ºåºæ¥éæ©ã\n\nå¦ä½åæä»¶ç®¡ç å ä¸ºå¨ä¸ä¸ªå¤§æä»¶ä¸­æ¥æ¾åå é¤æ¯éå¸¸èæ¶çï¼æä»¥æä»¬æååºåæè¥å¹²ä¸ªçæ®µãé»è®¤æ¯ä¸ªçæ®µåå«1gæè1å¨çæ°æ®ã å½åæ­£å¨åå¥æ°æ®ççæ®µå«åæ´»è·çæ®µãæ´»è·çæ®µæ°¸è¿ä¸ä¼è¢«å é¤ã brokerä¼ä¸ºååºçæ¯ä¸ªçæ®µæå¼ä¸ä¸ªæä»¶å¥æï¼è¿ä¼å¯¼è´æå¼è¿å¤çæä»¶å¥æï¼æä»¥æä½ç³»ç»å¿é¡»æ ¹æ®å®éæåµåä¸äºè°ä¼ã brokerå¦ä½å¨ä¸ä¸ªååºçä¼å¤æä»¶ä¸­å®ä½æå®çoffsetä½ç½®ï¼ kakfaä¸ºæ¯ä¸ªååºæä»¶å»ºç«ç´¢å¼ï¼æ ¹æ®ç´¢å¼å¯ä»¥å¿«éå®ä½offsetå¨æä»¶ä¸­çä½ç½®ã\n\nå¦ææå¿è¦ï¼ç®¡çåå¯ä»¥å é¤ç´¢å¼ï¼kafkaä¼éæ°çæè¿äºç´¢å¼ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"ç³»ç»è®¾è®¡",frontmatter:{title:"ç³»ç»è®¾è®¡",date:"2022-03-11T00:56:07.000Z",permalink:"/pages/01b9b2/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/001.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html",relativePath:"08.ç³»ç»è®¾è®¡/001.ç³»ç»è®¾è®¡.md",key:"v-a9558ec0",path:"/pages/01b9b2/",headers:[{level:2,title:"çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼",slug:"çµåç³»ç»ä¸­-å¦ä½å®ç°ç§æåè½-å¦ä½è§£å³ååçè¶åé®é¢",normalizedTitle:"çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼",charIndex:2},{level:2,title:"å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼",slug:"å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢",normalizedTitle:"å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼",charIndex:34},{level:2,title:"ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯",slug:"ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯",normalizedTitle:"ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯",charIndex:56},{level:2,title:"é¡¹ç®ä¸æä»ä¹ææ¯é¾ç¹ï¼",slug:"é¡¹ç®ä¸æä»ä¹ææ¯é¾ç¹",normalizedTitle:"é¡¹ç®ä¸æä»ä¹ææ¯é¾ç¹ï¼",charIndex:76},{level:2,title:"ç®è¿° Zookeeper åºç¡åçä»¥åä½¿ç¨åºæ¯",slug:"ç®è¿°-zookeeper-åºç¡åçä»¥åä½¿ç¨åºæ¯",normalizedTitle:"ç®è¿° zookeeper åºç¡åçä»¥åä½¿ç¨åºæ¯",charIndex:92},{level:2,title:"å¦ä½å®ç°ç¾åº¦æç´¢åè½ï¼",slug:"å¦ä½å®ç°ç¾åº¦æç´¢åè½",normalizedTitle:"å¦ä½å®ç°ç¾åº¦æç´¢åè½ï¼",charIndex:120},{level:2,title:"é«å¹¶åææ¯ä¸ï¼æ ¸å¿çº¿ç¨æ± è¯¥å¦ä½è®¾ç½®åæ°ï¼",slug:"é«å¹¶åææ¯ä¸-æ ¸å¿çº¿ç¨æ± è¯¥å¦ä½è®¾ç½®åæ°",normalizedTitle:"é«å¹¶åææ¯ä¸ï¼æ ¸å¿çº¿ç¨æ± è¯¥å¦ä½è®¾ç½®åæ°ï¼",charIndex:136},{level:2,title:"è®¾è®¡ä¸ä¸ªé»å¡éå",slug:"è®¾è®¡ä¸ä¸ªé»å¡éå",normalizedTitle:"è®¾è®¡ä¸ä¸ªé»å¡éå",charIndex:161},{level:2,title:"å®¹å¨åäºè§£åï¼å®çåºæ¬åçæ¯ä»ä¹ï¼",slug:"å®¹å¨åäºè§£å-å®çåºæ¬åçæ¯ä»ä¹",normalizedTitle:"å®¹å¨åäºè§£åï¼å®çåºæ¬åçæ¯ä»ä¹ï¼",charIndex:174},{level:2,title:"ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯",slug:"ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯-2",normalizedTitle:"ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯",charIndex:56},{level:2,title:"ç®è¿°ä¸è´æ§åå¸ç®æ³çå®ç°æ¹å¼ååç",slug:"ç®è¿°ä¸è´æ§åå¸ç®æ³çå®ç°æ¹å¼ååç",normalizedTitle:"ç®è¿°ä¸è´æ§åå¸ç®æ³çå®ç°æ¹å¼ååç",charIndex:216},{level:2,title:"ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³",slug:"ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³",normalizedTitle:"ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³",charIndex:238},{level:2,title:"ç®è¿° MapReduce çåç",slug:"ç®è¿°-mapreduce-çåç",normalizedTitle:"ç®è¿° mapreduce çåç",charIndex:254},{level:2,title:"è®¾è®¡ Tiny URL ç³»ç»",slug:"è®¾è®¡-tiny-url-ç³»ç»",normalizedTitle:"è®¾è®¡ tiny url ç³»ç»",charIndex:275},{level:2,title:"å¦ä½è®¾è®¡ä¸ä¸ªæ ééå",slug:"å¦ä½è®¾è®¡ä¸ä¸ªæ ééå",normalizedTitle:"å¦ä½è®¾è®¡ä¸ä¸ªæ ééå",charIndex:294},{level:2,title:"RestFul ä¸ RPC çåºå«æ¯ä»ä¹ï¼RestFul çä¼ç¹å¨åªéï¼",slug:"restful-ä¸-rpc-çåºå«æ¯ä»ä¹-restful-çä¼ç¹å¨åªé",normalizedTitle:"restful ä¸ rpc çåºå«æ¯ä»ä¹ï¼restful çä¼ç¹å¨åªéï¼",charIndex:309},{level:2,title:"åå¦æå¤©æ¯æ´»å¨é«å³°ï¼QPS é¢è®¡ä¼ç¿»10åï¼ä½ è¦æä¹åï¼",slug:"åå¦æå¤©æ¯æ´»å¨é«å³°-qps-é¢è®¡ä¼ç¿»10å-ä½ è¦æä¹å",normalizedTitle:"åå¦æå¤©æ¯æ´»å¨é«å³°ï¼qps é¢è®¡ä¼ç¿»10åï¼ä½ è¦æä¹åï¼",charIndex:350}],headersStr:"çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼ å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼ ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯ é¡¹ç®ä¸æä»ä¹ææ¯é¾ç¹ï¼ ç®è¿° Zookeeper åºç¡åçä»¥åä½¿ç¨åºæ¯ å¦ä½å®ç°ç¾åº¦æç´¢åè½ï¼ é«å¹¶åææ¯ä¸ï¼æ ¸å¿çº¿ç¨æ± è¯¥å¦ä½è®¾ç½®åæ°ï¼ è®¾è®¡ä¸ä¸ªé»å¡éå å®¹å¨åäºè§£åï¼å®çåºæ¬åçæ¯ä»ä¹ï¼ ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯ ç®è¿°ä¸è´æ§åå¸ç®æ³çå®ç°æ¹å¼ååç ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³ ç®è¿° MapReduce çåç è®¾è®¡ Tiny URL ç³»ç» å¦ä½è®¾è®¡ä¸ä¸ªæ ééå RestFul ä¸ RPC çåºå«æ¯ä»ä¹ï¼RestFul çä¼ç¹å¨åªéï¼ åå¦æå¤©æ¯æ´»å¨é«å³°ï¼QPS é¢è®¡ä¼ç¿»10åï¼ä½ è¦æä¹åï¼",content:"# çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼\n\n\n# å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼\n\n\n# ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯\n\n\n# é¡¹ç®ä¸æä»ä¹ææ¯é¾ç¹ï¼\n\n\n# ç®è¿° Zookeeper åºç¡åçä»¥åä½¿ç¨åºæ¯\n\n\n# å¦ä½å®ç°ç¾åº¦æç´¢åè½ï¼\n\n\n# é«å¹¶åææ¯ä¸ï¼æ ¸å¿çº¿ç¨æ± è¯¥å¦ä½è®¾ç½®åæ°ï¼\n\n\n# è®¾è®¡ä¸ä¸ªé»å¡éå\n\n\n# å®¹å¨åäºè§£åï¼å®çåºæ¬åçæ¯ä»ä¹ï¼\n\n\n# ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯\n\n\n# ç®è¿°ä¸è´æ§åå¸ç®æ³çå®ç°æ¹å¼ååç\n\n\n# ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³\n\n\n# ç®è¿° MapReduce çåç\n\n\n# è®¾è®¡ Tiny URL ç³»ç»\n\n\n# å¦ä½è®¾è®¡ä¸ä¸ªæ ééå\n\n\n# RestFul ä¸ RPC çåºå«æ¯ä»ä¹ï¼RestFul çä¼ç¹å¨åªéï¼\n\n\n# åå¦æå¤©æ¯æ´»å¨é«å³°ï¼QPS é¢è®¡ä¼ç¿»10åï¼ä½ è¦æä¹åï¼\n\nç§æç³»ç»\n\nè®¾è®¡rpc\n\nç­è¿æ¥\n\næè¡æ¦\n\nå¾®ä¿¡æ¢çº¢å\n\nè®¾è®¡ç¹èµåè½\n\nå¾®åfeedæµæå¾®ä¿¡æåå\n\nå®æ¶ä»»å¡\n\nåå¸å¼idéäºå¡\n\næµ·éæ°æ®",normalizedContent:"# çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼\n\n\n# å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼\n\n\n# ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯\n\n\n# é¡¹ç®ä¸æä»ä¹ææ¯é¾ç¹ï¼\n\n\n# ç®è¿° zookeeper åºç¡åçä»¥åä½¿ç¨åºæ¯\n\n\n# å¦ä½å®ç°ç¾åº¦æç´¢åè½ï¼\n\n\n# é«å¹¶åææ¯ä¸ï¼æ ¸å¿çº¿ç¨æ± è¯¥å¦ä½è®¾ç½®åæ°ï¼\n\n\n# è®¾è®¡ä¸ä¸ªé»å¡éå\n\n\n# å®¹å¨åäºè§£åï¼å®çåºæ¬åçæ¯ä»ä¹ï¼\n\n\n# ç®è¿°ä¸­é´ä»¶åå³°åéæµçä½¿ç¨åºæ¯\n\n\n# ç®è¿°ä¸è´æ§åå¸ç®æ³çå®ç°æ¹å¼ååç\n\n\n# ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³\n\n\n# ç®è¿° mapreduce çåç\n\n\n# è®¾è®¡ tiny url ç³»ç»\n\n\n# å¦ä½è®¾è®¡ä¸ä¸ªæ ééå\n\n\n# restful ä¸ rpc çåºå«æ¯ä»ä¹ï¼restful çä¼ç¹å¨åªéï¼\n\n\n# åå¦æå¤©æ¯æ´»å¨é«å³°ï¼qps é¢è®¡ä¼ç¿»10åï¼ä½ è¦æä¹åï¼\n\nç§æç³»ç»\n\nè®¾è®¡rpc\n\nç­è¿æ¥\n\næè¡æ¦\n\nå¾®ä¿¡æ¢çº¢å\n\nè®¾è®¡ç¹èµåè½\n\nå¾®åfeedæµæå¾®ä¿¡æåå\n\nå®æ¶ä»»å¡\n\nåå¸å¼idéäºå¡\n\næµ·éæ°æ®",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å¦ä½ä¿è¯Kafkaçå¯é æ§",frontmatter:{title:"å¦ä½ä¿è¯Kafkaçå¯é æ§",date:"2022-05-21T23:47:03.000Z",permalink:"/pages/76a94c/",categories:["ä¸­é´ä»¶","Kafka"],tags:[null]},regularPath:"/04.%E4%B8%AD%E9%97%B4%E4%BB%B6/40.Kafka/040.%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81Kafka%E7%9A%84%E5%8F%AF%E9%9D%A0%E6%80%A7.html",relativePath:"04.ä¸­é´ä»¶/40.Kafka/040.å¦ä½ä¿è¯Kafkaçå¯é æ§.md",key:"v-684c4815",path:"/pages/76a94c/",headersStr:null,content:"# å¯é æ§ä¿è¯\n\nkafkaå¨åªäºæ¹é¢ååºä¿è¯å¢ï¼\n\n * åçäº§èï¼kafkaå¯ä»¥ä¿è¯é¡ºåºæ¶è´¹\n * åªæå½åå¥çæ¶æ¯è¢«åå¥ææçå¯æ¬æ¶ï¼æè®¤ä¸ºæ¯âå·²æäº¤âç\n * åªè¦æä¸ä¸ªæ´»è·çååºå¯æ¬ï¼é£ä¹ï¼å·²æäº¤çæ°æ®å°±ä¸ä¼ä¸¢å¤±ã\n * æ¶è´¹èåªè½è¯»åå·²ç»æäº¤çæ¶æ¯\n\nå¦ä½ä¿è¯topicåæ°æ®ä¿¡æ¯å®å¨ replication.factoréç½®topicçå¤å¶ç³»æ°\n\nææçååºå¯æ¬é½æ²¡ææ­£å¸¸åæ­¥ï¼ååºé¦é¢åææäºï¼å¦ä½åéä¸¾ï¼ æ¹æ¡æä¸¤ä¸ª\n\n * å¨æªæ­£å¸¸åæ­¥çå¯ä¸­éä¸¾ä¸ä¸ªä½ä¸ºé¦é¢ï¼ç¼ºç¹æ¯å­å¨ä¸¢å¤±æ°æ®çé£é©ã\n * ç­å¾æ§çé¦é¢æ¢å¤ãç¼ºç¹æ¯å¯ç¨æ§ä½ã\n\néç½®unclean.leader.election.enable=trueè¡¨ç¤ºåè®¸ä¸åæ­¥çå¯æ¬ç§°ä¸ºé¦é¢ï¼è¿ä¹å°é¢ä¸´ä¸¢å¤±æ¶æ¯çé£é©ã\n\n\n# producerå¦ä½åå¯é æ§ä¿è¯\n\nå¦ä½ä¿è¯å¯é æéæ¶æ¯ï¼\n\n 1. ack=allè¡¨ç¤ºbrokerè¦ç­å¾ææååºå¯æ¬åæ­¥å®æ¶æ¯æè¿åç»producer responseï¼æ¯æå¯é çæéã\n 2. è®¾ç½®éè¯æ¬¡æ°ï¼æ³¨æè¦åä¸å¡å¹ç­ã\n 3. æäºå°æ¶ä¸å¯éè¯éè¯¯ï¼æ¯å¦æ¶æ¯å¤ªå¤§ãè®¤è¯éè¯¯ç­ãæ ¹æ®ä¸å¡æ¥ç¹æ®å¤çè¿ç±»æ¶æ¯ã\n\n\n# consumerå¦ä½åå¯é æ§ä¿è¯\n\nconsumerè¯·æ±çoffsetå¨brokerä¸ä¸å­å¨æ¶æä¹å¤çï¼ éç½®auto.offset.resetæå®äºä¸¤ç§ç­ç¥ï¼\n\n * earliest:ä»ååºçå¼å§è¯»å\n * latestï¼ä»ååºçæ«å°¾è¯»å",normalizedContent:"# å¯é æ§ä¿è¯\n\nkafkaå¨åªäºæ¹é¢ååºä¿è¯å¢ï¼\n\n * åçäº§èï¼kafkaå¯ä»¥ä¿è¯é¡ºåºæ¶è´¹\n * åªæå½åå¥çæ¶æ¯è¢«åå¥ææçå¯æ¬æ¶ï¼æè®¤ä¸ºæ¯âå·²æäº¤âç\n * åªè¦æä¸ä¸ªæ´»è·çååºå¯æ¬ï¼é£ä¹ï¼å·²æäº¤çæ°æ®å°±ä¸ä¼ä¸¢å¤±ã\n * æ¶è´¹èåªè½è¯»åå·²ç»æäº¤çæ¶æ¯\n\nå¦ä½ä¿è¯topicåæ°æ®ä¿¡æ¯å®å¨ replication.factoréç½®topicçå¤å¶ç³»æ°\n\nææçååºå¯æ¬é½æ²¡ææ­£å¸¸åæ­¥ï¼ååºé¦é¢åææäºï¼å¦ä½åéä¸¾ï¼ æ¹æ¡æä¸¤ä¸ª\n\n * å¨æªæ­£å¸¸åæ­¥çå¯ä¸­éä¸¾ä¸ä¸ªä½ä¸ºé¦é¢ï¼ç¼ºç¹æ¯å­å¨ä¸¢å¤±æ°æ®çé£é©ã\n * ç­å¾æ§çé¦é¢æ¢å¤ãç¼ºç¹æ¯å¯ç¨æ§ä½ã\n\néç½®unclean.leader.election.enable=trueè¡¨ç¤ºåè®¸ä¸åæ­¥çå¯æ¬ç§°ä¸ºé¦é¢ï¼è¿ä¹å°é¢ä¸´ä¸¢å¤±æ¶æ¯çé£é©ã\n\n\n# producerå¦ä½åå¯é æ§ä¿è¯\n\nå¦ä½ä¿è¯å¯é æéæ¶æ¯ï¼\n\n 1. ack=allè¡¨ç¤ºbrokerè¦ç­å¾ææååºå¯æ¬åæ­¥å®æ¶æ¯æè¿åç»producer responseï¼æ¯æå¯é çæéã\n 2. è®¾ç½®éè¯æ¬¡æ°ï¼æ³¨æè¦åä¸å¡å¹ç­ã\n 3. æäºå°æ¶ä¸å¯éè¯éè¯¯ï¼æ¯å¦æ¶æ¯å¤ªå¤§ãè®¤è¯éè¯¯ç­ãæ ¹æ®ä¸å¡æ¥ç¹æ®å¤çè¿ç±»æ¶æ¯ã\n\n\n# consumerå¦ä½åå¯é æ§ä¿è¯\n\nconsumerè¯·æ±çoffsetå¨brokerä¸ä¸å­å¨æ¶æä¹å¤çï¼ éç½®auto.offset.resetæå®äºä¸¤ç§ç­ç¥ï¼\n\n * earliest:ä»ååºçå¼å§è¯»å\n * latestï¼ä»ååºçæ«å°¾è¯»å",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼",frontmatter:{title:"çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼",date:"2022-10-20T22:29:23.000Z",permalink:"/pages/379160/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/005.%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F%E4%B8%AD%EF%BC%8C%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%A7%92%E6%9D%80%E5%8A%9F%E8%83%BD%EF%BC%9F%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%95%86%E5%93%81%E7%9A%84%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98%EF%BC%9F.html",relativePath:"08.ç³»ç»è®¾è®¡/005.çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼.md",key:"v-164d9a94",path:"/pages/379160/",headers:[{level:2,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:2},{level:2,title:"1 ç¬æ¶é«å¹¶å",slug:"_1-ç¬æ¶é«å¹¶å",normalizedTitle:"1 ç¬æ¶é«å¹¶å",charIndex:242},{level:2,title:"2. é¡µé¢éæå",slug:"_2-é¡µé¢éæå",normalizedTitle:"2. é¡µé¢éæå",charIndex:599},{level:2,title:"3 ç§ææé®",slug:"_3-ç§ææé®",normalizedTitle:"3 ç§ææé®",charIndex:986},{level:2,title:"4 è¯»å¤åå°",slug:"_4-è¯»å¤åå°",normalizedTitle:"4 è¯»å¤åå°",charIndex:1486},{level:2,title:"5 ç¼å­é®é¢",slug:"_5-ç¼å­é®é¢",normalizedTitle:"5 ç¼å­é®é¢",charIndex:1758},{level:3,title:"5.1 ç¼å­å»ç©¿",slug:"_5-1-ç¼å­å»ç©¿",normalizedTitle:"5.1 ç¼å­å»ç©¿",charIndex:2037},{level:3,title:"5.2 ç¼å­ç©¿é",slug:"_5-2-ç¼å­ç©¿é",normalizedTitle:"5.2 ç¼å­ç©¿é",charIndex:2406},{level:2,title:"6 åºå­é®é¢",slug:"_6-åºå­é®é¢",normalizedTitle:"6 åºå­é®é¢",charIndex:2907},{level:3,title:"6.1 æ°æ®åºæ£ååºå­",slug:"_6-1-æ°æ®åºæ£ååºå­",normalizedTitle:"6.1 æ°æ®åºæ£ååºå­",charIndex:3080},{level:3,title:"6.2 redisæ£ååºå­",slug:"_6-2-redisæ£ååºå­",normalizedTitle:"6.2 redisæ£ååºå­",charIndex:3803},{level:3,title:"6.3 luaèæ¬æ£ååºå­",slug:"_6-3-luaèæ¬æ£ååºå­",normalizedTitle:"6.3 luaèæ¬æ£ååºå­",charIndex:5353},{level:2,title:"7 åå¸å¼é",slug:"_7-åå¸å¼é",normalizedTitle:"7 åå¸å¼é",charIndex:6127},{level:3,title:"7.1 setNxå é",slug:"_7-1-setnxå é",normalizedTitle:"7.1 setnxå é",charIndex:6328},{level:3,title:"7.2 setå é",slug:"_7-2-setå é",normalizedTitle:"7.2 setå é",charIndex:6576},{level:3,title:"7.3 éæ¾é",slug:"_7-3-éæ¾é",normalizedTitle:"7.3 éæ¾é",charIndex:6898},{level:3,title:"7.4 èªæé",slug:"_7-4-èªæé",normalizedTitle:"7.4 èªæé",charIndex:7429},{level:3,title:"7.5 redisson",slug:"_7-5-redisson",normalizedTitle:"7.5 redisson",charIndex:8272},{level:2,title:"8 mqå¼æ­¥å¤ç",slug:"_8-mqå¼æ­¥å¤ç",normalizedTitle:"8 mqå¼æ­¥å¤ç",charIndex:8416},{level:3,title:"8.1 æ¶æ¯ä¸¢å¤±é®é¢",slug:"_8-1-æ¶æ¯ä¸¢å¤±é®é¢",normalizedTitle:"8.1 æ¶æ¯ä¸¢å¤±é®é¢",charIndex:8611},{level:3,title:"8.2 éå¤æ¶è´¹é®é¢",slug:"_8-2-éå¤æ¶è´¹é®é¢",normalizedTitle:"8.2 éå¤æ¶è´¹é®é¢",charIndex:8943},{level:3,title:"8.3 åå¾æ¶æ¯é®é¢",slug:"_8-3-åå¾æ¶æ¯é®é¢",normalizedTitle:"8.3 åå¾æ¶æ¯é®é¢",charIndex:9186},{level:3,title:"8.4 å»¶è¿æ¶è´¹é®é¢",slug:"_8-4-å»¶è¿æ¶è´¹é®é¢",normalizedTitle:"8.4 å»¶è¿æ¶è´¹é®é¢",charIndex:9420},{level:2,title:"9 å¦ä½éæµï¼",slug:"_9-å¦ä½éæµ",normalizedTitle:"9 å¦ä½éæµï¼",charIndex:9787},{level:3,title:"9.1 å¯¹åä¸ç¨æ·éæµ",slug:"_9-1-å¯¹åä¸ç¨æ·éæµ",normalizedTitle:"9.1 å¯¹åä¸ç¨æ·éæµ",charIndex:10121},{level:3,title:"9.2 å¯¹åä¸ipéæµ",slug:"_9-2-å¯¹åä¸ipéæµ",normalizedTitle:"9.2 å¯¹åä¸ipéæµ",charIndex:10195},{level:3,title:"9.3 å¯¹æ¥å£éæµ",slug:"_9-3-å¯¹æ¥å£éæµ",normalizedTitle:"9.3 å¯¹æ¥å£éæµ",charIndex:10365},{level:3,title:"9.4 å éªè¯ç ",slug:"_9-4-å éªè¯ç ",normalizedTitle:"9.4 å éªè¯ç ",charIndex:10522},{level:3,title:"9.5 æé«ä¸å¡é¨æ§",slug:"_9-5-æé«ä¸å¡é¨æ§",normalizedTitle:"9.5 æé«ä¸å¡é¨æ§",charIndex:10806},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:11158}],headersStr:"åè¨ 1 ç¬æ¶é«å¹¶å 2. é¡µé¢éæå 3 ç§ææé® 4 è¯»å¤åå° 5 ç¼å­é®é¢ 5.1 ç¼å­å»ç©¿ 5.2 ç¼å­ç©¿é 6 åºå­é®é¢ 6.1 æ°æ®åºæ£ååºå­ 6.2 redisæ£ååºå­ 6.3 luaèæ¬æ£ååºå­ 7 åå¸å¼é 7.1 setNxå é 7.2 setå é 7.3 éæ¾é 7.4 èªæé 7.5 redisson 8 mqå¼æ­¥å¤ç 8.1 æ¶æ¯ä¸¢å¤±é®é¢ 8.2 éå¤æ¶è´¹é®é¢ 8.3 åå¾æ¶æ¯é®é¢ 8.4 å»¶è¿æ¶è´¹é®é¢ 9 å¦ä½éæµï¼ 9.1 å¯¹åä¸ç¨æ·éæµ 9.2 å¯¹åä¸ipéæµ 9.3 å¯¹æ¥å£éæµ 9.4 å éªè¯ç  9.5 æé«ä¸å¡é¨æ§ åè",content:'# åè¨\n\né«å¹¶åä¸å¦ä½è®¾è®¡ç§æç³»ç»ï¼è¿æ¯ä¸ä¸ªé«é¢é¢è¯é¢ãè¿ä¸ªé®é¢çä¼¼ç®åï¼ä½æ¯éé¢çæ°´å¾æ·±ï¼å®èæ¥çæ¯é«å¹¶ååºæ¯ä¸ï¼ä»åç«¯å°åç«¯å¤æ¹é¢çç¥è¯ã\n\nç§æä¸è¬åºç°å¨ååçä¿éæ´»å¨ä¸­ï¼æå®äºä¸å®æ°éï¼æ¯å¦ï¼10ä¸ªï¼çååï¼æ¯å¦ï¼ææºï¼ï¼ä»¥æä½çä»·æ ¼ï¼æ¯å¦ï¼0.1åï¼ï¼è®©å¤§éç¨æ·åä¸æ´»å¨ï¼ä½åªææå°æ°ç¨æ·è½å¤è´­ä¹°æåãè¿ç±»æ´»å¨åå®¶ç»å¤§é¨åæ¯ä¸èµé±çï¼è¯´ç½äºæ¯æ¾ä¸ªå±å¤´å®£ä¼ èªå·±ã\n\nè½è¯´ç§æåªæ¯ä¸ä¸ªä¿éæ´»å¨ï¼ä½å¯¹ææ¯è¦æ±ä¸ä½ãä¸é¢ç»å¤§å®¶æ»ç»ä¸ä¸è®¾è®¡ç§æç³»ç»éè¦æ³¨æç9ä¸ªç»èã\n\n\n\n\n# 1 ç¬æ¶é«å¹¶å\n\nä¸è¬å¨ç§ææ¶é´ç¹ï¼æ¯å¦ï¼12ç¹ï¼åå åéï¼ç¨æ·å¹¶åéæçæ­£çªå¢ï¼è¾¾å°ç§ææ¶é´ç¹æ¶ï¼å¹¶åéä¼è¾¾å°é¡¶å³°ã\n\nä½ç±äºè¿ç±»æ´»å¨æ¯å¤§éç¨æ·æ¢å°éååçåºæ¯ï¼å¿å®ä¼åºç°ç¼å¤èå°çæåµï¼æä»¥å¶å®ç»å¤§é¨åç¨æ·ç§æä¼å¤±è´¥ï¼åªææå°é¨åç¨æ·è½å¤æåã\n\næ­£å¸¸æåµä¸ï¼å¤§é¨åç¨æ·ä¼æ¶å°ååå·²ç»æ¢å®çæéï¼æ¶å°è¯¥æéåï¼ä»ä»¬å¤§æ¦çä¸ä¼å¨é£ä¸ªæ´»å¨é¡µé¢åçäºï¼å¦æ­¤ä¸æ¥ï¼ç¨æ·å¹¶åéåä¼æ¥å§ä¸éãæä»¥è¿ä¸ªå³°å¼æç»­çæ¶é´å¶å®æ¯éå¸¸ç­çï¼è¿æ ·å°±ä¼åºç°ç¬æ¶é«å¹¶åçæåµï¼ä¸é¢ç¨ä¸å¼ å¾ç´è§çæåä¸ä¸æµéçååï¼\n\n\n\nåè¿ç§ç¬æ¶é«å¹¶åçåºæ¯ï¼ä¼ ç»çç³»ç»å¾é¾åºå¯¹ï¼æä»¬éè¦è®¾è®¡ä¸å¥å¨æ°çç³»ç»ãå¯ä»¥ä»ä»¥ä¸å ä¸ªæ¹é¢å¥æï¼\n\n 1. é¡µé¢éæå\n 2. CDNå é\n 3. ç¼å­\n 4. mqå¼æ­¥å¤ç\n 5. éæµ\n 6. åå¸å¼é\n\n\n# 2. é¡µé¢éæå\n\næ´»å¨é¡µé¢æ¯ç¨æ·æµéçç¬¬ä¸å¥å£ï¼æä»¥æ¯å¹¶åéæå¤§çå°æ¹ã\n\nå¦æè¿äºæµéé½è½ç´æ¥è®¿é®æå¡ç«¯ï¼æææå¡ç«¯ä¼å ä¸ºæ¿åä¸ä½è¿ä¹å¤§çååï¼èç´æ¥ææã\n\næ´»å¨é¡µé¢ç»å¤§å¤æ°åå®¹æ¯åºå®çï¼æ¯å¦ï¼åååç§°ãååæè¿°ãå¾çç­ãä¸ºäºåå°ä¸å¿è¦çæå¡ç«¯è¯·æ±ï¼éå¸¸æåµä¸ï¼ä¼å¯¹æ´»å¨é¡µé¢åéæåå¤çãç¨æ·æµè§ååç­å¸¸è§æä½ï¼å¹¶ä¸ä¼è¯·æ±å°æå¡ç«¯ãåªæå°äºç§ææ¶é´ç¹ï¼å¹¶ä¸ç¨æ·ä¸»å¨ç¹äºç§ææé®æåè®¸è®¿é®æå¡ç«¯ã\n\nè¿æ ·è½è¿æ»¤å¤§é¨åæ æè¯·æ±ã\n\nä½åªåé¡µé¢éæåè¿ä¸å¤ï¼å ä¸ºç¨æ·åå¸å¨å¨å½åå°ï¼æäºäººå¨åäº¬ï¼æäºäººå¨æé½ï¼æäºäººå¨æ·±å³ï¼å°åç¸å·®å¾è¿ï¼ç½éåä¸ç¸åã\n\nå¦ä½æè½è®©ç¨æ·æå¿«è®¿é®å°æ´»å¨é¡µé¢å¢ï¼\n\nè¿å°±éè¦ä½¿ç¨CDNï¼å®çå¨ç§°æ¯Content Delivery Networkï¼å³åå®¹ååç½ç»ã\n\nä½¿ç¨æ·å°±è¿è·åæéåå®¹ï¼éä½ç½ç»æ¥å¡ï¼æé«ç¨æ·è®¿é®ååºéåº¦åå½ä¸­çã\n\n\n# 3 ç§ææé®\n\nå¤§é¨åç¨æ·æéè¿ç§ææ¶é´ç¹ï¼ä¸è¬ä¼æåè¿å¥æ´»å¨é¡µé¢ãæ­¤æ¶çå°çç§ææé®æ¯ç½®ç°ï¼ä¸å¯ç¹å»çãåªæå°äºç§ææ¶é´ç¹é£ä¸æ¶å»ï¼ç§ææé®æä¼èªå¨ç¹äº®ï¼åæå¯ç¹å»çã\n\nä½æ­¤æ¶å¾å¤ç¨æ·å·²ç»è¿«ä¸åå¾äºï¼éè¿ä¸åå·æ°é¡µé¢ï¼äºåå¨ç¬¬ä¸æ¶é´çå°ç§ææé®çç¹äº®ã\n\nä»åé¢å¾ç¥ï¼è¯¥æ´»å¨é¡µé¢æ¯éæçãé£ä¹æä»¬å¨éæé¡µé¢ä¸­å¦ä½æ§å¶ç§ææé®ï¼åªå¨ç§ææ¶é´ç¹æ¶æç¹äº®å¢ï¼\n\næ²¡éï¼ä½¿ç¨jsæä»¶æ§å¶ã\n\nä¸ºäºæ§è½èèï¼ä¸è¬ä¼å°cssãjsåå¾çç­éæèµæºæä»¶æåç¼å­å°CDNä¸ï¼è®©ç¨æ·è½å¤å°±è¿è®¿é®ç§æé¡µé¢ã\n\nçå°è¿éï¼æäºèªæçå°ä¼ä¼´ï¼å¯è½ä¼é®ï¼CDNä¸çjsæä»¶æ¯å¦ä½æ´æ°çï¼\n\nç§æå¼å§ä¹åï¼jsæ å¿ä¸ºfalseï¼è¿æå¦å¤ä¸ä¸ªéæºåæ°ãå½ç§æå¼å§çæ¶åç³»ç»ä¼çæä¸ä¸ªæ°çjsæä»¶ï¼æ­¤æ¶æ å¿ä¸ºtrueï¼å¹¶ä¸éæºåæ°çæä¸ä¸ªæ°å¼ï¼ç¶ååæ­¥ç»CDNãç±äºæäºè¿ä¸ªéæºåæ°ï¼CDNä¸ä¼ç¼å­æ°æ®ï¼æ¯æ¬¡é½è½ä»CDNä¸­è·åææ°çjsä»£ç ãæ­¤å¤ï¼åç«¯è¿å¯ä»¥å ä¸ä¸ªå®æ¶å¨ï¼æ§å¶æ¯å¦ï¼10ç§ä¹åï¼åªåè®¸åèµ·ä¸æ¬¡è¯·æ±ãå¦æç¨æ·ç¹å»äºä¸æ¬¡ç§ææé®ï¼åå¨10ç§ä¹åç½®ç°ï¼ä¸åè®¸åæ¬¡ç¹å»ï¼ç­å°è¿äºæ¶é´éå¶ï¼ååè®¸éæ°ç¹å»è¯¥æé®ã\n\n\n# 4 è¯»å¤åå°\n\nå¨ç§æçè¿ç¨ä¸­ï¼ç³»ç»ä¸è¬ä¼åæ¥ä¸ä¸åºå­æ¯å¦è¶³å¤ï¼å¦æè¶³å¤æåè®¸ä¸åï¼åæ°æ®åºãå¦æä¸å¤ï¼åç´æ¥è¿åè¯¥ååå·²ç»æ¢å®ã\n\nç±äºå¤§éç¨æ·æ¢å°éååï¼åªææå°é¨åç¨æ·è½å¤æ¢æåï¼æä»¥ç»å¤§é¨åç¨æ·å¨ç§ææ¶ï¼åºå­å¶å®æ¯ä¸è¶³çï¼ç³»ç»ä¼ç´æ¥è¿åè¯¥ååå·²ç»æ¢å®ã\n\nè¿æ¯éå¸¸å¸åçï¼è¯»å¤åå° çåºæ¯ã\n\nå¦æææ°åä¸çè¯·æ±è¿æ¥ï¼åæ¶éè¿æ°æ®åºæ¥ç¼å­æ¯å¦è¶³å¤ï¼æ­¤æ¶æ°æ®åºå¯è½ä¼ææãå ä¸ºæ°æ®åºçè¿æ¥èµæºéå¸¸æéï¼æ¯å¦ï¼mysqlï¼æ æ³åæ¶æ¯æè¿ä¹å¤çè¿æ¥ã\n\nèåºè¯¥æ¹ç¨ç¼å­ï¼æ¯å¦ï¼redisã\n\nå³ä¾¿ç¨äºredisï¼ä¹éè¦é¨ç½²å¤ä¸ªèç¹ã\n\n\n# 5 ç¼å­é®é¢\n\néå¸¸æåµä¸ï¼æä»¬éè¦å¨redisä¸­ä¿å­ååä¿¡æ¯ï¼éé¢åå«ï¼ååidãåååç§°ãè§æ ¼å±æ§ãåºå­ç­ä¿¡æ¯ï¼åæ¶æ°æ®åºä¸­ä¹è¦æç¸å³ä¿¡æ¯ï¼æ¯ç«ç¼å­å¹¶ä¸å®å¨å¯é ã\n\nç¨æ·å¨ç¹å»ç§ææé®ï¼è¯·æ±ç§ææ¥å£çè¿ç¨ä¸­ï¼éè¦ä¼ å¥çååidåæ°ï¼ç¶åæå¡ç«¯éè¦æ ¡éªè¯¥ååæ¯å¦åæ³ã\n\nå¤§è´æµç¨å¦ä¸å¾æç¤ºï¼\n\n\n\næ ¹æ®ååidï¼åä»ç¼å­ä¸­æ¥è¯¢ååï¼å¦æååå­å¨ï¼ååä¸ç§æãå¦æä¸å­å¨ï¼åéè¦ä»æ°æ®åºä¸­æ¥è¯¢ååï¼å¦æå­å¨ï¼åå°ååä¿¡æ¯æ¾å¥ç¼å­ï¼ç¶ååä¸ç§æãå¦æååä¸å­å¨ï¼åç´æ¥æç¤ºå¤±è´¥ã\n\nè¿ä¸ªè¿ç¨è¡¨é¢ä¸çèµ·æ¥æ¯OKçï¼ä½æ¯å¦ææ·±å¥åæä¸ä¸ä¼åç°ä¸äºé®é¢ã\n\n\n# 5.1 ç¼å­å»ç©¿\n\næ¯å¦ååAç¬¬ä¸æ¬¡ç§ææ¶ï¼ç¼å­ä¸­æ¯æ²¡ææ°æ®çï¼ä½æ°æ®åºä¸­æãè½è¯´ä¸é¢æå¦æä»æ°æ®åºä¸­æ¥å°æ°æ®ï¼åæ¾å¥ç¼å­çé»è¾ã\n\nç¶èï¼å¨é«å¹¶åä¸ï¼åä¸æ¶å»ä¼æå¤§éçè¯·æ±ï¼é½å¨ç§æåä¸ä»¶ååï¼è¿äºè¯·æ±åæ¶å»æ¥ç¼å­ä¸­æ²¡ææ°æ®ï¼ç¶åååæ¶è®¿é®æ°æ®åºãç»ææ²å§äºï¼æ°æ®åºå¯è½æä¸ä½ååï¼ç´æ¥ææã\n\nå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nè¿å°±éè¦å éï¼æå¥½ä½¿ç¨åå¸å¼éã\n\nå½ç¶ï¼éå¯¹è¿ç§æåµï¼æå¥½å¨é¡¹ç®å¯å¨ä¹åï¼åæç¼å­è¿è¡é¢ç­ãå³äºåæææçååï¼åæ­¥å°ç¼å­ä¸­ï¼è¿æ ·åååºæ¬é½è½ç´æ¥ä»ç¼å­ä¸­è·åå°ï¼å°±ä¸ä¼åºç°ç¼å­å»ç©¿çé®é¢äºã\n\næ¯ä¸æ¯ä¸é¢å éè¿ä¸æ­¥å¯ä»¥ä¸éè¦äºï¼\n\nè¡¨é¢ä¸çèµ·æ¥ï¼ç¡®å®å¯ä»¥ä¸éè¦ãä½å¦æç¼å­ä¸­è®¾ç½®çè¿ææ¶é´ä¸å¯¹ï¼ç¼å­æåè¿æäºï¼æèç¼å­è¢«ä¸å°å¿å é¤äºï¼å¦æä¸å éåæ ·å¯è½åºç°ç¼å­å»ç©¿ã\n\nå¶å®è¿éå éï¼ç¸å½äºä¹°äºä¸ä»½ä¿é©ã\n\n\n# 5.2 ç¼å­ç©¿é\n\nå¦ææå¤§éçè¯·æ±ä¼ å¥çååidï¼å¨ç¼å­ä¸­åæ°æ®åºä¸­é½ä¸å­å¨ï¼è¿äºè¯·æ±ä¸å°±æ¯æ¬¡é½ä¼ç©¿éè¿ç¼å­ï¼èç´æ¥è®¿é®æ°æ®åºäºã\n\nç±äºåé¢å·²ç»å äºéï¼æä»¥å³ä½¿è¿éçå¹¶åéå¾å¤§ï¼ä¹ä¸ä¼å¯¼è´æ°æ®åºç´æ¥ææã\n\nä½å¾æ¾ç¶è¿äºè¯·æ±çå¤çæ§è½å¹¶ä¸å¥½ï¼ææ²¡ææ´å¥½çè§£å³æ¹æ¡ï¼\n\nè¿æ¶å¯ä»¥æ³å°å¸éè¿æ»¤å¨ã\n\nç³»ç»æ ¹æ®ååidï¼åä»å¸éè¿æ»¤å¨ä¸­æ¥è¯¢è¯¥idæ¯å¦å­å¨ï¼å¦æå­å¨ååè®¸ä»ç¼å­ä¸­æ¥è¯¢æ°æ®ï¼å¦æä¸å­å¨ï¼åç´æ¥è¿åå¤±è´¥ã\n\nè½è¯´è¯¥æ¹æ¡å¯ä»¥è§£å³ç¼å­ç©¿éé®é¢ï¼ä½æ¯åä¼å¼åºå¦å¤ä¸ä¸ªé®é¢ï¼å¸éè¿æ»¤å¨ä¸­çæ°æ®å¦ä½æ´ç¼å­ä¸­çæ°æ®ä¿æä¸è´ï¼\n\nè¿å°±è¦æ±ï¼å¦æç¼å­ä¸­æ°æ®ææ´æ°ï¼åè¦åæ¶åæ­¥å°å¸éè¿æ»¤å¨ä¸­ãå¦ææ°æ®åæ­¥å¤±è´¥äºï¼è¿éè¦å¢å éè¯æºå¶ï¼èä¸è·¨æ°æ®æºï¼è½ä¿è¯æ°æ®çå®æ¶ä¸è´æ§åï¼\n\næ¾ç¶æ¯ä¸è¡çã\n\næä»¥å¸éè¿æ»¤å¨ç»å¤§é¨åä½¿ç¨å¨ç¼å­æ°æ®æ´æ°å¾å°çåºæ¯ä¸­ã\n\nå¦æç¼å­æ°æ®æ´æ°éå¸¸é¢ç¹ï¼åè¯¥å¦ä½å¤çå¢ï¼\n\nè¿æ¶ï¼å°±éè¦æä¸å­å¨çååidä¹ç¼å­èµ·æ¥ã\n\nä¸æ¬¡ï¼åæè¯¥ååidçè¯·æ±è¿æ¥ï¼åä¹è½ä»ç¼å­ä¸­æ¥å°æ°æ®ï¼åªä¸è¿è¯¥æ°æ®æ¯è¾ç¹æ®ï¼è¡¨ç¤ºååä¸å­å¨ãéè¦ç¹å«æ³¨æçæ¯ï¼è¿ç§ç¹æ®ç¼å­è®¾ç½®çè¶æ¶æ¶é´åºè¯¥å°½éç­ä¸ç¹ã\n\n\n# 6 åºå­é®é¢\n\nå¯¹äºåºå­é®é¢çä¼¼ç®åï¼å®åéé¢è¿æ¯æäºä¸è¥¿ã\n\nçæ­£çç§æååçåºæ¯ï¼ä¸æ¯è¯´æ£å®åºå­ï¼å°±å®äºäºï¼å¦æç¨æ·å¨ä¸æ®µæ¶é´åï¼è¿æ²¡å®ææ¯ä»ï¼æ£åçåºå­æ¯è¦å åå»çã\n\næä»¥ï¼å¨è¿éå¼åºäºä¸ä¸ªé¢æ£åºå­çæ¦å¿µï¼é¢æ£åºå­çä¸»è¦æµç¨å¦ä¸ï¼\n\n\n\næ£ååºå­ä¸­é¤äºä¸é¢è¯´å°çé¢æ£åºå­ååéåºå­ä¹å¤ï¼è¿éè¦ç¹å«æ³¨æçæ¯åºå­ä¸è¶³ååºå­è¶åé®é¢ã\n\n\n# 6.1 æ°æ®åºæ£ååºå­\n\nä½¿ç¨æ°æ®åºæ£ååºå­ï¼æ¯æç®åçå®ç°æ¹æ¡äºï¼åè®¾æ£ååºå­çsqlå¦ä¸ï¼\n\nupdate product set stock=stock-1 where id=123;\n\n\n1\n\n\nè¿ç§åæ³å¯¹äºæ£ååºå­æ¯æ²¡æé®é¢çï¼ä½å¦ä½æ§å¶åºå­ä¸è¶³çæåµä¸ï¼ä¸è®©ç¨æ·æä½å¢ï¼\n\nè¿å°±éè¦å¨updateä¹åï¼åæ¥ä¸ä¸åºå­æ¯å¦è¶³å¤äºã\n\nä¼ªä»£ç å¦ä¸ï¼\n\nint stock = mapper.getStockById(123);\nif(stock > 0) {\n  int count = mapper.updateStock(123);\n  if(count > 0) {\n    addOrder(123);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¤§å®¶ææ²¡æåç°è¿æ®µä»£ç çé®é¢ï¼\n\næ²¡éï¼æ¥è¯¢æä½åæ´æ°æä½ä¸æ¯åå­æ§çï¼ä¼å¯¼è´å¨å¹¶åçåºæ¯ä¸ï¼åºç°åºå­è¶åçæåµã\n\næäººå¯è½ä¼è¯´ï¼è¿æ ·å¥½åï¼å æéï¼ä¸å°±æå®äºï¼æ¯å¦ä½¿ç¨synchronizedå³é®å­ã\n\nç¡®å®ï¼å¯ä»¥ï¼ä½æ¯æ§è½ä¸å¤å¥½ã\n\nè¿ææ´ä¼éçå¤çæ¹æ¡ï¼å³åºäºæ°æ®åºçä¹è§éï¼è¿æ ·ä¼å°ä¸æ¬¡æ°æ®åºæ¥è¯¢ï¼èä¸è½å¤å¤©ç¶çä¿è¯æ°æ®æä½çåå­æ§ã\n\nåªéå°ä¸é¢çsqlç¨å¾®è°æ´ä¸ä¸ï¼\n\nupdate product set stock=stock-1 where id=product and stock > 0;\n\n\n1\n\n\nå¨sqlæåå ä¸ï¼stock > 0ï¼å°±è½ä¿è¯ä¸ä¼åºç°è¶åçæåµã\n\nä½éè¦é¢ç¹è®¿é®æ°æ®åºï¼æä»¬é½ç¥éæ°æ®åºè¿æ¥æ¯éå¸¸æè´µçèµæºãå¨é«å¹¶åçåºæ¯ä¸ï¼å¯è½ä¼é æç³»ç»éªå´©ãèä¸ï¼å®¹æåºç°å¤ä¸ªè¯·æ±ï¼åæ¶ç«äºè¡éçæåµï¼é æç¸äºç­å¾ï¼ä»èåºç°æ­»éçé®é¢ã\n\n\n# 6.2 redisæ£ååºå­\n\nredisçincræ¹æ³æ¯åå­æ§çï¼å¯ä»¥ç¨è¯¥æ¹æ³æ£ååºå­ãä¼ªä»£ç å¦ä¸ï¼\n\n boolean exist = redisClient.query(productId,userId);\n  if(exist) {\n    return -1;\n  }\n  int stock = redisClient.queryStock(productId);\n  if(stock <=0) {\n    return 0;\n  }\n  redisClient.incrby(productId, -1);\n  redisClient.add(productId,userId);\nreturn 1;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä»£ç æµç¨å¦ä¸ï¼\n\n 1. åå¤æ­è¯¥ç¨æ·ææ²¡æç§æè¿è¯¥ååï¼å¦æå·²ç»ç§æè¿ï¼åç´æ¥è¿å-1ã\n 2. æ¥è¯¢åºå­ï¼å¦æåºå­å°äºç­äº0ï¼åç´æ¥è¿å0ï¼è¡¨ç¤ºåºå­ä¸è¶³ã\n 3. å¦æåºå­åè¶³ï¼åæ£ååºå­ï¼ç¶åå°æ¬æ¬¡ç§æè®°å½ä¿å­èµ·æ¥ãç¶åè¿å1ï¼è¡¨ç¤ºæåã\n\nä¼°è®¡å¾å¤å°ä¼ä¼´ï¼ä¸å¼å§é½ä¼æè¿æ ·çæè·¯åä»£ç ãä½å¦æä»ç»æ³æ³ä¼åç°ï¼è¿æ®µä»£ç æé®é¢ã\n\næä»ä¹é®é¢å¢ï¼\n\nå¦æå¨é«å¹¶åä¸ï¼æå¤ä¸ªè¯·æ±åæ¶æ¥è¯¢åºå­ï¼å½æ¶é½å¤§äº0ãç±äºæ¥è¯¢åºå­åæ´æ°åºå­éååæä½ï¼åä¼åºç°åºå­ä¸ºè´æ°çæåµï¼å³åºå­è¶åã\n\nå½ç¶æäººå¯è½ä¼è¯´ï¼å ä¸ªsynchronizedä¸å°±è§£å³é®é¢ï¼\n\nè°æ´åä»£ç å¦ä¸ï¼\n\n   boolean exist = redisClient.query(productId,userId);\n   if(exist) {\n    return -1;\n   }\n   synchronized(this) {\n       int stock = redisClient.queryStock(productId);\n       if(stock <=0) {\n         return 0;\n       }\n       redisClient.incrby(productId, -1);\n       redisClient.add(productId,userId);\n   }\n\nreturn 1;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå synchronizedç¡®å®è½è§£å³åºå­ä¸ºè´æ°é®é¢ï¼ä½æ¯è¿æ ·ä¼å¯¼è´æ¥å£æ§è½æ¥å§ä¸éï¼æ¯æ¬¡æ¥è¯¢é½éè¦ç«äºåä¸æéï¼æ¾ç¶ä¸å¤ªåçã\n\nä¸ºäºè§£å³ä¸é¢çé®é¢ï¼ä»£ç ä¼åå¦ä¸ï¼\n\nboolean exist = redisClient.query(productId,userId);\nif(exist) {\n  return -1;\n}\nif(redisClient.incrby(productId, -1)<0) {\n  return 0;\n}\nredisClient.add(productId,userId);\nreturn 1;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè¯¥ä»£ç ä¸»è¦æµç¨å¦ä¸ï¼\n\n 1. åå¤æ­è¯¥ç¨æ·ææ²¡æç§æè¿è¯¥ååï¼å¦æå·²ç»ç§æè¿ï¼åç´æ¥è¿å-1ã\n 2. æ£ååºå­ï¼å¤æ­è¿åå¼æ¯å¦å°äº0ï¼å¦æå°äº0ï¼åç´æ¥è¿å0ï¼è¡¨ç¤ºåºå­ä¸è¶³ã\n 3. å¦ææ£ååºå­åï¼è¿åå¼å¤§äºæç­äº0ï¼åå°æ¬æ¬¡ç§æè®°å½ä¿å­èµ·æ¥ãç¶åè¿å1ï¼è¡¨ç¤ºæåã\n\nè¯¥æ¹æ¡åä¸çï¼å¥½åæ²¡é®é¢ã\n\nä½å¦æå¨é«å¹¶ååºæ¯ä¸­ï¼æå¤ä¸ªè¯·æ±åæ¶æ£ååºå­ï¼å¤§å¤æ°è¯·æ±çincrbyæä½ä¹åï¼ç»æé½ä¼å°äº0ã\n\nè½è¯´ï¼åºå­åºç°è´æ°ï¼ä¸ä¼åºç°è¶åçé®é¢ãä½ç±äºè¿éæ¯é¢ååºå­ï¼å¦æè´æ°å¼è´çå¤ªå¤çè¯ï¼åé¢ä¸ä¸è¦åéåºå­æ¶ï¼å°±ä¼å¯¼è´åºå­ä¸åã\n\né£ä¹ï¼ææ²¡ææ´å¥½çæ¹æ¡å¢ï¼\n\n\n# 6.3 luaèæ¬æ£ååºå­\n\næä»¬é½ç¥éluaèæ¬ï¼æ¯è½å¤ä¿è¯åå­æ§çï¼å®è·redisä¸èµ·éåä½¿ç¨ï¼è½å¤å®ç¾è§£å³ä¸é¢çé®é¢ã\n\nluaèæ¬ææ®µéå¸¸ç»å¸çä»£ç ï¼\n\n  StringBuilder lua = new StringBuilder();\n  lua.append("if (redis.call(\'exists\', KEYS[1]) == 1) then");\n  lua.append("    local stock = tonumber(redis.call(\'get\', KEYS[1]));");\n  lua.append("    if (stock == -1) then");\n  lua.append("        return 1;");\n  lua.append("    end;");\n  lua.append("    if (stock > 0) then");\n  lua.append("        redis.call(\'incrby\', KEYS[1], -1);");\n  lua.append("        return stock;");\n  lua.append("    end;");\n  lua.append("    return 0;");\n  lua.append("end;");\n  lua.append("return -1;");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¯¥ä»£ç çä¸»è¦æµç¨å¦ä¸ï¼\n\n 1. åå¤æ­ååidæ¯å¦å­å¨ï¼å¦æä¸å­å¨åç´æ¥è¿åã\n 2. è·åè¯¥ååidçåºå­ï¼å¤æ­åºå­å¦ææ¯-1ï¼åç´æ¥è¿åï¼è¡¨ç¤ºä¸éå¶åºå­ã\n 3. å¦æåºå­å¤§äº0ï¼åæ£ååºå­ã\n 4. å¦æåºå­ç­äº0ï¼æ¯ç´æ¥è¿åï¼è¡¨ç¤ºåºå­ä¸è¶³ã\n\n\n# 7 åå¸å¼é\n\nä¹åææå°è¿ï¼å¨ç§æçæ¶åï¼éè¦åä»ç¼å­ä¸­æ¥ååæ¯å¦å­å¨ï¼å¦æä¸å­å¨ï¼åä¼ä»æ°æ®åºä¸­æ¥ååãå¦ææ°æ®åºä¸­ï¼åå°è¯¥ååæ¾å¥ç¼å­ä¸­ï¼ç¶åè¿åãå¦ææ°æ®åºä¸­æ²¡æï¼åç´æ¥è¿åå¤±è´¥ã\n\nå¤§å®¶è¯æ³ä¸ä¸ï¼å¦æå¨é«å¹¶åä¸ï¼æå¤§éçè¯·æ±é½å»æ¥ä¸ä¸ªç¼å­ä¸­ä¸å­å¨çååï¼è¿äºè¯·æ±é½ä¼ç´æ¥æå°æ°æ®åºãæ°æ®åºç±äºæ¿åä¸ä½ååï¼èç´æ¥ææã\n\né£ä¹å¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nè¿å°±éè¦ç¨redisåå¸å¼éäºã\n\n\n# 7.1 setNxå é\n\nä½¿ç¨redisçåå¸å¼éï¼é¦åæ³å°çæ¯setNxå½ä»¤ã\n\nif (jedis.setnx(lockKey, val) == 1) {\n   jedis.expire(lockKey, timeout);\n}\n\n\n1\n2\n3\n\n\nç¨è¯¥å½ä»¤å¶å®å¯ä»¥å éï¼ä½ååé¢çè®¾ç½®è¶æ¶æ¶é´æ¯åå¼çï¼å¹¶éåå­æä½ã\n\nåå¦å éæåäºï¼ä½æ¯è®¾ç½®è¶æ¶æ¶é´å¤±è´¥äºï¼è¯¥lockKeyå°±åææ°¸ä¸å¤±æçäºãå¨é«å¹¶ååºæ¯ä¸­ï¼è¯¥é®é¢ä¼å¯¼è´éå¸¸ä¸¥éçåæã\n\né£ä¹ï¼ææ²¡æä¿è¯åå­æ§çå éå½ä»¤å¢ï¼\n\n\n# 7.2 setå é\n\nä½¿ç¨redisçsetå½ä»¤ï¼å®å¯ä»¥æå®å¤ä¸ªåæ°ã\n\nString result = jedis.set(lockKey, requestId, "NX", "PX", expireTime);\nif ("OK".equals(result)) {\n    return true;\n}\nreturn false;\n\n\n1\n2\n3\n4\n5\n\n\nå¶ä¸­ï¼\n\n * lockKeyï¼éçæ è¯\n * requestIdï¼è¯·æ±id\n * NXï¼åªå¨é®ä¸å­å¨æ¶ï¼æå¯¹é®è¿è¡è®¾ç½®æä½ã\n * PXï¼è®¾ç½®é®çè¿ææ¶é´ä¸º millisecond æ¯«ç§ã\n * expireTimeï¼è¿ææ¶é´\n\nç±äºè¯¥å½ä»¤åªæä¸æ­¥ï¼æä»¥å®æ¯åå­æä½ã\n\n\n# 7.3 éæ¾é\n\næ¥ä¸æ¥ï¼æäºæåå¯è½ä¼é®ï¼å¨å éæ¶ï¼æ¢ç¶å·²ç»æäºlockKeyéæ è¯ï¼ä¸ºä»ä¹è¦éè¦è®°å½requestIdå¢ï¼\n\nç­ï¼requestIdæ¯å¨éæ¾éçæ¶åç¨çã\n\nif (jedis.get(lockKey).equals(requestId)) {\n    jedis.del(lockKey);\n    return true;\n}\nreturn false;\n\n\n1\n2\n3\n4\n5\n\n\nå¨éæ¾éçæ¶åï¼åªè½éæ¾èªå·±å çéï¼ä¸åè®¸éæ¾å«äººå çéã\n\nè¿éä¸ºä»ä¹è¦ç¨requestIdï¼ç¨userIdä¸è¡åï¼\n\nç­ï¼å¦æç¨userIdçè¯ï¼åè®¾æ¬æ¬¡è¯·æ±æµç¨èµ°å®äºï¼åå¤å é¤éãæ­¤æ¶ï¼å·§åéå°äºè¿ææ¶é´å¤±æäºãèå¦å¤ä¸ä¸ªè¯·æ±ï¼å·§åä½¿ç¨çç¸åuserIdå éï¼ä¼æåãèæ¬æ¬¡è¯·æ±å é¤éçæ¶åï¼å é¤çå¶å®æ¯å«äººçéäºã\n\nå½ç¶ä½¿ç¨luaèæ¬ä¹è½é¿åè¯¥é®é¢ï¼\n\nif redis.call(\'get\', KEYS[1]) == ARGV[1] then \n return redis.call(\'del\', KEYS[1]) \nelse \n  return 0 \nend\n\n\n1\n2\n3\n4\n5\n\n\nå®è½ä¿è¯æ¥è¯¢éæ¯å¦å­å¨åå é¤éæ¯åå­æä½ã\n\n\n# 7.4 èªæé\n\nä¸é¢çå éæ¹æ³çèµ·æ¥å¥½åæ²¡æé®é¢ï¼ä½å¦æä½ ä»ç»æ³æ³ï¼å¦ææ1ä¸çè¯·æ±åæ¶å»ç«äºé£æéï¼å¯è½åªæä¸ä¸ªè¯·æ±æ¯æåçï¼å¶ä½ç9999ä¸ªè¯·æ±é½ä¼å¤±è´¥ã\n\nå¨ç§æåºæ¯ä¸ï¼ä¼æä»ä¹é®é¢ï¼\n\nç­ï¼æ¯1ä¸ä¸ªè¯·æ±ï¼æ1ä¸ªæåãå1ä¸ä¸ªè¯·æ±ï¼æ1ä¸ªæåãå¦æ­¤ä¸å»ï¼ç´å°åºå­ä¸è¶³ãè¿å°±åæåååå¸çç§æäºï¼è·æä»¬æ³è±¡ä¸­çä¸ä¸æ ·ã\n\nå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nç­ï¼ä½¿ç¨èªæéã\n\ntry {\n  Long start = System.currentTimeMillis();\n  while(true) {\n      String result = jedis.set(lockKey, requestId, "NX", "PX", expireTime);\n     if ("OK".equals(result)) {\n        return true;\n     }\n     \n     long time = System.currentTimeMillis() - start;\n      if (time>=timeout) {\n          return false;\n      }\n      try {\n          Thread.sleep(50);\n      } catch (InterruptedException e) {\n          e.printStackTrace();\n      }\n  }\n \n} finally{\n    unlock(lockKey,requestId);\n}  \nreturn false;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¨è§å®çæ¶é´ï¼æ¯å¦500æ¯«ç§åï¼èªæä¸æ­å°è¯å éï¼å¦ææååç´æ¥è¿åãå¦æå¤±è´¥ï¼åä¼ç 50æ¯«ç§ï¼ååèµ·æ°ä¸è½®çå°è¯ãå¦æå°äºè¶æ¶æ¶é´ï¼è¿æªå éæåï¼åç´æ¥è¿åå¤±è´¥ã\n\n\n# 7.5 redisson\n\né¤äºä¸é¢çé®é¢ä¹å¤ï¼ä½¿ç¨redisåå¸å¼éï¼è¿æéç«äºé®é¢ãç»­æé®é¢ãééå¥é®é¢ãå¤ä¸ªrediså®ä¾å éé®é¢ç­ã\n\nè¿äºé®é¢ä½¿ç¨redissonå¯ä»¥è§£å³ï¼ç±äºç¯å¹çåå ï¼å¨è¿éåä¿çä¸ç¹æ¬å¿µï¼æçé®çç§èç»æãåé¢ä¼åºä¸ä¸ªä¸é¢ä»ç»åå¸å¼éï¼æ¬è¯·æå¾ã\n\n\n# 8 mqå¼æ­¥å¤ç\n\næä»¬é½ç¥éå¨çå®çç§æåºæ¯ä¸­ï¼æä¸ä¸ªæ ¸å¿æµç¨ï¼èè¿ä¸ä¸ªæ ¸å¿æµç¨ä¸­ï¼çæ­£å¹¶åéå¤§çæ¯ç§æåè½ï¼ä¸ååæ¯ä»åè½å®éå¹¶åéå¾å°ãæä»¥ï¼æä»¬å¨è®¾è®¡ç§æç³»ç»æ¶ï¼æå¿è¦æä¸ååæ¯ä»åè½ä»ç§æçä¸»æµç¨ä¸­æååºæ¥ï¼ç¹å«æ¯ä¸ååè½è¦åæmqå¼æ­¥å¤ççãèæ¯ä»åè½ï¼æ¯å¦æ¯ä»å®æ¯ä»ï¼æ¯ä¸å¡åºæ¯æ¬èº«ä¿è¯çå¼æ­¥ã\n\näºæ¯ï¼ç§æåä¸åçæµç¨åæå¦ä¸ï¼å¦æä½¿ç¨mqï¼éè¦å³æ³¨ä»¥ä¸å ä¸ªé®é¢ï¼\n\n\n# 8.1 æ¶æ¯ä¸¢å¤±é®é¢\n\nç§ææåäºï¼å¾mqåéä¸åæ¶æ¯çæ¶åï¼æå¯è½ä¼å¤±è´¥ãåå æå¾å¤ï¼æ¯å¦ï¼ç½ç»é®é¢ãbrokeræäºãmqæå¡ç«¯ç£çé®é¢ç­ãè¿äºæåµï¼é½å¯è½ä¼é ææ¶æ¯ä¸¢å¤±ã\n\né£ä¹ï¼å¦ä½é²æ­¢æ¶æ¯ä¸¢å¤±å¢ï¼\n\nç­ï¼å ä¸å¼ æ¶æ¯åéè¡¨ã\n\nå¨çäº§èåémqæ¶æ¯ä¹åï¼åæè¯¥æ¡æ¶æ¯åå¥æ¶æ¯åéè¡¨ï¼åå§ç¶ææ¯å¾å¤çï¼ç¶åååémqæ¶æ¯ãæ¶è´¹èæ¶è´¹æ¶æ¯æ¶ï¼å¤çå®ä¸å¡é»è¾ä¹åï¼ååè°çäº§èçä¸ä¸ªæ¥å£ï¼ä¿®æ¹æ¶æ¯ç¶æä¸ºå·²å¤çã\n\nå¦æçäº§èææ¶æ¯åå¥æ¶æ¯åéè¡¨ä¹åï¼ååémqæ¶æ¯å°mqæå¡ç«¯çè¿ç¨ä¸­å¤±è´¥äºï¼é æäºæ¶æ¯ä¸¢å¤±ã\n\nè¿æ¶åï¼è¦å¦ä½å¤çå¢ï¼\n\nç­ï¼ä½¿ç¨jobï¼å¢å éè¯æºå¶ã\n\nç¨jobæ¯éä¸æ®µæ¶é´å»æ¥è¯¢æ¶æ¯åéè¡¨ä¸­ç¶æä¸ºå¾å¤ççæ°æ®ï¼ç¶åéæ°åémqæ¶æ¯ã\n\n\n# 8.2 éå¤æ¶è´¹é®é¢\n\næ¬æ¥æ¶è´¹èæ¶è´¹æ¶æ¯æ¶ï¼å¨ackåºç­çæ¶åï¼å¦æç½ç»è¶æ¶ï¼æ¬èº«å°±å¯è½ä¼æ¶è´¹éå¤çæ¶æ¯ãä½ç±äºæ¶æ¯åéèå¢å äºéè¯æºå¶ï¼ä¼å¯¼è´æ¶è´¹èéå¤æ¶æ¯çæ¦çå¢å¤§ã\n\né£ä¹ï¼å¦ä½è§£å³éå¤æ¶æ¯é®é¢å¢ï¼\n\nç­ï¼å ä¸å¼ æ¶æ¯å¤çè¡¨ã\n\næ¶è´¹èè¯»å°æ¶æ¯ä¹åï¼åå¤æ­ä¸ä¸æ¶æ¯å¤çè¡¨ï¼æ¯å¦å­å¨è¯¥æ¶æ¯ï¼å¦æå­å¨ï¼è¡¨ç¤ºæ¯éå¤æ¶è´¹ï¼åç´æ¥è¿åãå¦æä¸å­å¨ï¼åè¿è¡ä¸åæä½ï¼æ¥çå°è¯¥æ¶æ¯åå¥æ¶æ¯å¤çè¡¨ä¸­ï¼åè¿åã\n\næä¸ªæ¯è¾å³é®çç¹æ¯ï¼ä¸åååæ¶æ¯å¤çè¡¨ï¼è¦æ¾å¨åä¸ä¸ªäºå¡ä¸­ï¼ä¿è¯åå­æä½ã\n\n\n# 8.3 åå¾æ¶æ¯é®é¢\n\nè¿å¥æ¹æ¡è¡¨é¢ä¸çèµ·æ¥æ²¡æé®é¢ï¼ä½å¦æåºç°äºæ¶æ¯æ¶è´¹å¤±è´¥çæåµãæ¯å¦ï¼ç±äºæäºåå ï¼æ¶æ¯æ¶è´¹èä¸åä¸ç´å¤±è´¥ï¼ä¸ç´ä¸è½åè°ç¶æåæ´æ¥å£ï¼è¿æ ·jobä¼ä¸åçéè¯åæ¶æ¯ãæåï¼ä¼äº§çå¤§éçåå¾æ¶æ¯ã\n\né£ä¹ï¼å¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼æ¯æ¬¡å¨jobéè¯æ¶ï¼éè¦åå¤æ­ä¸ä¸æ¶æ¯åéè¡¨ä¸­è¯¥æ¶æ¯çåéæ¬¡æ°æ¯å¦è¾¾å°æå¤§éå¶ï¼å¦æè¾¾å°äºï¼åç´æ¥è¿åãå¦ææ²¡æè¾¾å°ï¼åå°æ¬¡æ°å 1ï¼ç¶ååéæ¶æ¯ã\n\nè¿æ ·å¦æåºç°å¼å¸¸ï¼åªä¼äº§çå°éçåå¾æ¶æ¯ï¼ä¸ä¼å½±åå°æ­£å¸¸çä¸å¡ã\n\n\n# 8.4 å»¶è¿æ¶è´¹é®é¢\n\néå¸¸æåµä¸ï¼å¦æç¨æ·ç§ææåäºï¼ä¸åä¹åï¼å¨15åéä¹åè¿æªå®ææ¯ä»çè¯ï¼è¯¥è®¢åä¼è¢«èªå¨åæ¶ï¼åéåºå­ã\n\né£ä¹ï¼å¨15åéåæªå®ææ¯ä»ï¼è®¢åè¢«èªå¨åæ¶çåè½ï¼è¦å¦ä½å®ç°å¢ï¼\n\næä»¬é¦åæ³å°çå¯è½æ¯jobï¼å ä¸ºå®æ¯è¾ç®åã\n\nä½jobæä¸ªé®é¢ï¼éè¦æ¯éä¸æ®µæ¶é´å¤çä¸æ¬¡ï¼å®æ¶æ§ä¸å¤ªå¥½ã\n\nè¿ææ´å¥½çæ¹æ¡ï¼\n\nç­ï¼ä½¿ç¨å»¶è¿éåã\n\næä»¬é½ç¥érocketmqï¼èªå¸¦äºå»¶è¿éåçåè½ã\n\nä¸åæ¶æ¶æ¯çäº§èä¼åçæè®¢åï¼æ­¤æ¶ç¶æä¸ºå¾æ¯ä»ï¼ç¶åä¼åå»¶è¿éåä¸­åä¸æ¡æ¶æ¯ãè¾¾å°äºå»¶è¿æ¶é´ï¼æ¶æ¯æ¶è´¹èè¯»åæ¶æ¯ä¹åï¼ä¼æ¥è¯¢è¯¥è®¢åçç¶ææ¯å¦ä¸ºå¾æ¯ä»ãå¦ææ¯å¾æ¯ä»ç¶æï¼åä¼æ´æ°è®¢åç¶æä¸ºåæ¶ç¶æãå¦æä¸æ¯å¾æ¯ä»ç¶æï¼è¯´æè¯¥è®¢åå·²ç»æ¯ä»è¿äºï¼åç´æ¥è¿åã\n\nè¿æä¸ªå³é®ç¹ï¼ç¨æ·å®ææ¯ä»ä¹åï¼ä¼ä¿®æ¹è®¢åç¶æä¸ºå·²æ¯ä»ã\n\n\n\n\n# 9 å¦ä½éæµï¼\n\néè¿ç§ææ´»å¨ï¼å¦ææä»¬è¿æ°çæ£ï¼å¯è½ä¼ç¨éå¸¸ä½çä»·æ ¼ä¹°å°ä¸éçååï¼è¿ç§æ¦çå ªæ¯ä¹°ç¦å©å½©ç¥¨ä¸­å¤§å¥ï¼ã\n\nä½æäºé«æï¼å¹¶ä¸ä¼åæä»¬ä¸æ ·èèå®å®ï¼éè¿ç§æé¡µé¢ç¹å»ç§ææé®ï¼æ¢è´­ååãä»ä»¬å¯è½å¨èªå·±çæå¡å¨ä¸ï¼æ¨¡ææ­£å¸¸ç¨æ·ç»å½ç³»ç»ï¼è·³è¿ç§æé¡µé¢ï¼ç´æ¥è°ç¨ç§ææ¥å£ã\n\nå¦ææ¯æä»¬æå¨æä½ï¼ä¸è¬æåµä¸ï¼ä¸ç§éåªè½ç¹å»ä¸æ¬¡ç§ææé®ãä½æ¯å¦ææ¯æå¡å¨ï¼ä¸ç§éå¯ä»¥è¯·æ±æä¸åæ¥å£ãè¿ç§å·®è·å®å¨å¤ªææ¾äºï¼å¦æä¸åä»»ä½éå¶ï¼ç»å¤§é¨åååå¯è½æ¯è¢«æºå¨æ¢å°ï¼èéæ­£å¸¸çç¨æ·ï¼æç¹ä¸å¤ªå¬å¹³ã\n\næä»¥ï¼æä»¬æå¿è¦è¯å«è¿äºéæ³è¯·æ±ï¼åä¸äºéå¶ãé£ä¹ï¼æä»¬è¯¥å¦ä½ç°å¨è¿äºéæ³è¯·æ±å¢ï¼\n\nç®åæä¸¤ç§å¸¸ç¨çéæµæ¹å¼ï¼\n\n 1. åºäºnginxéæµ\n 2. åºäºrediséæµ\n\n\n# 9.1 å¯¹åä¸ç¨æ·éæµ\n\nä¸ºäºé²æ­¢æä¸ªç¨æ·ï¼è¯·æ±æ¥å£æ¬¡æ°è¿äºé¢ç¹ï¼å¯ä»¥åªéå¯¹è¯¥ç¨æ·åéå¶ãéå¶åä¸ä¸ªç¨æ·idï¼æ¯å¦æ¯åéåªè½è¯·æ±5æ¬¡æ¥å£ã\n\n\n# 9.2 å¯¹åä¸ipéæµ\n\nææ¶ååªå¯¹æä¸ªç¨æ·éæµæ¯ä¸å¤çï¼æäºé«æå¯ä»¥æ¨¡æå¤ä¸ªç¨æ·è¯·æ±ï¼è¿ç§nginxå°±æ²¡æ³è¯å«äºã\n\nè¿æ¶éè¦å åä¸ipéæµåè½ãéå¶åä¸ä¸ªipï¼æ¯å¦æ¯åéåªè½è¯·æ±5æ¬¡æ¥å£ã\n\nä½è¿ç§éæµæ¹å¼å¯è½ä¼æè¯¯æçæåµï¼æ¯å¦åä¸ä¸ªå¬å¸æç½å§çåºå£ipæ¯ç¸åçï¼å¦æéé¢æå¤ä¸ªæ­£å¸¸ç¨æ·åæ¶åèµ·è¯·æ±ï¼æäºç¨æ·å¯è½ä¼è¢«éå¶ä½ã\n\n\n# 9.3 å¯¹æ¥å£éæµ\n\nå«ä»¥ä¸ºéå¶äºç¨æ·åipå°±ä¸äºå¤§åï¼æäºé«æçè³å¯ä»¥ä½¿ç¨ä»£çï¼æ¯æ¬¡é½è¯·æ±é½æ¢ä¸ä¸ªipã\n\nè¿æ¶å¯ä»¥éå¶è¯·æ±çæ¥å£æ»æ¬¡æ°ãå¨é«å¹¶ååºæ¯ä¸ï¼è¿ç§éå¶å¯¹äºç³»ç»çç¨³å®æ§æ¯éå¸¸æå¿è¦çãä½å¯è½ç±äºæäºéæ³è¯·æ±æ¬¡æ°å¤ªå¤ï¼è¾¾å°äºè¯¥æ¥å£çè¯·æ±ä¸éï¼èå½±åå¶ä»çæ­£å¸¸ç¨æ·è®¿é®è¯¥æ¥å£ãçèµ·æ¥æç¹å¾ä¸å¿å¤±ã\n\n\n# 9.4 å éªè¯ç \n\nç¸å¯¹äºä¸é¢ä¸ç§æ¹å¼ï¼å éªè¯ç çæ¹å¼å¯è½æ´ç²¾åä¸äºï¼åæ ·è½éå¶ç¨æ·çè®¿é®é¢æ¬¡ï¼ä½å¥½å¤æ¯ä¸ä¼å­å¨è¯¯æçæåµã\n\néå¸¸æåµä¸ï¼ç¨æ·å¨è¯·æ±ä¹åï¼éè¦åè¾å¥éªè¯ç ãç¨æ·åèµ·è¯·æ±ä¹åï¼æå¡ç«¯ä¼å»æ ¡éªè¯¥éªè¯ç æ¯å¦æ­£ç¡®ãåªææ­£ç¡®æåè®¸è¿è¡ä¸ä¸æ­¥æä½ï¼å¦åç´æ¥è¿åï¼å¹¶ä¸æç¤ºéªè¯ç éè¯¯ã\n\næ­¤å¤ï¼éªè¯ç ä¸è¬æ¯ä¸æ¬¡æ§çï¼åä¸ä¸ªéªè¯ç åªåè®¸ä½¿ç¨ä¸æ¬¡ï¼ä¸åè®¸éå¤ä½¿ç¨ã\n\næ®ééªè¯ç ï¼ç±äºçæçæ°å­æèå¾æ¡æ¯è¾ç®åï¼å¯è½ä¼è¢«ç ´è§£ãä¼ç¹æ¯çæéåº¦æ¯è¾å¿«ï¼ç¼ºç¹æ¯æå®å¨éæ£ã\n\nè¿æä¸ä¸ªéªè¯ç å«åï¼ç§»å¨æ»åï¼å®çæéåº¦æ¯è¾æ¢ï¼ä½æ¯è¾å®å¨ï¼æ¯ç®ååå¤§äºèç½å¬å¸çé¦éã\n\n\n# 9.5 æé«ä¸å¡é¨æ§\n\nä¸é¢è¯´çå éªè¯ç è½ç¶å¯ä»¥éå¶éæ³ç¨æ·è¯·æ±ï¼ä½æ¯æäºå½±åç¨æ·ä½éªãç¨æ·ç¹å»ç§ææé®åï¼è¿è¦åè¾å¥éªè¯ç ï¼æµç¨æ¾å¾æç¹ç¹çï¼ç§æåè½çæµç¨ä¸æ¯åºè¯¥è¶ç®åè¶å¥½åï¼\n\nå¶å®ï¼ææ¶åè¾¾å°æä¸ªç®çï¼ä¸ä¸å®éè¦éè¿ææ¯ææ®µï¼éè¿ä¸å¡ææ®µä¹ä¸æ ·ã\n\n12306åå¼å§çæ¶åï¼å¨å½äººæ°é½å¨åä¸æ¶å»æ¢ç«è½¦ç¥¨ï¼ç±äºå¹¶åéå¤ªå¤§ï¼ç³»ç»ç»å¸¸æãåæ¥ï¼éæä¼åä¹åï¼å°è´­ä¹°å¨ææ¾é¿äºï¼å¯ä»¥æå20å¤©è´­ä¹°ç«è½¦ç¥¨ï¼å¹¶ä¸å¯ä»¥å¨9ç¹ã10ã11ç¹ã12ç¹ç­æ´ç¹è´­ä¹°ç«è½¦ç¥¨ãè°æ´ä¸å¡ä¹åï¼å½ç¶ææ¯ä¹æå¾å¤è°æ´ï¼ï¼å°ä¹åéä¸­çè¯·æ±ï¼åæ£å¼äºï¼ä¸ä¸å­éä½äºç¨æ·å¹¶åéã\n\nåå°è¿éï¼æä»¬éè¿æé«ä¸å¡é¨æ§ï¼æ¯å¦åªæä¼åæè½åä¸ç§ææ´»å¨ï¼æ®éæ³¨åç¨æ·æ²¡ææéãæèï¼åªæç­çº§å°è¾¾3çº§ä»¥ä¸çæ®éç¨æ·ï¼ææèµæ ¼åå è¯¥æ´»å¨ã\n\n\n# åè\n\né¢è¯å®ï¼èèç§æç³»ç»å¦ä½è®¾è®¡ï¼ æä¸å¸¦ä½ è®¾è®¡-ç§æç³»ç»',normalizedContent:'# åè¨\n\né«å¹¶åä¸å¦ä½è®¾è®¡ç§æç³»ç»ï¼è¿æ¯ä¸ä¸ªé«é¢é¢è¯é¢ãè¿ä¸ªé®é¢çä¼¼ç®åï¼ä½æ¯éé¢çæ°´å¾æ·±ï¼å®èæ¥çæ¯é«å¹¶ååºæ¯ä¸ï¼ä»åç«¯å°åç«¯å¤æ¹é¢çç¥è¯ã\n\nç§æä¸è¬åºç°å¨ååçä¿éæ´»å¨ä¸­ï¼æå®äºä¸å®æ°éï¼æ¯å¦ï¼10ä¸ªï¼çååï¼æ¯å¦ï¼ææºï¼ï¼ä»¥æä½çä»·æ ¼ï¼æ¯å¦ï¼0.1åï¼ï¼è®©å¤§éç¨æ·åä¸æ´»å¨ï¼ä½åªææå°æ°ç¨æ·è½å¤è´­ä¹°æåãè¿ç±»æ´»å¨åå®¶ç»å¤§é¨åæ¯ä¸èµé±çï¼è¯´ç½äºæ¯æ¾ä¸ªå±å¤´å®£ä¼ èªå·±ã\n\nè½è¯´ç§æåªæ¯ä¸ä¸ªä¿éæ´»å¨ï¼ä½å¯¹ææ¯è¦æ±ä¸ä½ãä¸é¢ç»å¤§å®¶æ»ç»ä¸ä¸è®¾è®¡ç§æç³»ç»éè¦æ³¨æç9ä¸ªç»èã\n\n\n\n\n# 1 ç¬æ¶é«å¹¶å\n\nä¸è¬å¨ç§ææ¶é´ç¹ï¼æ¯å¦ï¼12ç¹ï¼åå åéï¼ç¨æ·å¹¶åéæçæ­£çªå¢ï¼è¾¾å°ç§ææ¶é´ç¹æ¶ï¼å¹¶åéä¼è¾¾å°é¡¶å³°ã\n\nä½ç±äºè¿ç±»æ´»å¨æ¯å¤§éç¨æ·æ¢å°éååçåºæ¯ï¼å¿å®ä¼åºç°ç¼å¤èå°çæåµï¼æä»¥å¶å®ç»å¤§é¨åç¨æ·ç§æä¼å¤±è´¥ï¼åªææå°é¨åç¨æ·è½å¤æåã\n\næ­£å¸¸æåµä¸ï¼å¤§é¨åç¨æ·ä¼æ¶å°ååå·²ç»æ¢å®çæéï¼æ¶å°è¯¥æéåï¼ä»ä»¬å¤§æ¦çä¸ä¼å¨é£ä¸ªæ´»å¨é¡µé¢åçäºï¼å¦æ­¤ä¸æ¥ï¼ç¨æ·å¹¶åéåä¼æ¥å§ä¸éãæä»¥è¿ä¸ªå³°å¼æç»­çæ¶é´å¶å®æ¯éå¸¸ç­çï¼è¿æ ·å°±ä¼åºç°ç¬æ¶é«å¹¶åçæåµï¼ä¸é¢ç¨ä¸å¼ å¾ç´è§çæåä¸ä¸æµéçååï¼\n\n\n\nåè¿ç§ç¬æ¶é«å¹¶åçåºæ¯ï¼ä¼ ç»çç³»ç»å¾é¾åºå¯¹ï¼æä»¬éè¦è®¾è®¡ä¸å¥å¨æ°çç³»ç»ãå¯ä»¥ä»ä»¥ä¸å ä¸ªæ¹é¢å¥æï¼\n\n 1. é¡µé¢éæå\n 2. cdnå é\n 3. ç¼å­\n 4. mqå¼æ­¥å¤ç\n 5. éæµ\n 6. åå¸å¼é\n\n\n# 2. é¡µé¢éæå\n\næ´»å¨é¡µé¢æ¯ç¨æ·æµéçç¬¬ä¸å¥å£ï¼æä»¥æ¯å¹¶åéæå¤§çå°æ¹ã\n\nå¦æè¿äºæµéé½è½ç´æ¥è®¿é®æå¡ç«¯ï¼æææå¡ç«¯ä¼å ä¸ºæ¿åä¸ä½è¿ä¹å¤§çååï¼èç´æ¥ææã\n\næ´»å¨é¡µé¢ç»å¤§å¤æ°åå®¹æ¯åºå®çï¼æ¯å¦ï¼åååç§°ãååæè¿°ãå¾çç­ãä¸ºäºåå°ä¸å¿è¦çæå¡ç«¯è¯·æ±ï¼éå¸¸æåµä¸ï¼ä¼å¯¹æ´»å¨é¡µé¢åéæåå¤çãç¨æ·æµè§ååç­å¸¸è§æä½ï¼å¹¶ä¸ä¼è¯·æ±å°æå¡ç«¯ãåªæå°äºç§ææ¶é´ç¹ï¼å¹¶ä¸ç¨æ·ä¸»å¨ç¹äºç§ææé®æåè®¸è®¿é®æå¡ç«¯ã\n\nè¿æ ·è½è¿æ»¤å¤§é¨åæ æè¯·æ±ã\n\nä½åªåé¡µé¢éæåè¿ä¸å¤ï¼å ä¸ºç¨æ·åå¸å¨å¨å½åå°ï¼æäºäººå¨åäº¬ï¼æäºäººå¨æé½ï¼æäºäººå¨æ·±å³ï¼å°åç¸å·®å¾è¿ï¼ç½éåä¸ç¸åã\n\nå¦ä½æè½è®©ç¨æ·æå¿«è®¿é®å°æ´»å¨é¡µé¢å¢ï¼\n\nè¿å°±éè¦ä½¿ç¨cdnï¼å®çå¨ç§°æ¯content delivery networkï¼å³åå®¹ååç½ç»ã\n\nä½¿ç¨æ·å°±è¿è·åæéåå®¹ï¼éä½ç½ç»æ¥å¡ï¼æé«ç¨æ·è®¿é®ååºéåº¦åå½ä¸­çã\n\n\n# 3 ç§ææé®\n\nå¤§é¨åç¨æ·æéè¿ç§ææ¶é´ç¹ï¼ä¸è¬ä¼æåè¿å¥æ´»å¨é¡µé¢ãæ­¤æ¶çå°çç§ææé®æ¯ç½®ç°ï¼ä¸å¯ç¹å»çãåªæå°äºç§ææ¶é´ç¹é£ä¸æ¶å»ï¼ç§ææé®æä¼èªå¨ç¹äº®ï¼åæå¯ç¹å»çã\n\nä½æ­¤æ¶å¾å¤ç¨æ·å·²ç»è¿«ä¸åå¾äºï¼éè¿ä¸åå·æ°é¡µé¢ï¼äºåå¨ç¬¬ä¸æ¶é´çå°ç§ææé®çç¹äº®ã\n\nä»åé¢å¾ç¥ï¼è¯¥æ´»å¨é¡µé¢æ¯éæçãé£ä¹æä»¬å¨éæé¡µé¢ä¸­å¦ä½æ§å¶ç§ææé®ï¼åªå¨ç§ææ¶é´ç¹æ¶æç¹äº®å¢ï¼\n\næ²¡éï¼ä½¿ç¨jsæä»¶æ§å¶ã\n\nä¸ºäºæ§è½èèï¼ä¸è¬ä¼å°cssãjsåå¾çç­éæèµæºæä»¶æåç¼å­å°cdnä¸ï¼è®©ç¨æ·è½å¤å°±è¿è®¿é®ç§æé¡µé¢ã\n\nçå°è¿éï¼æäºèªæçå°ä¼ä¼´ï¼å¯è½ä¼é®ï¼cdnä¸çjsæä»¶æ¯å¦ä½æ´æ°çï¼\n\nç§æå¼å§ä¹åï¼jsæ å¿ä¸ºfalseï¼è¿æå¦å¤ä¸ä¸ªéæºåæ°ãå½ç§æå¼å§çæ¶åç³»ç»ä¼çæä¸ä¸ªæ°çjsæä»¶ï¼æ­¤æ¶æ å¿ä¸ºtrueï¼å¹¶ä¸éæºåæ°çæä¸ä¸ªæ°å¼ï¼ç¶ååæ­¥ç»cdnãç±äºæäºè¿ä¸ªéæºåæ°ï¼cdnä¸ä¼ç¼å­æ°æ®ï¼æ¯æ¬¡é½è½ä»cdnä¸­è·åææ°çjsä»£ç ãæ­¤å¤ï¼åç«¯è¿å¯ä»¥å ä¸ä¸ªå®æ¶å¨ï¼æ§å¶æ¯å¦ï¼10ç§ä¹åï¼åªåè®¸åèµ·ä¸æ¬¡è¯·æ±ãå¦æç¨æ·ç¹å»äºä¸æ¬¡ç§ææé®ï¼åå¨10ç§ä¹åç½®ç°ï¼ä¸åè®¸åæ¬¡ç¹å»ï¼ç­å°è¿äºæ¶é´éå¶ï¼ååè®¸éæ°ç¹å»è¯¥æé®ã\n\n\n# 4 è¯»å¤åå°\n\nå¨ç§æçè¿ç¨ä¸­ï¼ç³»ç»ä¸è¬ä¼åæ¥ä¸ä¸åºå­æ¯å¦è¶³å¤ï¼å¦æè¶³å¤æåè®¸ä¸åï¼åæ°æ®åºãå¦æä¸å¤ï¼åç´æ¥è¿åè¯¥ååå·²ç»æ¢å®ã\n\nç±äºå¤§éç¨æ·æ¢å°éååï¼åªææå°é¨åç¨æ·è½å¤æ¢æåï¼æä»¥ç»å¤§é¨åç¨æ·å¨ç§ææ¶ï¼åºå­å¶å®æ¯ä¸è¶³çï¼ç³»ç»ä¼ç´æ¥è¿åè¯¥ååå·²ç»æ¢å®ã\n\nè¿æ¯éå¸¸å¸åçï¼è¯»å¤åå° çåºæ¯ã\n\nå¦æææ°åä¸çè¯·æ±è¿æ¥ï¼åæ¶éè¿æ°æ®åºæ¥ç¼å­æ¯å¦è¶³å¤ï¼æ­¤æ¶æ°æ®åºå¯è½ä¼ææãå ä¸ºæ°æ®åºçè¿æ¥èµæºéå¸¸æéï¼æ¯å¦ï¼mysqlï¼æ æ³åæ¶æ¯æè¿ä¹å¤çè¿æ¥ã\n\nèåºè¯¥æ¹ç¨ç¼å­ï¼æ¯å¦ï¼redisã\n\nå³ä¾¿ç¨äºredisï¼ä¹éè¦é¨ç½²å¤ä¸ªèç¹ã\n\n\n# 5 ç¼å­é®é¢\n\néå¸¸æåµä¸ï¼æä»¬éè¦å¨redisä¸­ä¿å­ååä¿¡æ¯ï¼éé¢åå«ï¼ååidãåååç§°ãè§æ ¼å±æ§ãåºå­ç­ä¿¡æ¯ï¼åæ¶æ°æ®åºä¸­ä¹è¦æç¸å³ä¿¡æ¯ï¼æ¯ç«ç¼å­å¹¶ä¸å®å¨å¯é ã\n\nç¨æ·å¨ç¹å»ç§ææé®ï¼è¯·æ±ç§ææ¥å£çè¿ç¨ä¸­ï¼éè¦ä¼ å¥çååidåæ°ï¼ç¶åæå¡ç«¯éè¦æ ¡éªè¯¥ååæ¯å¦åæ³ã\n\nå¤§è´æµç¨å¦ä¸å¾æç¤ºï¼\n\n\n\næ ¹æ®ååidï¼åä»ç¼å­ä¸­æ¥è¯¢ååï¼å¦æååå­å¨ï¼ååä¸ç§æãå¦æä¸å­å¨ï¼åéè¦ä»æ°æ®åºä¸­æ¥è¯¢ååï¼å¦æå­å¨ï¼åå°ååä¿¡æ¯æ¾å¥ç¼å­ï¼ç¶ååä¸ç§æãå¦æååä¸å­å¨ï¼åç´æ¥æç¤ºå¤±è´¥ã\n\nè¿ä¸ªè¿ç¨è¡¨é¢ä¸çèµ·æ¥æ¯okçï¼ä½æ¯å¦ææ·±å¥åæä¸ä¸ä¼åç°ä¸äºé®é¢ã\n\n\n# 5.1 ç¼å­å»ç©¿\n\næ¯å¦ååaç¬¬ä¸æ¬¡ç§ææ¶ï¼ç¼å­ä¸­æ¯æ²¡ææ°æ®çï¼ä½æ°æ®åºä¸­æãè½è¯´ä¸é¢æå¦æä»æ°æ®åºä¸­æ¥å°æ°æ®ï¼åæ¾å¥ç¼å­çé»è¾ã\n\nç¶èï¼å¨é«å¹¶åä¸ï¼åä¸æ¶å»ä¼æå¤§éçè¯·æ±ï¼é½å¨ç§æåä¸ä»¶ååï¼è¿äºè¯·æ±åæ¶å»æ¥ç¼å­ä¸­æ²¡ææ°æ®ï¼ç¶åååæ¶è®¿é®æ°æ®åºãç»ææ²å§äºï¼æ°æ®åºå¯è½æä¸ä½ååï¼ç´æ¥ææã\n\nå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nè¿å°±éè¦å éï¼æå¥½ä½¿ç¨åå¸å¼éã\n\nå½ç¶ï¼éå¯¹è¿ç§æåµï¼æå¥½å¨é¡¹ç®å¯å¨ä¹åï¼åæç¼å­è¿è¡é¢ç­ãå³äºåæææçååï¼åæ­¥å°ç¼å­ä¸­ï¼è¿æ ·åååºæ¬é½è½ç´æ¥ä»ç¼å­ä¸­è·åå°ï¼å°±ä¸ä¼åºç°ç¼å­å»ç©¿çé®é¢äºã\n\næ¯ä¸æ¯ä¸é¢å éè¿ä¸æ­¥å¯ä»¥ä¸éè¦äºï¼\n\nè¡¨é¢ä¸çèµ·æ¥ï¼ç¡®å®å¯ä»¥ä¸éè¦ãä½å¦æç¼å­ä¸­è®¾ç½®çè¿ææ¶é´ä¸å¯¹ï¼ç¼å­æåè¿æäºï¼æèç¼å­è¢«ä¸å°å¿å é¤äºï¼å¦æä¸å éåæ ·å¯è½åºç°ç¼å­å»ç©¿ã\n\nå¶å®è¿éå éï¼ç¸å½äºä¹°äºä¸ä»½ä¿é©ã\n\n\n# 5.2 ç¼å­ç©¿é\n\nå¦ææå¤§éçè¯·æ±ä¼ å¥çååidï¼å¨ç¼å­ä¸­åæ°æ®åºä¸­é½ä¸å­å¨ï¼è¿äºè¯·æ±ä¸å°±æ¯æ¬¡é½ä¼ç©¿éè¿ç¼å­ï¼èç´æ¥è®¿é®æ°æ®åºäºã\n\nç±äºåé¢å·²ç»å äºéï¼æä»¥å³ä½¿è¿éçå¹¶åéå¾å¤§ï¼ä¹ä¸ä¼å¯¼è´æ°æ®åºç´æ¥ææã\n\nä½å¾æ¾ç¶è¿äºè¯·æ±çå¤çæ§è½å¹¶ä¸å¥½ï¼ææ²¡ææ´å¥½çè§£å³æ¹æ¡ï¼\n\nè¿æ¶å¯ä»¥æ³å°å¸éè¿æ»¤å¨ã\n\nç³»ç»æ ¹æ®ååidï¼åä»å¸éè¿æ»¤å¨ä¸­æ¥è¯¢è¯¥idæ¯å¦å­å¨ï¼å¦æå­å¨ååè®¸ä»ç¼å­ä¸­æ¥è¯¢æ°æ®ï¼å¦æä¸å­å¨ï¼åç´æ¥è¿åå¤±è´¥ã\n\nè½è¯´è¯¥æ¹æ¡å¯ä»¥è§£å³ç¼å­ç©¿éé®é¢ï¼ä½æ¯åä¼å¼åºå¦å¤ä¸ä¸ªé®é¢ï¼å¸éè¿æ»¤å¨ä¸­çæ°æ®å¦ä½æ´ç¼å­ä¸­çæ°æ®ä¿æä¸è´ï¼\n\nè¿å°±è¦æ±ï¼å¦æç¼å­ä¸­æ°æ®ææ´æ°ï¼åè¦åæ¶åæ­¥å°å¸éè¿æ»¤å¨ä¸­ãå¦ææ°æ®åæ­¥å¤±è´¥äºï¼è¿éè¦å¢å éè¯æºå¶ï¼èä¸è·¨æ°æ®æºï¼è½ä¿è¯æ°æ®çå®æ¶ä¸è´æ§åï¼\n\næ¾ç¶æ¯ä¸è¡çã\n\næä»¥å¸éè¿æ»¤å¨ç»å¤§é¨åä½¿ç¨å¨ç¼å­æ°æ®æ´æ°å¾å°çåºæ¯ä¸­ã\n\nå¦æç¼å­æ°æ®æ´æ°éå¸¸é¢ç¹ï¼åè¯¥å¦ä½å¤çå¢ï¼\n\nè¿æ¶ï¼å°±éè¦æä¸å­å¨çååidä¹ç¼å­èµ·æ¥ã\n\nä¸æ¬¡ï¼åæè¯¥ååidçè¯·æ±è¿æ¥ï¼åä¹è½ä»ç¼å­ä¸­æ¥å°æ°æ®ï¼åªä¸è¿è¯¥æ°æ®æ¯è¾ç¹æ®ï¼è¡¨ç¤ºååä¸å­å¨ãéè¦ç¹å«æ³¨æçæ¯ï¼è¿ç§ç¹æ®ç¼å­è®¾ç½®çè¶æ¶æ¶é´åºè¯¥å°½éç­ä¸ç¹ã\n\n\n# 6 åºå­é®é¢\n\nå¯¹äºåºå­é®é¢çä¼¼ç®åï¼å®åéé¢è¿æ¯æäºä¸è¥¿ã\n\nçæ­£çç§æååçåºæ¯ï¼ä¸æ¯è¯´æ£å®åºå­ï¼å°±å®äºäºï¼å¦æç¨æ·å¨ä¸æ®µæ¶é´åï¼è¿æ²¡å®ææ¯ä»ï¼æ£åçåºå­æ¯è¦å åå»çã\n\næä»¥ï¼å¨è¿éå¼åºäºä¸ä¸ªé¢æ£åºå­çæ¦å¿µï¼é¢æ£åºå­çä¸»è¦æµç¨å¦ä¸ï¼\n\n\n\næ£ååºå­ä¸­é¤äºä¸é¢è¯´å°çé¢æ£åºå­ååéåºå­ä¹å¤ï¼è¿éè¦ç¹å«æ³¨æçæ¯åºå­ä¸è¶³ååºå­è¶åé®é¢ã\n\n\n# 6.1 æ°æ®åºæ£ååºå­\n\nä½¿ç¨æ°æ®åºæ£ååºå­ï¼æ¯æç®åçå®ç°æ¹æ¡äºï¼åè®¾æ£ååºå­çsqlå¦ä¸ï¼\n\nupdate product set stock=stock-1 where id=123;\n\n\n1\n\n\nè¿ç§åæ³å¯¹äºæ£ååºå­æ¯æ²¡æé®é¢çï¼ä½å¦ä½æ§å¶åºå­ä¸è¶³çæåµä¸ï¼ä¸è®©ç¨æ·æä½å¢ï¼\n\nè¿å°±éè¦å¨updateä¹åï¼åæ¥ä¸ä¸åºå­æ¯å¦è¶³å¤äºã\n\nä¼ªä»£ç å¦ä¸ï¼\n\nint stock = mapper.getstockbyid(123);\nif(stock > 0) {\n  int count = mapper.updatestock(123);\n  if(count > 0) {\n    addorder(123);\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¤§å®¶ææ²¡æåç°è¿æ®µä»£ç çé®é¢ï¼\n\næ²¡éï¼æ¥è¯¢æä½åæ´æ°æä½ä¸æ¯åå­æ§çï¼ä¼å¯¼è´å¨å¹¶åçåºæ¯ä¸ï¼åºç°åºå­è¶åçæåµã\n\næäººå¯è½ä¼è¯´ï¼è¿æ ·å¥½åï¼å æéï¼ä¸å°±æå®äºï¼æ¯å¦ä½¿ç¨synchronizedå³é®å­ã\n\nç¡®å®ï¼å¯ä»¥ï¼ä½æ¯æ§è½ä¸å¤å¥½ã\n\nè¿ææ´ä¼éçå¤çæ¹æ¡ï¼å³åºäºæ°æ®åºçä¹è§éï¼è¿æ ·ä¼å°ä¸æ¬¡æ°æ®åºæ¥è¯¢ï¼èä¸è½å¤å¤©ç¶çä¿è¯æ°æ®æä½çåå­æ§ã\n\nåªéå°ä¸é¢çsqlç¨å¾®è°æ´ä¸ä¸ï¼\n\nupdate product set stock=stock-1 where id=product and stock > 0;\n\n\n1\n\n\nå¨sqlæåå ä¸ï¼stock > 0ï¼å°±è½ä¿è¯ä¸ä¼åºç°è¶åçæåµã\n\nä½éè¦é¢ç¹è®¿é®æ°æ®åºï¼æä»¬é½ç¥éæ°æ®åºè¿æ¥æ¯éå¸¸æè´µçèµæºãå¨é«å¹¶åçåºæ¯ä¸ï¼å¯è½ä¼é æç³»ç»éªå´©ãèä¸ï¼å®¹æåºç°å¤ä¸ªè¯·æ±ï¼åæ¶ç«äºè¡éçæåµï¼é æç¸äºç­å¾ï¼ä»èåºç°æ­»éçé®é¢ã\n\n\n# 6.2 redisæ£ååºå­\n\nredisçincræ¹æ³æ¯åå­æ§çï¼å¯ä»¥ç¨è¯¥æ¹æ³æ£ååºå­ãä¼ªä»£ç å¦ä¸ï¼\n\n boolean exist = redisclient.query(productid,userid);\n  if(exist) {\n    return -1;\n  }\n  int stock = redisclient.querystock(productid);\n  if(stock <=0) {\n    return 0;\n  }\n  redisclient.incrby(productid, -1);\n  redisclient.add(productid,userid);\nreturn 1;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä»£ç æµç¨å¦ä¸ï¼\n\n 1. åå¤æ­è¯¥ç¨æ·ææ²¡æç§æè¿è¯¥ååï¼å¦æå·²ç»ç§æè¿ï¼åç´æ¥è¿å-1ã\n 2. æ¥è¯¢åºå­ï¼å¦æåºå­å°äºç­äº0ï¼åç´æ¥è¿å0ï¼è¡¨ç¤ºåºå­ä¸è¶³ã\n 3. å¦æåºå­åè¶³ï¼åæ£ååºå­ï¼ç¶åå°æ¬æ¬¡ç§æè®°å½ä¿å­èµ·æ¥ãç¶åè¿å1ï¼è¡¨ç¤ºæåã\n\nä¼°è®¡å¾å¤å°ä¼ä¼´ï¼ä¸å¼å§é½ä¼æè¿æ ·çæè·¯åä»£ç ãä½å¦æä»ç»æ³æ³ä¼åç°ï¼è¿æ®µä»£ç æé®é¢ã\n\næä»ä¹é®é¢å¢ï¼\n\nå¦æå¨é«å¹¶åä¸ï¼æå¤ä¸ªè¯·æ±åæ¶æ¥è¯¢åºå­ï¼å½æ¶é½å¤§äº0ãç±äºæ¥è¯¢åºå­åæ´æ°åºå­éååæä½ï¼åä¼åºç°åºå­ä¸ºè´æ°çæåµï¼å³åºå­è¶åã\n\nå½ç¶æäººå¯è½ä¼è¯´ï¼å ä¸ªsynchronizedä¸å°±è§£å³é®é¢ï¼\n\nè°æ´åä»£ç å¦ä¸ï¼\n\n   boolean exist = redisclient.query(productid,userid);\n   if(exist) {\n    return -1;\n   }\n   synchronized(this) {\n       int stock = redisclient.querystock(productid);\n       if(stock <=0) {\n         return 0;\n       }\n       redisclient.incrby(productid, -1);\n       redisclient.add(productid,userid);\n   }\n\nreturn 1;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå synchronizedç¡®å®è½è§£å³åºå­ä¸ºè´æ°é®é¢ï¼ä½æ¯è¿æ ·ä¼å¯¼è´æ¥å£æ§è½æ¥å§ä¸éï¼æ¯æ¬¡æ¥è¯¢é½éè¦ç«äºåä¸æéï¼æ¾ç¶ä¸å¤ªåçã\n\nä¸ºäºè§£å³ä¸é¢çé®é¢ï¼ä»£ç ä¼åå¦ä¸ï¼\n\nboolean exist = redisclient.query(productid,userid);\nif(exist) {\n  return -1;\n}\nif(redisclient.incrby(productid, -1)<0) {\n  return 0;\n}\nredisclient.add(productid,userid);\nreturn 1;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè¯¥ä»£ç ä¸»è¦æµç¨å¦ä¸ï¼\n\n 1. åå¤æ­è¯¥ç¨æ·ææ²¡æç§æè¿è¯¥ååï¼å¦æå·²ç»ç§æè¿ï¼åç´æ¥è¿å-1ã\n 2. æ£ååºå­ï¼å¤æ­è¿åå¼æ¯å¦å°äº0ï¼å¦æå°äº0ï¼åç´æ¥è¿å0ï¼è¡¨ç¤ºåºå­ä¸è¶³ã\n 3. å¦ææ£ååºå­åï¼è¿åå¼å¤§äºæç­äº0ï¼åå°æ¬æ¬¡ç§æè®°å½ä¿å­èµ·æ¥ãç¶åè¿å1ï¼è¡¨ç¤ºæåã\n\nè¯¥æ¹æ¡åä¸çï¼å¥½åæ²¡é®é¢ã\n\nä½å¦æå¨é«å¹¶ååºæ¯ä¸­ï¼æå¤ä¸ªè¯·æ±åæ¶æ£ååºå­ï¼å¤§å¤æ°è¯·æ±çincrbyæä½ä¹åï¼ç»æé½ä¼å°äº0ã\n\nè½è¯´ï¼åºå­åºç°è´æ°ï¼ä¸ä¼åºç°è¶åçé®é¢ãä½ç±äºè¿éæ¯é¢ååºå­ï¼å¦æè´æ°å¼è´çå¤ªå¤çè¯ï¼åé¢ä¸ä¸è¦åéåºå­æ¶ï¼å°±ä¼å¯¼è´åºå­ä¸åã\n\né£ä¹ï¼ææ²¡ææ´å¥½çæ¹æ¡å¢ï¼\n\n\n# 6.3 luaèæ¬æ£ååºå­\n\næä»¬é½ç¥éluaèæ¬ï¼æ¯è½å¤ä¿è¯åå­æ§çï¼å®è·redisä¸èµ·éåä½¿ç¨ï¼è½å¤å®ç¾è§£å³ä¸é¢çé®é¢ã\n\nluaèæ¬ææ®µéå¸¸ç»å¸çä»£ç ï¼\n\n  stringbuilder lua = new stringbuilder();\n  lua.append("if (redis.call(\'exists\', keys[1]) == 1) then");\n  lua.append("    local stock = tonumber(redis.call(\'get\', keys[1]));");\n  lua.append("    if (stock == -1) then");\n  lua.append("        return 1;");\n  lua.append("    end;");\n  lua.append("    if (stock > 0) then");\n  lua.append("        redis.call(\'incrby\', keys[1], -1);");\n  lua.append("        return stock;");\n  lua.append("    end;");\n  lua.append("    return 0;");\n  lua.append("end;");\n  lua.append("return -1;");\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¯¥ä»£ç çä¸»è¦æµç¨å¦ä¸ï¼\n\n 1. åå¤æ­ååidæ¯å¦å­å¨ï¼å¦æä¸å­å¨åç´æ¥è¿åã\n 2. è·åè¯¥ååidçåºå­ï¼å¤æ­åºå­å¦ææ¯-1ï¼åç´æ¥è¿åï¼è¡¨ç¤ºä¸éå¶åºå­ã\n 3. å¦æåºå­å¤§äº0ï¼åæ£ååºå­ã\n 4. å¦æåºå­ç­äº0ï¼æ¯ç´æ¥è¿åï¼è¡¨ç¤ºåºå­ä¸è¶³ã\n\n\n# 7 åå¸å¼é\n\nä¹åææå°è¿ï¼å¨ç§æçæ¶åï¼éè¦åä»ç¼å­ä¸­æ¥ååæ¯å¦å­å¨ï¼å¦æä¸å­å¨ï¼åä¼ä»æ°æ®åºä¸­æ¥ååãå¦ææ°æ®åºä¸­ï¼åå°è¯¥ååæ¾å¥ç¼å­ä¸­ï¼ç¶åè¿åãå¦ææ°æ®åºä¸­æ²¡æï¼åç´æ¥è¿åå¤±è´¥ã\n\nå¤§å®¶è¯æ³ä¸ä¸ï¼å¦æå¨é«å¹¶åä¸ï¼æå¤§éçè¯·æ±é½å»æ¥ä¸ä¸ªç¼å­ä¸­ä¸å­å¨çååï¼è¿äºè¯·æ±é½ä¼ç´æ¥æå°æ°æ®åºãæ°æ®åºç±äºæ¿åä¸ä½ååï¼èç´æ¥ææã\n\né£ä¹å¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nè¿å°±éè¦ç¨redisåå¸å¼éäºã\n\n\n# 7.1 setnxå é\n\nä½¿ç¨redisçåå¸å¼éï¼é¦åæ³å°çæ¯setnxå½ä»¤ã\n\nif (jedis.setnx(lockkey, val) == 1) {\n   jedis.expire(lockkey, timeout);\n}\n\n\n1\n2\n3\n\n\nç¨è¯¥å½ä»¤å¶å®å¯ä»¥å éï¼ä½ååé¢çè®¾ç½®è¶æ¶æ¶é´æ¯åå¼çï¼å¹¶éåå­æä½ã\n\nåå¦å éæåäºï¼ä½æ¯è®¾ç½®è¶æ¶æ¶é´å¤±è´¥äºï¼è¯¥lockkeyå°±åææ°¸ä¸å¤±æçäºãå¨é«å¹¶ååºæ¯ä¸­ï¼è¯¥é®é¢ä¼å¯¼è´éå¸¸ä¸¥éçåæã\n\né£ä¹ï¼ææ²¡æä¿è¯åå­æ§çå éå½ä»¤å¢ï¼\n\n\n# 7.2 setå é\n\nä½¿ç¨redisçsetå½ä»¤ï¼å®å¯ä»¥æå®å¤ä¸ªåæ°ã\n\nstring result = jedis.set(lockkey, requestid, "nx", "px", expiretime);\nif ("ok".equals(result)) {\n    return true;\n}\nreturn false;\n\n\n1\n2\n3\n4\n5\n\n\nå¶ä¸­ï¼\n\n * lockkeyï¼éçæ è¯\n * requestidï¼è¯·æ±id\n * nxï¼åªå¨é®ä¸å­å¨æ¶ï¼æå¯¹é®è¿è¡è®¾ç½®æä½ã\n * pxï¼è®¾ç½®é®çè¿ææ¶é´ä¸º millisecond æ¯«ç§ã\n * expiretimeï¼è¿ææ¶é´\n\nç±äºè¯¥å½ä»¤åªæä¸æ­¥ï¼æä»¥å®æ¯åå­æä½ã\n\n\n# 7.3 éæ¾é\n\næ¥ä¸æ¥ï¼æäºæåå¯è½ä¼é®ï¼å¨å éæ¶ï¼æ¢ç¶å·²ç»æäºlockkeyéæ è¯ï¼ä¸ºä»ä¹è¦éè¦è®°å½requestidå¢ï¼\n\nç­ï¼requestidæ¯å¨éæ¾éçæ¶åç¨çã\n\nif (jedis.get(lockkey).equals(requestid)) {\n    jedis.del(lockkey);\n    return true;\n}\nreturn false;\n\n\n1\n2\n3\n4\n5\n\n\nå¨éæ¾éçæ¶åï¼åªè½éæ¾èªå·±å çéï¼ä¸åè®¸éæ¾å«äººå çéã\n\nè¿éä¸ºä»ä¹è¦ç¨requestidï¼ç¨useridä¸è¡åï¼\n\nç­ï¼å¦æç¨useridçè¯ï¼åè®¾æ¬æ¬¡è¯·æ±æµç¨èµ°å®äºï¼åå¤å é¤éãæ­¤æ¶ï¼å·§åéå°äºè¿ææ¶é´å¤±æäºãèå¦å¤ä¸ä¸ªè¯·æ±ï¼å·§åä½¿ç¨çç¸åuseridå éï¼ä¼æåãèæ¬æ¬¡è¯·æ±å é¤éçæ¶åï¼å é¤çå¶å®æ¯å«äººçéäºã\n\nå½ç¶ä½¿ç¨luaèæ¬ä¹è½é¿åè¯¥é®é¢ï¼\n\nif redis.call(\'get\', keys[1]) == argv[1] then \n return redis.call(\'del\', keys[1]) \nelse \n  return 0 \nend\n\n\n1\n2\n3\n4\n5\n\n\nå®è½ä¿è¯æ¥è¯¢éæ¯å¦å­å¨åå é¤éæ¯åå­æä½ã\n\n\n# 7.4 èªæé\n\nä¸é¢çå éæ¹æ³çèµ·æ¥å¥½åæ²¡æé®é¢ï¼ä½å¦æä½ ä»ç»æ³æ³ï¼å¦ææ1ä¸çè¯·æ±åæ¶å»ç«äºé£æéï¼å¯è½åªæä¸ä¸ªè¯·æ±æ¯æåçï¼å¶ä½ç9999ä¸ªè¯·æ±é½ä¼å¤±è´¥ã\n\nå¨ç§æåºæ¯ä¸ï¼ä¼æä»ä¹é®é¢ï¼\n\nç­ï¼æ¯1ä¸ä¸ªè¯·æ±ï¼æ1ä¸ªæåãå1ä¸ä¸ªè¯·æ±ï¼æ1ä¸ªæåãå¦æ­¤ä¸å»ï¼ç´å°åºå­ä¸è¶³ãè¿å°±åæåååå¸çç§æäºï¼è·æä»¬æ³è±¡ä¸­çä¸ä¸æ ·ã\n\nå¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nç­ï¼ä½¿ç¨èªæéã\n\ntry {\n  long start = system.currenttimemillis();\n  while(true) {\n      string result = jedis.set(lockkey, requestid, "nx", "px", expiretime);\n     if ("ok".equals(result)) {\n        return true;\n     }\n     \n     long time = system.currenttimemillis() - start;\n      if (time>=timeout) {\n          return false;\n      }\n      try {\n          thread.sleep(50);\n      } catch (interruptedexception e) {\n          e.printstacktrace();\n      }\n  }\n \n} finally{\n    unlock(lockkey,requestid);\n}  \nreturn false;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¨è§å®çæ¶é´ï¼æ¯å¦500æ¯«ç§åï¼èªæä¸æ­å°è¯å éï¼å¦ææååç´æ¥è¿åãå¦æå¤±è´¥ï¼åä¼ç 50æ¯«ç§ï¼ååèµ·æ°ä¸è½®çå°è¯ãå¦æå°äºè¶æ¶æ¶é´ï¼è¿æªå éæåï¼åç´æ¥è¿åå¤±è´¥ã\n\n\n# 7.5 redisson\n\né¤äºä¸é¢çé®é¢ä¹å¤ï¼ä½¿ç¨redisåå¸å¼éï¼è¿æéç«äºé®é¢ãç»­æé®é¢ãééå¥é®é¢ãå¤ä¸ªrediså®ä¾å éé®é¢ç­ã\n\nè¿äºé®é¢ä½¿ç¨redissonå¯ä»¥è§£å³ï¼ç±äºç¯å¹çåå ï¼å¨è¿éåä¿çä¸ç¹æ¬å¿µï¼æçé®çç§èç»æãåé¢ä¼åºä¸ä¸ªä¸é¢ä»ç»åå¸å¼éï¼æ¬è¯·æå¾ã\n\n\n# 8 mqå¼æ­¥å¤ç\n\næä»¬é½ç¥éå¨çå®çç§æåºæ¯ä¸­ï¼æä¸ä¸ªæ ¸å¿æµç¨ï¼èè¿ä¸ä¸ªæ ¸å¿æµç¨ä¸­ï¼çæ­£å¹¶åéå¤§çæ¯ç§æåè½ï¼ä¸ååæ¯ä»åè½å®éå¹¶åéå¾å°ãæä»¥ï¼æä»¬å¨è®¾è®¡ç§æç³»ç»æ¶ï¼æå¿è¦æä¸ååæ¯ä»åè½ä»ç§æçä¸»æµç¨ä¸­æååºæ¥ï¼ç¹å«æ¯ä¸ååè½è¦åæmqå¼æ­¥å¤ççãèæ¯ä»åè½ï¼æ¯å¦æ¯ä»å®æ¯ä»ï¼æ¯ä¸å¡åºæ¯æ¬èº«ä¿è¯çå¼æ­¥ã\n\näºæ¯ï¼ç§æåä¸åçæµç¨åæå¦ä¸ï¼å¦æä½¿ç¨mqï¼éè¦å³æ³¨ä»¥ä¸å ä¸ªé®é¢ï¼\n\n\n# 8.1 æ¶æ¯ä¸¢å¤±é®é¢\n\nç§ææåäºï¼å¾mqåéä¸åæ¶æ¯çæ¶åï¼æå¯è½ä¼å¤±è´¥ãåå æå¾å¤ï¼æ¯å¦ï¼ç½ç»é®é¢ãbrokeræäºãmqæå¡ç«¯ç£çé®é¢ç­ãè¿äºæåµï¼é½å¯è½ä¼é ææ¶æ¯ä¸¢å¤±ã\n\né£ä¹ï¼å¦ä½é²æ­¢æ¶æ¯ä¸¢å¤±å¢ï¼\n\nç­ï¼å ä¸å¼ æ¶æ¯åéè¡¨ã\n\nå¨çäº§èåémqæ¶æ¯ä¹åï¼åæè¯¥æ¡æ¶æ¯åå¥æ¶æ¯åéè¡¨ï¼åå§ç¶ææ¯å¾å¤çï¼ç¶åååémqæ¶æ¯ãæ¶è´¹èæ¶è´¹æ¶æ¯æ¶ï¼å¤çå®ä¸å¡é»è¾ä¹åï¼ååè°çäº§èçä¸ä¸ªæ¥å£ï¼ä¿®æ¹æ¶æ¯ç¶æä¸ºå·²å¤çã\n\nå¦æçäº§èææ¶æ¯åå¥æ¶æ¯åéè¡¨ä¹åï¼ååémqæ¶æ¯å°mqæå¡ç«¯çè¿ç¨ä¸­å¤±è´¥äºï¼é æäºæ¶æ¯ä¸¢å¤±ã\n\nè¿æ¶åï¼è¦å¦ä½å¤çå¢ï¼\n\nç­ï¼ä½¿ç¨jobï¼å¢å éè¯æºå¶ã\n\nç¨jobæ¯éä¸æ®µæ¶é´å»æ¥è¯¢æ¶æ¯åéè¡¨ä¸­ç¶æä¸ºå¾å¤ççæ°æ®ï¼ç¶åéæ°åémqæ¶æ¯ã\n\n\n# 8.2 éå¤æ¶è´¹é®é¢\n\næ¬æ¥æ¶è´¹èæ¶è´¹æ¶æ¯æ¶ï¼å¨ackåºç­çæ¶åï¼å¦æç½ç»è¶æ¶ï¼æ¬èº«å°±å¯è½ä¼æ¶è´¹éå¤çæ¶æ¯ãä½ç±äºæ¶æ¯åéèå¢å äºéè¯æºå¶ï¼ä¼å¯¼è´æ¶è´¹èéå¤æ¶æ¯çæ¦çå¢å¤§ã\n\né£ä¹ï¼å¦ä½è§£å³éå¤æ¶æ¯é®é¢å¢ï¼\n\nç­ï¼å ä¸å¼ æ¶æ¯å¤çè¡¨ã\n\næ¶è´¹èè¯»å°æ¶æ¯ä¹åï¼åå¤æ­ä¸ä¸æ¶æ¯å¤çè¡¨ï¼æ¯å¦å­å¨è¯¥æ¶æ¯ï¼å¦æå­å¨ï¼è¡¨ç¤ºæ¯éå¤æ¶è´¹ï¼åç´æ¥è¿åãå¦æä¸å­å¨ï¼åè¿è¡ä¸åæä½ï¼æ¥çå°è¯¥æ¶æ¯åå¥æ¶æ¯å¤çè¡¨ä¸­ï¼åè¿åã\n\næä¸ªæ¯è¾å³é®çç¹æ¯ï¼ä¸åååæ¶æ¯å¤çè¡¨ï¼è¦æ¾å¨åä¸ä¸ªäºå¡ä¸­ï¼ä¿è¯åå­æä½ã\n\n\n# 8.3 åå¾æ¶æ¯é®é¢\n\nè¿å¥æ¹æ¡è¡¨é¢ä¸çèµ·æ¥æ²¡æé®é¢ï¼ä½å¦æåºç°äºæ¶æ¯æ¶è´¹å¤±è´¥çæåµãæ¯å¦ï¼ç±äºæäºåå ï¼æ¶æ¯æ¶è´¹èä¸åä¸ç´å¤±è´¥ï¼ä¸ç´ä¸è½åè°ç¶æåæ´æ¥å£ï¼è¿æ ·jobä¼ä¸åçéè¯åæ¶æ¯ãæåï¼ä¼äº§çå¤§éçåå¾æ¶æ¯ã\n\né£ä¹ï¼å¦ä½è§£å³è¿ä¸ªé®é¢å¢ï¼æ¯æ¬¡å¨jobéè¯æ¶ï¼éè¦åå¤æ­ä¸ä¸æ¶æ¯åéè¡¨ä¸­è¯¥æ¶æ¯çåéæ¬¡æ°æ¯å¦è¾¾å°æå¤§éå¶ï¼å¦æè¾¾å°äºï¼åç´æ¥è¿åãå¦ææ²¡æè¾¾å°ï¼åå°æ¬¡æ°å 1ï¼ç¶ååéæ¶æ¯ã\n\nè¿æ ·å¦æåºç°å¼å¸¸ï¼åªä¼äº§çå°éçåå¾æ¶æ¯ï¼ä¸ä¼å½±åå°æ­£å¸¸çä¸å¡ã\n\n\n# 8.4 å»¶è¿æ¶è´¹é®é¢\n\néå¸¸æåµä¸ï¼å¦æç¨æ·ç§ææåäºï¼ä¸åä¹åï¼å¨15åéä¹åè¿æªå®ææ¯ä»çè¯ï¼è¯¥è®¢åä¼è¢«èªå¨åæ¶ï¼åéåºå­ã\n\né£ä¹ï¼å¨15åéåæªå®ææ¯ä»ï¼è®¢åè¢«èªå¨åæ¶çåè½ï¼è¦å¦ä½å®ç°å¢ï¼\n\næä»¬é¦åæ³å°çå¯è½æ¯jobï¼å ä¸ºå®æ¯è¾ç®åã\n\nä½jobæä¸ªé®é¢ï¼éè¦æ¯éä¸æ®µæ¶é´å¤çä¸æ¬¡ï¼å®æ¶æ§ä¸å¤ªå¥½ã\n\nè¿ææ´å¥½çæ¹æ¡ï¼\n\nç­ï¼ä½¿ç¨å»¶è¿éåã\n\næä»¬é½ç¥érocketmqï¼èªå¸¦äºå»¶è¿éåçåè½ã\n\nä¸åæ¶æ¶æ¯çäº§èä¼åçæè®¢åï¼æ­¤æ¶ç¶æä¸ºå¾æ¯ä»ï¼ç¶åä¼åå»¶è¿éåä¸­åä¸æ¡æ¶æ¯ãè¾¾å°äºå»¶è¿æ¶é´ï¼æ¶æ¯æ¶è´¹èè¯»åæ¶æ¯ä¹åï¼ä¼æ¥è¯¢è¯¥è®¢åçç¶ææ¯å¦ä¸ºå¾æ¯ä»ãå¦ææ¯å¾æ¯ä»ç¶æï¼åä¼æ´æ°è®¢åç¶æä¸ºåæ¶ç¶æãå¦æä¸æ¯å¾æ¯ä»ç¶æï¼è¯´æè¯¥è®¢åå·²ç»æ¯ä»è¿äºï¼åç´æ¥è¿åã\n\nè¿æä¸ªå³é®ç¹ï¼ç¨æ·å®ææ¯ä»ä¹åï¼ä¼ä¿®æ¹è®¢åç¶æä¸ºå·²æ¯ä»ã\n\n\n\n\n# 9 å¦ä½éæµï¼\n\néè¿ç§ææ´»å¨ï¼å¦ææä»¬è¿æ°çæ£ï¼å¯è½ä¼ç¨éå¸¸ä½çä»·æ ¼ä¹°å°ä¸éçååï¼è¿ç§æ¦çå ªæ¯ä¹°ç¦å©å½©ç¥¨ä¸­å¤§å¥ï¼ã\n\nä½æäºé«æï¼å¹¶ä¸ä¼åæä»¬ä¸æ ·èèå®å®ï¼éè¿ç§æé¡µé¢ç¹å»ç§ææé®ï¼æ¢è´­ååãä»ä»¬å¯è½å¨èªå·±çæå¡å¨ä¸ï¼æ¨¡ææ­£å¸¸ç¨æ·ç»å½ç³»ç»ï¼è·³è¿ç§æé¡µé¢ï¼ç´æ¥è°ç¨ç§ææ¥å£ã\n\nå¦ææ¯æä»¬æå¨æä½ï¼ä¸è¬æåµä¸ï¼ä¸ç§éåªè½ç¹å»ä¸æ¬¡ç§ææé®ãä½æ¯å¦ææ¯æå¡å¨ï¼ä¸ç§éå¯ä»¥è¯·æ±æä¸åæ¥å£ãè¿ç§å·®è·å®å¨å¤ªææ¾äºï¼å¦æä¸åä»»ä½éå¶ï¼ç»å¤§é¨åååå¯è½æ¯è¢«æºå¨æ¢å°ï¼èéæ­£å¸¸çç¨æ·ï¼æç¹ä¸å¤ªå¬å¹³ã\n\næä»¥ï¼æä»¬æå¿è¦è¯å«è¿äºéæ³è¯·æ±ï¼åä¸äºéå¶ãé£ä¹ï¼æä»¬è¯¥å¦ä½ç°å¨è¿äºéæ³è¯·æ±å¢ï¼\n\nç®åæä¸¤ç§å¸¸ç¨çéæµæ¹å¼ï¼\n\n 1. åºäºnginxéæµ\n 2. åºäºrediséæµ\n\n\n# 9.1 å¯¹åä¸ç¨æ·éæµ\n\nä¸ºäºé²æ­¢æä¸ªç¨æ·ï¼è¯·æ±æ¥å£æ¬¡æ°è¿äºé¢ç¹ï¼å¯ä»¥åªéå¯¹è¯¥ç¨æ·åéå¶ãéå¶åä¸ä¸ªç¨æ·idï¼æ¯å¦æ¯åéåªè½è¯·æ±5æ¬¡æ¥å£ã\n\n\n# 9.2 å¯¹åä¸ipéæµ\n\nææ¶ååªå¯¹æä¸ªç¨æ·éæµæ¯ä¸å¤çï¼æäºé«æå¯ä»¥æ¨¡æå¤ä¸ªç¨æ·è¯·æ±ï¼è¿ç§nginxå°±æ²¡æ³è¯å«äºã\n\nè¿æ¶éè¦å åä¸ipéæµåè½ãéå¶åä¸ä¸ªipï¼æ¯å¦æ¯åéåªè½è¯·æ±5æ¬¡æ¥å£ã\n\nä½è¿ç§éæµæ¹å¼å¯è½ä¼æè¯¯æçæåµï¼æ¯å¦åä¸ä¸ªå¬å¸æç½å§çåºå£ipæ¯ç¸åçï¼å¦æéé¢æå¤ä¸ªæ­£å¸¸ç¨æ·åæ¶åèµ·è¯·æ±ï¼æäºç¨æ·å¯è½ä¼è¢«éå¶ä½ã\n\n\n# 9.3 å¯¹æ¥å£éæµ\n\nå«ä»¥ä¸ºéå¶äºç¨æ·åipå°±ä¸äºå¤§åï¼æäºé«æçè³å¯ä»¥ä½¿ç¨ä»£çï¼æ¯æ¬¡é½è¯·æ±é½æ¢ä¸ä¸ªipã\n\nè¿æ¶å¯ä»¥éå¶è¯·æ±çæ¥å£æ»æ¬¡æ°ãå¨é«å¹¶ååºæ¯ä¸ï¼è¿ç§éå¶å¯¹äºç³»ç»çç¨³å®æ§æ¯éå¸¸æå¿è¦çãä½å¯è½ç±äºæäºéæ³è¯·æ±æ¬¡æ°å¤ªå¤ï¼è¾¾å°äºè¯¥æ¥å£çè¯·æ±ä¸éï¼èå½±åå¶ä»çæ­£å¸¸ç¨æ·è®¿é®è¯¥æ¥å£ãçèµ·æ¥æç¹å¾ä¸å¿å¤±ã\n\n\n# 9.4 å éªè¯ç \n\nç¸å¯¹äºä¸é¢ä¸ç§æ¹å¼ï¼å éªè¯ç çæ¹å¼å¯è½æ´ç²¾åä¸äºï¼åæ ·è½éå¶ç¨æ·çè®¿é®é¢æ¬¡ï¼ä½å¥½å¤æ¯ä¸ä¼å­å¨è¯¯æçæåµã\n\néå¸¸æåµä¸ï¼ç¨æ·å¨è¯·æ±ä¹åï¼éè¦åè¾å¥éªè¯ç ãç¨æ·åèµ·è¯·æ±ä¹åï¼æå¡ç«¯ä¼å»æ ¡éªè¯¥éªè¯ç æ¯å¦æ­£ç¡®ãåªææ­£ç¡®æåè®¸è¿è¡ä¸ä¸æ­¥æä½ï¼å¦åç´æ¥è¿åï¼å¹¶ä¸æç¤ºéªè¯ç éè¯¯ã\n\næ­¤å¤ï¼éªè¯ç ä¸è¬æ¯ä¸æ¬¡æ§çï¼åä¸ä¸ªéªè¯ç åªåè®¸ä½¿ç¨ä¸æ¬¡ï¼ä¸åè®¸éå¤ä½¿ç¨ã\n\næ®ééªè¯ç ï¼ç±äºçæçæ°å­æèå¾æ¡æ¯è¾ç®åï¼å¯è½ä¼è¢«ç ´è§£ãä¼ç¹æ¯çæéåº¦æ¯è¾å¿«ï¼ç¼ºç¹æ¯æå®å¨éæ£ã\n\nè¿æä¸ä¸ªéªè¯ç å«åï¼ç§»å¨æ»åï¼å®çæéåº¦æ¯è¾æ¢ï¼ä½æ¯è¾å®å¨ï¼æ¯ç®ååå¤§äºèç½å¬å¸çé¦éã\n\n\n# 9.5 æé«ä¸å¡é¨æ§\n\nä¸é¢è¯´çå éªè¯ç è½ç¶å¯ä»¥éå¶éæ³ç¨æ·è¯·æ±ï¼ä½æ¯æäºå½±åç¨æ·ä½éªãç¨æ·ç¹å»ç§ææé®åï¼è¿è¦åè¾å¥éªè¯ç ï¼æµç¨æ¾å¾æç¹ç¹çï¼ç§æåè½çæµç¨ä¸æ¯åºè¯¥è¶ç®åè¶å¥½åï¼\n\nå¶å®ï¼ææ¶åè¾¾å°æä¸ªç®çï¼ä¸ä¸å®éè¦éè¿ææ¯ææ®µï¼éè¿ä¸å¡ææ®µä¹ä¸æ ·ã\n\n12306åå¼å§çæ¶åï¼å¨å½äººæ°é½å¨åä¸æ¶å»æ¢ç«è½¦ç¥¨ï¼ç±äºå¹¶åéå¤ªå¤§ï¼ç³»ç»ç»å¸¸æãåæ¥ï¼éæä¼åä¹åï¼å°è´­ä¹°å¨ææ¾é¿äºï¼å¯ä»¥æå20å¤©è´­ä¹°ç«è½¦ç¥¨ï¼å¹¶ä¸å¯ä»¥å¨9ç¹ã10ã11ç¹ã12ç¹ç­æ´ç¹è´­ä¹°ç«è½¦ç¥¨ãè°æ´ä¸å¡ä¹åï¼å½ç¶ææ¯ä¹æå¾å¤è°æ´ï¼ï¼å°ä¹åéä¸­çè¯·æ±ï¼åæ£å¼äºï¼ä¸ä¸å­éä½äºç¨æ·å¹¶åéã\n\nåå°è¿éï¼æä»¬éè¿æé«ä¸å¡é¨æ§ï¼æ¯å¦åªæä¼åæè½åä¸ç§ææ´»å¨ï¼æ®éæ³¨åç¨æ·æ²¡ææéãæèï¼åªæç­çº§å°è¾¾3çº§ä»¥ä¸çæ®éç¨æ·ï¼ææèµæ ¼åå è¯¥æ´»å¨ã\n\n\n# åè\n\né¢è¯å®ï¼èèç§æç³»ç»å¦ä½è®¾è®¡ï¼ æä¸å¸¦ä½ è®¾è®¡-ç§æç³»ç»',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼",frontmatter:{title:"å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼",date:"2022-10-20T23:06:43.000Z",permalink:"/pages/ac945d/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/006.%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8D%E4%B8%80%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F.html",relativePath:"08.ç³»ç»è®¾è®¡/006.å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼.md",key:"v-00fb6429",path:"/pages/ac945d/",headers:[{level:2,title:"å¼å¥ç¼å­æé«æ§è½",slug:"å¼å¥ç¼å­æé«æ§è½",normalizedTitle:"å¼å¥ç¼å­æé«æ§è½",charIndex:198},{level:2,title:"ç¼å­å©ç¨çåä¸è´æ§é®é¢",slug:"ç¼å­å©ç¨çåä¸è´æ§é®é¢",normalizedTitle:"ç¼å­å©ç¨çåä¸è´æ§é®é¢",charIndex:795},{level:2,title:"å¹¶åå¼åçä¸è´æ§é®é¢",slug:"å¹¶åå¼åçä¸è´æ§é®é¢",normalizedTitle:"å¹¶åå¼åçä¸è´æ§é®é¢",charIndex:1773},{level:2,title:"å é¤ç¼å­å¯ä»¥ä¿è¯ä¸è´æ§åï¼",slug:"å é¤ç¼å­å¯ä»¥ä¿è¯ä¸è´æ§å",normalizedTitle:"å é¤ç¼å­å¯ä»¥ä¿è¯ä¸è´æ§åï¼",charIndex:2381},{level:2,title:"å¦ä½ä¿è¯ä¸¤æ­¥é½æ§è¡æåï¼",slug:"å¦ä½ä¿è¯ä¸¤æ­¥é½æ§è¡æå",normalizedTitle:"å¦ä½ä¿è¯ä¸¤æ­¥é½æ§è¡æåï¼",charIndex:3323},{level:2,title:"ä¸»ä»åºå»¶è¿åå»¶è¿åå é®é¢",slug:"ä¸»ä»åºå»¶è¿åå»¶è¿åå é®é¢",normalizedTitle:"ä¸»ä»åºå»¶è¿åå»¶è¿åå é®é¢",charIndex:4874},{level:2,title:"å¯ä»¥åå°å¼ºä¸è´åï¼",slug:"å¯ä»¥åå°å¼ºä¸è´å",normalizedTitle:"å¯ä»¥åå°å¼ºä¸è´åï¼",charIndex:6009},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:6510},{level:2,title:"åè®°",slug:"åè®°",normalizedTitle:"åè®°",charIndex:6981},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:7335}],headersStr:"å¼å¥ç¼å­æé«æ§è½ ç¼å­å©ç¨çåä¸è´æ§é®é¢ å¹¶åå¼åçä¸è´æ§é®é¢ å é¤ç¼å­å¯ä»¥ä¿è¯ä¸è´æ§åï¼ å¦ä½ä¿è¯ä¸¤æ­¥é½æ§è¡æåï¼ ä¸»ä»åºå»¶è¿åå»¶è¿åå é®é¢ å¯ä»¥åå°å¼ºä¸è´åï¼ æ»ç» åè®° åè",content:"å¦ä½ä¿è¯ç¼å­åæ°æ®åºä¸è´æ§ï¼è¿æ¯ä¸ä¸ªèçå¸¸è°çè¯é¢äºã\n\nä½å¾å¤äººå¯¹è¿ä¸ªé®é¢ï¼ä¾æ§æå¾å¤çæï¼\n\n * å°åºæ¯æ´æ°ç¼å­è¿æ¯å ç¼å­ï¼\n * å°åºéæ©åæ´æ°æ°æ®åºï¼åå é¤ç¼å­ï¼è¿æ¯åå é¤ç¼å­ï¼åæ´æ°æ°æ®åºï¼\n * ä¸ºä»ä¹è¦å¼å¥æ¶æ¯éåä¿è¯ä¸è´æ§ï¼\n * å»¶è¿åå ä¼æä»ä¹é®é¢ï¼å°åºè¦ä¸è¦ç¨ï¼\n * ...\n\nè¿ç¯æç« ï¼æä»¬å°±æ¥æè¿äºé®é¢è®²æ¸æ¥ã\n\nè¿ç¯æç« å¹²è´§å¾å¤ï¼å¸æä½ å¯ä»¥èå¿è¯»å®ã\n\n\n\n\n# å¼å¥ç¼å­æé«æ§è½\n\næä»¬ä»æç®åçåºæ¯å¼å§è®²èµ·ã\n\nå¦æä½ çä¸å¡å¤äºèµ·æ­¥é¶æ®µï¼æµééå¸¸å°ï¼é£æ è®ºæ¯è¯»è¯·æ±è¿æ¯åè¯·æ±ï¼ç´æ¥æä½æ°æ®åºå³å¯ï¼è¿æ¶ä½ çæ¶ææ¨¡åæ¯è¿æ ·çï¼\n\n\n\nä½éçä¸å¡éçå¢é¿ï¼ä½ çé¡¹ç®è¯·æ±éè¶æ¥è¶å¤§ï¼è¿æ¶å¦ææ¯æ¬¡é½ä»æ°æ®åºä¸­è¯»æ°æ®ï¼é£è¯å®ä¼ææ§è½é®é¢ã\n\nè¿ä¸ªé¶æ®µéå¸¸çåæ³æ¯ï¼å¼å¥ãç¼å­ãæ¥æé«è¯»æ§è½ï¼æ¶ææ¨¡åå°±åæäºè¿æ ·ï¼\n\n\n\nå½ä¸ä¼ç§çç¼å­ä¸­é´ä»¶ï¼å½å± Redis è«å±ï¼å®ä¸ä»æ§è½éå¸¸é«ï¼è¿æä¾äºå¾å¤åå¥½çæ°æ®ç±»åï¼å¯ä»¥å¾å¥½å°æ»¡è¶³æä»¬çä¸å¡éæ±ã\n\nä½å¼å¥ç¼å­ä¹åï¼ä½ å°±ä¼é¢ä¸´ä¸ä¸ªé®é¢ï¼ä¹åæ°æ®åªå­å¨æ°æ®åºä¸­ï¼ç°å¨è¦æ¾å°ç¼å­ä¸­è¯»åï¼å·ä½è¦æä¹å­å¢ï¼\n\næç®åç´æ¥çæ¹æ¡æ¯ãå¨éæ°æ®å·å°ç¼å­ä¸­ãï¼\n\n * æ°æ®åºçæ°æ®ï¼å¨éå·å¥ç¼å­ï¼ä¸è®¾ç½®å¤±ææ¶é´ï¼\n * åè¯·æ±åªæ´æ°æ°æ®åºï¼ä¸æ´æ°ç¼å­\n * å¯å¨ä¸ä¸ªå®æ¶ä»»å¡ï¼å®æ¶ææ°æ®åºçæ°æ®ï¼æ´æ°å°ç¼å­ä¸­\n\n\n\nè¿ä¸ªæ¹æ¡çä¼ç¹æ¯ï¼ææè¯»è¯·æ±é½å¯ä»¥ç´æ¥ãå½ä¸­ãç¼å­ï¼ä¸éè¦åæ¥æ°æ®åºï¼æ§è½éå¸¸é«ã\n\nä½ç¼ºç¹ä¹å¾ææ¾ï¼æ 2 ä¸ªé®é¢ï¼\n\n 1. ç¼å­å©ç¨çä½ï¼ä¸ç»å¸¸è®¿é®çæ°æ®ï¼è¿ä¸ç´çå¨ç¼å­ä¸­\n 2. æ°æ®ä¸ä¸è´ï¼å ä¸ºæ¯ãå®æ¶ãå·æ°ç¼å­ï¼ç¼å­åæ°æ®åºå­å¨ä¸ä¸è´ï¼åå³äºå®æ¶ä»»å¡çæ§è¡é¢çï¼\n\næä»¥ï¼è¿ç§æ¹æ¡ä¸è¬æ´éåä¸å¡ãä½éå°ãï¼ä¸å¯¹æ°æ®ä¸è´æ§è¦æ±ä¸é«çä¸å¡åºæ¯ã\n\né£å¦ææä»¬çä¸å¡ä½éå¾å¤§ï¼æä¹è§£å³è¿ 2 ä¸ªé®é¢å¢ï¼\n\n\n# ç¼å­å©ç¨çåä¸è´æ§é®é¢\n\nåæ¥çç¬¬ä¸ä¸ªé®é¢ï¼å¦ä½æé«ç¼å­å©ç¨çï¼\n\næ³è¦ç¼å­å©ç¨çãæå¤§åãï¼æä»¬å¾å®¹ææ³å°çæ¹æ¡æ¯ï¼ç¼å­ä¸­åªä¿çæè¿è®¿é®çãç­æ°æ®ããä½å·ä½è¦æä¹åå¢ï¼\n\næä»¬å¯ä»¥è¿æ ·ä¼åï¼\n\n * åè¯·æ±ä¾æ§åªåæ°æ®åº\n * è¯»è¯·æ±åè¯»ç¼å­ï¼å¦æç¼å­ä¸å­å¨ï¼åä»æ°æ®åºè¯»åï¼å¹¶éå»ºç¼å­\n * åæ¶ï¼åå¥ç¼å­ä¸­çæ°æ®ï¼é½è®¾ç½®å¤±ææ¶é´\n\n\n\nè¿æ ·ä¸æ¥ï¼ç¼å­ä¸­ä¸ç»å¸¸è®¿é®çæ°æ®ï¼éçæ¶é´çæ¨ç§»ï¼é½ä¼éæ¸ãè¿æãæ·æ±°æï¼æç»ç¼å­ä¸­ä¿ççï¼é½æ¯ç»å¸¸è¢«è®¿é®çãç­æ°æ®ãï¼ç¼å­å©ç¨çå¾ä»¥æå¤§åã\n\nåæ¥çæ°æ®ä¸è´æ§é®é¢ã\n\nè¦æ³ä¿è¯ç¼å­åæ°æ®åºãå®æ¶ãä¸è´ï¼é£å°±ä¸è½åç¨å®æ¶ä»»å¡å·æ°ç¼å­äºã\n\næä»¥ï¼å½æ°æ®åçæ´æ°æ¶ï¼æä»¬ä¸ä»è¦æä½æ°æ®åºï¼è¿è¦ä¸å¹¶æä½ç¼å­ãå·ä½æä½å°±æ¯ï¼ä¿®æ¹ä¸æ¡æ°æ®æ¶ï¼ä¸ä»è¦æ´æ°æ°æ®åºï¼ä¹è¦è¿å¸¦ç¼å­ä¸èµ·æ´æ°ã\n\nä½æ°æ®åºåç¼å­é½æ´æ°ï¼åå­å¨ååé®é¢ï¼é£å¯¹åºçæ¹æ¡å°±æ 2 ä¸ªï¼\n\n 1. åæ´æ°ç¼å­ï¼åæ´æ°æ°æ®åº\n 2. åæ´æ°æ°æ®åºï¼åæ´æ°ç¼å­\n\nåªä¸ªæ¹æ¡æ´å¥½å¢ï¼\n\nåä¸èèå¹¶åé®é¢ï¼æ­£å¸¸æåµä¸ï¼æ è®ºè°åè°åï¼é½å¯ä»¥è®©ä¸¤èä¿æä¸è´ï¼ä½ç°å¨æä»¬éè¦éç¹èèãå¼å¸¸ãæåµã\n\nå ä¸ºæä½åä¸ºä¸¤æ­¥ï¼é£ä¹å°±å¾æå¯è½å­å¨ãç¬¬ä¸æ­¥æåãç¬¬äºæ­¥å¤±è´¥ãçæåµåçã\n\nè¿ 2 ç§æ¹æ¡æä»¬ä¸ä¸ªä¸ªæ¥åæã\n\n1) åæ´æ°ç¼å­ï¼åæ´æ°æ°æ®åº\n\nå¦æç¼å­æ´æ°æåäºï¼ä½æ°æ®åºæ´æ°å¤±è´¥ï¼é£ä¹æ­¤æ¶ç¼å­ä¸­æ¯ææ°å¼ï¼ä½æ°æ®åºä¸­æ¯ãæ§å¼ãã\n\nè½ç¶æ­¤æ¶è¯»è¯·æ±å¯ä»¥å½ä¸­ç¼å­ï¼æ¿å°æ­£ç¡®çå¼ï¼ä½æ¯ï¼ä¸æ¦ç¼å­ãå¤±æãï¼å°±ä¼ä»æ°æ®åºä¸­è¯»åå°ãæ§å¼ãï¼éå»ºç¼å­ä¹æ¯è¿ä¸ªæ§å¼ã\n\nè¿æ¶ç¨æ·ä¼åç°èªå·±ä¹åä¿®æ¹çæ°æ®åãååå»ãäºï¼å¯¹ä¸å¡é æå½±åã\n\n2) åæ´æ°æ°æ®åºï¼åæ´æ°ç¼å­\n\nå¦ææ°æ®åºæ´æ°æåäºï¼ä½ç¼å­æ´æ°å¤±è´¥ï¼é£ä¹æ­¤æ¶æ°æ®åºä¸­æ¯ææ°å¼ï¼ç¼å­ä¸­æ¯ãæ§å¼ãã\n\nä¹åçè¯»è¯·æ±è¯»å°çé½æ¯æ§æ°æ®ï¼åªæå½ç¼å­ãå¤±æãåï¼æè½ä»æ°æ®åºä¸­å¾å°æ­£ç¡®çå¼ã\n\nè¿æ¶ç¨æ·ä¼åç°ï¼èªå·±ååä¿®æ¹äºæ°æ®ï¼ä½å´çä¸å°åæ´ï¼ä¸æ®µæ¶é´è¿åï¼æ°æ®æåæ´è¿æ¥ï¼å¯¹ä¸å¡ä¹ä¼æå½±åã\n\nå¯è§ï¼æ è®ºè°åè°åï¼ä½å¡åèåçå¼å¸¸ï¼å°±ä¼å¯¹ä¸å¡é æå½±åãé£æä¹è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nå«æ¥ï¼åé¢æä¼è¯¦ç»ç»åºå¯¹åºçè§£å³æ¹æ¡ã\n\næä»¬ç»§ç»­åæï¼é¤äºæä½å¤±è´¥é®é¢ï¼è¿æä»ä¹åºæ¯ä¼å½±åæ°æ®ä¸è´æ§ï¼\n\nè¿éæä»¬è¿éè¦éç¹å³æ³¨ï¼å¹¶åé®é¢ã\n\n\n# å¹¶åå¼åçä¸è´æ§é®é¢\n\nåè®¾æä»¬éç¨ãåæ´æ°æ°æ®åºï¼åæ´æ°ç¼å­ãçæ¹æ¡ï¼å¹¶ä¸ä¸¤æ­¥é½å¯ä»¥ãæåæ§è¡ãçåæä¸ï¼å¦æå­å¨å¹¶åï¼æåµä¼æ¯ææ ·çå¢ï¼\n\næçº¿ç¨ A åçº¿ç¨ B ä¸¤ä¸ªçº¿ç¨ï¼éè¦æ´æ°ãåä¸æ¡ãæ°æ®ï¼ä¼åçè¿æ ·çåºæ¯ï¼\n\n 1. çº¿ç¨ A æ´æ°æ°æ®åºï¼X = 1ï¼\n 2. çº¿ç¨ B æ´æ°æ°æ®åºï¼X = 2ï¼\n 3. çº¿ç¨ B æ´æ°ç¼å­ï¼X = 2ï¼\n 4. çº¿ç¨ A æ´æ°ç¼å­ï¼X = 1ï¼\n\næç» X çå¼å¨ç¼å­ä¸­æ¯ 1ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼åçä¸ä¸è´ã\n\nä¹å°±æ¯è¯´ï¼A è½ç¶åäº B åçï¼ä½ B æä½æ°æ®åºåç¼å­çæ¶é´ï¼å´è¦æ¯ A çæ¶é´ç­ï¼æ§è¡æ¶åºåçãéä¹±ãï¼æç»è¿æ¡æ°æ®ç»ææ¯ä¸ç¬¦åé¢æçã\n\n> åæ ·å°ï¼éç¨ãåæ´æ°ç¼å­ï¼åæ´æ°æ°æ®åºãçæ¹æ¡ï¼ä¹ä¼æç±»ä¼¼é®é¢ï¼è¿éä¸åè¯¦è¿°ã\n\né¤æ­¤ä¹å¤ï¼æä»¬ä»ãç¼å­å©ç¨çãçè§åº¦æ¥è¯ä¼°è¿ä¸ªæ¹æ¡ï¼ä¹æ¯ä¸å¤ªæ¨èçã\n\nè¿æ¯å ä¸ºæ¯æ¬¡æ°æ®åçåæ´ï¼é½ãæ èãæ´æ°ç¼å­ï¼ä½æ¯ç¼å­ä¸­çæ°æ®ä¸ä¸å®ä¼è¢«ãé©¬ä¸è¯»åãï¼è¿å°±ä¼å¯¼è´ç¼å­ä¸­å¯è½å­æ¾äºå¾å¤ä¸å¸¸è®¿é®çæ°æ®ï¼æµªè´¹ç¼å­èµæºã\n\nèä¸å¾å¤æåµä¸ï¼åå°ç¼å­ä¸­çå¼ï¼å¹¶ä¸æ¯ä¸æ°æ®åºä¸­çå¼ä¸ä¸å¯¹åºçï¼å¾æå¯è½æ¯åæ¥è¯¢æ°æ®åºï¼åç»è¿ä¸ç³»åãè®¡ç®ãå¾åºä¸ä¸ªå¼ï¼ææè¿ä¸ªå¼æåå°ç¼å­ä¸­ã\n\nç±æ­¤å¯è§ï¼è¿ç§ãæ´æ°æ°æ®åº + æ´æ°ç¼å­ãçæ¹æ¡ï¼ä¸ä»ç¼å­å©ç¨çä¸é«ï¼è¿ä¼é ææºå¨æ§è½çæµªè´¹ã\n\næä»¥æ­¤æ¶æä»¬éè¦èèå¦å¤ä¸ç§æ¹æ¡ï¼å é¤ç¼å­ã\n\n\n# å é¤ç¼å­å¯ä»¥ä¿è¯ä¸è´æ§åï¼\n\nå é¤ç¼å­å¯¹åºçæ¹æ¡ä¹æ 2 ç§ï¼\n\n 1. åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº\n 2. åæ´æ°æ°æ®åºï¼åå é¤ç¼å­\n\nç»è¿åé¢çåææä»¬å·²ç»å¾ç¥ï¼ä½å¡ãç¬¬äºæ­¥ãæä½å¤±è´¥ï¼é½ä¼å¯¼è´æ°æ®ä¸ä¸è´ã\n\nè¿éæä¸åè¯¦è¿°å·ä½åºæ¯ï¼ä½ å¯ä»¥æç§åé¢çæè·¯æ¨æ¼ä¸ä¸ï¼å°±å¯ä»¥çå°ä¾æ§å­å¨æ°æ®ä¸ä¸è´çæåµã\n\nè¿éæä»¬éç¹æ¥çãå¹¶åãé®é¢ã\n\n1) åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº\n\nå¦ææ 2 ä¸ªçº¿ç¨è¦å¹¶åãè¯»åãæ°æ®ï¼å¯è½ä¼åçä»¥ä¸åºæ¯ï¼\n\n 1. çº¿ç¨ A è¦æ´æ° X = 2ï¼åå¼ X = 1ï¼\n 2. çº¿ç¨ A åå é¤ç¼å­\n 3. çº¿ç¨ B è¯»ç¼å­ï¼åç°ä¸å­å¨ï¼ä»æ°æ®åºä¸­è¯»åå°æ§å¼ï¼X = 1ï¼\n 4. çº¿ç¨ A å°æ°å¼åå¥æ°æ®åºï¼X = 2ï¼\n 5. çº¿ç¨ B å°æ§å¼åå¥ç¼å­ï¼X = 1ï¼\n\næç» X çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼åçä¸ä¸è´ã\n\nå¯è§ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åºï¼å½åçãè¯»+åãå¹¶åæ¶ï¼è¿æ¯å­å¨æ°æ®ä¸ä¸è´çæåµã\n\n2) åæ´æ°æ°æ®åºï¼åå é¤ç¼å­\n\nä¾æ§æ¯ 2 ä¸ªçº¿ç¨å¹¶åãè¯»åãæ°æ®ï¼\n\n 1. ç¼å­ä¸­ X ä¸å­å¨ï¼æ°æ®åº X = 1ï¼\n 2. çº¿ç¨ A è¯»åæ°æ®åºï¼å¾å°æ§å¼ï¼X = 1ï¼\n 3. çº¿ç¨ B æ´æ°æ°æ®åºï¼X = 2)\n 4. çº¿ç¨ B å é¤ç¼å­\n 5. çº¿ç¨ A å°æ§å¼åå¥ç¼å­ï¼X = 1ï¼\n\næç» X çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼ä¹åçä¸ä¸è´ã\n\nè¿ç§æåµãçè®ºãæ¥è¯´æ¯å¯è½åççï¼ä½å®éççæå¯è½åçåï¼\n\nå¶å®æ¦çãå¾ä½ãï¼è¿æ¯å ä¸ºå®å¿é¡»æ»¡è¶³ 3 ä¸ªæ¡ä»¶ï¼\n\n 1. ç¼å­åå¥½å·²å¤±æ\n 2. è¯»è¯·æ± + åè¯·æ±å¹¶å\n 3. æ´æ°æ°æ®åº + å é¤ç¼å­çæ¶é´ï¼æ­¥éª¤ 3-4ï¼ï¼è¦æ¯è¯»æ°æ®åº + åç¼å­æ¶é´ç­ï¼æ­¥éª¤ 2 å 5ï¼\n\nä»ç»æ³ä¸ä¸ï¼æ¡ä»¶ 3 åççæ¦çå¶å®æ¯éå¸¸ä½çã\n\nå ä¸ºåæ°æ®åºä¸è¬ä¼åãå éãï¼æä»¥åæ°æ®åºï¼éå¸¸æ¯è¦æ¯è¯»æ°æ®åºçæ¶é´æ´é¿çã\n\nè¿ä¹æ¥çï¼ãåæ´æ°æ°æ®åº + åå é¤ç¼å­ãçæ¹æ¡ï¼æ¯å¯ä»¥ä¿è¯æ°æ®ä¸è´æ§çã\n\næä»¥ï¼æä»¬åºè¯¥éç¨è¿ç§æ¹æ¡ï¼æ¥æä½æ°æ®åºåç¼å­ã\n\nå¥½ï¼è§£å³äºå¹¶åé®é¢ï¼æä»¬ç»§ç»­æ¥çåé¢éççï¼ç¬¬äºæ­¥æ§è¡ãå¤±è´¥ãå¯¼è´æ°æ®ä¸ä¸è´çé®é¢ã\n\n\n# å¦ä½ä¿è¯ä¸¤æ­¥é½æ§è¡æåï¼\n\nåé¢æä»¬åæå°ï¼æ è®ºæ¯æ´æ°ç¼å­è¿æ¯å é¤ç¼å­ï¼åªè¦ç¬¬äºæ­¥åçå¤±è´¥ï¼é£ä¹å°±ä¼å¯¼è´æ°æ®åºåç¼å­ä¸ä¸è´ã\n\nä¿è¯ç¬¬äºæ­¥æåæ§è¡ï¼å°±æ¯è§£å³é®é¢çå³é®ã\n\næ³ä¸ä¸ï¼ç¨åºå¨æ§è¡è¿ç¨ä¸­åçå¼å¸¸ï¼æç®åçè§£å³åæ³æ¯ä»ä¹ï¼\n\nç­æ¡æ¯ï¼éè¯ã\n\næ¯çï¼å¶å®è¿éæä»¬ä¹å¯ä»¥è¿æ ·åã\n\næ è®ºæ¯åæä½ç¼å­ï¼è¿æ¯åæä½æ°æ®åºï¼ä½å¡åèæ§è¡å¤±è´¥äºï¼æä»¬å°±å¯ä»¥åèµ·éè¯ï¼å°½å¯è½å°å»åãè¡¥å¿ãã\n\né£è¿æ¯ä¸æ¯æå³çï¼åªè¦æ§è¡å¤±è´¥ï¼æä»¬ãæ èéè¯ãå°±å¯ä»¥äºå¢ï¼\n\nç­æ¡æ¯å¦å®çãç°å®æåµå¾å¾æ²¡ææ³çè¿ä¹ç®åï¼å¤±è´¥åç«å³éè¯çé®é¢å¨äºï¼\n\n * ç«å³éè¯å¾å¤§æ¦çãè¿ä¼å¤±è´¥ã\n * ãéè¯æ¬¡æ°ãè®¾ç½®å¤å°æåçï¼\n * éè¯ä¼ä¸ç´ãå ç¨ãè¿ä¸ªçº¿ç¨èµæºï¼æ æ³æå¡å¶å®å®¢æ·ç«¯è¯·æ±\n\nçå°äºä¹ï¼è½ç¶æä»¬æ³éè¿éè¯çæ¹å¼è§£å³é®é¢ï¼ä½è¿ç§ãåæ­¥ãéè¯çæ¹æ¡ä¾æ§ä¸ä¸¥è°¨ã\n\né£æ´å¥½çæ¹æ¡åºè¯¥æä¹åï¼\n\nç­æ¡æ¯ï¼å¼æ­¥éè¯ãä»ä¹æ¯å¼æ­¥éè¯ï¼\n\nå¶å®å°±æ¯æéè¯è¯·æ±åå°ãæ¶æ¯éåãä¸­ï¼ç¶åç±ä¸é¨çæ¶è´¹èæ¥éè¯ï¼ç´å°æåã\n\næèæ´ç´æ¥çåæ³ï¼ä¸ºäºé¿åç¬¬äºæ­¥æ§è¡å¤±è´¥ï¼æä»¬å¯ä»¥ææä½ç¼å­è¿ä¸æ­¥ï¼ç´æ¥æ¾å°æ¶æ¯éåä¸­ï¼ç±æ¶è´¹èæ¥æä½ç¼å­ã\n\nå°è¿éä½ å¯è½ä¼é®ï¼åæ¶æ¯éåä¹æå¯è½ä¼å¤±è´¥åï¼èä¸ï¼å¼å¥æ¶æ¯éåï¼è¿åå¢å äºæ´å¤çç»´æ¤ææ¬ï¼è¿æ ·åå¼å¾åï¼\n\nè¿ä¸ªé®é¢å¾å¥½ï¼ä½æä»¬æèè¿æ ·ä¸ä¸ªé®é¢ï¼å¦æå¨æ§è¡å¤±è´¥ççº¿ç¨ä¸­ä¸ç´éè¯ï¼è¿æ²¡ç­æ§è¡æåï¼æ­¤æ¶å¦æé¡¹ç®ãéå¯ãäºï¼é£è¿æ¬¡éè¯è¯·æ±ä¹å°±ãä¸¢å¤±ãäºï¼é£è¿æ¡æ°æ®å°±ä¸ç´ä¸ä¸è´äºã\n\næä»¥ï¼è¿éæä»¬å¿é¡»æéè¯æç¬¬äºæ­¥æä½æ¾å°å¦ä¸ä¸ªãæå¡ãä¸­ï¼è¿ä¸ªæå¡ç¨ãæ¶æ¯éåãæä¸ºåéãè¿æ¯å ä¸ºæ¶æ¯éåçç¹æ§ï¼æ­£å¥½ç¬¦åæä»¬çéæ±ï¼\n\n * æ¶æ¯éåä¿è¯å¯é æ§ï¼åå°éåä¸­çæ¶æ¯ï¼æåæ¶è´¹ä¹åä¸ä¼ä¸¢å¤±ï¼éå¯é¡¹ç®ä¹ä¸æå¿ï¼\n * æ¶æ¯éåä¿è¯æ¶æ¯æåæéï¼ä¸æ¸¸ä»éåæåæ¶æ¯ï¼æåæ¶è´¹åæä¼å é¤æ¶æ¯ï¼å¦åè¿ä¼ç»§ç»­æéæ¶æ¯ç»æ¶è´¹èï¼ç¬¦åæä»¬éè¯çåºæ¯ï¼\n\nè³äºåéåå¤±è´¥åæ¶æ¯éåçç»´æ¤ææ¬é®é¢ï¼\n\n * åéåå¤±è´¥ï¼æä½ç¼å­ååæ¶æ¯éåï¼ãåæ¶å¤±è´¥ãçæ¦çå¶å®æ¯å¾å°ç\n * ç»´æ¤ææ¬ï¼æä»¬é¡¹ç®ä¸­ä¸è¬é½ä¼ç¨å°æ¶æ¯éåï¼ç»´æ¤ææ¬å¹¶æ²¡ææ°å¢å¾å¤\n\næä»¥ï¼å¼å¥æ¶æ¯éåæ¥è§£å³è¿ä¸ªé®é¢ï¼æ¯æ¯è¾åéçãè¿æ¶æ¶ææ¨¡åå°±åæäºè¿æ ·ï¼\n\n\n\né£å¦æä½ ç¡®å®ä¸æ³å¨åºç¨ä¸­å»åæ¶æ¯éåï¼æ¯å¦ææ´ç®åçæ¹æ¡ï¼åæ¶åå¯ä»¥ä¿è¯ä¸è´æ§å¢ï¼\n\næ¹æ¡è¿æ¯æçï¼è¿å°±æ¯è¿å å¹´æ¯è¾æµè¡çè§£å³æ¹æ¡ï¼è®¢éæ°æ®åºåæ´æ¥å¿ï¼åæä½ç¼å­ã\n\nå·ä½æ¥è®²å°±æ¯ï¼æä»¬çä¸å¡åºç¨å¨ä¿®æ¹æ°æ®æ¶ï¼ãåªéãä¿®æ¹æ°æ®åºï¼æ éæä½ç¼å­ã\n\né£ä»ä¹æ¶åæä½ç¼å­å¢ï¼è¿å°±åæ°æ®åºçãåæ´æ¥å¿ãæå³äºã\n\næ¿ MySQL ä¸¾ä¾ï¼å½ä¸æ¡æ°æ®åçä¿®æ¹æ¶ï¼MySQL å°±ä¼äº§çä¸æ¡åæ´æ¥å¿ï¼Binlogï¼ï¼æä»¬å¯ä»¥è®¢éè¿ä¸ªæ¥å¿ï¼æ¿å°å·ä½æä½çæ°æ®ï¼ç¶ååæ ¹æ®è¿æ¡æ°æ®ï¼å»å é¤å¯¹åºçç¼å­ã\n\n\n\nè®¢éåæ´æ¥å¿ï¼ç®åä¹æäºæ¯è¾æççå¼æºä¸­é´ä»¶ï¼ä¾å¦é¿éç canalï¼ä½¿ç¨è¿ç§æ¹æ¡çä¼ç¹å¨äºï¼\n\n * æ éèèåæ¶æ¯éåå¤±è´¥æåµï¼åªè¦å MySQL æåï¼Binlog è¯å®ä¼æ\n * èªå¨æéå°ä¸æ¸¸éåï¼canal èªå¨ææ°æ®åºåæ´æ¥å¿ãæéãç»ä¸æ¸¸çæ¶æ¯éå\n\nå½ç¶ï¼ä¸æ­¤åæ¶ï¼æä»¬éè¦æå¥ç²¾åå»ç»´æ¤ canal çé«å¯ç¨åç¨³å®æ§ã\n\n> å¦æä½ æçæè§å¯å¾å¤æ°æ®åºçç¹æ§ï¼å°±ä¼åç°å¶å®å¾å¤æ°æ®åºé½éæ¸å¼å§æä¾ãè®¢éåæ´æ¥å¿ãçåè½äºï¼ç¸ä¿¡ä¸è¿çå°æ¥ï¼æä»¬å°±ä¸ç¨éè¿ä¸­é´ä»¶æ¥æåæ¥å¿ï¼èªå·±åç¨åºå°±å¯ä»¥è®¢éåæ´æ¥å¿äºï¼è¿æ ·å¯ä»¥è¿ä¸æ­¥ç®åæµç¨ã\n\nè³æ­¤ï¼æä»¬å¯ä»¥å¾åºç»è®ºï¼æ³è¦ä¿è¯æ°æ®åºåç¼å­ä¸è´æ§ï¼æ¨èéç¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ï¼å¹¶éåãæ¶æ¯éåãæãè®¢éåæ´æ¥å¿ãçæ¹å¼æ¥åã\n\n\n# ä¸»ä»åºå»¶è¿åå»¶è¿åå é®é¢\n\nå°è¿éï¼è¿æ 2 ä¸ªé®é¢ï¼æ¯æä»¬æ²¡æéç¹åæè¿çã\n\nç¬¬ä¸ä¸ªé®é¢ï¼è¿è®°å¾åé¢è®²å°çãåå é¤ç¼å­ï¼åæ´æ°æ°æ®åºãæ¹æ¡ï¼å¯¼è´ä¸ä¸è´çåºæ¯ä¹ï¼\n\nè¿éæåæä¾å­æ¿è¿æ¥è®©ä½ å¤ä¹ ä¸ä¸ï¼\n\n2 ä¸ªçº¿ç¨è¦å¹¶åãè¯»åãæ°æ®ï¼å¯è½ä¼åçä»¥ä¸åºæ¯ï¼\n\n 1. çº¿ç¨ A è¦æ´æ° X = 2ï¼åå¼ X = 1ï¼\n 2. çº¿ç¨ A åå é¤ç¼å­\n 3. çº¿ç¨ B è¯»ç¼å­ï¼åç°ä¸å­å¨ï¼ä»æ°æ®åºä¸­è¯»åå°æ§å¼ï¼X = 1ï¼\n 4. çº¿ç¨ A å°æ°å¼åå¥æ°æ®åºï¼X = 2ï¼\n 5. çº¿ç¨ B å°æ§å¼åå¥ç¼å­ï¼X = 1ï¼\n\næç» X çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼åçä¸ä¸è´ã\n\nç¬¬äºä¸ªé®é¢ï¼æ¯å³äºãè¯»ååç¦» + ä¸»ä»å¤å¶å»¶è¿ãæåµä¸ï¼ç¼å­åæ°æ®åºä¸è´æ§çé®é¢ã\n\nå¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ä¸ï¼ãè¯»ååç¦» + ä¸»ä»åºå»¶è¿ãå¶å®ä¹ä¼å¯¼è´ä¸ä¸è´ï¼\n\n 1. çº¿ç¨ A æ´æ°ä¸»åº X = 2ï¼åå¼ X = 1ï¼\n 2. çº¿ç¨ A å é¤ç¼å­\n 3. çº¿ç¨ B æ¥è¯¢ç¼å­ï¼æ²¡æå½ä¸­ï¼æ¥è¯¢ãä»åºãå¾å°æ§å¼ï¼ä»åº X = 1ï¼\n 4. ä»åºãåæ­¥ãå®æï¼ä¸»ä»åº X = 2ï¼\n 5. çº¿ç¨ B å°ãæ§å¼ãåå¥ç¼å­ï¼X = 1ï¼\n\næç» X çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨ä¸»ä»åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼ä¹åçä¸ä¸è´ã\n\nçå°äºä¹ï¼è¿ 2 ä¸ªé®é¢çæ ¸å¿å¨äºï¼ç¼å­é½è¢«åç§äºãæ§å¼ãã\n\né£æä¹è§£å³è¿ç±»é®é¢å¢ï¼\n\næææçåæ³å°±æ¯ï¼æç¼å­å æã\n\nä½æ¯ï¼ä¸è½ç«å³å ï¼èæ¯éè¦ãå»¶è¿å ãï¼è¿å°±æ¯ä¸çç»åºçæ¹æ¡ï¼ç¼å­å»¶è¿åå ç­ç¥ã\n\næç§å»¶æ¶åå ç­ç¥ï¼è¿ 2 ä¸ªé®é¢çè§£å³æ¹æ¡æ¯è¿æ ·çï¼\n\nè§£å³ç¬¬ä¸ä¸ªé®é¢ï¼å¨çº¿ç¨ A å é¤ç¼å­ãæ´æ°å®æ°æ®åºä¹åï¼åãä¼ç ä¸ä¼ãï¼åãå é¤ãä¸æ¬¡ç¼å­ã\n\nè§£å³ç¬¬äºä¸ªé®é¢ï¼çº¿ç¨ A å¯ä»¥çæä¸æ¡ãå»¶æ¶æ¶æ¯ãï¼åå°æ¶æ¯éåä¸­ï¼æ¶è´¹èå»¶æ¶ãå é¤ãç¼å­ã\n\nè¿ä¸¤ä¸ªæ¹æ¡çç®çï¼é½æ¯ä¸ºäºæç¼å­æ¸æï¼è¿æ ·ä¸æ¥ï¼ä¸æ¬¡å°±å¯ä»¥ä»æ°æ®åºè¯»åå°ææ°å¼ï¼åå¥ç¼å­ã\n\nä½é®é¢æ¥äºï¼è¿ä¸ªãå»¶è¿å é¤ãç¼å­ï¼å»¶è¿æ¶é´å°åºè®¾ç½®è¦å¤ä¹å¢ï¼\n\n * é®é¢1ï¼å»¶è¿æ¶é´è¦å¤§äºãä¸»ä»å¤å¶ãçå»¶è¿æ¶é´\n * é®é¢2ï¼å»¶è¿æ¶é´è¦å¤§äºçº¿ç¨ B è¯»åæ°æ®åº + åå¥ç¼å­çæ¶é´\n\nä½æ¯ï¼è¿ä¸ªæ¶é´å¨åå¸å¼åé«å¹¶ååºæ¯ä¸ï¼å¶å®æ¯å¾é¾è¯ä¼°ç**ã**\n\nå¾å¤æ¶åï¼æä»¬é½æ¯å­åç»éªå¤§è´ä¼°ç®è¿ä¸ªå»¶è¿æ¶é´ï¼ä¾å¦å»¶è¿ 1-5sï¼åªè½å°½å¯è½å°éä½ä¸ä¸è´çæ¦çã\n\næä»¥ä½ çï¼éç¨è¿ç§æ¹æ¡ï¼ä¹åªæ¯å°½å¯è½ä¿è¯ä¸è´æ§èå·²ï¼æç«¯æåµä¸ï¼è¿æ¯æå¯è½åçä¸ä¸è´ã\n\næä»¥å®éä½¿ç¨ä¸­ï¼æè¿æ¯å»ºè®®ä½ éç¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãçæ¹æ¡ï¼åæ¶ï¼è¦å°½å¯è½å°ä¿è¯ãä¸»ä»å¤å¶ãä¸è¦æå¤ªå¤§å»¶è¿ï¼éä½åºé®é¢çæ¦çã\n\n\n# å¯ä»¥åå°å¼ºä¸è´åï¼\n\nçå°è¿éä½ å¯è½ä¼æ³ï¼è¿äºæ¹æ¡è¿æ¯ä¸å¤å®ç¾ï¼æå°±æ³è®©ç¼å­åæ°æ®åºãå¼ºä¸è´ãï¼å°åºè½ä¸è½åå°å¢ï¼\n\nå¶å®å¾é¾ã\n\nè¦æ³åå°å¼ºä¸è´ï¼æå¸¸è§çæ¹æ¡æ¯ 2PCã3PCãPaxosãRaft è¿ç±»ä¸è´æ§åè®®ï¼ä½å®ä»¬çæ§è½å¾å¾æ¯è¾å·®ï¼èä¸è¿äºæ¹æ¡ä¹æ¯è¾å¤æï¼è¿è¦èèåç§å®¹éé®é¢ã\n\nç¸åï¼è¿æ¶æä»¬æ¢ä¸ªè§åº¦æèä¸ä¸ï¼æä»¬å¼å¥ç¼å­çç®çæ¯ä»ä¹ï¼\n\næ²¡éï¼æ§è½ã\n\nä¸æ¦æä»¬å³å®ä½¿ç¨ç¼å­ï¼é£å¿ç¶è¦é¢ä¸´ä¸è´æ§é®é¢ãæ§è½åä¸è´æ§å°±åå¤©å¹³çä¸¤ç«¯ï¼æ æ³åå°é½æ»¡è¶³è¦æ±ã\n\nèä¸ï¼å°±æ¿æä»¬åé¢è®²å°çæ¹æ¡æ¥è¯´ï¼å½æä½æ°æ®åºåç¼å­å®æä¹åï¼åªè¦æå¶å®è¯·æ±å¯ä»¥è¿æ¥ï¼é½æå¯è½æ¥å°ãä¸­é´ç¶æãçæ°æ®ã\n\næä»¥å¦æéè¦è¿½æ±å¼ºä¸è´ï¼é£å¿é¡»è¦æ±æææ´æ°æä½å®æä¹åæé´ï¼ä¸è½æãä»»ä½è¯·æ±ãè¿æ¥ã\n\nè½ç¶æä»¬å¯ä»¥éè¿å ãåå¸éãçæ¹å¼æ¥å®ç°ï¼ä½æä»¬è¦ä»åºçä»£ä»·ï¼å¾å¯è½ä¼è¶è¿å¼å¥ç¼å­å¸¦æ¥çæ§è½æåã\n\næä»¥ï¼æ¢ç¶å³å®ä½¿ç¨ç¼å­ï¼å°±å¿é¡»å®¹å¿ãä¸è´æ§ãé®é¢ï¼æä»¬åªè½å°½å¯è½å°å»éä½é®é¢åºç°çæ¦çã\n\nåæ¶æä»¬ä¹è¦ç¥éï¼ç¼å­é½æ¯æãå¤±ææ¶é´ãçï¼å°±ç®å¨è¿æé´å­å¨ç­æä¸ä¸è´ï¼æä»¬ä¾æ§æå¤±ææ¶é´æ¥ååºï¼è¿æ ·ä¹è½è¾¾å°æç»ä¸è´ã\n\n\n# æ»ç»\n\nå¥½äºï¼æ»ç»ä¸ä¸è¿ç¯æç« çéç¹ã\n\n1ãæ³è¦æé«åºç¨çæ§è½ï¼å¯ä»¥å¼å¥ãç¼å­ãæ¥è§£å³\n\n2ãå¼å¥ç¼å­åï¼éè¦èèç¼å­åæ°æ®åºä¸è´æ§é®é¢ï¼å¯éçæ¹æ¡æï¼ãæ´æ°æ°æ®åº + æ´æ°ç¼å­ãããæ´æ°æ°æ®åº + å é¤ç¼å­ã\n\n3ãæ´æ°æ°æ®åº + æ´æ°ç¼å­æ¹æ¡ï¼å¨ãå¹¶åãåºæ¯ä¸æ æ³ä¿è¯ç¼å­åæ°æ®ä¸è´æ§ï¼ä¸å­å¨ãç¼å­èµæºæµªè´¹ãåãæºå¨æ§è½æµªè´¹ãçæåµåç\n\n4ãå¨æ´æ°æ°æ®åº + å é¤ç¼å­çæ¹æ¡ä¸­ï¼ãåå é¤ç¼å­ï¼åæ´æ°æ°æ®åºãå¨ãå¹¶åãåºæ¯ä¸ä¾æ§ææ°æ®ä¸ä¸è´é®é¢ï¼è§£å³æ¹æ¡æ¯ãå»¶è¿åå ãï¼ä½è¿ä¸ªå»¶è¿æ¶é´å¾é¾è¯ä¼°ï¼æä»¥æ¨èç¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãçæ¹æ¡\n\n5ãå¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ä¸ï¼ä¸ºäºä¿è¯ä¸¤æ­¥é½æåæ§è¡ï¼ééåãæ¶æ¯éåãæãè®¢éåæ´æ¥å¿ãçæ¹æ¡æ¥åï¼æ¬è´¨æ¯éè¿ãéè¯ãçæ¹å¼ä¿è¯æ°æ®ä¸è´æ§\n\n6ãå¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ä¸ï¼ãè¯»ååç¦» + ä¸»ä»åºå»¶è¿ãä¹ä¼å¯¼è´ç¼å­åæ°æ®åºä¸ä¸è´ï¼ç¼è§£æ­¤é®é¢çæ¹æ¡æ¯ãå»¶è¿åå ãï¼å­åç»éªåéãå»¶è¿æ¶æ¯ãå°éåä¸­ï¼å»¶è¿å é¤ç¼å­ï¼åæ¶ä¹è¦æ§å¶ä¸»ä»åºå»¶è¿ï¼å°½å¯è½éä½ä¸ä¸è´åççæ¦ç\n\n\n# åè®°\n\næ¬ä»¥ä¸ºè¿ä¸ªèçå¸¸è°çè¯é¢ï¼åèµ·æ¥å¾å¥½åï¼æ²¡æ³å°å¨åçè¿ç¨ä¸­ï¼è¿æ¯æå°äºå¾å¤ä¹åæ²¡ææ·±åº¦æèè¿çç»èã\n\nå¨è¿éæä¹åäº« 4 ç¹å¿å¾ç»ä½ ï¼\n\n1ãæ§è½åä¸è´æ§ä¸è½åæ¶æ»¡è¶³ï¼ä¸ºäºæ§è½èèï¼éå¸¸ä¼éç¨ãæç»ä¸è´æ§ãçæ¹æ¡\n\n2ãææ¡ç¼å­åæ°æ®åºä¸è´æ§é®é¢ï¼æ ¸å¿é®é¢æ 3 ç¹ï¼ç¼å­å©ç¨çãå¹¶åãç¼å­ + æ°æ®åºä¸èµ·æåé®é¢\n\n3ãå¤±è´¥åºæ¯ä¸è¦ä¿è¯ä¸è´æ§ï¼å¸¸è§ææ®µå°±æ¯ãéè¯ãï¼åæ­¥éè¯ä¼å½±åååéï¼æä»¥éå¸¸ä¼éç¨å¼æ­¥éè¯çæ¹æ¡\n\n4ãè®¢éåæ´æ¥å¿çææ³ï¼æ¬è´¨æ¯ææå¨æ°æ®æºï¼ä¾å¦ MySQLï¼å½å leader å¯æ¬ï¼è®©å¶å®å¼è´¨ç³»ç»ï¼ä¾å¦ Redis / Elasticsearchï¼æä¸ºå®ç follower å¯æ¬ï¼éè¿åæ­¥åæ´æ¥å¿çæ¹å¼ï¼ä¿è¯ leader å follower ä¹é´ä¿æä¸è´\n\n\n# åè\n\nç¼å­åæ°æ®åºä¸è´æ§é®é¢ï¼çè¿ç¯å°±å¤äº",normalizedContent:"å¦ä½ä¿è¯ç¼å­åæ°æ®åºä¸è´æ§ï¼è¿æ¯ä¸ä¸ªèçå¸¸è°çè¯é¢äºã\n\nä½å¾å¤äººå¯¹è¿ä¸ªé®é¢ï¼ä¾æ§æå¾å¤çæï¼\n\n * å°åºæ¯æ´æ°ç¼å­è¿æ¯å ç¼å­ï¼\n * å°åºéæ©åæ´æ°æ°æ®åºï¼åå é¤ç¼å­ï¼è¿æ¯åå é¤ç¼å­ï¼åæ´æ°æ°æ®åºï¼\n * ä¸ºä»ä¹è¦å¼å¥æ¶æ¯éåä¿è¯ä¸è´æ§ï¼\n * å»¶è¿åå ä¼æä»ä¹é®é¢ï¼å°åºè¦ä¸è¦ç¨ï¼\n * ...\n\nè¿ç¯æç« ï¼æä»¬å°±æ¥æè¿äºé®é¢è®²æ¸æ¥ã\n\nè¿ç¯æç« å¹²è´§å¾å¤ï¼å¸æä½ å¯ä»¥èå¿è¯»å®ã\n\n\n\n\n# å¼å¥ç¼å­æé«æ§è½\n\næä»¬ä»æç®åçåºæ¯å¼å§è®²èµ·ã\n\nå¦æä½ çä¸å¡å¤äºèµ·æ­¥é¶æ®µï¼æµééå¸¸å°ï¼é£æ è®ºæ¯è¯»è¯·æ±è¿æ¯åè¯·æ±ï¼ç´æ¥æä½æ°æ®åºå³å¯ï¼è¿æ¶ä½ çæ¶ææ¨¡åæ¯è¿æ ·çï¼\n\n\n\nä½éçä¸å¡éçå¢é¿ï¼ä½ çé¡¹ç®è¯·æ±éè¶æ¥è¶å¤§ï¼è¿æ¶å¦ææ¯æ¬¡é½ä»æ°æ®åºä¸­è¯»æ°æ®ï¼é£è¯å®ä¼ææ§è½é®é¢ã\n\nè¿ä¸ªé¶æ®µéå¸¸çåæ³æ¯ï¼å¼å¥ãç¼å­ãæ¥æé«è¯»æ§è½ï¼æ¶ææ¨¡åå°±åæäºè¿æ ·ï¼\n\n\n\nå½ä¸ä¼ç§çç¼å­ä¸­é´ä»¶ï¼å½å± redis è«å±ï¼å®ä¸ä»æ§è½éå¸¸é«ï¼è¿æä¾äºå¾å¤åå¥½çæ°æ®ç±»åï¼å¯ä»¥å¾å¥½å°æ»¡è¶³æä»¬çä¸å¡éæ±ã\n\nä½å¼å¥ç¼å­ä¹åï¼ä½ å°±ä¼é¢ä¸´ä¸ä¸ªé®é¢ï¼ä¹åæ°æ®åªå­å¨æ°æ®åºä¸­ï¼ç°å¨è¦æ¾å°ç¼å­ä¸­è¯»åï¼å·ä½è¦æä¹å­å¢ï¼\n\næç®åç´æ¥çæ¹æ¡æ¯ãå¨éæ°æ®å·å°ç¼å­ä¸­ãï¼\n\n * æ°æ®åºçæ°æ®ï¼å¨éå·å¥ç¼å­ï¼ä¸è®¾ç½®å¤±ææ¶é´ï¼\n * åè¯·æ±åªæ´æ°æ°æ®åºï¼ä¸æ´æ°ç¼å­\n * å¯å¨ä¸ä¸ªå®æ¶ä»»å¡ï¼å®æ¶ææ°æ®åºçæ°æ®ï¼æ´æ°å°ç¼å­ä¸­\n\n\n\nè¿ä¸ªæ¹æ¡çä¼ç¹æ¯ï¼ææè¯»è¯·æ±é½å¯ä»¥ç´æ¥ãå½ä¸­ãç¼å­ï¼ä¸éè¦åæ¥æ°æ®åºï¼æ§è½éå¸¸é«ã\n\nä½ç¼ºç¹ä¹å¾ææ¾ï¼æ 2 ä¸ªé®é¢ï¼\n\n 1. ç¼å­å©ç¨çä½ï¼ä¸ç»å¸¸è®¿é®çæ°æ®ï¼è¿ä¸ç´çå¨ç¼å­ä¸­\n 2. æ°æ®ä¸ä¸è´ï¼å ä¸ºæ¯ãå®æ¶ãå·æ°ç¼å­ï¼ç¼å­åæ°æ®åºå­å¨ä¸ä¸è´ï¼åå³äºå®æ¶ä»»å¡çæ§è¡é¢çï¼\n\næä»¥ï¼è¿ç§æ¹æ¡ä¸è¬æ´éåä¸å¡ãä½éå°ãï¼ä¸å¯¹æ°æ®ä¸è´æ§è¦æ±ä¸é«çä¸å¡åºæ¯ã\n\né£å¦ææä»¬çä¸å¡ä½éå¾å¤§ï¼æä¹è§£å³è¿ 2 ä¸ªé®é¢å¢ï¼\n\n\n# ç¼å­å©ç¨çåä¸è´æ§é®é¢\n\nåæ¥çç¬¬ä¸ä¸ªé®é¢ï¼å¦ä½æé«ç¼å­å©ç¨çï¼\n\næ³è¦ç¼å­å©ç¨çãæå¤§åãï¼æä»¬å¾å®¹ææ³å°çæ¹æ¡æ¯ï¼ç¼å­ä¸­åªä¿çæè¿è®¿é®çãç­æ°æ®ããä½å·ä½è¦æä¹åå¢ï¼\n\næä»¬å¯ä»¥è¿æ ·ä¼åï¼\n\n * åè¯·æ±ä¾æ§åªåæ°æ®åº\n * è¯»è¯·æ±åè¯»ç¼å­ï¼å¦æç¼å­ä¸å­å¨ï¼åä»æ°æ®åºè¯»åï¼å¹¶éå»ºç¼å­\n * åæ¶ï¼åå¥ç¼å­ä¸­çæ°æ®ï¼é½è®¾ç½®å¤±ææ¶é´\n\n\n\nè¿æ ·ä¸æ¥ï¼ç¼å­ä¸­ä¸ç»å¸¸è®¿é®çæ°æ®ï¼éçæ¶é´çæ¨ç§»ï¼é½ä¼éæ¸ãè¿æãæ·æ±°æï¼æç»ç¼å­ä¸­ä¿ççï¼é½æ¯ç»å¸¸è¢«è®¿é®çãç­æ°æ®ãï¼ç¼å­å©ç¨çå¾ä»¥æå¤§åã\n\nåæ¥çæ°æ®ä¸è´æ§é®é¢ã\n\nè¦æ³ä¿è¯ç¼å­åæ°æ®åºãå®æ¶ãä¸è´ï¼é£å°±ä¸è½åç¨å®æ¶ä»»å¡å·æ°ç¼å­äºã\n\næä»¥ï¼å½æ°æ®åçæ´æ°æ¶ï¼æä»¬ä¸ä»è¦æä½æ°æ®åºï¼è¿è¦ä¸å¹¶æä½ç¼å­ãå·ä½æä½å°±æ¯ï¼ä¿®æ¹ä¸æ¡æ°æ®æ¶ï¼ä¸ä»è¦æ´æ°æ°æ®åºï¼ä¹è¦è¿å¸¦ç¼å­ä¸èµ·æ´æ°ã\n\nä½æ°æ®åºåç¼å­é½æ´æ°ï¼åå­å¨ååé®é¢ï¼é£å¯¹åºçæ¹æ¡å°±æ 2 ä¸ªï¼\n\n 1. åæ´æ°ç¼å­ï¼åæ´æ°æ°æ®åº\n 2. åæ´æ°æ°æ®åºï¼åæ´æ°ç¼å­\n\nåªä¸ªæ¹æ¡æ´å¥½å¢ï¼\n\nåä¸èèå¹¶åé®é¢ï¼æ­£å¸¸æåµä¸ï¼æ è®ºè°åè°åï¼é½å¯ä»¥è®©ä¸¤èä¿æä¸è´ï¼ä½ç°å¨æä»¬éè¦éç¹èèãå¼å¸¸ãæåµã\n\nå ä¸ºæä½åä¸ºä¸¤æ­¥ï¼é£ä¹å°±å¾æå¯è½å­å¨ãç¬¬ä¸æ­¥æåãç¬¬äºæ­¥å¤±è´¥ãçæåµåçã\n\nè¿ 2 ç§æ¹æ¡æä»¬ä¸ä¸ªä¸ªæ¥åæã\n\n1) åæ´æ°ç¼å­ï¼åæ´æ°æ°æ®åº\n\nå¦æç¼å­æ´æ°æåäºï¼ä½æ°æ®åºæ´æ°å¤±è´¥ï¼é£ä¹æ­¤æ¶ç¼å­ä¸­æ¯ææ°å¼ï¼ä½æ°æ®åºä¸­æ¯ãæ§å¼ãã\n\nè½ç¶æ­¤æ¶è¯»è¯·æ±å¯ä»¥å½ä¸­ç¼å­ï¼æ¿å°æ­£ç¡®çå¼ï¼ä½æ¯ï¼ä¸æ¦ç¼å­ãå¤±æãï¼å°±ä¼ä»æ°æ®åºä¸­è¯»åå°ãæ§å¼ãï¼éå»ºç¼å­ä¹æ¯è¿ä¸ªæ§å¼ã\n\nè¿æ¶ç¨æ·ä¼åç°èªå·±ä¹åä¿®æ¹çæ°æ®åãååå»ãäºï¼å¯¹ä¸å¡é æå½±åã\n\n2) åæ´æ°æ°æ®åºï¼åæ´æ°ç¼å­\n\nå¦ææ°æ®åºæ´æ°æåäºï¼ä½ç¼å­æ´æ°å¤±è´¥ï¼é£ä¹æ­¤æ¶æ°æ®åºä¸­æ¯ææ°å¼ï¼ç¼å­ä¸­æ¯ãæ§å¼ãã\n\nä¹åçè¯»è¯·æ±è¯»å°çé½æ¯æ§æ°æ®ï¼åªæå½ç¼å­ãå¤±æãåï¼æè½ä»æ°æ®åºä¸­å¾å°æ­£ç¡®çå¼ã\n\nè¿æ¶ç¨æ·ä¼åç°ï¼èªå·±ååä¿®æ¹äºæ°æ®ï¼ä½å´çä¸å°åæ´ï¼ä¸æ®µæ¶é´è¿åï¼æ°æ®æåæ´è¿æ¥ï¼å¯¹ä¸å¡ä¹ä¼æå½±åã\n\nå¯è§ï¼æ è®ºè°åè°åï¼ä½å¡åèåçå¼å¸¸ï¼å°±ä¼å¯¹ä¸å¡é æå½±åãé£æä¹è§£å³è¿ä¸ªé®é¢å¢ï¼\n\nå«æ¥ï¼åé¢æä¼è¯¦ç»ç»åºå¯¹åºçè§£å³æ¹æ¡ã\n\næä»¬ç»§ç»­åæï¼é¤äºæä½å¤±è´¥é®é¢ï¼è¿æä»ä¹åºæ¯ä¼å½±åæ°æ®ä¸è´æ§ï¼\n\nè¿éæä»¬è¿éè¦éç¹å³æ³¨ï¼å¹¶åé®é¢ã\n\n\n# å¹¶åå¼åçä¸è´æ§é®é¢\n\nåè®¾æä»¬éç¨ãåæ´æ°æ°æ®åºï¼åæ´æ°ç¼å­ãçæ¹æ¡ï¼å¹¶ä¸ä¸¤æ­¥é½å¯ä»¥ãæåæ§è¡ãçåæä¸ï¼å¦æå­å¨å¹¶åï¼æåµä¼æ¯ææ ·çå¢ï¼\n\næçº¿ç¨ a åçº¿ç¨ b ä¸¤ä¸ªçº¿ç¨ï¼éè¦æ´æ°ãåä¸æ¡ãæ°æ®ï¼ä¼åçè¿æ ·çåºæ¯ï¼\n\n 1. çº¿ç¨ a æ´æ°æ°æ®åºï¼x = 1ï¼\n 2. çº¿ç¨ b æ´æ°æ°æ®åºï¼x = 2ï¼\n 3. çº¿ç¨ b æ´æ°ç¼å­ï¼x = 2ï¼\n 4. çº¿ç¨ a æ´æ°ç¼å­ï¼x = 1ï¼\n\næç» x çå¼å¨ç¼å­ä¸­æ¯ 1ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼åçä¸ä¸è´ã\n\nä¹å°±æ¯è¯´ï¼a è½ç¶åäº b åçï¼ä½ b æä½æ°æ®åºåç¼å­çæ¶é´ï¼å´è¦æ¯ a çæ¶é´ç­ï¼æ§è¡æ¶åºåçãéä¹±ãï¼æç»è¿æ¡æ°æ®ç»ææ¯ä¸ç¬¦åé¢æçã\n\n> åæ ·å°ï¼éç¨ãåæ´æ°ç¼å­ï¼åæ´æ°æ°æ®åºãçæ¹æ¡ï¼ä¹ä¼æç±»ä¼¼é®é¢ï¼è¿éä¸åè¯¦è¿°ã\n\né¤æ­¤ä¹å¤ï¼æä»¬ä»ãç¼å­å©ç¨çãçè§åº¦æ¥è¯ä¼°è¿ä¸ªæ¹æ¡ï¼ä¹æ¯ä¸å¤ªæ¨èçã\n\nè¿æ¯å ä¸ºæ¯æ¬¡æ°æ®åçåæ´ï¼é½ãæ èãæ´æ°ç¼å­ï¼ä½æ¯ç¼å­ä¸­çæ°æ®ä¸ä¸å®ä¼è¢«ãé©¬ä¸è¯»åãï¼è¿å°±ä¼å¯¼è´ç¼å­ä¸­å¯è½å­æ¾äºå¾å¤ä¸å¸¸è®¿é®çæ°æ®ï¼æµªè´¹ç¼å­èµæºã\n\nèä¸å¾å¤æåµä¸ï¼åå°ç¼å­ä¸­çå¼ï¼å¹¶ä¸æ¯ä¸æ°æ®åºä¸­çå¼ä¸ä¸å¯¹åºçï¼å¾æå¯è½æ¯åæ¥è¯¢æ°æ®åºï¼åç»è¿ä¸ç³»åãè®¡ç®ãå¾åºä¸ä¸ªå¼ï¼ææè¿ä¸ªå¼æåå°ç¼å­ä¸­ã\n\nç±æ­¤å¯è§ï¼è¿ç§ãæ´æ°æ°æ®åº + æ´æ°ç¼å­ãçæ¹æ¡ï¼ä¸ä»ç¼å­å©ç¨çä¸é«ï¼è¿ä¼é ææºå¨æ§è½çæµªè´¹ã\n\næä»¥æ­¤æ¶æä»¬éè¦èèå¦å¤ä¸ç§æ¹æ¡ï¼å é¤ç¼å­ã\n\n\n# å é¤ç¼å­å¯ä»¥ä¿è¯ä¸è´æ§åï¼\n\nå é¤ç¼å­å¯¹åºçæ¹æ¡ä¹æ 2 ç§ï¼\n\n 1. åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº\n 2. åæ´æ°æ°æ®åºï¼åå é¤ç¼å­\n\nç»è¿åé¢çåææä»¬å·²ç»å¾ç¥ï¼ä½å¡ãç¬¬äºæ­¥ãæä½å¤±è´¥ï¼é½ä¼å¯¼è´æ°æ®ä¸ä¸è´ã\n\nè¿éæä¸åè¯¦è¿°å·ä½åºæ¯ï¼ä½ å¯ä»¥æç§åé¢çæè·¯æ¨æ¼ä¸ä¸ï¼å°±å¯ä»¥çå°ä¾æ§å­å¨æ°æ®ä¸ä¸è´çæåµã\n\nè¿éæä»¬éç¹æ¥çãå¹¶åãé®é¢ã\n\n1) åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº\n\nå¦ææ 2 ä¸ªçº¿ç¨è¦å¹¶åãè¯»åãæ°æ®ï¼å¯è½ä¼åçä»¥ä¸åºæ¯ï¼\n\n 1. çº¿ç¨ a è¦æ´æ° x = 2ï¼åå¼ x = 1ï¼\n 2. çº¿ç¨ a åå é¤ç¼å­\n 3. çº¿ç¨ b è¯»ç¼å­ï¼åç°ä¸å­å¨ï¼ä»æ°æ®åºä¸­è¯»åå°æ§å¼ï¼x = 1ï¼\n 4. çº¿ç¨ a å°æ°å¼åå¥æ°æ®åºï¼x = 2ï¼\n 5. çº¿ç¨ b å°æ§å¼åå¥ç¼å­ï¼x = 1ï¼\n\næç» x çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼åçä¸ä¸è´ã\n\nå¯è§ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åºï¼å½åçãè¯»+åãå¹¶åæ¶ï¼è¿æ¯å­å¨æ°æ®ä¸ä¸è´çæåµã\n\n2) åæ´æ°æ°æ®åºï¼åå é¤ç¼å­\n\nä¾æ§æ¯ 2 ä¸ªçº¿ç¨å¹¶åãè¯»åãæ°æ®ï¼\n\n 1. ç¼å­ä¸­ x ä¸å­å¨ï¼æ°æ®åº x = 1ï¼\n 2. çº¿ç¨ a è¯»åæ°æ®åºï¼å¾å°æ§å¼ï¼x = 1ï¼\n 3. çº¿ç¨ b æ´æ°æ°æ®åºï¼x = 2)\n 4. çº¿ç¨ b å é¤ç¼å­\n 5. çº¿ç¨ a å°æ§å¼åå¥ç¼å­ï¼x = 1ï¼\n\næç» x çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼ä¹åçä¸ä¸è´ã\n\nè¿ç§æåµãçè®ºãæ¥è¯´æ¯å¯è½åççï¼ä½å®éççæå¯è½åçåï¼\n\nå¶å®æ¦çãå¾ä½ãï¼è¿æ¯å ä¸ºå®å¿é¡»æ»¡è¶³ 3 ä¸ªæ¡ä»¶ï¼\n\n 1. ç¼å­åå¥½å·²å¤±æ\n 2. è¯»è¯·æ± + åè¯·æ±å¹¶å\n 3. æ´æ°æ°æ®åº + å é¤ç¼å­çæ¶é´ï¼æ­¥éª¤ 3-4ï¼ï¼è¦æ¯è¯»æ°æ®åº + åç¼å­æ¶é´ç­ï¼æ­¥éª¤ 2 å 5ï¼\n\nä»ç»æ³ä¸ä¸ï¼æ¡ä»¶ 3 åççæ¦çå¶å®æ¯éå¸¸ä½çã\n\nå ä¸ºåæ°æ®åºä¸è¬ä¼åãå éãï¼æä»¥åæ°æ®åºï¼éå¸¸æ¯è¦æ¯è¯»æ°æ®åºçæ¶é´æ´é¿çã\n\nè¿ä¹æ¥çï¼ãåæ´æ°æ°æ®åº + åå é¤ç¼å­ãçæ¹æ¡ï¼æ¯å¯ä»¥ä¿è¯æ°æ®ä¸è´æ§çã\n\næä»¥ï¼æä»¬åºè¯¥éç¨è¿ç§æ¹æ¡ï¼æ¥æä½æ°æ®åºåç¼å­ã\n\nå¥½ï¼è§£å³äºå¹¶åé®é¢ï¼æä»¬ç»§ç»­æ¥çåé¢éççï¼ç¬¬äºæ­¥æ§è¡ãå¤±è´¥ãå¯¼è´æ°æ®ä¸ä¸è´çé®é¢ã\n\n\n# å¦ä½ä¿è¯ä¸¤æ­¥é½æ§è¡æåï¼\n\nåé¢æä»¬åæå°ï¼æ è®ºæ¯æ´æ°ç¼å­è¿æ¯å é¤ç¼å­ï¼åªè¦ç¬¬äºæ­¥åçå¤±è´¥ï¼é£ä¹å°±ä¼å¯¼è´æ°æ®åºåç¼å­ä¸ä¸è´ã\n\nä¿è¯ç¬¬äºæ­¥æåæ§è¡ï¼å°±æ¯è§£å³é®é¢çå³é®ã\n\næ³ä¸ä¸ï¼ç¨åºå¨æ§è¡è¿ç¨ä¸­åçå¼å¸¸ï¼æç®åçè§£å³åæ³æ¯ä»ä¹ï¼\n\nç­æ¡æ¯ï¼éè¯ã\n\næ¯çï¼å¶å®è¿éæä»¬ä¹å¯ä»¥è¿æ ·åã\n\næ è®ºæ¯åæä½ç¼å­ï¼è¿æ¯åæä½æ°æ®åºï¼ä½å¡åèæ§è¡å¤±è´¥äºï¼æä»¬å°±å¯ä»¥åèµ·éè¯ï¼å°½å¯è½å°å»åãè¡¥å¿ãã\n\né£è¿æ¯ä¸æ¯æå³çï¼åªè¦æ§è¡å¤±è´¥ï¼æä»¬ãæ èéè¯ãå°±å¯ä»¥äºå¢ï¼\n\nç­æ¡æ¯å¦å®çãç°å®æåµå¾å¾æ²¡ææ³çè¿ä¹ç®åï¼å¤±è´¥åç«å³éè¯çé®é¢å¨äºï¼\n\n * ç«å³éè¯å¾å¤§æ¦çãè¿ä¼å¤±è´¥ã\n * ãéè¯æ¬¡æ°ãè®¾ç½®å¤å°æåçï¼\n * éè¯ä¼ä¸ç´ãå ç¨ãè¿ä¸ªçº¿ç¨èµæºï¼æ æ³æå¡å¶å®å®¢æ·ç«¯è¯·æ±\n\nçå°äºä¹ï¼è½ç¶æä»¬æ³éè¿éè¯çæ¹å¼è§£å³é®é¢ï¼ä½è¿ç§ãåæ­¥ãéè¯çæ¹æ¡ä¾æ§ä¸ä¸¥è°¨ã\n\né£æ´å¥½çæ¹æ¡åºè¯¥æä¹åï¼\n\nç­æ¡æ¯ï¼å¼æ­¥éè¯ãä»ä¹æ¯å¼æ­¥éè¯ï¼\n\nå¶å®å°±æ¯æéè¯è¯·æ±åå°ãæ¶æ¯éåãä¸­ï¼ç¶åç±ä¸é¨çæ¶è´¹èæ¥éè¯ï¼ç´å°æåã\n\næèæ´ç´æ¥çåæ³ï¼ä¸ºäºé¿åç¬¬äºæ­¥æ§è¡å¤±è´¥ï¼æä»¬å¯ä»¥ææä½ç¼å­è¿ä¸æ­¥ï¼ç´æ¥æ¾å°æ¶æ¯éåä¸­ï¼ç±æ¶è´¹èæ¥æä½ç¼å­ã\n\nå°è¿éä½ å¯è½ä¼é®ï¼åæ¶æ¯éåä¹æå¯è½ä¼å¤±è´¥åï¼èä¸ï¼å¼å¥æ¶æ¯éåï¼è¿åå¢å äºæ´å¤çç»´æ¤ææ¬ï¼è¿æ ·åå¼å¾åï¼\n\nè¿ä¸ªé®é¢å¾å¥½ï¼ä½æä»¬æèè¿æ ·ä¸ä¸ªé®é¢ï¼å¦æå¨æ§è¡å¤±è´¥ççº¿ç¨ä¸­ä¸ç´éè¯ï¼è¿æ²¡ç­æ§è¡æåï¼æ­¤æ¶å¦æé¡¹ç®ãéå¯ãäºï¼é£è¿æ¬¡éè¯è¯·æ±ä¹å°±ãä¸¢å¤±ãäºï¼é£è¿æ¡æ°æ®å°±ä¸ç´ä¸ä¸è´äºã\n\næä»¥ï¼è¿éæä»¬å¿é¡»æéè¯æç¬¬äºæ­¥æä½æ¾å°å¦ä¸ä¸ªãæå¡ãä¸­ï¼è¿ä¸ªæå¡ç¨ãæ¶æ¯éåãæä¸ºåéãè¿æ¯å ä¸ºæ¶æ¯éåçç¹æ§ï¼æ­£å¥½ç¬¦åæä»¬çéæ±ï¼\n\n * æ¶æ¯éåä¿è¯å¯é æ§ï¼åå°éåä¸­çæ¶æ¯ï¼æåæ¶è´¹ä¹åä¸ä¼ä¸¢å¤±ï¼éå¯é¡¹ç®ä¹ä¸æå¿ï¼\n * æ¶æ¯éåä¿è¯æ¶æ¯æåæéï¼ä¸æ¸¸ä»éåæåæ¶æ¯ï¼æåæ¶è´¹åæä¼å é¤æ¶æ¯ï¼å¦åè¿ä¼ç»§ç»­æéæ¶æ¯ç»æ¶è´¹èï¼ç¬¦åæä»¬éè¯çåºæ¯ï¼\n\nè³äºåéåå¤±è´¥åæ¶æ¯éåçç»´æ¤ææ¬é®é¢ï¼\n\n * åéåå¤±è´¥ï¼æä½ç¼å­ååæ¶æ¯éåï¼ãåæ¶å¤±è´¥ãçæ¦çå¶å®æ¯å¾å°ç\n * ç»´æ¤ææ¬ï¼æä»¬é¡¹ç®ä¸­ä¸è¬é½ä¼ç¨å°æ¶æ¯éåï¼ç»´æ¤ææ¬å¹¶æ²¡ææ°å¢å¾å¤\n\næä»¥ï¼å¼å¥æ¶æ¯éåæ¥è§£å³è¿ä¸ªé®é¢ï¼æ¯æ¯è¾åéçãè¿æ¶æ¶ææ¨¡åå°±åæäºè¿æ ·ï¼\n\n\n\né£å¦æä½ ç¡®å®ä¸æ³å¨åºç¨ä¸­å»åæ¶æ¯éåï¼æ¯å¦ææ´ç®åçæ¹æ¡ï¼åæ¶åå¯ä»¥ä¿è¯ä¸è´æ§å¢ï¼\n\næ¹æ¡è¿æ¯æçï¼è¿å°±æ¯è¿å å¹´æ¯è¾æµè¡çè§£å³æ¹æ¡ï¼è®¢éæ°æ®åºåæ´æ¥å¿ï¼åæä½ç¼å­ã\n\nå·ä½æ¥è®²å°±æ¯ï¼æä»¬çä¸å¡åºç¨å¨ä¿®æ¹æ°æ®æ¶ï¼ãåªéãä¿®æ¹æ°æ®åºï¼æ éæä½ç¼å­ã\n\né£ä»ä¹æ¶åæä½ç¼å­å¢ï¼è¿å°±åæ°æ®åºçãåæ´æ¥å¿ãæå³äºã\n\næ¿ mysql ä¸¾ä¾ï¼å½ä¸æ¡æ°æ®åçä¿®æ¹æ¶ï¼mysql å°±ä¼äº§çä¸æ¡åæ´æ¥å¿ï¼binlogï¼ï¼æä»¬å¯ä»¥è®¢éè¿ä¸ªæ¥å¿ï¼æ¿å°å·ä½æä½çæ°æ®ï¼ç¶ååæ ¹æ®è¿æ¡æ°æ®ï¼å»å é¤å¯¹åºçç¼å­ã\n\n\n\nè®¢éåæ´æ¥å¿ï¼ç®åä¹æäºæ¯è¾æççå¼æºä¸­é´ä»¶ï¼ä¾å¦é¿éç canalï¼ä½¿ç¨è¿ç§æ¹æ¡çä¼ç¹å¨äºï¼\n\n * æ éèèåæ¶æ¯éåå¤±è´¥æåµï¼åªè¦å mysql æåï¼binlog è¯å®ä¼æ\n * èªå¨æéå°ä¸æ¸¸éåï¼canal èªå¨ææ°æ®åºåæ´æ¥å¿ãæéãç»ä¸æ¸¸çæ¶æ¯éå\n\nå½ç¶ï¼ä¸æ­¤åæ¶ï¼æä»¬éè¦æå¥ç²¾åå»ç»´æ¤ canal çé«å¯ç¨åç¨³å®æ§ã\n\n> å¦æä½ æçæè§å¯å¾å¤æ°æ®åºçç¹æ§ï¼å°±ä¼åç°å¶å®å¾å¤æ°æ®åºé½éæ¸å¼å§æä¾ãè®¢éåæ´æ¥å¿ãçåè½äºï¼ç¸ä¿¡ä¸è¿çå°æ¥ï¼æä»¬å°±ä¸ç¨éè¿ä¸­é´ä»¶æ¥æåæ¥å¿ï¼èªå·±åç¨åºå°±å¯ä»¥è®¢éåæ´æ¥å¿äºï¼è¿æ ·å¯ä»¥è¿ä¸æ­¥ç®åæµç¨ã\n\nè³æ­¤ï¼æä»¬å¯ä»¥å¾åºç»è®ºï¼æ³è¦ä¿è¯æ°æ®åºåç¼å­ä¸è´æ§ï¼æ¨èéç¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ï¼å¹¶éåãæ¶æ¯éåãæãè®¢éåæ´æ¥å¿ãçæ¹å¼æ¥åã\n\n\n# ä¸»ä»åºå»¶è¿åå»¶è¿åå é®é¢\n\nå°è¿éï¼è¿æ 2 ä¸ªé®é¢ï¼æ¯æä»¬æ²¡æéç¹åæè¿çã\n\nç¬¬ä¸ä¸ªé®é¢ï¼è¿è®°å¾åé¢è®²å°çãåå é¤ç¼å­ï¼åæ´æ°æ°æ®åºãæ¹æ¡ï¼å¯¼è´ä¸ä¸è´çåºæ¯ä¹ï¼\n\nè¿éæåæä¾å­æ¿è¿æ¥è®©ä½ å¤ä¹ ä¸ä¸ï¼\n\n2 ä¸ªçº¿ç¨è¦å¹¶åãè¯»åãæ°æ®ï¼å¯è½ä¼åçä»¥ä¸åºæ¯ï¼\n\n 1. çº¿ç¨ a è¦æ´æ° x = 2ï¼åå¼ x = 1ï¼\n 2. çº¿ç¨ a åå é¤ç¼å­\n 3. çº¿ç¨ b è¯»ç¼å­ï¼åç°ä¸å­å¨ï¼ä»æ°æ®åºä¸­è¯»åå°æ§å¼ï¼x = 1ï¼\n 4. çº¿ç¨ a å°æ°å¼åå¥æ°æ®åºï¼x = 2ï¼\n 5. çº¿ç¨ b å°æ§å¼åå¥ç¼å­ï¼x = 1ï¼\n\næç» x çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨æ°æ®åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼åçä¸ä¸è´ã\n\nç¬¬äºä¸ªé®é¢ï¼æ¯å³äºãè¯»ååç¦» + ä¸»ä»å¤å¶å»¶è¿ãæåµä¸ï¼ç¼å­åæ°æ®åºä¸è´æ§çé®é¢ã\n\nå¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ä¸ï¼ãè¯»ååç¦» + ä¸»ä»åºå»¶è¿ãå¶å®ä¹ä¼å¯¼è´ä¸ä¸è´ï¼\n\n 1. çº¿ç¨ a æ´æ°ä¸»åº x = 2ï¼åå¼ x = 1ï¼\n 2. çº¿ç¨ a å é¤ç¼å­\n 3. çº¿ç¨ b æ¥è¯¢ç¼å­ï¼æ²¡æå½ä¸­ï¼æ¥è¯¢ãä»åºãå¾å°æ§å¼ï¼ä»åº x = 1ï¼\n 4. ä»åºãåæ­¥ãå®æï¼ä¸»ä»åº x = 2ï¼\n 5. çº¿ç¨ b å°ãæ§å¼ãåå¥ç¼å­ï¼x = 1ï¼\n\næç» x çå¼å¨ç¼å­ä¸­æ¯ 1ï¼æ§å¼ï¼ï¼å¨ä¸»ä»åºä¸­æ¯ 2ï¼æ°å¼ï¼ï¼ä¹åçä¸ä¸è´ã\n\nçå°äºä¹ï¼è¿ 2 ä¸ªé®é¢çæ ¸å¿å¨äºï¼ç¼å­é½è¢«åç§äºãæ§å¼ãã\n\né£æä¹è§£å³è¿ç±»é®é¢å¢ï¼\n\næææçåæ³å°±æ¯ï¼æç¼å­å æã\n\nä½æ¯ï¼ä¸è½ç«å³å ï¼èæ¯éè¦ãå»¶è¿å ãï¼è¿å°±æ¯ä¸çç»åºçæ¹æ¡ï¼ç¼å­å»¶è¿åå ç­ç¥ã\n\næç§å»¶æ¶åå ç­ç¥ï¼è¿ 2 ä¸ªé®é¢çè§£å³æ¹æ¡æ¯è¿æ ·çï¼\n\nè§£å³ç¬¬ä¸ä¸ªé®é¢ï¼å¨çº¿ç¨ a å é¤ç¼å­ãæ´æ°å®æ°æ®åºä¹åï¼åãä¼ç ä¸ä¼ãï¼åãå é¤ãä¸æ¬¡ç¼å­ã\n\nè§£å³ç¬¬äºä¸ªé®é¢ï¼çº¿ç¨ a å¯ä»¥çæä¸æ¡ãå»¶æ¶æ¶æ¯ãï¼åå°æ¶æ¯éåä¸­ï¼æ¶è´¹èå»¶æ¶ãå é¤ãç¼å­ã\n\nè¿ä¸¤ä¸ªæ¹æ¡çç®çï¼é½æ¯ä¸ºäºæç¼å­æ¸æï¼è¿æ ·ä¸æ¥ï¼ä¸æ¬¡å°±å¯ä»¥ä»æ°æ®åºè¯»åå°ææ°å¼ï¼åå¥ç¼å­ã\n\nä½é®é¢æ¥äºï¼è¿ä¸ªãå»¶è¿å é¤ãç¼å­ï¼å»¶è¿æ¶é´å°åºè®¾ç½®è¦å¤ä¹å¢ï¼\n\n * é®é¢1ï¼å»¶è¿æ¶é´è¦å¤§äºãä¸»ä»å¤å¶ãçå»¶è¿æ¶é´\n * é®é¢2ï¼å»¶è¿æ¶é´è¦å¤§äºçº¿ç¨ b è¯»åæ°æ®åº + åå¥ç¼å­çæ¶é´\n\nä½æ¯ï¼è¿ä¸ªæ¶é´å¨åå¸å¼åé«å¹¶ååºæ¯ä¸ï¼å¶å®æ¯å¾é¾è¯ä¼°ç**ã**\n\nå¾å¤æ¶åï¼æä»¬é½æ¯å­åç»éªå¤§è´ä¼°ç®è¿ä¸ªå»¶è¿æ¶é´ï¼ä¾å¦å»¶è¿ 1-5sï¼åªè½å°½å¯è½å°éä½ä¸ä¸è´çæ¦çã\n\næä»¥ä½ çï¼éç¨è¿ç§æ¹æ¡ï¼ä¹åªæ¯å°½å¯è½ä¿è¯ä¸è´æ§èå·²ï¼æç«¯æåµä¸ï¼è¿æ¯æå¯è½åçä¸ä¸è´ã\n\næä»¥å®éä½¿ç¨ä¸­ï¼æè¿æ¯å»ºè®®ä½ éç¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãçæ¹æ¡ï¼åæ¶ï¼è¦å°½å¯è½å°ä¿è¯ãä¸»ä»å¤å¶ãä¸è¦æå¤ªå¤§å»¶è¿ï¼éä½åºé®é¢çæ¦çã\n\n\n# å¯ä»¥åå°å¼ºä¸è´åï¼\n\nçå°è¿éä½ å¯è½ä¼æ³ï¼è¿äºæ¹æ¡è¿æ¯ä¸å¤å®ç¾ï¼æå°±æ³è®©ç¼å­åæ°æ®åºãå¼ºä¸è´ãï¼å°åºè½ä¸è½åå°å¢ï¼\n\nå¶å®å¾é¾ã\n\nè¦æ³åå°å¼ºä¸è´ï¼æå¸¸è§çæ¹æ¡æ¯ 2pcã3pcãpaxosãraft è¿ç±»ä¸è´æ§åè®®ï¼ä½å®ä»¬çæ§è½å¾å¾æ¯è¾å·®ï¼èä¸è¿äºæ¹æ¡ä¹æ¯è¾å¤æï¼è¿è¦èèåç§å®¹éé®é¢ã\n\nç¸åï¼è¿æ¶æä»¬æ¢ä¸ªè§åº¦æèä¸ä¸ï¼æä»¬å¼å¥ç¼å­çç®çæ¯ä»ä¹ï¼\n\næ²¡éï¼æ§è½ã\n\nä¸æ¦æä»¬å³å®ä½¿ç¨ç¼å­ï¼é£å¿ç¶è¦é¢ä¸´ä¸è´æ§é®é¢ãæ§è½åä¸è´æ§å°±åå¤©å¹³çä¸¤ç«¯ï¼æ æ³åå°é½æ»¡è¶³è¦æ±ã\n\nèä¸ï¼å°±æ¿æä»¬åé¢è®²å°çæ¹æ¡æ¥è¯´ï¼å½æä½æ°æ®åºåç¼å­å®æä¹åï¼åªè¦æå¶å®è¯·æ±å¯ä»¥è¿æ¥ï¼é½æå¯è½æ¥å°ãä¸­é´ç¶æãçæ°æ®ã\n\næä»¥å¦æéè¦è¿½æ±å¼ºä¸è´ï¼é£å¿é¡»è¦æ±æææ´æ°æä½å®æä¹åæé´ï¼ä¸è½æãä»»ä½è¯·æ±ãè¿æ¥ã\n\nè½ç¶æä»¬å¯ä»¥éè¿å ãåå¸éãçæ¹å¼æ¥å®ç°ï¼ä½æä»¬è¦ä»åºçä»£ä»·ï¼å¾å¯è½ä¼è¶è¿å¼å¥ç¼å­å¸¦æ¥çæ§è½æåã\n\næä»¥ï¼æ¢ç¶å³å®ä½¿ç¨ç¼å­ï¼å°±å¿é¡»å®¹å¿ãä¸è´æ§ãé®é¢ï¼æä»¬åªè½å°½å¯è½å°å»éä½é®é¢åºç°çæ¦çã\n\nåæ¶æä»¬ä¹è¦ç¥éï¼ç¼å­é½æ¯æãå¤±ææ¶é´ãçï¼å°±ç®å¨è¿æé´å­å¨ç­æä¸ä¸è´ï¼æä»¬ä¾æ§æå¤±ææ¶é´æ¥ååºï¼è¿æ ·ä¹è½è¾¾å°æç»ä¸è´ã\n\n\n# æ»ç»\n\nå¥½äºï¼æ»ç»ä¸ä¸è¿ç¯æç« çéç¹ã\n\n1ãæ³è¦æé«åºç¨çæ§è½ï¼å¯ä»¥å¼å¥ãç¼å­ãæ¥è§£å³\n\n2ãå¼å¥ç¼å­åï¼éè¦èèç¼å­åæ°æ®åºä¸è´æ§é®é¢ï¼å¯éçæ¹æ¡æï¼ãæ´æ°æ°æ®åº + æ´æ°ç¼å­ãããæ´æ°æ°æ®åº + å é¤ç¼å­ã\n\n3ãæ´æ°æ°æ®åº + æ´æ°ç¼å­æ¹æ¡ï¼å¨ãå¹¶åãåºæ¯ä¸æ æ³ä¿è¯ç¼å­åæ°æ®ä¸è´æ§ï¼ä¸å­å¨ãç¼å­èµæºæµªè´¹ãåãæºå¨æ§è½æµªè´¹ãçæåµåç\n\n4ãå¨æ´æ°æ°æ®åº + å é¤ç¼å­çæ¹æ¡ä¸­ï¼ãåå é¤ç¼å­ï¼åæ´æ°æ°æ®åºãå¨ãå¹¶åãåºæ¯ä¸ä¾æ§ææ°æ®ä¸ä¸è´é®é¢ï¼è§£å³æ¹æ¡æ¯ãå»¶è¿åå ãï¼ä½è¿ä¸ªå»¶è¿æ¶é´å¾é¾è¯ä¼°ï¼æä»¥æ¨èç¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãçæ¹æ¡\n\n5ãå¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ä¸ï¼ä¸ºäºä¿è¯ä¸¤æ­¥é½æåæ§è¡ï¼ééåãæ¶æ¯éåãæãè®¢éåæ´æ¥å¿ãçæ¹æ¡æ¥åï¼æ¬è´¨æ¯éè¿ãéè¯ãçæ¹å¼ä¿è¯æ°æ®ä¸è´æ§\n\n6ãå¨ãåæ´æ°æ°æ®åºï¼åå é¤ç¼å­ãæ¹æ¡ä¸ï¼ãè¯»ååç¦» + ä¸»ä»åºå»¶è¿ãä¹ä¼å¯¼è´ç¼å­åæ°æ®åºä¸ä¸è´ï¼ç¼è§£æ­¤é®é¢çæ¹æ¡æ¯ãå»¶è¿åå ãï¼å­åç»éªåéãå»¶è¿æ¶æ¯ãå°éåä¸­ï¼å»¶è¿å é¤ç¼å­ï¼åæ¶ä¹è¦æ§å¶ä¸»ä»åºå»¶è¿ï¼å°½å¯è½éä½ä¸ä¸è´åççæ¦ç\n\n\n# åè®°\n\næ¬ä»¥ä¸ºè¿ä¸ªèçå¸¸è°çè¯é¢ï¼åèµ·æ¥å¾å¥½åï¼æ²¡æ³å°å¨åçè¿ç¨ä¸­ï¼è¿æ¯æå°äºå¾å¤ä¹åæ²¡ææ·±åº¦æèè¿çç»èã\n\nå¨è¿éæä¹åäº« 4 ç¹å¿å¾ç»ä½ ï¼\n\n1ãæ§è½åä¸è´æ§ä¸è½åæ¶æ»¡è¶³ï¼ä¸ºäºæ§è½èèï¼éå¸¸ä¼éç¨ãæç»ä¸è´æ§ãçæ¹æ¡\n\n2ãææ¡ç¼å­åæ°æ®åºä¸è´æ§é®é¢ï¼æ ¸å¿é®é¢æ 3 ç¹ï¼ç¼å­å©ç¨çãå¹¶åãç¼å­ + æ°æ®åºä¸èµ·æåé®é¢\n\n3ãå¤±è´¥åºæ¯ä¸è¦ä¿è¯ä¸è´æ§ï¼å¸¸è§ææ®µå°±æ¯ãéè¯ãï¼åæ­¥éè¯ä¼å½±åååéï¼æä»¥éå¸¸ä¼éç¨å¼æ­¥éè¯çæ¹æ¡\n\n4ãè®¢éåæ´æ¥å¿çææ³ï¼æ¬è´¨æ¯ææå¨æ°æ®æºï¼ä¾å¦ mysqlï¼å½å leader å¯æ¬ï¼è®©å¶å®å¼è´¨ç³»ç»ï¼ä¾å¦ redis / elasticsearchï¼æä¸ºå®ç follower å¯æ¬ï¼éè¿åæ­¥åæ´æ¥å¿çæ¹å¼ï¼ä¿è¯ leader å follower ä¹é´ä¿æä¸è´\n\n\n# åè\n\nç¼å­åæ°æ®åºä¸è´æ§é®é¢ï¼çè¿ç¯å°±å¤äº",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ä»ä¹æ¯ CAP ï¼ä»ä¹æ¯æç»ä¸è´æ§ï¼ä»ä¹æ¯å¹ç­æä½ï¼",frontmatter:{title:"ä»ä¹æ¯ CAP ï¼ä»ä¹æ¯æç»ä¸è´æ§ï¼ä»ä¹æ¯å¹ç­æä½ï¼",date:"2022-05-21T17:11:49.000Z",permalink:"/pages/20c647/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/010.%E4%BB%80%E4%B9%88%E6%98%AF%20CAP%20%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E5%B9%82%E7%AD%89%E6%93%8D%E4%BD%9C%EF%BC%9F.html",relativePath:"08.ç³»ç»è®¾è®¡/010.ä»ä¹æ¯ CAP ï¼ä»ä¹æ¯æç»ä¸è´æ§ï¼ä»ä¹æ¯å¹ç­æä½ï¼.md",key:"v-5675b06b",path:"/pages/20c647/",headers:[{level:3,title:"CAPçè®º",slug:"capçè®º",normalizedTitle:"capçè®º",charIndex:2},{level:3,title:"ä¸ºä»ä¹è¿ä¸èå¦æ­¤éè¦ï¼",slug:"ä¸ºä»ä¹è¿ä¸èå¦æ­¤éè¦",normalizedTitle:"ä¸ºä»ä¹è¿ä¸èå¦æ­¤éè¦ï¼",charIndex:261},{level:3,title:"CAPæè¡¡",slug:"capæè¡¡",normalizedTitle:"capæè¡¡",charIndex:577},{level:3,title:"ä¸ç§ç»å",slug:"ä¸ç§ç»å",normalizedTitle:"ä¸ç§ç»å",charIndex:784},{level:3,title:"ä¸è´æ§çå¦¥åââæç»ä¸è´æ§åBaseåå",slug:"ä¸è´æ§çå¦¥å-æç»ä¸è´æ§åbaseåå",normalizedTitle:"ä¸è´æ§çå¦¥åââæç»ä¸è´æ§åbaseåå",charIndex:1070},{level:3,title:"å¹ç­æ§",slug:"å¹ç­æ§",normalizedTitle:"å¹ç­æ§",charIndex:1420},{level:3,title:"å¦ä½è§£å³å¹ç­æ§é®é¢",slug:"å¦ä½è§£å³å¹ç­æ§é®é¢",normalizedTitle:"å¦ä½è§£å³å¹ç­æ§é®é¢",charIndex:1560}],headersStr:"CAPçè®º ä¸ºä»ä¹è¿ä¸èå¦æ­¤éè¦ï¼ CAPæè¡¡ ä¸ç§ç»å ä¸è´æ§çå¦¥åââæç»ä¸è´æ§åBaseåå å¹ç­æ§ å¦ä½è§£å³å¹ç­æ§é®é¢",content:"# CAPçè®º\n\nCAPçç»è®ºéå¸¸ç®åï¼å¨åå¸å¼ç³»ç»éï¼æ3ä¸ªå±æ§éå¸¸éè¦ï¼ä½åªè½åæ¶æ»¡è¶³å¶ä¸­ç2ä¸ªã\n\nConsistencyï¼all nodeså¨ä»»ä½æ¶å»çå°çdataé½æ¯ä¸æ ·çï¼æè¯´clientçreadæä½æ»æ¯è¿åææ°åå¥çé£ä¸ªvalueï¼ Availabilityï¼ç³»ç»æ¶å»é½åè®¸æä½ï¼å¹¶ä¸æä½æ»ä¼å¿«éè¢«Coordinatorååºï¼æç»clientå¾å¿«å°±å¾å°è¿åçç»æ Partition-toleranceï¼å°½ç®¡ç½è·¯ææ¶åä¼å ä¸ºæéå¯¼è´è¢«åéå¼ï¼ä½æ¯ç³»ç»ä¾ç¶å¨æ­£å¸¸å·¥ä½ï¼æèè¯´å¨æ»¡è¶³åè¿°çæ¡ä»¶ä¸å·¥ä½ï¼\n\n\n# ä¸ºä»ä¹è¿ä¸èå¦æ­¤éè¦ï¼\n\nFor Availabilityï¼\n\nç»ç»è®¡ï¼å¯¹äºGoogleãAmazonè¿æ ·çæ°æ®å¬å¸ï¼ç³»ç»å¢å 500msçå»¶è¿å°±ä¼æå¤±å¬å¸20%çæ¶çï¼æä»¥å¿é¡»å¿«éä¸å¯é å°è¿è¡ Read/Writeã\n\nFor Consistencyï¼\n\næ¯å¦å¨é¶è¡ç³»ç»ï¼ä»»ä½clienté½å¿é¡»æ¥çå°ææ°çupdated data itemï¼ä¸ç¶å°±ä¼ç»äº¤æé æè´å½çå½±åã\n\nFor Partition-toleranceï¼\n\nå ä¸ºInternetå¯è½å ä¸ºæäºåå éæ¶æ­å¼ï¼Routeræéãæµ·å°çº¿ç¼æ­å¼ãDNSæéï¼ï¼å³ä½¿å¨åä¸ä¸ªdata centeréï¼æéé½ä¼éæ¶éå°å°åçï¼æ¯å¦ Rack switcher å®æºã\n\n\n# CAPæè¡¡\n\n * å¦ä»çäºè®¡ç®ç¯å¢éï¼å ä¸ºç½ç»éæ¶é½ä¼è¢«éç¦»å¼æ¥ï¼è¿æ¯æ æ³é¿åçï¼Pæ¯å¿é¡»æ»¡è¶³çï¼é£ä¹CAPæç¤ºä¸ä¸ªsystemè¦å¨CåAä¸­ååºææ©ã\n * AåCå¹¶ä¸æ¯ä¸ä¸ªç¡¬å¸çä¸¤é¢,åªè½éæ©å¶ä¸­ä¸ä¸ª;AåCåºè¯¥çæå¤©å¹³,ç³»ç»å¯ä»¥éæ©ååªè¾¹å¾æ,ä½å¦ä¸è¾¹ä¹åºè¯¥ä¸å®ç¨åº¦çä¿çã\n * å¯¹äºAåCä¹é´çéæ©,ä¸åºè¯¥ç²ç²åº¦çæ´ä¸ªç³»ç»çº§å«è¿è¡éå,èåºè¯¥éå¯¹ç³»ç»ä¸­çä¸åå­ç³»ç»,éå¯¹æ§çéåä¸åçåèç­ç¥ã\n\n\n# ä¸ç§ç»å\n\n * CA: ä¿è¯å¯ç¨æ§åä¸è´æ§,æ¾å¼ååº:é¤éä¸æ¯åå¸å¼æ¶æ,æèåºç¨å¨ä¸ä¸ªæ°¸ä¸ä¼éä¿¡æéçç½ç»ä¸­(çæ³),åªæä¸ªå«åºæ¯ç¬¦å,å½åçäºèç½æ¶ææ¾ç¶ä¸ç¬¦åä½¿ç¨\n * CP: ä¿è¯ä¸è´æ§åååºå®¹å¿æ§,æ¾å¼å¯ç¨æ§:å½èç¹é´ä¸å¯éä¿¡æ¶,è¿è¡é»å¡,ç´å°éä¿¡æ¢å¤,æé´æ æ³åå¯¹å¤æä¾æå¡,ç¨æ·ä½éªä¸å¥½,å¦Aè½¬è´¦ç»B,åªæAæ£æ¬¾æåå¹¶Bæ¶æ¬¾æå,æ´ä¸ªäºå¡æç®å®æ,æ¾ç¶èè´¹èµæº\n * AP: ä¿è¯å¯ç¨æ§åååºå®¹å¿æ§,æ¾å¼å¼ºä¸è´æ§(ä½¿ç¨æç»ä¸è´æ§):ç»åºä¸ä¸ªç¨æ·å¯ä»¥å¿åçæ¶é´,æ¶é´åè¾¾ææ°æ®çæç»ä¸è´æ§,æ¯å¦è·¨è¡è½¬è´¦,å¹¶ä¸æ¯ç«å»å°è´¦,å¯è½æ¯æå¤©,æè2å°æ¶åå°è´¦\n\n\n# ä¸è´æ§çå¦¥åââæç»ä¸è´æ§åBaseåå\n\n * BA(Basically Available)åºæ¬å¯ç¨:ç³»ç»å¨ç»å¤§é¨åæ¶é´åºå¤äºå¯ç¨ç¶æ,åè®¸åºç°æéæå¤±é¨åå¯ç¨æ§,ä½ä¿è¯æ ¸å¿å¯ç¨ã\n * S(Soft State)è½¯ç¶æ:æ°æ®ç¶æä¸è¦æ±å¨ä»»ä½æ¶å»é½ä¿æä¸è´,åè®¸å­å¨ä¸­é´ç¶æ,èè¯¥ç¶æä¸å½±åç³»ç»å¯ç¨æ§ãå¯¹äºå¤å¯æ¬çå­å¨ç³»ç»èè¨,å°±æ¯åè®¸å¯æ¬ä¹é´çåæ­¥å­å¨å»¶æ¶,å¹¶ä¸å¨è¿ä¸ªè¿ç¨ä¸­ç³»ç»ä¾æ§å¯ä»¥ååºå®¢æ·ç«¯è¯·æ±ã\n * E(Eventual Consistency)æç»ä¸è´æ§:å°½ç®¡è½¯ç¶æä¸è¦æ±åå¸å¼æ°æ®å¨ä»»ä½æ¶å»é½ä¿æä¸è´,ä½ç»è¿ä¸å®æ¶é´å,è¿äºæ°æ®æç»è½è¾¾å°ä¸è´æ§ç¶æã BASEçè®ºçæ ¸å¿ææ³æ¯:æåå¸å¼ç³»ç»çå¯ç¨æ§æ¾å¨é¦ä½,æ¾å¼CAPä¸­å¯¹æ°æ®å¼ºä¸è´æ§çè¿½æ±,åªè¦ç³»ç»è½ä¿è¯æ°æ®æç»ä¸è´ã\n\n\n# å¹ç­æ§\n\nå¨å¾®æå¡æ¶æä¸,ä¸åå¾®æå¡é´ä¼æå¤§éçåºäºhttp,rpcæèmqæ¶æ¯çç½ç»éä¿¡,æ¥å£çéå¤è°ç¨ä»¥åæ¶æ¯çéå¤æ¶è´¹å¯è½ä¼ç»å¸¸åçã\n\nå¾®æå¡æ¶æåºè¯¥å·æå¹ç­æ§,å½æ¥å£è¢«éå¤è°ç¨æ¶,æ¶æ¯è¢«éå¤æ¶è´¹æ¶,å¯¹ç³»ç»çäº§ççå½±ååºè¯¥åæ¥å£è¢«è°ç¨ä¸æ¬¡,æ¶æ¯è¢«æ¶è´¹ä¸æ¬¡æ¶ä¸æ ·ã\n\n\n# å¦ä½è§£å³å¹ç­æ§é®é¢\n\n * å¨å±å¯ä¸IDãæ ¹æ®ä¸å¡çæä¸ä¸ªå¨å±å¯ä¸ID,å¨è°ç¨æ¥å£æ¶ä¼ä¼ å¥è¯¥ID,æ¥å£æä¾æ¹ä¼ä»ç¸åºçå­å¨ç³»ç»æ¯å¦Redisä¸­å»æ£ç´¢è¿ä¸ªå¨å±IDæ¯å¦å­å¨,å¦æå­å¨åè¯´æè¯¥æä½å·²ç»æ§è¡è¿äº,å°æç»æ¬æ¬¡æå¡è¯·æ±;å¦åå°ç¸åºè¯¥æå¡è¯·æ±å¹¶å°å¨å±IDå­å¥å­å¨ç³»ç»ä¸­,ä¹ååå«ç¸åä¸å¡IDåæ°çè¯·æ±å°è¢«æç»ã\n\n * æ°æ®åºè¡¨å¯ä¸é®ãè¿ç§æ¹æ³éç¨äºå¨ä¸å¡ä¸­æå¯ä¸æ è¯çæå¥åºæ¯ãæ¯å¦å¨æ¯ä»åºæ¯ä¸­,ä¸ä¸ªè®¢ååªä¼æ¯ä»ä¸æ¬¡,å¯ä»¥å»ºç«ä¸å¼ å»éè¡¨,å°è®¢åIDä½ä¸ºå¯ä¸ç´¢å¼ãææ¯ä»å¹¶ä¸åå¥æ¯ä»åæ®å°å»éè¡¨æ¾å¥ä¸ä¸ªäºå¡ä¸­,è¿æ ·å½åºç°éå¤æ¯ä»æ¶,æ°æ®åºå°±ä¼æåºå¯ä¸çº¦æå¼å¸¸,æä½å°±ä¼åæ»ãè¿æ ·ä¿è¯äºè®¢ååªä¼è¢«æ¯ä»ä¸æ¬¡ã\n\n * å¤çæ¬å¹¶åæ§å¶éåå¯¹æ´æ°è¯·æ±ä½å¹ç­æ§æ§å¶,æ¯å¦è¦æ´æ°ååçåå­,è¿æ¯å°±å¯ä»¥å¨æ´æ°çæ¥å£ä¸­å¢å ä¸ä¸ªçæ¬å·æ¥åå¹ç­æ§æ§å¶",normalizedContent:"# capçè®º\n\ncapçç»è®ºéå¸¸ç®åï¼å¨åå¸å¼ç³»ç»éï¼æ3ä¸ªå±æ§éå¸¸éè¦ï¼ä½åªè½åæ¶æ»¡è¶³å¶ä¸­ç2ä¸ªã\n\nconsistencyï¼all nodeså¨ä»»ä½æ¶å»çå°çdataé½æ¯ä¸æ ·çï¼æè¯´clientçreadæä½æ»æ¯è¿åææ°åå¥çé£ä¸ªvalueï¼ availabilityï¼ç³»ç»æ¶å»é½åè®¸æä½ï¼å¹¶ä¸æä½æ»ä¼å¿«éè¢«coordinatorååºï¼æç»clientå¾å¿«å°±å¾å°è¿åçç»æ partition-toleranceï¼å°½ç®¡ç½è·¯ææ¶åä¼å ä¸ºæéå¯¼è´è¢«åéå¼ï¼ä½æ¯ç³»ç»ä¾ç¶å¨æ­£å¸¸å·¥ä½ï¼æèè¯´å¨æ»¡è¶³åè¿°çæ¡ä»¶ä¸å·¥ä½ï¼\n\n\n# ä¸ºä»ä¹è¿ä¸èå¦æ­¤éè¦ï¼\n\nfor availabilityï¼\n\nç»ç»è®¡ï¼å¯¹äºgoogleãamazonè¿æ ·çæ°æ®å¬å¸ï¼ç³»ç»å¢å 500msçå»¶è¿å°±ä¼æå¤±å¬å¸20%çæ¶çï¼æä»¥å¿é¡»å¿«éä¸å¯é å°è¿è¡ read/writeã\n\nfor consistencyï¼\n\næ¯å¦å¨é¶è¡ç³»ç»ï¼ä»»ä½clienté½å¿é¡»æ¥çå°ææ°çupdated data itemï¼ä¸ç¶å°±ä¼ç»äº¤æé æè´å½çå½±åã\n\nfor partition-toleranceï¼\n\nå ä¸ºinternetå¯è½å ä¸ºæäºåå éæ¶æ­å¼ï¼routeræéãæµ·å°çº¿ç¼æ­å¼ãdnsæéï¼ï¼å³ä½¿å¨åä¸ä¸ªdata centeréï¼æéé½ä¼éæ¶éå°å°åçï¼æ¯å¦ rack switcher å®æºã\n\n\n# capæè¡¡\n\n * å¦ä»çäºè®¡ç®ç¯å¢éï¼å ä¸ºç½ç»éæ¶é½ä¼è¢«éç¦»å¼æ¥ï¼è¿æ¯æ æ³é¿åçï¼pæ¯å¿é¡»æ»¡è¶³çï¼é£ä¹capæç¤ºä¸ä¸ªsystemè¦å¨cåaä¸­ååºææ©ã\n * aåcå¹¶ä¸æ¯ä¸ä¸ªç¡¬å¸çä¸¤é¢,åªè½éæ©å¶ä¸­ä¸ä¸ª;aåcåºè¯¥çæå¤©å¹³,ç³»ç»å¯ä»¥éæ©ååªè¾¹å¾æ,ä½å¦ä¸è¾¹ä¹åºè¯¥ä¸å®ç¨åº¦çä¿çã\n * å¯¹äºaåcä¹é´çéæ©,ä¸åºè¯¥ç²ç²åº¦çæ´ä¸ªç³»ç»çº§å«è¿è¡éå,èåºè¯¥éå¯¹ç³»ç»ä¸­çä¸åå­ç³»ç»,éå¯¹æ§çéåä¸åçåèç­ç¥ã\n\n\n# ä¸ç§ç»å\n\n * ca: ä¿è¯å¯ç¨æ§åä¸è´æ§,æ¾å¼ååº:é¤éä¸æ¯åå¸å¼æ¶æ,æèåºç¨å¨ä¸ä¸ªæ°¸ä¸ä¼éä¿¡æéçç½ç»ä¸­(çæ³),åªæä¸ªå«åºæ¯ç¬¦å,å½åçäºèç½æ¶ææ¾ç¶ä¸ç¬¦åä½¿ç¨\n * cp: ä¿è¯ä¸è´æ§åååºå®¹å¿æ§,æ¾å¼å¯ç¨æ§:å½èç¹é´ä¸å¯éä¿¡æ¶,è¿è¡é»å¡,ç´å°éä¿¡æ¢å¤,æé´æ æ³åå¯¹å¤æä¾æå¡,ç¨æ·ä½éªä¸å¥½,å¦aè½¬è´¦ç»b,åªæaæ£æ¬¾æåå¹¶bæ¶æ¬¾æå,æ´ä¸ªäºå¡æç®å®æ,æ¾ç¶èè´¹èµæº\n * ap: ä¿è¯å¯ç¨æ§åååºå®¹å¿æ§,æ¾å¼å¼ºä¸è´æ§(ä½¿ç¨æç»ä¸è´æ§):ç»åºä¸ä¸ªç¨æ·å¯ä»¥å¿åçæ¶é´,æ¶é´åè¾¾ææ°æ®çæç»ä¸è´æ§,æ¯å¦è·¨è¡è½¬è´¦,å¹¶ä¸æ¯ç«å»å°è´¦,å¯è½æ¯æå¤©,æè2å°æ¶åå°è´¦\n\n\n# ä¸è´æ§çå¦¥åââæç»ä¸è´æ§åbaseåå\n\n * ba(basically available)åºæ¬å¯ç¨:ç³»ç»å¨ç»å¤§é¨åæ¶é´åºå¤äºå¯ç¨ç¶æ,åè®¸åºç°æéæå¤±é¨åå¯ç¨æ§,ä½ä¿è¯æ ¸å¿å¯ç¨ã\n * s(soft state)è½¯ç¶æ:æ°æ®ç¶æä¸è¦æ±å¨ä»»ä½æ¶å»é½ä¿æä¸è´,åè®¸å­å¨ä¸­é´ç¶æ,èè¯¥ç¶æä¸å½±åç³»ç»å¯ç¨æ§ãå¯¹äºå¤å¯æ¬çå­å¨ç³»ç»èè¨,å°±æ¯åè®¸å¯æ¬ä¹é´çåæ­¥å­å¨å»¶æ¶,å¹¶ä¸å¨è¿ä¸ªè¿ç¨ä¸­ç³»ç»ä¾æ§å¯ä»¥ååºå®¢æ·ç«¯è¯·æ±ã\n * e(eventual consistency)æç»ä¸è´æ§:å°½ç®¡è½¯ç¶æä¸è¦æ±åå¸å¼æ°æ®å¨ä»»ä½æ¶å»é½ä¿æä¸è´,ä½ç»è¿ä¸å®æ¶é´å,è¿äºæ°æ®æç»è½è¾¾å°ä¸è´æ§ç¶æã baseçè®ºçæ ¸å¿ææ³æ¯:æåå¸å¼ç³»ç»çå¯ç¨æ§æ¾å¨é¦ä½,æ¾å¼capä¸­å¯¹æ°æ®å¼ºä¸è´æ§çè¿½æ±,åªè¦ç³»ç»è½ä¿è¯æ°æ®æç»ä¸è´ã\n\n\n# å¹ç­æ§\n\nå¨å¾®æå¡æ¶æä¸,ä¸åå¾®æå¡é´ä¼æå¤§éçåºäºhttp,rpcæèmqæ¶æ¯çç½ç»éä¿¡,æ¥å£çéå¤è°ç¨ä»¥åæ¶æ¯çéå¤æ¶è´¹å¯è½ä¼ç»å¸¸åçã\n\nå¾®æå¡æ¶æåºè¯¥å·æå¹ç­æ§,å½æ¥å£è¢«éå¤è°ç¨æ¶,æ¶æ¯è¢«éå¤æ¶è´¹æ¶,å¯¹ç³»ç»çäº§ççå½±ååºè¯¥åæ¥å£è¢«è°ç¨ä¸æ¬¡,æ¶æ¯è¢«æ¶è´¹ä¸æ¬¡æ¶ä¸æ ·ã\n\n\n# å¦ä½è§£å³å¹ç­æ§é®é¢\n\n * å¨å±å¯ä¸idãæ ¹æ®ä¸å¡çæä¸ä¸ªå¨å±å¯ä¸id,å¨è°ç¨æ¥å£æ¶ä¼ä¼ å¥è¯¥id,æ¥å£æä¾æ¹ä¼ä»ç¸åºçå­å¨ç³»ç»æ¯å¦redisä¸­å»æ£ç´¢è¿ä¸ªå¨å±idæ¯å¦å­å¨,å¦æå­å¨åè¯´æè¯¥æä½å·²ç»æ§è¡è¿äº,å°æç»æ¬æ¬¡æå¡è¯·æ±;å¦åå°ç¸åºè¯¥æå¡è¯·æ±å¹¶å°å¨å±idå­å¥å­å¨ç³»ç»ä¸­,ä¹ååå«ç¸åä¸å¡idåæ°çè¯·æ±å°è¢«æç»ã\n\n * æ°æ®åºè¡¨å¯ä¸é®ãè¿ç§æ¹æ³éç¨äºå¨ä¸å¡ä¸­æå¯ä¸æ è¯çæå¥åºæ¯ãæ¯å¦å¨æ¯ä»åºæ¯ä¸­,ä¸ä¸ªè®¢ååªä¼æ¯ä»ä¸æ¬¡,å¯ä»¥å»ºç«ä¸å¼ å»éè¡¨,å°è®¢åidä½ä¸ºå¯ä¸ç´¢å¼ãææ¯ä»å¹¶ä¸åå¥æ¯ä»åæ®å°å»éè¡¨æ¾å¥ä¸ä¸ªäºå¡ä¸­,è¿æ ·å½åºç°éå¤æ¯ä»æ¶,æ°æ®åºå°±ä¼æåºå¯ä¸çº¦æå¼å¸¸,æä½å°±ä¼åæ»ãè¿æ ·ä¿è¯äºè®¢ååªä¼è¢«æ¯ä»ä¸æ¬¡ã\n\n * å¤çæ¬å¹¶åæ§å¶éåå¯¹æ´æ°è¯·æ±ä½å¹ç­æ§æ§å¶,æ¯å¦è¦æ´æ°ååçåå­,è¿æ¯å°±å¯ä»¥å¨æ´æ°çæ¥å£ä¸­å¢å ä¸ä¸ªçæ¬å·æ¥åå¹ç­æ§æ§å¶",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"è®¾è®¡ Tiny URL ç³»ç»",frontmatter:{title:"è®¾è®¡ Tiny URL ç³»ç»",date:"2022-11-09T22:40:00.000Z",permalink:"/pages/7c8753/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/021.%E8%AE%BE%E8%AE%A1%20Tiny%20URL%20%E7%B3%BB%E7%BB%9F.html",relativePath:"08.ç³»ç»è®¾è®¡/021.è®¾è®¡ Tiny URL ç³»ç».md",key:"v-1d6b51b7",path:"/pages/7c8753/",headers:[{level:2,title:"ä½¿ç¨åºæ¯(Scenario)",slug:"ä½¿ç¨åºæ¯-scenario",normalizedTitle:"ä½¿ç¨åºæ¯(scenario)",charIndex:2},{level:2,title:"éæ±(Needs)",slug:"éæ±-needs",normalizedTitle:"éæ±(needs)",charIndex:98},{level:2,title:"ç­ç½åçé¿åº¦",slug:"ç­ç½åçé¿åº¦",normalizedTitle:"ç­ç½åçé¿åº¦",charIndex:137},{level:2,title:"ä¸å¯¹ä¸è¿æ¯ä¸å¯¹å¤æ å°ï¼",slug:"ä¸å¯¹ä¸è¿æ¯ä¸å¯¹å¤æ å°",normalizedTitle:"ä¸å¯¹ä¸è¿æ¯ä¸å¯¹å¤æ å°ï¼",charIndex:686},{level:2,title:"å¦ä½è®¡ç®ç­ç½å",slug:"å¦ä½è®¡ç®ç­ç½å",normalizedTitle:"å¦ä½è®¡ç®ç­ç½å",charIndex:991},{level:2,title:"å¦ä½å­å¨",slug:"å¦ä½å­å¨",normalizedTitle:"å¦ä½å­å¨",charIndex:1175},{level:2,title:"301è¿æ¯302éå®å",slug:"_301è¿æ¯302éå®å",normalizedTitle:"301è¿æ¯302éå®å",charIndex:1386},{level:2,title:"é¢é²æ»å»",slug:"é¢é²æ»å»",normalizedTitle:"é¢é²æ»å»",charIndex:1765},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:164}],headersStr:"ä½¿ç¨åºæ¯(Scenario) éæ±(Needs) ç­ç½åçé¿åº¦ ä¸å¯¹ä¸è¿æ¯ä¸å¯¹å¤æ å°ï¼ å¦ä½è®¡ç®ç­ç½å å¦ä½å­å¨ 301è¿æ¯302éå®å é¢é²æ»å» åè",content:"# ä½¿ç¨åºæ¯(Scenario)\n\nå¾®ååTwitteré½æ140å­æ°çéå¶ï¼å¦æåäº«ä¸ä¸ªé¿ç½åï¼å¾å®¹æå°±è¶åºéå¶ï¼åå¸åºå»ãç­ç½åæå¡å¯ä»¥æä¸ä¸ªé¿ç½ååæç­ç½åï¼æ¹ä¾¿å¨ç¤¾äº¤ç½ç»ä¸ä¼ æ­ã\n\n\n# éæ±(Needs)\n\nå¾æ¾ç¶ï¼è¦å°½å¯è½çç­ãé¿åº¦è®¾è®¡ä¸ºå¤å°æåéå¢ï¼\n\n\n# ç­ç½åçé¿åº¦\n\nå½åäºèç½ä¸çç½é¡µæ»æ°å¤§æ¦æ¯ 45äº¿(åè http://www.worldwidewebsize.com)ï¼45äº¿è¶è¿äº 2^{32}=4294967296232=4294967296ï¼ä½è¿è¿å°äº64ä½æ´æ°çä¸éå¼ï¼é£ä¹ç¨ä¸ä¸ª64ä½æ´æ°è¶³å¤äºã\n\nå¾®åçç­ç½åæå¡ç¨çæ¯é¿åº¦ä¸º7çå­ç¬¦ä¸²ï¼è¿ä¸ªå­ç¬¦ä¸²å¯ä»¥çåæ¯62è¿å¶çæ°ï¼é£ä¹æå¤§è½è¡¨ç¤º{62}^7=3521614606208627=3521614606208ä¸ªç½åï¼è¿è¿å¤§äº45äº¿ãæä»¥é¿åº¦ä¸º7å°±è¶³å¤äºã\n\nä¸ä¸ª64ä½æ´æ°å¦ä½è½¬åä¸ºå­ç¬¦ä¸²å¢ï¼ï¼åè®¾æä»¬åªæ¯ç¨å¤§å°åå­æ¯å æ°å­ï¼é£ä¹å¯ä»¥çåæ¯62è¿å¶æ°ï¼log_{62} {(2^{64}-1)}=10.7log62(264â1)=10.7ï¼å³å­ç¬¦ä¸²æé¿11å°±è¶³å¤äºã\n\nå®éçäº§ä¸­ï¼è¿å¯ä»¥åç­ä¸ç¹ï¼æ¯å¦æ°æµªå¾®åéç¨çé¿åº¦å°±æ¯7ï¼å ä¸º 62^7=3521614606208627=3521614606208ï¼è¿ä¸ªéçº§è¿è¿è¶è¿äºèç½ä¸çURLæ»æ°äºï¼ç»å¯¹å¤ç¨äºã\n\nç°ä»£çwebæå¡å¨ï¼ä¾å¦Apache, Nginxï¼å¤§é¨åé½åºåURLéçå¤§å°åäºï¼æä»¥ç¨å¤§å°åå­æ¯æ¥åºåä¸åçURLæ¯æ²¡é®é¢çã\n\nå æ­¤ï¼æ­£ç¡®ç­æ¡ï¼é¿åº¦ä¸è¶è¿7çå­ç¬¦ä¸²ï¼ç±å¤§å°åå­æ¯å æ°å­å±62ä¸ªå­æ¯ç»æ\n\n\n# ä¸å¯¹ä¸è¿æ¯ä¸å¯¹å¤æ å°ï¼\n\nä¸ä¸ªé¿ç½åï¼å¯¹åºä¸ä¸ªç­ç½åï¼è¿æ¯å¯ä»¥å¯¹åºå¤ä¸ªç­ç½åï¼ è¿ä¹æ¯ä¸ªéå¤§éæ©é®é¢\n\nä¸è¬èè¨ï¼ä¸ä¸ªé¿ç½åï¼å¨ä¸åçå°ç¹ï¼ä¸åçç¨æ·ç­æåµä¸ï¼çæçç­ç½ååºè¯¥ä¸ä¸æ ·ï¼è¿æ ·ï¼å¨åç«¯æ°æ®åºä¸­ï¼å¯ä»¥æ´å¥½çè¿è¡æ°æ®åæãå¦æä¸ä¸ªé¿ç½åä¸ä¸ä¸ªç­ç½åä¸ä¸å¯¹åºï¼é£ä¹å¨æ°æ®åºä¸­ï¼ä»æä¸è¡æ°æ®ï¼æ æ³åºåä¸åçæ¥æºï¼å°±æ æ³åæ°æ®åæäºã\n\nä»¥è¿ä¸ª7ä½é¿åº¦çç­ç½åä½ä¸ºå¯ä¸IDï¼è¿ä¸ªIDä¸å¯ä»¥æåç§ä¿¡æ¯ï¼æ¯å¦çæè¯¥ç½åçç¨æ·åï¼æå¨ç½ç«ï¼HTTPå¤´é¨ç User Agentç­ä¿¡æ¯ï¼æ¶éäºè¿äºä¿¡æ¯ï¼ææå¯è½å¨åé¢åå¤§æ°æ®åæï¼æææ°æ®çä»·å¼ãç­ç½åæå¡åçä¸å¤§çå©æ¥æºå°±æ¯è¿äºæ°æ®ã\n\næ­£ç¡®ç­æ¡ï¼ä¸å¯¹å¤\n\n\n# å¦ä½è®¡ç®ç­ç½å\n\nç°å¨æä»¬è®¾å®äºç­ç½åæ¯ä¸ä¸ªé¿åº¦ä¸º7çå­ç¬¦ä¸²ï¼å¦ä½è®¡ç®å¾å°è¿ä¸ªç­ç½åå¢ï¼\n\næå®¹ææ³å°çåæ³æ¯åå¸ï¼åhashå¾å°ä¸ä¸ª64ä½æ´æ°ï¼å°å®è½¬åä¸º62è¿å¶æ´ï¼æªåä½7ä½å³å¯ãä½æ¯åå¸ç®æ³ä¼æå²çªï¼å¦ä½å¤çå²çªå¢ï¼åæ¯ä¸ä¸ªéº»ç¦ãè¿ä¸ªæ¹æ³åªæ¯è½¬ç§»äºçç¾ï¼æ²¡æè§£å³çç¾ï¼æå¼ã\n\næ­£ç¡®ç­æ¡ï¼åå¸å¼åå·å¨(Distributed ID Generator)\n\n\n# å¦ä½å­å¨\n\nå¦æå­å¨ç­ç½ååé¿ç½åçå¯¹åºå³ç³»ï¼ä»¥ç­ç½åä¸º primary key, é¿ç½åä¸ºvalue, å¯ä»¥ç¨ä¼ ç»çå³ç³»æ°æ®åºå­èµ·æ¥ï¼ä¾å¦MySQL, PostgreSQLï¼ä¹å¯ä»¥ç¨ä»»æä¸ä¸ªåå¸å¼KVæ°æ®åºï¼ä¾å¦Redis, LevelDBã\n\nå¦æä½ æçæ³è¦æå·¥è®¾è®¡è¿ä¸ªå­å¨ï¼é£å°±æ¯å¦ä¸ä¸ªè¯é¢äºï¼ä½ éè¦å®æ´å°é ä¸ä¸ªKVå­å¨å¼æè½®å­ãå½åæµè¡çKVå­å¨å¼ææLevelDBä½RockDBï¼å»è¯»å®ä»¬çæºç å§ ð\n\n\n# 301è¿æ¯302éå®å\n\nè¿ä¹æ¯ä¸ä¸ªæææçé®é¢ãè¿ä¸ªé®é¢ä¸»è¦æ¯èå¯ä½ å¯¹301å302ççè§£ï¼ä»¥åæµè§å¨ç¼å­æºå¶ççè§£ã\n\n301æ¯æ°¸ä¹éå®åï¼302æ¯ä¸´æ¶éå®åãç­å°åä¸ç»çæå°±ä¸ä¼ååï¼æä»¥ç¨301æ¯ç¬¦åhttpè¯­ä¹çãä½æ¯å¦æç¨äº301ï¼ Googleï¼ç¾åº¦ç­æç´¢å¼æï¼æç´¢çæ¶åä¼ç´æ¥å±ç¤ºçå®å°åï¼é£æä»¬å°±æ æ³ç»è®¡å°ç­å°åè¢«ç¹å»çæ¬¡æ°äºï¼ä¹æ æ³æ¶éç¨æ·çCookie, User Agent ç­ä¿¡æ¯ï¼è¿äºä¿¡æ¯å¯ä»¥ç¨æ¥åå¾å¤æææçå¤§æ°æ®åæï¼ä¹æ¯ç­ç½åæå¡åçä¸»è¦çå©æ¥æºã\n\næä»¥ï¼æ­£ç¡®ç­æ¡æ¯302éå®åã\n\nå¯ä»¥æåççæ°æµªå¾®åçç­ç½åæ¯æä¹åçï¼ä½¿ç¨ Chrome æµè§å¨ï¼è®¿é®è¿ä¸ªURL http://t.cn/RX2VxjIï¼æ¯æäºååå¾®åèªå¨çæçç­ç½åãæ¥æåççè¿åçç»ææ¯å¥ï¼\n\n\n\nå¯è§æ°æµªå¾®åç¨çå°±æ¯302ä¸´æ¶éå®åã\n\n\n# é¢é²æ»å»\n\nå¦æä¸äºå«æç¨å¿çé»å®¢ï¼ç­æ¶é´ååTinyURLæå¡å¨åéå¤§éçè¯·æ±ï¼ä¼è¿éèåIDï¼æä¹åå¢ï¼\n\né¦åï¼éå¶IPçåæ¥è¯·æ±æ»æ°ï¼è¶è¿éå¼åç´æ¥æç»æå¡ã\n\nåéå¶IPçè¯·æ±æ°è¿ä¸å¤ï¼å ä¸ºé»å®¢ä¸è¬æéæä¸ç¾ä¸å°èé¸¡çï¼IPå°åå¤§å¤§çæï¼æä»¥åéå¶IPä½ç¨ä¸å¤§ã\n\nå¯ä»¥ç¨ä¸å°Redisä½ä¸ºç¼å­æå¡å¨ï¼å­å¨çä¸æ¯ ID->é¿ç½åï¼èæ¯ é¿ç½å->IDï¼ä»å­å¨ä¸å¤©ä»¥åçæ°æ®ï¼ç¨LRUæºå¶è¿è¡æ·æ±°ãè¿æ ·ï¼å¦æé»å®¢å¤§éååä¸ä¸ªé¿ç½åè¿æ¥ï¼ç´æ¥ä»ç¼å­æå¡å¨éè¿åç­ç½åå³å¯ï¼ä»å°±æ æ³èåæä»¬çIDäºã\n\n\n# åè\n\nç­é¾æ¥è®¾è®¡",normalizedContent:"# ä½¿ç¨åºæ¯(scenario)\n\nå¾®ååtwitteré½æ140å­æ°çéå¶ï¼å¦æåäº«ä¸ä¸ªé¿ç½åï¼å¾å®¹æå°±è¶åºéå¶ï¼åå¸åºå»ãç­ç½åæå¡å¯ä»¥æä¸ä¸ªé¿ç½ååæç­ç½åï¼æ¹ä¾¿å¨ç¤¾äº¤ç½ç»ä¸ä¼ æ­ã\n\n\n# éæ±(needs)\n\nå¾æ¾ç¶ï¼è¦å°½å¯è½çç­ãé¿åº¦è®¾è®¡ä¸ºå¤å°æåéå¢ï¼\n\n\n# ç­ç½åçé¿åº¦\n\nå½åäºèç½ä¸çç½é¡µæ»æ°å¤§æ¦æ¯ 45äº¿(åè http://www.worldwidewebsize.com)ï¼45äº¿è¶è¿äº 2^{32}=4294967296232=4294967296ï¼ä½è¿è¿å°äº64ä½æ´æ°çä¸éå¼ï¼é£ä¹ç¨ä¸ä¸ª64ä½æ´æ°è¶³å¤äºã\n\nå¾®åçç­ç½åæå¡ç¨çæ¯é¿åº¦ä¸º7çå­ç¬¦ä¸²ï¼è¿ä¸ªå­ç¬¦ä¸²å¯ä»¥çåæ¯62è¿å¶çæ°ï¼é£ä¹æå¤§è½è¡¨ç¤º{62}^7=3521614606208627=3521614606208ä¸ªç½åï¼è¿è¿å¤§äº45äº¿ãæä»¥é¿åº¦ä¸º7å°±è¶³å¤äºã\n\nä¸ä¸ª64ä½æ´æ°å¦ä½è½¬åä¸ºå­ç¬¦ä¸²å¢ï¼ï¼åè®¾æä»¬åªæ¯ç¨å¤§å°åå­æ¯å æ°å­ï¼é£ä¹å¯ä»¥çåæ¯62è¿å¶æ°ï¼log_{62} {(2^{64}-1)}=10.7log62(264â1)=10.7ï¼å³å­ç¬¦ä¸²æé¿11å°±è¶³å¤äºã\n\nå®éçäº§ä¸­ï¼è¿å¯ä»¥åç­ä¸ç¹ï¼æ¯å¦æ°æµªå¾®åéç¨çé¿åº¦å°±æ¯7ï¼å ä¸º 62^7=3521614606208627=3521614606208ï¼è¿ä¸ªéçº§è¿è¿è¶è¿äºèç½ä¸çurlæ»æ°äºï¼ç»å¯¹å¤ç¨äºã\n\nç°ä»£çwebæå¡å¨ï¼ä¾å¦apache, nginxï¼å¤§é¨åé½åºåurléçå¤§å°åäºï¼æä»¥ç¨å¤§å°åå­æ¯æ¥åºåä¸åçurlæ¯æ²¡é®é¢çã\n\nå æ­¤ï¼æ­£ç¡®ç­æ¡ï¼é¿åº¦ä¸è¶è¿7çå­ç¬¦ä¸²ï¼ç±å¤§å°åå­æ¯å æ°å­å±62ä¸ªå­æ¯ç»æ\n\n\n# ä¸å¯¹ä¸è¿æ¯ä¸å¯¹å¤æ å°ï¼\n\nä¸ä¸ªé¿ç½åï¼å¯¹åºä¸ä¸ªç­ç½åï¼è¿æ¯å¯ä»¥å¯¹åºå¤ä¸ªç­ç½åï¼ è¿ä¹æ¯ä¸ªéå¤§éæ©é®é¢\n\nä¸è¬èè¨ï¼ä¸ä¸ªé¿ç½åï¼å¨ä¸åçå°ç¹ï¼ä¸åçç¨æ·ç­æåµä¸ï¼çæçç­ç½ååºè¯¥ä¸ä¸æ ·ï¼è¿æ ·ï¼å¨åç«¯æ°æ®åºä¸­ï¼å¯ä»¥æ´å¥½çè¿è¡æ°æ®åæãå¦æä¸ä¸ªé¿ç½åä¸ä¸ä¸ªç­ç½åä¸ä¸å¯¹åºï¼é£ä¹å¨æ°æ®åºä¸­ï¼ä»æä¸è¡æ°æ®ï¼æ æ³åºåä¸åçæ¥æºï¼å°±æ æ³åæ°æ®åæäºã\n\nä»¥è¿ä¸ª7ä½é¿åº¦çç­ç½åä½ä¸ºå¯ä¸idï¼è¿ä¸ªidä¸å¯ä»¥æåç§ä¿¡æ¯ï¼æ¯å¦çæè¯¥ç½åçç¨æ·åï¼æå¨ç½ç«ï¼httpå¤´é¨ç user agentç­ä¿¡æ¯ï¼æ¶éäºè¿äºä¿¡æ¯ï¼ææå¯è½å¨åé¢åå¤§æ°æ®åæï¼æææ°æ®çä»·å¼ãç­ç½åæå¡åçä¸å¤§çå©æ¥æºå°±æ¯è¿äºæ°æ®ã\n\næ­£ç¡®ç­æ¡ï¼ä¸å¯¹å¤\n\n\n# å¦ä½è®¡ç®ç­ç½å\n\nç°å¨æä»¬è®¾å®äºç­ç½åæ¯ä¸ä¸ªé¿åº¦ä¸º7çå­ç¬¦ä¸²ï¼å¦ä½è®¡ç®å¾å°è¿ä¸ªç­ç½åå¢ï¼\n\næå®¹ææ³å°çåæ³æ¯åå¸ï¼åhashå¾å°ä¸ä¸ª64ä½æ´æ°ï¼å°å®è½¬åä¸º62è¿å¶æ´ï¼æªåä½7ä½å³å¯ãä½æ¯åå¸ç®æ³ä¼æå²çªï¼å¦ä½å¤çå²çªå¢ï¼åæ¯ä¸ä¸ªéº»ç¦ãè¿ä¸ªæ¹æ³åªæ¯è½¬ç§»äºçç¾ï¼æ²¡æè§£å³çç¾ï¼æå¼ã\n\næ­£ç¡®ç­æ¡ï¼åå¸å¼åå·å¨(distributed id generator)\n\n\n# å¦ä½å­å¨\n\nå¦æå­å¨ç­ç½ååé¿ç½åçå¯¹åºå³ç³»ï¼ä»¥ç­ç½åä¸º primary key, é¿ç½åä¸ºvalue, å¯ä»¥ç¨ä¼ ç»çå³ç³»æ°æ®åºå­èµ·æ¥ï¼ä¾å¦mysql, postgresqlï¼ä¹å¯ä»¥ç¨ä»»æä¸ä¸ªåå¸å¼kvæ°æ®åºï¼ä¾å¦redis, leveldbã\n\nå¦æä½ æçæ³è¦æå·¥è®¾è®¡è¿ä¸ªå­å¨ï¼é£å°±æ¯å¦ä¸ä¸ªè¯é¢äºï¼ä½ éè¦å®æ´å°é ä¸ä¸ªkvå­å¨å¼æè½®å­ãå½åæµè¡çkvå­å¨å¼ææleveldbä½rockdbï¼å»è¯»å®ä»¬çæºç å§ ð\n\n\n# 301è¿æ¯302éå®å\n\nè¿ä¹æ¯ä¸ä¸ªæææçé®é¢ãè¿ä¸ªé®é¢ä¸»è¦æ¯èå¯ä½ å¯¹301å302ççè§£ï¼ä»¥åæµè§å¨ç¼å­æºå¶ççè§£ã\n\n301æ¯æ°¸ä¹éå®åï¼302æ¯ä¸´æ¶éå®åãç­å°åä¸ç»çæå°±ä¸ä¼ååï¼æä»¥ç¨301æ¯ç¬¦åhttpè¯­ä¹çãä½æ¯å¦æç¨äº301ï¼ googleï¼ç¾åº¦ç­æç´¢å¼æï¼æç´¢çæ¶åä¼ç´æ¥å±ç¤ºçå®å°åï¼é£æä»¬å°±æ æ³ç»è®¡å°ç­å°åè¢«ç¹å»çæ¬¡æ°äºï¼ä¹æ æ³æ¶éç¨æ·çcookie, user agent ç­ä¿¡æ¯ï¼è¿äºä¿¡æ¯å¯ä»¥ç¨æ¥åå¾å¤æææçå¤§æ°æ®åæï¼ä¹æ¯ç­ç½åæå¡åçä¸»è¦çå©æ¥æºã\n\næä»¥ï¼æ­£ç¡®ç­æ¡æ¯302éå®åã\n\nå¯ä»¥æåççæ°æµªå¾®åçç­ç½åæ¯æä¹åçï¼ä½¿ç¨ chrome æµè§å¨ï¼è®¿é®è¿ä¸ªurl http://t.cn/rx2vxjiï¼æ¯æäºååå¾®åèªå¨çæçç­ç½åãæ¥æåççè¿åçç»ææ¯å¥ï¼\n\n\n\nå¯è§æ°æµªå¾®åç¨çå°±æ¯302ä¸´æ¶éå®åã\n\n\n# é¢é²æ»å»\n\nå¦æä¸äºå«æç¨å¿çé»å®¢ï¼ç­æ¶é´ååtinyurlæå¡å¨åéå¤§éçè¯·æ±ï¼ä¼è¿éèåidï¼æä¹åå¢ï¼\n\né¦åï¼éå¶ipçåæ¥è¯·æ±æ»æ°ï¼è¶è¿éå¼åç´æ¥æç»æå¡ã\n\nåéå¶ipçè¯·æ±æ°è¿ä¸å¤ï¼å ä¸ºé»å®¢ä¸è¬æéæä¸ç¾ä¸å°èé¸¡çï¼ipå°åå¤§å¤§çæï¼æä»¥åéå¶ipä½ç¨ä¸å¤§ã\n\nå¯ä»¥ç¨ä¸å°redisä½ä¸ºç¼å­æå¡å¨ï¼å­å¨çä¸æ¯ id->é¿ç½åï¼èæ¯ é¿ç½å->idï¼ä»å­å¨ä¸å¤©ä»¥åçæ°æ®ï¼ç¨lruæºå¶è¿è¡æ·æ±°ãè¿æ ·ï¼å¦æé»å®¢å¤§éååä¸ä¸ªé¿ç½åè¿æ¥ï¼ç´æ¥ä»ç¼å­æå¡å¨éè¿åç­ç½åå³å¯ï¼ä»å°±æ æ³èåæä»¬çidäºã\n\n\n# åè\n\nç­é¾æ¥è®¾è®¡",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ç®è¿°ä»ä¹æ¯ä¸¤é¶æ®µæäº¤ï¼",frontmatter:{title:"ç®è¿°ä»ä¹æ¯ä¸¤é¶æ®µæäº¤ï¼",date:"2022-05-21T17:12:23.000Z",permalink:"/pages/4eae5b/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/020.%E7%AE%80%E8%BF%B0%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%EF%BC%9F.html",relativePath:"08.ç³»ç»è®¾è®¡/020.ç®è¿°ä»ä¹æ¯ä¸¤é¶æ®µæäº¤ï¼.md",key:"v-f88544f4",path:"/pages/4eae5b/",headersStr:null,content:"TCC/Try Confirm Cancelæ¨¡å¼TCCæ¨¡å¼åªæå¨ææçæå¡çç¬¬ä¸é¶æ®µï¼tryï¼é½æåçæ¶åæè¿è¡ç¬¬äºé¶æ®µç¡®è®¤ï¼Confirmï¼æä½ï¼å¦åè¿è¡è¡¥å¿(Cancel)æä½ï¼èå¨tryé¶æ®µæ¯ä¸ä¼è¿è¡çæ­£çä¸å¡å¤ççã\n\n\nTCCæ¨¡å¼TCCæ¨¡å¼çå·ä½æµç¨ä¸ºä¸¤ä¸ªé¶æ®µï¼Tryï¼ä¸å¡æå¡å®æææçä¸å¡æ£æ¥ï¼é¢çå¿éçä¸å¡èµæºå¦æTryå¨æææå¡ä¸­é½æåï¼é£ä¹æ§è¡Confirmæä½ï¼Confirmæä½ä¸åä»»ä½çä¸å¡æ£æ¥ï¼å ä¸ºtryä¸­å·²ç»åè¿ï¼ï¼åªæ¯ç¨Tryé¶æ®µé¢ççä¸å¡èµæºè¿è¡ä¸å¡å¤çï¼å¦åè¿è¡Cancelæä½ï¼Cancelæä½éæ¾Tryé¶æ®µé¢ççä¸å¡èµæºã\n\n\nè¿ä¹è¯´å¯è½æ¯è¾æ¨¡ç³ï¼ä¸é¢æä¸¾ä¸ä¸ªå·ä½çä¾å­ï¼å°æå¨çº¿ä»æåé¶è¡è½¬è´¦100åå°å¹¿åé¶è¡ã\n\n\nè¿ä¸ªæä½å¯çä½ä¸¤ä¸ªæå¡ï¼æå¡aä»å°æçæè¡è´¦æ·è½¬åº100åï¼æå¡bä»å°æçå¹¿åé¶è¡å¸æ·æ±å¥100åã\n\n\næå¡aï¼å°æä»æè¡è½¬åº100åï¼:try: update cmb_account set balance=balance-100, freeze=freeze+100 where\nacc_id=1 and balance>100;\n\nconfirm: update cmb_account set freeze=freeze-100 where acc_id=1;\n\ncancel: update cmb_account set balance=balance+100, freeze=freeze-100 where\nacc_id=1;\n\n\næå¡bï¼å°æå¾å¹¿åé¶è¡æ±å¥100åï¼:try: update cgb_account set freeze=freeze+100 where acc_id=1;\n\nconfirm: update cgb_account set balance=balance+100, freeze=freeze-100 where acc_id=1;\n\ncancel: update cgb_account set freeze=freeze-100 where acc_id=1;\n\n\nå·ä½è¯´æï¼açtryé¶æ®µï¼æå¡åäºä¸¤ä»¶äºï¼1ï¼ä¸å¡æ£æ¥ï¼è¿éæ¯æ£æ¥å°æçå¸æ·éçé±æ¯å¦å¤ä½100åï¼2:é¢çèµæºï¼å°100åä»ä½é¢ä¸­åå¥å»ç»èµéã\naçconfirmé¶æ®µï¼è¿éä¸åè¿è¡ä¸å¡æ£æ¥ï¼å ä¸ºtryé¶æ®µå·²ç»åè¿äºï¼åæ¶ç±äºè½¬è´¦å·²ç»æåï¼å°å»ç»èµéæ£é¤ãaçcancelé¶æ®µï¼éæ¾é¢çèµæºï¼æ¢100åå»ç»èµéï¼å¹¶æ¢å¤å°ä½é¢ã\n\n\nbçtryé¶æ®µè¿è¡ï¼é¢çèµæºï¼å°100åå»ç»ãbçconfirmé¶æ®µï¼ä½¿ç¨tryé¶æ®µé¢ççèµæºï¼å°100åå»ç»èµéåå¥ä½é¢ã\nbçcancelé¶æ®µï¼éæ¾tryé¶æ®µçé¢çèµæºï¼å°100åä»å»ç»èµéä¸­åå»ãä»ä¸é¢çç®åä¾å­å¯ä»¥çåºï¼TCCæ¨¡å¼æ¯çº¯ä¸å¡è¡¥å¿æ¨¡å¼æ´å å¤æï¼æä»¥å¨å®ç°ä¸æ¯ä¸ªæå¡é½éè¦å®ç°CofirmåCancelä¸¤ä¸ªæ¥å£ã",normalizedContent:"tcc/try confirm cancelæ¨¡å¼tccæ¨¡å¼åªæå¨ææçæå¡çç¬¬ä¸é¶æ®µï¼tryï¼é½æåçæ¶åæè¿è¡ç¬¬äºé¶æ®µç¡®è®¤ï¼confirmï¼æä½ï¼å¦åè¿è¡è¡¥å¿(cancel)æä½ï¼èå¨tryé¶æ®µæ¯ä¸ä¼è¿è¡çæ­£çä¸å¡å¤ççã\n\n\ntccæ¨¡å¼tccæ¨¡å¼çå·ä½æµç¨ä¸ºä¸¤ä¸ªé¶æ®µï¼tryï¼ä¸å¡æå¡å®æææçä¸å¡æ£æ¥ï¼é¢çå¿éçä¸å¡èµæºå¦ætryå¨æææå¡ä¸­é½æåï¼é£ä¹æ§è¡confirmæä½ï¼confirmæä½ä¸åä»»ä½çä¸å¡æ£æ¥ï¼å ä¸ºtryä¸­å·²ç»åè¿ï¼ï¼åªæ¯ç¨tryé¶æ®µé¢ççä¸å¡èµæºè¿è¡ä¸å¡å¤çï¼å¦åè¿è¡cancelæä½ï¼cancelæä½éæ¾tryé¶æ®µé¢ççä¸å¡èµæºã\n\n\nè¿ä¹è¯´å¯è½æ¯è¾æ¨¡ç³ï¼ä¸é¢æä¸¾ä¸ä¸ªå·ä½çä¾å­ï¼å°æå¨çº¿ä»æåé¶è¡è½¬è´¦100åå°å¹¿åé¶è¡ã\n\n\nè¿ä¸ªæä½å¯çä½ä¸¤ä¸ªæå¡ï¼æå¡aä»å°æçæè¡è´¦æ·è½¬åº100åï¼æå¡bä»å°æçå¹¿åé¶è¡å¸æ·æ±å¥100åã\n\n\næå¡aï¼å°æä»æè¡è½¬åº100åï¼:try: update cmb_account set balance=balance-100, freeze=freeze+100 where\nacc_id=1 and balance>100;\n\nconfirm: update cmb_account set freeze=freeze-100 where acc_id=1;\n\ncancel: update cmb_account set balance=balance+100, freeze=freeze-100 where\nacc_id=1;\n\n\næå¡bï¼å°æå¾å¹¿åé¶è¡æ±å¥100åï¼:try: update cgb_account set freeze=freeze+100 where acc_id=1;\n\nconfirm: update cgb_account set balance=balance+100, freeze=freeze-100 where acc_id=1;\n\ncancel: update cgb_account set freeze=freeze-100 where acc_id=1;\n\n\nå·ä½è¯´æï¼açtryé¶æ®µï¼æå¡åäºä¸¤ä»¶äºï¼1ï¼ä¸å¡æ£æ¥ï¼è¿éæ¯æ£æ¥å°æçå¸æ·éçé±æ¯å¦å¤ä½100åï¼2:é¢çèµæºï¼å°100åä»ä½é¢ä¸­åå¥å»ç»èµéã\naçconfirmé¶æ®µï¼è¿éä¸åè¿è¡ä¸å¡æ£æ¥ï¼å ä¸ºtryé¶æ®µå·²ç»åè¿äºï¼åæ¶ç±äºè½¬è´¦å·²ç»æåï¼å°å»ç»èµéæ£é¤ãaçcancelé¶æ®µï¼éæ¾é¢çèµæºï¼æ¢100åå»ç»èµéï¼å¹¶æ¢å¤å°ä½é¢ã\n\n\nbçtryé¶æ®µè¿è¡ï¼é¢çèµæºï¼å°100åå»ç»ãbçconfirmé¶æ®µï¼ä½¿ç¨tryé¶æ®µé¢ççèµæºï¼å°100åå»ç»èµéåå¥ä½é¢ã\nbçcancelé¶æ®µï¼éæ¾tryé¶æ®µçé¢çèµæºï¼å°100åä»å»ç»èµéä¸­åå»ãä»ä¸é¢çç®åä¾å­å¯ä»¥çåºï¼tccæ¨¡å¼æ¯çº¯ä¸å¡è¡¥å¿æ¨¡å¼æ´å å¤æï¼æä»¥å¨å®ç°ä¸æ¯ä¸ªæå¡é½éè¦å®ç°cofirmåcancelä¸¤ä¸ªæ¥å£ã",charsets:{cjk:!0},lastUpdated:"2022/05/22, 00:01:01",lastUpdatedTimestamp:1653148861e3},{title:"å¦ä½å®ç°å¯ä¸çåå¸å¼ ID",frontmatter:{title:"å¦ä½å®ç°å¯ä¸çåå¸å¼ ID",date:"2022-11-09T22:58:29.000Z",permalink:"/pages/e5252b/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/022.%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%94%AF%E4%B8%80%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%20ID.html",relativePath:"08.ç³»ç»è®¾è®¡/022.å¦ä½å®ç°å¯ä¸çåå¸å¼ ID.md",key:"v-dca272ea",path:"/pages/e5252b/",headers:[{level:2,title:"1.UUID",slug:"_1-uuid",normalizedTitle:"1.uuid",charIndex:2},{level:2,title:"2.UUIDè½¬Longçæ¹å¼",slug:"_2-uuidè½¬longçæ¹å¼",normalizedTitle:"2.uuidè½¬longçæ¹å¼",charIndex:215},{level:2,title:"3.æ°æ®åºèªå¢ID",slug:"_3-æ°æ®åºèªå¢id",normalizedTitle:"3.æ°æ®åºèªå¢id",charIndex:743},{level:2,title:"4.Redisçincrèªå¢",slug:"_4-redisçincrèªå¢",normalizedTitle:"4.redisçincrèªå¢",charIndex:1108},{level:2,title:"5.æ°æ®åºå·æ®µæ¨¡å¼",slug:"_5-æ°æ®åºå·æ®µæ¨¡å¼",normalizedTitle:"5.æ°æ®åºå·æ®µæ¨¡å¼",charIndex:1474},{level:3,title:"6.Snowflake",slug:"_6-snowflake",normalizedTitle:"6.snowflake",charIndex:1687},{level:3,title:"6.Leaf-snowflakeï¼ç¾å¢ï¼",slug:"_6-leaf-snowflake-ç¾å¢",normalizedTitle:"6.leaf-snowflakeï¼ç¾å¢ï¼",charIndex:1912},{level:3,title:"7.uid-generatorï¼ç¾åº¦ï¼",slug:"_7-uid-generator-ç¾åº¦",normalizedTitle:"7.uid-generatorï¼ç¾åº¦ï¼",charIndex:10634},{level:3,title:"8.Tinyidï¼æ»´æ»´ï¼",slug:"_8-tinyid-æ»´æ»´",normalizedTitle:"8.tinyidï¼æ»´æ»´ï¼",charIndex:11004},{level:3,title:"ç»è¯­",slug:"ç»è¯­",normalizedTitle:"ç»è¯­",charIndex:11195}],headersStr:"1.UUID 2.UUIDè½¬Longçæ¹å¼ 3.æ°æ®åºèªå¢ID 4.Redisçincrèªå¢ 5.æ°æ®åºå·æ®µæ¨¡å¼ 6.Snowflake 6.Leaf-snowflakeï¼ç¾å¢ï¼ 7.uid-generatorï¼ç¾åº¦ï¼ 8.Tinyidï¼æ»´æ»´ï¼ ç»è¯­",content:'# 1.UUID\n\nUUID.randomUUID().toString()\n\n\n1\n\n\nãä¼ç¹ã\n\n 1. æ¬å°çææ ç½ç»æ¶èï¼å¹¶å·æå¯ä¸æ§ã\n\nãç¼ºç¹ã\n\n 1. é¿åº¦è¾é¿ä¸æ åºï¼ä¹æ²¡æå®éæä¹ï¼\n 2. ä¸éç¨äºå®éçä¸å¡éæ±ãåç¨ä½è®¢åå·UUIDè¿æ ·çå­ç¬¦ä¸²æ²¡æä¸æ¯«çæä¹ï¼çä¸åºåè®¢åç¸å³çæç¨ä¿¡æ¯ï¼\n 3. å¦æåmysqlè¡¨ä¸»é®çè¯ï¼ç±äºmysqlçåºå±å­å¨ç»ææ¯B+æ ï¼èç¹å¨æåºç­æä½æ¶ï¼æ§è½å·®äºæ´åã\n\n\n# 2.UUIDè½¬Longçæ¹å¼\n\nUUID.randomUUID().getMostSignificantBits() & Long.MAX_VALUE\n\n\n1\n\n\næ¥çUUIDç±»çtoString()æ¹æ³ï¼ä¼åç°UUIDæ¯ç±é«64ä½åä½64ä½ç»åèæï¼\n\npublic String toString() {\n        return (digits(mostSigBits >> 32, 8) + "-" +\n                digits(mostSigBits >> 16, 4) + "-" +\n                digits(mostSigBits, 4) + "-" +\n                digits(leastSigBits >> 48, 4) + "-" +\n                digits(leastSigBits, 12));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nUUIDçé«64ä½ä¸0111111111111111111111111111111111111111111111111111111111111111åæä½è¿ç®ï¼å¯ä¿è¯çæçidå§ç»ä¸ºæ­£æ°ã\n\n\n# 3.æ°æ®åºèªå¢ID\n\nåºäºæ°æ®åºçauto_incrementèªå¢IDã\n\nCREATE DATABASE `SEQ_ID`;\nCREATE TABLE SEQID.SEQUENCE_ID (\n    id bigint(20) unsigned NOT NULL auto_increment, \n    value char(10) NOT NULL default \'\',\n    PRIMARY KEY (id),\n) ENGINE=MyISAM;\n\ninsert into SEQUENCE_ID(value) VALUES (\'values\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãä¼ç¹ã\n\n 1. IDèªå¢ï¼æ°å¼ç±»åå­åæ§è½å¥½ï¼\n\nãç¼ºç¹ã 1.åç¹è¦é²æ­¢å®æºé£é©ï¼ 2.éç¾¤æ¨¡å¼é¾æ©å±ï¼æ¯å¦æ­¥é¿ã\n\n\n# 4.Redisçincrèªå¢\n\nãä¼ç¹ã\n\n 1. Redisçä¼ç¹æ¯åçº¿ç¨ãåå»äºçº¿ç¨é´åæ¢çå¼éï¼å­åéåº¦å¿«ã\n\nãç¼ºç¹ã\n\n 1. Redisæ»¡è¶³åå¸å¼CAPååä¸­çAï¼Availabilityå¯ç¨æ§ï¼ãPï¼Partition toleranceååºå®¹éæ§ï¼ï¼ä¸è½æ»¡è¶³Cï¼Consistencyä¸è´æ§ï¼ï¼ä¹å°±æ¯è¯´Redisæ æ³ä¿è¯å¨ä¸»èç¹å®æºæ¶èªå¨å®ææ°æ®ä¸è´æ§çåæ­¥æä½ãé£ä¹å¨æç«¯æåµä¸ï¼ä¸»èç¹ææåå¯è½äº§çéå¤çidã\n 2. å³ä½¿èèç¨æä¹åçæ¹å¼æ¥è§é¿ä¸é¢çé®é¢ï¼ä»å­å¨ä»¥ä¸ç¼ºé·ï¼ RDBæ¹å¼ï¼å®æ¶å¤ä»½ï¼å¯è½å­å¨æ°æ®ä¸¢å¤±ãåå¦è¿ç»­èªå¢ä½redisæ²¡åæ¶æä¹åï¼èæ­¤æ¶Redisææäºï¼éå¯Redisåå¯è½ä¼åºç°IDéå¤çæåµã AOFæ¹å¼ï¼æ¯æ¡åå½ä»¤é½å¤ä»½ï¼ä¸ä¼åºç°IDéå¤çæåµï¼ä½æä»¶è¿å¤§ï¼æ¢å¤æ°æ®æ¢ã\n\n\n# 5.æ°æ®åºå·æ®µæ¨¡å¼\n\nç¨è¡¨è®°å½å½åæå¤§idï¼åèªå¢æ­¥é¿ãæ¯æ¬¡æºå¨éè¿ä¹è§éçæ¹å¼ä¿®æ¹å½åæå¤§idå­æ®µï¼\n\nupdate id_generator set max_id = #{max_id+step}, version = version + 1 where version = #{version} and biz_type = XXX\n\n\n1\n\n\nãä¼ç¹ã ä¸ä¼é¢ç¹çè®¿é®æ°æ®åºï¼å¯¹æ°æ®åºçååå°å¾å¤ã ãå¾ç¤ºã\n\n\n# 6.Snowflake\n\nãç»æã ç¬¦å·ä½ï¼1bitï¼ç¬¦å·ä½ï¼åºå®æ¯0ï¼è¡¨ç¤ºå¨é¨IDé½æ¯æ­£æ´æ° æ¶é´æ³ï¼ä¸æå®æ¥æçæ¶é´å·®ï¼æ¯«ç§çº§ï¼ï¼41ä½ï¼å¤ç¨69å¹´ éç¾¤IDãæºå¨IDï¼10ä½ï¼æå¤æ¯æ1024å°æºå¨ èªå¢åºåï¼12ä½ï¼æ¯å°æºå¨æ¯æ¯«ç§åæå¤äº§ç2^12å³4096ä¸ªåºåå· ãä¼ç¹ã\n\n 1. æ¬å°çææ ç½ç»æ¶èã\n\nãç¼ºç¹ã\n\n 1. ä¾èµç³»ç»æ¶é´ï¼å¦æç³»ç»æ¶é´è¢«åè°ï¼æèæ¹åï¼å¯è½ä¼é æidå²çªæèéå¤ï¼ä¹è½åºç°ä¸æ¯å¨å±éå¢çæåµã\n\n\n# 6.Leaf-snowflakeï¼ç¾å¢ï¼\n\nç¾å¢å¯¹å·æ®µæ¨¡å¼åéªè±ç®æ³çå®ç°æ¹å¼åææ¹è¿ã ãææ¡£ã https://tech.meituan.com/2017/04/21/mt-leaf.html ãå¾åã å¾·å½å²å­¦å®¶ãæ°å­¦å®¶è±å¸å°¼è¨çä¸å¥è¯ï¼ >There are no two identical leaves in the world > âä¸çä¸æ²¡æä¸¤çç¸åçæ å¶âã ãå·æ®µæ¨¡å¼æ¹è¿ã åºäºæ°æ®åºå·æ®µæ¨¡å¼ï¼ä½åå·æ®µçæ¶æºä¸å¨å·æ®µæ¶èå®çæ¶åè¿è¡ï¼èæ¯å½å·æ®µæ¶è´¹å°æä¸ªç¹æ¶å°±å¼æ­¥çæä¸ä¸ä¸ªå·æ®µå è½½å°åå­ä¸­ï¼å¥½å¤æ¯ä¸é»å¡ä¸´çç¹çIDä¸åã\n\nãéªè±ç®æ³æ¹è¿ââè§£å³æ¶éåéæ¹æ¡ã\n\n 1. å¯å¨æ¶ï¼ a. å¼±ä¾èµZooKeeperï¼ç±Zookeeppçæä¹åé¡ºåºèç¹æ¥å­å¨wokerIdãè¥åè¿ï¼åç¨èªèº«ç³»ç»æ¶é´ä¸leaf_forever/${self}èç¹è®°å½æ¶é´åæ¯è¾ï¼è¥å°äºleaf_forever/${self}æ¶é´åè®¤ä¸ºæºå¨æ¶é´åçäºå¤§æ­¥é¿åæ¨ï¼æå¡å¯å¨å¤±è´¥å¹¶æ¥è­¦ã b. è¥æªåè¿ï¼è¯ææ¯æ°æå¡èç¹ï¼ç´æ¥åå»ºæä¹èç¹leaf_forever/${self}å¹¶åå¥èªèº«ç³»ç»æ¶é´ï¼æ¥ä¸æ¥ç»¼åå¯¹æ¯å¶ä½Leafèç¹çç³»ç»æ¶é´æ¥å¤æ­èªèº«ç³»ç»æ¶é´æ¯å¦åç¡®ï¼å·ä½åæ³æ¯åleaf_temporaryä¸çææä¸´æ¶èç¹(ææè¿è¡ä¸­çLeaf-snowflakeèç¹)çæå¡IPï¼Portï¼ç¶åéè¿RPCè¯·æ±å¾å°ææèç¹çç³»ç»æ¶é´ï¼è®¡ç®sum(time)/nodeSizeã c. è¥abs( ç³»ç»æ¶é´-sum(time)/nodeSize ) < éå¼ï¼è®¤ä¸ºå½åç³»ç»æ¶é´åç¡®ï¼æ­£å¸¸å¯å¨æå¡ï¼åæ¶åä¸´æ¶èç¹leaf_temporary/${self} ç»´æç§çº¦ã d. å¦åè®¤ä¸ºæ¬æºç³»ç»æ¶é´åçå¤§æ­¥é¿åç§»ï¼å¯å¨å¤±è´¥å¹¶æ¥è­¦ã e. æ¯éä¸æ®µæ¶é´(3s)ä¸æ¥èªèº«ç³»ç»æ¶é´åå¥leaf_forever/${self}ã\n 2. è¿è¡æ¶ï¼ a. å»ºè®®å¯ä»¥ç´æ¥å³é­NTPåæ­¥ï¼ãNetwork Time Protocolï¼NTPï¼ã b. åä¸å±éè¯ï¼ç¶åä¸æ¥æ¥è­¦ç³»ç»ï¼æ´æèæ¯åç°ææ¶éåæ¨ä¹åèªå¨æé¤æ¬èº«èç¹å¹¶æ¥è­¦ï¼\n\nãä¸»è¦ä»£ç ã å·æ®µæ¨¡å¼ï¼\n\n//LeafController.class\n@RequestMapping(value = "/api/segment/get/{key}")\npublic String getSegmentId(@PathVariable("key") String key) {\n        return get(key, segmentService.getId(key));\n}\n\n//SegmentIDGenImpl.class\n@Override\npublic Result get(final String key) {\n        // å°åå§å¼åæ­¥é¿åå§å\n        if (!initOK) {\n                return new Result(EXCEPTION_ID_IDCACHE_INIT_FALSE, Status.EXCEPTION);\n        }\n        // keyä¸ºä¸å¡æ è¯\n        if (cache.containsKey(key)) {\n                SegmentBuffer buffer = cache.get(key);\n                // å¦æå½åè¿æ²¡æåå§åå·æ®µ\n                if (!buffer.isInitOk()) {\n                        synchronized (buffer) {\n                                if (!buffer.isInitOk()) {\n                                        try {\n                                                updateSegmentFromDb(key, buffer.getCurrent());\n                                                logger.info("Init buffer. Update leafkey {} {} from db", key, buffer.getCurrent());\n                                                buffer.setInitOk(true);\n                                        } catch (Exception e) {\n                                                logger.warn("Init buffer {} exception", buffer.getCurrent(), e);\n                                        }\n                                }\n                        }\n                }\n                // ä»ç¼å­ä¸­åå¼\n                return getIdFromSegmentBuffer(cache.get(key));\n        }\n        return new Result(EXCEPTION_ID_KEY_NOT_EXISTS, Status.EXCEPTION);\n}\n\nprivate ExecutorService service = new ThreadPoolExecutor(5, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue<Runnable>(), new UpdateThreadFactory());\n\npublic Result getIdFromSegmentBuffer(final SegmentBuffer buffer) {\n            while (true) {\n                    buffer.rLock().lock();\n                    try {\n                            final Segment segment = buffer.getCurrent();\n                            // å½å·æ®µæ¶è´¹å°æä¸ªç¹æ¶å°±å¼æ­¥çæä¸ä¸ä¸ªå·æ®µå è½½å°åå­ä¸­\n                            if (!buffer.isNextReady() && (segment.getIdle() < 0.9 * segment.getStep()) && buffer.getThreadRunning().compareAndSet(false, true)) {\n                                    service.execute(new Runnable() {\n                                            @Override\n                                            public void run() {\n                                                    Segment next = buffer.getSegments()[buffer.nextPos()];\n                                                    boolean updateOk = false;\n                                                    try {\n                                                            updateSegmentFromDb(buffer.getKey(), next);\n                                                            updateOk = true;\n                                                            logger.info("update segment {} from db {}", buffer.getKey(), next);\n                                                    } catch (Exception e) {\n                                                            logger.warn(buffer.getKey() + " updateSegmentFromDb exception", e);\n                                                    } finally {\n                                                            if (updateOk) {\n                                                                    buffer.wLock().lock();\n                                                                    buffer.setNextReady(true);\n                                                                    buffer.getThreadRunning().set(false);\n                                                                    buffer.wLock().unlock();\n                                                            } else {\n                                                                    buffer.getThreadRunning().set(false);\n                                                            }\n                                                    }\n                                            }\n                                    });\n                            }\n                            long value = segment.getValue().getAndIncrement();\n                            if (value < segment.getMax()) {\n                                    return new Result(value, Status.SUCCESS);\n                            }\n                    } finally {\n                            buffer.rLock().unlock();\n                    }\n                    waitAndSleep(buffer);\n                    buffer.wLock().lock();\n                    try {\n                            final Segment segment = buffer.getCurrent();\n                            long value = segment.getValue().getAndIncrement();\n                            if (value < segment.getMax()) {\n                                    return new Result(value, Status.SUCCESS);\n                            }\n                            if (buffer.isNextReady()) {\n                                    buffer.switchPos();\n                                    buffer.setNextReady(false);\n                            } else {\n                                    logger.error("Both two segments in {} are not ready!", buffer);\n                                    return new Result(EXCEPTION_ID_TWO_SEGMENTS_ARE_NULL, Status.EXCEPTION);\n                            }\n                    } finally {\n                            buffer.wLock().unlock();\n                    }\n            }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n\n\néªè±ç®æ³ï¼\n\n//LeafController.class\n@RequestMapping(value = "/api/snowflake/get/{key}")\npublic String getSnowflakeId(@PathVariable("key") String key) {\n        return get(key, snowflakeService.getId(key));\n}\n\n//SnowflakeIDGenImpl.class\npublic synchronized Result get(String key) {\n        long timestamp = timeGen();\n        // å½åæ¶é´å°äºä¸æ¬¡ç¨çæ¶é´æ³\n        if (timestamp < lastTimestamp) {\n            long offset = lastTimestamp - timestamp;\n            if (offset <= 5) {\n                try {\n                    // æ¶é´åå·®å¤§å°å¦æå°äº5msï¼åç­å¾ä¸¤åæ¶é´\n                    wait(offset << 1);\n                    // éæ°è·åæ¶é´æ³\n                    timestamp = timeGen();\n                    if (timestamp < lastTimestamp) {\n                        return new Result(-1, Status.EXCEPTION);\n                    }\n                } catch (InterruptedException e) {\n                    LOGGER.error("wait interrupted");\n                    return new Result(-2, Status.EXCEPTION);\n                }\n            } else {\n                return new Result(-3, Status.EXCEPTION);\n            }\n        }\n        // å½åæ¶é´ = ä¸æ¬¡çæ¶é´æ³\n        if (lastTimestamp == timestamp) {\n            sequence = (sequence + 1) & sequenceMask;\n            if (sequence == 0) {\n                //seq ä¸º0çæ¶åè¡¨ç¤ºæ¯ä¸ä¸æ¯«ç§æ¶é´å¼å§å¯¹seqåéæº\n                sequence = RANDOM.nextInt(100);\n                timestamp = tilNextMillis(lastTimestamp);\n            }\n        } else {\n            //å¦ææ¯æ°çmså¼å§\n            sequence = RANDOM.nextInt(100);\n        }\n        lastTimestamp = timestamp;\n        long id = ((timestamp - twepoch) << timestampLeftShift) | (workerId << workerIdShift) | sequence;\n        return new Result(id, Status.SUCCESS);\n\n    }\n\n    protected long tilNextMillis(long lastTimestamp) {\n        long timestamp = timeGen();\n        while (timestamp <= lastTimestamp) {\n            timestamp = timeGen();\n        }\n        return timestamp;\n    }\n\n    protected long timeGen() {\n        return System.currentTimeMillis();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\n\n# 7.uid-generatorï¼ç¾åº¦ï¼\n\nãææ¡£ã https://github.com/baidu/uid-generator/blob/master/README.zh_cn.md ãç»æã â sign(1bit) â åºå®1bitç¬¦å·æ è¯ï¼å³çæçUIDä¸ºæ­£æ°ã â delta seconds (28 bits) â å½åæ¶é´ï¼ç¸å¯¹äºæ¶é´åºç¹"2016-05-20"çå¢éå¼ï¼åä½ï¼ç§ï¼æå¤å¯æ¯æçº¦8.7å¹´ â worker id (22 bits) â æºå¨idï¼æå¤å¯æ¯æçº¦420wæ¬¡æºå¨å¯å¨ãåç½®å®ç°ä¸ºå¨å¯å¨æ¶ç±æ°æ®åºåéï¼é»è®¤åéç­ç¥ä¸ºç¨åå³å¼ï¼åç»­å¯æä¾å¤ç¨ç­ç¥ã â sequence (13 bits) â æ¯ç§ä¸çå¹¶ååºåï¼13 bitså¯æ¯ææ¯ç§8192ä¸ªå¹¶åã ä»¥ä¸åæ°åå¯éè¿Springè¿è¡èªå®ä¹\n\n\n# 8.Tinyidï¼æ»´æ»´ï¼\n\nTinyidæ©å±äºleaf-segmentç®æ³ï¼æ¯æäºå¤db(master)ï¼åæ¶æä¾äºjava-client(sdk)ä½¿idçææ¬å°åã ãä¼ç¹ã\n\n 1. æä¾httpåjava clientæ¹å¼æ¥å¥\n 2. æ¯ææ¹éè·åid\n 3. æ¯æçæ1,3,5,7,9...åºåçidï¼å¶å®å°±æ¯forå¾ªç¯è·åï¼\n 4. æ¯æå¤ä¸ªdbçéç½®ï¼æ åç¹\n\n\n# ç»è¯­\n\nå¯¹æ¯äºå ç§åå¸å¼idçæ¹æ¡ï¼ä¸ªäººè®¤ä¸ºç¾å¢çå®ç°æ¹æ¡æ¯æ¯è¾å®åçï¼å®å¯¹ä¸çæ¯è¾æµè¡çä¸¤ç§æ¹æ¡ï¼å·æ®µæ¨¡å¼åéªè±ç®æ³ï¼åææ¹è¿ï¼ä¸ç¾åº¦ãæ»´æ»´çæ¹æ¡ååºäºå®æ¥å®ç°ã\n\nå¦ææ³è¦æ´ç®ä¾¿çæ¹å¼ï¼UUIDãUUIDè½¬LongãRedisèªå¢æ¹æ¡æ¯ä¸éçéæ©ï¼å¯ä»¥æåèªçä¼ç¼ºç¹å»éæ©æ¹æ¡ãå ä¸ºæ²¡ææä¼ï¼åªææåéä¸å¡çæ¹æ¡ã\n\nåèï¼ Leafââç¾å¢ç¹è¯åå¸å¼IDçæç³»ç»',normalizedContent:'# 1.uuid\n\nuuid.randomuuid().tostring()\n\n\n1\n\n\nãä¼ç¹ã\n\n 1. æ¬å°çææ ç½ç»æ¶èï¼å¹¶å·æå¯ä¸æ§ã\n\nãç¼ºç¹ã\n\n 1. é¿åº¦è¾é¿ä¸æ åºï¼ä¹æ²¡æå®éæä¹ï¼\n 2. ä¸éç¨äºå®éçä¸å¡éæ±ãåç¨ä½è®¢åå·uuidè¿æ ·çå­ç¬¦ä¸²æ²¡æä¸æ¯«çæä¹ï¼çä¸åºåè®¢åç¸å³çæç¨ä¿¡æ¯ï¼\n 3. å¦æåmysqlè¡¨ä¸»é®çè¯ï¼ç±äºmysqlçåºå±å­å¨ç»ææ¯b+æ ï¼èç¹å¨æåºç­æä½æ¶ï¼æ§è½å·®äºæ´åã\n\n\n# 2.uuidè½¬longçæ¹å¼\n\nuuid.randomuuid().getmostsignificantbits() & long.max_value\n\n\n1\n\n\næ¥çuuidç±»çtostring()æ¹æ³ï¼ä¼åç°uuidæ¯ç±é«64ä½åä½64ä½ç»åèæï¼\n\npublic string tostring() {\n        return (digits(mostsigbits >> 32, 8) + "-" +\n                digits(mostsigbits >> 16, 4) + "-" +\n                digits(mostsigbits, 4) + "-" +\n                digits(leastsigbits >> 48, 4) + "-" +\n                digits(leastsigbits, 12));\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nuuidçé«64ä½ä¸0111111111111111111111111111111111111111111111111111111111111111åæä½è¿ç®ï¼å¯ä¿è¯çæçidå§ç»ä¸ºæ­£æ°ã\n\n\n# 3.æ°æ®åºèªå¢id\n\nåºäºæ°æ®åºçauto_incrementèªå¢idã\n\ncreate database `seq_id`;\ncreate table seqid.sequence_id (\n    id bigint(20) unsigned not null auto_increment, \n    value char(10) not null default \'\',\n    primary key (id),\n) engine=myisam;\n\ninsert into sequence_id(value) values (\'values\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãä¼ç¹ã\n\n 1. idèªå¢ï¼æ°å¼ç±»åå­åæ§è½å¥½ï¼\n\nãç¼ºç¹ã 1.åç¹è¦é²æ­¢å®æºé£é©ï¼ 2.éç¾¤æ¨¡å¼é¾æ©å±ï¼æ¯å¦æ­¥é¿ã\n\n\n# 4.redisçincrèªå¢\n\nãä¼ç¹ã\n\n 1. redisçä¼ç¹æ¯åçº¿ç¨ãåå»äºçº¿ç¨é´åæ¢çå¼éï¼å­åéåº¦å¿«ã\n\nãç¼ºç¹ã\n\n 1. redisæ»¡è¶³åå¸å¼capååä¸­çaï¼availabilityå¯ç¨æ§ï¼ãpï¼partition toleranceååºå®¹éæ§ï¼ï¼ä¸è½æ»¡è¶³cï¼consistencyä¸è´æ§ï¼ï¼ä¹å°±æ¯è¯´redisæ æ³ä¿è¯å¨ä¸»èç¹å®æºæ¶èªå¨å®ææ°æ®ä¸è´æ§çåæ­¥æä½ãé£ä¹å¨æç«¯æåµä¸ï¼ä¸»èç¹ææåå¯è½äº§çéå¤çidã\n 2. å³ä½¿èèç¨æä¹åçæ¹å¼æ¥è§é¿ä¸é¢çé®é¢ï¼ä»å­å¨ä»¥ä¸ç¼ºé·ï¼ rdbæ¹å¼ï¼å®æ¶å¤ä»½ï¼å¯è½å­å¨æ°æ®ä¸¢å¤±ãåå¦è¿ç»­èªå¢ä½redisæ²¡åæ¶æä¹åï¼èæ­¤æ¶redisææäºï¼éå¯redisåå¯è½ä¼åºç°idéå¤çæåµã aofæ¹å¼ï¼æ¯æ¡åå½ä»¤é½å¤ä»½ï¼ä¸ä¼åºç°idéå¤çæåµï¼ä½æä»¶è¿å¤§ï¼æ¢å¤æ°æ®æ¢ã\n\n\n# 5.æ°æ®åºå·æ®µæ¨¡å¼\n\nç¨è¡¨è®°å½å½åæå¤§idï¼åèªå¢æ­¥é¿ãæ¯æ¬¡æºå¨éè¿ä¹è§éçæ¹å¼ä¿®æ¹å½åæå¤§idå­æ®µï¼\n\nupdate id_generator set max_id = #{max_id+step}, version = version + 1 where version = #{version} and biz_type = xxx\n\n\n1\n\n\nãä¼ç¹ã ä¸ä¼é¢ç¹çè®¿é®æ°æ®åºï¼å¯¹æ°æ®åºçååå°å¾å¤ã ãå¾ç¤ºã\n\n\n# 6.snowflake\n\nãç»æã ç¬¦å·ä½ï¼1bitï¼ç¬¦å·ä½ï¼åºå®æ¯0ï¼è¡¨ç¤ºå¨é¨idé½æ¯æ­£æ´æ° æ¶é´æ³ï¼ä¸æå®æ¥æçæ¶é´å·®ï¼æ¯«ç§çº§ï¼ï¼41ä½ï¼å¤ç¨69å¹´ éç¾¤idãæºå¨idï¼10ä½ï¼æå¤æ¯æ1024å°æºå¨ èªå¢åºåï¼12ä½ï¼æ¯å°æºå¨æ¯æ¯«ç§åæå¤äº§ç2^12å³4096ä¸ªåºåå· ãä¼ç¹ã\n\n 1. æ¬å°çææ ç½ç»æ¶èã\n\nãç¼ºç¹ã\n\n 1. ä¾èµç³»ç»æ¶é´ï¼å¦æç³»ç»æ¶é´è¢«åè°ï¼æèæ¹åï¼å¯è½ä¼é æidå²çªæèéå¤ï¼ä¹è½åºç°ä¸æ¯å¨å±éå¢çæåµã\n\n\n# 6.leaf-snowflakeï¼ç¾å¢ï¼\n\nç¾å¢å¯¹å·æ®µæ¨¡å¼åéªè±ç®æ³çå®ç°æ¹å¼åææ¹è¿ã ãææ¡£ã https://tech.meituan.com/2017/04/21/mt-leaf.html ãå¾åã å¾·å½å²å­¦å®¶ãæ°å­¦å®¶è±å¸å°¼è¨çä¸å¥è¯ï¼ >there are no two identical leaves in the world > âä¸çä¸æ²¡æä¸¤çç¸åçæ å¶âã ãå·æ®µæ¨¡å¼æ¹è¿ã åºäºæ°æ®åºå·æ®µæ¨¡å¼ï¼ä½åå·æ®µçæ¶æºä¸å¨å·æ®µæ¶èå®çæ¶åè¿è¡ï¼èæ¯å½å·æ®µæ¶è´¹å°æä¸ªç¹æ¶å°±å¼æ­¥çæä¸ä¸ä¸ªå·æ®µå è½½å°åå­ä¸­ï¼å¥½å¤æ¯ä¸é»å¡ä¸´çç¹çidä¸åã\n\nãéªè±ç®æ³æ¹è¿ââè§£å³æ¶éåéæ¹æ¡ã\n\n 1. å¯å¨æ¶ï¼ a. å¼±ä¾èµzookeeperï¼ç±zookeeppçæä¹åé¡ºåºèç¹æ¥å­å¨wokeridãè¥åè¿ï¼åç¨èªèº«ç³»ç»æ¶é´ä¸leaf_forever/${self}èç¹è®°å½æ¶é´åæ¯è¾ï¼è¥å°äºleaf_forever/${self}æ¶é´åè®¤ä¸ºæºå¨æ¶é´åçäºå¤§æ­¥é¿åæ¨ï¼æå¡å¯å¨å¤±è´¥å¹¶æ¥è­¦ã b. è¥æªåè¿ï¼è¯ææ¯æ°æå¡èç¹ï¼ç´æ¥åå»ºæä¹èç¹leaf_forever/${self}å¹¶åå¥èªèº«ç³»ç»æ¶é´ï¼æ¥ä¸æ¥ç»¼åå¯¹æ¯å¶ä½leafèç¹çç³»ç»æ¶é´æ¥å¤æ­èªèº«ç³»ç»æ¶é´æ¯å¦åç¡®ï¼å·ä½åæ³æ¯åleaf_temporaryä¸çææä¸´æ¶èç¹(ææè¿è¡ä¸­çleaf-snowflakeèç¹)çæå¡ipï¼portï¼ç¶åéè¿rpcè¯·æ±å¾å°ææèç¹çç³»ç»æ¶é´ï¼è®¡ç®sum(time)/nodesizeã c. è¥abs( ç³»ç»æ¶é´-sum(time)/nodesize ) < éå¼ï¼è®¤ä¸ºå½åç³»ç»æ¶é´åç¡®ï¼æ­£å¸¸å¯å¨æå¡ï¼åæ¶åä¸´æ¶èç¹leaf_temporary/${self} ç»´æç§çº¦ã d. å¦åè®¤ä¸ºæ¬æºç³»ç»æ¶é´åçå¤§æ­¥é¿åç§»ï¼å¯å¨å¤±è´¥å¹¶æ¥è­¦ã e. æ¯éä¸æ®µæ¶é´(3s)ä¸æ¥èªèº«ç³»ç»æ¶é´åå¥leaf_forever/${self}ã\n 2. è¿è¡æ¶ï¼ a. å»ºè®®å¯ä»¥ç´æ¥å³é­ntpåæ­¥ï¼ãnetwork time protocolï¼ntpï¼ã b. åä¸å±éè¯ï¼ç¶åä¸æ¥æ¥è­¦ç³»ç»ï¼æ´æèæ¯åç°ææ¶éåæ¨ä¹åèªå¨æé¤æ¬èº«èç¹å¹¶æ¥è­¦ï¼\n\nãä¸»è¦ä»£ç ã å·æ®µæ¨¡å¼ï¼\n\n//leafcontroller.class\n@requestmapping(value = "/api/segment/get/{key}")\npublic string getsegmentid(@pathvariable("key") string key) {\n        return get(key, segmentservice.getid(key));\n}\n\n//segmentidgenimpl.class\n@override\npublic result get(final string key) {\n        // å°åå§å¼åæ­¥é¿åå§å\n        if (!initok) {\n                return new result(exception_id_idcache_init_false, status.exception);\n        }\n        // keyä¸ºä¸å¡æ è¯\n        if (cache.containskey(key)) {\n                segmentbuffer buffer = cache.get(key);\n                // å¦æå½åè¿æ²¡æåå§åå·æ®µ\n                if (!buffer.isinitok()) {\n                        synchronized (buffer) {\n                                if (!buffer.isinitok()) {\n                                        try {\n                                                updatesegmentfromdb(key, buffer.getcurrent());\n                                                logger.info("init buffer. update leafkey {} {} from db", key, buffer.getcurrent());\n                                                buffer.setinitok(true);\n                                        } catch (exception e) {\n                                                logger.warn("init buffer {} exception", buffer.getcurrent(), e);\n                                        }\n                                }\n                        }\n                }\n                // ä»ç¼å­ä¸­åå¼\n                return getidfromsegmentbuffer(cache.get(key));\n        }\n        return new result(exception_id_key_not_exists, status.exception);\n}\n\nprivate executorservice service = new threadpoolexecutor(5, integer.max_value, 60l, timeunit.seconds, new synchronousqueue<runnable>(), new updatethreadfactory());\n\npublic result getidfromsegmentbuffer(final segmentbuffer buffer) {\n            while (true) {\n                    buffer.rlock().lock();\n                    try {\n                            final segment segment = buffer.getcurrent();\n                            // å½å·æ®µæ¶è´¹å°æä¸ªç¹æ¶å°±å¼æ­¥çæä¸ä¸ä¸ªå·æ®µå è½½å°åå­ä¸­\n                            if (!buffer.isnextready() && (segment.getidle() < 0.9 * segment.getstep()) && buffer.getthreadrunning().compareandset(false, true)) {\n                                    service.execute(new runnable() {\n                                            @override\n                                            public void run() {\n                                                    segment next = buffer.getsegments()[buffer.nextpos()];\n                                                    boolean updateok = false;\n                                                    try {\n                                                            updatesegmentfromdb(buffer.getkey(), next);\n                                                            updateok = true;\n                                                            logger.info("update segment {} from db {}", buffer.getkey(), next);\n                                                    } catch (exception e) {\n                                                            logger.warn(buffer.getkey() + " updatesegmentfromdb exception", e);\n                                                    } finally {\n                                                            if (updateok) {\n                                                                    buffer.wlock().lock();\n                                                                    buffer.setnextready(true);\n                                                                    buffer.getthreadrunning().set(false);\n                                                                    buffer.wlock().unlock();\n                                                            } else {\n                                                                    buffer.getthreadrunning().set(false);\n                                                            }\n                                                    }\n                                            }\n                                    });\n                            }\n                            long value = segment.getvalue().getandincrement();\n                            if (value < segment.getmax()) {\n                                    return new result(value, status.success);\n                            }\n                    } finally {\n                            buffer.rlock().unlock();\n                    }\n                    waitandsleep(buffer);\n                    buffer.wlock().lock();\n                    try {\n                            final segment segment = buffer.getcurrent();\n                            long value = segment.getvalue().getandincrement();\n                            if (value < segment.getmax()) {\n                                    return new result(value, status.success);\n                            }\n                            if (buffer.isnextready()) {\n                                    buffer.switchpos();\n                                    buffer.setnextready(false);\n                            } else {\n                                    logger.error("both two segments in {} are not ready!", buffer);\n                                    return new result(exception_id_two_segments_are_null, status.exception);\n                            }\n                    } finally {\n                            buffer.wlock().unlock();\n                    }\n            }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n\n\néªè±ç®æ³ï¼\n\n//leafcontroller.class\n@requestmapping(value = "/api/snowflake/get/{key}")\npublic string getsnowflakeid(@pathvariable("key") string key) {\n        return get(key, snowflakeservice.getid(key));\n}\n\n//snowflakeidgenimpl.class\npublic synchronized result get(string key) {\n        long timestamp = timegen();\n        // å½åæ¶é´å°äºä¸æ¬¡ç¨çæ¶é´æ³\n        if (timestamp < lasttimestamp) {\n            long offset = lasttimestamp - timestamp;\n            if (offset <= 5) {\n                try {\n                    // æ¶é´åå·®å¤§å°å¦æå°äº5msï¼åç­å¾ä¸¤åæ¶é´\n                    wait(offset << 1);\n                    // éæ°è·åæ¶é´æ³\n                    timestamp = timegen();\n                    if (timestamp < lasttimestamp) {\n                        return new result(-1, status.exception);\n                    }\n                } catch (interruptedexception e) {\n                    logger.error("wait interrupted");\n                    return new result(-2, status.exception);\n                }\n            } else {\n                return new result(-3, status.exception);\n            }\n        }\n        // å½åæ¶é´ = ä¸æ¬¡çæ¶é´æ³\n        if (lasttimestamp == timestamp) {\n            sequence = (sequence + 1) & sequencemask;\n            if (sequence == 0) {\n                //seq ä¸º0çæ¶åè¡¨ç¤ºæ¯ä¸ä¸æ¯«ç§æ¶é´å¼å§å¯¹seqåéæº\n                sequence = random.nextint(100);\n                timestamp = tilnextmillis(lasttimestamp);\n            }\n        } else {\n            //å¦ææ¯æ°çmså¼å§\n            sequence = random.nextint(100);\n        }\n        lasttimestamp = timestamp;\n        long id = ((timestamp - twepoch) << timestampleftshift) | (workerid << workeridshift) | sequence;\n        return new result(id, status.success);\n\n    }\n\n    protected long tilnextmillis(long lasttimestamp) {\n        long timestamp = timegen();\n        while (timestamp <= lasttimestamp) {\n            timestamp = timegen();\n        }\n        return timestamp;\n    }\n\n    protected long timegen() {\n        return system.currenttimemillis();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\n\n# 7.uid-generatorï¼ç¾åº¦ï¼\n\nãææ¡£ã https://github.com/baidu/uid-generator/blob/master/readme.zh_cn.md ãç»æã â sign(1bit) â åºå®1bitç¬¦å·æ è¯ï¼å³çæçuidä¸ºæ­£æ°ã â delta seconds (28 bits) â å½åæ¶é´ï¼ç¸å¯¹äºæ¶é´åºç¹"2016-05-20"çå¢éå¼ï¼åä½ï¼ç§ï¼æå¤å¯æ¯æçº¦8.7å¹´ â worker id (22 bits) â æºå¨idï¼æå¤å¯æ¯æçº¦420wæ¬¡æºå¨å¯å¨ãåç½®å®ç°ä¸ºå¨å¯å¨æ¶ç±æ°æ®åºåéï¼é»è®¤åéç­ç¥ä¸ºç¨åå³å¼ï¼åç»­å¯æä¾å¤ç¨ç­ç¥ã â sequence (13 bits) â æ¯ç§ä¸çå¹¶ååºåï¼13 bitså¯æ¯ææ¯ç§8192ä¸ªå¹¶åã ä»¥ä¸åæ°åå¯éè¿springè¿è¡èªå®ä¹\n\n\n# 8.tinyidï¼æ»´æ»´ï¼\n\ntinyidæ©å±äºleaf-segmentç®æ³ï¼æ¯æäºå¤db(master)ï¼åæ¶æä¾äºjava-client(sdk)ä½¿idçææ¬å°åã ãä¼ç¹ã\n\n 1. æä¾httpåjava clientæ¹å¼æ¥å¥\n 2. æ¯ææ¹éè·åid\n 3. æ¯æçæ1,3,5,7,9...åºåçidï¼å¶å®å°±æ¯forå¾ªç¯è·åï¼\n 4. æ¯æå¤ä¸ªdbçéç½®ï¼æ åç¹\n\n\n# ç»è¯­\n\nå¯¹æ¯äºå ç§åå¸å¼idçæ¹æ¡ï¼ä¸ªäººè®¤ä¸ºç¾å¢çå®ç°æ¹æ¡æ¯æ¯è¾å®åçï¼å®å¯¹ä¸çæ¯è¾æµè¡çä¸¤ç§æ¹æ¡ï¼å·æ®µæ¨¡å¼åéªè±ç®æ³ï¼åææ¹è¿ï¼ä¸ç¾åº¦ãæ»´æ»´çæ¹æ¡ååºäºå®æ¥å®ç°ã\n\nå¦ææ³è¦æ´ç®ä¾¿çæ¹å¼ï¼uuidãuuidè½¬longãredisèªå¢æ¹æ¡æ¯ä¸éçéæ©ï¼å¯ä»¥æåèªçä¼ç¼ºç¹å»éæ©æ¹æ¡ãå ä¸ºæ²¡ææä¼ï¼åªææåéä¸å¡çæ¹æ¡ã\n\nåèï¼ leafââç¾å¢ç¹è¯åå¸å¼idçæç³»ç»',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"çµå-ååç³»ç»è®¾è®¡",frontmatter:{title:"çµå-ååç³»ç»è®¾è®¡",date:"2022-12-17T12:22:21.000Z",permalink:"/pages/bb7e83/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/024.%E7%94%B5%E5%95%86-%E5%95%86%E5%93%81%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html",relativePath:"08.ç³»ç»è®¾è®¡/024.çµå-ååç³»ç»è®¾è®¡.md",key:"v-5afa53ed",path:"/pages/bb7e83/",headers:[{level:2,title:"åç±»ç®¡ç",slug:"åç±»ç®¡ç",normalizedTitle:"åç±»ç®¡ç",charIndex:2},{level:3,title:"åç«¯åç±»ç®¡ç",slug:"åç«¯åç±»ç®¡ç",normalizedTitle:"åç«¯åç±»ç®¡ç",charIndex:23},{level:4,title:"å±çº§ç»æ",slug:"å±çº§ç»æ",normalizedTitle:"å±çº§ç»æ",charIndex:485},{level:4,title:"å½åè§å",slug:"å½åè§å",normalizedTitle:"å½åè§å",charIndex:597},{level:4,title:"ä¸ªæ§åè·³è½¬",slug:"ä¸ªæ§åè·³è½¬",normalizedTitle:"ä¸ªæ§åè·³è½¬",charIndex:748},{level:4,title:"å³èåç«¯åç±»",slug:"å³èåç«¯åç±»",normalizedTitle:"å³èåç«¯åç±»",charIndex:908},{level:4,title:"å¶å®åè½",slug:"å¶å®åè½",normalizedTitle:"å¶å®åè½",charIndex:1026},{level:4,title:"ååå°ç±»ç®æ å°",slug:"ååå°ç±»ç®æ å°",normalizedTitle:"ååå°ç±»ç®æ å°",charIndex:1236},{level:3,title:"åç«¯åç±»ç®¡ç",slug:"åç«¯åç±»ç®¡ç",normalizedTitle:"åç«¯åç±»ç®¡ç",charIndex:30},{level:2,title:"ç±»ç®å±æ§ç®¡ç",slug:"ç±»ç®å±æ§ç®¡ç",normalizedTitle:"ç±»ç®å±æ§ç®¡ç",charIndex:3184},{level:2,title:"åºéºåç±»",slug:"åºéºåç±»",normalizedTitle:"åºéºåç±»",charIndex:295},{level:2,title:"ååç»´æ¤",slug:"ååç»´æ¤",normalizedTitle:"ååç»´æ¤",charIndex:3792},{level:2,title:"æç´¢",slug:"æç´¢",normalizedTitle:"æç´¢",charIndex:437}],headersStr:"åç±»ç®¡ç åç«¯åç±»ç®¡ç å±çº§ç»æ å½åè§å ä¸ªæ§åè·³è½¬ å³èåç«¯åç±» å¶å®åè½ ååå°ç±»ç®æ å° åç«¯åç±»ç®¡ç ç±»ç®å±æ§ç®¡ç åºéºåç±» ååç»´æ¤ æç´¢",content:"# åç±»ç®¡ç\n\nçµåå¹³å°ä¸­åç±»ç®¡çéå¸¸åä¸¤ç§ï¼åç«¯åç±»ç®¡çååç«¯åç±»ç®¡çï¼ä¸ºä»ä¹ä¼æä¸¤å¥åç±»ç®¡çå¢ï¼\n\n * å½å¹³å°åå±å£®å¤§çæ¶åï¼å¹³å°ä¸çååéå¸¸çå¤ï¼åç«¯ç³»ç»éè¦åå»ºæ¯è¾ç»è´çåç±»å¯¹ååå½ç±»ä»¥æ¹ä¾¿ç²¾ç»åç®¡çåæ°æ®ç»è®¡ã\n * åç«¯ä¸ºäºæ´»å¨ä¿éï¼è¿è¥äººåä¼æ ¹æ®å½åç­åº¦ææ ¹æ®ç¨æ·åå¥½ä¸æ­çå¯¹åç±»åä¸ªæ§åè°æ´ï¼ä»¥æ»¡è¶³æ¨å¹¿æ´»å¨ï¼å¦æç´æ¥ä¿®æ¹åå°çåç±»ï¼å¿å¿å¯¼è´åç«¯åç±»æ··ä¹±ï¼ç»´æ¤äººå(éå¸¸ç±éè´­é¨çäººæ¥ç»´æ¤)æ æ³è¯å«åååç±»ã\n\nåºäºä¸é¢ä¸¤ç¹ï¼éå¸¸å°±ä¼å¼åä¸¤å¥åç±»åå«ç±è¿è¥äººååéè´­äººååèªè¿è¡ç»´æ¤ï¼å³ä¸ä¼ç¸äºå½±åï¼åå®ç°äºåèªçä¸å¡åè½ã\n\nçµåç³»ç»æåªå ç§ååç±»ç®ï¼åå°ç±»ç®ãåå°ç±»ç®ãåºéºåç±»ã\n\n * åå°ç±»ç®ï¼å¯¹äºç¨æ·æ¥è¯´ï¼éè¿ç±»ç®å¯ä»¥ä¸ºå¸®å©ä»ä»¬å¿«éå°ç­éååï¼ä»èæ¾å°å¿ä»ªçç©åï¼\n * åå°ç±»ç®ï¼å¯¹äºå¹³å°æ¥è¯´ï¼å¯ä»¥é«æå°ç®¡çååä½ç³»ï¼ä¸ºè¿è¥äººåå¤æ ·åç±»ç®è¿è¥æä¾åºç¡æ¯æï¼\n * åºéºåç±»ï¼å¯¹äºåå®¶æ¥è¯´ï¼æå©äºåå®¶å¯¹ååå½ç±»åå¶å®è§åï¼æ¹ä¾¿ç¨æ·æ´åç¡®å°æ¾å°æèæç´¢å®è´ã\n\n\n# åç«¯åç±»ç®¡ç\n\nä¸å¾æ¯JDå®ç½é¦é¡µçåç±»å±ç¤ºï¼ææ¥ä¸æ¥åæä¸ä¸åè½ï¼\n\n# å±çº§ç»æ\n\nçµååç±»å¤§å¤§å°å°å ç¾ç§ï¼ä¸ä¸ªå¥½çç»ç»æ¹å¼æ çè½å¤è®©ç¨æ·æ´å¿«éãæ´ç´è§çäºè§£ç½ç«çä¸å¡åå®¹ï¼æå¸¸è§çæ¹å¼å°±æ¯å±çº§åæçæ å½¢ç»æã\n\nç»¼åèèå°ååçç»åç¨åº¦åç¨æ·çä½éªææï¼åç«¯å±ç¤ºçåç±»ä¸è¬é½æ¯ä¸çº§ç»æã\n\n# å½åè§å\n\nç±äºé¡µé¢é«åº¦éå¶åç¨æ·è§è§ææå½±åï¼ç½ç«é¦é¡µé»è®¤åªæ¾ç¤ºä¸çº§åç±»ï¼äºãä¸çº§åç±»éå¸¸è¢«éèï¼éè¦éè¿ç¨æ·ç§»å¨é¼ æ æ¥è¿è¡è§¦åæ¾ç¤ºã\n\nç±äºé»è®¤åªæ¾ç¤ºä¸çº§åç±»ï¼ä½æ¯åéè¦è®©ç¨æ·å¯¹ç½ç«ä¸å¡è½æä¸ä¸ªç´è§çäºè§£ï¼æä»¥ä¸çº§åç±»éå¸¸é½æ¯æ ¹æ®ç¸ä¼¼åè½èåå¤ä¸ªåç±»ä¸åè¿è¡å±ç¤ºï¼å°äºä¸çº§åä¸ºå·ä½ç±»ç®ä¿¡æ¯ã\n\n# ä¸ªæ§åè·³è½¬\n\næ´»å¨è¿è¥æ¯çµåå¹³å°çæ ¸å¿ä¸å¡ï¼èåç±»ä½ä¸ºçµåçä¸ä¸ªéè¦æç´¢å¥å£ï¼åç«¯åç±»ä¼å å¥ä¸ªæ§åçé¾æ¥è·³è½¬ï¼éè¿ç¹å»åç±»è·³è½¬å°æå®çä¸é¢é¡µææ´»å¨é¡µï¼ä»¥å¢å æ´»å¨æµéã\n\nå¤§å®¶å¯ä»¥å¨JDå®ç½ä¸è¯è¯ï¼å°é¼ æ æ¾å¨åç±»ä¸ï¼å±å¹å·¦ä¸æ¹ä¼åºç°è·³è½¬é¾æ¥å°åï¼å¤§ä½æä¸¤ç§å½¢å¼ï¼ä¸ç§æ¯è·³è½¬å°ç¸åºçä¸é¢é¡µä¸­ï¼å¦ä¸ç§æ¯è·³è½¬å°æç´¢é¡µä¸­ã\n\n# å³èåç«¯åç±»\n\nä¸é¢æä»¬è®²äºç³»ç»éè¦è®¾è®¡ä¸¤å¥åç±»ç®¡çï¼å®ä»¬åæ¯å¦ä½å³èå¨ä¸èµ·çå¢ï¼è¿ä¸ªé®é¢å¶å®ä¹æ¯è¾ç®åï¼å¨åå»ºåç«¯åç±»çæ¶åï¼ä¼æä¸ä¸ªå³èè®¾ç½®åè½ï¼è¿è¥äººåå¯ä»¥ä¸ªæ§åè®¾ç½®å³èå¤ä¸ªåå°åç±»ã\n\nå¦ï¼åå¬ -> ç¬ãæ¬å­ãåå­\n\n\n\n# å¶å®åè½\n\n * ICON:ä¸ºäºç¾ååç±»çå±ç¤ºæ ·å¼ï¼åç«¯UIéå¸¸ä¼è®¾è®¡ä¸äºICONå¾æ è¿è¡ä¼åï¼è¯¥åè½ææºç«¯ä½¿ç¨çæ¯è¾å¤\n\n * æåºåè½ï¼è¿è¥ä¼æ ¹æ®æ´»å¨ç­åº¦å¨ææ¥è°æ´ä¸ªå«åç±»æ¾ç¤ºçé¡ºåºï¼éè¿åå°æåºæ°å­å¯ä»¥èªç±è¿è¡ç»´æ¤\n\n * ç¶æï¼æ§å¶åç±»æ¯å¦å±ç¤ºå¨åç«¯\n   \n   \n\nåè¡¨é¡µååå¾ï¼\n\n\n\nè¡¨åé¡µååå¾ï¼\n\n\n\nå³èåç±»é¡µååå¾ï¼\n\n\n\nåç«¯åç±»å³èåç«¯åç±»æ¶ï¼å¯ä»¥å³èå°ä»»æä¸çº§ï¼æ é¡»ç²¾ç¡®å°æåä¸çº§ã\n\n# ååå°ç±»ç®æ å°\n\n1ï¼ä¸å¯¹ä¸æ å°\n\nåå°ç±»ç®ä¸åå°ç±»ç®æ¯ä¸å¯¹ä¸çå³ç³»ï¼åå°ç±»ç®ç´æ¥å°åå°ç±»ç®æ å°è¿æ¥ãä¾å¦ï¼åå°ç±»ç®å«è¿è¡£è£ï¼åå°ç±»ç®ä¹å«è¿è¡£è£æèå¶ä»åå­ã\n\n\n\n2ï¼å¤å¯¹ä¸æ å°\n\nå¤ä¸ªå·æç¸åå±æ§çåå°ç±»ç®ï¼åå°ç±»ç®éè¿èåçæ¹å¼ï¼å°å¶å·æç¸åå±æ§çç±»ç®èåæ å°æä¸ä¸ªç±»ç®ãå¦ä¸å¾å±ç¤ºçâæµè¡å¥³è£âåå°ç±»ç®ã\n\n\n\nå¤ä¸ªæ¯«æ å³èçåå°ç±»ç®ï¼éè¿æä¸ªåºæ¯å°ä»ä»¬èåèµ·æ¥ï¼å°å¶æ å°æä¸ä¸ªåå°ç±»ç®ãå¦ä¸å¾å±ç¤ºçä¸»ææäººèæ´»å¨çâæäººå¾åâåå°ç±»ç®ã\n\n\n\n\n# åç«¯åç±»ç®¡ç\n\nå¯¹äºåæ¥ç³»ç»æ¥è¯´ï¼ä¸»è¦ç¨äºæ°æ®åç±»ï¼åè½ç¸å¯¹è¾å°ä¸äºï¼å¯¹äºé¡µé¢ä¼åå¹¶æ²¡æé£ä¹é«è¦æ±ï¼æä»¥è·³è½¬è·¯å¾ãICONè®¾ç½®å°±ä¸éè¦è¿è¡ç»´æ¤ã\n\nä½æ¯å®æä¸ä¸ªéå¸¸éè¦çå³èå±æ§åè½ï¼ç¨äºç»´æ¤ååå±ç¤ºå±æ§çåºç¡è®¾ç½®ï¼ç±äºæ¶ååå®¹æ¯è¾å¤ï¼æå¨ä¸ä¸ç¯æç« ä¸­ä»ç»ã\n\nåè½æ´çå¾ï¼\n\n\n\nåè¡¨é¡µååå¾ï¼\n\n\n\nè¡¨åé¡µååå¾ï¼\n\n\n\nå°æç¤ºï¼å¨å±ç¤ºæ å½¢ç»ææ°æ®æ¶ï¼å½æ°æ®éæ¯è¾å°çæ¶å(å¦ç³»ç»èååè¡¨)éå¸¸ä¼éç¨å¸¦æä¸ä¸çº§æå åè½çæ ·å¼è¿è¡å±ç¤ºï¼ä½æ¯æ°æ®éæ¯è¾å¤§çæ¶åï¼éå¸¸éç¨åé¡µå±ç¤ºï¼ä¸ç¶åé¡µé¢æ°æ®å¤ªå¤§ï¼ç»å¸¸åºç°å¡é¡¿ç°è±¡ã\n\nCREATE TABLE `item_category` (\n  `category_id` bigint(32) unsigned NOT NULL AUTO_INCREMENT COMMENT 'ç±»ç®idï¼å¯ä¸æ è¯ç±»ç®',\n  `category_pid` bigint(32) unsigned NOT NULL COMMENT 'ç±»ç®ç¶id',\n  `category_name` varchar(255) NOT NULL DEFAULT '' COMMENT 'ç±»ç®åç§°',\n  `category_short_name` varchar(255) NOT NULL DEFAULT '' COMMENT 'ç±»ç®ç®ç§°',\n  `picture_key` varchar(255) NOT NULL DEFAULT '' COMMENT 'å¾ç',\n  `category_level` int(4) unsigned NOT NULL DEFAULT '0' COMMENT 'ç±»ç®å±çº§',\n  `leaf_flag` tinyint(1) unsigned NOT NULL COMMENT 'æ¯å¦æ¯å¶å­ç»ç¹ 0:å¦,1:æ¯',\n  `category_type` tinyint(1) unsigned NOT NULL COMMENT 'åå°ãåå° 0:åå°,1:åå°',\n  `link_url` varchar(255) NOT NULL DEFAULT '' COMMENT 'è·³è½¬é¾æ¥',\n  `back_categories` tinyint(1) unsigned NOT NULL COMMENT 'åå°ç±»ç®',\n  `sort_num` tinyint(4) unsigned NOT NULL DEFAULT '0' COMMENT 'åçº§ç±»ç®å±ç¤ºé¡ºåºéå¢æåº',\n  `language` tinyint(1) unsigned NOT NULL COMMENT 'è¯­è¨',\n  `country` tinyint(4) unsigned NOT NULL DEFAULT '0' COMMENT 'å½å®¶',\n  `category_attr_ext` json NOT NULL DEFAULT '' COMMENT 'åç±»æå±ä¿¡æ¯',\n  `valid_status` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'æææ§ç¶æ:0æ æ,1:ææ',\n  `create_time` bigint(32) NOT NULL DEFAULT '0' COMMENT 'åå»ºæ¶é´',\n  `update_time` bigint(32) NOT NULL DEFAULT '0' COMMENT 'ä¿®æ¹æ¶é´',\n  PRIMARY KEY (`category_id`),\n  KEY `idx_categorypid` (`category_pid`)\n) ENGINE=InnoDB AUTO_INCREMENT=12201 DEFAULT CHARSET=utf8mb4 COMMENT='ç±»ç®è¡¨';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nåç«¯ç±»ç®çº¦å®ï¼\n\néå¶å­ç±»ç®ä¸åè®¸æç±»ç®å±æ§\n\nåååå¸åªè½åå¸å¨å¶å­ç±»ç®ä¸\n\nåèï¼çµååå°è®¾è®¡ï¼åç±»ç®¡ç\n\n\n# ç±»ç®å±æ§ç®¡ç\n\nçµåå¹³å°ä¸­ååæ°éåºå¤§ï¼åååçå±æ§ååå·®ä¸å«ï¼æä»¥è®¾è®¡ä¸å¥å¯å¤ç¨çå±æ§ç®¡çåè½å°±å¾éè¦ã\n\nä¸åååçå±æ§å·®å¼åè¿æ¯å¾å¤§ï¼ç³»ç»è®¾è®¡æ¶ä¸ºäºæ¹ä¾¿ç®¡çï¼æ ¹æ®ç¨éæä»¬å°å®ä»¬åç±»ï¼\n\n * åºç¡å±æ§ï¼ææçååé½æçéç¨å±æ§ï¼å¦æ é¢ãåçãåç±»ç­ã\n * å³é®å±æ§ï¼ç¨æ¥å¯ä¸ç¡®å®ä¸ä¸ªSPU.\n * éå®å±æ§ï¼å½±åååéå®ä»·æ ¼/åºå­çå±æ§ï¼ä¸åç±»åççååéå®åä¸ç¸åï¼å¦ææºçé¢è²ãåå­ç­ã\n * æç´¢å±æ§ï¼åä¸å°ååæç´¢ä¸­çå±æ§ï¼å¦æ é¢ãåçãåç±»ç­\n * ç¹æå±æ§ï¼ä¸ååååèªæç¬æçå±æ§ï¼å¦éå­çä½¿ç¨äººç¾¤ãéé¢æè´¨ï¼æè¡¨çæºè¯ç­\n\næ¯å¦å¿é\n\næ¯å¦å¤é\n\næ¯å¦å¯è¾å¥\n\næ¯å¦æä¸¾\n\nåèï¼çµååå°è®¾è®¡ï¼å±æ§ç®¡ç\n\n\n# åºéºåç±»\n\næåæ¥è®²è®²åºéºåç±»ã\n\nè¯¥åç±»ç±åå®¶èªå·±åå»ºï¼æå©äºåå®¶å¯¹ååå½ç±»åå¶å®è§åï¼æ¹ä¾¿ç¨æ·æ´åç¡®çæ¾å°æèæç´¢å®è´ãä¸è¬æä»¥ä¸ä¸¤ç§å±ç¤ºæ¹å¼ä¾å¤§å®¶åèã\n\nååç®¡çä¹åå°ç±»ç®ãåå°ç±»ç®ãåºéºåç±»è¯¦è§£\n\nåå°ç±»ç®ååºéºåç±»æä¸å®çç¸ä¼¼ç¹ï¼é½å¯ä»¥æç§ä¸åä¸å¡åºæ¯å°åååé¨å«ç±»å½çº³èµ·æ¥ï¼æ»¡è¶³è¿è¥éæ±ã\n\nä½æ¯ä¸¤åå·®å¼ä¹å¾ææ¾ï¼åºéºåç±»æå¤æ¯æä¸¤çº§åç±»ï¼åæ¶åªæ¯ææç§ååç»´åº¦è¿è¡åç±»ã\n\nä¸å¾åå»ºåºéºåç±»æ¯éç¨ä¸å¾å³ä¾§çå¸å±æ¹å¼ãååå»ºåç±»çåå­ï¼åç»å®ååï¼ååæ¯æåæ¶ç»å®å¤ä¸ªåºéºåç±»ã\n\nå½åå®¶åå¸ååçæ¶åï¼éæ©åå°åç±»çåæ¶ï¼ä¹å¯ä»¥éæ©èªå·±è®¾ç½®å¥½çåºéºåç±»ã\n\n\n# ååç»´æ¤\n\n\n# æç´¢",normalizedContent:"# åç±»ç®¡ç\n\nçµåå¹³å°ä¸­åç±»ç®¡çéå¸¸åä¸¤ç§ï¼åç«¯åç±»ç®¡çååç«¯åç±»ç®¡çï¼ä¸ºä»ä¹ä¼æä¸¤å¥åç±»ç®¡çå¢ï¼\n\n * å½å¹³å°åå±å£®å¤§çæ¶åï¼å¹³å°ä¸çååéå¸¸çå¤ï¼åç«¯ç³»ç»éè¦åå»ºæ¯è¾ç»è´çåç±»å¯¹ååå½ç±»ä»¥æ¹ä¾¿ç²¾ç»åç®¡çåæ°æ®ç»è®¡ã\n * åç«¯ä¸ºäºæ´»å¨ä¿éï¼è¿è¥äººåä¼æ ¹æ®å½åç­åº¦ææ ¹æ®ç¨æ·åå¥½ä¸æ­çå¯¹åç±»åä¸ªæ§åè°æ´ï¼ä»¥æ»¡è¶³æ¨å¹¿æ´»å¨ï¼å¦æç´æ¥ä¿®æ¹åå°çåç±»ï¼å¿å¿å¯¼è´åç«¯åç±»æ··ä¹±ï¼ç»´æ¤äººå(éå¸¸ç±éè´­é¨çäººæ¥ç»´æ¤)æ æ³è¯å«åååç±»ã\n\nåºäºä¸é¢ä¸¤ç¹ï¼éå¸¸å°±ä¼å¼åä¸¤å¥åç±»åå«ç±è¿è¥äººååéè´­äººååèªè¿è¡ç»´æ¤ï¼å³ä¸ä¼ç¸äºå½±åï¼åå®ç°äºåèªçä¸å¡åè½ã\n\nçµåç³»ç»æåªå ç§ååç±»ç®ï¼åå°ç±»ç®ãåå°ç±»ç®ãåºéºåç±»ã\n\n * åå°ç±»ç®ï¼å¯¹äºç¨æ·æ¥è¯´ï¼éè¿ç±»ç®å¯ä»¥ä¸ºå¸®å©ä»ä»¬å¿«éå°ç­éååï¼ä»èæ¾å°å¿ä»ªçç©åï¼\n * åå°ç±»ç®ï¼å¯¹äºå¹³å°æ¥è¯´ï¼å¯ä»¥é«æå°ç®¡çååä½ç³»ï¼ä¸ºè¿è¥äººåå¤æ ·åç±»ç®è¿è¥æä¾åºç¡æ¯æï¼\n * åºéºåç±»ï¼å¯¹äºåå®¶æ¥è¯´ï¼æå©äºåå®¶å¯¹ååå½ç±»åå¶å®è§åï¼æ¹ä¾¿ç¨æ·æ´åç¡®å°æ¾å°æèæç´¢å®è´ã\n\n\n# åç«¯åç±»ç®¡ç\n\nä¸å¾æ¯jdå®ç½é¦é¡µçåç±»å±ç¤ºï¼ææ¥ä¸æ¥åæä¸ä¸åè½ï¼\n\n# å±çº§ç»æ\n\nçµååç±»å¤§å¤§å°å°å ç¾ç§ï¼ä¸ä¸ªå¥½çç»ç»æ¹å¼æ çè½å¤è®©ç¨æ·æ´å¿«éãæ´ç´è§çäºè§£ç½ç«çä¸å¡åå®¹ï¼æå¸¸è§çæ¹å¼å°±æ¯å±çº§åæçæ å½¢ç»æã\n\nç»¼åèèå°ååçç»åç¨åº¦åç¨æ·çä½éªææï¼åç«¯å±ç¤ºçåç±»ä¸è¬é½æ¯ä¸çº§ç»æã\n\n# å½åè§å\n\nç±äºé¡µé¢é«åº¦éå¶åç¨æ·è§è§ææå½±åï¼ç½ç«é¦é¡µé»è®¤åªæ¾ç¤ºä¸çº§åç±»ï¼äºãä¸çº§åç±»éå¸¸è¢«éèï¼éè¦éè¿ç¨æ·ç§»å¨é¼ æ æ¥è¿è¡è§¦åæ¾ç¤ºã\n\nç±äºé»è®¤åªæ¾ç¤ºä¸çº§åç±»ï¼ä½æ¯åéè¦è®©ç¨æ·å¯¹ç½ç«ä¸å¡è½æä¸ä¸ªç´è§çäºè§£ï¼æä»¥ä¸çº§åç±»éå¸¸é½æ¯æ ¹æ®ç¸ä¼¼åè½èåå¤ä¸ªåç±»ä¸åè¿è¡å±ç¤ºï¼å°äºä¸çº§åä¸ºå·ä½ç±»ç®ä¿¡æ¯ã\n\n# ä¸ªæ§åè·³è½¬\n\næ´»å¨è¿è¥æ¯çµåå¹³å°çæ ¸å¿ä¸å¡ï¼èåç±»ä½ä¸ºçµåçä¸ä¸ªéè¦æç´¢å¥å£ï¼åç«¯åç±»ä¼å å¥ä¸ªæ§åçé¾æ¥è·³è½¬ï¼éè¿ç¹å»åç±»è·³è½¬å°æå®çä¸é¢é¡µææ´»å¨é¡µï¼ä»¥å¢å æ´»å¨æµéã\n\nå¤§å®¶å¯ä»¥å¨jdå®ç½ä¸è¯è¯ï¼å°é¼ æ æ¾å¨åç±»ä¸ï¼å±å¹å·¦ä¸æ¹ä¼åºç°è·³è½¬é¾æ¥å°åï¼å¤§ä½æä¸¤ç§å½¢å¼ï¼ä¸ç§æ¯è·³è½¬å°ç¸åºçä¸é¢é¡µä¸­ï¼å¦ä¸ç§æ¯è·³è½¬å°æç´¢é¡µä¸­ã\n\n# å³èåç«¯åç±»\n\nä¸é¢æä»¬è®²äºç³»ç»éè¦è®¾è®¡ä¸¤å¥åç±»ç®¡çï¼å®ä»¬åæ¯å¦ä½å³èå¨ä¸èµ·çå¢ï¼è¿ä¸ªé®é¢å¶å®ä¹æ¯è¾ç®åï¼å¨åå»ºåç«¯åç±»çæ¶åï¼ä¼æä¸ä¸ªå³èè®¾ç½®åè½ï¼è¿è¥äººåå¯ä»¥ä¸ªæ§åè®¾ç½®å³èå¤ä¸ªåå°åç±»ã\n\nå¦ï¼åå¬ -> ç¬ãæ¬å­ãåå­\n\n\n\n# å¶å®åè½\n\n * icon:ä¸ºäºç¾ååç±»çå±ç¤ºæ ·å¼ï¼åç«¯uiéå¸¸ä¼è®¾è®¡ä¸äºiconå¾æ è¿è¡ä¼åï¼è¯¥åè½ææºç«¯ä½¿ç¨çæ¯è¾å¤\n\n * æåºåè½ï¼è¿è¥ä¼æ ¹æ®æ´»å¨ç­åº¦å¨ææ¥è°æ´ä¸ªå«åç±»æ¾ç¤ºçé¡ºåºï¼éè¿åå°æåºæ°å­å¯ä»¥èªç±è¿è¡ç»´æ¤\n\n * ç¶æï¼æ§å¶åç±»æ¯å¦å±ç¤ºå¨åç«¯\n   \n   \n\nåè¡¨é¡µååå¾ï¼\n\n\n\nè¡¨åé¡µååå¾ï¼\n\n\n\nå³èåç±»é¡µååå¾ï¼\n\n\n\nåç«¯åç±»å³èåç«¯åç±»æ¶ï¼å¯ä»¥å³èå°ä»»æä¸çº§ï¼æ é¡»ç²¾ç¡®å°æåä¸çº§ã\n\n# ååå°ç±»ç®æ å°\n\n1ï¼ä¸å¯¹ä¸æ å°\n\nåå°ç±»ç®ä¸åå°ç±»ç®æ¯ä¸å¯¹ä¸çå³ç³»ï¼åå°ç±»ç®ç´æ¥å°åå°ç±»ç®æ å°è¿æ¥ãä¾å¦ï¼åå°ç±»ç®å«è¿è¡£è£ï¼åå°ç±»ç®ä¹å«è¿è¡£è£æèå¶ä»åå­ã\n\n\n\n2ï¼å¤å¯¹ä¸æ å°\n\nå¤ä¸ªå·æç¸åå±æ§çåå°ç±»ç®ï¼åå°ç±»ç®éè¿èåçæ¹å¼ï¼å°å¶å·æç¸åå±æ§çç±»ç®èåæ å°æä¸ä¸ªç±»ç®ãå¦ä¸å¾å±ç¤ºçâæµè¡å¥³è£âåå°ç±»ç®ã\n\n\n\nå¤ä¸ªæ¯«æ å³èçåå°ç±»ç®ï¼éè¿æä¸ªåºæ¯å°ä»ä»¬èåèµ·æ¥ï¼å°å¶æ å°æä¸ä¸ªåå°ç±»ç®ãå¦ä¸å¾å±ç¤ºçä¸»ææäººèæ´»å¨çâæäººå¾åâåå°ç±»ç®ã\n\n\n\n\n# åç«¯åç±»ç®¡ç\n\nå¯¹äºåæ¥ç³»ç»æ¥è¯´ï¼ä¸»è¦ç¨äºæ°æ®åç±»ï¼åè½ç¸å¯¹è¾å°ä¸äºï¼å¯¹äºé¡µé¢ä¼åå¹¶æ²¡æé£ä¹é«è¦æ±ï¼æä»¥è·³è½¬è·¯å¾ãiconè®¾ç½®å°±ä¸éè¦è¿è¡ç»´æ¤ã\n\nä½æ¯å®æä¸ä¸ªéå¸¸éè¦çå³èå±æ§åè½ï¼ç¨äºç»´æ¤ååå±ç¤ºå±æ§çåºç¡è®¾ç½®ï¼ç±äºæ¶ååå®¹æ¯è¾å¤ï¼æå¨ä¸ä¸ç¯æç« ä¸­ä»ç»ã\n\nåè½æ´çå¾ï¼\n\n\n\nåè¡¨é¡µååå¾ï¼\n\n\n\nè¡¨åé¡µååå¾ï¼\n\n\n\nå°æç¤ºï¼å¨å±ç¤ºæ å½¢ç»ææ°æ®æ¶ï¼å½æ°æ®éæ¯è¾å°çæ¶å(å¦ç³»ç»èååè¡¨)éå¸¸ä¼éç¨å¸¦æä¸ä¸çº§æå åè½çæ ·å¼è¿è¡å±ç¤ºï¼ä½æ¯æ°æ®éæ¯è¾å¤§çæ¶åï¼éå¸¸éç¨åé¡µå±ç¤ºï¼ä¸ç¶åé¡µé¢æ°æ®å¤ªå¤§ï¼ç»å¸¸åºç°å¡é¡¿ç°è±¡ã\n\ncreate table `item_category` (\n  `category_id` bigint(32) unsigned not null auto_increment comment 'ç±»ç®idï¼å¯ä¸æ è¯ç±»ç®',\n  `category_pid` bigint(32) unsigned not null comment 'ç±»ç®ç¶id',\n  `category_name` varchar(255) not null default '' comment 'ç±»ç®åç§°',\n  `category_short_name` varchar(255) not null default '' comment 'ç±»ç®ç®ç§°',\n  `picture_key` varchar(255) not null default '' comment 'å¾ç',\n  `category_level` int(4) unsigned not null default '0' comment 'ç±»ç®å±çº§',\n  `leaf_flag` tinyint(1) unsigned not null comment 'æ¯å¦æ¯å¶å­ç»ç¹ 0:å¦,1:æ¯',\n  `category_type` tinyint(1) unsigned not null comment 'åå°ãåå° 0:åå°,1:åå°',\n  `link_url` varchar(255) not null default '' comment 'è·³è½¬é¾æ¥',\n  `back_categories` tinyint(1) unsigned not null comment 'åå°ç±»ç®',\n  `sort_num` tinyint(4) unsigned not null default '0' comment 'åçº§ç±»ç®å±ç¤ºé¡ºåºéå¢æåº',\n  `language` tinyint(1) unsigned not null comment 'è¯­è¨',\n  `country` tinyint(4) unsigned not null default '0' comment 'å½å®¶',\n  `category_attr_ext` json not null default '' comment 'åç±»æå±ä¿¡æ¯',\n  `valid_status` tinyint(1) not null default '1' comment 'æææ§ç¶æ:0æ æ,1:ææ',\n  `create_time` bigint(32) not null default '0' comment 'åå»ºæ¶é´',\n  `update_time` bigint(32) not null default '0' comment 'ä¿®æ¹æ¶é´',\n  primary key (`category_id`),\n  key `idx_categorypid` (`category_pid`)\n) engine=innodb auto_increment=12201 default charset=utf8mb4 comment='ç±»ç®è¡¨';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nåç«¯ç±»ç®çº¦å®ï¼\n\néå¶å­ç±»ç®ä¸åè®¸æç±»ç®å±æ§\n\nåååå¸åªè½åå¸å¨å¶å­ç±»ç®ä¸\n\nåèï¼çµååå°è®¾è®¡ï¼åç±»ç®¡ç\n\n\n# ç±»ç®å±æ§ç®¡ç\n\nçµåå¹³å°ä¸­ååæ°éåºå¤§ï¼åååçå±æ§ååå·®ä¸å«ï¼æä»¥è®¾è®¡ä¸å¥å¯å¤ç¨çå±æ§ç®¡çåè½å°±å¾éè¦ã\n\nä¸åååçå±æ§å·®å¼åè¿æ¯å¾å¤§ï¼ç³»ç»è®¾è®¡æ¶ä¸ºäºæ¹ä¾¿ç®¡çï¼æ ¹æ®ç¨éæä»¬å°å®ä»¬åç±»ï¼\n\n * åºç¡å±æ§ï¼ææçååé½æçéç¨å±æ§ï¼å¦æ é¢ãåçãåç±»ç­ã\n * å³é®å±æ§ï¼ç¨æ¥å¯ä¸ç¡®å®ä¸ä¸ªspu.\n * éå®å±æ§ï¼å½±åååéå®ä»·æ ¼/åºå­çå±æ§ï¼ä¸åç±»åççååéå®åä¸ç¸åï¼å¦ææºçé¢è²ãåå­ç­ã\n * æç´¢å±æ§ï¼åä¸å°ååæç´¢ä¸­çå±æ§ï¼å¦æ é¢ãåçãåç±»ç­\n * ç¹æå±æ§ï¼ä¸ååååèªæç¬æçå±æ§ï¼å¦éå­çä½¿ç¨äººç¾¤ãéé¢æè´¨ï¼æè¡¨çæºè¯ç­\n\næ¯å¦å¿é\n\næ¯å¦å¤é\n\næ¯å¦å¯è¾å¥\n\næ¯å¦æä¸¾\n\nåèï¼çµååå°è®¾è®¡ï¼å±æ§ç®¡ç\n\n\n# åºéºåç±»\n\næåæ¥è®²è®²åºéºåç±»ã\n\nè¯¥åç±»ç±åå®¶èªå·±åå»ºï¼æå©äºåå®¶å¯¹ååå½ç±»åå¶å®è§åï¼æ¹ä¾¿ç¨æ·æ´åç¡®çæ¾å°æèæç´¢å®è´ãä¸è¬æä»¥ä¸ä¸¤ç§å±ç¤ºæ¹å¼ä¾å¤§å®¶åèã\n\nååç®¡çä¹åå°ç±»ç®ãåå°ç±»ç®ãåºéºåç±»è¯¦è§£\n\nåå°ç±»ç®ååºéºåç±»æä¸å®çç¸ä¼¼ç¹ï¼é½å¯ä»¥æç§ä¸åä¸å¡åºæ¯å°åååé¨å«ç±»å½çº³èµ·æ¥ï¼æ»¡è¶³è¿è¥éæ±ã\n\nä½æ¯ä¸¤åå·®å¼ä¹å¾ææ¾ï¼åºéºåç±»æå¤æ¯æä¸¤çº§åç±»ï¼åæ¶åªæ¯ææç§ååç»´åº¦è¿è¡åç±»ã\n\nä¸å¾åå»ºåºéºåç±»æ¯éç¨ä¸å¾å³ä¾§çå¸å±æ¹å¼ãååå»ºåç±»çåå­ï¼åç»å®ååï¼ååæ¯æåæ¶ç»å®å¤ä¸ªåºéºåç±»ã\n\nå½åå®¶åå¸ååçæ¶åï¼éæ©åå°åç±»çåæ¶ï¼ä¹å¯ä»¥éæ©èªå·±è®¾ç½®å¥½çåºéºåç±»ã\n\n\n# ååç»´æ¤\n\n\n# æç´¢",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"éææ¯é®é¢",frontmatter:{title:"éææ¯é®é¢",date:"2022-03-27T13:53:27.000Z",permalink:"/pages/5e507a/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/01.%E9%9D%9E%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98.html",relativePath:"10.éææ¯/01.éææ¯é®é¢.md",key:"v-2a52a762",path:"/pages/5e507a/",headers:[{level:2,title:"ææææ¯é¾åº¦çé¡¹ç®æ¯ä»ä¹ï¼éå°ææ¯é¾ç¹æä¹è§£å³ï¼",slug:"ææææ¯é¾åº¦çé¡¹ç®æ¯ä»ä¹-éå°ææ¯é¾ç¹æä¹è§£å³",normalizedTitle:"ææææ¯é¾åº¦çé¡¹ç®æ¯ä»ä¹ï¼éå°ææ¯é¾ç¹æä¹è§£å³ï¼",charIndex:2},{level:2,title:"ä¸ºä»ä¹è¦ç¦»å¼ç°å¨çå¬å¸ï¼",slug:"ä¸ºä»ä¹è¦ç¦»å¼ç°å¨çå¬å¸",normalizedTitle:"ä¸ºä»ä¹è¦ç¦»å¼ç°å¨çå¬å¸ï¼",charIndex:31},{level:2,title:"æªæ¥çèä¸è§åæ¯ä»ä¹ï¼",slug:"æªæ¥çèä¸è§åæ¯ä»ä¹",normalizedTitle:"æªæ¥çèä¸è§åæ¯ä»ä¹ï¼",charIndex:48},{level:2,title:"ä¸ä¸ä»½å·¥ä½å¸æå­¦ä¹ å°ä»ä¹ï¼",slug:"ä¸ä¸ä»½å·¥ä½å¸æå­¦ä¹ å°ä»ä¹",normalizedTitle:"ä¸ä¸ä»½å·¥ä½å¸æå­¦ä¹ å°ä»ä¹ï¼",charIndex:64},{level:2,title:"å¢éä¸­å¯¹ææ¯éåæå²çªçè¯æä¹è§£å³ï¼",slug:"å¢éä¸­å¯¹ææ¯éåæå²çªçè¯æä¹è§£å³",normalizedTitle:"å¢éä¸­å¯¹ææ¯éåæå²çªçè¯æä¹è§£å³ï¼",charIndex:82},{level:2,title:"ä½ çæ§æ ¼åæè½ä¸æä»ä¹ç¼ºç¹",slug:"ä½ çæ§æ ¼åæè½ä¸æä»ä¹ç¼ºç¹",normalizedTitle:"ä½ çæ§æ ¼åæè½ä¸æä»ä¹ç¼ºç¹",charIndex:105},{level:2,title:"ç®åæè¿°ä¸ä¸èªå·±æ¯æä¹æ ·çäººï¼",slug:"ç®åæè¿°ä¸ä¸èªå·±æ¯æä¹æ ·çäºº",normalizedTitle:"ç®åæè¿°ä¸ä¸èªå·±æ¯æä¹æ ·çäººï¼",charIndex:123},{level:2,title:"å­¦ä¹ ä¸­éå°çæå¤§çå°é¾æ¯ä»ä¹ï¼",slug:"å­¦ä¹ ä¸­éå°çæå¤§çå°é¾æ¯ä»ä¹",normalizedTitle:"å­¦ä¹ ä¸­éå°çæå¤§çå°é¾æ¯ä»ä¹ï¼",charIndex:143},{level:2,title:"æææå°±æçé¡¹ç®æ¯ä»ä¹ï¼",slug:"æææå°±æçé¡¹ç®æ¯ä»ä¹",normalizedTitle:"æææå°±æçé¡¹ç®æ¯ä»ä¹ï¼",charIndex:163},{level:2,title:"å¢éåä½æ²éä¸­éå°è¿ä»ä¹é®é¢ï¼",slug:"å¢éåä½æ²éä¸­éå°è¿ä»ä¹é®é¢",normalizedTitle:"å¢éåä½æ²éä¸­éå°è¿ä»ä¹é®é¢ï¼",charIndex:180},{level:2,title:"ç®åä¸ºæ­¢ï¼åæå¾æä¹ä¸ä»¶äºææ¯ä»ä¹ï¼",slug:"ç®åä¸ºæ­¢-åæå¾æä¹ä¸ä»¶äºææ¯ä»ä¹",normalizedTitle:"ç®åä¸ºæ­¢ï¼åæå¾æä¹ä¸ä»¶äºææ¯ä»ä¹ï¼",charIndex:200},{level:2,title:"è½æ¥åå¤å¤§å¼ºåº¦çå ç­ï¼",slug:"è½æ¥åå¤å¤§å¼ºåº¦çå ç­",normalizedTitle:"è½æ¥åå¤å¤§å¼ºåº¦çå ç­ï¼",charIndex:223},{level:2,title:"æè¿å¨çä»ä¹ä¹¦åï¼ææ²¡ææ¥è§¦è¿ä»ä¹æ°ææ¯ï¼",slug:"æè¿å¨çä»ä¹ä¹¦å-ææ²¡ææ¥è§¦è¿ä»ä¹æ°ææ¯",normalizedTitle:"æè¿å¨çä»ä¹ä¹¦åï¼ææ²¡ææ¥è§¦è¿ä»ä¹æ°ææ¯ï¼",charIndex:239}],headersStr:"ææææ¯é¾åº¦çé¡¹ç®æ¯ä»ä¹ï¼éå°ææ¯é¾ç¹æä¹è§£å³ï¼ ä¸ºä»ä¹è¦ç¦»å¼ç°å¨çå¬å¸ï¼ æªæ¥çèä¸è§åæ¯ä»ä¹ï¼ ä¸ä¸ä»½å·¥ä½å¸æå­¦ä¹ å°ä»ä¹ï¼ å¢éä¸­å¯¹ææ¯éåæå²çªçè¯æä¹è§£å³ï¼ ä½ çæ§æ ¼åæè½ä¸æä»ä¹ç¼ºç¹ ç®åæè¿°ä¸ä¸èªå·±æ¯æä¹æ ·çäººï¼ å­¦ä¹ ä¸­éå°çæå¤§çå°é¾æ¯ä»ä¹ï¼ æææå°±æçé¡¹ç®æ¯ä»ä¹ï¼ å¢éåä½æ²éä¸­éå°è¿ä»ä¹é®é¢ï¼ ç®åä¸ºæ­¢ï¼åæå¾æä¹ä¸ä»¶äºææ¯ä»ä¹ï¼ è½æ¥åå¤å¤§å¼ºåº¦çå ç­ï¼ æè¿å¨çä»ä¹ä¹¦åï¼ææ²¡ææ¥è§¦è¿ä»ä¹æ°ææ¯ï¼",content:"# ææææ¯é¾åº¦çé¡¹ç®æ¯ä»ä¹ï¼éå°ææ¯é¾ç¹æä¹è§£å³ï¼\n\n\n# ä¸ºä»ä¹è¦ç¦»å¼ç°å¨çå¬å¸ï¼\n\n\n# æªæ¥çèä¸è§åæ¯ä»ä¹ï¼\n\n\n# ä¸ä¸ä»½å·¥ä½å¸æå­¦ä¹ å°ä»ä¹ï¼\n\n\n# å¢éä¸­å¯¹ææ¯éåæå²çªçè¯æä¹è§£å³ï¼\n\n\n# ä½ çæ§æ ¼åæè½ä¸æä»ä¹ç¼ºç¹\n\n\n# ç®åæè¿°ä¸ä¸èªå·±æ¯æä¹æ ·çäººï¼\n\n\n# å­¦ä¹ ä¸­éå°çæå¤§çå°é¾æ¯ä»ä¹ï¼\n\n\n# æææå°±æçé¡¹ç®æ¯ä»ä¹ï¼\n\n\n# å¢éåä½æ²éä¸­éå°è¿ä»ä¹é®é¢ï¼\n\n\n# ç®åä¸ºæ­¢ï¼åæå¾æä¹ä¸ä»¶äºææ¯ä»ä¹ï¼\n\n\n# è½æ¥åå¤å¤§å¼ºåº¦çå ç­ï¼\n\n\n# æè¿å¨çä»ä¹ä¹¦åï¼ææ²¡ææ¥è§¦è¿ä»ä¹æ°ææ¯ï¼",normalizedContent:"# ææææ¯é¾åº¦çé¡¹ç®æ¯ä»ä¹ï¼éå°ææ¯é¾ç¹æä¹è§£å³ï¼\n\n\n# ä¸ºä»ä¹è¦ç¦»å¼ç°å¨çå¬å¸ï¼\n\n\n# æªæ¥çèä¸è§åæ¯ä»ä¹ï¼\n\n\n# ä¸ä¸ä»½å·¥ä½å¸æå­¦ä¹ å°ä»ä¹ï¼\n\n\n# å¢éä¸­å¯¹ææ¯éåæå²çªçè¯æä¹è§£å³ï¼\n\n\n# ä½ çæ§æ ¼åæè½ä¸æä»ä¹ç¼ºç¹\n\n\n# ç®åæè¿°ä¸ä¸èªå·±æ¯æä¹æ ·çäººï¼\n\n\n# å­¦ä¹ ä¸­éå°çæå¤§çå°é¾æ¯ä»ä¹ï¼\n\n\n# æææå°±æçé¡¹ç®æ¯ä»ä¹ï¼\n\n\n# å¢éåä½æ²éä¸­éå°è¿ä»ä¹é®é¢ï¼\n\n\n# ç®åä¸ºæ­¢ï¼åæå¾æä¹ä¸ä»¶äºææ¯ä»ä¹ï¼\n\n\n# è½æ¥åå¤å¤§å¼ºåº¦çå ç­ï¼\n\n\n# æè¿å¨çä»ä¹ä¹¦åï¼ææ²¡ææ¥è§¦è¿ä»ä¹æ°ææ¯ï¼",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"å¦ä½è®¾è®¡å®æ¶ä»»å¡ç³»ç»",frontmatter:{title:"å¦ä½è®¾è®¡å®æ¶ä»»å¡ç³»ç»",date:"2022-11-10T23:01:57.000Z",permalink:"/pages/d01475/",categories:["ç³»ç»è®¾è®¡"],tags:[null]},regularPath:"/08.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/023.%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F.html",relativePath:"08.ç³»ç»è®¾è®¡/023.å¦ä½è®¾è®¡å®æ¶ä»»å¡ç³»ç».md",key:"v-00dfea7c",path:"/pages/d01475/",headers:[{level:2,title:"1 Quartz",slug:"_1-quartz",normalizedTitle:"1 quartz",charIndex:2},{level:2,title:"2 åå¸å¼éæ¨¡å¼",slug:"_2-åå¸å¼éæ¨¡å¼",normalizedTitle:"2 åå¸å¼éæ¨¡å¼",charIndex:887},{level:2,title:"3 ElasticJob-Lite æ¡æ¶",slug:"_3-elasticjob-lite-æ¡æ¶",normalizedTitle:"3 elasticjob-lite æ¡æ¶",charIndex:2219},{level:2,title:"4 ä¸­å¿åæµæ´¾",slug:"_4-ä¸­å¿åæµæ´¾",normalizedTitle:"4 ä¸­å¿åæµæ´¾",charIndex:3321},{level:3,title:"4.1 MQæ¨¡å¼",slug:"_4-1-mqæ¨¡å¼",normalizedTitle:"4.1 mqæ¨¡å¼",charIndex:3430},{level:3,title:"4.2 XXL-JOB",slug:"_4-2-xxl-job",normalizedTitle:"4.2 xxl-job",charIndex:3640},{level:2,title:"åè",slug:"åè",normalizedTitle:"åè",charIndex:5040}],headersStr:"1 Quartz 2 åå¸å¼éæ¨¡å¼ 3 ElasticJob-Lite æ¡æ¶ 4 ä¸­å¿åæµæ´¾ 4.1 MQæ¨¡å¼ 4.2 XXL-JOB åè",content:'# 1 Quartz\n\nQuartzæ¯ä¸æ¬¾Javaå¼æºä»»å¡è°åº¦æ¡æ¶ï¼ä¹æ¯å¾å¤Javaå·¥ç¨å¸æ¥è§¦ä»»å¡è°åº¦çèµ·ç¹ã\n\nä¸å¾æ¾ç¤ºäºä»»å¡è°åº¦çæ´ä½æµç¨ï¼\n\nQuartzçæ ¸å¿æ¯ä¸ä¸ªç»ä»¶ã\n\n * ä»»å¡ï¼Job ç¨äºè¡¨ç¤ºè¢«è°åº¦çä»»å¡ï¼\n * è§¦åå¨ï¼Trigger å®ä¹è°åº¦æ¶é´çåç´ ï¼å³æç§ä»ä¹æ¶é´è§åå»æ§è¡ä»»å¡ãä¸ä¸ªJobå¯ä»¥è¢«å¤ä¸ªTriggerå³èï¼ä½æ¯ä¸ä¸ªTrigger åªè½å³èä¸ä¸ªJobï¼\n * è°åº¦å¨ ï¼å·¥åç±»åå»ºSchedulerï¼æ ¹æ®è§¦åå¨å®ä¹çæ¶é´è§åè°åº¦ä»»å¡ã\n\n\n\nä¸å¾ä»£ç ä¸­Quartz çJobStoreæ¯ RAMJobStoreï¼Trigger å Job å­å¨å¨åå­ä¸­ã\n\næ§è¡ä»»å¡è°åº¦çæ ¸å¿ç±»æ¯ QuartzSchedulerThread ã\n\n\n\n 1. è°åº¦çº¿ç¨ä»JobStoreä¸­è·åéè¦æ§è¡ççè§¦åå¨åè¡¨ï¼å¹¶ä¿®æ¹è§¦åå¨çç¶æï¼\n 2. Fireè§¦åå¨ï¼ä¿®æ¹è§¦åå¨ä¿¡æ¯(ä¸æ¬¡æ§è¡è§¦åå¨çæ¶é´ï¼ä»¥åè§¦åå¨ç¶æï¼ï¼å¹¶å­å¨èµ·æ¥ã\n 3. æååå»ºå·ä½çæ§è¡ä»»å¡å¯¹è±¡ï¼éè¿workerçº¿ç¨æ± æ§è¡ä»»å¡ã\n\næ¥ä¸æ¥åèè Quartz çéç¾¤é¨ç½²æ¹æ¡ã\n\nQuartzçéç¾¤é¨ç½²æ¹æ¡ï¼éè¦éå¯¹ä¸åçæ°æ®åºç±»å(MySQL , ORACLE) å¨æ°æ®åºå®ä¾ä¸åå»ºQuartzè¡¨ï¼JobStoreæ¯: JobStoreSupport ã\n\nè¿ç§æ¹æ¡æ¯åå¸å¼çï¼æ²¡æè´è´£éä¸­ç®¡ççèç¹ï¼èæ¯å©ç¨æ°æ®åºè¡çº§éçæ¹å¼æ¥å®ç°éç¾¤ç¯å¢ä¸çå¹¶åæ§å¶ã\n\nschedulerå®ä¾å¨éç¾¤æ¨¡å¼ä¸é¦åè·å{0}LOCKSè¡¨ä¸­çè¡éï¼Mysql è·åè¡éçè¯­å¥ï¼\n\n\n\n{0}ä¼æ¿æ¢ä¸ºéç½®æä»¶é»è®¤éç½®çQRTZ_ãsched_nameä¸ºåºç¨éç¾¤çå®ä¾åï¼lock_nameå°±æ¯è¡çº§éåãQuartzä¸»è¦æä¸¤ä¸ªè¡çº§éè§¦åå¨è®¿é®é (TRIGGER_ACCESS) å ç¶æè®¿é®éï¼STATE_ACCESSï¼ã\n\n\n\nè¿ä¸ªæ¶æè§£å³äºä»»å¡çåå¸å¼è°åº¦é®é¢ï¼åä¸ä¸ªä»»å¡åªè½æä¸ä¸ªèç¹è¿è¡ï¼å¶ä»èç¹å°ä¸æ§è¡ä»»å¡ï¼å½ç¢°å°å¤§éç­ä»»å¡æ¶ï¼åä¸ªèç¹é¢ç¹çç«äºæ°æ®åºéï¼èç¹è¶å¤æ§è½å°±ä¼è¶å·®ã\n\n\n# 2 åå¸å¼éæ¨¡å¼\n\nQuartzçéç¾¤æ¨¡å¼å¯ä»¥æ°´å¹³æ©å±ï¼ä¹å¯ä»¥åå¸å¼è°åº¦ï¼ä½éè¦ä¸å¡æ¹å¨æ°æ®åºä¸­æ·»å å¯¹åºçè¡¨ï¼æä¸å®çå¼ºä¾µå¥æ§ã\n\næä¸å°ç ååå­¦ä¸ºäºé¿åè¿ç§ä¾µå¥æ§ï¼ä¹æ¢ç´¢åºåå¸å¼éæ¨¡å¼ã\n\nä¸å¡åºæ¯ï¼çµåé¡¹ç®ï¼ç¨æ·ä¸ååä¸æ®µæ¶é´æ²¡æä»æ¬¾ï¼ç³»ç»å°±ä¼å¨è¶æ¶åå³é­è¯¥è®¢åã\n\néå¸¸æä»¬ä¼åä¸ä¸ªå®æ¶ä»»å¡æ¯ä¸¤åéæ¥æ£æ¥ååå°æ¶çè®¢åï¼å°æ²¡æä»æ¬¾çè®¢ååè¡¨æ¥è¯¢åºæ¥ï¼ç¶åå¯¹è®¢åä¸­çååè¿è¡åºå­çæ¢å¤ï¼ç¶åå°è¯¥è®¢åè®¾ç½®ä¸ºæ æã\n\næä»¬ä½¿ç¨Spring Scheduleçæ¹å¼åä¸ä¸ªå®æ¶ä»»å¡ã\n\n@Scheduled(cron = "0 */2 * * * ? ")\npublic void doTask() {\n   log.info("å®æ¶ä»»å¡å¯å¨");\n   //æ§è¡å³é­è®¢åçæä½\n   orderService.closeExpireUnpayOrders();\n   log.info("å®æ¶ä»»å¡ç»æ");\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¨åæå¡å¨è¿è¡æ­£å¸¸ï¼èèå°é«å¯ç¨ï¼ä¸å¡éæ¿å¢ï¼æ¶æä¼æ¼è¿æéç¾¤æ¨¡å¼ï¼å¨åä¸æ¶å»æå¤ä¸ªæå¡æ§è¡ä¸ä¸ªå®æ¶ä»»å¡ï¼æå¯è½ä¼å¯¼è´ä¸å¡ç´ä¹±ã\n\nè§£å³æ¹æ¡æ¯å¨ä»»å¡æ§è¡çæ¶åï¼ä½¿ç¨Redis åå¸å¼éæ¥è§£å³è¿ç±»é®é¢ã\n\n@Scheduled(cron = "0 */2 * * * ? ")\npublic void doTask() {\n    log.info("å®æ¶ä»»å¡å¯å¨");\n    String lockName = "closeExpireUnpayOrdersLock";\n    RedisLock redisLock = redisClient.getLock(lockName);\n    //å°è¯å éï¼æå¤ç­å¾3ç§ï¼ä¸éä»¥å5åéèªå¨è§£é\n    boolean locked = redisLock.tryLock(3, 300, TimeUnit.SECONDS);\n    if(!locked){\n        log.info("æ²¡æè·å¾åå¸å¼é:{}" , lockName);\n        return;\n    }\n    try{\n       //æ§è¡å³é­è®¢åçæä½\n       orderService.closeExpireUnpayOrders();\n    } finally {\n       redisLock.unlock();\n    }\n    log.info("å®æ¶ä»»å¡ç»æ");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n\nRedisçè¯»åæ§è½æå¥½ï¼åå¸å¼éä¹æ¯Quartzæ°æ®åºè¡çº§éæ´è½»éçº§ãå½ç¶Rediséä¹å¯ä»¥æ¿æ¢æZookeeperéï¼ä¹æ¯åæ ·çæºå¶ã\n\nå¨å°åé¡¹ç®ä¸­ï¼ä½¿ç¨ï¼å®æ¶ä»»å¡æ¡æ¶ï¼Quartz/Spring Scheduleï¼å åå¸å¼éï¼redis/zookeeperï¼æä¸éçææã\n\nä½æ¯å¢ï¼æä»¬å¯ä»¥åç°è¿ç§ç»åæä¸¤ä¸ªé®é¢ï¼\n\n 1. å®æ¶ä»»å¡å¨åå¸å¼åºæ¯ä¸æç©ºè·çæåµï¼èä¸ä»»å¡ä¹æ æ³åå°åçï¼\n 2. è¦æ³æå·¥è§¦åä»»å¡ï¼å¿é¡»æ·»å é¢å¤çä»£ç æè½å®æã\n\n\n# 3 ElasticJob-Lite æ¡æ¶\n\nElasticJob-Lite å®ä½ä¸ºè½»éçº§æ ä¸­å¿åè§£å³æ¹æ¡ï¼ä½¿ç¨ jar çå½¢å¼æä¾åå¸å¼ä»»å¡çåè°æå¡ã\n\nåºç¨åé¨å®ä¹ä»»å¡ç±»ï¼å®ç°SimpleJobæ¥å£ï¼ç¼åèªå·±ä»»å¡çå®éä¸å¡æµç¨å³å¯ã\n\npublic class MyElasticJob implements SimpleJob {\n    @Override\n    public void execute(ShardingContext context) {\n        switch (context.getShardingItem()) {\n            case 0:\n                // do something by sharding item 0\n                break;\n            case 1:\n                // do something by sharding item 1\n                break;\n            case 2:\n                // do something by sharding item 2\n                break;\n            // case n: ...\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nä¸¾ä¾ï¼åºç¨Aæäºä¸ªä»»å¡éè¦æ§è¡ï¼åå«æ¯Aï¼Bï¼Cï¼Dï¼Eãä»»å¡Eéè¦åæåä¸ªå­ä»»å¡ï¼åºç¨é¨ç½²å¨ä¸¤å°æºå¨ä¸ã\n\n\n\nåºç¨Aå¨å¯å¨åï¼ 5ä¸ªä»»å¡éè¿ Zookeeper åè°åè¢«åéå°ä¸¤å°æºå¨ä¸ï¼éè¿Quartz Scheduler åå¼æ§è¡ä¸åçä»»å¡ã\n\nElasticJob ä»æ¬è´¨ä¸æ¥è®² ï¼åºå±ä»»å¡è°åº¦è¿æ¯éè¿ Quartz ï¼ç¸æ¯Redisåå¸å¼é æè Quartz åå¸å¼é¨ç½² ï¼å®çä¼å¿å¨äºå¯ä»¥ä¾èµ Zookeeper è¿ä¸ªå¤§æå¨ ï¼å°ä»»å¡éè¿è´è½½åè¡¡ç®æ³åéç»åºç¨åç Quartz Schedulerå®¹å¨ã\n\nä»ä½¿ç¨èçè§åº¦æ¥è®²ï¼æ¯éå¸¸ç®åæç¨çãä½ä»æ¶ææ¥çï¼è°åº¦å¨åæ§è¡å¨ä¾ç¶å¨åä¸ä¸ªåºç¨æ¹JVMåï¼èä¸å®¹å¨å¨å¯å¨åï¼ä¾ç¶éè¦åè´è½½åè¡¡ãåºç¨åå¦é¢ç¹çéå¯ï¼ä¸æ­çå»éä¸»ï¼å¯¹åçåè´è½½åè¡¡ï¼è¿äºé½æ¯ç¸å¯¹æ¯è¾éçæä½ã\n\nElasticJob çæ§å¶å°éè¿è¯»åæ³¨åä¸­å¿æ°æ®å±ç°ä½ä¸ç¶æï¼æ´æ°æ³¨åä¸­å¿æ°æ®ä¿®æ¹å¨å±ä»»å¡éç½®ãä»ä¸ä¸ªä»»å¡è°åº¦å¹³å°çè§åº¦æ¥çï¼æ§å¶å°åè½è¿æ¯åå­±å¼±çã\n\n\n# 4 ä¸­å¿åæµæ´¾\n\nä¸­å¿åçåçæ¯ï¼æè°åº¦åä»»å¡æ§è¡ï¼éç¦»æä¸¤ä¸ªé¨åï¼è°åº¦ä¸­å¿åæ§è¡å¨ãè°åº¦ä¸­å¿æ¨¡ååªéè¦è´è´£ä»»å¡è°åº¦å±æ§ï¼è§¦åè°åº¦å½ä»¤ãæ§è¡å¨æ¥æ¶è°åº¦å½ä»¤ï¼å»æ§è¡å·ä½çä¸å¡é»è¾ï¼èä¸ä¸¤èé½å¯ä»¥è¿è¡åå¸å¼æ©å®¹ã\n\n\n# 4.1 MQæ¨¡å¼\n\nåè°è°æå¨èºé¾ä¿éå¢éæ¥è§¦çç¬¬ä¸ç§ä¸­å¿åæ¶æã\n\n\n\nè°åº¦ä¸­å¿ä¾èµQuartzéç¾¤æ¨¡å¼ï¼å½ä»»å¡è°åº¦æ¶åï¼åéæ¶æ¯å°RabbitMQ ãä¸å¡åºç¨æ¶å°ä»»å¡æ¶æ¯åï¼æ¶è´¹ä»»å¡ä¿¡æ¯ã\n\nè¿ç§æ¨¡åååå©ç¨äºMQè§£è¦çç¹æ§ï¼è°åº¦ä¸­å¿åéä»»å¡ï¼åºç¨æ¹ä½ä¸ºæ§è¡å¨çè§è²ï¼æ¥æ¶ä»»å¡å¹¶æ§è¡ã\n\nä½è¿ç§è®¾è®¡å¼ºä¾èµæ¶æ¯éåï¼å¯æ©å±æ§ååè½ï¼ç³»ç»è´è½½é½åæ¶æ¯éåææå¤§çå³èãè¿ç§æ¶æè®¾è®¡éè¦æ¶æå¸å¯¹æ¶æ¯éåéå¸¸çæã\n\n\n# 4.2 XXL-JOB\n\n> XXL-JOB æ¯ä¸ä¸ªåå¸å¼ä»»å¡è°åº¦å¹³å°ï¼å¶æ ¸å¿è®¾è®¡ç®æ æ¯å¼åè¿éãå­¦ä¹ ç®åãè½»éçº§ãææ©å±ãç°å·²å¼æ¾æºä»£ç å¹¶æ¥å¥å¤å®¶å¬å¸çº¿ä¸äº§åçº¿ï¼å¼ç®±å³ç¨ã\n\nxxl-job 2.3.0æ¶æå¾\n\næä»¬éç¹åæä¸æ¶æå¾ ï¼\n\nâ ç½ç»éè®¯ server-worker æ¨¡å\n\n\n\nè°åº¦ä¸­å¿åæ§è¡å¨ ä¸¤ä¸ªæ¨¡åä¹é´éè®¯æ¯ server-worker æ¨¡å¼ãè°åº¦ä¸­å¿æ¬èº«å°±æ¯ä¸ä¸ªSpringBoot å·¥ç¨ï¼å¯å¨ä¼çå¬8080ç«¯å£ã\n\næ§è¡å¨å¯å¨åï¼ä¼å¯å¨åç½®æå¡ï¼ EmbedServer ï¼çå¬9994ç«¯å£ãè¿æ ·åæ¹é½å¯ä»¥ç»å¯¹æ¹åéå½ä»¤ã\n\né£è°åº¦ä¸­å¿å¦ä½ç¥éæ§è¡å¨çå°åä¿¡æ¯å¢ ï¼ä¸å¾ä¸­ï¼æ§è¡å¨ä¼å®æ¶åéæ³¨åå½ä»¤ ï¼è¿æ ·è°åº¦ä¸­å¿å°±å¯ä»¥è·åå¨çº¿çæ§è¡å¨åè¡¨ã\n\néè¿æ§è¡å¨åè¡¨ï¼å°±å¯ä»¥æ ¹æ®ä»»å¡éç½®çè·¯ç±ç­ç¥éæ©èç¹æ§è¡ä»»å¡ãå¸¸è§çè·¯ç±ç­ç¥æå¦ä¸ä¸ç§ï¼\n\n * éæºèç¹æ§è¡ï¼éæ©éç¾¤ä¸­ä¸ä¸ªå¯ç¨çæ§è¡èç¹æ§è¡è°åº¦ä»»å¡ãéç¨åºæ¯ï¼ç¦»çº¿è®¢åç»ç®ã\n\n\n\n * å¹¿æ­æ§è¡ï¼å¨éç¾¤ä¸­ææçæ§è¡èç¹ååè°åº¦ä»»å¡å¹¶æ§è¡ãéç¨åºæ¯ï¼æ¹éæ´æ°åºç¨æ¬å°ç¼å­ã\n   \n   \n\n * åçæ§è¡ï¼æç§ç¨æ·èªå®ä¹åçé»è¾è¿è¡æåï¼ååå°éç¾¤ä¸­ä¸åèç¹å¹¶è¡æ§è¡ï¼æåèµæºå©ç¨æçãéç¨åºæ¯ï¼æµ·éæ¥å¿ç»è®¡ã\n\n\n\nâ è°åº¦å¨\n\nè°åº¦å¨æ¯ä»»å¡è°åº¦ç³»ç»éé¢éå¸¸æ ¸å¿çç»ä»¶ãXXL-JOB çæ©æçæ¬æ¯ä¾èµQuartzã\n\nä½å¨v2.1.0çæ¬ä¸­å®å¨å»æäºQuartzçä¾èµï¼åæ¥éè¦åå»ºç Quartzè¡¨ä¹æ¿æ¢æäºèªç çè¡¨ã\n\næ ¸å¿çè°åº¦ç±»æ¯ï¼JobTriggerPoolHelper ãè°ç¨startæ¹æ³åï¼ä¼å¯å¨ä¸¤ä¸ªçº¿ç¨ï¼scheduleThread å ringThread ã\n\né¦å scheduleThread ä¼å®æ¶ä»æ°æ®åºå è½½éè¦è°åº¦çä»»å¡ï¼è¿éä»æ¬è´¨ä¸è¿æ¯åºäºæ°æ®åºè¡éä¿è¯åæ¶åªæä¸ä¸ªè°åº¦ä¸­å¿èç¹è§¦åä»»å¡è°åº¦ã\n\nConnection conn = XxlJobAdminConfig.getAdminConfig()\n                  .getDataSource().getConnection();\nconnAutoCommit = conn.getAutoCommit();\nconn.setAutoCommit(false);\npreparedStatement = conn.prepareStatement(\n"select * from xxl_job_lock where lock_name = \'schedule_lock\' for update");\npreparedStatement.execute();\n# è§¦åä»»å¡è°åº¦ (ä¼ªä»£ç )\nfor (XxlJobInfo jobInfo: scheduleList) {\n  // çç¥ä»£ç \n}\n# äºå¡æäº¤\nconn.commit();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè°åº¦çº¿ç¨ä¼æ ¹æ®ä»»å¡çãä¸æ¬¡è§¦åæ¶é´ãï¼éåä¸åçå¨ä½ï¼\n\n\n\nå·²è¿æçä»»å¡éè¦ç«å»æ§è¡çï¼ç´æ¥æ¾å¥çº¿ç¨æ± ä¸­è§¦åæ§è¡ ï¼äºç§åéè¦æ§è¡çä»»å¡æ¾å° ringData å¯¹è±¡éã\n\nringThread å¯å¨åï¼å®æ¶ä» ringData å¯¹è±¡éè·åéè¦æ§è¡çä»»å¡åè¡¨ ï¼æ¾å¥å°çº¿ç¨æ± ä¸­è§¦åæ§è¡ã\n\n\n\n\n# åè\n\nå®æ¶ä»»å¡',normalizedContent:'# 1 quartz\n\nquartzæ¯ä¸æ¬¾javaå¼æºä»»å¡è°åº¦æ¡æ¶ï¼ä¹æ¯å¾å¤javaå·¥ç¨å¸æ¥è§¦ä»»å¡è°åº¦çèµ·ç¹ã\n\nä¸å¾æ¾ç¤ºäºä»»å¡è°åº¦çæ´ä½æµç¨ï¼\n\nquartzçæ ¸å¿æ¯ä¸ä¸ªç»ä»¶ã\n\n * ä»»å¡ï¼job ç¨äºè¡¨ç¤ºè¢«è°åº¦çä»»å¡ï¼\n * è§¦åå¨ï¼trigger å®ä¹è°åº¦æ¶é´çåç´ ï¼å³æç§ä»ä¹æ¶é´è§åå»æ§è¡ä»»å¡ãä¸ä¸ªjobå¯ä»¥è¢«å¤ä¸ªtriggerå³èï¼ä½æ¯ä¸ä¸ªtrigger åªè½å³èä¸ä¸ªjobï¼\n * è°åº¦å¨ ï¼å·¥åç±»åå»ºschedulerï¼æ ¹æ®è§¦åå¨å®ä¹çæ¶é´è§åè°åº¦ä»»å¡ã\n\n\n\nä¸å¾ä»£ç ä¸­quartz çjobstoreæ¯ ramjobstoreï¼trigger å job å­å¨å¨åå­ä¸­ã\n\næ§è¡ä»»å¡è°åº¦çæ ¸å¿ç±»æ¯ quartzschedulerthread ã\n\n\n\n 1. è°åº¦çº¿ç¨ä»jobstoreä¸­è·åéè¦æ§è¡ççè§¦åå¨åè¡¨ï¼å¹¶ä¿®æ¹è§¦åå¨çç¶æï¼\n 2. fireè§¦åå¨ï¼ä¿®æ¹è§¦åå¨ä¿¡æ¯(ä¸æ¬¡æ§è¡è§¦åå¨çæ¶é´ï¼ä»¥åè§¦åå¨ç¶æï¼ï¼å¹¶å­å¨èµ·æ¥ã\n 3. æååå»ºå·ä½çæ§è¡ä»»å¡å¯¹è±¡ï¼éè¿workerçº¿ç¨æ± æ§è¡ä»»å¡ã\n\næ¥ä¸æ¥åèè quartz çéç¾¤é¨ç½²æ¹æ¡ã\n\nquartzçéç¾¤é¨ç½²æ¹æ¡ï¼éè¦éå¯¹ä¸åçæ°æ®åºç±»å(mysql , oracle) å¨æ°æ®åºå®ä¾ä¸åå»ºquartzè¡¨ï¼jobstoreæ¯: jobstoresupport ã\n\nè¿ç§æ¹æ¡æ¯åå¸å¼çï¼æ²¡æè´è´£éä¸­ç®¡ççèç¹ï¼èæ¯å©ç¨æ°æ®åºè¡çº§éçæ¹å¼æ¥å®ç°éç¾¤ç¯å¢ä¸çå¹¶åæ§å¶ã\n\nschedulerå®ä¾å¨éç¾¤æ¨¡å¼ä¸é¦åè·å{0}locksè¡¨ä¸­çè¡éï¼mysql è·åè¡éçè¯­å¥ï¼\n\n\n\n{0}ä¼æ¿æ¢ä¸ºéç½®æä»¶é»è®¤éç½®çqrtz_ãsched_nameä¸ºåºç¨éç¾¤çå®ä¾åï¼lock_nameå°±æ¯è¡çº§éåãquartzä¸»è¦æä¸¤ä¸ªè¡çº§éè§¦åå¨è®¿é®é (trigger_access) å ç¶æè®¿é®éï¼state_accessï¼ã\n\n\n\nè¿ä¸ªæ¶æè§£å³äºä»»å¡çåå¸å¼è°åº¦é®é¢ï¼åä¸ä¸ªä»»å¡åªè½æä¸ä¸ªèç¹è¿è¡ï¼å¶ä»èç¹å°ä¸æ§è¡ä»»å¡ï¼å½ç¢°å°å¤§éç­ä»»å¡æ¶ï¼åä¸ªèç¹é¢ç¹çç«äºæ°æ®åºéï¼èç¹è¶å¤æ§è½å°±ä¼è¶å·®ã\n\n\n# 2 åå¸å¼éæ¨¡å¼\n\nquartzçéç¾¤æ¨¡å¼å¯ä»¥æ°´å¹³æ©å±ï¼ä¹å¯ä»¥åå¸å¼è°åº¦ï¼ä½éè¦ä¸å¡æ¹å¨æ°æ®åºä¸­æ·»å å¯¹åºçè¡¨ï¼æä¸å®çå¼ºä¾µå¥æ§ã\n\næä¸å°ç ååå­¦ä¸ºäºé¿åè¿ç§ä¾µå¥æ§ï¼ä¹æ¢ç´¢åºåå¸å¼éæ¨¡å¼ã\n\nä¸å¡åºæ¯ï¼çµåé¡¹ç®ï¼ç¨æ·ä¸ååä¸æ®µæ¶é´æ²¡æä»æ¬¾ï¼ç³»ç»å°±ä¼å¨è¶æ¶åå³é­è¯¥è®¢åã\n\néå¸¸æä»¬ä¼åä¸ä¸ªå®æ¶ä»»å¡æ¯ä¸¤åéæ¥æ£æ¥ååå°æ¶çè®¢åï¼å°æ²¡æä»æ¬¾çè®¢ååè¡¨æ¥è¯¢åºæ¥ï¼ç¶åå¯¹è®¢åä¸­çååè¿è¡åºå­çæ¢å¤ï¼ç¶åå°è¯¥è®¢åè®¾ç½®ä¸ºæ æã\n\næä»¬ä½¿ç¨spring scheduleçæ¹å¼åä¸ä¸ªå®æ¶ä»»å¡ã\n\n@scheduled(cron = "0 */2 * * * ? ")\npublic void dotask() {\n   log.info("å®æ¶ä»»å¡å¯å¨");\n   //æ§è¡å³é­è®¢åçæä½\n   orderservice.closeexpireunpayorders();\n   log.info("å®æ¶ä»»å¡ç»æ");\n }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¨åæå¡å¨è¿è¡æ­£å¸¸ï¼èèå°é«å¯ç¨ï¼ä¸å¡éæ¿å¢ï¼æ¶æä¼æ¼è¿æéç¾¤æ¨¡å¼ï¼å¨åä¸æ¶å»æå¤ä¸ªæå¡æ§è¡ä¸ä¸ªå®æ¶ä»»å¡ï¼æå¯è½ä¼å¯¼è´ä¸å¡ç´ä¹±ã\n\nè§£å³æ¹æ¡æ¯å¨ä»»å¡æ§è¡çæ¶åï¼ä½¿ç¨redis åå¸å¼éæ¥è§£å³è¿ç±»é®é¢ã\n\n@scheduled(cron = "0 */2 * * * ? ")\npublic void dotask() {\n    log.info("å®æ¶ä»»å¡å¯å¨");\n    string lockname = "closeexpireunpayorderslock";\n    redislock redislock = redisclient.getlock(lockname);\n    //å°è¯å éï¼æå¤ç­å¾3ç§ï¼ä¸éä»¥å5åéèªå¨è§£é\n    boolean locked = redislock.trylock(3, 300, timeunit.seconds);\n    if(!locked){\n        log.info("æ²¡æè·å¾åå¸å¼é:{}" , lockname);\n        return;\n    }\n    try{\n       //æ§è¡å³é­è®¢åçæä½\n       orderservice.closeexpireunpayorders();\n    } finally {\n       redislock.unlock();\n    }\n    log.info("å®æ¶ä»»å¡ç»æ");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n\nredisçè¯»åæ§è½æå¥½ï¼åå¸å¼éä¹æ¯quartzæ°æ®åºè¡çº§éæ´è½»éçº§ãå½ç¶rediséä¹å¯ä»¥æ¿æ¢æzookeeperéï¼ä¹æ¯åæ ·çæºå¶ã\n\nå¨å°åé¡¹ç®ä¸­ï¼ä½¿ç¨ï¼å®æ¶ä»»å¡æ¡æ¶ï¼quartz/spring scheduleï¼å åå¸å¼éï¼redis/zookeeperï¼æä¸éçææã\n\nä½æ¯å¢ï¼æä»¬å¯ä»¥åç°è¿ç§ç»åæä¸¤ä¸ªé®é¢ï¼\n\n 1. å®æ¶ä»»å¡å¨åå¸å¼åºæ¯ä¸æç©ºè·çæåµï¼èä¸ä»»å¡ä¹æ æ³åå°åçï¼\n 2. è¦æ³æå·¥è§¦åä»»å¡ï¼å¿é¡»æ·»å é¢å¤çä»£ç æè½å®æã\n\n\n# 3 elasticjob-lite æ¡æ¶\n\nelasticjob-lite å®ä½ä¸ºè½»éçº§æ ä¸­å¿åè§£å³æ¹æ¡ï¼ä½¿ç¨ jar çå½¢å¼æä¾åå¸å¼ä»»å¡çåè°æå¡ã\n\nåºç¨åé¨å®ä¹ä»»å¡ç±»ï¼å®ç°simplejobæ¥å£ï¼ç¼åèªå·±ä»»å¡çå®éä¸å¡æµç¨å³å¯ã\n\npublic class myelasticjob implements simplejob {\n    @override\n    public void execute(shardingcontext context) {\n        switch (context.getshardingitem()) {\n            case 0:\n                // do something by sharding item 0\n                break;\n            case 1:\n                // do something by sharding item 1\n                break;\n            case 2:\n                // do something by sharding item 2\n                break;\n            // case n: ...\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nä¸¾ä¾ï¼åºç¨aæäºä¸ªä»»å¡éè¦æ§è¡ï¼åå«æ¯aï¼bï¼cï¼dï¼eãä»»å¡eéè¦åæåä¸ªå­ä»»å¡ï¼åºç¨é¨ç½²å¨ä¸¤å°æºå¨ä¸ã\n\n\n\nåºç¨aå¨å¯å¨åï¼ 5ä¸ªä»»å¡éè¿ zookeeper åè°åè¢«åéå°ä¸¤å°æºå¨ä¸ï¼éè¿quartz scheduler åå¼æ§è¡ä¸åçä»»å¡ã\n\nelasticjob ä»æ¬è´¨ä¸æ¥è®² ï¼åºå±ä»»å¡è°åº¦è¿æ¯éè¿ quartz ï¼ç¸æ¯redisåå¸å¼é æè quartz åå¸å¼é¨ç½² ï¼å®çä¼å¿å¨äºå¯ä»¥ä¾èµ zookeeper è¿ä¸ªå¤§æå¨ ï¼å°ä»»å¡éè¿è´è½½åè¡¡ç®æ³åéç»åºç¨åç quartz schedulerå®¹å¨ã\n\nä»ä½¿ç¨èçè§åº¦æ¥è®²ï¼æ¯éå¸¸ç®åæç¨çãä½ä»æ¶ææ¥çï¼è°åº¦å¨åæ§è¡å¨ä¾ç¶å¨åä¸ä¸ªåºç¨æ¹jvmåï¼èä¸å®¹å¨å¨å¯å¨åï¼ä¾ç¶éè¦åè´è½½åè¡¡ãåºç¨åå¦é¢ç¹çéå¯ï¼ä¸æ­çå»éä¸»ï¼å¯¹åçåè´è½½åè¡¡ï¼è¿äºé½æ¯ç¸å¯¹æ¯è¾éçæä½ã\n\nelasticjob çæ§å¶å°éè¿è¯»åæ³¨åä¸­å¿æ°æ®å±ç°ä½ä¸ç¶æï¼æ´æ°æ³¨åä¸­å¿æ°æ®ä¿®æ¹å¨å±ä»»å¡éç½®ãä»ä¸ä¸ªä»»å¡è°åº¦å¹³å°çè§åº¦æ¥çï¼æ§å¶å°åè½è¿æ¯åå­±å¼±çã\n\n\n# 4 ä¸­å¿åæµæ´¾\n\nä¸­å¿åçåçæ¯ï¼æè°åº¦åä»»å¡æ§è¡ï¼éç¦»æä¸¤ä¸ªé¨åï¼è°åº¦ä¸­å¿åæ§è¡å¨ãè°åº¦ä¸­å¿æ¨¡ååªéè¦è´è´£ä»»å¡è°åº¦å±æ§ï¼è§¦åè°åº¦å½ä»¤ãæ§è¡å¨æ¥æ¶è°åº¦å½ä»¤ï¼å»æ§è¡å·ä½çä¸å¡é»è¾ï¼èä¸ä¸¤èé½å¯ä»¥è¿è¡åå¸å¼æ©å®¹ã\n\n\n# 4.1 mqæ¨¡å¼\n\nåè°è°æå¨èºé¾ä¿éå¢éæ¥è§¦çç¬¬ä¸ç§ä¸­å¿åæ¶æã\n\n\n\nè°åº¦ä¸­å¿ä¾èµquartzéç¾¤æ¨¡å¼ï¼å½ä»»å¡è°åº¦æ¶åï¼åéæ¶æ¯å°rabbitmq ãä¸å¡åºç¨æ¶å°ä»»å¡æ¶æ¯åï¼æ¶è´¹ä»»å¡ä¿¡æ¯ã\n\nè¿ç§æ¨¡åååå©ç¨äºmqè§£è¦çç¹æ§ï¼è°åº¦ä¸­å¿åéä»»å¡ï¼åºç¨æ¹ä½ä¸ºæ§è¡å¨çè§è²ï¼æ¥æ¶ä»»å¡å¹¶æ§è¡ã\n\nä½è¿ç§è®¾è®¡å¼ºä¾èµæ¶æ¯éåï¼å¯æ©å±æ§ååè½ï¼ç³»ç»è´è½½é½åæ¶æ¯éåææå¤§çå³èãè¿ç§æ¶æè®¾è®¡éè¦æ¶æå¸å¯¹æ¶æ¯éåéå¸¸çæã\n\n\n# 4.2 xxl-job\n\n> xxl-job æ¯ä¸ä¸ªåå¸å¼ä»»å¡è°åº¦å¹³å°ï¼å¶æ ¸å¿è®¾è®¡ç®æ æ¯å¼åè¿éãå­¦ä¹ ç®åãè½»éçº§ãææ©å±ãç°å·²å¼æ¾æºä»£ç å¹¶æ¥å¥å¤å®¶å¬å¸çº¿ä¸äº§åçº¿ï¼å¼ç®±å³ç¨ã\n\nxxl-job 2.3.0æ¶æå¾\n\næä»¬éç¹åæä¸æ¶æå¾ ï¼\n\nâ ç½ç»éè®¯ server-worker æ¨¡å\n\n\n\nè°åº¦ä¸­å¿åæ§è¡å¨ ä¸¤ä¸ªæ¨¡åä¹é´éè®¯æ¯ server-worker æ¨¡å¼ãè°åº¦ä¸­å¿æ¬èº«å°±æ¯ä¸ä¸ªspringboot å·¥ç¨ï¼å¯å¨ä¼çå¬8080ç«¯å£ã\n\næ§è¡å¨å¯å¨åï¼ä¼å¯å¨åç½®æå¡ï¼ embedserver ï¼çå¬9994ç«¯å£ãè¿æ ·åæ¹é½å¯ä»¥ç»å¯¹æ¹åéå½ä»¤ã\n\né£è°åº¦ä¸­å¿å¦ä½ç¥éæ§è¡å¨çå°åä¿¡æ¯å¢ ï¼ä¸å¾ä¸­ï¼æ§è¡å¨ä¼å®æ¶åéæ³¨åå½ä»¤ ï¼è¿æ ·è°åº¦ä¸­å¿å°±å¯ä»¥è·åå¨çº¿çæ§è¡å¨åè¡¨ã\n\néè¿æ§è¡å¨åè¡¨ï¼å°±å¯ä»¥æ ¹æ®ä»»å¡éç½®çè·¯ç±ç­ç¥éæ©èç¹æ§è¡ä»»å¡ãå¸¸è§çè·¯ç±ç­ç¥æå¦ä¸ä¸ç§ï¼\n\n * éæºèç¹æ§è¡ï¼éæ©éç¾¤ä¸­ä¸ä¸ªå¯ç¨çæ§è¡èç¹æ§è¡è°åº¦ä»»å¡ãéç¨åºæ¯ï¼ç¦»çº¿è®¢åç»ç®ã\n\n\n\n * å¹¿æ­æ§è¡ï¼å¨éç¾¤ä¸­ææçæ§è¡èç¹ååè°åº¦ä»»å¡å¹¶æ§è¡ãéç¨åºæ¯ï¼æ¹éæ´æ°åºç¨æ¬å°ç¼å­ã\n   \n   \n\n * åçæ§è¡ï¼æç§ç¨æ·èªå®ä¹åçé»è¾è¿è¡æåï¼ååå°éç¾¤ä¸­ä¸åèç¹å¹¶è¡æ§è¡ï¼æåèµæºå©ç¨æçãéç¨åºæ¯ï¼æµ·éæ¥å¿ç»è®¡ã\n\n\n\nâ è°åº¦å¨\n\nè°åº¦å¨æ¯ä»»å¡è°åº¦ç³»ç»éé¢éå¸¸æ ¸å¿çç»ä»¶ãxxl-job çæ©æçæ¬æ¯ä¾èµquartzã\n\nä½å¨v2.1.0çæ¬ä¸­å®å¨å»æäºquartzçä¾èµï¼åæ¥éè¦åå»ºç quartzè¡¨ä¹æ¿æ¢æäºèªç çè¡¨ã\n\næ ¸å¿çè°åº¦ç±»æ¯ï¼jobtriggerpoolhelper ãè°ç¨startæ¹æ³åï¼ä¼å¯å¨ä¸¤ä¸ªçº¿ç¨ï¼schedulethread å ringthread ã\n\né¦å schedulethread ä¼å®æ¶ä»æ°æ®åºå è½½éè¦è°åº¦çä»»å¡ï¼è¿éä»æ¬è´¨ä¸è¿æ¯åºäºæ°æ®åºè¡éä¿è¯åæ¶åªæä¸ä¸ªè°åº¦ä¸­å¿èç¹è§¦åä»»å¡è°åº¦ã\n\nconnection conn = xxljobadminconfig.getadminconfig()\n                  .getdatasource().getconnection();\nconnautocommit = conn.getautocommit();\nconn.setautocommit(false);\npreparedstatement = conn.preparestatement(\n"select * from xxl_job_lock where lock_name = \'schedule_lock\' for update");\npreparedstatement.execute();\n# è§¦åä»»å¡è°åº¦ (ä¼ªä»£ç )\nfor (xxljobinfo jobinfo: schedulelist) {\n  // çç¥ä»£ç \n}\n# äºå¡æäº¤\nconn.commit();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè°åº¦çº¿ç¨ä¼æ ¹æ®ä»»å¡çãä¸æ¬¡è§¦åæ¶é´ãï¼éåä¸åçå¨ä½ï¼\n\n\n\nå·²è¿æçä»»å¡éè¦ç«å»æ§è¡çï¼ç´æ¥æ¾å¥çº¿ç¨æ± ä¸­è§¦åæ§è¡ ï¼äºç§åéè¦æ§è¡çä»»å¡æ¾å° ringdata å¯¹è±¡éã\n\nringthread å¯å¨åï¼å®æ¶ä» ringdata å¯¹è±¡éè·åéè¦æ§è¡çä»»å¡åè¡¨ ï¼æ¾å¥å°çº¿ç¨æ± ä¸­è§¦åæ§è¡ã\n\n\n\n\n# åè\n\nå®æ¶ä»»å¡',charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å¦ä½æåææ¯æ°´å¹³ï¼",frontmatter:{title:"å¦ä½æåææ¯æ°´å¹³ï¼",date:"2022-12-09T19:59:10.000Z",permalink:"/pages/c7084e/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/04.%E5%A6%82%E4%BD%95%E6%8F%90%E5%8D%87%E6%8A%80%E6%9C%AF%E6%B0%B4%E5%B9%B3%EF%BC%9F.html",relativePath:"10.éææ¯/04.å¦ä½æåææ¯æ°´å¹³ï¼.md",key:"v-70bb01cc",path:"/pages/c7084e/",headers:[{level:2,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:167},{level:2,title:"å¤§é¨åäººå¨ä¸ºææ°æ¾åå£",slug:"å¤§é¨åäººå¨ä¸ºææ°æ¾åå£",normalizedTitle:"å¤§é¨åäººå¨ä¸ºææ°æ¾åå£",charIndex:364},{level:4,title:"1. æ²¡æ¶é´æ¯æå¤§çåå£",slug:"_1-æ²¡æ¶é´æ¯æå¤§çåå£",normalizedTitle:"1. æ²¡æ¶é´æ¯æå¤§çåå£",charIndex:458},{level:4,title:"2. æåçå·¥ä½QPSä¸å¤ªé«ãæ°æ®éä¸å¤ªå¤§ï¼ä¸åxxxä¸å¡ï¼å¾é»ç¼äºº",slug:"_2-æåçå·¥ä½qpsä¸å¤ªé«ãæ°æ®éä¸å¤ªå¤§-ä¸åxxxä¸å¡-å¾é»ç¼äºº",normalizedTitle:"2. æåçå·¥ä½qpsä¸å¤ªé«ãæ°æ®éä¸å¤ªå¤§ï¼ä¸åxxxä¸å¡ï¼å¾é»ç¼äºº",charIndex:639},{level:4,title:"3. å¬å¸çææ¯å¹è®­ãææ¯åäº«å¤ªå°äº",slug:"_3-å¬å¸çææ¯å¹è®­ãææ¯åäº«å¤ªå°äº",normalizedTitle:"3. å¬å¸çææ¯å¹è®­ãææ¯åäº«å¤ªå°äº",charIndex:739},{level:4,title:"4. é£ä¸æ¯æè¯¥å¹²çï¼é£æ¯åç«¯çæ´»ãé£æ¯è¿ç»´çæ´»ãé£æ¯DBAçæ´»ãé£æ¯xxxçæ´»",slug:"_4-é£ä¸æ¯æè¯¥å¹²ç-é£æ¯åç«¯çæ´»ãé£æ¯è¿ç»´çæ´»ãé£æ¯dbaçæ´»ãé£æ¯xxxçæ´»",normalizedTitle:"4. é£ä¸æ¯æè¯¥å¹²çï¼é£æ¯åç«¯çæ´»ãé£æ¯è¿ç»´çæ´»ãé£æ¯dbaçæ´»ãé£æ¯xxxçæ´»",charIndex:870},{level:4,title:"5. ä½ ä»¬è½ä¸è½æéæ±æ³çç¹å«æ¸æ¥äºåæ¥æ¾æ",slug:"_5-ä½ ä»¬è½ä¸è½æéæ±æ³çç¹å«æ¸æ¥äºåæ¥æ¾æ",normalizedTitle:"5. ä½ ä»¬è½ä¸è½æéæ±æ³çç¹å«æ¸æ¥äºåæ¥æ¾æ",charIndex:972},{level:2,title:"è½¬åæè·¯ãå éåè¿",slug:"è½¬åæè·¯ãå éåè¿",normalizedTitle:"è½¬åæè·¯ãå éåè¿",charIndex:1149},{level:4,title:"1. è½¬åæè·¯ï¼åè¢«å¨ä¸ºä¸»å¨",slug:"_1-è½¬åæè·¯-åè¢«å¨ä¸ºä¸»å¨",normalizedTitle:"1. è½¬åæè·¯ï¼åè¢«å¨ä¸ºä¸»å¨",charIndex:1233},{level:4,title:"2. ä»ç¼åå·¥ä½å¥æï¼åæ¬æå®¢ç²¾ç¥ï¼åå°æè´",slug:"_2-ä»ç¼åå·¥ä½å¥æ-åæ¬æå®¢ç²¾ç¥-åå°æè´",normalizedTitle:"2. ä»ç¼åå·¥ä½å¥æï¼åæ¬æå®¢ç²¾ç¥ï¼åå°æè´",charIndex:1716},{level:4,title:"3. æ¥æéæ¯ä¸ªæ·å¾",slug:"_3-æ¥æéæ¯ä¸ªæ·å¾",normalizedTitle:"3. æ¥æéæ¯ä¸ªæ·å¾",charIndex:2874},{level:4,title:"4. æèãæèãåæè",slug:"_4-æèãæèãåæè",normalizedTitle:"4. æèãæèãåæè",charIndex:3278},{level:4,title:"5. å·¥ä½ä¸ä¸æ¸¸å¨é¨é¨å¿æ¸",slug:"_5-å·¥ä½ä¸ä¸æ¸¸å¨é¨é¨å¿æ¸",normalizedTitle:"5. å·¥ä½ä¸ä¸æ¸¸å¨é¨é¨å¿æ¸",charIndex:4105},{level:4,title:"6. åªè¦è·ä½ ç¸å³ï¼ä½ å°±æ¯Owner",slug:"_6-åªè¦è·ä½ ç¸å³-ä½ å°±æ¯owner",normalizedTitle:"6. åªè¦è·ä½ ç¸å³ï¼ä½ å°±æ¯owner",charIndex:4625},{level:4,title:"7. å¨é¢äºè§£ä¸å¡ï¼æ·±å¥çè§£éæ±",slug:"_7-å¨é¢äºè§£ä¸å¡-æ·±å¥çè§£éæ±",normalizedTitle:"7. å¨é¢äºè§£ä¸å¡ï¼æ·±å¥çè§£éæ±",charIndex:4847},{level:4,title:"8. å©ç¨å¥½ä¸ä½æ¶é´",slug:"_8-å©ç¨å¥½ä¸ä½æ¶é´",normalizedTitle:"8. å©ç¨å¥½ä¸ä½æ¶é´",charIndex:5514}],headersStr:"åè¨ å¤§é¨åäººå¨ä¸ºææ°æ¾åå£ 1. æ²¡æ¶é´æ¯æå¤§çåå£ 2. æåçå·¥ä½QPSä¸å¤ªé«ãæ°æ®éä¸å¤ªå¤§ï¼ä¸åxxxä¸å¡ï¼å¾é»ç¼äºº 3. å¬å¸çææ¯å¹è®­ãææ¯åäº«å¤ªå°äº 4. é£ä¸æ¯æè¯¥å¹²çï¼é£æ¯åç«¯çæ´»ãé£æ¯è¿ç»´çæ´»ãé£æ¯DBAçæ´»ãé£æ¯xxxçæ´» 5. ä½ ä»¬è½ä¸è½æéæ±æ³çç¹å«æ¸æ¥äºåæ¥æ¾æ è½¬åæè·¯ãå éåè¿ 1. è½¬åæè·¯ï¼åè¢«å¨ä¸ºä¸»å¨ 2. ä»ç¼åå·¥ä½å¥æï¼åæ¬æå®¢ç²¾ç¥ï¼åå°æè´ 3. æ¥æéæ¯ä¸ªæ·å¾ 4. æèãæèãåæè 5. å·¥ä½ä¸ä¸æ¸¸å¨é¨é¨å¿æ¸ 6. åªè¦è·ä½ ç¸å³ï¼ä½ å°±æ¯Owner 7. å¨é¢äºè§£ä¸å¡ï¼æ·±å¥çè§£éæ± 8. å©ç¨å¥½ä¸ä½æ¶é´",content:"æ¬æä¸»è¦æ¯ä»ç¬èçç»éªåºåï¼åäº«ä¸å¯¹æåææ¯æ°´å¹³ççæ³ãæè°å ææ½æãå å°å¶å®ï¼ä¸æåäº«çæ¹æ³ä¸ä¸å®éåä½ ï¼æä»¥è¯»èä»¬åå¶ç²¾é«ãå»å¶ç³ç²å§ï¼åªæå¶ä¸­åªæä¸ä¸¤ç¹ä½ è§å¾åç¨ï¼é£æå°±å¾é«å´äºã\n\néè¯»å¯¹è±¡ï¼æ¬æéç¨äºåæ¯ä¸ä¸ä¹çæ°äººãç¥è¯é¢è¾çªçå·¥ç¨åå­¦ãè½èä»»ç®åå·¥ä½ä½æè§æ ææçåå­¦ãå¿äºå·¥ä½æè§èªå·±æ²¡ææ¶é´æåçåå­¦ç­ç­ã\n\n\n# åè¨\n\nè¿è®°å¾2008å¹´ï¼ååå å·¥ä½æ¶ï¼å¥é½ä¸ä¼ï¼ä¸å¼ ç½çº¸ï¼ä¸é®ä¸ä¸ç¥ï¼ä¸ç¹ç¹æ¢æ¢æ¸ç´¢ãç ç©¶ï¼é£æ®µæ¶åå¾å¹¸ç¦ï¼è½æåå°èªå·±æ¯å¤©é½å¨è¿æ­¥ï¼æ¯å¤©é½ä¼å­¦å°æ°çç¥è¯ãä¹æ¾éå¸¸è¦é·ï¼æç´¢å¦ä½è¿ä¸æ­¥æåèªå·±çææ¯æ°´å¹³å¢ï¼å°åæ¥ï¼ææ¯ä¸ä¸æ¬¡åä¸æ¬¡éå°ç¶é¢ï¼åçªç ´ç¶é¢ï¼å¹¶æ²¡æå ä¸ºä¸æ¬¡æ¬¡ççªç ´èæè§æ»¡è¶³ï¼ååè¶æ¥è¶æè§èªå·±ä¼çææ¯å¤ªå°ï¼æ´è¦èå¿å°å­¦ä¹ ãææ»ç»åºäºä¸äºæåææ¯æ°´å¹³çæ¹æ³ï¼ä¸é¢ä¸ä¸åäº«ã\n\n\n# å¤§é¨åäººå¨ä¸ºææ°æ¾åå£\n\nææ¶ï¼ææ¯åå­¦ä¹é´äº¤æµï¼è¿å»ä¸å¹´ï¼ä½ è§å¾èªå·±æåªäºè¿æ­¥åï¼ç»å¸¸ä¼å¬å°è¿æ ·çåç­ï¼éæ±å¤ªå¤ï¼å·¥ä½å¤ªå¿ï¼æè§èªå·±æ²¡å¥å¤§çè¿æ­¥ãæä»¬ä¼å¬å°åç§åæ ·ççç±ï¼æ¯å¦ï¼\n\n# 1. æ²¡æ¶é´æ¯æå¤§çåå£\n\næ²¡æ¶é´åæ©é¥­ãæ²¡æ¶é´è¿å¨ãæ²¡æ¶é´åå»çæäº²äººãæ²¡æ¶é´å»Reviewä»£ç ãæ²¡æ¶é´å»è°æ¥çº¿ä¸Bugãããè¿é½æ¯æå¸¸ç¨çåå£ãåæèï¼ç­å¿è¿äºè¿ä¸éµæå°±æä¹æ ·æä¹æ ·ãæç»ç»æä¸è¬æ¯æ°¸è¿æ²¡æå»è½å®ã æ¶é´å¶å®æ¯æå¬å¹³çï¼æ¯äººæ¯å¤©24å°æ¶ï¼ä¸å¤ä¸å°ãä¸æ¯æ²¡æ¶é´ï¼èæ¯æ²¡éæ©èå·²ãå ä¸ºä½ æ½æè¯éè®¤ä¸ºè¿äºä¸éè¦ï¼æä»¥å°±å»åäºå¶ä»æ´éè¦çäºã\n\n# 2. æåçå·¥ä½QPSä¸å¤ªé«ãæ°æ®éä¸å¤ªå¤§ï¼ä¸åxxxä¸å¡ï¼å¾é»ç¼äºº\n\nè¯¯åºï¼å·¥ä½ææä¸å¤ï¼æ¯ä»½å·¥ä½é½æèªå·±çææï¼é½ææ­»æNå¤èç»èå°±é¾ä»¥è§£å³çé®é¢ãåæä¸ï¼ä½ ç°å¨æ¯å¦ææ¬èå·¥ä½åå°äºæä½³ï¼\n\n# 3. å¬å¸çææ¯å¹è®­ãææ¯åäº«å¤ªå°äº\n\næ»æäººå¸æææ¯å¹è®­ãåäº«æ¥æåç¥è¯ï¼è¿æ¯åºè¯æè²é æçåéçï¼å¤§å®¶ä¹ æ¯äºèå¸æç¥è¯çè¾å°èå­éï¼èä¸åæ¬¢èªå·±ä¸»å¨å»è·åãå¶å®ææ¯åäº«ç­ï¼åªæ¯ç©¿éå¼çº¿ï¼å¤§è´ç»ä½ ä»ç»æä¸ªä¸è¥¿æ¯ä»ä¹æ ·çï¼è¦æ·±å¥çè§£è¿å¾é å®è·µï¼ä»¥èµä»£ç»ã\n\n# 4. é£ä¸æ¯æè¯¥å¹²çï¼é£æ¯åç«¯çæ´»ãé£æ¯è¿ç»´çæ´»ãé£æ¯DBAçæ´»ãé£æ¯xxxçæ´»\n\nå¶å®ä½ å°±éå¤±äºææ¡åç«¯ãè¿ç»´ãæ°æ®åºç­ç¥è¯çå¤§å¥½æºä¼ãæä»¬ä¸ä¸å®è¦æå¾å¦ä½å»æä½ï¼ä½æ¯è¦å¤§è´ç¥éè¿äºäºè¯¥æä¹å¹²ã\n\n# 5. ä½ ä»¬è½ä¸è½æéæ±æ³çç¹å«æ¸æ¥äºåæ¥æ¾æ\n\nææ¯åå­¦é½åæ¬¢æ¸æ¥çéæ±ï¼ç¶åèªå·±åä»£ç å»å®ç°ï¼ä½æ¯ä¸ªéæ±é½æ¸æ°æ¯çæ³ç¶æãæéæ±çåå­¦åä¸ç¥éææ¯ç»èï¼ä»æä¹å¯è½æ¯ä¸ªéæ±é½ç¹å«æ¸æ°ãåçãéæ±åªæ¯ææ®µï¼ä¸æ¯ç®çï¼éæ±èåè¦è§£å³çé®é¢ææ¯æ ¸å¿ãææ¯åå­¦åºè¯¥èµ°åºèéåºï¼æ´å¤å»äºè§£ä¸å¡ï¼ä»èç«å¨ææ¯çè§åº¦ï¼æåºæ´å¥½çè§£å³æ¹æ¡ï¼èä¸æ¯ä»ä»å®ç°éæ±ã\n\n\n# è½¬åæè·¯ãå éåè¿\n\nä¸é¢åäºå¾å¤å¸¸ç¨çåå£ï¼è¿äºé½å¨å¶çº¦çä½ çåå±ãç»å¤§é¨åé½æ¯ææ³ä¸çææ°ï¼å¾å¨èéåºï¼ä¸æ¿æèµ°åºå»ãé£è¦æä¹åæè½å¿«éæåèªå·±ææ¯è½åå¢ï¼\n\n# 1. è½¬åæè·¯ï¼åè¢«å¨ä¸ºä¸»å¨\n\nä½ è¦ä¸»å¨å»å­¦ä¹ ï¼ä¸è¦ç­å«äººï¼ä¸è¦è¢«å¨å­¦ä¹ ï¼ææ³ä¸é¦åè¦è½¬åãéæ¥å°±é£ä¹å å¹´ï¼æ¯ä¸åçåäºå¹´æ¯é£éåå±çé»éæ¶æã éè¦æäºå¥½å¥å¿ï¼ç´æ­æä¹åçï¼è§é¢æ¯æä¹åçï¼æ¨èåæ¯æä¹åäºï¼æ±çå¯¹è¿äºäºçå¥½å¥å¿ï¼ç¶åä¸»å¨å»äºè§£ï¼è½è·åå¤§éç¥è¯ã çå¦ä¸ä¸¤è¡ä»£ç ï¼\n\nMap<Long, UserCache> userCacheMap = userCacheService.getByIds(uids);\nMap<Long, Photo> photoMap = photoService.getByIdsFailFast(photoIds, PhotoGetTimeout.DEFAULT);\n\n\n1\n2\n\n\nè¿ä¸¤è¡ä»£ç ï¼æå¤§é¢åçJavaå·¥ç¨å¸è¯å®åè¿æ æ°éï¼ççä¸è½åçäºãä½æ¯ä½ äºè§£è¿å¦ä½å®ç°çåï¼å¦æè¦è®¡ç®QPSï¼è¿ä¸¤æ¥å£çQPSå¤§çåæ­»ä½ ãè¿ä¹é«çQPSãè¿ä¹å¤§çæ°æ®éï¼æ¯å¦ä½åå°çå¢ï¼æ¹æ¡æ¯ä»ä¹ï¼æµç¨æ¯ä»ä¹ãå¦ææ²¡ææ·±å¥å»äºè§£è¿ï¼è¿å¨æ±æ¨å·¥ä½æ ææçè¯ï¼é£å°±ç¸å½äºä½ å®çéå±±é¶å±±å´ä»å¨å­ç©·ãå¹¶ä¸æ¯çç©·ï¼èæ¯ç¼ºå°åç°è´¢å¯çç¼çã\n\n# 2. ä»ç¼åå·¥ä½å¥æï¼åæ¬æå®¢ç²¾ç¥ï¼åå°æè´\n\næåå­¦ç»å¸¸æ±æ¨æ²¡ææ¶é´å»æåãæ²¡ææåçæ¹åï¼ä¹æäºåå­¦å¾ä¸»å¨ï¼ä¹°äºå¾å¤ä¹¦æ¥çï¼ä½æ¯è¿äºä¹¦è·å·¥ä½å³ç³»ä¸å¤ªå¤§ãæçå»ºè®®å°±æ¯ï¼æé£äºè·ç°æå·¥ä½å³ç³»ä¸å¤§çä¹¦ééææï¼é£æ¯å¨æµªè´¹ä½ çæ¶é´ãç¥è¯å¦æµ·æ´ï¼å­¦ä»¥è´ç¨ï¼å¦æå­¦å°ä¸è¥¿æ²¡æç¨ï¼é£å­¦æ¥å¹²åå¢ï¼å­¦çä¸è¥¿ç«å»è½ç¨ï¼æä¼å°è±¡æ·±å»ï¼ä»èæ²æ·å¨ä½ çèæµ·ä¸­ã ä¸ä¸ªäººæåçè¿ç¨ï¼å¶å®å°±æ¯ä¸æ­è¶è¶æ¨å¤©çä½ çè¿ç¨ãå æ­¤ï¼æå¥½ãæå¿«éçæåå°±æ¯ä»ç°æå·¥ä½å¥æï¼å¯¹èªå·±é«æ åãä¸¥è¦æ±ï¼åæ¬æå®¢ç²¾ç¥ï¼ææ¯è¡ä»£ç é½åéï¼æ¯è¡ä»£ç é½ç²¾çæ±ç²¾ï¼çè³è¿ä¸ä¸ªç©ºæ ¼ãä¸ä¸ªæ ç¹ç¬¦å·é½è®©äººæä¸åºæ¯çæ¥ãç¬¬ä¸éåå®çä»£ç ï¼èªå·±åå¤reviewï¼ç´å°æè§æ²¡å¥é®é¢ä¸ºæ­¢ã æåå­¦ä¼è¯´ï¼é¡¹ç®éå¸¸ç´§ï¼æå®å¨æ²¡ææ¶é´å»åå¤reviewèªå·±çä»£ç ãå¯¹ï¼é¡¹ç®ç´§æ¯ä¸å®çï¼å¹¶ä¸æ¯è®©ä½ å»åå¤reviewä»¥åçä»£ç ï¼èæ¯å¨å¼åæ°éæ±çè¿ç¨ä¸­ï¼å°±æåå¤reviewèå¥è¿å»ï¼å»æä¸ç§ä¹ æ¯ãæ¯å¦å¼åä¸ä¸ªåè½ï¼ç¼ç 5ä¸ªå°æ¶ï¼åå¤reviewåå¤ä¿®æ¹é¡¶å¤å¤è±ä½ ä¸å°æ¶ï¼æ»å±6å°æ¶ï¼å¯¹é¡¹ç®ä¸ä¼æå¤ªå¤§å½±åãå¹¶ä¸éçæ¶é´æ¨ç§»ï¼ä½ çä»£ç è´¨éè¶æ¥è¶é«ï¼reviewçæ¶é´ä¼éæ­¥åå°ï¼æ´ä½æçä¹ä¼è¶æ¥è¶é«ï¼å ä¸ºç¬¬ä¸éå°±è½ååºæ¼äº®çä»£ç äºã è¯´å°æè´ï¼æä»¬çä¸¤ä¸ªä¾å­ï¼ç¬¬ä¸ä¸ªä¾å­ï¼\n\nMap<Long, Integer> statisCount=new HashMap<Long, Integer>();\n\n\n1\n\n\nè¿æ¯ä¸ä¸ªMapçå®ä¹ï¼å¹³æ¶å±ä»¬é½åäºåç¾åäºï¼å½æ¶çå°è¿è¡ä»£ç æå°±ç»ä»æäº4ä¸ªæ¯çã(1) ç­å·ååæ ç©ºæ ¼ï¼(2)åé¢ç<Long, Integer>å¤ä½ï¼åæ<>å³å¯ï¼(3)è±æå¨ç§°æ¯statisticsï¼ç®ç§°ä¸è¬æ¯statï¼èä¸æ¯statisï¼è¿ä¸ªç®ç§°è®©äººå°æï¼(4) å¯¹äºMapçå½åï¼åºè¯¥ç¨åè¯ï¼ç°å¨ç xxxCountæ´åæ¯æä¸ªè®¡æ°ï¼åªæ¯ä¸ä¸ªæ°ï¼å¹¶æ²¡æçªåºæ¯ä¸ªæ°æ®ç»æMapï¼å½ä¸æä½ çå°statisCount.put(1, 2); æ¶å°±æµé¼äºï¼statisCountåºè¯¥æ¯++ æä½ï¼æä¹å°±putäºå¢ï¼ï¼å æ­¤å« statCountMap æ´æ°å½äºã\n\nç¬¬äºä¸ªä¾å­ï¼æåå­¦åä¼ä¸å¾®ä¿¡ä¸åæ¬¢ç¨æ ç¹ç¬¦å·ï¼å¨ç¨ç©ºæ ¼ï¼ææ¶ä¼ç»å«äººçéè¯»é æäºå°é¾ãæ¯å¦âæå¥ å¨åâï¼ææ¶ç©ºæ ¼å¯è½çä¸å¤ªæ¸ï¼é£è¯·é®å°åºæ¯ âæå¥å¨åï¼â è¿æ¯ âæå¥ï¼å¨åï¼â è¿ä¸¤å¥è¯æ¯æå·®å«çãä¸æ¯è¯´å¸æå¤§å®¶é½ç¨æ ç¹ç¬¦å·ï¼èæ¯å¸æç¨ç©ºæ ¼çåå­¦ï¼è¦èèä¸å¯¹æ¹çéè¯»ä½éªï¼ä¸è¦é æéè¯»å°é¾ï¼å¦æä¸ä¸ªç©ºæ ¼æ­å¥æå°é¾çè¯ï¼ä½ å°±å¤å å ä¸ªç©ºæ ¼åï¼æ¯å¦4ä¸ªï¼è¿æ ·å°±å®ç¾äºã\n\nåæè®²åä»£ç ï¼ç¬¬äºä¸ªä¾å­æ¯æ²éï¼å¸æå°æå®¢ç²¾ç¥åæ¬å°å·¥ä½ä¸­çæ¹æ¹é¢é¢ï¼å¤§å°åé¡¹ç®ãå°å°è¯´æ¯ä¸å¥è¯ï¼é½è¦æ±ç²¾çæ±ç²¾ï¼æ´ä¸ªäººä¼ç»äººä¸ç§çç¶ä¸æ°çæè§ã\n\n# 3. æ¥æéæ¯ä¸ªæ·å¾\n\nå±ä»¬æ¯å¤©é®ä»¶æ¥è­¦ä¸ç¾å°ï¼ææ¶ä¹ä¼ç¢°å°çº¿ä¸é®é¢ï¼æ¯å¦CPUè¾é«ãæµéè¾é«ãé¢ç¹Full GCãRpcMonitoræ¥è­¦ï¼ä¹ä¼éå°åç§Exceptionï¼ç­ç­ãè¿äºå¶å®é½æ¯å¿«éæåææ¯è½åçæ·å¾ã æ¥çº¿ä¸é®é¢ï¼ä¼é¼ä½ äºè§£ä¸ä¸æ¸¸ä¸å¡ï¼é¼ä½ æ·±å¥ä¸å»ï¼èä¸æ¯åçå¨ä»£ç è¡¨é¢ï¼é¼ä½ ä½¿ç¨åç§å·¥å·å»åæï¼æç»ä¸å®ä¼è·çè¯å¤ã å½ç¶ï¼é»ç¢ä½ è¿æ­¥çæ¦è·¯èä¹ä¼æå¾å¤ï¼æ¯å¦ï¼è¿ä¸ªæ¥è­¦æ¯å¶ä»å°ç»çï¼è´è´£äººä¸æ¯æï¼ä¸å³æäºï¼å¿½ç¥ï¼é®é¢æ¯ä»ä¹ï¼æ²¡æ¥åºæ¥ï¼æä¹ä¸ç¥éï¼åç¨å¶ä»æ¹å¼ç»è¿å§ï¼ä»¥ååè¯´ï¼DBæ¥çæ¢æ¯DBAçè´£ä»»ï¼å¾æ¾DBAè§£å³ï¼ä¸è¯¥æå»æ¥ï¼ç­ç­ç­ç­ãè¿äºé½æ¯ç»èªå·±æ¾çåå£ï¼åºè¯¥è·¨è¶ç³»ç»è¾¹çï¼å¨æ ¹é®åºï¼æé®é¢å½»åºæ¾åºæ¥ï¼ä¸æ¾å°çç¸èªä¸ç½¢ä¼ã å¦å¤ï¼è¿è¥æèå®¡æ ¸åå­¦ææ¶ä¼å¨ç¾¤éåé¦é®é¢ï¼å¥½å¤åå­¦çç¬¬ä¸ååºæ¯ï¼èº²ï¼æè¿äºé®é¢å½åæ²¡çè§ï¼æèè§å¾ä¸æ¯æè´è´£å°±ä¸ç®¡äºãå¶å®è¿é½æ¯å¨éå¤±ææ¯æåçè¯æºï¼\n\n# 4. æèãæèãåæè\n\nå¦æä½ å»æ¾¡å ï¼å¤§å®¶é½æè¡£ææäºï¼è½æé«ç®è¥ç¦ï¼ä½é½å·®è·ä¸å¤§ãäººåäººä¹é´æå¤§çå·®è·ï¼å¨äºèå­ä»¥ä¸çé¨åï¼ä¹å°±æ¯ä½ çå¤§èãè®­ç»å¤§èå°±åªæä¸ç§æ¹å¼ï¼æèã æèä»ä¹åå®¹å¢ï¼çæ­£çéæ±å°åºæ¯å¥ï¼ä»ä»¬è¦è¾¾å°ä»ä¹ç®çï¼æçææ¯æ¹æ¡æ¯æä¼çåï¼ææ²¡ææ¹è¿ç©ºé´ï¼ææ²¡æåªä¸ªç»èèèä¸å¨ï¼æ¨¡åçå»ºç«ä¸æ¯å¦åçï¼æ¯å¦ç¬¦åçæ´»ä¸­çæ¨¡åï¼ææ²¡ææé©¬ç¹çè®¾è®¡ï¼ææä¹å»æè¿°è¿ä¸ªé®é¢ï¼ç¨ä»ä¹è¯è¯­ææ°å½ï¼æä¹åè·äººæ²éï¼ææ²¡æç¨è¯ä¸å½çå°æ¹ï¼ææ²¡ææ²éä¸å°ä½çå°æ¹ï¼åå®äºåæå¨ç¥ç¸å³äººäºåï¼è¿å ä¸ªAPIçåºå±å®ç°æ¯ä»ä¹æ ·çï¼ä¼ä¸ä¼ææ§è½ç¶é¢ï¼å¦ææå¡æäºä¸å°æä¹åï¼å¦æéç¿»äº10åï¼è½æä½åï¼å¦ææä¸ä½æè¯¥å¦ä½æ¹è¿å¢ï¼ç­ç­ç­ç­ å¾æ¥ä¸çå¾èº«æè½ä¸æ­è¿æ­¥ã å±ä»¬åæ¥çä¸ªä¾å­ï¼\n\nif (hashSet.contains(userId)) {\n    // åè®¸è®¿é®\n} else {\n    // ä¸åè®¸è®¿é®\n}\n\n\n1\n2\n3\n4\n5\n\n\nåè®¾ä½ åäºä¸é¢çå è¡ä»£ç ï¼é£å¦ä½æè¿°ä½ åäºä»ä¹äºå¢ï¼é¢å¯¹ä¸åçäººï¼æ¯å¦ææ¯ãäº§åãè¿è¥ãè¡æ¿ãä¸å¤§å§å«å¤§å§¨ãè·¯è¾¹æç¤å·é¢å¸åãç·ç·å¥¶å¥¶ç­ç­ï¼è¯­è¨è¯¥å¦ä½è¡¨è¾¾å¢ï¼\n\nå¤§é¨åææ¯åå­¦ä¸ç®¡é¢åæ¯ä»ä¹äººï¼åªä¼ä¸ç§è§£éï¼æå¤æ­ç¨æ·æ¯å¦å¨hashSetä¸­ï¼å¦æå¨å°±æ¾è¿ï¼å¦æä¸å¨å°±ä¸è®©è®¿é®ãå¦æå¯¹æ¹æ¯ææ¯ãäº§åè½å¬æï¼å¶ä»äººä¼°è®¡å°±ä¸è¸æµé¼ï¼è§å¾è¿ä¸ªææ¯åå­¦å¾é¾äº¤æµäºã\n\nè¿å¶å®ä½ç°ä¸ä¸ªäººå¯¹è¿ä»¶äºççè§£åæ½è±¡è½åï¼åªæä¸æ­æèæè½ç«ä½ä¸åè§åº¦å»çå¾é®é¢ã\n\nä½ å¯ä»¥è¿ä¹è§£éï¼(1) æåäºä¸ªç½ååï¼åªæç½ååä¸­çç¨æ·æè½è®¿é®ï¼(2)æåäºä¸ªé²ç«å¢ï¼åªæå¯ä¿¡ä»»çäººæåè®¸è®¿é®ï¼åèæèéçäººæä¹é¨å¤ï¼(3) æä»¬å¯¹ç³»ç»çå®å¨æ§è¿è¡äºä¸æ¬¡åçº§ï¼å¿é¡»åææåè®¿é®ï¼(4) æä»¬å¯¹è®¿é®æéè¿è¡äºæ´ä¸¥æ ¼çæ§å¶ï¼(5) æå¼åäºä¸ªçµå­é¨å«ï¼é¨å«è®¤è¯çäººæè®©è¿ï¼(6) æç¸å½äºèè¯·äºæä¸ªä¿å®ï¼å¯¹è®¿å®¢çèº«ä»½è¿è¡ä¸¥æ ¼éªè¯ãããç­ç­ã\n\n# 5. å·¥ä½ä¸ä¸æ¸¸å¨é¨é¨å¿æ¸\n\nå½ä½ å¯¹ç°æçå·¥ä½äºå¦ææåï¼æ¥ä¸æ¥å°±æ¯è¦æ©åç¥è¯å¹¿åº¦äºãèå¹¿åº¦çæåä¼åè¿æ¥è®©ä½ çç¥è¯æ·±åº¦æ´æ·±ãæ¹æ³å°±æ¯ï¼æå·¥ä½ç¸å³çä¸ä¸æ¸¸ä¸å¡å¨é¨çæ¸ã æä¸¤ä¸ªæ¹åï¼1. æ¨ªåï¼2.çºµå æ¨ªåæ¯æä¸å¡çä¸ä¸æ¸¸ï¼ä¹å°±æ¯æ°æ®æµçä¸ä¸æ¸¸ãä¸¾ä¾è¯´æï¼æåå­¦åäºç­é¨ä¸å®¡ç¸å³çäºï¼ä¸ä¸æ¸¸å°±åæ¬ï¼è§é¢å¦ä½äº§çãå¦ä½è¿å¥æ¨èç³»ç»ãæ¨èç³»ç»å¦ä½æ¨å°ç­é¨ãåå°æ»¡è¶³ä»ä¹æ¡ä»¶è¿å¥adminå®¡æ ¸ãå®¡æ ¸å®åå¦ä½éç¥æ¨èç»ãå®¡æ ¸ä¸è¿æåå¦ä½ä»ç­é¨ä¸­ä¸æï¼å®¡æ ¸éè¿åå¦ä½å¨ç­é¨è·å¾å±ç¤ºï¼ç­ç­ãå°±æ¯ä»æ°æ®çäº§çå°æ¶è´¹ï¼å®æ´çé­ç¯æ¯ä»ä¹æ ·çï¼ï¼æå¥½å¨é¨ææ¸æ¥ï¼è¿æ ·ï¼ä½ å°±ä¸ä»ä»æ¯å¨åadminç­é¨ä¸å®¡çéæ±ï¼èæ¯éè¿ä¸ä¸ªéæ±ï¼ææ´æ¡ä¸å¡çº¿é½ææ¸æ¥ï¼ä»èå¨ææ¯æ¹æ¡è®¾è®¡ä¸ï¼å°±è½æ´å¥½å°è®¾è®¡æ¹æ¡äºãåæ¶ï¼ä½ çææ¯ç¥è¯åå¾å°äºä¸æ¬¡ååã\n\nçºµåæ¯æå½åä¸å¡è¿è¡ç¯å¢çæ·±å¥ãè¿æ¯ä»¥ç­é¨ä¸å®¡ä¸ºä¾ï¼çºµååæ¬äºï¼ç­é¨ä¸å®¡ç¸å³çæå¡é¨ç½²å¨ä»ä¹æºæ¿ãæ°æ®åº&runnerç­é¨ç½²å¨åªéãå®¡æ ¸äººååå¬åºå¨åªéãç¨ä»ä¹æµè§å¨è®¿é®åå°ãå½å°åå¬åºç½ç»æ¯åªå®¶è¿è¥åçãè®¿é®åå°é¡µé¢èµ°åªæ¡çº¿è·¯ãéè¿åªä¸ªnginxè½¬åè¿æ¥ç­ç­ç­ç­ãçºµåçæ¢³çå¯¹äºä¸å¡åºé®é¢åï¼è½ç¬¬ä¸æ¶é´åç¡®å°ææ¥ã\n\n# 6. åªè¦è·ä½ ç¸å³ï¼ä½ å°±æ¯Owner\n\nè·ä½ ç¸å³çå·¥ä½ï¼ä½ éè¦ç§¯æä¸»å¨å°å»æ¨å¨ï¼å»æ²éå¶ä»å¢éï¼è·è¿è¿åº¦ï¼æé¤é»ç¢ï¼ä»èæ´å¥½å°æèªå·±çé£é¨åå·¥ä½å®æã å¤§é¨åææ¯åå­¦çæåº¦æ¯ï¼é£è°æ¥å£è¿æ²¡ç»æï¼ææ²¡æ³æãä½å¯¹æ¹åå°ä»ä¹ç¨åº¦äºï¼ä»ä¹æ¶åè½ç»ï¼å¤§é¨åäººå°±ä¸é®ä¸ä¸ç¥äºã è¿æ ·å¶å®ä¸å¥½ãä½ å®å¨å¯ä»¥æ¿æèµ·PMçèè´£ï¼å»è·è¿ç¸å³çäºå®ï¼è¿æ ·ä¼è®©äººè§å¾ä½ ç¹å«é è°±ãå¯¹ä½ ç¹å«æ¾å¿ï¼åæ¶ä½ ä¹é»ç¼äºæ²éåè°è½åï¼ä»¥åå¢è¿äºå¯¹æ¹ä¸å¡çäºè§£ç¨åº¦ï¼å¼éäºç¼çã\n\n# 7. å¨é¢äºè§£ä¸å¡ï¼æ·±å¥çè§£éæ±\n\nææ¯æ¯ä¸ºä¸å¡æå¡çï¼å¦æä½ åçä¸å¡æ²¡äººç¨ï¼å³ä½¿ä»£ç åçåå¥½ï¼ä»·å¼ææä¹ä¸ä¼å¤§ï¼å¦æç¨çäººç¹å«å¤ï¼ä¸ç®¡ææ¯ä¸ä¼å£ï¼ä»·å¼ä¸å®ä¸å°ã åæ ·ï¼æä»¬è¦å¯¹èªå·±çéæ¥è´è´£ï¼æä»¥ï¼å¦æä½ åªç±ææ¯ä¸ç±ä¸å¡ï¼ä¸å³æ³¨ä¸å¡æ¯å¦åçï¼ä¸å¸®çä¼åä¸å¡ï¼é£ä¹å¯ä»¥è¯´ï¼ä½ å¯¹èªå·±çéæ¥ä¸å¤ªè´è´£ãä¸ä¸ªå¬å¸åªææå°æ°äººæåªå³å¿æ¶æä¸å³å¿ä¸å¡ã å æ­¤ï¼ææ¯åå­¦éè¦äºè§£ä½ åçé¡µé¢ï¼é½åªäºäººå¨ç¨ï¼ä»ä»¬æä¹ç¨ï¼æåªäºç¨çç½ãåªäºç¨çä¸ç½ï¼ä¸ç½çå¦ä½æ¹è¿ï¼ä½ éè¦äºè§£ç¨ä½ é¡µé¢çäººï¼ä»ä»¬ä»ä¸ç­å°ä¸ç­é½å¨å¹²ä»ä¹ï¼éäºçå¤çæµç¨å¤§æ¦æ¯ä»ä¹æ ·çï¼ æ·±å¥äºè§£ä¸å¡åï¼å¯¹äºå¾å¤éæ±ï¼ä½ å°±ææ´æ·±å¥ççè§£ï¼ä»èå¨åéæ±æ¶ï¼è½æ´å¥½å°è®¾è®¡æ¶æï¼æªæ¥æåªäºæ©å±ï¼ä¹è½é¢è§äºã\n\näººåäºä¸å®æ¯è¿æ ·çï¼éå°ä¸ä¸ªé®é¢ï¼çæè§£å³ï¼æ­¤æ¶å¦æç´æ¥å»æ¾ææ¯åå­¦ï¼è¯·æè§£å³é®é¢çæ¹æ¡ï¼ä¸è¬ä¼è¢«æ¼ï¼æå¿çå¢ï¼ä½ è¿åå¥é½ä¸ç¥éï¼è®©ææä¹åï¼ï¼ æä»¥ï¼äººä¸å®ä¼åæ³ä¸ªè§£å³æ¹æ¡ï¼ä¹å°±æ¯æè°çéæ±ï¼åæè¿ä¸ªè§£å³æ¹æ¡æç»ææ¯ï¼é£ä¹é®é¢æ¥äºï¼è¯·é®è¿ä¸ªè§£å³æ¹æ¡æ¯æä¼è§£åï¼å¦æä½ ä¸äºè§£ä¸å¡ï¼å»ä¹ä¹å°±åäºï¼åæ¥åç°ä¸æ¯æä¼è§£ï¼ç»æåæ¨ç¿»éæï¼æµªè´¹äººåï¼è¿å¨ææ¨ç¨åºåå½è¦ï¼äº§åä¸å¥è¯ææ¯åè¡æ³ªåã æªè°ï¼ï¼åªè½æªä½ èªå·±ä¸æä¸å¡ã å æ­¤ï¼ææ¯åå­¦å¨é¢å¯¹éæ±æ¶ï¼ä»ç»è¯¢é®ï¼é®æ¸æ¥éæ±èåè¦è§£å³çé®é¢ï¼åæ¥å®¡è§éæ±çåçæ§ï¼å¦æä½ ä¹åæï¼é£å°±æèµ·ï¼å¦æä½ ä¸åæï¼ä½ ææ´å¥½çè§£å³æ¹æ¡ï¼ç«å»æåºæ¥ï¼å¤§å®¶åéçæ¥ï¼æé®é¢ä¸èµ·è§£æã å¨è¿ä¸ªè¿ç¨ä¸­ï¼ä½ å·²ç»ä»ä¸ä¸ªæ®éå·¥ç¨å¸è¿åé«çº§å·¥ç¨å¸ãçè³ææ¯ç»çè¿è¿äºã\n\n# 8. å©ç¨å¥½ä¸ä½æ¶é´\n\næ¯å¤©å°±24å°æ¶ï¼éä¸èåçé¼ï¼æ¯å¤©æå¤å·¥ä½24å°æ¶ï¼ä¸å¯è½å·¥ä½25å°æ¶ãå¯¹äºåæ¯ä¸ä¸ä¹çåå­¦ï¼ç±äºå¤å¨é«éåå±æï¼å»ºè®®ä½ æä¸ä½æ¶é´é½å©ç¨èµ·æ¥ï¼é¤äºååç©ä¹ï¼ä¸ä½æ¶é´å»ºè®®ä½ ç»èªå·±åçµãæèµé»éãè¡ç¥¨ãåºéãæè´§ç­ç­ï¼åå¥½çæèµåä¸å¦ææ¶é´é½æèµå°èªå·±èº«ä¸ï¼å ä¸ºè¿ä¸ªä¸ä¼äºæï¼å¹¶ä¸æèµçå¤å©ææä¼éå¸¸ææ¾ãé¤äºææ¯ï¼å»ºè®®ä¹éè¯»äºå¶ä»èä½ï¼æ¯å¦ç»æµãåå²ãå²å­¦ãå¿çå­¦ç­ç­ã å¯¹äºæ¯ä¸æ¶é´è¾é¿çåå­¦ï¼å»ºè®®ä¸ä½æ¶é´å¤æèï¼æææé®é¢åè§£çç¹å«ç»ï¼å¯¹äºææ¯æ¹é¢ï¼æ´è¦ç«å¨å®è§çè§åº¦æ¥çå¾é®é¢ã\n\nå¥½äºï¼ææ¶æ³å°çå°±è¿ä¹å¤ï¼å°±ååè¿ä¹å¤å§ï¼åå¤´ææ´å¤æ³æ³ï¼æåè¡¥åä¸å»ï¼",normalizedContent:"æ¬æä¸»è¦æ¯ä»ç¬èçç»éªåºåï¼åäº«ä¸å¯¹æåææ¯æ°´å¹³ççæ³ãæè°å ææ½æãå å°å¶å®ï¼ä¸æåäº«çæ¹æ³ä¸ä¸å®éåä½ ï¼æä»¥è¯»èä»¬åå¶ç²¾é«ãå»å¶ç³ç²å§ï¼åªæå¶ä¸­åªæä¸ä¸¤ç¹ä½ è§å¾åç¨ï¼é£æå°±å¾é«å´äºã\n\néè¯»å¯¹è±¡ï¼æ¬æéç¨äºåæ¯ä¸ä¸ä¹çæ°äººãç¥è¯é¢è¾çªçå·¥ç¨åå­¦ãè½èä»»ç®åå·¥ä½ä½æè§æ ææçåå­¦ãå¿äºå·¥ä½æè§èªå·±æ²¡ææ¶é´æåçåå­¦ç­ç­ã\n\n\n# åè¨\n\nè¿è®°å¾2008å¹´ï¼ååå å·¥ä½æ¶ï¼å¥é½ä¸ä¼ï¼ä¸å¼ ç½çº¸ï¼ä¸é®ä¸ä¸ç¥ï¼ä¸ç¹ç¹æ¢æ¢æ¸ç´¢ãç ç©¶ï¼é£æ®µæ¶åå¾å¹¸ç¦ï¼è½æåå°èªå·±æ¯å¤©é½å¨è¿æ­¥ï¼æ¯å¤©é½ä¼å­¦å°æ°çç¥è¯ãä¹æ¾éå¸¸è¦é·ï¼æç´¢å¦ä½è¿ä¸æ­¥æåèªå·±çææ¯æ°´å¹³å¢ï¼å°åæ¥ï¼ææ¯ä¸ä¸æ¬¡åä¸æ¬¡éå°ç¶é¢ï¼åçªç ´ç¶é¢ï¼å¹¶æ²¡æå ä¸ºä¸æ¬¡æ¬¡ççªç ´èæè§æ»¡è¶³ï¼ååè¶æ¥è¶æè§èªå·±ä¼çææ¯å¤ªå°ï¼æ´è¦èå¿å°å­¦ä¹ ãææ»ç»åºäºä¸äºæåææ¯æ°´å¹³çæ¹æ³ï¼ä¸é¢ä¸ä¸åäº«ã\n\n\n# å¤§é¨åäººå¨ä¸ºææ°æ¾åå£\n\nææ¶ï¼ææ¯åå­¦ä¹é´äº¤æµï¼è¿å»ä¸å¹´ï¼ä½ è§å¾èªå·±æåªäºè¿æ­¥åï¼ç»å¸¸ä¼å¬å°è¿æ ·çåç­ï¼éæ±å¤ªå¤ï¼å·¥ä½å¤ªå¿ï¼æè§èªå·±æ²¡å¥å¤§çè¿æ­¥ãæä»¬ä¼å¬å°åç§åæ ·ççç±ï¼æ¯å¦ï¼\n\n# 1. æ²¡æ¶é´æ¯æå¤§çåå£\n\næ²¡æ¶é´åæ©é¥­ãæ²¡æ¶é´è¿å¨ãæ²¡æ¶é´åå»çæäº²äººãæ²¡æ¶é´å»reviewä»£ç ãæ²¡æ¶é´å»è°æ¥çº¿ä¸bugãããè¿é½æ¯æå¸¸ç¨çåå£ãåæèï¼ç­å¿è¿äºè¿ä¸éµæå°±æä¹æ ·æä¹æ ·ãæç»ç»æä¸è¬æ¯æ°¸è¿æ²¡æå»è½å®ã æ¶é´å¶å®æ¯æå¬å¹³çï¼æ¯äººæ¯å¤©24å°æ¶ï¼ä¸å¤ä¸å°ãä¸æ¯æ²¡æ¶é´ï¼èæ¯æ²¡éæ©èå·²ãå ä¸ºä½ æ½æè¯éè®¤ä¸ºè¿äºä¸éè¦ï¼æä»¥å°±å»åäºå¶ä»æ´éè¦çäºã\n\n# 2. æåçå·¥ä½qpsä¸å¤ªé«ãæ°æ®éä¸å¤ªå¤§ï¼ä¸åxxxä¸å¡ï¼å¾é»ç¼äºº\n\nè¯¯åºï¼å·¥ä½ææä¸å¤ï¼æ¯ä»½å·¥ä½é½æèªå·±çææï¼é½ææ­»ænå¤èç»èå°±é¾ä»¥è§£å³çé®é¢ãåæä¸ï¼ä½ ç°å¨æ¯å¦ææ¬èå·¥ä½åå°äºæä½³ï¼\n\n# 3. å¬å¸çææ¯å¹è®­ãææ¯åäº«å¤ªå°äº\n\næ»æäººå¸æææ¯å¹è®­ãåäº«æ¥æåç¥è¯ï¼è¿æ¯åºè¯æè²é æçåéçï¼å¤§å®¶ä¹ æ¯äºèå¸æç¥è¯çè¾å°èå­éï¼èä¸åæ¬¢èªå·±ä¸»å¨å»è·åãå¶å®ææ¯åäº«ç­ï¼åªæ¯ç©¿éå¼çº¿ï¼å¤§è´ç»ä½ ä»ç»æä¸ªä¸è¥¿æ¯ä»ä¹æ ·çï¼è¦æ·±å¥çè§£è¿å¾é å®è·µï¼ä»¥èµä»£ç»ã\n\n# 4. é£ä¸æ¯æè¯¥å¹²çï¼é£æ¯åç«¯çæ´»ãé£æ¯è¿ç»´çæ´»ãé£æ¯dbaçæ´»ãé£æ¯xxxçæ´»\n\nå¶å®ä½ å°±éå¤±äºææ¡åç«¯ãè¿ç»´ãæ°æ®åºç­ç¥è¯çå¤§å¥½æºä¼ãæä»¬ä¸ä¸å®è¦æå¾å¦ä½å»æä½ï¼ä½æ¯è¦å¤§è´ç¥éè¿äºäºè¯¥æä¹å¹²ã\n\n# 5. ä½ ä»¬è½ä¸è½æéæ±æ³çç¹å«æ¸æ¥äºåæ¥æ¾æ\n\nææ¯åå­¦é½åæ¬¢æ¸æ¥çéæ±ï¼ç¶åèªå·±åä»£ç å»å®ç°ï¼ä½æ¯ä¸ªéæ±é½æ¸æ°æ¯çæ³ç¶æãæéæ±çåå­¦åä¸ç¥éææ¯ç»èï¼ä»æä¹å¯è½æ¯ä¸ªéæ±é½ç¹å«æ¸æ°ãåçãéæ±åªæ¯ææ®µï¼ä¸æ¯ç®çï¼éæ±èåè¦è§£å³çé®é¢ææ¯æ ¸å¿ãææ¯åå­¦åºè¯¥èµ°åºèéåºï¼æ´å¤å»äºè§£ä¸å¡ï¼ä»èç«å¨ææ¯çè§åº¦ï¼æåºæ´å¥½çè§£å³æ¹æ¡ï¼èä¸æ¯ä»ä»å®ç°éæ±ã\n\n\n# è½¬åæè·¯ãå éåè¿\n\nä¸é¢åäºå¾å¤å¸¸ç¨çåå£ï¼è¿äºé½å¨å¶çº¦çä½ çåå±ãç»å¤§é¨åé½æ¯ææ³ä¸çææ°ï¼å¾å¨èéåºï¼ä¸æ¿æèµ°åºå»ãé£è¦æä¹åæè½å¿«éæåèªå·±ææ¯è½åå¢ï¼\n\n# 1. è½¬åæè·¯ï¼åè¢«å¨ä¸ºä¸»å¨\n\nä½ è¦ä¸»å¨å»å­¦ä¹ ï¼ä¸è¦ç­å«äººï¼ä¸è¦è¢«å¨å­¦ä¹ ï¼ææ³ä¸é¦åè¦è½¬åãéæ¥å°±é£ä¹å å¹´ï¼æ¯ä¸åçåäºå¹´æ¯é£éåå±çé»éæ¶æã éè¦æäºå¥½å¥å¿ï¼ç´æ­æä¹åçï¼è§é¢æ¯æä¹åçï¼æ¨èåæ¯æä¹åäºï¼æ±çå¯¹è¿äºäºçå¥½å¥å¿ï¼ç¶åä¸»å¨å»äºè§£ï¼è½è·åå¤§éç¥è¯ã çå¦ä¸ä¸¤è¡ä»£ç ï¼\n\nmap<long, usercache> usercachemap = usercacheservice.getbyids(uids);\nmap<long, photo> photomap = photoservice.getbyidsfailfast(photoids, photogettimeout.default);\n\n\n1\n2\n\n\nè¿ä¸¤è¡ä»£ç ï¼æå¤§é¢åçjavaå·¥ç¨å¸è¯å®åè¿æ æ°éï¼ççä¸è½åçäºãä½æ¯ä½ äºè§£è¿å¦ä½å®ç°çåï¼å¦æè¦è®¡ç®qpsï¼è¿ä¸¤æ¥å£çqpså¤§çåæ­»ä½ ãè¿ä¹é«çqpsãè¿ä¹å¤§çæ°æ®éï¼æ¯å¦ä½åå°çå¢ï¼æ¹æ¡æ¯ä»ä¹ï¼æµç¨æ¯ä»ä¹ãå¦ææ²¡ææ·±å¥å»äºè§£è¿ï¼è¿å¨æ±æ¨å·¥ä½æ ææçè¯ï¼é£å°±ç¸å½äºä½ å®çéå±±é¶å±±å´ä»å¨å­ç©·ãå¹¶ä¸æ¯çç©·ï¼èæ¯ç¼ºå°åç°è´¢å¯çç¼çã\n\n# 2. ä»ç¼åå·¥ä½å¥æï¼åæ¬æå®¢ç²¾ç¥ï¼åå°æè´\n\næåå­¦ç»å¸¸æ±æ¨æ²¡ææ¶é´å»æåãæ²¡ææåçæ¹åï¼ä¹æäºåå­¦å¾ä¸»å¨ï¼ä¹°äºå¾å¤ä¹¦æ¥çï¼ä½æ¯è¿äºä¹¦è·å·¥ä½å³ç³»ä¸å¤ªå¤§ãæçå»ºè®®å°±æ¯ï¼æé£äºè·ç°æå·¥ä½å³ç³»ä¸å¤§çä¹¦ééææï¼é£æ¯å¨æµªè´¹ä½ çæ¶é´ãç¥è¯å¦æµ·æ´ï¼å­¦ä»¥è´ç¨ï¼å¦æå­¦å°ä¸è¥¿æ²¡æç¨ï¼é£å­¦æ¥å¹²åå¢ï¼å­¦çä¸è¥¿ç«å»è½ç¨ï¼æä¼å°è±¡æ·±å»ï¼ä»èæ²æ·å¨ä½ çèæµ·ä¸­ã ä¸ä¸ªäººæåçè¿ç¨ï¼å¶å®å°±æ¯ä¸æ­è¶è¶æ¨å¤©çä½ çè¿ç¨ãå æ­¤ï¼æå¥½ãæå¿«éçæåå°±æ¯ä»ç°æå·¥ä½å¥æï¼å¯¹èªå·±é«æ åãä¸¥è¦æ±ï¼åæ¬æå®¢ç²¾ç¥ï¼ææ¯è¡ä»£ç é½åéï¼æ¯è¡ä»£ç é½ç²¾çæ±ç²¾ï¼çè³è¿ä¸ä¸ªç©ºæ ¼ãä¸ä¸ªæ ç¹ç¬¦å·é½è®©äººæä¸åºæ¯çæ¥ãç¬¬ä¸éåå®çä»£ç ï¼èªå·±åå¤reviewï¼ç´å°æè§æ²¡å¥é®é¢ä¸ºæ­¢ã æåå­¦ä¼è¯´ï¼é¡¹ç®éå¸¸ç´§ï¼æå®å¨æ²¡ææ¶é´å»åå¤reviewèªå·±çä»£ç ãå¯¹ï¼é¡¹ç®ç´§æ¯ä¸å®çï¼å¹¶ä¸æ¯è®©ä½ å»åå¤reviewä»¥åçä»£ç ï¼èæ¯å¨å¼åæ°éæ±çè¿ç¨ä¸­ï¼å°±æåå¤reviewèå¥è¿å»ï¼å»æä¸ç§ä¹ æ¯ãæ¯å¦å¼åä¸ä¸ªåè½ï¼ç¼ç 5ä¸ªå°æ¶ï¼åå¤reviewåå¤ä¿®æ¹é¡¶å¤å¤è±ä½ ä¸å°æ¶ï¼æ»å±6å°æ¶ï¼å¯¹é¡¹ç®ä¸ä¼æå¤ªå¤§å½±åãå¹¶ä¸éçæ¶é´æ¨ç§»ï¼ä½ çä»£ç è´¨éè¶æ¥è¶é«ï¼reviewçæ¶é´ä¼éæ­¥åå°ï¼æ´ä½æçä¹ä¼è¶æ¥è¶é«ï¼å ä¸ºç¬¬ä¸éå°±è½ååºæ¼äº®çä»£ç äºã è¯´å°æè´ï¼æä»¬çä¸¤ä¸ªä¾å­ï¼ç¬¬ä¸ä¸ªä¾å­ï¼\n\nmap<long, integer> statiscount=new hashmap<long, integer>();\n\n\n1\n\n\nè¿æ¯ä¸ä¸ªmapçå®ä¹ï¼å¹³æ¶å±ä»¬é½åäºåç¾åäºï¼å½æ¶çå°è¿è¡ä»£ç æå°±ç»ä»æäº4ä¸ªæ¯çã(1) ç­å·ååæ ç©ºæ ¼ï¼(2)åé¢ç<long, integer>å¤ä½ï¼åæ<>å³å¯ï¼(3)è±æå¨ç§°æ¯statisticsï¼ç®ç§°ä¸è¬æ¯statï¼èä¸æ¯statisï¼è¿ä¸ªç®ç§°è®©äººå°æï¼(4) å¯¹äºmapçå½åï¼åºè¯¥ç¨åè¯ï¼ç°å¨ç xxxcountæ´åæ¯æä¸ªè®¡æ°ï¼åªæ¯ä¸ä¸ªæ°ï¼å¹¶æ²¡æçªåºæ¯ä¸ªæ°æ®ç»æmapï¼å½ä¸æä½ çå°statiscount.put(1, 2); æ¶å°±æµé¼äºï¼statiscountåºè¯¥æ¯++ æä½ï¼æä¹å°±putäºå¢ï¼ï¼å æ­¤å« statcountmap æ´æ°å½äºã\n\nç¬¬äºä¸ªä¾å­ï¼æåå­¦åä¼ä¸å¾®ä¿¡ä¸åæ¬¢ç¨æ ç¹ç¬¦å·ï¼å¨ç¨ç©ºæ ¼ï¼ææ¶ä¼ç»å«äººçéè¯»é æäºå°é¾ãæ¯å¦âæå¥ å¨åâï¼ææ¶ç©ºæ ¼å¯è½çä¸å¤ªæ¸ï¼é£è¯·é®å°åºæ¯ âæå¥å¨åï¼â è¿æ¯ âæå¥ï¼å¨åï¼â è¿ä¸¤å¥è¯æ¯æå·®å«çãä¸æ¯è¯´å¸æå¤§å®¶é½ç¨æ ç¹ç¬¦å·ï¼èæ¯å¸æç¨ç©ºæ ¼çåå­¦ï¼è¦èèä¸å¯¹æ¹çéè¯»ä½éªï¼ä¸è¦é æéè¯»å°é¾ï¼å¦æä¸ä¸ªç©ºæ ¼æ­å¥æå°é¾çè¯ï¼ä½ å°±å¤å å ä¸ªç©ºæ ¼åï¼æ¯å¦4ä¸ªï¼è¿æ ·å°±å®ç¾äºã\n\nåæè®²åä»£ç ï¼ç¬¬äºä¸ªä¾å­æ¯æ²éï¼å¸æå°æå®¢ç²¾ç¥åæ¬å°å·¥ä½ä¸­çæ¹æ¹é¢é¢ï¼å¤§å°åé¡¹ç®ãå°å°è¯´æ¯ä¸å¥è¯ï¼é½è¦æ±ç²¾çæ±ç²¾ï¼æ´ä¸ªäººä¼ç»äººä¸ç§çç¶ä¸æ°çæè§ã\n\n# 3. æ¥æéæ¯ä¸ªæ·å¾\n\nå±ä»¬æ¯å¤©é®ä»¶æ¥è­¦ä¸ç¾å°ï¼ææ¶ä¹ä¼ç¢°å°çº¿ä¸é®é¢ï¼æ¯å¦cpuè¾é«ãæµéè¾é«ãé¢ç¹full gcãrpcmonitoræ¥è­¦ï¼ä¹ä¼éå°åç§exceptionï¼ç­ç­ãè¿äºå¶å®é½æ¯å¿«éæåææ¯è½åçæ·å¾ã æ¥çº¿ä¸é®é¢ï¼ä¼é¼ä½ äºè§£ä¸ä¸æ¸¸ä¸å¡ï¼é¼ä½ æ·±å¥ä¸å»ï¼èä¸æ¯åçå¨ä»£ç è¡¨é¢ï¼é¼ä½ ä½¿ç¨åç§å·¥å·å»åæï¼æç»ä¸å®ä¼è·çè¯å¤ã å½ç¶ï¼é»ç¢ä½ è¿æ­¥çæ¦è·¯èä¹ä¼æå¾å¤ï¼æ¯å¦ï¼è¿ä¸ªæ¥è­¦æ¯å¶ä»å°ç»çï¼è´è´£äººä¸æ¯æï¼ä¸å³æäºï¼å¿½ç¥ï¼é®é¢æ¯ä»ä¹ï¼æ²¡æ¥åºæ¥ï¼æä¹ä¸ç¥éï¼åç¨å¶ä»æ¹å¼ç»è¿å§ï¼ä»¥ååè¯´ï¼dbæ¥çæ¢æ¯dbaçè´£ä»»ï¼å¾æ¾dbaè§£å³ï¼ä¸è¯¥æå»æ¥ï¼ç­ç­ç­ç­ãè¿äºé½æ¯ç»èªå·±æ¾çåå£ï¼åºè¯¥è·¨è¶ç³»ç»è¾¹çï¼å¨æ ¹é®åºï¼æé®é¢å½»åºæ¾åºæ¥ï¼ä¸æ¾å°çç¸èªä¸ç½¢ä¼ã å¦å¤ï¼è¿è¥æèå®¡æ ¸åå­¦ææ¶ä¼å¨ç¾¤éåé¦é®é¢ï¼å¥½å¤åå­¦çç¬¬ä¸ååºæ¯ï¼èº²ï¼æè¿äºé®é¢å½åæ²¡çè§ï¼æèè§å¾ä¸æ¯æè´è´£å°±ä¸ç®¡äºãå¶å®è¿é½æ¯å¨éå¤±ææ¯æåçè¯æºï¼\n\n# 4. æèãæèãåæè\n\nå¦æä½ å»æ¾¡å ï¼å¤§å®¶é½æè¡£ææäºï¼è½æé«ç®è¥ç¦ï¼ä½é½å·®è·ä¸å¤§ãäººåäººä¹é´æå¤§çå·®è·ï¼å¨äºèå­ä»¥ä¸çé¨åï¼ä¹å°±æ¯ä½ çå¤§èãè®­ç»å¤§èå°±åªæä¸ç§æ¹å¼ï¼æèã æèä»ä¹åå®¹å¢ï¼çæ­£çéæ±å°åºæ¯å¥ï¼ä»ä»¬è¦è¾¾å°ä»ä¹ç®çï¼æçææ¯æ¹æ¡æ¯æä¼çåï¼ææ²¡ææ¹è¿ç©ºé´ï¼ææ²¡æåªä¸ªç»èèèä¸å¨ï¼æ¨¡åçå»ºç«ä¸æ¯å¦åçï¼æ¯å¦ç¬¦åçæ´»ä¸­çæ¨¡åï¼ææ²¡ææé©¬ç¹çè®¾è®¡ï¼ææä¹å»æè¿°è¿ä¸ªé®é¢ï¼ç¨ä»ä¹è¯è¯­ææ°å½ï¼æä¹åè·äººæ²éï¼ææ²¡æç¨è¯ä¸å½çå°æ¹ï¼ææ²¡ææ²éä¸å°ä½çå°æ¹ï¼åå®äºåæå¨ç¥ç¸å³äººäºåï¼è¿å ä¸ªapiçåºå±å®ç°æ¯ä»ä¹æ ·çï¼ä¼ä¸ä¼ææ§è½ç¶é¢ï¼å¦ææå¡æäºä¸å°æä¹åï¼å¦æéç¿»äº10åï¼è½æä½åï¼å¦ææä¸ä½æè¯¥å¦ä½æ¹è¿å¢ï¼ç­ç­ç­ç­ å¾æ¥ä¸çå¾èº«æè½ä¸æ­è¿æ­¥ã å±ä»¬åæ¥çä¸ªä¾å­ï¼\n\nif (hashset.contains(userid)) {\n    // åè®¸è®¿é®\n} else {\n    // ä¸åè®¸è®¿é®\n}\n\n\n1\n2\n3\n4\n5\n\n\nåè®¾ä½ åäºä¸é¢çå è¡ä»£ç ï¼é£å¦ä½æè¿°ä½ åäºä»ä¹äºå¢ï¼é¢å¯¹ä¸åçäººï¼æ¯å¦ææ¯ãäº§åãè¿è¥ãè¡æ¿ãä¸å¤§å§å«å¤§å§¨ãè·¯è¾¹æç¤å·é¢å¸åãç·ç·å¥¶å¥¶ç­ç­ï¼è¯­è¨è¯¥å¦ä½è¡¨è¾¾å¢ï¼\n\nå¤§é¨åææ¯åå­¦ä¸ç®¡é¢åæ¯ä»ä¹äººï¼åªä¼ä¸ç§è§£éï¼æå¤æ­ç¨æ·æ¯å¦å¨hashsetä¸­ï¼å¦æå¨å°±æ¾è¿ï¼å¦æä¸å¨å°±ä¸è®©è®¿é®ãå¦æå¯¹æ¹æ¯ææ¯ãäº§åè½å¬æï¼å¶ä»äººä¼°è®¡å°±ä¸è¸æµé¼ï¼è§å¾è¿ä¸ªææ¯åå­¦å¾é¾äº¤æµäºã\n\nè¿å¶å®ä½ç°ä¸ä¸ªäººå¯¹è¿ä»¶äºççè§£åæ½è±¡è½åï¼åªæä¸æ­æèæè½ç«ä½ä¸åè§åº¦å»çå¾é®é¢ã\n\nä½ å¯ä»¥è¿ä¹è§£éï¼(1) æåäºä¸ªç½ååï¼åªæç½ååä¸­çç¨æ·æè½è®¿é®ï¼(2)æåäºä¸ªé²ç«å¢ï¼åªæå¯ä¿¡ä»»çäººæåè®¸è®¿é®ï¼åèæèéçäººæä¹é¨å¤ï¼(3) æä»¬å¯¹ç³»ç»çå®å¨æ§è¿è¡äºä¸æ¬¡åçº§ï¼å¿é¡»åææåè®¿é®ï¼(4) æä»¬å¯¹è®¿é®æéè¿è¡äºæ´ä¸¥æ ¼çæ§å¶ï¼(5) æå¼åäºä¸ªçµå­é¨å«ï¼é¨å«è®¤è¯çäººæè®©è¿ï¼(6) æç¸å½äºèè¯·äºæä¸ªä¿å®ï¼å¯¹è®¿å®¢çèº«ä»½è¿è¡ä¸¥æ ¼éªè¯ãããç­ç­ã\n\n# 5. å·¥ä½ä¸ä¸æ¸¸å¨é¨é¨å¿æ¸\n\nå½ä½ å¯¹ç°æçå·¥ä½äºå¦ææåï¼æ¥ä¸æ¥å°±æ¯è¦æ©åç¥è¯å¹¿åº¦äºãèå¹¿åº¦çæåä¼åè¿æ¥è®©ä½ çç¥è¯æ·±åº¦æ´æ·±ãæ¹æ³å°±æ¯ï¼æå·¥ä½ç¸å³çä¸ä¸æ¸¸ä¸å¡å¨é¨çæ¸ã æä¸¤ä¸ªæ¹åï¼1. æ¨ªåï¼2.çºµå æ¨ªåæ¯æä¸å¡çä¸ä¸æ¸¸ï¼ä¹å°±æ¯æ°æ®æµçä¸ä¸æ¸¸ãä¸¾ä¾è¯´æï¼æåå­¦åäºç­é¨ä¸å®¡ç¸å³çäºï¼ä¸ä¸æ¸¸å°±åæ¬ï¼è§é¢å¦ä½äº§çãå¦ä½è¿å¥æ¨èç³»ç»ãæ¨èç³»ç»å¦ä½æ¨å°ç­é¨ãåå°æ»¡è¶³ä»ä¹æ¡ä»¶è¿å¥adminå®¡æ ¸ãå®¡æ ¸å®åå¦ä½éç¥æ¨èç»ãå®¡æ ¸ä¸è¿æåå¦ä½ä»ç­é¨ä¸­ä¸æï¼å®¡æ ¸éè¿åå¦ä½å¨ç­é¨è·å¾å±ç¤ºï¼ç­ç­ãå°±æ¯ä»æ°æ®çäº§çå°æ¶è´¹ï¼å®æ´çé­ç¯æ¯ä»ä¹æ ·çï¼ï¼æå¥½å¨é¨ææ¸æ¥ï¼è¿æ ·ï¼ä½ å°±ä¸ä»ä»æ¯å¨åadminç­é¨ä¸å®¡çéæ±ï¼èæ¯éè¿ä¸ä¸ªéæ±ï¼ææ´æ¡ä¸å¡çº¿é½ææ¸æ¥ï¼ä»èå¨ææ¯æ¹æ¡è®¾è®¡ä¸ï¼å°±è½æ´å¥½å°è®¾è®¡æ¹æ¡äºãåæ¶ï¼ä½ çææ¯ç¥è¯åå¾å°äºä¸æ¬¡ååã\n\nçºµåæ¯æå½åä¸å¡è¿è¡ç¯å¢çæ·±å¥ãè¿æ¯ä»¥ç­é¨ä¸å®¡ä¸ºä¾ï¼çºµååæ¬äºï¼ç­é¨ä¸å®¡ç¸å³çæå¡é¨ç½²å¨ä»ä¹æºæ¿ãæ°æ®åº&runnerç­é¨ç½²å¨åªéãå®¡æ ¸äººååå¬åºå¨åªéãç¨ä»ä¹æµè§å¨è®¿é®åå°ãå½å°åå¬åºç½ç»æ¯åªå®¶è¿è¥åçãè®¿é®åå°é¡µé¢èµ°åªæ¡çº¿è·¯ãéè¿åªä¸ªnginxè½¬åè¿æ¥ç­ç­ç­ç­ãçºµåçæ¢³çå¯¹äºä¸å¡åºé®é¢åï¼è½ç¬¬ä¸æ¶é´åç¡®å°ææ¥ã\n\n# 6. åªè¦è·ä½ ç¸å³ï¼ä½ å°±æ¯owner\n\nè·ä½ ç¸å³çå·¥ä½ï¼ä½ éè¦ç§¯æä¸»å¨å°å»æ¨å¨ï¼å»æ²éå¶ä»å¢éï¼è·è¿è¿åº¦ï¼æé¤é»ç¢ï¼ä»èæ´å¥½å°æèªå·±çé£é¨åå·¥ä½å®æã å¤§é¨åææ¯åå­¦çæåº¦æ¯ï¼é£è°æ¥å£è¿æ²¡ç»æï¼ææ²¡æ³æãä½å¯¹æ¹åå°ä»ä¹ç¨åº¦äºï¼ä»ä¹æ¶åè½ç»ï¼å¤§é¨åäººå°±ä¸é®ä¸ä¸ç¥äºã è¿æ ·å¶å®ä¸å¥½ãä½ å®å¨å¯ä»¥æ¿æèµ·pmçèè´£ï¼å»è·è¿ç¸å³çäºå®ï¼è¿æ ·ä¼è®©äººè§å¾ä½ ç¹å«é è°±ãå¯¹ä½ ç¹å«æ¾å¿ï¼åæ¶ä½ ä¹é»ç¼äºæ²éåè°è½åï¼ä»¥åå¢è¿äºå¯¹æ¹ä¸å¡çäºè§£ç¨åº¦ï¼å¼éäºç¼çã\n\n# 7. å¨é¢äºè§£ä¸å¡ï¼æ·±å¥çè§£éæ±\n\nææ¯æ¯ä¸ºä¸å¡æå¡çï¼å¦æä½ åçä¸å¡æ²¡äººç¨ï¼å³ä½¿ä»£ç åçåå¥½ï¼ä»·å¼ææä¹ä¸ä¼å¤§ï¼å¦æç¨çäººç¹å«å¤ï¼ä¸ç®¡ææ¯ä¸ä¼å£ï¼ä»·å¼ä¸å®ä¸å°ã åæ ·ï¼æä»¬è¦å¯¹èªå·±çéæ¥è´è´£ï¼æä»¥ï¼å¦æä½ åªç±ææ¯ä¸ç±ä¸å¡ï¼ä¸å³æ³¨ä¸å¡æ¯å¦åçï¼ä¸å¸®çä¼åä¸å¡ï¼é£ä¹å¯ä»¥è¯´ï¼ä½ å¯¹èªå·±çéæ¥ä¸å¤ªè´è´£ãä¸ä¸ªå¬å¸åªææå°æ°äººæåªå³å¿æ¶æä¸å³å¿ä¸å¡ã å æ­¤ï¼ææ¯åå­¦éè¦äºè§£ä½ åçé¡µé¢ï¼é½åªäºäººå¨ç¨ï¼ä»ä»¬æä¹ç¨ï¼æåªäºç¨çç½ãåªäºç¨çä¸ç½ï¼ä¸ç½çå¦ä½æ¹è¿ï¼ä½ éè¦äºè§£ç¨ä½ é¡µé¢çäººï¼ä»ä»¬ä»ä¸ç­å°ä¸ç­é½å¨å¹²ä»ä¹ï¼éäºçå¤çæµç¨å¤§æ¦æ¯ä»ä¹æ ·çï¼ æ·±å¥äºè§£ä¸å¡åï¼å¯¹äºå¾å¤éæ±ï¼ä½ å°±ææ´æ·±å¥ççè§£ï¼ä»èå¨åéæ±æ¶ï¼è½æ´å¥½å°è®¾è®¡æ¶æï¼æªæ¥æåªäºæ©å±ï¼ä¹è½é¢è§äºã\n\näººåäºä¸å®æ¯è¿æ ·çï¼éå°ä¸ä¸ªé®é¢ï¼çæè§£å³ï¼æ­¤æ¶å¦æç´æ¥å»æ¾ææ¯åå­¦ï¼è¯·æè§£å³é®é¢çæ¹æ¡ï¼ä¸è¬ä¼è¢«æ¼ï¼æå¿çå¢ï¼ä½ è¿åå¥é½ä¸ç¥éï¼è®©ææä¹åï¼ï¼ æä»¥ï¼äººä¸å®ä¼åæ³ä¸ªè§£å³æ¹æ¡ï¼ä¹å°±æ¯æè°çéæ±ï¼åæè¿ä¸ªè§£å³æ¹æ¡æç»ææ¯ï¼é£ä¹é®é¢æ¥äºï¼è¯·é®è¿ä¸ªè§£å³æ¹æ¡æ¯æä¼è§£åï¼å¦æä½ ä¸äºè§£ä¸å¡ï¼å»ä¹ä¹å°±åäºï¼åæ¥åç°ä¸æ¯æä¼è§£ï¼ç»æåæ¨ç¿»éæï¼æµªè´¹äººåï¼è¿å¨ææ¨ç¨åºåå½è¦ï¼äº§åä¸å¥è¯ææ¯åè¡æ³ªåã æªè°ï¼ï¼åªè½æªä½ èªå·±ä¸æä¸å¡ã å æ­¤ï¼ææ¯åå­¦å¨é¢å¯¹éæ±æ¶ï¼ä»ç»è¯¢é®ï¼é®æ¸æ¥éæ±èåè¦è§£å³çé®é¢ï¼åæ¥å®¡è§éæ±çåçæ§ï¼å¦æä½ ä¹åæï¼é£å°±æèµ·ï¼å¦æä½ ä¸åæï¼ä½ ææ´å¥½çè§£å³æ¹æ¡ï¼ç«å»æåºæ¥ï¼å¤§å®¶åéçæ¥ï¼æé®é¢ä¸èµ·è§£æã å¨è¿ä¸ªè¿ç¨ä¸­ï¼ä½ å·²ç»ä»ä¸ä¸ªæ®éå·¥ç¨å¸è¿åé«çº§å·¥ç¨å¸ãçè³ææ¯ç»çè¿è¿äºã\n\n# 8. å©ç¨å¥½ä¸ä½æ¶é´\n\næ¯å¤©å°±24å°æ¶ï¼éä¸èåçé¼ï¼æ¯å¤©æå¤å·¥ä½24å°æ¶ï¼ä¸å¯è½å·¥ä½25å°æ¶ãå¯¹äºåæ¯ä¸ä¸ä¹çåå­¦ï¼ç±äºå¤å¨é«éåå±æï¼å»ºè®®ä½ æä¸ä½æ¶é´é½å©ç¨èµ·æ¥ï¼é¤äºååç©ä¹ï¼ä¸ä½æ¶é´å»ºè®®ä½ ç»èªå·±åçµãæèµé»éãè¡ç¥¨ãåºéãæè´§ç­ç­ï¼åå¥½çæèµåä¸å¦ææ¶é´é½æèµå°èªå·±èº«ä¸ï¼å ä¸ºè¿ä¸ªä¸ä¼äºæï¼å¹¶ä¸æèµçå¤å©ææä¼éå¸¸ææ¾ãé¤äºææ¯ï¼å»ºè®®ä¹éè¯»äºå¶ä»èä½ï¼æ¯å¦ç»æµãåå²ãå²å­¦ãå¿çå­¦ç­ç­ã å¯¹äºæ¯ä¸æ¶é´è¾é¿çåå­¦ï¼å»ºè®®ä¸ä½æ¶é´å¤æèï¼æææé®é¢åè§£çç¹å«ç»ï¼å¯¹äºææ¯æ¹é¢ï¼æ´è¦ç«å¨å®è§çè§åº¦æ¥çå¾é®é¢ã\n\nå¥½äºï¼ææ¶æ³å°çå°±è¿ä¹å¤ï¼å°±ååè¿ä¹å¤å§ï¼åå¤´ææ´å¤æ³æ³ï¼æåè¡¥åä¸å»ï¼",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ä¸çº§è®©ä¸çº§å¹²æ´»ç4ä¸­æ¹å¼",frontmatter:{title:"ä¸çº§è®©ä¸çº§å¹²æ´»ç4ä¸­æ¹å¼",date:"2022-12-09T20:00:04.000Z",permalink:"/pages/83653c/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/05.%E4%B8%8A%E7%BA%A7%E8%AE%A9%E4%B8%8B%E7%BA%A7%E5%B9%B2%E6%B4%BB%E7%9A%844%E4%B8%AD%E6%96%B9%E5%BC%8F.html",relativePath:"10.éææ¯/05.ä¸çº§è®©ä¸çº§å¹²æ´»ç4ä¸­æ¹å¼.md",key:"v-534e5ed0",path:"/pages/83653c/",headers:[{level:3,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:2},{level:3,title:"æ¹æ³ä¸. ä»·å¼è®¤å(æ¨è)",slug:"æ¹æ³ä¸-ä»·å¼è®¤å-æ¨è",normalizedTitle:"æ¹æ³ä¸. ä»·å¼è®¤å(æ¨è)",charIndex:188},{level:3,title:"æ¹æ³äº. è¡æ¿å½ä»¤",slug:"æ¹æ³äº-è¡æ¿å½ä»¤",normalizedTitle:"æ¹æ³äº. è¡æ¿å½ä»¤",charIndex:630},{level:3,title:"æ¹æ³ä¸. è´§å¸æ¿ç­",slug:"æ¹æ³ä¸-è´§å¸æ¿ç­",normalizedTitle:"æ¹æ³ä¸. è´§å¸æ¿ç­",charIndex:911},{level:3,title:"æ¹æ³å. äººéå³ç³»",slug:"æ¹æ³å-äººéå³ç³»",normalizedTitle:"æ¹æ³å. äººéå³ç³»",charIndex:1281}],headersStr:"åè¨ æ¹æ³ä¸. ä»·å¼è®¤å(æ¨è) æ¹æ³äº. è¡æ¿å½ä»¤ æ¹æ³ä¸. è´§å¸æ¿ç­ æ¹æ³å. äººéå³ç³»",content:"# åè¨\n\näºèç½å¬å¸æå¡æå¹³åï¼äººäººå¹³ç­ï¼å¬å¸åç¦æ­¢ç§°å¼âå¼ æ»ââææ»âç­ï¼ä¹ä¸å­å¨å®å¤§ä¸çº§åæ­»äººãä¸è³ä¸çº¿åå·¥ï¼ä¸è³CXOï¼å¹³ç­å¯¹è¯ï¼å°±äºè®ºäºï¼ä»¥å¾·æäººãå®éä¸ï¼äºèç½å¬å¸ä¹æ¯å±çº§æ¶æï¼ä½è¢«ç¸å¯¹å¼±åäºãæå±çº§ï¼å°±æä¸çº§åä¸çº§ä¹å«ï¼æè°ä¸çº§ï¼å°±æ¯é£ä¸ªç»ä½ æç»©æçäººãé£ä¹ä¸çº§æ³è®©ä¸çº§å¹²æ´»ï¼æåªäºæ¹æ³å¢ï¼ä»¥ä¸æ¯ææ»ç»ç4å¤§æ¹æ³ï¼ä¸ä¾ä¸ºå¤§å®¶è¶ä½é¥­åãéæ¡ä¸å¹çé¼æ¶ç¨ã\n\n\n# æ¹æ³ä¸. ä»·å¼è®¤å(æ¨è)\n\n**æ¦å¿µï¼**ä»·å¼è®¤åæ¯æææä»¶äºæå¯¹å¬å¸ãå¯¹å¢éãå¯¹ç¨æ·ãå¯¹ä¸ªäººçä»·å¼è¯´åºæ¥ï¼è¯´æ¸æ¥åäºæåªäºå¥½å¤ï¼ä¸åå¯¹å¬å¸æåªäºæå¤±ï¼è¿äºè§£å³äºç®åå­å¨çåªäºé®é¢ï¼æè¿äºä»·å¼é½è¯´åºæ¥ï¼è·å¾ä¸çº§è®¤å¯ï¼ä»èå¨å¿å¨æå»åå¥½è¿ä»¶äºãæ¯å¦ä¸­å°è¿äºï¼å¤§å®¶é½è®¤å¯å®çä»·å¼ï¼æä»¥ç­ç«æå¤©å»æ¨è¿ã\n\n**éç¨åºæ¯ï¼**å¤§é¨ååºæ¯é½éç¨ï¼åºè¯¥ä½ä¸ºé¦éæ¹æ³\n\n**ä¼ç¹ï¼**ä¸ä¸çº§åæ¹é½å¿æ¦è¯æï¼ä»·å¼è§ä¸è´ï¼ç®æ ä¸è´ï¼è½å²å¾ä¸å¤ä½¿\n\n**ç¼ºç¹ï¼**ä¸çº§ææ¶å¯è½æ²¡æä»·å¼è¯´æ¸æ¥ï¼\n\nä¸çº§ææ¶æ ¼å±ä¸å¤ï¼å³ä½¿ä»·å¼å¾é«ï¼å¯è½ä¹ä¸è®¤å¯ï¼\n\næäºç¹æ®æåµä¸ï¼ä»·å¼ä¸è½æé¢è¯´åºæ¥ï¼æ¯å¦åè¿äºä¸ºäºè®¨å¥½æ®äº¬çæ¬¢å¿ï¼ä»èè®©å±ä»¬äº§åå¨ä¿ç½æ¯ä¸è¢«Govå°æï¼è¿ç§ä»·å¼å°±ä¸è½æç¡®è¯´åºæ¥ï¼\n\nææ¶ï¼æªæ¥çå·¨å¤§ä»·å¼åªæå°é¨åäººè½çå°ï¼åè®¾2012å¹´æ¶é©¬ç¸ç¸è®©æèµé¨é¨è±1000ä¸æ¶è´­å¿«æï¼æèµé¨é¨ä¸å®åå¯¹çæ­»å»æ´»æ¥ï¼ç°å¨1000äº¿(RMB)é½ä¹°ä¸å°ã\n\nä»¥ä¸è¿äºæåµï¼ä»·å¼è®¤åå°±ä¼å¤±æï¼å°±éè¦é å«çææ®µäºã\n\n\n# æ¹æ³äº. è¡æ¿å½ä»¤\n\n**æ¦å¿µï¼**é¡¾åæä¹ï¼è¡æ¿å½ä»¤å°±æ¯å©ç¨ä¸çº§çèº«ä»½åå·å¸ä»¤ï¼å¼ºå¶è¦æ±ä¸çº§å»åäºãä¸çº§ææ¡äºä¸çº§çç»©æèæ ¸ç­ï¼å¯ä»¥è§£éä¸åæ ¼çä¸çº§ã\n\n**éç¨åºæ¯ï¼**å½ä»·å¼è®¤åå¤±ææ¶ï¼å¦æç¡®å®æå¾å¤§ä»·å¼ï¼ä½æ¯ä¸çº§å°±æ¯ä¸çè§£ï¼æèä¸æ¹ä¾¿è·ä»è¯´çç±æ¶ï¼éåç´æ¥ä¸è¾¾è¡æ¿å½ä»¤ï¼ç´§æ¥æåµæ¥ä¸åè§£éï¼éè¦å¿«éæ§è¡ï¼ä¹éç¨ï¼\n\n**ä¼ç¹ï¼**è½å°å¿«ï¼é¿åäºåç§æµªè´¹æ¶é´çè®¨è®ºãè¯´æç­\n\n**ç¼ºç¹ï¼**ä¸çº§å®¹æäº§çéåå¿çï¼è¿èäº§çå¯¹æï¼å¯è½åºç°å£æå¿ä¸æçæåµï¼ä¸çº§å¯¹äºæå¯è½çè§£ä¸æ·±å»ï¼ä»èå½±åè½å°æ¶çææï¼è¥æ»¥ç¨ï¼ä¸çº§å¯è½è§å¾ä¸è¢«ä¿¡ä»»ï¼ä»èç¦»èæè½¬å²ã\n\n\n# æ¹æ³ä¸. è´§å¸æ¿ç­\n\n**æ¦å¿µï¼**è´§å¸æ¿ç­çæææ¯ä¸çº§éè¿è´§å¸å¥å±æ¹å¼è®©ä¸çº§å»åäºãåæ¬ä½ä¸éäºå èªãå ææãç»©ææé«ä¸äºãåå¥éãè¯·åé¥­è¯·åéç­ç­ãè¡æ¿å½ä»¤å±äºå¨é¼ï¼è´§å¸æ¿ç­å±äºå©è¯±ãæ¬è´¨ä¸æ¯ä¸ç§è´§å¸è¶åè¡ä¸ºï¼è·åå½å¤®è¡çéæ¯ãéåç­è´§å¸è°èææ®µæå¼æ²åå·¥ä¹å¤ã\n\n**ä½¿ç¨åºæ¯ï¼**ä»·å¼è®¤ååè¡æ¿å½ä»¤åæ¶å¤±ææ¶ï¼å¯éå½éç¨ï¼å½ä¸äºç¹æ®äºæï¼éè¦ä¸çº§ååºèªæçºç²ä½å¯¹æ¹ä¸æ¿ææ¶ï¼å¯éåéç¨æ­¤æ¹æ³ï¼æ¯å¦åºå·®ãå ç­ç­ï¼ä¸äºå¯¹å¬å¸ä½ç¨éå¸¸å¤§çéç¹é¡¹ç®ï¼ä¹éåï¼æ¯å¦ï¼âä½ è¦æ¯è½è®©å½å®¶æ¯å¹´ç»å¬å¸åç¨1ä¸ªäº¿ï¼æå¥å±ä½ 1000ä¸ï¼âï¼å¶ä»ä¸äºç¯è§ç¯è´±ä¸è½æå°å°é¢ä¸çäºæï¼ä¹å¯ä»¥èèè´§å¸æ¿å±ï¼\n\n**ä¼ç¹ï¼**çç¨ç­ï¼è§æå¿«ï¼ç­æä½ç¨éå¸¸ææ¾ï¼å¯æ¿å±å£«æ°\n\n**ç¼ºç¹ï¼**è¾¹éæçéåï¼ææ»¥ç¨ï¼ä¸æ¦å¼åæ²³ï¼åæä¸å¥½ç¼©åï¼å®¹æå¼èµ·ä¸æ»¡æç»ªï¼\n\n\n# æ¹æ³å. äººéå³ç³»\n\n**æ¦å¿µï¼**æè°äººéå³ç³»æ¯æè¿ç¨å·¥ä½åå¤å»ºç«èµ·æ¥çäº¤å¾æ¥è¯´æå¯¹æ¹ï¼å¯ä»¥æ¯ä¸ä¸çº§çç´æ¥äº¤å¾ï¼ä¹å¯ä»¥åå©ä»äººã\n\n**ä½¿ç¨åºæ¯ï¼**è¿ä¸ªæ¹æ³æ¯ä¸å¾å·²èä¸ºä¹ï¼æç¨ï¼ä½å½å¶ä»æ¹æ³é½å¤±ææ¶ï¼ä¸å¦¨èèä¸ï¼å½æ­£å¸¸æ²éé·å¥åµå±æ¶ï¼åå©äººéå³ç³»ï¼å°¤å¶æ¯ç¬¬ä¸èæè¶³ï¼å¯è½ä¼æå¥æï¼\n\n**ä¼ç¹ï¼**æ³æè±æåä¸æ\n\n**ç¼ºç¹ï¼**é¥®é¸©æ­¢æ¸´",normalizedContent:"# åè¨\n\näºèç½å¬å¸æå¡æå¹³åï¼äººäººå¹³ç­ï¼å¬å¸åç¦æ­¢ç§°å¼âå¼ æ»ââææ»âç­ï¼ä¹ä¸å­å¨å®å¤§ä¸çº§åæ­»äººãä¸è³ä¸çº¿åå·¥ï¼ä¸è³cxoï¼å¹³ç­å¯¹è¯ï¼å°±äºè®ºäºï¼ä»¥å¾·æäººãå®éä¸ï¼äºèç½å¬å¸ä¹æ¯å±çº§æ¶æï¼ä½è¢«ç¸å¯¹å¼±åäºãæå±çº§ï¼å°±æä¸çº§åä¸çº§ä¹å«ï¼æè°ä¸çº§ï¼å°±æ¯é£ä¸ªç»ä½ æç»©æçäººãé£ä¹ä¸çº§æ³è®©ä¸çº§å¹²æ´»ï¼æåªäºæ¹æ³å¢ï¼ä»¥ä¸æ¯ææ»ç»ç4å¤§æ¹æ³ï¼ä¸ä¾ä¸ºå¤§å®¶è¶ä½é¥­åãéæ¡ä¸å¹çé¼æ¶ç¨ã\n\n\n# æ¹æ³ä¸. ä»·å¼è®¤å(æ¨è)\n\n**æ¦å¿µï¼**ä»·å¼è®¤åæ¯æææä»¶äºæå¯¹å¬å¸ãå¯¹å¢éãå¯¹ç¨æ·ãå¯¹ä¸ªäººçä»·å¼è¯´åºæ¥ï¼è¯´æ¸æ¥åäºæåªäºå¥½å¤ï¼ä¸åå¯¹å¬å¸æåªäºæå¤±ï¼è¿äºè§£å³äºç®åå­å¨çåªäºé®é¢ï¼æè¿äºä»·å¼é½è¯´åºæ¥ï¼è·å¾ä¸çº§è®¤å¯ï¼ä»èå¨å¿å¨æå»åå¥½è¿ä»¶äºãæ¯å¦ä¸­å°è¿äºï¼å¤§å®¶é½è®¤å¯å®çä»·å¼ï¼æä»¥ç­ç«æå¤©å»æ¨è¿ã\n\n**éç¨åºæ¯ï¼**å¤§é¨ååºæ¯é½éç¨ï¼åºè¯¥ä½ä¸ºé¦éæ¹æ³\n\n**ä¼ç¹ï¼**ä¸ä¸çº§åæ¹é½å¿æ¦è¯æï¼ä»·å¼è§ä¸è´ï¼ç®æ ä¸è´ï¼è½å²å¾ä¸å¤ä½¿\n\n**ç¼ºç¹ï¼**ä¸çº§ææ¶å¯è½æ²¡æä»·å¼è¯´æ¸æ¥ï¼\n\nä¸çº§ææ¶æ ¼å±ä¸å¤ï¼å³ä½¿ä»·å¼å¾é«ï¼å¯è½ä¹ä¸è®¤å¯ï¼\n\næäºç¹æ®æåµä¸ï¼ä»·å¼ä¸è½æé¢è¯´åºæ¥ï¼æ¯å¦åè¿äºä¸ºäºè®¨å¥½æ®äº¬çæ¬¢å¿ï¼ä»èè®©å±ä»¬äº§åå¨ä¿ç½æ¯ä¸è¢«govå°æï¼è¿ç§ä»·å¼å°±ä¸è½æç¡®è¯´åºæ¥ï¼\n\nææ¶ï¼æªæ¥çå·¨å¤§ä»·å¼åªæå°é¨åäººè½çå°ï¼åè®¾2012å¹´æ¶é©¬ç¸ç¸è®©æèµé¨é¨è±1000ä¸æ¶è´­å¿«æï¼æèµé¨é¨ä¸å®åå¯¹çæ­»å»æ´»æ¥ï¼ç°å¨1000äº¿(rmb)é½ä¹°ä¸å°ã\n\nä»¥ä¸è¿äºæåµï¼ä»·å¼è®¤åå°±ä¼å¤±æï¼å°±éè¦é å«çææ®µäºã\n\n\n# æ¹æ³äº. è¡æ¿å½ä»¤\n\n**æ¦å¿µï¼**é¡¾åæä¹ï¼è¡æ¿å½ä»¤å°±æ¯å©ç¨ä¸çº§çèº«ä»½åå·å¸ä»¤ï¼å¼ºå¶è¦æ±ä¸çº§å»åäºãä¸çº§ææ¡äºä¸çº§çç»©æèæ ¸ç­ï¼å¯ä»¥è§£éä¸åæ ¼çä¸çº§ã\n\n**éç¨åºæ¯ï¼**å½ä»·å¼è®¤åå¤±ææ¶ï¼å¦æç¡®å®æå¾å¤§ä»·å¼ï¼ä½æ¯ä¸çº§å°±æ¯ä¸çè§£ï¼æèä¸æ¹ä¾¿è·ä»è¯´çç±æ¶ï¼éåç´æ¥ä¸è¾¾è¡æ¿å½ä»¤ï¼ç´§æ¥æåµæ¥ä¸åè§£éï¼éè¦å¿«éæ§è¡ï¼ä¹éç¨ï¼\n\n**ä¼ç¹ï¼**è½å°å¿«ï¼é¿åäºåç§æµªè´¹æ¶é´çè®¨è®ºãè¯´æç­\n\n**ç¼ºç¹ï¼**ä¸çº§å®¹æäº§çéåå¿çï¼è¿èäº§çå¯¹æï¼å¯è½åºç°å£æå¿ä¸æçæåµï¼ä¸çº§å¯¹äºæå¯è½çè§£ä¸æ·±å»ï¼ä»èå½±åè½å°æ¶çææï¼è¥æ»¥ç¨ï¼ä¸çº§å¯è½è§å¾ä¸è¢«ä¿¡ä»»ï¼ä»èç¦»èæè½¬å²ã\n\n\n# æ¹æ³ä¸. è´§å¸æ¿ç­\n\n**æ¦å¿µï¼**è´§å¸æ¿ç­çæææ¯ä¸çº§éè¿è´§å¸å¥å±æ¹å¼è®©ä¸çº§å»åäºãåæ¬ä½ä¸éäºå èªãå ææãç»©ææé«ä¸äºãåå¥éãè¯·åé¥­è¯·åéç­ç­ãè¡æ¿å½ä»¤å±äºå¨é¼ï¼è´§å¸æ¿ç­å±äºå©è¯±ãæ¬è´¨ä¸æ¯ä¸ç§è´§å¸è¶åè¡ä¸ºï¼è·åå½å¤®è¡çéæ¯ãéåç­è´§å¸è°èææ®µæå¼æ²åå·¥ä¹å¤ã\n\n**ä½¿ç¨åºæ¯ï¼**ä»·å¼è®¤ååè¡æ¿å½ä»¤åæ¶å¤±ææ¶ï¼å¯éå½éç¨ï¼å½ä¸äºç¹æ®äºæï¼éè¦ä¸çº§ååºèªæçºç²ä½å¯¹æ¹ä¸æ¿ææ¶ï¼å¯éåéç¨æ­¤æ¹æ³ï¼æ¯å¦åºå·®ãå ç­ç­ï¼ä¸äºå¯¹å¬å¸ä½ç¨éå¸¸å¤§çéç¹é¡¹ç®ï¼ä¹éåï¼æ¯å¦ï¼âä½ è¦æ¯è½è®©å½å®¶æ¯å¹´ç»å¬å¸åç¨1ä¸ªäº¿ï¼æå¥å±ä½ 1000ä¸ï¼âï¼å¶ä»ä¸äºç¯è§ç¯è´±ä¸è½æå°å°é¢ä¸çäºæï¼ä¹å¯ä»¥èèè´§å¸æ¿å±ï¼\n\n**ä¼ç¹ï¼**çç¨ç­ï¼è§æå¿«ï¼ç­æä½ç¨éå¸¸ææ¾ï¼å¯æ¿å±å£«æ°\n\n**ç¼ºç¹ï¼**è¾¹éæçéåï¼ææ»¥ç¨ï¼ä¸æ¦å¼åæ²³ï¼åæä¸å¥½ç¼©åï¼å®¹æå¼èµ·ä¸æ»¡æç»ªï¼\n\n\n# æ¹æ³å. äººéå³ç³»\n\n**æ¦å¿µï¼**æè°äººéå³ç³»æ¯æè¿ç¨å·¥ä½åå¤å»ºç«èµ·æ¥çäº¤å¾æ¥è¯´æå¯¹æ¹ï¼å¯ä»¥æ¯ä¸ä¸çº§çç´æ¥äº¤å¾ï¼ä¹å¯ä»¥åå©ä»äººã\n\n**ä½¿ç¨åºæ¯ï¼**è¿ä¸ªæ¹æ³æ¯ä¸å¾å·²èä¸ºä¹ï¼æç¨ï¼ä½å½å¶ä»æ¹æ³é½å¤±ææ¶ï¼ä¸å¦¨èèä¸ï¼å½æ­£å¸¸æ²éé·å¥åµå±æ¶ï¼åå©äººéå³ç³»ï¼å°¤å¶æ¯ç¬¬ä¸èæè¶³ï¼å¯è½ä¼æå¥æï¼\n\n**ä¼ç¹ï¼**æ³æè±æåä¸æ\n\n**ç¼ºç¹ï¼**é¥®é¸©æ­¢æ¸´",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"æ­£ç¡®è®¤è¯Backup",frontmatter:{title:"æ­£ç¡®è®¤è¯Backup",date:"2022-12-09T20:00:52.000Z",permalink:"/pages/ea7ab6/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/06.%E6%AD%A3%E7%A1%AE%E8%AE%A4%E8%AF%86Backup.html",relativePath:"10.éææ¯/06.æ­£ç¡®è®¤è¯Backup.md",key:"v-bd4d3ab8",path:"/pages/ea7ab6/",headers:[{level:3,title:"ç¥å¥çBackup",slug:"ç¥å¥çbackup",normalizedTitle:"ç¥å¥çbackup",charIndex:2},{level:3,title:"èæ¿çå¦æç®ç",slug:"èæ¿çå¦æç®ç",normalizedTitle:"èæ¿çå¦æç®ç",charIndex:266},{level:3,title:"è´å½Bug",slug:"è´å½bug",normalizedTitle:"è´å½bug",charIndex:603},{level:3,title:"æ­£ç¡®è®¤è¯ä¸å¯¹å¾Backup",slug:"æ­£ç¡®è®¤è¯ä¸å¯¹å¾backup",normalizedTitle:"æ­£ç¡®è®¤è¯ä¸å¯¹å¾backup",charIndex:1024}],headersStr:"ç¥å¥çBackup èæ¿çå¦æç®ç è´å½Bug æ­£ç¡®è®¤è¯ä¸å¯¹å¾Backup",content:"# ç¥å¥çBackup\n\nBackupï¼å¤ä»½ã\n\næ¯å¦åç«¯æå¡ï¼åè®¾åªé¨ç½²å¨ä¸å°æå¡å¨ä¸ï¼é£è¦æ¯è¿å°æå¡å¨æäºï¼æ¯å¦ç¡¬ä»¶åäºãæ­ç½ãæ­çµç­ï¼ç¶åç¾é¾å°±åçäºï¼è¿ä¸ªæå¡å°±æçæ­»æ­»çãè¿å°±æ¯åç¹æéã\n\nä½æ¯ï¼å¦æä½ çæå¡åæ¶é¨ç½²å¨ä¸¤å°æå¡å¨ä¸ï¼é£ä¹å½å¶ä¸­ä¸ä¸ªæææ¶ï¼å¦å¤ä¸ä¸ªè½é¡¶ä¸ãå¯¹å¤çæ¥è¯´ï¼å¥½åæå¡æ²¡ææè¿ä¸æ ·ãè¿ä¸¤å°æå¡å¨ï¼å°±äºä¸ºå¤ä»½ï¼äºä¸ºBackupã\n\nä½ çï¼Backupæ¯ä¸æ¯å°±å®ç¾è§£å³äºåç¹é®é¢ï¼æå¡çç¨³å®æ§å¤§å¹æåå¢ï¼ï¼çæ¯ç¥å¥çBackupå\n\næ¬ææ³èçè¯é¢æ¯ï¼å¢éç®¡çä¸­ï¼å¢éè´è´£äººçbackupé®é¢ã\n\n\n# èæ¿çå¦æç®ç\n\næä»¬æ¶ä¸æ¶ä¼å¬å°å¦ä¸å¯¹è¯ï¼\n\nèæ¿ï¼å°ä¼å­ï¼ä½ éè¦å¨ä»å¹´åç»èªå·±æ¾ä¸ªBackupã\n\nä¸å±(æå¢éè´è´£äºº)ï¼å¥½çï¼èæ¿ã\n\nèæ¿å¨ä¸æç¤ºï¼ä¸å±è¨å¬è®¡ä»ï¼å¤ä¹åè°ãå¤ä¹ç¬¦åç¤¾ä¼ä¸»ä¹æ ¸å¿ä»·å¼è§çä¸å¹ç»é¢åï¼ä½æ¯ï¼æ®è¯´âä½æ¯âåçé½æ¯åºè¯ï¼ï¼ææ²¡æåç°ä¸ªBugï¼å¦æéè¦Backupçè¯ï¼é£ä¹è¯·é®èæ¿ä»èªå·±çBackupå¨åªå¿ï¼ï¼\n\næä»¬åæ¥ççèæ¿çå¦æç®çã\n\nèæ¿ä¸é¢æå¾å¤å¢éï¼æ¯ä¸ªå¢éé½æè´è´£äººãå¦ææä¸å¤©ï¼æä¸ªè´è´£äººè¢«å¶ä»å¬å¸é«èªæèµ°äºï¼æèççå§åºæ²¡æ³å¹²æ´»äºï¼ç­ç­ãè¿æ¶å°±ç³ç³äºï¼å¢éç¾¤é¾æ é¦ãä¸çæ£æ²äºã\n\né£æä¹åå¢ï¼èªæçèæ¿å¼å¨äºå°èç­ï¼å¦æå¢éè´è´£äººæBackupå°±å®ç¾äºï¼ï¼ï¼\n\næä»¥ï¼æä»¬ææ¶ä¼å¬å°èæ¿å¯¹Backupçè¦æ±ã\n\n\n# è´å½Bug\n\nä¸é¢ï¼æä»¬æå°äºä¸ªBugï¼å°±æ¯èæ¿é½æ²¡æBackupãå¶å®è¿æå¦å¤ä¸ä¸ªè´å½Bugï¼ä¸å±±ä¸å®¹äºèã\n\nåè¯´ç¬¬ä¸ä¸ªBugãä¹è®¸èæ¿çèæ¿ï¼ä¹å°±æ¯å¤§èæ¿ï¼ä»å¯è½è¦æ±èæ¿è¦æ¾Backupãé£ä¹è¯·é®ï¼èæ¿Backupæ¾å°äºåï¼ä¸å¹´365å¤©ä»è±äºå¤å°å¤©å¨ä¸ºèªå·±æ¾Backupï¼ä»æè¿å½æå¹´åº¦éè¦å·¥ä½äºåï¼ç­æ¡æ¯æ¾èæè§çï¼æ²¡æï¼\n\nåè¯´ç¬¬äºä¸ªBugãå¦æä¸ä¸ªå¢éï¼æä¸¤ä¸ªè½åç¸å½çè´è´£äººï¼ä¹å°±æ¯èæ¿ç¼ä¸­çBackupï¼é£ä¹è¿ä¸ªå¢éä¼æä¹æ ·å¢ï¼æè°ä¸å±±ä¸å®¹äºèï¼ä¸¤èèå¾å¯è½è¦ææ¶ï¼è°ä¹ä¸æè°ãå¾å¯è½è¿ä¸ªå¢éå¼å§åèï¼åç§æé¼ï¼å¢éæåå¿çç«éï¼æç»å¢éåè£æä¸¤ä¸ªå°å¢éã\n\nå½ç¶ï¼ä¹æåå­¦ä¼è¯´ï¼ä½ çè¯åªè¯´äºåå¥ï¼ä¸å±±ä¸å®¹äºèï¼é¤éä¸å¬ä¸æ¯ãæ²¡éï¼å¨æäºå¢éï¼å¯è½ä¼æâä¸¤ä¸ªè´è´£äººâï¼æ³¨æï¼æäºå¼å·ï¼ï¼ä½éå¸¸æåµä¸ï¼è¿ä¸¤ä¸ªè´è´£äººè½åäºè¡¥ï¼ä»ä»¬åç¬æåºæ¥ï¼é½ä¸æ¯èèï¼ä»ä»¬åèµ·æ¥ææ¯ä¸åªèèãæä»¥ï¼çèµ·æ¥æä¸¤åªèèï¼å¶å®æ¬è´¨ä¸æ¯ä¸åªã\n\n\n# æ­£ç¡®è®¤è¯ä¸å¯¹å¾Backup\n\nä¸é¢è¿æ®µè¯ä¸¥éçæ¿æ²»ä¸æ­£ç¡®ï¼ä½å´æ¯å®è¯ã\n\næ»ç»ä¸ï¼æè°è¯¥æ¾Backupï¼å¶å®æ¯å¥æ¿æ²»æ­£ç¡®çåºè¯ï¼æ¯èæ¿å¯¹ä¸å±çè¦æ±ï¼ä¸å±æ»¡å£ç­åºä½ä¸å»æ§è¡ï¼å°±å¥½ã\n\né£ä¹ä¸å±è¯¥æä¹åå¢ï¼æ­£ç¡®çåæ³æ¯4ä¸ªå­ï¼æ¢¯éå»ºè®¾ï¼\n\nåè®¾ä½ æ¯å¢éè´è´£äººï¼ä¸ä½ çè½åæ¯90åï¼é£ä¹ä½ åºè¯¥æèä¸¤ä¸ä¸ª80åãä¸å«ä¸ª70åãä¸å¤§å 60åçäººæï¼è¿æ ·å°±å®æäºæ¢¯éå»ºè®¾ï¼èä¸æ¯å±æ¬¡åæçå®ç¾æ¢¯éã\n\nä½å¦æä½ åªæ60åï¼é£ä½ éè¦å¹²çäºå°±æ¯æ¾ä¸ª90åçäººï¼ç¶åéä½è®©è´¤ç»ä»ï¼åè·ä»å­¦ä¹ ï¼åäºæèªå·±çè½åæåå°90åãå½ç¶ï¼å®éæåµæ¯ï¼å¤§é¨å60åçäººå çèåä¸æå±ï¼ä¸æ¿æå¼è¿æ¯èªå·±åå®³çäººï¼ä¸å¡æ²¡æä¸å»ï¼èªå·±è½åä¹æ²¡æä¸å»ï¼ç½ç½æµªè´¹äºå¤§å¥½éæ¥ï¼é£å°±ç­çèæ¿æä½ å¹²æå§ã\n\nä½ çç²¾åé½åºè¯¥è±å¨ç®¡çå¥½å¢éãåå¥½èªå·±çä¸å¡ä¸ï¼æç»©ååºæ¥äºï¼èæ¿ä»¬èªç¶ä¸ä¼åææ¾Backupçäºã",normalizedContent:"# ç¥å¥çbackup\n\nbackupï¼å¤ä»½ã\n\næ¯å¦åç«¯æå¡ï¼åè®¾åªé¨ç½²å¨ä¸å°æå¡å¨ä¸ï¼é£è¦æ¯è¿å°æå¡å¨æäºï¼æ¯å¦ç¡¬ä»¶åäºãæ­ç½ãæ­çµç­ï¼ç¶åç¾é¾å°±åçäºï¼è¿ä¸ªæå¡å°±æçæ­»æ­»çãè¿å°±æ¯åç¹æéã\n\nä½æ¯ï¼å¦æä½ çæå¡åæ¶é¨ç½²å¨ä¸¤å°æå¡å¨ä¸ï¼é£ä¹å½å¶ä¸­ä¸ä¸ªæææ¶ï¼å¦å¤ä¸ä¸ªè½é¡¶ä¸ãå¯¹å¤çæ¥è¯´ï¼å¥½åæå¡æ²¡ææè¿ä¸æ ·ãè¿ä¸¤å°æå¡å¨ï¼å°±äºä¸ºå¤ä»½ï¼äºä¸ºbackupã\n\nä½ çï¼backupæ¯ä¸æ¯å°±å®ç¾è§£å³äºåç¹é®é¢ï¼æå¡çç¨³å®æ§å¤§å¹æåå¢ï¼ï¼çæ¯ç¥å¥çbackupå\n\næ¬ææ³èçè¯é¢æ¯ï¼å¢éç®¡çä¸­ï¼å¢éè´è´£äººçbackupé®é¢ã\n\n\n# èæ¿çå¦æç®ç\n\næä»¬æ¶ä¸æ¶ä¼å¬å°å¦ä¸å¯¹è¯ï¼\n\nèæ¿ï¼å°ä¼å­ï¼ä½ éè¦å¨ä»å¹´åç»èªå·±æ¾ä¸ªbackupã\n\nä¸å±(æå¢éè´è´£äºº)ï¼å¥½çï¼èæ¿ã\n\nèæ¿å¨ä¸æç¤ºï¼ä¸å±è¨å¬è®¡ä»ï¼å¤ä¹åè°ãå¤ä¹ç¬¦åç¤¾ä¼ä¸»ä¹æ ¸å¿ä»·å¼è§çä¸å¹ç»é¢åï¼ä½æ¯ï¼æ®è¯´âä½æ¯âåçé½æ¯åºè¯ï¼ï¼ææ²¡æåç°ä¸ªbugï¼å¦æéè¦backupçè¯ï¼é£ä¹è¯·é®èæ¿ä»èªå·±çbackupå¨åªå¿ï¼ï¼\n\næä»¬åæ¥ççèæ¿çå¦æç®çã\n\nèæ¿ä¸é¢æå¾å¤å¢éï¼æ¯ä¸ªå¢éé½æè´è´£äººãå¦ææä¸å¤©ï¼æä¸ªè´è´£äººè¢«å¶ä»å¬å¸é«èªæèµ°äºï¼æèççå§åºæ²¡æ³å¹²æ´»äºï¼ç­ç­ãè¿æ¶å°±ç³ç³äºï¼å¢éç¾¤é¾æ é¦ãä¸çæ£æ²äºã\n\né£æä¹åå¢ï¼èªæçèæ¿å¼å¨äºå°èç­ï¼å¦æå¢éè´è´£äººæbackupå°±å®ç¾äºï¼ï¼ï¼\n\næä»¥ï¼æä»¬ææ¶ä¼å¬å°èæ¿å¯¹backupçè¦æ±ã\n\n\n# è´å½bug\n\nä¸é¢ï¼æä»¬æå°äºä¸ªbugï¼å°±æ¯èæ¿é½æ²¡æbackupãå¶å®è¿æå¦å¤ä¸ä¸ªè´å½bugï¼ä¸å±±ä¸å®¹äºèã\n\nåè¯´ç¬¬ä¸ä¸ªbugãä¹è®¸èæ¿çèæ¿ï¼ä¹å°±æ¯å¤§èæ¿ï¼ä»å¯è½è¦æ±èæ¿è¦æ¾backupãé£ä¹è¯·é®ï¼èæ¿backupæ¾å°äºåï¼ä¸å¹´365å¤©ä»è±äºå¤å°å¤©å¨ä¸ºèªå·±æ¾backupï¼ä»æè¿å½æå¹´åº¦éè¦å·¥ä½äºåï¼ç­æ¡æ¯æ¾èæè§çï¼æ²¡æï¼\n\nåè¯´ç¬¬äºä¸ªbugãå¦æä¸ä¸ªå¢éï¼æä¸¤ä¸ªè½åç¸å½çè´è´£äººï¼ä¹å°±æ¯èæ¿ç¼ä¸­çbackupï¼é£ä¹è¿ä¸ªå¢éä¼æä¹æ ·å¢ï¼æè°ä¸å±±ä¸å®¹äºèï¼ä¸¤èèå¾å¯è½è¦ææ¶ï¼è°ä¹ä¸æè°ãå¾å¯è½è¿ä¸ªå¢éå¼å§åèï¼åç§æé¼ï¼å¢éæåå¿çç«éï¼æç»å¢éåè£æä¸¤ä¸ªå°å¢éã\n\nå½ç¶ï¼ä¹æåå­¦ä¼è¯´ï¼ä½ çè¯åªè¯´äºåå¥ï¼ä¸å±±ä¸å®¹äºèï¼é¤éä¸å¬ä¸æ¯ãæ²¡éï¼å¨æäºå¢éï¼å¯è½ä¼æâä¸¤ä¸ªè´è´£äººâï¼æ³¨æï¼æäºå¼å·ï¼ï¼ä½éå¸¸æåµä¸ï¼è¿ä¸¤ä¸ªè´è´£äººè½åäºè¡¥ï¼ä»ä»¬åç¬æåºæ¥ï¼é½ä¸æ¯èèï¼ä»ä»¬åèµ·æ¥ææ¯ä¸åªèèãæä»¥ï¼çèµ·æ¥æä¸¤åªèèï¼å¶å®æ¬è´¨ä¸æ¯ä¸åªã\n\n\n# æ­£ç¡®è®¤è¯ä¸å¯¹å¾backup\n\nä¸é¢è¿æ®µè¯ä¸¥éçæ¿æ²»ä¸æ­£ç¡®ï¼ä½å´æ¯å®è¯ã\n\næ»ç»ä¸ï¼æè°è¯¥æ¾backupï¼å¶å®æ¯å¥æ¿æ²»æ­£ç¡®çåºè¯ï¼æ¯èæ¿å¯¹ä¸å±çè¦æ±ï¼ä¸å±æ»¡å£ç­åºä½ä¸å»æ§è¡ï¼å°±å¥½ã\n\né£ä¹ä¸å±è¯¥æä¹åå¢ï¼æ­£ç¡®çåæ³æ¯4ä¸ªå­ï¼æ¢¯éå»ºè®¾ï¼\n\nåè®¾ä½ æ¯å¢éè´è´£äººï¼ä¸ä½ çè½åæ¯90åï¼é£ä¹ä½ åºè¯¥æèä¸¤ä¸ä¸ª80åãä¸å«ä¸ª70åãä¸å¤§å 60åçäººæï¼è¿æ ·å°±å®æäºæ¢¯éå»ºè®¾ï¼èä¸æ¯å±æ¬¡åæçå®ç¾æ¢¯éã\n\nä½å¦æä½ åªæ60åï¼é£ä½ éè¦å¹²çäºå°±æ¯æ¾ä¸ª90åçäººï¼ç¶åéä½è®©è´¤ç»ä»ï¼åè·ä»å­¦ä¹ ï¼åäºæèªå·±çè½åæåå°90åãå½ç¶ï¼å®éæåµæ¯ï¼å¤§é¨å60åçäººå çèåä¸æå±ï¼ä¸æ¿æå¼è¿æ¯èªå·±åå®³çäººï¼ä¸å¡æ²¡æä¸å»ï¼èªå·±è½åä¹æ²¡æä¸å»ï¼ç½ç½æµªè´¹äºå¤§å¥½éæ¥ï¼é£å°±ç­çèæ¿æä½ å¹²æå§ã\n\nä½ çç²¾åé½åºè¯¥è±å¨ç®¡çå¥½å¢éãåå¥½èªå·±çä¸å¡ä¸ï¼æç»©ååºæ¥äºï¼èæ¿ä»¬èªç¶ä¸ä¼åææ¾backupçäºã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"è½åå·®çäººé½æ¯ä»ä¹æ ·çï¼",frontmatter:{title:"è½åå·®çäººé½æ¯ä»ä¹æ ·çï¼",date:"2022-12-09T19:58:03.000Z",permalink:"/pages/fe4651/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/03.%E8%83%BD%E5%8A%9B%E5%B7%AE%E7%9A%84%E4%BA%BA%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%EF%BC%9F.html",relativePath:"10.éææ¯/03.è½åå·®çäººæ¯ä»ä¹æ ·çï¼.md",key:"v-37ecc426",path:"/pages/fe4651/",headers:[{level:3,title:"å·®å²çæå½±å¸",slug:"å·®å²çæå½±å¸",normalizedTitle:"å·®å²çæå½±å¸",charIndex:409},{level:3,title:"è½åå·®çäººé½æåªäºç¹ç¹ï¼",slug:"è½åå·®çäººé½æåªäºç¹ç¹",normalizedTitle:"è½åå·®çäººé½æåªäºç¹ç¹ï¼",charIndex:855},{level:4,title:"1. é«ä¼°èªå·±ï¼èªææè§è¯å¥½",slug:"_1-é«ä¼°èªå·±-èªææè§è¯å¥½",normalizedTitle:"1. é«ä¼°èªå·±ï¼èªææè§è¯å¥½",charIndex:892},{level:4,title:"2. ä¸ç¥éä»ä¹æå«ä¼ç§ï¼æ ç¥",slug:"_2-ä¸ç¥éä»ä¹æå«ä¼ç§-æ ç¥",normalizedTitle:"2. ä¸ç¥éä»ä¹æå«ä¼ç§ï¼æ ç¥",charIndex:1037},{level:4,title:"3. ä¸è°¦èï¼éªå²ï¼ä¸è½å¦è¡æ¿è®¤èªå·±çéè¯¯ï¼ç±ç©é",slug:"_3-ä¸è°¦è-éªå²-ä¸è½å¦è¡æ¿è®¤èªå·±çéè¯¯-ç±ç©é",normalizedTitle:"3. ä¸è°¦èï¼éªå²ï¼ä¸è½å¦è¡æ¿è®¤èªå·±çéè¯¯ï¼ç±ç©é",charIndex:1214},{level:4,title:"4. é¼æ ¼ä½ï¼éä¸ªäººå©çï¼è½»å¢éå©ç",slug:"_4-é¼æ ¼ä½-éä¸ªäººå©ç-è½»å¢éå©ç",normalizedTitle:"4. é¼æ ¼ä½ï¼éä¸ªäººå©çï¼è½»å¢éå©ç",charIndex:1437},{level:4,title:"5. å¸¸éé¿é®é¢ï¼èä¸æ¯è§£å³é®é¢ï¼ç±ä»å«äººèº«ä¸æ¾åå ",slug:"_5-å¸¸éé¿é®é¢-èä¸æ¯è§£å³é®é¢-ç±ä»å«äººèº«ä¸æ¾åå ",normalizedTitle:"5. å¸¸éé¿é®é¢ï¼èä¸æ¯è§£å³é®é¢ï¼ç±ä»å«äººèº«ä¸æ¾åå ",charIndex:1716},{level:4,title:"6. æ¢åå³ï¼å°¤å¶æ¯è·ä¸çº§æ¢åå³",slug:"_6-æ¢åå³-å°¤å¶æ¯è·ä¸çº§æ¢åå³",normalizedTitle:"6. æ¢åå³ï¼å°¤å¶æ¯è·ä¸çº§æ¢åå³",charIndex:1927},{level:4,title:"7. ãããï¼ææ³èµ·æ¥ååè¡¥åï¼",slug:"_7-ããã-ææ³èµ·æ¥ååè¡¥å",normalizedTitle:"7. ãããï¼ææ³èµ·æ¥ååè¡¥åï¼",charIndex:2193},{level:3,title:"å¦ä½æ­£ç¡®ä¸è½åå·®çäººç¸å¤ï¼",slug:"å¦ä½æ­£ç¡®ä¸è½åå·®çäººç¸å¤",normalizedTitle:"å¦ä½æ­£ç¡®ä¸è½åå·®çäººç¸å¤ï¼",charIndex:2214}],headersStr:"å·®å²çæå½±å¸ è½åå·®çäººé½æåªäºç¹ç¹ï¼ 1. é«ä¼°èªå·±ï¼èªææè§è¯å¥½ 2. ä¸ç¥éä»ä¹æå«ä¼ç§ï¼æ ç¥ 3. ä¸è°¦èï¼éªå²ï¼ä¸è½å¦è¡æ¿è®¤èªå·±çéè¯¯ï¼ç±ç©é 4. é¼æ ¼ä½ï¼éä¸ªäººå©çï¼è½»å¢éå©ç 5. å¸¸éé¿é®é¢ï¼èä¸æ¯è§£å³é®é¢ï¼ç±ä»å«äººèº«ä¸æ¾åå  6. æ¢åå³ï¼å°¤å¶æ¯è·ä¸çº§æ¢åå³ 7. ãããï¼ææ³èµ·æ¥ååè¡¥åï¼ å¦ä½æ­£ç¡®ä¸è½åå·®çäººç¸å¤ï¼",content:"âè½åå·®âè¿ä¸ä¸ªå­æ¯ææè¯ï¼å®¹æå¾ç½ªäººãåªæè®²èªå·±çæäºï¼æ­èªå·±çä¸æä¸ä¼å¾ç½ªä»äººãæ¬æéè¿æèªå·±çç»ååæèï¼å¸æè¯»èè½è®¤è¯å°èªèº«æä»äººçä¸è¶³ï¼ä»èæ­£ç¡®å¹¶èªæå¯¹å¾âè½åå·®âè¿ä¸æ®éç°è±¡ï¼è¡¥é½ç­æ¿æåè½åï¼å­¦ä¼ä¸åç§äººç¸å¤ã\n\næ­¤æ¶æ­£å¼2019äºæ´²æ¯æé´ï¼æä¹æ¥æç¹æ¶é«¦çä¸è¥¿ï¼åç­ç¹ï¼ææï¼1æ11å·ï¼ä¸­å½éå°ä¼é¢ä¸´ç¬¬äºä¸ªå¯¹æï¼è²å¾å®¾ï¼ä¸­å½å¿èï¼\n\næå°å½è¶³ï¼å¾å¤äººé½ä¼ç¨âè½åå·®âæ¥å½¢å®¹ãä½ä½ ç¥éä¸ï¼ä¸­å½éä¸»æç»éç®æ¥èª40ä¸RMBï¼ä½ æ²¡çéï¼ä¸å¤©å°±æ40ä¸å¥è´¦ãå½èçå¹´èªæ®éè¿åä¸ï¼éé¿éæºå¹´èªå¤§çº¦ä¸¤å°ä¸åä¸ãè½åå·®çäººè½æè¿ä¹é«çæ¶å¥ï¼ï¼\n\nå¶å®ä¸æ¯ä»ä»¬è½åå·®ï¼ä»ä»¬æ¯ä¸­å½è¶³çè¿å¨åä¸­çç²¾è±ï¼Top 20 çäººï¼è¦æ¯è·å¿«æè¶³çéè¸¢ä¸åºï¼èµ¢ä¸ª 30 : 0 è½»è½»æ¾æ¾ãä½ æ³æ³ï¼ä½ æ¯ç¨åºåï¼åè®¾ä½ æ¯ä¸­å½é¡¶å°ç Top 20 çç¨åºåï¼ä½ çå¹´æ¶å¥æä½æ­¢åä¸ï¼å¯è½æ¯ä»ä»¬çååç¾åé½ä¸æ­¢ã ä¸æ¯è¿äºï¼åæ¥ï¼\n\n\n# å·®å²çæå½±å¸\n\nåæ¦èå»ä¿ç½æ¯ç©ï¼æ¼«å¤©ç½éªå¾æ¼äº®ï¼æèå©ï¼ä¸æç®ç§°YYï¼éå¥½äºæ¯ï¼æå¥½äºPoseï¼ææ¿çååï¼å¯¹åå¥¹ï¼æå¿«é¨ï¼èå­ï¼ä¸å¼ ç§çå°±å®æäºï¼ç¶åæ´æ´å¾æéå°å¥¹é¢åã\n\næï¼âæçä¸éå§â\n\nYYï¼âä½ èªå·±çä¸éï¼ä½ è§å¾å¢ï¼â\n\næï¼âè¿ä¸æºå¥½åï¼100åï¼â\n\næ¥ä¸æ¥å°±æ¯ä¸é¡¿æ°è½ï¼ååºæ¥è¿äºé®é¢ï¼\n\n\\1. ç¸æºè§åº¦ä¸å¯¹ï¼åºè¯¥å¾®å¾®åä¸1Â° --- 5Â°ï¼èä¸æ¯åä¸ï¼è¿æ ·æ¾çä¸ªå¿ç®\n\n\\2. å¯¹ç¦æ²¡å®å¨å¯¹åï¼ç§çæ¾å¤§åè¸æ¯èçï¼ä¸æ¯å®ç\n\n\\3. åºè¯¥æéå¥¹ç¨å¤´åæ¡ä½åå¼ è¸ï¼å¦åæ¾è¸å¤§ä¸å¥½ç\n\n\\4. åºè¯¥æéç¨å¾®æ¬å¤´ï¼ä»èä¸ä¼è®©äººè§å¾æåä¸å·´ï¼è§å¾å¥¹è\n\n\\5. åçº¿ä¸å¤ªå¯¹ï¼æç¹éåï¼äººçèµ·æ¥æ¾é»\n\n\\6. ç¸æºæ²¡æ¿å¹³ï¼åºè¯¥è·å°é¢å¨ä¸æ¡æ°´å¹³çº¿ï¼åç§çæåºæ¥æ¯æ­ªç\n\n\\7. åæ¯ä¸å¯¹ï¼äººåºè¯¥å¨ç§çä¸åä¹ä¸å¤ææ¯æä½³ä½ç½®\n\n\\8. ãããï¼æå·²ç»è®°ä¸æ¸äºï¼æ­¤å¤çç¥20æ¡ï¼\n\nç»è®ºï¼å¨æå½±æ¹é¢ï¼ææ¯ä¸ªè½åå¾å·®çäººï¼è³å°ç°é¶æ®µæ¯ï¼èYYæ¯è¿æ¹é¢çä¸å®¶ï¼å¥¹æ¯è½åå¼ºçäººã\n\n\n# è½åå·®çäººé½æåªäºç¹ç¹ï¼\n\næä½ä¸ºæå½±è½åå·®çäººï¼é½æåªäºBæ ·å¢ï¼\n\n# 1. é«ä¼°èªå·±ï¼èªææè§è¯å¥½\n\næå¼å§ï¼æè§å¾èªå·±æçç§çæºå¥½çï¼ä¹å°±æ¯èªææè§è¯å¥½ï¼é«ä¼°äºèªå·±è½åãè¿æ¯è½åå·®çåå­¦æ®éå­å¨çé®é¢ï¼ä¸è½æ­£ç¡®è®¤è¯èªå·±çä¼ç¼ºç¹ï¼è¿äºé«ä¼°èªå·±äºãå¶å®åï¼è®¤æ¸èªå·±æ¯ä»¶å¾é¾å¾é¾å¾é¾çäºï¼æ³¨æï¼âå¾é¾âæç¨äºä¸éï¼ãèªå·±å¥æ ·ï¼å¿éæ²¡ç¹Bæ°ä¹ï¼æäºäººçæ²¡æã\n\n# 2. ä¸ç¥éä»ä¹æå«ä¼ç§ï¼æ ç¥\n\nè¿æ¯ä»¥æçæäºä¸ºä¾ï¼å½YYåé®æç§çåªéæé®é¢æ¶ï¼æå®å¨çä¸åºæå¥é®é¢ï¼è¿å°±æ¯æ ç¥ï¼\n\nä»ä¹æ¯å¥½ãä»ä¹æ¯åï¼åæ ¹ä¸ç¥éï¼æ²¡ææ·±å¥ä¸å»ï¼åªåçå¨äºè¡¨é¢ï¼å æ ç¥èè®¤ä¸ºè¿å°±æ¯æå¥½çãä½å¶å®å¨ä¸ä¸äººå£«ç¼ä¸­ï¼è¿å°±æ¯æ¸£ã\n\nä½ ä¸ç¥éææ´é«çå±±ï¼æä»¥è®¤ä¸ºåäº¬é¦å±±ææ¯ä¸çç¬¬ä¸é«å±±ï¼å¤§çº¦å°±æ¯è¿ä¸ªææã\n\nè½åå·®çäººè¿æä»¥ä¸è¡¨ç°ï¼\n\n# 3. ä¸è°¦èï¼éªå²ï¼ä¸è½å¦è¡æ¿è®¤èªå·±çéè¯¯ï¼ç±ç©é\n\nå¤æ­ä¸ä¸ªæ¯è½åå¼ºå¼±çéè¦æ åä¹ä¸å°±æ¯ï¼çä»æ¯å¦è°¦èãå ä¸ºè°¦èç­äºæ­£è§èªèº«é®é¢ï¼æææ¥ä¸æ¥çæ¹æ­£ï¼ææäºä¸æ­è¿æ­¥ï¼è½åæä¼è¶æ¥è¶å¼ºã\n\nå·®å²çäººå¾å¾ä¸è°¦èï¼ä¸è½æ¾ä½å§¿æï¼éªå²çå¾ã\n\nä»ä»¬å¾å¾ä¹ä¸æ¿ææ¿è®¤èªå·±çéè¯¯ï¼ä¸åºäºï¼ç¬¬ä¸ååºå°±æ¯ç©éï¼ç©ç»å«äººï¼è¿«ä¸åå¾æèªå·±çè´£ä»»ééæå¹²åã\n\nç©éçäººå¶å®åå¿æ·±å¤æ¯ææ§çï¼ä»ä»¬ææ¿æè´£ä»»ï¼æå«äººè¯´ä»ä»¬è½åä¸è¡ï¼æä»¥ç©éå¶å®æ¯ç§èªæä¿æ¤è¡ä¸ºã\n\n# 4. é¼æ ¼ä½ï¼éä¸ªäººå©çï¼è½»å¢éå©ç\n\nå¢éå©çæå¤§åï¼ä¸ªäººå©çæè½æå¤§åï¼å¾å¤äººçä¸å°è¿ç¹ï¼ä¸è®¤å¯è¿ç¹ã\n\nè½åå·®çäººå¾å¾é¼æ ¼ä½ï¼é¦åæ³å°çæ¯èªå·±ï¼èä¸æ¯å¢éï¼æèé®é¢çæè·¯ä¹æ¯è¯´èªå·±æä¹æä¹æ ·ï¼èä¸æ¯ç«å¨å¢éç«åºæèé®é¢ã\n\nå¶å®åï¼å¦æä¸ä¸ªäººä¹ æ¯æ§å°ç«å¨å¢éè§åº¦æèé®é¢ï¼æèä¸ä»¶äºæä¹åææ¯è®©å¢éæ´å¥½æ¶ï¼ä»çè½åæ å½¢ä¸­ä¹ä¼è·å¾æå¤§çæåï¼å ä¸ºå±æ¬¡é«äºï¼æ¶è·ä¹èªç¶é«äºã\n\nè½åå·®çLeaderææ¶ä¼å»ææåä¸å±ï¼å ä¸ºæå¿ä¸å±è½åæé«åä¼å¨èèªå·±çå°ä½ï¼è¿ä¹æ¯é¼æ ¼ä½çå¸åè¡¨ç°ãè¿ä¹åï¼èªå·±è½åä¸ä¸å»çåæ¶ï¼å¢éå©çä¹åæäºï¼ä¸æ¯åèµ¢ï¼æ¯åè¾ã\n\n# 5. å¸¸éé¿é®é¢ï¼èä¸æ¯è§£å³é®é¢ï¼ç±ä»å«äººèº«ä¸æ¾åå \n\nè½åå·®çäººéå°é®é¢äºï¼å¾å¾ä¸æ¯å¾æ¥ä¸çå¾èº«åæèªå·±ï¼èæ¯ä»å«äººèº«ä¸æ¾åå ï¼ä»ä¼è®¤ä¸ºåäºæ¤åä»ï¼çä¸èµ·ä»ï¼ä¸çº§ä¸éè§ä»ç­ç­ã\n\nå¹¶ä¸å¸¸å¸¸ä¸ä¼ç´é¢é®é¢ï¼ç¼ºä¹è¿é¾èä¸çåæ°ï¼éäºå°±éç¼©å°±éé¿ï¼å¾å¾éæ©ç¦»èæ¥éé¿é®é¢ãæ®ä¸ç¥ï¼è¿å®¶å¬å¸æªè§£å³çé®é¢ï¼ä¸å®¶å¬å¸è¿ä¼åæ¬¡éå°ã\n\næ¯æ¬¡éå°é®é¢ï¼å¶å®é½æ¯ææªåçº§ï¼æåèªå·±çå¥½æ¶æºï¼å·®å²çäººä¸æå¾å©ç¨è¿äºå±æºï¼ä»èéå¤±æºéã\n\n# 6. æ¢åå³ï¼å°¤å¶æ¯è·ä¸çº§æ¢åå³\n\nä¸é¢è¯´äºï¼è½åå·®çäººåæ¬¢ç©éï¼åºäºäºå·´ä¸å¾æææè´£ä»»æ¨å¸åºå»ï¼å¶å®ï¼ä»ä»¬ä¹ç»å¸¸æ¢åå³ï¼æå«äººåçäºè¯´æèªå·±åçãå°¤å¶æ¯è¾æ¶å¿çæ¯é£äºè·ä¸çº§æ¢åå³çäººãææä½ ä¸è¡ä»£ç é½æ²¡åï¼éå¾è¯´ç³»ç»æ¯ä½ å¼åçï¼åä¸éåé¢èµæ¶å°¤å¶ç±è¿ä¹è¯´ï¼æèåªæ¯åä¸æä¸ªé¡¹ç®ï¼ç¶åæ±æ¥æ¶è¯´æ¯èªå·±åçï¼å®å¨å¿½ç¥äºå«äººçè´¡ç®ãè¿äºäººé½æ¯éå¸¸å·®å²çäººï¼ä¸ä»è½åå·®ï¼äººåä¹ä¸åå°ã\n\nè¿ç±»äººå¶å®åå¿ç¼ºä¹å®å¨æï¼æä»¥è¦æ¢åå³ï¼è¦å¤¸å¤§å¶è¯ï¼è®©å«äººè¯¯è®¤ä¸ºä»å¾åå®³ï¼è¯¯è®¤ä¸ºä»å¾è½å¹²ï¼ä»èä»åå¿è§å¾å®å¨ãä½å¾å¾è·ä»åä½çäººï¼ä¼è§å¾å¾ä¸ç½ã\n\n# 7. ãããï¼ææ³èµ·æ¥ååè¡¥åï¼\n\n\n# å¦ä½æ­£ç¡®ä¸è½åå·®çäººç¸å¤ï¼\n\nè¿ä¸ªæä¹å¨æç»­æ¸ç´¢åæ»ç»ä¸­ã\n\næ¯ä¸ªäººé½åææé¿ï¼æä»¬çå°æäºäººå¨æä¸ªå­é¢åå±äºè½åå·®çäººï¼æ¢ä¸ªå­é¢åï¼æä»¬å°±æäºå«äººç¼ä¸­å·®å²çäººãå®ç¾æ¯ä¸å­å¨çï¼ä¸åç¨åº¦çæ®ç¼ºææ¯ä¸çççç¸ã\n\nä¸äººç¸å¤ï¼æçè§å¿µå°±æ¯ï¼å°éï¼å°éä»ä»¬ï¼éå½æ¶åæåºä»ä»¬çä¸è¶³ï¼åäº«å¿å¾ç»ä»ä»¬ï¼å¸®å©ä»ä»¬æ¹è¿ï¼æ¬é¿é¿ç­ï¼è¡¥é½ç­æ¿ãå¤§å®¶äºç¸å­¦ä¹ ï¼å±åè¿æ­¥ï¼å±åæé«ï¼\n\nä½å¦æéå°é£äºå¿è¸ç­éä¹äººï¼è¿æ¯èæ­»ä¸ç¸å¾æ¥é è°±äºï¼",normalizedContent:"âè½åå·®âè¿ä¸ä¸ªå­æ¯ææè¯ï¼å®¹æå¾ç½ªäººãåªæè®²èªå·±çæäºï¼æ­èªå·±çä¸æä¸ä¼å¾ç½ªä»äººãæ¬æéè¿æèªå·±çç»ååæèï¼å¸æè¯»èè½è®¤è¯å°èªèº«æä»äººçä¸è¶³ï¼ä»èæ­£ç¡®å¹¶èªæå¯¹å¾âè½åå·®âè¿ä¸æ®éç°è±¡ï¼è¡¥é½ç­æ¿æåè½åï¼å­¦ä¼ä¸åç§äººç¸å¤ã\n\næ­¤æ¶æ­£å¼2019äºæ´²æ¯æé´ï¼æä¹æ¥æç¹æ¶é«¦çä¸è¥¿ï¼åç­ç¹ï¼ææï¼1æ11å·ï¼ä¸­å½éå°ä¼é¢ä¸´ç¬¬äºä¸ªå¯¹æï¼è²å¾å®¾ï¼ä¸­å½å¿èï¼\n\næå°å½è¶³ï¼å¾å¤äººé½ä¼ç¨âè½åå·®âæ¥å½¢å®¹ãä½ä½ ç¥éä¸ï¼ä¸­å½éä¸»æç»éç®æ¥èª40ä¸rmbï¼ä½ æ²¡çéï¼ä¸å¤©å°±æ40ä¸å¥è´¦ãå½èçå¹´èªæ®éè¿åä¸ï¼éé¿éæºå¹´èªå¤§çº¦ä¸¤å°ä¸åä¸ãè½åå·®çäººè½æè¿ä¹é«çæ¶å¥ï¼ï¼\n\nå¶å®ä¸æ¯ä»ä»¬è½åå·®ï¼ä»ä»¬æ¯ä¸­å½è¶³çè¿å¨åä¸­çç²¾è±ï¼top 20 çäººï¼è¦æ¯è·å¿«æè¶³çéè¸¢ä¸åºï¼èµ¢ä¸ª 30 : 0 è½»è½»æ¾æ¾ãä½ æ³æ³ï¼ä½ æ¯ç¨åºåï¼åè®¾ä½ æ¯ä¸­å½é¡¶å°ç top 20 çç¨åºåï¼ä½ çå¹´æ¶å¥æä½æ­¢åä¸ï¼å¯è½æ¯ä»ä»¬çååç¾åé½ä¸æ­¢ã ä¸æ¯è¿äºï¼åæ¥ï¼\n\n\n# å·®å²çæå½±å¸\n\nåæ¦èå»ä¿ç½æ¯ç©ï¼æ¼«å¤©ç½éªå¾æ¼äº®ï¼æèå©ï¼ä¸æç®ç§°yyï¼éå¥½äºæ¯ï¼æå¥½äºposeï¼ææ¿çååï¼å¯¹åå¥¹ï¼æå¿«é¨ï¼èå­ï¼ä¸å¼ ç§çå°±å®æäºï¼ç¶åæ´æ´å¾æéå°å¥¹é¢åã\n\næï¼âæçä¸éå§â\n\nyyï¼âä½ èªå·±çä¸éï¼ä½ è§å¾å¢ï¼â\n\næï¼âè¿ä¸æºå¥½åï¼100åï¼â\n\næ¥ä¸æ¥å°±æ¯ä¸é¡¿æ°è½ï¼ååºæ¥è¿äºé®é¢ï¼\n\n\\1. ç¸æºè§åº¦ä¸å¯¹ï¼åºè¯¥å¾®å¾®åä¸1Â° --- 5Â°ï¼èä¸æ¯åä¸ï¼è¿æ ·æ¾çä¸ªå¿ç®\n\n\\2. å¯¹ç¦æ²¡å®å¨å¯¹åï¼ç§çæ¾å¤§åè¸æ¯èçï¼ä¸æ¯å®ç\n\n\\3. åºè¯¥æéå¥¹ç¨å¤´åæ¡ä½åå¼ è¸ï¼å¦åæ¾è¸å¤§ä¸å¥½ç\n\n\\4. åºè¯¥æéç¨å¾®æ¬å¤´ï¼ä»èä¸ä¼è®©äººè§å¾æåä¸å·´ï¼è§å¾å¥¹è\n\n\\5. åçº¿ä¸å¤ªå¯¹ï¼æç¹éåï¼äººçèµ·æ¥æ¾é»\n\n\\6. ç¸æºæ²¡æ¿å¹³ï¼åºè¯¥è·å°é¢å¨ä¸æ¡æ°´å¹³çº¿ï¼åç§çæåºæ¥æ¯æ­ªç\n\n\\7. åæ¯ä¸å¯¹ï¼äººåºè¯¥å¨ç§çä¸åä¹ä¸å¤ææ¯æä½³ä½ç½®\n\n\\8. ãããï¼æå·²ç»è®°ä¸æ¸äºï¼æ­¤å¤çç¥20æ¡ï¼\n\nç»è®ºï¼å¨æå½±æ¹é¢ï¼ææ¯ä¸ªè½åå¾å·®çäººï¼è³å°ç°é¶æ®µæ¯ï¼èyyæ¯è¿æ¹é¢çä¸å®¶ï¼å¥¹æ¯è½åå¼ºçäººã\n\n\n# è½åå·®çäººé½æåªäºç¹ç¹ï¼\n\næä½ä¸ºæå½±è½åå·®çäººï¼é½æåªäºbæ ·å¢ï¼\n\n# 1. é«ä¼°èªå·±ï¼èªææè§è¯å¥½\n\næå¼å§ï¼æè§å¾èªå·±æçç§çæºå¥½çï¼ä¹å°±æ¯èªææè§è¯å¥½ï¼é«ä¼°äºèªå·±è½åãè¿æ¯è½åå·®çåå­¦æ®éå­å¨çé®é¢ï¼ä¸è½æ­£ç¡®è®¤è¯èªå·±çä¼ç¼ºç¹ï¼è¿äºé«ä¼°èªå·±äºãå¶å®åï¼è®¤æ¸èªå·±æ¯ä»¶å¾é¾å¾é¾å¾é¾çäºï¼æ³¨æï¼âå¾é¾âæç¨äºä¸éï¼ãèªå·±å¥æ ·ï¼å¿éæ²¡ç¹bæ°ä¹ï¼æäºäººçæ²¡æã\n\n# 2. ä¸ç¥éä»ä¹æå«ä¼ç§ï¼æ ç¥\n\nè¿æ¯ä»¥æçæäºä¸ºä¾ï¼å½yyåé®æç§çåªéæé®é¢æ¶ï¼æå®å¨çä¸åºæå¥é®é¢ï¼è¿å°±æ¯æ ç¥ï¼\n\nä»ä¹æ¯å¥½ãä»ä¹æ¯åï¼åæ ¹ä¸ç¥éï¼æ²¡ææ·±å¥ä¸å»ï¼åªåçå¨äºè¡¨é¢ï¼å æ ç¥èè®¤ä¸ºè¿å°±æ¯æå¥½çãä½å¶å®å¨ä¸ä¸äººå£«ç¼ä¸­ï¼è¿å°±æ¯æ¸£ã\n\nä½ ä¸ç¥éææ´é«çå±±ï¼æä»¥è®¤ä¸ºåäº¬é¦å±±ææ¯ä¸çç¬¬ä¸é«å±±ï¼å¤§çº¦å°±æ¯è¿ä¸ªææã\n\nè½åå·®çäººè¿æä»¥ä¸è¡¨ç°ï¼\n\n# 3. ä¸è°¦èï¼éªå²ï¼ä¸è½å¦è¡æ¿è®¤èªå·±çéè¯¯ï¼ç±ç©é\n\nå¤æ­ä¸ä¸ªæ¯è½åå¼ºå¼±çéè¦æ åä¹ä¸å°±æ¯ï¼çä»æ¯å¦è°¦èãå ä¸ºè°¦èç­äºæ­£è§èªèº«é®é¢ï¼æææ¥ä¸æ¥çæ¹æ­£ï¼ææäºä¸æ­è¿æ­¥ï¼è½åæä¼è¶æ¥è¶å¼ºã\n\nå·®å²çäººå¾å¾ä¸è°¦èï¼ä¸è½æ¾ä½å§¿æï¼éªå²çå¾ã\n\nä»ä»¬å¾å¾ä¹ä¸æ¿ææ¿è®¤èªå·±çéè¯¯ï¼ä¸åºäºï¼ç¬¬ä¸ååºå°±æ¯ç©éï¼ç©ç»å«äººï¼è¿«ä¸åå¾æèªå·±çè´£ä»»ééæå¹²åã\n\nç©éçäººå¶å®åå¿æ·±å¤æ¯ææ§çï¼ä»ä»¬ææ¿æè´£ä»»ï¼æå«äººè¯´ä»ä»¬è½åä¸è¡ï¼æä»¥ç©éå¶å®æ¯ç§èªæä¿æ¤è¡ä¸ºã\n\n# 4. é¼æ ¼ä½ï¼éä¸ªäººå©çï¼è½»å¢éå©ç\n\nå¢éå©çæå¤§åï¼ä¸ªäººå©çæè½æå¤§åï¼å¾å¤äººçä¸å°è¿ç¹ï¼ä¸è®¤å¯è¿ç¹ã\n\nè½åå·®çäººå¾å¾é¼æ ¼ä½ï¼é¦åæ³å°çæ¯èªå·±ï¼èä¸æ¯å¢éï¼æèé®é¢çæè·¯ä¹æ¯è¯´èªå·±æä¹æä¹æ ·ï¼èä¸æ¯ç«å¨å¢éç«åºæèé®é¢ã\n\nå¶å®åï¼å¦æä¸ä¸ªäººä¹ æ¯æ§å°ç«å¨å¢éè§åº¦æèé®é¢ï¼æèä¸ä»¶äºæä¹åææ¯è®©å¢éæ´å¥½æ¶ï¼ä»çè½åæ å½¢ä¸­ä¹ä¼è·å¾æå¤§çæåï¼å ä¸ºå±æ¬¡é«äºï¼æ¶è·ä¹èªç¶é«äºã\n\nè½åå·®çleaderææ¶ä¼å»ææåä¸å±ï¼å ä¸ºæå¿ä¸å±è½åæé«åä¼å¨èèªå·±çå°ä½ï¼è¿ä¹æ¯é¼æ ¼ä½çå¸åè¡¨ç°ãè¿ä¹åï¼èªå·±è½åä¸ä¸å»çåæ¶ï¼å¢éå©çä¹åæäºï¼ä¸æ¯åèµ¢ï¼æ¯åè¾ã\n\n# 5. å¸¸éé¿é®é¢ï¼èä¸æ¯è§£å³é®é¢ï¼ç±ä»å«äººèº«ä¸æ¾åå \n\nè½åå·®çäººéå°é®é¢äºï¼å¾å¾ä¸æ¯å¾æ¥ä¸çå¾èº«åæèªå·±ï¼èæ¯ä»å«äººèº«ä¸æ¾åå ï¼ä»ä¼è®¤ä¸ºåäºæ¤åä»ï¼çä¸èµ·ä»ï¼ä¸çº§ä¸éè§ä»ç­ç­ã\n\nå¹¶ä¸å¸¸å¸¸ä¸ä¼ç´é¢é®é¢ï¼ç¼ºä¹è¿é¾èä¸çåæ°ï¼éäºå°±éç¼©å°±éé¿ï¼å¾å¾éæ©ç¦»èæ¥éé¿é®é¢ãæ®ä¸ç¥ï¼è¿å®¶å¬å¸æªè§£å³çé®é¢ï¼ä¸å®¶å¬å¸è¿ä¼åæ¬¡éå°ã\n\næ¯æ¬¡éå°é®é¢ï¼å¶å®é½æ¯ææªåçº§ï¼æåèªå·±çå¥½æ¶æºï¼å·®å²çäººä¸æå¾å©ç¨è¿äºå±æºï¼ä»èéå¤±æºéã\n\n# 6. æ¢åå³ï¼å°¤å¶æ¯è·ä¸çº§æ¢åå³\n\nä¸é¢è¯´äºï¼è½åå·®çäººåæ¬¢ç©éï¼åºäºäºå·´ä¸å¾æææè´£ä»»æ¨å¸åºå»ï¼å¶å®ï¼ä»ä»¬ä¹ç»å¸¸æ¢åå³ï¼æå«äººåçäºè¯´æèªå·±åçãå°¤å¶æ¯è¾æ¶å¿çæ¯é£äºè·ä¸çº§æ¢åå³çäººãææä½ ä¸è¡ä»£ç é½æ²¡åï¼éå¾è¯´ç³»ç»æ¯ä½ å¼åçï¼åä¸éåé¢èµæ¶å°¤å¶ç±è¿ä¹è¯´ï¼æèåªæ¯åä¸æä¸ªé¡¹ç®ï¼ç¶åæ±æ¥æ¶è¯´æ¯èªå·±åçï¼å®å¨å¿½ç¥äºå«äººçè´¡ç®ãè¿äºäººé½æ¯éå¸¸å·®å²çäººï¼ä¸ä»è½åå·®ï¼äººåä¹ä¸åå°ã\n\nè¿ç±»äººå¶å®åå¿ç¼ºä¹å®å¨æï¼æä»¥è¦æ¢åå³ï¼è¦å¤¸å¤§å¶è¯ï¼è®©å«äººè¯¯è®¤ä¸ºä»å¾åå®³ï¼è¯¯è®¤ä¸ºä»å¾è½å¹²ï¼ä»èä»åå¿è§å¾å®å¨ãä½å¾å¾è·ä»åä½çäººï¼ä¼è§å¾å¾ä¸ç½ã\n\n# 7. ãããï¼ææ³èµ·æ¥ååè¡¥åï¼\n\n\n# å¦ä½æ­£ç¡®ä¸è½åå·®çäººç¸å¤ï¼\n\nè¿ä¸ªæä¹å¨æç»­æ¸ç´¢åæ»ç»ä¸­ã\n\næ¯ä¸ªäººé½åææé¿ï¼æä»¬çå°æäºäººå¨æä¸ªå­é¢åå±äºè½åå·®çäººï¼æ¢ä¸ªå­é¢åï¼æä»¬å°±æäºå«äººç¼ä¸­å·®å²çäººãå®ç¾æ¯ä¸å­å¨çï¼ä¸åç¨åº¦çæ®ç¼ºææ¯ä¸çççç¸ã\n\nä¸äººç¸å¤ï¼æçè§å¿µå°±æ¯ï¼å°éï¼å°éä»ä»¬ï¼éå½æ¶åæåºä»ä»¬çä¸è¶³ï¼åäº«å¿å¾ç»ä»ä»¬ï¼å¸®å©ä»ä»¬æ¹è¿ï¼æ¬é¿é¿ç­ï¼è¡¥é½ç­æ¿ãå¤§å®¶äºç¸å­¦ä¹ ï¼å±åè¿æ­¥ï¼å±åæé«ï¼\n\nä½å¦æéå°é£äºå¿è¸ç­éä¹äººï¼è¿æ¯èæ­»ä¸ç¸å¾æ¥é è°±äºï¼",charsets:{cjk:!0}},{title:"å³äºç©ºéåµçæè",frontmatter:{title:"å³äºç©ºéåµçæè",date:"2022-12-09T19:57:04.000Z",permalink:"/pages/a734ce/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/02.%E5%85%B3%E4%BA%8E%E7%A9%BA%E9%99%8D%E5%85%B5%E7%9A%84%E6%80%9D%E8%80%83.html",relativePath:"10.éææ¯/02.å³äºç©ºéåµçæè.md",key:"v-1130f268",path:"/pages/a734ce/",headers:[{level:3,title:"ä¸ºä»ä¹æç©ºéåµï¼",slug:"ä¸ºä»ä¹æç©ºéåµ",normalizedTitle:"ä¸ºä»ä¹æç©ºéåµï¼",charIndex:371},{level:3,title:"å±å¤äººç¯ï¼ç©ºéåµæç¯çå ä¸ªé",slug:"å±å¤äººç¯-ç©ºéåµæç¯çå ä¸ªé",normalizedTitle:"å±å¤äººç¯ï¼ç©ºéåµæç¯çå ä¸ªé",charIndex:950},{level:3,title:"åå·¥ç¯ï¼å¦ä½å¯¹å¾ç©ºéç¥åµï¼",slug:"åå·¥ç¯-å¦ä½å¯¹å¾ç©ºéç¥åµ",normalizedTitle:"åå·¥ç¯ï¼å¦ä½å¯¹å¾ç©ºéç¥åµï¼",charIndex:2340},{level:3,title:"èæ¿ç¯ï¼å¦ä½è®©ç©ºéäººæå®å¨è½å°ï¼",slug:"èæ¿ç¯-å¦ä½è®©ç©ºéäººæå®å¨è½å°",normalizedTitle:"èæ¿ç¯ï¼å¦ä½è®©ç©ºéäººæå®å¨è½å°ï¼",charIndex:2914},{level:3,title:"ä¼åµç¯ï¼ä½ è¥ç©ºéï¼å¦ä½è½å°ï¼",slug:"ä¼åµç¯-ä½ è¥ç©ºé-å¦ä½è½å°",normalizedTitle:"ä¼åµç¯ï¼ä½ è¥ç©ºéï¼å¦ä½è½å°ï¼",charIndex:3497},{level:3,title:"ç»æè¯­",slug:"ç»æè¯­",normalizedTitle:"ç»æè¯­",charIndex:4872}],headersStr:"ä¸ºä»ä¹æç©ºéåµï¼ å±å¤äººç¯ï¼ç©ºéåµæç¯çå ä¸ªé åå·¥ç¯ï¼å¦ä½å¯¹å¾ç©ºéç¥åµï¼ èæ¿ç¯ï¼å¦ä½è®©ç©ºéäººæå®å¨è½å°ï¼ ä¼åµç¯ï¼ä½ è¥ç©ºéï¼å¦ä½è½å°ï¼ ç»æè¯­",content:"ç©ºéåµï¼è¿åæ¯ä¸ªææè¯é¢ï¼\n\nä»ä¹æ¯ç©ºéåµå¢ï¼å°±æ¯æä¸ªå¢éæ°æ¥ä¸ä¸ªleaderï¼ä¹è®¸æ¯ä»å¤é¢æèï¼æèæ¯ä»å¶ä»é¨é¨è°ä»»ï¼æ»ä¹ï¼å¹¶ä¸æ¯ä»ç°æå¢éææï¼è¿ä¸ªæ°æ¥çleaderå°±åç©ºéä¼åµä¸æ ·çªç¶åºç°å¨å¤§å®¶ç¼åï¼å¤©éç¥åµçæè§ï¼å æ­¤å¾åã\n\næ¬ææ¯ç¬èå¯¹äºç©ºéåµè¿ä¸ç°è±¡çæèï¼ä¸å¤§å®¶ä¸èµ·æ¢ç´¢å¦ä½æ­£ç¡®çå¾ç©ºéåµã\n\nä¸æä¸­çåè§è²çæ±æ¥å³ç³»å¦ä¸ï¼å¤§èæ¿(èæ¿çèæ¿) <---- èæ¿(å¤§å¢éè´è´£äºº) <---- ç©ºéåµ(Leaderï¼å°å¢éè´è´£äºº) <---- å¢éæå\n\nç¹å«ç³æï¼æ¬æåªæ¢è®¨æ­£å¸¸ç»ç»åå±åçº§çæåµãåè®¾æé¨é¨æ°æ¢èå¤§ï¼ä»è¦æé¤å¼å·±ï¼ç¶åå¯¹ä¸é¢å¢éç©ºéleaderï¼è¿ç§éæ­£å¸¸æåµè¯·åèåèãå°ä¸ç«ä¹æ­ï¼æå©çæ¸¸æãï¼ä¸å¨æ¬æçæ¢è®¨èå´åãæ¬æè¨è®ºï¼ç¬èä¸æ¦ä¸è´è´£ï¼åä½è¯»èæå½ä¸ä¹ï¼è¿æ¯é£å¥èè¯ï¼åå¶ç²¾åï¼å»å¶ç³ç²ï¼\n\n\n# ä¸ºä»ä¹æç©ºéåµï¼\n\nç®åæ¥è¯´ï¼å°±æ¯ç°æçå¢éæåï¼æ²¡æä¸ä¸ªäººçè½åè¾¾å°leaderè¦æ±ãä»èæ¿å±é¢æ¥çï¼è¦è¡·å°±æ¯ï¼æä¹æ³æææä¸ªäººï¼ä½æ¯æ äººå¯ç¨åï¼è¢«é¼æ å¥æä»å¤å¼è¿äººæã\n\nå¦æç°ææåä¸­çæäººè½æ»¡è¶³è¦æ±ï¼é£å°±ç´æ¥æäººï¼æ©å¤§å¢éå°±è¡äºï¼å°±ä¸ç¨è´¹å²å·´ææç©ºéäºã\n\næä»¬ç¥éï¼ä¸ä¸ªå¬å¸çç¶é¢å¨CEOçè½åï¼ä¸ä¸ªå¢éçç¶é¢å¨äºå¢éleaderçè½åï¼ä»çä¸ªäººå¤©è±æ¿å°±æ¯å¢éçå¤©è±æ¿ã\n\nåè®¾ç°å¨æå¢éçä¸å¡ï¼å¨Aåå­¦å¸¦é¢ä¸åå°äº60åï¼è¯·é®å¦ä½åå°90åå¢ï¼é Aåå­¦åï¼å¤§æ¦çæ¯ä¸è¡çï¼å ä¸ºä»ç®åè½åä¸éå°±æ¯60åï¼ä»æå¤©å¯è½ä¼æé¿å°90åï¼ä½éè¦æ¶é´ï¼èè¿ä¸ªæ¶é´æ¯ä¸å¡å¿«éåå±æä¸è½ç­çãå¦å¤ï¼å¢éæåçå¤©è±æ¿ä¹æ¯60åï¼é£ä»ä»¬ä¸ªäººæªæ¥æä¹åå±ãæä¹æé¿å¢ï¼å æ­¤ï¼å¢éæ³åå±ãæ³åçº§ãæ³é¸æªæ¢ç®ãæ³æ©ææ¢å°è½¿è½¦ãæ³ç»¿ç®ç«è½¦æ¢é«éï¼ä¸å¡æ³è¿ä¸æ­¥åå¥½ï¼æ³åå°90åï¼å°±å¿é¡»è¦æ¾ä¸ª90åè½åçæ°leaderã\n\næä»¥ï¼ç©ºéæ¯å¢éåå±åçº§çæ­£å¸¸ç°è±¡ã\n\nåè®¾ä¸ä¸ªå¢é100äººï¼90åleaderåªæä¸ä¸ªï¼é£ä¹ï¼é¤éä»æ¯ç¬¬ä¸ä¸ªåå·¥ï¼ä¸ç®ç©ºéï¼å¦åä»ç¬¬äºä¸ªå°ç¬¬ä¸ç¾ä¸ªï¼å¶ä¸­ä¸ä¸ªå¿å®æ¯ç©ºéã\n\nå±ä»¬å·¥ä½å¤å¹´ï¼ä¸å®ä¼è§å°å¾å¤ä¾å­ãä»å¤©ä½ å¯è½è¢«å«äººç©ºéï¼æå¤©ï¼ä½ ä¹å¯è½ç©ºéå°å¶ä»å¢éãèå°è¿å¿ï¼éçå°±å¾ç®åäºï¼æ¥ä¸æ¥è¦åçäºä¹å¾ç®åäºï¼å±ä»¬æ¯ä¸ªäººé½åºè¯¥æ­£ç¡®çå¾ç©ºéã\n\n\n# å±å¤äººç¯ï¼ç©ºéåµæç¯çå ä¸ªé\n\nè½æä¸ºç©ºéåµï¼å¨ç­ç­å ä¸ªå°æ¶çé¢è¯ä¸­å°±è®©èæ¿å¯¹ä½ å®ç®ç¸çï¼è¯´æè¿å»ä¸å®æè¿äººçæç»©ï¼ä¹å°±æ¯è¯´ï¼ç©ºéåµé½æ¯å¨ä»¥åçå¬å¸è¯æè¿èªå·±çï¼ä¸ç»©çªåºçäººæãäººæãäººæï¼é¦åæ¯äººï¼åªè¦æ¯äººï¼å°±å®¹æç¯éï¼ä»¥ä¸åä¸¾äºæè§å¯å°çç©ºéç¥åµå®¹æç¯çå ä¸ªéè¯¯ã\n\néè¯¯ä¸ï¼æå¤§éè¯¯ï¼éªå²èªæ»¡\n\nå±ä»¬ä¸èµ·åå¿ä¸å°å­¦ç¬¬ä¸èè¯¾æ¶ï¼èå¸æå¤§å®¶çç¬¬ä¸ä¸ªç¥è¯å§ãèå¸ç«å¨è®²å°ä¸ï¼è¯­éå¿é¿è¯´éï¼âå°æåä»¬ï¼è°¦èä½¿äººè¿æ­¥ï¼éªå²ä½¿äººè½åï¼â è¿ä¼°è®¡æ¯å¾å¤äººå­¦å°çç¬¬ä¸ä¸ªäººçéçã\n\nç©ºéåµä¸è¬é½æ¯è¯æè¿èªå·±ï¼åå²ä¸æè¿æåç»éªçäººå£«ãè¿ç±»äººå£«ï¼å¾å®¹æå°±å¿äºå°å­¦èå¸æçä¸è¥¿ãè¿å»çæåï¼è®©ä»ä»¬èªä¿¡ãä¹å¯è½è®©ä»ä»¬è¿åº¦èªä¿¡ï¼ä»èéªå²èªæ»¡ï¼çæ°åäººãçå°è¿ï¼æä¼°è®¡ä»ä»¬çå°å­¦èå¸å·²ç»å­æå¨åæï¼âä¸å­¦æ¶è¦å£å©å¿æä½ ä»¬çä¸è¥¿ï¼åè¿ç»èå¸äºï¼â\n\nå¾å¤éªå²çç©ºéåµä¼è¯´ï¼è¿äºæå·²ç»å¹²äºNå¹´äºï¼æä»¥å°±æç§æçè¯´çå»åå§ï¼è¯å®æ²¡éã\n\nä½æ¯å«å¿äºï¼æ¡çæ·®åä¸ºæ©ï¼çæ·®åå³ä¸ºæ³ãä½ ä»¥åè¿ä¹å¹²å¯ä»¥ï¼ä½ä»æ¶ä¸åå¾æ¥ï¼éè¦éæ°è¦èèæ¡å­çé¿çåå£¤åå¤©æ°ã\n\néªå²çå¿æï¼å¾å¾æå³çç©ºéåµææå¯è½æ æ³å®å¨è½å°ï¼å¯è½ä¼ææ­»ã\n\néè¯¯äºï¼å¦å®ä¸åï¼æèªå·±å½æä¸ä¸»\n\næäºç©ºéåµæ¥å°æ°å¢éåï¼ç±äºåæ¹é¢é½è·ä»¥åä¸ä¸æ ·ï¼å¾å¾ä¸å¯çä»ä¹é½ä¸é¡ºç¼çæ ·å­ï¼æè¿å»çä¸åææé½å¦å®æã\n\nè¿ç±»äººï¼å¾å¾æèªå·±å½æä¸ä¸»ï¼è®¤ä¸ºå¬å¸è±å¤§ä»·é±æä»è¿æ¥ï¼å°±æ¯æ¯æå¬å¸çã\n\nå¶å®ï¼ä½ æ¥ä¹åï¼å¬å¸å°±æ­£å¸¸è¿è½¬ï¼å¹¶ä¸æ¯æ²¡ä½ ä¸è¡ã\n\nå­å¨å°±æ¯åçï¼æ è®ºä»¥åçä¸å¡ãæ¶æç­æ¯ä»ä¹æ ·å­ï¼ä¸å®æå¶åçæ§ï¼ä¸å®æ¯æå¯åä¹å¤çãæ²¡æäººæ¯æä¸ä¸»ï¼\n\néè¯¯ä¸ï¼åäºæ¥äºæ±æï¼æ³å¿«éåå¾æç»©\n\nç±äºåæ¥å¢éï¼æèæ¿çææï¼æåå·¥çæå¾ï¼ä¹æåå·¥çä¸ä¿¡ä»»ï¼å¶å®ååå¾å¤§ãè¿æ¶ï¼å¾å¤ç©ºéåµå°±å¸æå¿«éååºæç»©ï¼è¯æèªå·±ï¼ä»¥æç«ç¨³èè·ã\n\nè¿ä¸ªåºåç¹æ¯æ²¡éçï¼å°±æ¯è¦éæ°è¯æèªå·±ãä½æ¯å¤è¯­äºï¼æ¬²éåä¸è¾¾ãææå¿çæåµæ¯ï¼å¨æ²¡æå®å¨ææ¸æ¥ç¶åµåï¼å°±è´¸ç¶ä¸å³å®ï¼ç»æååºæ¥çä¸è¥¿æ¯åæåï¼æåè¦æ¨ç¿»éæï¼ç½ç½æµªè´¹äºæ¶é´åä¿¡ä»»ã\n\néè¯¯åï¼ä»»äººå¯äº²ãæé¤å¼å·±\n\næ°å°ä¸ä¸ªå¢éï¼æäºç©ºéåµè®¤ä¸ºäºæè¿å±ä¸é¡ºå©ï¼æ¯ç±äºæ²¡æäº²ä¿¡ï¼ä»¥åçäººä¸å¬èªå·±çè¯é æçãäºæ¯ä»å°±å¼å§äºæ¢è¡ï¼ææ¤é£äºè·èªå·±è§ç¹ä¸åçäººï¼æä»ä»¬æ¤åºå¢éãèå¯¹äºå³é®å²ä½ï¼ä»»å½èªå·±æèçäººãè¿å°±æ¯ä»»äººå¯äº²ãæé¤å¼å·±ãå¾ææ¾ï¼è¿ä¼é æå¢éå¨è¡ï¼æè°ä¸æå¤©å­ä¸æè£ï¼å°±æ¯è¿ä¸ªéçã\n\néè¯¯äºï¼æå¸®ç»æ´¾\n\næäºç©ºéåµï¼æ³å°½å¿«æ©å¤§å¨å¢éçå½±ååï¼äºåæ´å¤å¢éæåçä¿¡ä»»ï¼å°±ä¼åç§åä¹å°æåèç±»ï¼æ¯å¦ä¸å®¶å¬å¸ãå¥èæ¶é´ãå¤§å­¦å­¦æ ¡ç­ç­ãè¿ç±»è¡å¨ï¼å®¹æææ¥éè®®ï¼ä»èè®©äººè§å¾ä½ å¨æå¸®ç»æ´¾ã\n\nä»¥å¥èæ¶é´ä¸ºä¾ï¼åè®¾æç©ºéç¥åµåå¥èï¼å°±å¼ ç½å»ºä¸ªæ°å¥èåå·¥çç¾¤ï¼å®æç»ç»èé¤ç­ï¼è¿ç¾å¶åæ°ï¼æ°åå·¥å³æãè¿ç§ææ®µå°±æ¯å¿æ¯ä¸æ­£ï¼å¶å¿å¯è¯ãå¯¹æ°åå·¥çå³æï¼æå¥½æ¯èåå·¥åèµ·ãè¯æ³ä¸ä¸ï¼ä½ èªå·±æ¬èº«å°±æ¯ä¸ªæ°åå·¥ï¼æä¹è½å»å³æå¶ä»çæ°åå·¥å¢ï¼ï¼\n\néè¯¯å­ï¼è·ªèèæ¿ï¼å´ä¸ä¸æ³¨åäº\n\nä¹æäºäººï¼éå¸¸èä¸ï¼è®¤ä¸ºèæ¿æ¯è¿ä¸ªä¸çä¸æéè¦çäººï¼æä»¥è±å¤§éæ¶é´å»ååä¸ç®¡çï¼è·ªèèæ¿ï¼èå¿äºèæ¿æä½ æ¥æ¯å¹²åçãå¶å®ï¼ä¸å¿åäº + éå½æ±æ¥ = æå¥½çåä¸ç®¡çãå«å¿äºï¼ä½ çèæ¿è¿å¾åä»çèæ¿æ±æ¥ï¼èæ±æ¥åå®¹ä¸å®æ¯åçäºï¼ä½ è¦æ¯ä¸å¹²äºï¼é£ä»æ¿ä»ä¹å»æ±æ¥å¢ï¼ï¼\n\n\n# åå·¥ç¯ï¼å¦ä½å¯¹å¾ç©ºéç¥åµï¼\n\nåå·¥å¯¹äºçªå¦å¶æ¥çç©ºéç¥åµï¼æ¯æå¤æçãå¤§è´æ¥è¯´ï¼åä¸ºä¸ç±»äººï¼\n\n1. æ¶ææµè§¦\n\néº»èï¼å­ä»ä¹è¦æè¿ä¸ªäººï¼æä»¬å¤©å¤©å ç­ï¼ç´¯æ­»ç´¯æ´»ï¼æ²¡åå³ä¹æè¦å³åï¼ä¸ºä»ä¹ä¸æææï¼æèææé£è°è°è°ä¹è¡åï¼ä»æ¥äºä¼ä¸ä¼ç»æä»¬æä½ç»©æåï¼ä¼ä¸ä¼ææä»¬å¼äºåï¼èå­é½å¿«ä¸æ³å¹²äº\n\n2. ç§¯ææ¥çº³\n\næ°äººï¼æ°æ°è±¡ï¼æ°æ´»åï¼æ¬¢è¿æ¬¢è¿ï¼ç­çæ¬¢è¿ï¼\n\n3. ææ¯æé±æ²¹ç\n\nä½ ä»¬ç±åæè¾åæè¾ï¼æä¸æºåï¼è·è°ä¸æ¯è·ï¼æå°±æ¯ä¸ªå¹²æ´»çã\n\nä»¥ä¸ä¸ç±»äººï¼é½éå¸¸é²æï¼åºä¼ã\n\né£ä¹ï¼ä½ è¦æ³åçº§ææªï¼æä¸ºä¸ä¸ªæ´ä¼ç§çäººï¼è¯¥æä¹åå¢ï¼\n\né¦åï¼è¦è®¤æ¸èªå·±çä¸è¶³ãè¿ç¹å¶å®éå¸¸é¾ï¼å¤§é¨åäººé½ä¼é«ä¼°èªå·±ãæ­£æ¯å ä¸ºä½ æè½åä¸çæ¬ ç¼ºï¼ä¸èä»»ï¼æ²¡æ³è¢«ææï¼æä»¥æç»äºå«äººæºä¼ï¼ææç©ºéè¿ä»¶äºï¼å¹¶ä¸æ¯èæ¿ä¸ä¿¡ä»»ä½ ã\n\nå¶æ¬¡ï¼åªåææç©ºéåµçä¼ç¹ï¼å¸æ¶å­¦ä¹ ï¼åæä½ èªå·±çä¼ç¹ãä¸äººè¡å¿ææå¸ï¼å°¤å¶æ¯å¤§å¤æ°ç©ºéåµï¼ä»¥ååè¿ä½ æ­£å¨åçä¸å¡ï¼å¤è·ä»äº¤æµï¼ççä»ä»¥åæ¯æä¹åçï¼å­¦ä¹ å¶é¿å¤ã\n\næåï¼åä½ä¼åï¼è¥ä»ä¸èä»»ï¼ååå¦åæç®ãä¸å®æ¯è¦åä¸å¶åä½ï¼åä¸èµ·åäºï¼åä½ä¼åãåå ä»¶äºï¼å°±ç¥éä»æ¯å¦èä»»äºãè¥èä»»ï¼é£å°±ç»§ç»­åä½ï¼ç»§ç»­åä»å­¦ä¹ ï¼æ¯ç«ä»è½å¸¦é¢å¤§å®¶å±åææªåçº§ï¼è¥ä¸èä»»ï¼è·èæ¿åé¦ï¼è®©ä»éä¸æ¥åå¶ä»å·¥ä½ï¼å¦æä»è¿äººåä¸è¡ï¼é£å°±å¹²èæ»èï¼ä»åªå¿æ¥ååªå¿å»ã\n\n\n# èæ¿ç¯ï¼å¦ä½è®©ç©ºéäººæå®å¨è½å°ï¼\n\næç« è¯»å°è¿å¿ï¼ç¸ä¿¡è¯»èæ¯è¾ç´¯äºï¼æä»¬åè½»æ¾ä¸ãè¯·ä½ çççªå¤ï¼åäº¬ççªå¤ï¼çå¤©ç©º3åéåååæ¥ç»§ç»­éè¯»ã\n\n--------3åéå--------\n\nä½ çå°ä»ä¹äºï¼çå°é¾é¾äºåï¼ä¹è®¸ä»å¤©æ²¡æï¼ä½æ¯ä½ ä¸å®è§è¿åäº¬çé¾é¾ãé¾é¾æ¯æä»¬å½å®¶ç»æµå¿«éåå±æ¶ï¼å¿½è§äºç¯å¢ä¿æ¤èå¸¦æ¥çæ¶æï¼èç°å¨å½å®¶æè¯å°è¿æ¹é¢çé®é¢ï¼æ­£å¨å¤§åæ´æ²»ã\n\nèæ¿å¨ç©ºéäººææ¹é¢ï¼æå¸¸è§çéè¯¯å°±ååäº¬é£æµåçé¾é¾ï¼åæ±¡æåæ²»çï¼\n\nè¿ç¨å¾å¾æ¯è¿æ ·çï¼çå¤´æHRæ¾æ¥æä½é«çº§äººæçç®åï¼èæ¿é¢è¯ï¼ç¾¤ä¼æ¼åä¹å¸®å¿é¢è¯ï¼æåèæ¿å¾æ»¡æï¼ç»äºä¸éèªæ°´çofferï¼å¥èåï¼èæ¿ç´æ¥å®£å¸ï¼xx æ¯ææå¢éçè´è´£äººï¼å¤§å®¶é¼ææ¬¢è¿ï¼è¿äºæ®µæ¶é´ï¼æ¨å£°è½½éï¼åç°çèµ°ç¼äºï¼ä»å®éè½åä¸è¡ï¼ä¸èä»»ãå¥½å§ï¼é£å°±ææ­å¹²æãæè¾äºä¸åï¼è·å ä¸ªæåä¸æ¨¡ä¸æ ·ãè¿å°±æ¯âåæ±¡æåæ²»çâã\n\nåäº¬çé¾é¾ï¼å°ä¸å¯ä»¥æ²»çï¼éç°èå¤©ï¼ä½ç©ºéåµæåçäººå¿å¢ï¼æå¤±çä¿¡ä»»å¢ï¼å¦ä½æ²»çï¼ï¼\n\nå æ­¤ï¼å¨ç©ºéäººæå®å¨è½å°æ¹é¢ï¼ç£¨åä¸è¯¯ç æ´å·¥ï¼æ¥ä¸å¾ï¼æ¬²éåä¸è¾¾ï¼å¯éç¨å­å­æ¹éï¼åèå¯åæ¶æ­£ï¼\n\næ°å¥èçåå­¦ï¼æ è®ºèçº§å¤ä¹é«ï¼ä»å¯¹äºä¸å¡ãå¯¹äºå¢éï¼é½æä¸ªéåºæãç£¨åæãå¨è¿ä¸ªæéåï¼å¯¹ä»è¿è¡å®å°æ£éªï¼èå¯æç»æï¼åæ­£å¼ä»»å½ã\n\nè¿éåä¸å±å¼åè¿°äºï¼æå¯¹æ­¤äºç»éªä¸ä¸°å¯ï¼ç­ä»æ¥æå¿å¾é¢å¤æ¶ï¼åæ¥è¡¥å ^_^\n\n\n# ä¼åµç¯ï¼ä½ è¥ç©ºéï¼å¦ä½è½å°ï¼\n\nå¦ç½è¯´ï¼ææ²¡æç©ºéè¿ï¼æé½æ¯ä»æåºå±åèµ·çï¼æä»¥æ²¡æç»éªãä½æä»ç¶ææçæ³æ³åä¸æ¥ã\n\n1. æææéè¦çæ¯ï¼è°¦è\n\nç©ºéåµæéè¦çæ¯å¿æï¼ä¸å®è¦è°¦èãè¦èå¿ï¼ä¸è¦æèªå·±å½ææä¸ä¸»ï¼é«é«å¨ä¸èè§ä¸åæ¯ä¸è¡çãè¦æ±çåå­¦èçç©ºæ¯å¿æï¼å»å­¦ä¹ äºè§£ä¸å¡ï¼å»çè§£ä¸ºä»ä¹è¿ä¹è®¾è®¡ï¼åå åææ¯ä»ä¹ãè¦çå°å®çä¼ç¹åç¼ºç¹ï¼å°¤å¶æ¯ä¼ç¹ã\n\nå¾å¤ç©ºéåµä¸å¥èåï¼é½ä¸å»äºè§£åå­¦ä¹ ç°æä¸å¡ï¼å°±æç§ä¹åå¨ä¸å®¶å¬å¸çç»éªæäºæï¼å®å¨ä¸èèå½åå¬å¸çç¯å¢æ¯å¦éåï¼ç»æå¯æ³èç¥ï¼è¯å®ä¸å°é¸¡æ¯ã\n\nä¸¾ä¸ªå¾ç½ªäººçBadCaseï¼æå¬å¸æCXOå¥èåç¬¬ä¸ä»¶äºå°±æ¯æHCéå®ï¼ç¶åè¯´éæ°reviewï¼éæ°å®HCï¼å¯¼è´å¬å¸çæèåæ­¢å ä¸ªæäºï¼éè¿äºä¸åå¹´çæ¢äººé»éæï¼ä¸å¡åå±åå°äºä¸å®å½±åãå½æ¶æç§ä¸é«åº¦è¯ä»·äºä»ï¼HCæ¯ä¸å¡é¨é¨è·åä»»äººåèå¤§å®çï¼CXOä¸æ¥å°±æåæ¥å®çæ¨ç¿»äºï¼æ°çå½å®¶ä¸»å¸­ä¸ä»»ï¼ä¹ä¸æ¢æä¸å±æ¿åºç­¾çåè®®å¨é¨æ¨ç¿»ï¼ä½ä»æ¢ï¼ä»æ¯å½å®¶ä¸»å¸­è¿çï¼æå¦æ­¤è½äººå¼å£«ï¼æ°æå¤å´ï¼å½å®¶å¯å¼ºï¼ä¸­å½æ¢¦çå®ç°ææ¥å¯å¾ï¼èæï¼\n\nå æ­¤ï¼ç©ºéåµä¸å®ä¸è¦åå¦å®ä¸åï¼è¦åç»´æä¸å¡çæ­£å¸¸è¿è½¬ï¼æ¸æ¸åºç»ï¼ç¶ååèèå¦ä½åä¼åè°æ´ã\n\nå­å¨å°±æ¯åçï¼ç°å¨çä¸å¡åæè¿æ ·ï¼ä¸å®æ¯å¨åå²çåå±è¿ç¨ä¸­ååºçç¸å¯¹æä¼éæ©ãæ³¨æï¼è¿éæ¯ç¸å¯¹æä¼ï¼ä¸æ¯ç»å¯¹æä¼ï¼ä¹å°±æ¯è¯´ï¼å¨ä»¥åå¢éæåçè½åèå´åå¬å¸ç¯å¢åéæ¡ä»¶ä¸åçç¸å¯¹æä½³éæ©ãå¾å¤æ¶åæ¯å¤§å®¶ä¸ç¥éä»ä¹å«æå¥½ï¼å¾å¤æ¶åæ¯å¤§å®¶æç¥éä»ä¹æ¯æå¥½ï¼ä½ç±äºç»ç»ç»æç­åå ï¼æ¨ä¸å¨ï¼åç§åå å§ãæä»¥ï¼ç©ºéå°ä¸ä¸ªæ°å¢éï¼åä¸ä¸è¦ä¸æ¥å°±å¦å®ä¸åï¼å¦åå¤§æ¦çä¼å¤±è´¥ã\n\n2. ä¸å¡æ¹é¢ï¼åè¯æèªå·±ååå\n\nå½ç©ºéåµå°ä¸ä¸ªæ°çå¢éï¼ç±äºå¤§å®¶å¯¹ä»ä¸äºè§£ï¼è¿æ¯éçäººå³ç³»ï¼æä»¥é¦è¦ä»»å¡æ¯ä¸å¤§å®¶ä¸èµ·åäºæ¥è¯æèªå·±ï¼è¯æä½ æ¯æçæå®å­¦ï¼å¹¶ä¸æ¯å¾æèåãå¨åè¿äºäºçè¿ç¨ä¸­ï¼å¤§å®¶è§å¾ä½ ç¡®å®æ¯è¾åå®³ï¼ä¿¡ä»»å°±éæ¸å»ºç«èµ·æ¥äºãç­ä¿¡ä»»å»ºç«çå·®ä¸å¤æ¶ï¼åå¸¦é¢å¤§å®¶ä¸èµ·ååæå¤§äºæï¼å°±é¡ºçæç« äºã\n\nå¨åæï¼éè¦æ³¨æä¸äºç»èï¼æ¯å¦ï¼å¯¹ä¸éçéä¸ææ¾çäºï¼è¦ç¼è¡ï¼è¦ååé£äºæç¡®å¯¹éçäºã\n\nä¸¾ä¸ªä¾å­ï¼åè®¾ä¸ä¸æ¥å°±ææå¨æ¥ï¼è¯´ä»¥åå¨æ¥åçä¸å¥½ï¼è¦æ¹çãä½ çï¼å¨æ¥è¿ç§äºï¼åæèä¸åï¼æä¹åï¼å·®å«å¤§åï¼æå¯¹éä¹ååï¼æ²¡æï¼å¯¹å§ãå¦æä¸æ¥å°±æè¾è¿ç§äºï¼ä¸å®ä¼ææ¥éè®®ï¼å¯è½ä¼è¯´ä½ ä¸»æ¬¡ä¸åï¼é£ä¹å¤éè¦çäºä¸åï¼å±ç¶æ¥æè¾æä»¬åäºå¥½å å¹´çå¨æ¥ãæä»¥ï¼ç±»ä¼¼å¨æ¥è¿ç§æ²¡æå¯¹éä¹åçäºï¼åä¸ä¸è¦çæ¥åãç­ä½ å¯¹å¢éæååçææ§åä»¥åï¼ååã\n\n3. å¢éæ¹é¢ï¼åç»´ç¨³åä¼å\n\nå½æ¥å°ä¸ä¸ªæ°å¢éï¼ä¸å®æé¨åå¢éæåæ¯æµè§¦å¿çï¼æç«¯æåµä¸å¯è½ä¼åºç°ä¸éåï¼å¯¹çå¹²ãç©ºéåµåºè¯¥æåé¢è§å°è¿ç§æåµï¼åå¥½å¿çåå¤ãå¢éæ¹é¢ï¼åä¿æç¨³å®ï¼åäºè§£æ¯ä¸ªäººçä¼ç¼ºç¹ï¼è¯å®åé¼å±ä»¥ååå¾çæç»©ãå¯¹å¢éæåï¼æå¥½æéå½çæå¯¼ï¼åè¯ä»ä»¬åªäºå·¥ä½æä¹åææ¯æ´å¥½çï¼è®©å¤§å®¶æåå°ä½ çå°æ¥æ¯å¯¹å¤§å®¶çæé¿æå¸®å©çãè¦å°½å¿«ä¸å¢éææä¸çï¼æ¯å¦èé¤ãæ½çï¼ä¸ç­åä¸èµ·ç©ç­ç­ï¼æ»ä¹è¦å¤è·ä»ä»¬äº¤æµï¼äºè§£ä»ä»¬çæ³æ³ã\n\nå¯¹äºé£äºä¸æ»¡è¶³ä½ è¦æ±çæåï¼åå¿ä¸è¦ä¸æ¥å°±çä¸ææï¼å½ä½ å¨å¢éç«è¶³æªç¨³åï¼æå¥½ä¸è¦åºç°å¢éæåæµå¤±ã\n\nå¯¹äºæ°çåéçè¡¥åï¼ç»§ç»­æ²¿ç¨ä¹åçç­ç¥åèå¥ï¼æç»­æèï¼ç­ä½ æå¤§çè§åæ¶ï¼åå å¤§æèååº¦ã\n\n\n# ç»æè¯­\n\nè´ªå©ªä¸ææ§ï¼æ¯äººæ§çä¸¤å¤§å¼±ç¹ãæ®éäººï¼é½å®³æååï¼å¯¹æªæ¥çä¸ç¡®å®æå°ææ§ãä¼ç§çäººï¼æ¥æ±ååï¼éåºååï¼\n\nèä¸çæ¶¯å åå¹´ï¼ä¼ç»åæ æ°çç©ºéåè¢«ç©ºéï¼å±ä»¬å¾å­¦ä¼æ­£ç¡®å¤çï¼\n\nå½æä¸å¤©ä½ æ¶æ¾å¥½ç©åï¼åå¤ç¦»å¼ä¸å®¶å¬å¸æ¶ï¼ä½ è½å¸¦èµ°çï¼é¤äºé¶è¡å¡ä¸çæ°å­åæ»¡å¤´ä¸ä¸é¶åå¤ï¼æå®è´µçå°±æ¯ç»ååç§äºæç»å°±çä¸èº«æ¬é¢ï¼",normalizedContent:"ç©ºéåµï¼è¿åæ¯ä¸ªææè¯é¢ï¼\n\nä»ä¹æ¯ç©ºéåµå¢ï¼å°±æ¯æä¸ªå¢éæ°æ¥ä¸ä¸ªleaderï¼ä¹è®¸æ¯ä»å¤é¢æèï¼æèæ¯ä»å¶ä»é¨é¨è°ä»»ï¼æ»ä¹ï¼å¹¶ä¸æ¯ä»ç°æå¢éææï¼è¿ä¸ªæ°æ¥çleaderå°±åç©ºéä¼åµä¸æ ·çªç¶åºç°å¨å¤§å®¶ç¼åï¼å¤©éç¥åµçæè§ï¼å æ­¤å¾åã\n\næ¬ææ¯ç¬èå¯¹äºç©ºéåµè¿ä¸ç°è±¡çæèï¼ä¸å¤§å®¶ä¸èµ·æ¢ç´¢å¦ä½æ­£ç¡®çå¾ç©ºéåµã\n\nä¸æä¸­çåè§è²çæ±æ¥å³ç³»å¦ä¸ï¼å¤§èæ¿(èæ¿çèæ¿) <---- èæ¿(å¤§å¢éè´è´£äºº) <---- ç©ºéåµ(leaderï¼å°å¢éè´è´£äºº) <---- å¢éæå\n\nç¹å«ç³æï¼æ¬æåªæ¢è®¨æ­£å¸¸ç»ç»åå±åçº§çæåµãåè®¾æé¨é¨æ°æ¢èå¤§ï¼ä»è¦æé¤å¼å·±ï¼ç¶åå¯¹ä¸é¢å¢éç©ºéleaderï¼è¿ç§éæ­£å¸¸æåµè¯·åèåèãå°ä¸ç«ä¹æ­ï¼æå©çæ¸¸æãï¼ä¸å¨æ¬æçæ¢è®¨èå´åãæ¬æè¨è®ºï¼ç¬èä¸æ¦ä¸è´è´£ï¼åä½è¯»èæå½ä¸ä¹ï¼è¿æ¯é£å¥èè¯ï¼åå¶ç²¾åï¼å»å¶ç³ç²ï¼\n\n\n# ä¸ºä»ä¹æç©ºéåµï¼\n\nç®åæ¥è¯´ï¼å°±æ¯ç°æçå¢éæåï¼æ²¡æä¸ä¸ªäººçè½åè¾¾å°leaderè¦æ±ãä»èæ¿å±é¢æ¥çï¼è¦è¡·å°±æ¯ï¼æä¹æ³æææä¸ªäººï¼ä½æ¯æ äººå¯ç¨åï¼è¢«é¼æ å¥æä»å¤å¼è¿äººæã\n\nå¦æç°ææåä¸­çæäººè½æ»¡è¶³è¦æ±ï¼é£å°±ç´æ¥æäººï¼æ©å¤§å¢éå°±è¡äºï¼å°±ä¸ç¨è´¹å²å·´ææç©ºéäºã\n\næä»¬ç¥éï¼ä¸ä¸ªå¬å¸çç¶é¢å¨ceoçè½åï¼ä¸ä¸ªå¢éçç¶é¢å¨äºå¢éleaderçè½åï¼ä»çä¸ªäººå¤©è±æ¿å°±æ¯å¢éçå¤©è±æ¿ã\n\nåè®¾ç°å¨æå¢éçä¸å¡ï¼å¨aåå­¦å¸¦é¢ä¸åå°äº60åï¼è¯·é®å¦ä½åå°90åå¢ï¼é aåå­¦åï¼å¤§æ¦çæ¯ä¸è¡çï¼å ä¸ºä»ç®åè½åä¸éå°±æ¯60åï¼ä»æå¤©å¯è½ä¼æé¿å°90åï¼ä½éè¦æ¶é´ï¼èè¿ä¸ªæ¶é´æ¯ä¸å¡å¿«éåå±æä¸è½ç­çãå¦å¤ï¼å¢éæåçå¤©è±æ¿ä¹æ¯60åï¼é£ä»ä»¬ä¸ªäººæªæ¥æä¹åå±ãæä¹æé¿å¢ï¼å æ­¤ï¼å¢éæ³åå±ãæ³åçº§ãæ³é¸æªæ¢ç®ãæ³æ©ææ¢å°è½¿è½¦ãæ³ç»¿ç®ç«è½¦æ¢é«éï¼ä¸å¡æ³è¿ä¸æ­¥åå¥½ï¼æ³åå°90åï¼å°±å¿é¡»è¦æ¾ä¸ª90åè½åçæ°leaderã\n\næä»¥ï¼ç©ºéæ¯å¢éåå±åçº§çæ­£å¸¸ç°è±¡ã\n\nåè®¾ä¸ä¸ªå¢é100äººï¼90åleaderåªæä¸ä¸ªï¼é£ä¹ï¼é¤éä»æ¯ç¬¬ä¸ä¸ªåå·¥ï¼ä¸ç®ç©ºéï¼å¦åä»ç¬¬äºä¸ªå°ç¬¬ä¸ç¾ä¸ªï¼å¶ä¸­ä¸ä¸ªå¿å®æ¯ç©ºéã\n\nå±ä»¬å·¥ä½å¤å¹´ï¼ä¸å®ä¼è§å°å¾å¤ä¾å­ãä»å¤©ä½ å¯è½è¢«å«äººç©ºéï¼æå¤©ï¼ä½ ä¹å¯è½ç©ºéå°å¶ä»å¢éãèå°è¿å¿ï¼éçå°±å¾ç®åäºï¼æ¥ä¸æ¥è¦åçäºä¹å¾ç®åäºï¼å±ä»¬æ¯ä¸ªäººé½åºè¯¥æ­£ç¡®çå¾ç©ºéã\n\n\n# å±å¤äººç¯ï¼ç©ºéåµæç¯çå ä¸ªé\n\nè½æä¸ºç©ºéåµï¼å¨ç­ç­å ä¸ªå°æ¶çé¢è¯ä¸­å°±è®©èæ¿å¯¹ä½ å®ç®ç¸çï¼è¯´æè¿å»ä¸å®æè¿äººçæç»©ï¼ä¹å°±æ¯è¯´ï¼ç©ºéåµé½æ¯å¨ä»¥åçå¬å¸è¯æè¿èªå·±çï¼ä¸ç»©çªåºçäººæãäººæãäººæï¼é¦åæ¯äººï¼åªè¦æ¯äººï¼å°±å®¹æç¯éï¼ä»¥ä¸åä¸¾äºæè§å¯å°çç©ºéç¥åµå®¹æç¯çå ä¸ªéè¯¯ã\n\néè¯¯ä¸ï¼æå¤§éè¯¯ï¼éªå²èªæ»¡\n\nå±ä»¬ä¸èµ·åå¿ä¸å°å­¦ç¬¬ä¸èè¯¾æ¶ï¼èå¸æå¤§å®¶çç¬¬ä¸ä¸ªç¥è¯å§ãèå¸ç«å¨è®²å°ä¸ï¼è¯­éå¿é¿è¯´éï¼âå°æåä»¬ï¼è°¦èä½¿äººè¿æ­¥ï¼éªå²ä½¿äººè½åï¼â è¿ä¼°è®¡æ¯å¾å¤äººå­¦å°çç¬¬ä¸ä¸ªäººçéçã\n\nç©ºéåµä¸è¬é½æ¯è¯æè¿èªå·±ï¼åå²ä¸æè¿æåç»éªçäººå£«ãè¿ç±»äººå£«ï¼å¾å®¹æå°±å¿äºå°å­¦èå¸æçä¸è¥¿ãè¿å»çæåï¼è®©ä»ä»¬èªä¿¡ãä¹å¯è½è®©ä»ä»¬è¿åº¦èªä¿¡ï¼ä»èéªå²èªæ»¡ï¼çæ°åäººãçå°è¿ï¼æä¼°è®¡ä»ä»¬çå°å­¦èå¸å·²ç»å­æå¨åæï¼âä¸å­¦æ¶è¦å£å©å¿æä½ ä»¬çä¸è¥¿ï¼åè¿ç»èå¸äºï¼â\n\nå¾å¤éªå²çç©ºéåµä¼è¯´ï¼è¿äºæå·²ç»å¹²äºnå¹´äºï¼æä»¥å°±æç§æçè¯´çå»åå§ï¼è¯å®æ²¡éã\n\nä½æ¯å«å¿äºï¼æ¡çæ·®åä¸ºæ©ï¼çæ·®åå³ä¸ºæ³ãä½ ä»¥åè¿ä¹å¹²å¯ä»¥ï¼ä½ä»æ¶ä¸åå¾æ¥ï¼éè¦éæ°è¦èèæ¡å­çé¿çåå£¤åå¤©æ°ã\n\néªå²çå¿æï¼å¾å¾æå³çç©ºéåµææå¯è½æ æ³å®å¨è½å°ï¼å¯è½ä¼ææ­»ã\n\néè¯¯äºï¼å¦å®ä¸åï¼æèªå·±å½æä¸ä¸»\n\næäºç©ºéåµæ¥å°æ°å¢éåï¼ç±äºåæ¹é¢é½è·ä»¥åä¸ä¸æ ·ï¼å¾å¾ä¸å¯çä»ä¹é½ä¸é¡ºç¼çæ ·å­ï¼æè¿å»çä¸åææé½å¦å®æã\n\nè¿ç±»äººï¼å¾å¾æèªå·±å½æä¸ä¸»ï¼è®¤ä¸ºå¬å¸è±å¤§ä»·é±æä»è¿æ¥ï¼å°±æ¯æ¯æå¬å¸çã\n\nå¶å®ï¼ä½ æ¥ä¹åï¼å¬å¸å°±æ­£å¸¸è¿è½¬ï¼å¹¶ä¸æ¯æ²¡ä½ ä¸è¡ã\n\nå­å¨å°±æ¯åçï¼æ è®ºä»¥åçä¸å¡ãæ¶æç­æ¯ä»ä¹æ ·å­ï¼ä¸å®æå¶åçæ§ï¼ä¸å®æ¯æå¯åä¹å¤çãæ²¡æäººæ¯æä¸ä¸»ï¼\n\néè¯¯ä¸ï¼åäºæ¥äºæ±æï¼æ³å¿«éåå¾æç»©\n\nç±äºåæ¥å¢éï¼æèæ¿çææï¼æåå·¥çæå¾ï¼ä¹æåå·¥çä¸ä¿¡ä»»ï¼å¶å®ååå¾å¤§ãè¿æ¶ï¼å¾å¤ç©ºéåµå°±å¸æå¿«éååºæç»©ï¼è¯æèªå·±ï¼ä»¥æç«ç¨³èè·ã\n\nè¿ä¸ªåºåç¹æ¯æ²¡éçï¼å°±æ¯è¦éæ°è¯æèªå·±ãä½æ¯å¤è¯­äºï¼æ¬²éåä¸è¾¾ãææå¿çæåµæ¯ï¼å¨æ²¡æå®å¨ææ¸æ¥ç¶åµåï¼å°±è´¸ç¶ä¸å³å®ï¼ç»æååºæ¥çä¸è¥¿æ¯åæåï¼æåè¦æ¨ç¿»éæï¼ç½ç½æµªè´¹äºæ¶é´åä¿¡ä»»ã\n\néè¯¯åï¼ä»»äººå¯äº²ãæé¤å¼å·±\n\næ°å°ä¸ä¸ªå¢éï¼æäºç©ºéåµè®¤ä¸ºäºæè¿å±ä¸é¡ºå©ï¼æ¯ç±äºæ²¡æäº²ä¿¡ï¼ä»¥åçäººä¸å¬èªå·±çè¯é æçãäºæ¯ä»å°±å¼å§äºæ¢è¡ï¼ææ¤é£äºè·èªå·±è§ç¹ä¸åçäººï¼æä»ä»¬æ¤åºå¢éãèå¯¹äºå³é®å²ä½ï¼ä»»å½èªå·±æèçäººãè¿å°±æ¯ä»»äººå¯äº²ãæé¤å¼å·±ãå¾ææ¾ï¼è¿ä¼é æå¢éå¨è¡ï¼æè°ä¸æå¤©å­ä¸æè£ï¼å°±æ¯è¿ä¸ªéçã\n\néè¯¯äºï¼æå¸®ç»æ´¾\n\næäºç©ºéåµï¼æ³å°½å¿«æ©å¤§å¨å¢éçå½±ååï¼äºåæ´å¤å¢éæåçä¿¡ä»»ï¼å°±ä¼åç§åä¹å°æåèç±»ï¼æ¯å¦ä¸å®¶å¬å¸ãå¥èæ¶é´ãå¤§å­¦å­¦æ ¡ç­ç­ãè¿ç±»è¡å¨ï¼å®¹æææ¥éè®®ï¼ä»èè®©äººè§å¾ä½ å¨æå¸®ç»æ´¾ã\n\nä»¥å¥èæ¶é´ä¸ºä¾ï¼åè®¾æç©ºéç¥åµåå¥èï¼å°±å¼ ç½å»ºä¸ªæ°å¥èåå·¥çç¾¤ï¼å®æç»ç»èé¤ç­ï¼è¿ç¾å¶åæ°ï¼æ°åå·¥å³æãè¿ç§ææ®µå°±æ¯å¿æ¯ä¸æ­£ï¼å¶å¿å¯è¯ãå¯¹æ°åå·¥çå³æï¼æå¥½æ¯èåå·¥åèµ·ãè¯æ³ä¸ä¸ï¼ä½ èªå·±æ¬èº«å°±æ¯ä¸ªæ°åå·¥ï¼æä¹è½å»å³æå¶ä»çæ°åå·¥å¢ï¼ï¼\n\néè¯¯å­ï¼è·ªèèæ¿ï¼å´ä¸ä¸æ³¨åäº\n\nä¹æäºäººï¼éå¸¸èä¸ï¼è®¤ä¸ºèæ¿æ¯è¿ä¸ªä¸çä¸æéè¦çäººï¼æä»¥è±å¤§éæ¶é´å»ååä¸ç®¡çï¼è·ªèèæ¿ï¼èå¿äºèæ¿æä½ æ¥æ¯å¹²åçãå¶å®ï¼ä¸å¿åäº + éå½æ±æ¥ = æå¥½çåä¸ç®¡çãå«å¿äºï¼ä½ çèæ¿è¿å¾åä»çèæ¿æ±æ¥ï¼èæ±æ¥åå®¹ä¸å®æ¯åçäºï¼ä½ è¦æ¯ä¸å¹²äºï¼é£ä»æ¿ä»ä¹å»æ±æ¥å¢ï¼ï¼\n\n\n# åå·¥ç¯ï¼å¦ä½å¯¹å¾ç©ºéç¥åµï¼\n\nåå·¥å¯¹äºçªå¦å¶æ¥çç©ºéç¥åµï¼æ¯æå¤æçãå¤§è´æ¥è¯´ï¼åä¸ºä¸ç±»äººï¼\n\n1. æ¶ææµè§¦\n\néº»èï¼å­ä»ä¹è¦æè¿ä¸ªäººï¼æä»¬å¤©å¤©å ç­ï¼ç´¯æ­»ç´¯æ´»ï¼æ²¡åå³ä¹æè¦å³åï¼ä¸ºä»ä¹ä¸æææï¼æèææé£è°è°è°ä¹è¡åï¼ä»æ¥äºä¼ä¸ä¼ç»æä»¬æä½ç»©æåï¼ä¼ä¸ä¼ææä»¬å¼äºåï¼èå­é½å¿«ä¸æ³å¹²äº\n\n2. ç§¯ææ¥çº³\n\næ°äººï¼æ°æ°è±¡ï¼æ°æ´»åï¼æ¬¢è¿æ¬¢è¿ï¼ç­çæ¬¢è¿ï¼\n\n3. ææ¯æé±æ²¹ç\n\nä½ ä»¬ç±åæè¾åæè¾ï¼æä¸æºåï¼è·è°ä¸æ¯è·ï¼æå°±æ¯ä¸ªå¹²æ´»çã\n\nä»¥ä¸ä¸ç±»äººï¼é½éå¸¸é²æï¼åºä¼ã\n\né£ä¹ï¼ä½ è¦æ³åçº§ææªï¼æä¸ºä¸ä¸ªæ´ä¼ç§çäººï¼è¯¥æä¹åå¢ï¼\n\né¦åï¼è¦è®¤æ¸èªå·±çä¸è¶³ãè¿ç¹å¶å®éå¸¸é¾ï¼å¤§é¨åäººé½ä¼é«ä¼°èªå·±ãæ­£æ¯å ä¸ºä½ æè½åä¸çæ¬ ç¼ºï¼ä¸èä»»ï¼æ²¡æ³è¢«ææï¼æä»¥æç»äºå«äººæºä¼ï¼ææç©ºéè¿ä»¶äºï¼å¹¶ä¸æ¯èæ¿ä¸ä¿¡ä»»ä½ ã\n\nå¶æ¬¡ï¼åªåææç©ºéåµçä¼ç¹ï¼å¸æ¶å­¦ä¹ ï¼åæä½ èªå·±çä¼ç¹ãä¸äººè¡å¿ææå¸ï¼å°¤å¶æ¯å¤§å¤æ°ç©ºéåµï¼ä»¥ååè¿ä½ æ­£å¨åçä¸å¡ï¼å¤è·ä»äº¤æµï¼ççä»ä»¥åæ¯æä¹åçï¼å­¦ä¹ å¶é¿å¤ã\n\næåï¼åä½ä¼åï¼è¥ä»ä¸èä»»ï¼ååå¦åæç®ãä¸å®æ¯è¦åä¸å¶åä½ï¼åä¸èµ·åäºï¼åä½ä¼åãåå ä»¶äºï¼å°±ç¥éä»æ¯å¦èä»»äºãè¥èä»»ï¼é£å°±ç»§ç»­åä½ï¼ç»§ç»­åä»å­¦ä¹ ï¼æ¯ç«ä»è½å¸¦é¢å¤§å®¶å±åææªåçº§ï¼è¥ä¸èä»»ï¼è·èæ¿åé¦ï¼è®©ä»éä¸æ¥åå¶ä»å·¥ä½ï¼å¦æä»è¿äººåä¸è¡ï¼é£å°±å¹²èæ»èï¼ä»åªå¿æ¥ååªå¿å»ã\n\n\n# èæ¿ç¯ï¼å¦ä½è®©ç©ºéäººæå®å¨è½å°ï¼\n\næç« è¯»å°è¿å¿ï¼ç¸ä¿¡è¯»èæ¯è¾ç´¯äºï¼æä»¬åè½»æ¾ä¸ãè¯·ä½ çççªå¤ï¼åäº¬ççªå¤ï¼çå¤©ç©º3åéåååæ¥ç»§ç»­éè¯»ã\n\n--------3åéå--------\n\nä½ çå°ä»ä¹äºï¼çå°é¾é¾äºåï¼ä¹è®¸ä»å¤©æ²¡æï¼ä½æ¯ä½ ä¸å®è§è¿åäº¬çé¾é¾ãé¾é¾æ¯æä»¬å½å®¶ç»æµå¿«éåå±æ¶ï¼å¿½è§äºç¯å¢ä¿æ¤èå¸¦æ¥çæ¶æï¼èç°å¨å½å®¶æè¯å°è¿æ¹é¢çé®é¢ï¼æ­£å¨å¤§åæ´æ²»ã\n\nèæ¿å¨ç©ºéäººææ¹é¢ï¼æå¸¸è§çéè¯¯å°±ååäº¬é£æµåçé¾é¾ï¼åæ±¡æåæ²»çï¼\n\nè¿ç¨å¾å¾æ¯è¿æ ·çï¼çå¤´æhræ¾æ¥æä½é«çº§äººæçç®åï¼èæ¿é¢è¯ï¼ç¾¤ä¼æ¼åä¹å¸®å¿é¢è¯ï¼æåèæ¿å¾æ»¡æï¼ç»äºä¸éèªæ°´çofferï¼å¥èåï¼èæ¿ç´æ¥å®£å¸ï¼xx æ¯ææå¢éçè´è´£äººï¼å¤§å®¶é¼ææ¬¢è¿ï¼è¿äºæ®µæ¶é´ï¼æ¨å£°è½½éï¼åç°çèµ°ç¼äºï¼ä»å®éè½åä¸è¡ï¼ä¸èä»»ãå¥½å§ï¼é£å°±ææ­å¹²æãæè¾äºä¸åï¼è·å ä¸ªæåä¸æ¨¡ä¸æ ·ãè¿å°±æ¯âåæ±¡æåæ²»çâã\n\nåäº¬çé¾é¾ï¼å°ä¸å¯ä»¥æ²»çï¼éç°èå¤©ï¼ä½ç©ºéåµæåçäººå¿å¢ï¼æå¤±çä¿¡ä»»å¢ï¼å¦ä½æ²»çï¼ï¼\n\nå æ­¤ï¼å¨ç©ºéäººæå®å¨è½å°æ¹é¢ï¼ç£¨åä¸è¯¯ç æ´å·¥ï¼æ¥ä¸å¾ï¼æ¬²éåä¸è¾¾ï¼å¯éç¨å­å­æ¹éï¼åèå¯åæ¶æ­£ï¼\n\næ°å¥èçåå­¦ï¼æ è®ºèçº§å¤ä¹é«ï¼ä»å¯¹äºä¸å¡ãå¯¹äºå¢éï¼é½æä¸ªéåºæãç£¨åæãå¨è¿ä¸ªæéåï¼å¯¹ä»è¿è¡å®å°æ£éªï¼èå¯æç»æï¼åæ­£å¼ä»»å½ã\n\nè¿éåä¸å±å¼åè¿°äºï¼æå¯¹æ­¤äºç»éªä¸ä¸°å¯ï¼ç­ä»æ¥æå¿å¾é¢å¤æ¶ï¼åæ¥è¡¥å ^_^\n\n\n# ä¼åµç¯ï¼ä½ è¥ç©ºéï¼å¦ä½è½å°ï¼\n\nå¦ç½è¯´ï¼ææ²¡æç©ºéè¿ï¼æé½æ¯ä»æåºå±åèµ·çï¼æä»¥æ²¡æç»éªãä½æä»ç¶ææçæ³æ³åä¸æ¥ã\n\n1. æææéè¦çæ¯ï¼è°¦è\n\nç©ºéåµæéè¦çæ¯å¿æï¼ä¸å®è¦è°¦èãè¦èå¿ï¼ä¸è¦æèªå·±å½ææä¸ä¸»ï¼é«é«å¨ä¸èè§ä¸åæ¯ä¸è¡çãè¦æ±çåå­¦èçç©ºæ¯å¿æï¼å»å­¦ä¹ äºè§£ä¸å¡ï¼å»çè§£ä¸ºä»ä¹è¿ä¹è®¾è®¡ï¼åå åææ¯ä»ä¹ãè¦çå°å®çä¼ç¹åç¼ºç¹ï¼å°¤å¶æ¯ä¼ç¹ã\n\nå¾å¤ç©ºéåµä¸å¥èåï¼é½ä¸å»äºè§£åå­¦ä¹ ç°æä¸å¡ï¼å°±æç§ä¹åå¨ä¸å®¶å¬å¸çç»éªæäºæï¼å®å¨ä¸èèå½åå¬å¸çç¯å¢æ¯å¦éåï¼ç»æå¯æ³èç¥ï¼è¯å®ä¸å°é¸¡æ¯ã\n\nä¸¾ä¸ªå¾ç½ªäººçbadcaseï¼æå¬å¸æcxoå¥èåç¬¬ä¸ä»¶äºå°±æ¯æhcéå®ï¼ç¶åè¯´éæ°reviewï¼éæ°å®hcï¼å¯¼è´å¬å¸çæèåæ­¢å ä¸ªæäºï¼éè¿äºä¸åå¹´çæ¢äººé»éæï¼ä¸å¡åå±åå°äºä¸å®å½±åãå½æ¶æç§ä¸é«åº¦è¯ä»·äºä»ï¼hcæ¯ä¸å¡é¨é¨è·åä»»äººåèå¤§å®çï¼cxoä¸æ¥å°±æåæ¥å®çæ¨ç¿»äºï¼æ°çå½å®¶ä¸»å¸­ä¸ä»»ï¼ä¹ä¸æ¢æä¸å±æ¿åºç­¾çåè®®å¨é¨æ¨ç¿»ï¼ä½ä»æ¢ï¼ä»æ¯å½å®¶ä¸»å¸­è¿çï¼æå¦æ­¤è½äººå¼å£«ï¼æ°æå¤å´ï¼å½å®¶å¯å¼ºï¼ä¸­å½æ¢¦çå®ç°ææ¥å¯å¾ï¼èæï¼\n\nå æ­¤ï¼ç©ºéåµä¸å®ä¸è¦åå¦å®ä¸åï¼è¦åç»´æä¸å¡çæ­£å¸¸è¿è½¬ï¼æ¸æ¸åºç»ï¼ç¶ååèèå¦ä½åä¼åè°æ´ã\n\nå­å¨å°±æ¯åçï¼ç°å¨çä¸å¡åæè¿æ ·ï¼ä¸å®æ¯å¨åå²çåå±è¿ç¨ä¸­ååºçç¸å¯¹æä¼éæ©ãæ³¨æï¼è¿éæ¯ç¸å¯¹æä¼ï¼ä¸æ¯ç»å¯¹æä¼ï¼ä¹å°±æ¯è¯´ï¼å¨ä»¥åå¢éæåçè½åèå´åå¬å¸ç¯å¢åéæ¡ä»¶ä¸åçç¸å¯¹æä½³éæ©ãå¾å¤æ¶åæ¯å¤§å®¶ä¸ç¥éä»ä¹å«æå¥½ï¼å¾å¤æ¶åæ¯å¤§å®¶æç¥éä»ä¹æ¯æå¥½ï¼ä½ç±äºç»ç»ç»æç­åå ï¼æ¨ä¸å¨ï¼åç§åå å§ãæä»¥ï¼ç©ºéå°ä¸ä¸ªæ°å¢éï¼åä¸ä¸è¦ä¸æ¥å°±å¦å®ä¸åï¼å¦åå¤§æ¦çä¼å¤±è´¥ã\n\n2. ä¸å¡æ¹é¢ï¼åè¯æèªå·±ååå\n\nå½ç©ºéåµå°ä¸ä¸ªæ°çå¢éï¼ç±äºå¤§å®¶å¯¹ä»ä¸äºè§£ï¼è¿æ¯éçäººå³ç³»ï¼æä»¥é¦è¦ä»»å¡æ¯ä¸å¤§å®¶ä¸èµ·åäºæ¥è¯æèªå·±ï¼è¯æä½ æ¯æçæå®å­¦ï¼å¹¶ä¸æ¯å¾æèåãå¨åè¿äºäºçè¿ç¨ä¸­ï¼å¤§å®¶è§å¾ä½ ç¡®å®æ¯è¾åå®³ï¼ä¿¡ä»»å°±éæ¸å»ºç«èµ·æ¥äºãç­ä¿¡ä»»å»ºç«çå·®ä¸å¤æ¶ï¼åå¸¦é¢å¤§å®¶ä¸èµ·ååæå¤§äºæï¼å°±é¡ºçæç« äºã\n\nå¨åæï¼éè¦æ³¨æä¸äºç»èï¼æ¯å¦ï¼å¯¹ä¸éçéä¸ææ¾çäºï¼è¦ç¼è¡ï¼è¦ååé£äºæç¡®å¯¹éçäºã\n\nä¸¾ä¸ªä¾å­ï¼åè®¾ä¸ä¸æ¥å°±ææå¨æ¥ï¼è¯´ä»¥åå¨æ¥åçä¸å¥½ï¼è¦æ¹çãä½ çï¼å¨æ¥è¿ç§äºï¼åæèä¸åï¼æä¹åï¼å·®å«å¤§åï¼æå¯¹éä¹ååï¼æ²¡æï¼å¯¹å§ãå¦æä¸æ¥å°±æè¾è¿ç§äºï¼ä¸å®ä¼ææ¥éè®®ï¼å¯è½ä¼è¯´ä½ ä¸»æ¬¡ä¸åï¼é£ä¹å¤éè¦çäºä¸åï¼å±ç¶æ¥æè¾æä»¬åäºå¥½å å¹´çå¨æ¥ãæä»¥ï¼ç±»ä¼¼å¨æ¥è¿ç§æ²¡æå¯¹éä¹åçäºï¼åä¸ä¸è¦çæ¥åãç­ä½ å¯¹å¢éæååçææ§åä»¥åï¼ååã\n\n3. å¢éæ¹é¢ï¼åç»´ç¨³åä¼å\n\nå½æ¥å°ä¸ä¸ªæ°å¢éï¼ä¸å®æé¨åå¢éæåæ¯æµè§¦å¿çï¼æç«¯æåµä¸å¯è½ä¼åºç°ä¸éåï¼å¯¹çå¹²ãç©ºéåµåºè¯¥æåé¢è§å°è¿ç§æåµï¼åå¥½å¿çåå¤ãå¢éæ¹é¢ï¼åä¿æç¨³å®ï¼åäºè§£æ¯ä¸ªäººçä¼ç¼ºç¹ï¼è¯å®åé¼å±ä»¥ååå¾çæç»©ãå¯¹å¢éæåï¼æå¥½æéå½çæå¯¼ï¼åè¯ä»ä»¬åªäºå·¥ä½æä¹åææ¯æ´å¥½çï¼è®©å¤§å®¶æåå°ä½ çå°æ¥æ¯å¯¹å¤§å®¶çæé¿æå¸®å©çãè¦å°½å¿«ä¸å¢éææä¸çï¼æ¯å¦èé¤ãæ½çï¼ä¸ç­åä¸èµ·ç©ç­ç­ï¼æ»ä¹è¦å¤è·ä»ä»¬äº¤æµï¼äºè§£ä»ä»¬çæ³æ³ã\n\nå¯¹äºé£äºä¸æ»¡è¶³ä½ è¦æ±çæåï¼åå¿ä¸è¦ä¸æ¥å°±çä¸ææï¼å½ä½ å¨å¢éç«è¶³æªç¨³åï¼æå¥½ä¸è¦åºç°å¢éæåæµå¤±ã\n\nå¯¹äºæ°çåéçè¡¥åï¼ç»§ç»­æ²¿ç¨ä¹åçç­ç¥åèå¥ï¼æç»­æèï¼ç­ä½ æå¤§çè§åæ¶ï¼åå å¤§æèååº¦ã\n\n\n# ç»æè¯­\n\nè´ªå©ªä¸ææ§ï¼æ¯äººæ§çä¸¤å¤§å¼±ç¹ãæ®éäººï¼é½å®³æååï¼å¯¹æªæ¥çä¸ç¡®å®æå°ææ§ãä¼ç§çäººï¼æ¥æ±ååï¼éåºååï¼\n\nèä¸çæ¶¯å åå¹´ï¼ä¼ç»åæ æ°çç©ºéåè¢«ç©ºéï¼å±ä»¬å¾å­¦ä¼æ­£ç¡®å¤çï¼\n\nå½æä¸å¤©ä½ æ¶æ¾å¥½ç©åï¼åå¤ç¦»å¼ä¸å®¶å¬å¸æ¶ï¼ä½ è½å¸¦èµ°çï¼é¤äºé¶è¡å¡ä¸çæ°å­åæ»¡å¤´ä¸ä¸é¶åå¤ï¼æå®è´µçå°±æ¯ç»ååç§äºæç»å°±çä¸èº«æ¬é¢ï¼",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å¯¹äºä¸å¯¹äºº vs å¯¹äººä¸å¯¹äº",frontmatter:{title:"å¯¹äºä¸å¯¹äºº vs å¯¹äººä¸å¯¹äº",date:"2022-12-09T20:01:55.000Z",permalink:"/pages/74395b/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/07.%E5%AF%B9%E4%BA%8B%E4%B8%8D%E5%AF%B9%E4%BA%BA%20vs%20%E5%AF%B9%E4%BA%BA%E4%B8%8D%E5%AF%B9%E4%BA%8B.html",relativePath:"10.éææ¯/07.å¯¹äºä¸å¯¹äºº vs å¯¹äººä¸å¯¹äº.md",key:"v-6bbf2d35",path:"/pages/74395b/",headersStr:null,content:"ä¸ç®¡å¯¹äºä¸å¯¹äººï¼è¿æ¯å¯¹äººä¸å¯¹äºï¼é½æ¯èç¦æç»´ãç®ææ¨¡å¼ãäºæé£ä¹è´è´£ï¼äººå¿é£ä¹é¾ä»¥çéï¼æç§çä¸è¿æ¥ï¼é£æå°±åªçææææ¡æéè§çé£ä¸ç¹ãæè°å¯¹äºä¸å¯¹äººï¼å°±æ¯ä¸ç®¡äººçå¥½åï¼åªçäºçå¯¹éãæè°å¯¹äººä¸å¯¹äºï¼å°±æ¯ä¸ç®¡äºçå¯¹éï¼åªçäººçå¥½åãèç¦äºä¸å¤ï¼å°±ä¼æ¾æå¦å¤ä¸å¤ã\n\nå¯¹äºä¸å¯¹äººæ¯ä¸ç§æç«¯ç°å®ä¸»ä¹çæåº¦ï¼æç°å¨ä¸å®æ¸è¡æ¸è¿ï¼æ¯å ä¸ºåç°å®è¡¨é¢ä¸ä¸»å¼ å®¢è§å¬æ­£ï¼å®éä¸å¯¹åºçç­ææºä¼ä¸»ä¹ãä½ ä¸ç®¡ä»æ¯å¥½äººåäººï¼ä½ åªç®¡ä»åçäºä½ è®¤ä¸è®¤å¯ï¼çº¦ç­äºåªç®¡ä½ ä¸ä»å¨è¿ä»¶äºä¸çå©çæ¯å¦å¼å®¹ãå¦æè®¤å¯ï¼å¦æå¼å®¹ï¼ä½ ä»¬å°±ç»æåè·¯äººï¼å¾åä¸èµ·èµ°æ®µè·¯ãä½å¯¹äºä¸å¯¹äººæä¸ªé®é¢ãè½ç¶åçäºè¡¨é¢ä¸æ ·ï¼ä½åäºçé£äºä¸ªäººåé©±å¨ä»ä»¬çé»è¾å®å¨ä¸åï¼å°æ¥çåæä¹ä¸ä¸æ ·ãåæ ·æ¯å»å¥èº«æ¿ï¼æäººå»é»ç¼ï¼æäººä»ä»å»æ´æ¾¡ã\n\nå¦ææå¯¹äºä¸å¯¹äººè¿ä»¶äºæ³éäºï¼å¶å®ä¹è½å¿å®ï¼è½ä¸èµ·èµ°ä¸æ®µå°±èµ°ä¸æ®µï¼è½èµ°å¤è¿é£è¦çä¸ä¸ä»¶äºå°æ¥çæ¶åï¼ä½ ä»¬æ¯ä¸æ¯è¿è®¤å¯çæ³ï¼å¼å®¹å©çãè¿æ®µè·¯ä¸èµ·èµ°ä¹å¥½ï¼å°ä¸ä¸ä¸ªè·¯å£ç¸äºæåä¹ç½¢ï¼Itâs business, nothing personalãé½æ¯å¨åè¨åï¼æ²¡æä¸ªäººæ©æ¨ï¼å¤§å®¶éæ¶æ­ä¼ï¼éæ¶æä¼ï¼è°ä¹å«å¤æ³ã\n\nç¸æ¯ä¹ä¸ï¼å¯¹äººä¸å¯¹äºä¸å¶è¯´æ¯ä¸ç§ç­ç¥ï¼ä¸å¦è¯´æ¯ä¸ç§æ¿æãå®å¸æå¨å½¢å½¢è²è²çè§ç¹åæææ»æ»çå©çä¸é¢ï¼äººè¿æä¸ªæ¬è²ï¼èæ¬è²æ¯è§ç¹åå©çæ´é å¾ä½ãè§ç¹å¯è½ä¸æ¶ç³æ¶ï¼å©çå¯è½ææ¶åå²ï¼ä½åºå±è¿æ¯åä¸ä¸ªäººï¼èè¿ä¸ªäººæ¯å¯ä»¥ä¿¡èµçã\n\nä½ å¯¹äºæ²¡ä¿¡å¿ï¼ä½å¯¹ä»è¿ä¸ªäººæä¿¡å¿ãä½ è·ä»æäº¤éï¼è¯å®å¾ä¸äºæ»¡åï¼ä½ ä¸ä»ä¸ä¸å®æ¯ä¸ªè§ç¹é½ç¸äºè®¤å¯ï¼æ¯ä»¶äºé½å©çä¸è´ï¼ä½ä½ ä¹åäºä¸å°åªéå»ãè·å¯¹äºä¸å¯¹äººé£ä¸æ´¾ä¸åï¼é£ä¸æ´¾æ¯è¿ä¸è·¯100åï¼ä¸ä¸ç¨æä¸å¥½å°±æ¯0åï¼å¯¹äººä¸å¯¹äºï¼å¦æä½ å¹¸è¿éå°äºå¯¹çäººï¼å¾ä¸å°æ»¡åï¼ä½ä¹æ°¸è¿å¾ä¸å°0åã\n\næä»¥è·å¸¸è¯ç¸åï¼å¯¹äºä¸å¯¹äººä¸æ¯ä»ä¹å¬æ­£æ åï¼èæ¯æºä¼ä¸»ä¹ï¼å¯¹äººä¸å¯¹äºä¹ä¸æ¯ä»ä¹è£å¸¦ä¸»ä¹ï¼èå±äºé£ç§å¯¹äººè¿èæä¸ä¸å¤©çï¼èµ·ç è¿æä¸äºçæå®æã\n\nå¯¹äººä¸å¯¹äºè¿ä»¶äºå³é®æ¯å¾çåäººï¼å¯¹äººä¸å¯¹äºè¿ä¸æ´¾çæ­»ç©´å°±æ¯çä¸åäººãè¦æ¯ä½ å¯¹äººä¸å¯¹äºï¼éå°çä»å´æ¯å¯¹äºä¸å¯¹äººï¼ç»æå°±æ¯ä½ æäººåäºé½è¾æäºã\n\nå¯¹äºä¸å¯¹äººä¹æä»¥çè¡ï¼åå å°±å¨äºå®è¿ä¸ªæ¨¡æ¿å®¹ææä½ãä¸è®¡è¿å¾ï¼ä¸æ³å°æ¥ï¼åªè§æµç¼ä¸çå¯è§å¯çä¸è¥¿ãå¯¹äººä¸å¯¹äºåæ²¡ææ¨¡æ¿ï¼é¾ä»¥æä½ï¼çäººåï¼çè¿æ°ã\n\nå¦æè¿æ°å¥½ï¼å·²ç»ä¸å¼å¾ä½ è·ä»å¯¹äººä¸å¯¹äºçäººç¸éï¼è¦ç¹å«çæãåªæä½ åä»é½æ¯å¯¹äººä¸å¯¹äºï¼ä½ ä»¬æè½ç¸äºè°è§£ï¼ä¸è¢«æè§åæ­§åå©çåå²å·¦å³ï¼èµ°ä¸å±åç¹ççé¿è·¯ãè¿ç§ééå¯éä¸å¯æ±ï¼åä¸çæã\n\nå¨å¯¹äººä¸å¯¹äºï¼ä¸å¯¹äºä¸å¯¹äººä¹é´ï¼æéæ©å¯¹äººä¸å¯¹äºï¼ä½ å¢ï¼",normalizedContent:"ä¸ç®¡å¯¹äºä¸å¯¹äººï¼è¿æ¯å¯¹äººä¸å¯¹äºï¼é½æ¯èç¦æç»´ãç®ææ¨¡å¼ãäºæé£ä¹è´è´£ï¼äººå¿é£ä¹é¾ä»¥çéï¼æç§çä¸è¿æ¥ï¼é£æå°±åªçææææ¡æéè§çé£ä¸ç¹ãæè°å¯¹äºä¸å¯¹äººï¼å°±æ¯ä¸ç®¡äººçå¥½åï¼åªçäºçå¯¹éãæè°å¯¹äººä¸å¯¹äºï¼å°±æ¯ä¸ç®¡äºçå¯¹éï¼åªçäººçå¥½åãèç¦äºä¸å¤ï¼å°±ä¼æ¾æå¦å¤ä¸å¤ã\n\nå¯¹äºä¸å¯¹äººæ¯ä¸ç§æç«¯ç°å®ä¸»ä¹çæåº¦ï¼æç°å¨ä¸å®æ¸è¡æ¸è¿ï¼æ¯å ä¸ºåç°å®è¡¨é¢ä¸ä¸»å¼ å®¢è§å¬æ­£ï¼å®éä¸å¯¹åºçç­ææºä¼ä¸»ä¹ãä½ ä¸ç®¡ä»æ¯å¥½äººåäººï¼ä½ åªç®¡ä»åçäºä½ è®¤ä¸è®¤å¯ï¼çº¦ç­äºåªç®¡ä½ ä¸ä»å¨è¿ä»¶äºä¸çå©çæ¯å¦å¼å®¹ãå¦æè®¤å¯ï¼å¦æå¼å®¹ï¼ä½ ä»¬å°±ç»æåè·¯äººï¼å¾åä¸èµ·èµ°æ®µè·¯ãä½å¯¹äºä¸å¯¹äººæä¸ªé®é¢ãè½ç¶åçäºè¡¨é¢ä¸æ ·ï¼ä½åäºçé£äºä¸ªäººåé©±å¨ä»ä»¬çé»è¾å®å¨ä¸åï¼å°æ¥çåæä¹ä¸ä¸æ ·ãåæ ·æ¯å»å¥èº«æ¿ï¼æäººå»é»ç¼ï¼æäººä»ä»å»æ´æ¾¡ã\n\nå¦ææå¯¹äºä¸å¯¹äººè¿ä»¶äºæ³éäºï¼å¶å®ä¹è½å¿å®ï¼è½ä¸èµ·èµ°ä¸æ®µå°±èµ°ä¸æ®µï¼è½èµ°å¤è¿é£è¦çä¸ä¸ä»¶äºå°æ¥çæ¶åï¼ä½ ä»¬æ¯ä¸æ¯è¿è®¤å¯çæ³ï¼å¼å®¹å©çãè¿æ®µè·¯ä¸èµ·èµ°ä¹å¥½ï¼å°ä¸ä¸ä¸ªè·¯å£ç¸äºæåä¹ç½¢ï¼itâs business, nothing personalãé½æ¯å¨åè¨åï¼æ²¡æä¸ªäººæ©æ¨ï¼å¤§å®¶éæ¶æ­ä¼ï¼éæ¶æä¼ï¼è°ä¹å«å¤æ³ã\n\nç¸æ¯ä¹ä¸ï¼å¯¹äººä¸å¯¹äºä¸å¶è¯´æ¯ä¸ç§ç­ç¥ï¼ä¸å¦è¯´æ¯ä¸ç§æ¿æãå®å¸æå¨å½¢å½¢è²è²çè§ç¹åæææ»æ»çå©çä¸é¢ï¼äººè¿æä¸ªæ¬è²ï¼èæ¬è²æ¯è§ç¹åå©çæ´é å¾ä½ãè§ç¹å¯è½ä¸æ¶ç³æ¶ï¼å©çå¯è½ææ¶åå²ï¼ä½åºå±è¿æ¯åä¸ä¸ªäººï¼èè¿ä¸ªäººæ¯å¯ä»¥ä¿¡èµçã\n\nä½ å¯¹äºæ²¡ä¿¡å¿ï¼ä½å¯¹ä»è¿ä¸ªäººæä¿¡å¿ãä½ è·ä»æäº¤éï¼è¯å®å¾ä¸äºæ»¡åï¼ä½ ä¸ä»ä¸ä¸å®æ¯ä¸ªè§ç¹é½ç¸äºè®¤å¯ï¼æ¯ä»¶äºé½å©çä¸è´ï¼ä½ä½ ä¹åäºä¸å°åªéå»ãè·å¯¹äºä¸å¯¹äººé£ä¸æ´¾ä¸åï¼é£ä¸æ´¾æ¯è¿ä¸è·¯100åï¼ä¸ä¸ç¨æä¸å¥½å°±æ¯0åï¼å¯¹äººä¸å¯¹äºï¼å¦æä½ å¹¸è¿éå°äºå¯¹çäººï¼å¾ä¸å°æ»¡åï¼ä½ä¹æ°¸è¿å¾ä¸å°0åã\n\næä»¥è·å¸¸è¯ç¸åï¼å¯¹äºä¸å¯¹äººä¸æ¯ä»ä¹å¬æ­£æ åï¼èæ¯æºä¼ä¸»ä¹ï¼å¯¹äººä¸å¯¹äºä¹ä¸æ¯ä»ä¹è£å¸¦ä¸»ä¹ï¼èå±äºé£ç§å¯¹äººè¿èæä¸ä¸å¤©çï¼èµ·ç è¿æä¸äºçæå®æã\n\nå¯¹äººä¸å¯¹äºè¿ä»¶äºå³é®æ¯å¾çåäººï¼å¯¹äººä¸å¯¹äºè¿ä¸æ´¾çæ­»ç©´å°±æ¯çä¸åäººãè¦æ¯ä½ å¯¹äººä¸å¯¹äºï¼éå°çä»å´æ¯å¯¹äºä¸å¯¹äººï¼ç»æå°±æ¯ä½ æäººåäºé½è¾æäºã\n\nå¯¹äºä¸å¯¹äººä¹æä»¥çè¡ï¼åå å°±å¨äºå®è¿ä¸ªæ¨¡æ¿å®¹ææä½ãä¸è®¡è¿å¾ï¼ä¸æ³å°æ¥ï¼åªè§æµç¼ä¸çå¯è§å¯çä¸è¥¿ãå¯¹äººä¸å¯¹äºåæ²¡ææ¨¡æ¿ï¼é¾ä»¥æä½ï¼çäººåï¼çè¿æ°ã\n\nå¦æè¿æ°å¥½ï¼å·²ç»ä¸å¼å¾ä½ è·ä»å¯¹äººä¸å¯¹äºçäººç¸éï¼è¦ç¹å«çæãåªæä½ åä»é½æ¯å¯¹äººä¸å¯¹äºï¼ä½ ä»¬æè½ç¸äºè°è§£ï¼ä¸è¢«æè§åæ­§åå©çåå²å·¦å³ï¼èµ°ä¸å±åç¹ççé¿è·¯ãè¿ç§ééå¯éä¸å¯æ±ï¼åä¸çæã\n\nå¨å¯¹äººä¸å¯¹äºï¼ä¸å¯¹äºä¸å¯¹äººä¹é´ï¼æéæ©å¯¹äººä¸å¯¹äºï¼ä½ å¢ï¼",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å³äº",frontmatter:{title:"å³äº",date:"2019-12-25T14:27:01.000Z",permalink:"/about",sidebar:!1,article:!1},regularPath:"/15.%E5%85%B3%E4%BA%8E/01.%E5%85%B3%E4%BA%8E.html",relativePath:"15.å³äº/01.å³äº.md",key:"v-918dfaf8",path:"/about/",headers:[{level:2,title:"ðBlog",slug:"ðblog",normalizedTitle:"ðblog",charIndex:2},{level:2,title:"â¡ åé¦ä¸äº¤æµ",slug:"â¡-åé¦ä¸äº¤æµ",normalizedTitle:"â¡ åé¦ä¸äº¤æµ",charIndex:27},{level:2,title:"ð¼Me",slug:"ð¼me",normalizedTitle:"ð¼me",charIndex:156},{level:3,title:"æè½",slug:"æè½",normalizedTitle:"æè½",charIndex:177},{level:2,title:"Javaå­¦ä¹ ",slug:"javaå­¦ä¹ ",normalizedTitle:"javaå­¦ä¹ ",charIndex:14},{level:2,title:"âï¸ èç³»",slug:"èç³»",normalizedTitle:"âï¸ èç³»",charIndex:345}],headersStr:"ðBlog â¡ åé¦ä¸äº¤æµ ð¼Me æè½ Javaå­¦ä¹  âï¸ èç³»",content:"# ðBlog\n\nè¿æ¯ä¸ä¸ªJavaå­¦ä¹ ç½ç«\n\n\n# â¡ åé¦ä¸äº¤æµ\n\næç« åå®¹ä»æ¯æä¸ªäººçå°æ»ç»ï¼èµåå°æµï¼å¦æè¯¯è¿è¯·ææ­£ã\n\nå¨ä½¿ç¨è¿ç¨ä¸­æä»»ä½é®é¢åæ³æ³ï¼ä½ å¯ä»¥ï¼\n\n * ç»ææ Issueã\n\nä½ ä¹å¯ä»¥å¨Issueæ¥çå«äººæçé®é¢åç»åºè§£å³æ¹æ¡ã\n\n * æ³JavaDriverç¤¾åº\n\næ´æ°æ¥å¿\n\n\n# ð¼Me\n\nè¥¿äºæJavaèå¸æº\n\n\n# æè½\n\n * çæ SpringBootãMybatisãNettyãKafka çæ¼å\n * äºè§£ LinuxãwindowsãmacOS çå¼å³æºæ¹å¼\n * ç²¾é Git ç pull å pushï¼å¹¶æ³¨åäº GitHub å¸å·å·äºä¸äº star\n\n\n# Javaå­¦ä¹ \n\n\nå³æ³¨å¬ä¼å·ï¼åå¤åç«¯èµæºï¼å³å¯è·åå­¦ä¹ èµæºä¸ä»½ã\n\n\n# âï¸ èç³»\n\n * WeChat or QQ: {{ QQ }}\n * Email: 854818303@qq.com\n * GitHub: https://github.com/AdmireAn/JavaDriver",normalizedContent:"# ðblog\n\nè¿æ¯ä¸ä¸ªjavaå­¦ä¹ ç½ç«\n\n\n# â¡ åé¦ä¸äº¤æµ\n\næç« åå®¹ä»æ¯æä¸ªäººçå°æ»ç»ï¼èµåå°æµï¼å¦æè¯¯è¿è¯·ææ­£ã\n\nå¨ä½¿ç¨è¿ç¨ä¸­æä»»ä½é®é¢åæ³æ³ï¼ä½ å¯ä»¥ï¼\n\n * ç»ææ issueã\n\nä½ ä¹å¯ä»¥å¨issueæ¥çå«äººæçé®é¢åç»åºè§£å³æ¹æ¡ã\n\n * æ³javadriverç¤¾åº\n\næ´æ°æ¥å¿\n\n\n# ð¼me\n\nè¥¿äºæjavaèå¸æº\n\n\n# æè½\n\n * çæ springbootãmybatisãnettyãkafka çæ¼å\n * äºè§£ linuxãwindowsãmacos çå¼å³æºæ¹å¼\n * ç²¾é git ç pull å pushï¼å¹¶æ³¨åäº github å¸å·å·äºä¸äº star\n\n\n# javaå­¦ä¹ \n\n\nå³æ³¨å¬ä¼å·ï¼åå¤åç«¯èµæºï¼å³å¯è·åå­¦ä¹ èµæºä¸ä»½ã\n\n\n# âï¸ èç³»\n\n * wechat or qq: {{ qq }}\n * email: 854818303@qq.com\n * github: https://github.com/admirean/javadriver",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"å³äºå¦ä½åOKR",frontmatter:{title:"å³äºå¦ä½åOKR",date:"2022-12-09T20:03:06.000Z",permalink:"/pages/6ac68e/",categories:["éææ¯"],tags:[null]},regularPath:"/10.%E9%9D%9E%E6%8A%80%E6%9C%AF/08.%E5%85%B3%E4%BA%8E%E5%A6%82%E4%BD%95%E5%86%99OKR.html",relativePath:"10.éææ¯/08.å³äºå¦ä½åOKR.md",key:"v-286c1812",path:"/pages/6ac68e/",headers:[{level:2,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:2},{level:2,title:"æåéä¼çCase",slug:"æåéä¼çcase",normalizedTitle:"æåéä¼çcase",charIndex:109},{level:2,title:"åå¢éå¦ä½åOKR",slug:"åå¢éå¦ä½åokr",normalizedTitle:"åå¢éå¦ä½åokr",charIndex:865},{level:2,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:1354}],headersStr:"åè¨ æåéä¼çCase åå¢éå¦ä½åOKR å¶ä»",content:"# åè¨\n\næ¥è§¦OKRæå å¹´äºï¼å¯¹æèªå·±æ¥è¯´ï¼æ¯ä¸ªå­£åº¦æåæé½ä¼åOKRï¼ä¹çäºæ æ°æ¬¡å«äººåçOKRï¼ä½æä¸ç´æ²¡å®å¨ææè¯¥æä¹å»åOKRï¼æä»¥ææ¯æ¬¡åçOKRé½ä¸ä¸æ ·ãæè¿ï¼æåææ°çè®¤è¯äºï¼ç¨ä¸æè®°å½ä¸æ¥ã\n\n\n# æåéä¼çCase\n\nåæ¥ä¸ªæäºå§ãæäºä¸»äººç¿å«Xå§ï¼åè®¾å¥¹å¨å¬å¸èº«å±é«ä½ï¼äºä¸ææï¼å®¶åº­åç¦ï¼æèå¬æå¥³å¿ãXå§ç»èªå·±å®äºä¸ªç®æ ï¼40å²è´¢å¡èªç±ï¼æåéä¼ã\n\nä¸èµ·åæä¸ï¼è´¢å¡èªç±åï¼å°±è½éä¼äºãä½è¦å®ç°è´¢å¡èªç±ï¼éè¦æä¸å¤§ç¬é±ï¼å¹¶ä¸æèµçè´¢çè¢«å¨æ¶å¥å¤§äºæ¥å¸¸å¼éï¼è¿éè¦å®¶åº­ç¨³åºï¼è½æµå¾¡å®¶åº­é£é©ï¼æ¯å¦å®¶äººçå¤§çç­ã\n\nå¯ä»¥è½»æååºOKRæ¥ï¼\n\nObjectiveï¼40å²è´¢å¡èªç±ï¼æåéä¼\n\nKR1. èµé±ï¼èµå°xåä¸ï¼æxäº¿ï¼\n\nKR2. å­¦ä¹ çè´¢ï¼å¹³åå¹´åæ¶çè¾¾å° y%\n\nKR3. å®¶åº­ç¨³åºï¼è½æµå¾¡é£é©\n\nKR1åKR2ï¼Xå§èªå·±å°±è½æå®ï¼ä½KR3éè¦å®¶åº­æåéåãæ¥ä¸æ¥ï¼å¯ä»¥æKR3æè§£æè¯¦ç»çTodo listï¼æèææå°ç®æ ï¼å¯ä»¥ä¸ºæ¯ä¸ªå®¶åº­æåå¶å®ä¸ä¸ªå°ç®æ ï¼ä¹å¯ä»¥åæOKRã\n\nä¾å¦ï¼Xå§ç¶æ¯(ä¸æç§°ä¸ºèäºº)çOKRå¯ä»¥è¿ä¹åï¼\n\nObjectiveï¼ä¿æèº«ä½å¥åº·ï¼åå°çå¤§ççå ç\n\nKR1. æ¯å¤©é»ç¼èº«ä½ä¸ä¸ªå°æ¶\n\nKR2. æ¯å¹´å®æä½æ£\n\nKR3. éç½®åéçä¿é©ï¼æ¯å¦éç¾é©ç­\n\nå¦ä¸ï¼è¿ä¹åOKRï¼ä¼¼ä¹å°±æ¯æä»¬å¿ç®ä¸­ççæ³OKRã\n\nè¿ä¸ªCaseä¸­ï¼Xå§æ¯ä¸å¡æ¹ï¼ä¿©èäººå¶å®æ¯æ¯ææ¹ï¼æ¯æXå§çä¸å¡ï¼åè®¾æ²¡æä»ä»¬çæ¯æï¼Xå§çç®æ å¯è½å®ç°ä¸äºã\n\né®é¢æ¥äºï¼è¯·é®èäººçç®æ æ¯â40å²è´¢å¡èªç±ï¼æåéä¼âåï¼å¾ææ¾ä¸æ¯ï¼é£ä»ä»¬éè¦å¯¹Xå§çç®æ è´è´£åï¼ä¹ä¸ç¨ï¼ä»ä»¬åªéè¦èªå·±èº«ä½å¥åº·å°±è¡äºï¼è³äºXå§è½å¦å®ç°è´¢å¡èªç±ï¼ä»ä»¬ä¸ç¨è´è´£ï¼ä¹å³å®ä¸äºãä¹å°±æ¯è¯´ï¼OKRä¸­ï¼ä½ è¦å¯¹Objectiveè´è´£ï¼\n\nè¯·é®ï¼èäººçOå¯ä»¥å®æå±å»ºè´¢å¡èªç±ç®æ åï¼ä¾å¦ï¼Objectiveï¼ãä¸å¥³å¿(ä¸å¡æ¹)å±å»ºã40å²è´¢å¡èªç±ï¼æåéä¼ãç­ï¼ä¼¼ä¹å¯ä»¥è¿ä¹åï¼ä½æ¯æç¹çµå¼ºï¼è¿ä¹åï¼ææ¡ç¡®å®éå¸¸æ¼äº®ã\n\n\n# åå¢éå¦ä½åOKR\n\nä¸è¿°ä¾å­ä¸­ï¼Xå§å±äºä¸å¡æ¹ï¼ä¸å¡å¢éï¼èäººå±äºæ¯ææ¹ï¼æ¯æå¢éãæ¯ä¸ªä¸å¡æ¹çæ¯æå¢éå¯è½æNä¸ªï¼æ¯ä¸ªæ¯æå¢éå¯è½æ¯æNä¸ªä¸å¡æ¹ã\n\næä»¬è½çå°å¦ä¸äºå®ï¼\n\n 1. ä¸å¡æ¹è½æ¸æ°å¶å®åºç®æ å¹¶æè§£\n 2. æ¯ææ¹å¿é¡»ä¾èµä¸å¡æ¹æè§£çå°ç®æ \n\næ¢å¥è¯è¯´ï¼æ¯ææ¹çç®æ å¯ç¨ä¸å¥è¯æ¥æ»ç»ï¼æ¯æä¸å¡å¢éçå·¥ä½\n\nç»¼ä¸ï¼OKRæ°åçè¿ç¨æ¯ï¼\n\nç¬¬1æ­¥ï¼ä¸å¡æ¹å¶å®ä¸å¡ç®æ ï¼æ°åOKRï¼å¹¶æè§£æåä¸ªæ¯ææ¹çå°ç®æ \n\nç¬¬2æ­¥ï¼æ¯ææ¹æ ¹æ®å°ç®æ å¶å®OKRï¼å¹¶è¿ä¸æ­¥æè§£ææ´å°çç®æ ï¼ç»ä¸æ¸¸æ¯ææ¹\n\nç¬¬3æ­¥ï¼ä¸æ¸¸æ¯ææ¹éå¤ç¬¬2æ­¥ï¼å±å±æè§£ï¼ç´å°å¨é¨æè§£å®æ\n\nï¼å½ç¶ï¼å¨è¿ä¸ªè¿ç¨ä¸­ï¼ä¸å¡æ¹ä¸æ¯ææ¹ãæ¯ææ¹ä¸ä¸æ¸¸æ¯ææ¹éè¦æåæ²éï¼çç¹èµæºï¼ççç®æ è½å¦å®ç°ï¼è¥ä¸è½ï¼å¯è½ä¼çº æ­£ç®æ ãä¸å¡ç®æ ï¼å¯ä»¥æ¯èæ¿æå®ï¼ä¹å¯ä»¥æ¯é¨é¨è´è´£äººé«ç»è¿ç©å¶å®ï¼ä¹å¯ä»¥æ¯æ¶éé¨é¨åå¤§å®¶çæè§åå³å®ï¼è¿æ¯å¦å¤ä¸ªè¯é¢ï¼æ¬æä¸åè®¨è®ºï¼\n\nä»¥å±ä»¬æå±çè¿è¥ç åé¨ä¸ºä¾ï¼æ¥ççåä¸ªå¢éå¦ä½åOKRãä¸ºäºç®åæ¨¡åï¼åè®¾åªæè¿è¥é¨ä¸ä¸ªä¸å¡æ¹ï¼å®éä¸æå¾å¤ä¸ªï¼ã\n\nåæ¹å³ç³»å¦ä¸å¾ï¼\n\n\n\nä¸å¡æ¹åªæä¸ä¸ªï¼è¿è¥ã\n\nå¶ä»å¢éï¼äº§åãè®¾è®¡ãåç«¯ãåç«¯ãQAãæ°æ®ç­å¢éï¼å¶å®é½æ¯æ¯ææ¹ãä½ç±äºäº§åæ¯ä¸å¡æ¹çæ¥å£äººï¼ä¼æ ¹æ®ä¸å¡éæ±æ¥è®¾è®¡äº§åååï¼æä¼åçº§ï¼æä»¥äº§åå±äºä¸çº§æ¯ææ¹ãè®¾è®¡ãååç«¯ãQAãæ°æ®ç­å¢éå±äºäºçº§æ¯ææ¹ï¼æ¯æäº§åå¢éçå·¥ä½ãä¹æä¸çº§æ¯ææ¹ï¼æ¯å¦è¿ç»´ãè¡æ¿ãHRç­å¢éã\n\nå¯¹äºæ¯ææ¹æ¥è¯´ï¼é¤äºæ¯æä¸å¡åå±ï¼ä¹æäºèªèº«è½åå»ºè®¾çå·¥ä½ï¼æ¯å¦å¢éå»ºè®¾ãæå¡çæ§ãæ§è½ä¼åãä¸­å°æ½è±¡ç­ç­ï¼è¿äºå·¥ä½æ¯æ¯ææ¹ä¸»Rï¼å¨è¿äºäºä¸ï¼æ¯ææ¹èªå·±å°±æäºä¸å¡æ¹ï¼éè¦ä¸æ¸¸å¢éçæ¯æã\n\næäºå¯¹åå¢éå³ç³»ççè§£ï¼OKRå°±æ¯è¾å¥½åäºï¼æ¨¡æ¿ç¤ºä¾å¦ä¸ï¼\n\nè¿è¥OKRï¼\n\nO1. æåæ¹ï¼åæ¹åçææ´»å¢é¿xxx\n\nO2. ææ¨å¹¿ï¼åªä½æåå¢å yyy\n\nO3. ä¿çäº§ï¼çäº§èäº§éæåzzz\n\näº§åOKRï¼\n\nO1. æ¯æè¿è¥å¢éå·¥ä½\n\nO2. ç°æäº§åä¼å\n\nO3. å¢éå»ºè®¾\n\nåç åå¢éOKRï¼\n\nO1. æ¯æäº§åå¢éå·¥ä½\n\nO2. ç³»ç»ä¼åï¼æåæå¡é²æ£æ§\n\nO3. å¢éå»ºè®¾\n\nè®¾è®¡å¢éOKRï¼\n\nO1. æ¯æäº§åå¢éå·¥ä½\n\nO2. å¢éå»ºè®¾\n\nä¸é¢æ¯ä»¥è¿è¥ç åé¨ä¸ºä¾ï¼å¶ä»å¢éä¾ç¶éç¨ä¸è¿°æ¨¡åã\n\n\n# å¶ä»\n\næäºä¸è¿°çå»ºæ¨¡ï¼å¾å¤é®é¢å°±æ¯è¾å¥½åç­äºã\n\n\\1. OKRå¯ä¸å¯ä»¥æ¹ï¼\n\nç­ï¼ä¸å°äººè®¤ä¸ºOKRæ¯ä¸¥èä¸å¯ä»¥æ´æ¹çï¼å¶å®ä¸ç¶ãå¯¹äºä¸å¡æ¹ï¼å¶å®ä¸å¡ç®æ ï¼å°±åºè¯¥å¨åä»¥èµ´å»å®ç°ï¼æ ¹æ®å®éæåµéæè°æ´ï¼å¯¹äºæ¯æå¢éï¼ä¸å¡ç®æ åäºï¼å°±åºè¯¥ç«å»ååï¼èä¸æ¯è®¤æ­»çï¼è®¤ä¸ºè¯¥ä¸æä¸åã\n\n\\2. OKRä¸­âæ¯æxxå¢éå·¥ä½âï¼ä¸å¥½å¬ï¼ä¸å¥½çï¼å¯¹å¢éæåå¿çå¯è½æå½±åï¼æä¹åï¼\n\nç­ï¼ææ¡ä¸ç¾åä¸ï¼å»ºè®®æä¸å¡æ¹æè§£åºæ¥çå°ç®æ ä½ä¸ºOï¼æèæä¸å¡ç®æ å¤å¶è¿æ¥ï¼å ä¸ãä¸ä¸å¡å±å»ºãææ¡ãä½æ è®ºæä¹ä¼åææ¡ï¼æ¬è´¨ä¸æ¯æã\n\n\\3. ç åå¢éé¾éé½æ¯æ¯æå¢éåï¼\n\nç­ï¼ä¸æ¯ãé£æ§ãæ¨èç­å¢éå¯¹ä¸å¡ç»æè´è´£ï¼ä»ä»¬èªèº«å°±æ¯ä¸å¡å¢éã",normalizedContent:"# åè¨\n\næ¥è§¦okræå å¹´äºï¼å¯¹æèªå·±æ¥è¯´ï¼æ¯ä¸ªå­£åº¦æåæé½ä¼åokrï¼ä¹çäºæ æ°æ¬¡å«äººåçokrï¼ä½æä¸ç´æ²¡å®å¨ææè¯¥æä¹å»åokrï¼æä»¥ææ¯æ¬¡åçokré½ä¸ä¸æ ·ãæè¿ï¼æåææ°çè®¤è¯äºï¼ç¨ä¸æè®°å½ä¸æ¥ã\n\n\n# æåéä¼çcase\n\nåæ¥ä¸ªæäºå§ãæäºä¸»äººç¿å«xå§ï¼åè®¾å¥¹å¨å¬å¸èº«å±é«ä½ï¼äºä¸ææï¼å®¶åº­åç¦ï¼æèå¬æå¥³å¿ãxå§ç»èªå·±å®äºä¸ªç®æ ï¼40å²è´¢å¡èªç±ï¼æåéä¼ã\n\nä¸èµ·åæä¸ï¼è´¢å¡èªç±åï¼å°±è½éä¼äºãä½è¦å®ç°è´¢å¡èªç±ï¼éè¦æä¸å¤§ç¬é±ï¼å¹¶ä¸æèµçè´¢çè¢«å¨æ¶å¥å¤§äºæ¥å¸¸å¼éï¼è¿éè¦å®¶åº­ç¨³åºï¼è½æµå¾¡å®¶åº­é£é©ï¼æ¯å¦å®¶äººçå¤§çç­ã\n\nå¯ä»¥è½»æååºokræ¥ï¼\n\nobjectiveï¼40å²è´¢å¡èªç±ï¼æåéä¼\n\nkr1. èµé±ï¼èµå°xåä¸ï¼æxäº¿ï¼\n\nkr2. å­¦ä¹ çè´¢ï¼å¹³åå¹´åæ¶çè¾¾å° y%\n\nkr3. å®¶åº­ç¨³åºï¼è½æµå¾¡é£é©\n\nkr1åkr2ï¼xå§èªå·±å°±è½æå®ï¼ä½kr3éè¦å®¶åº­æåéåãæ¥ä¸æ¥ï¼å¯ä»¥ækr3æè§£æè¯¦ç»çtodo listï¼æèææå°ç®æ ï¼å¯ä»¥ä¸ºæ¯ä¸ªå®¶åº­æåå¶å®ä¸ä¸ªå°ç®æ ï¼ä¹å¯ä»¥åæokrã\n\nä¾å¦ï¼xå§ç¶æ¯(ä¸æç§°ä¸ºèäºº)çokrå¯ä»¥è¿ä¹åï¼\n\nobjectiveï¼ä¿æèº«ä½å¥åº·ï¼åå°çå¤§ççå ç\n\nkr1. æ¯å¤©é»ç¼èº«ä½ä¸ä¸ªå°æ¶\n\nkr2. æ¯å¹´å®æä½æ£\n\nkr3. éç½®åéçä¿é©ï¼æ¯å¦éç¾é©ç­\n\nå¦ä¸ï¼è¿ä¹åokrï¼ä¼¼ä¹å°±æ¯æä»¬å¿ç®ä¸­ççæ³okrã\n\nè¿ä¸ªcaseä¸­ï¼xå§æ¯ä¸å¡æ¹ï¼ä¿©èäººå¶å®æ¯æ¯ææ¹ï¼æ¯æxå§çä¸å¡ï¼åè®¾æ²¡æä»ä»¬çæ¯æï¼xå§çç®æ å¯è½å®ç°ä¸äºã\n\né®é¢æ¥äºï¼è¯·é®èäººçç®æ æ¯â40å²è´¢å¡èªç±ï¼æåéä¼âåï¼å¾ææ¾ä¸æ¯ï¼é£ä»ä»¬éè¦å¯¹xå§çç®æ è´è´£åï¼ä¹ä¸ç¨ï¼ä»ä»¬åªéè¦èªå·±èº«ä½å¥åº·å°±è¡äºï¼è³äºxå§è½å¦å®ç°è´¢å¡èªç±ï¼ä»ä»¬ä¸ç¨è´è´£ï¼ä¹å³å®ä¸äºãä¹å°±æ¯è¯´ï¼okrä¸­ï¼ä½ è¦å¯¹objectiveè´è´£ï¼\n\nè¯·é®ï¼èäººçoå¯ä»¥å®æå±å»ºè´¢å¡èªç±ç®æ åï¼ä¾å¦ï¼objectiveï¼ãä¸å¥³å¿(ä¸å¡æ¹)å±å»ºã40å²è´¢å¡èªç±ï¼æåéä¼ãç­ï¼ä¼¼ä¹å¯ä»¥è¿ä¹åï¼ä½æ¯æç¹çµå¼ºï¼è¿ä¹åï¼ææ¡ç¡®å®éå¸¸æ¼äº®ã\n\n\n# åå¢éå¦ä½åokr\n\nä¸è¿°ä¾å­ä¸­ï¼xå§å±äºä¸å¡æ¹ï¼ä¸å¡å¢éï¼èäººå±äºæ¯ææ¹ï¼æ¯æå¢éãæ¯ä¸ªä¸å¡æ¹çæ¯æå¢éå¯è½ænä¸ªï¼æ¯ä¸ªæ¯æå¢éå¯è½æ¯ænä¸ªä¸å¡æ¹ã\n\næä»¬è½çå°å¦ä¸äºå®ï¼\n\n 1. ä¸å¡æ¹è½æ¸æ°å¶å®åºç®æ å¹¶æè§£\n 2. æ¯ææ¹å¿é¡»ä¾èµä¸å¡æ¹æè§£çå°ç®æ \n\næ¢å¥è¯è¯´ï¼æ¯ææ¹çç®æ å¯ç¨ä¸å¥è¯æ¥æ»ç»ï¼æ¯æä¸å¡å¢éçå·¥ä½\n\nç»¼ä¸ï¼okræ°åçè¿ç¨æ¯ï¼\n\nç¬¬1æ­¥ï¼ä¸å¡æ¹å¶å®ä¸å¡ç®æ ï¼æ°åokrï¼å¹¶æè§£æåä¸ªæ¯ææ¹çå°ç®æ \n\nç¬¬2æ­¥ï¼æ¯ææ¹æ ¹æ®å°ç®æ å¶å®okrï¼å¹¶è¿ä¸æ­¥æè§£ææ´å°çç®æ ï¼ç»ä¸æ¸¸æ¯ææ¹\n\nç¬¬3æ­¥ï¼ä¸æ¸¸æ¯ææ¹éå¤ç¬¬2æ­¥ï¼å±å±æè§£ï¼ç´å°å¨é¨æè§£å®æ\n\nï¼å½ç¶ï¼å¨è¿ä¸ªè¿ç¨ä¸­ï¼ä¸å¡æ¹ä¸æ¯ææ¹ãæ¯ææ¹ä¸ä¸æ¸¸æ¯ææ¹éè¦æåæ²éï¼çç¹èµæºï¼ççç®æ è½å¦å®ç°ï¼è¥ä¸è½ï¼å¯è½ä¼çº æ­£ç®æ ãä¸å¡ç®æ ï¼å¯ä»¥æ¯èæ¿æå®ï¼ä¹å¯ä»¥æ¯é¨é¨è´è´£äººé«ç»è¿ç©å¶å®ï¼ä¹å¯ä»¥æ¯æ¶éé¨é¨åå¤§å®¶çæè§åå³å®ï¼è¿æ¯å¦å¤ä¸ªè¯é¢ï¼æ¬æä¸åè®¨è®ºï¼\n\nä»¥å±ä»¬æå±çè¿è¥ç åé¨ä¸ºä¾ï¼æ¥ççåä¸ªå¢éå¦ä½åokrãä¸ºäºç®åæ¨¡åï¼åè®¾åªæè¿è¥é¨ä¸ä¸ªä¸å¡æ¹ï¼å®éä¸æå¾å¤ä¸ªï¼ã\n\nåæ¹å³ç³»å¦ä¸å¾ï¼\n\n\n\nä¸å¡æ¹åªæä¸ä¸ªï¼è¿è¥ã\n\nå¶ä»å¢éï¼äº§åãè®¾è®¡ãåç«¯ãåç«¯ãqaãæ°æ®ç­å¢éï¼å¶å®é½æ¯æ¯ææ¹ãä½ç±äºäº§åæ¯ä¸å¡æ¹çæ¥å£äººï¼ä¼æ ¹æ®ä¸å¡éæ±æ¥è®¾è®¡äº§åååï¼æä¼åçº§ï¼æä»¥äº§åå±äºä¸çº§æ¯ææ¹ãè®¾è®¡ãååç«¯ãqaãæ°æ®ç­å¢éå±äºäºçº§æ¯ææ¹ï¼æ¯æäº§åå¢éçå·¥ä½ãä¹æä¸çº§æ¯ææ¹ï¼æ¯å¦è¿ç»´ãè¡æ¿ãhrç­å¢éã\n\nå¯¹äºæ¯ææ¹æ¥è¯´ï¼é¤äºæ¯æä¸å¡åå±ï¼ä¹æäºèªèº«è½åå»ºè®¾çå·¥ä½ï¼æ¯å¦å¢éå»ºè®¾ãæå¡çæ§ãæ§è½ä¼åãä¸­å°æ½è±¡ç­ç­ï¼è¿äºå·¥ä½æ¯æ¯ææ¹ä¸»rï¼å¨è¿äºäºä¸ï¼æ¯ææ¹èªå·±å°±æäºä¸å¡æ¹ï¼éè¦ä¸æ¸¸å¢éçæ¯æã\n\næäºå¯¹åå¢éå³ç³»ççè§£ï¼okrå°±æ¯è¾å¥½åäºï¼æ¨¡æ¿ç¤ºä¾å¦ä¸ï¼\n\nè¿è¥okrï¼\n\no1. æåæ¹ï¼åæ¹åçææ´»å¢é¿xxx\n\no2. ææ¨å¹¿ï¼åªä½æåå¢å yyy\n\no3. ä¿çäº§ï¼çäº§èäº§éæåzzz\n\näº§åokrï¼\n\no1. æ¯æè¿è¥å¢éå·¥ä½\n\no2. ç°æäº§åä¼å\n\no3. å¢éå»ºè®¾\n\nåç åå¢éokrï¼\n\no1. æ¯æäº§åå¢éå·¥ä½\n\no2. ç³»ç»ä¼åï¼æåæå¡é²æ£æ§\n\no3. å¢éå»ºè®¾\n\nè®¾è®¡å¢éokrï¼\n\no1. æ¯æäº§åå¢éå·¥ä½\n\no2. å¢éå»ºè®¾\n\nä¸é¢æ¯ä»¥è¿è¥ç åé¨ä¸ºä¾ï¼å¶ä»å¢éä¾ç¶éç¨ä¸è¿°æ¨¡åã\n\n\n# å¶ä»\n\næäºä¸è¿°çå»ºæ¨¡ï¼å¾å¤é®é¢å°±æ¯è¾å¥½åç­äºã\n\n\\1. okrå¯ä¸å¯ä»¥æ¹ï¼\n\nç­ï¼ä¸å°äººè®¤ä¸ºokræ¯ä¸¥èä¸å¯ä»¥æ´æ¹çï¼å¶å®ä¸ç¶ãå¯¹äºä¸å¡æ¹ï¼å¶å®ä¸å¡ç®æ ï¼å°±åºè¯¥å¨åä»¥èµ´å»å®ç°ï¼æ ¹æ®å®éæåµéæè°æ´ï¼å¯¹äºæ¯æå¢éï¼ä¸å¡ç®æ åäºï¼å°±åºè¯¥ç«å»ååï¼èä¸æ¯è®¤æ­»çï¼è®¤ä¸ºè¯¥ä¸æä¸åã\n\n\\2. okrä¸­âæ¯æxxå¢éå·¥ä½âï¼ä¸å¥½å¬ï¼ä¸å¥½çï¼å¯¹å¢éæåå¿çå¯è½æå½±åï¼æä¹åï¼\n\nç­ï¼ææ¡ä¸ç¾åä¸ï¼å»ºè®®æä¸å¡æ¹æè§£åºæ¥çå°ç®æ ä½ä¸ºoï¼æèæä¸å¡ç®æ å¤å¶è¿æ¥ï¼å ä¸ãä¸ä¸å¡å±å»ºãææ¡ãä½æ è®ºæä¹ä¼åææ¡ï¼æ¬è´¨ä¸æ¯æã\n\n\\3. ç åå¢éé¾éé½æ¯æ¯æå¢éåï¼\n\nç­ï¼ä¸æ¯ãé£æ§ãæ¨èç­å¢éå¯¹ä¸å¡ç»æè´è´£ï¼ä»ä»¬èªèº«å°±æ¯ä¸å¡å¢éã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 17:03:51",lastUpdatedTimestamp:1676624631e3},{title:"ç½ç«",frontmatter:{title:"ç½ç«",permalink:"/pages/beb6c0bd8a66cea6",date:"2020-04-19T11:33:04.000Z",article:!1},regularPath:"/@pages/20.%E6%94%B6%E8%97%8F%E5%A4%B9/01.%E7%BD%91%E7%AB%99.html",relativePath:"@pages/20.æ¶èå¤¹/01.ç½ç«.md",key:"v-7ab50b9f",path:"/pages/beb6c0bd8a66cea6/",headers:[{level:2,title:"æ¨è",slug:"æ¨è",normalizedTitle:"æ¨è",charIndex:12},{level:2,title:"ææ¡£",slug:"ææ¡£",normalizedTitle:"ææ¡£",charIndex:167},{level:2,title:"ç¤¾åº",slug:"ç¤¾åº",normalizedTitle:"ç¤¾åº",charIndex:375},{level:3,title:"ç¤¾åºäºå¨",slug:"ç¤¾åºäºå¨",normalizedTitle:"ç¤¾åºäºå¨",charIndex:596},{level:2,title:"æå·§",slug:"æå·§",normalizedTitle:"æå·§",charIndex:623},{level:2,title:"åå®¢",slug:"åå®¢",normalizedTitle:"åå®¢",charIndex:711},{level:2,title:"çµå­ä¹¦",slug:"çµå­ä¹¦",normalizedTitle:"çµå­ä¹¦",charIndex:775},{level:2,title:"ä¼ç§æç« ",slug:"ä¼ç§æç« ",normalizedTitle:"ä¼ç§æç« ",charIndex:833},{level:2,title:"è§é¢",slug:"è§é¢",normalizedTitle:"è§é¢",charIndex:897},{level:2,title:"Github",slug:"github",normalizedTitle:"github",charIndex:382},{level:2,title:"è¯è®ºç³»ç»",slug:"è¯è®ºç³»ç»",normalizedTitle:"è¯è®ºç³»ç»",charIndex:1148},{level:2,title:"åç«¯å°å·¥å·",slug:"åç«¯å°å·¥å·",normalizedTitle:"åç«¯å°å·¥å·",charIndex:1197},{level:2,title:"ä»£ç ç¼è¾",slug:"ä»£ç ç¼è¾",normalizedTitle:"ä»£ç ç¼è¾",charIndex:1269},{level:2,title:"Emojiè¡¨æ",slug:"emojiè¡¨æ",normalizedTitle:"emojiè¡¨æ",charIndex:1330},{level:2,title:"å¾çå·¥å·",slug:"å¾çå·¥å·",normalizedTitle:"å¾çå·¥å·",charIndex:1493},{level:2,title:"æç»´å¯¼å¾",slug:"æç»´å¯¼å¾",normalizedTitle:"æç»´å¯¼å¾",charIndex:1753},{level:2,title:"CSS",slug:"css",normalizedTitle:"css",charIndex:875},{level:2,title:"CDNå é",slug:"cdnå é",normalizedTitle:"cdnå é",charIndex:2090},{level:2,title:"ç½ç«æç®¡",slug:"ç½ç«æç®¡",normalizedTitle:"ç½ç«æç®¡",charIndex:2150},{level:2,title:"æ­£å",slug:"æ­£å",normalizedTitle:"æ­£å",charIndex:2180},{level:2,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:2241},{level:2,title:"è®¾è®¡",slug:"è®¾è®¡",normalizedTitle:"è®¾è®¡",charIndex:574},{level:2,title:"å¾åº",slug:"å¾åº",normalizedTitle:"å¾åº",charIndex:3342},{level:2,title:"3D",slug:"_3d",normalizedTitle:"3d",charIndex:1967},{level:2,title:"äº¤äº",slug:"äº¤äº",normalizedTitle:"äº¤äº",charIndex:2420},{level:2,title:"æè¶£",slug:"æè¶£",normalizedTitle:"æè¶£",charIndex:139},{level:2,title:"çæå¨",slug:"çæå¨",normalizedTitle:"çæå¨",charIndex:1839},{level:2,title:"åå®å®",slug:"åå®å®",normalizedTitle:"åå®å®",charIndex:4444},{level:2,title:"æç¨",slug:"æç¨",normalizedTitle:"æç¨",charIndex:251},{level:2,title:"äº§å",slug:"äº§å",normalizedTitle:"äº§å",charIndex:3329},{level:2,title:"å®ç¨",slug:"å®ç¨",normalizedTitle:"å®ç¨",charIndex:4688},{level:2,title:"Talk",slug:"talk",normalizedTitle:"talk",charIndex:5061},{level:2,title:"ç®æ³",slug:"ç®æ³",normalizedTitle:"ç®æ³",charIndex:2330},{level:2,title:"nginx",slug:"nginx",normalizedTitle:"nginx",charIndex:5141},{level:2,title:"çæ´»",slug:"çæ´»",normalizedTitle:"çæ´»",charIndex:5169}],excerpt:'<h1 id="ä¸ªäººæ¶èå¤¹"><a class="header-anchor" href="#ä¸ªäººæ¶èå¤¹">#</a> ä¸ªäººæ¶èå¤¹</h1>\n<h2 id="æ¨è"><a class="header-anchor" href="#æ¨è">#</a> æ¨è</h2>\n<ul>\n<li><a href="https://panjiachen.github.io/awesome-bookmarks/" target="_blank" rel="noopener noreferrer">panjiachen<OutboundLink/></a> by è±è£¤è¡©</li>\n<li><a href="https://www.code-nav.cn/" target="_blank" rel="noopener noreferrer">ç¼ç¨å¯¼èª<OutboundLink/></a> by ç¨åºåé±¼ç®</li>\n<li><a href="https://r2coding.com/" target="_blank" rel="noopener noreferrer">ç¼ç¨èªå­¦ä¹è·¯<OutboundLink/></a> by ç¨åºç¾</li>\n<li><a href="https://gitee.com/jishupang/web_atlas" target="_blank" rel="noopener noreferrer">åç«¯ç¥è¯å¾è°±+Bç«èµæºæ´å<OutboundLink/></a> by ææ¯è</li>\n<li><a href="https://shengxinjing.cn/" target="_blank" rel="noopener noreferrer">å¤§å£ç¼ç¨èªå­¦ç½<OutboundLink/></a> by å¤§å£</li>\n<li><a href="https://devtool.tech/" target="_blank" rel="noopener noreferrer">å¼åèæ­¦å¨åº<OutboundLink/></a></li>\n<li><a href="https://www.fly63.com/tool/home.html" target="_blank" rel="noopener noreferrer">å·¥å·å¤§å¨<OutboundLink/></a></li>\n</ul>\n<p align="center">\n<img src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/blog/qrcode.zdqv9mlfc0g.jpg" width="200">\n</p>\n<div class="center-container"><p>å³æ³¨å¬ä¼å·[æè¶£ç ç©¶ç¤¾]ï¼åå¤<code>åç«¯èµæº</code>ï¼è·å <a href="https://github.com/xugaoyi/blog-gitalk-comment/wiki/Front-end-Study" target="_blank" rel="noopener noreferrer">åç«¯å­¦ä¹ èµæ<OutboundLink/></a></p>\n</div>',headersStr:"æ¨è ææ¡£ ç¤¾åº ç¤¾åºäºå¨ æå·§ åå®¢ çµå­ä¹¦ ä¼ç§æç«  è§é¢ Github è¯è®ºç³»ç» åç«¯å°å·¥å· ä»£ç ç¼è¾ Emojiè¡¨æ å¾çå·¥å· æç»´å¯¼å¾ CSS CDNå é ç½ç«æç®¡ æ­£å å¶ä» è®¾è®¡ å¾åº 3D äº¤äº æè¶£ çæå¨ åå®å® æç¨ äº§å å®ç¨ Talk ç®æ³ nginx çæ´»",content:"# ä¸ªäººæ¶èå¤¹\n\n\n# æ¨è\n\n * panjiachen by è±è£¤è¡©\n * ç¼ç¨å¯¼èª by ç¨åºåé±¼ç®\n * ç¼ç¨èªå­¦ä¹è·¯ by ç¨åºç¾\n * åç«¯ç¥è¯å¾è°±+Bç«èµæºæ´å by ææ¯è\n * å¤§å£ç¼ç¨èªå­¦ç½ by å¤§å£\n * å¼åèæ­¦å¨åº\n * å·¥å·å¤§å¨\n\n\n\nå³æ³¨å¬ä¼å·[æè¶£ç ç©¶ç¤¾]ï¼åå¤åç«¯èµæºï¼è·å åç«¯å­¦ä¹ èµæ\n\n\n# ææ¡£\n\n * MDN | MDN-JSæ ååç½®å¯¹è±¡ Webææ¯æå¨ææ¡£\n * DevDocs Web å¼åææ¯ææ¡£ï¼éå¸¸ä¸éçå­¦ä¹ æåï¼\n * ç°ä»£JavaScriptæç¨ ä»¥ææ°æ åä¸ºåºåçJSæç¨\n * ES5æç¨ é®ä¸å³°çJSæç¨\n * ES6æç¨ é®ä¸å³°çES6æç¨\n * Bash èæ¬æç¨ é®ä¸å³°ç¼å\n * ECMA ECMAå®ç½\n * èé¸æç¨ æ¶µçå¤ç§è¯­è¨çåçº§æç¨\n * è¾è®¯äºå¼åèæå\n\n\n# ç¤¾åº\n\n * Github ç¨åºååæ§äº¤åç¤¾åº\n * æé ä¸ä¸ªå¸®å©å¼åèæé¿çç¤¾åº\n * ç®ä¹¦ æå¾å¤é¢éçåä½ç¤¾åº\n * æå¦ è§£å³ææ¯é®é¢çç¤¾åº\n * stack overflow åä¸ï¼å¤ç½ç\n * InfoQ ä¿è¿è½¯ä»¶å¼ååç¸å³é¢åç¥è¯ä¸åæ°çä¼ æ­\n * V2EX åæå·¥ä½èä»¬çç¤¾åº\n * é±¼å¡ç­æ¦ åæ°´ç½ç«ï¼æ¶éäºå¾å¤ç½ç«ï¼å½å¤©ç­é¨æç« \n * ç åå¨å¼èµæºåº å¾å¨å¾å¼ºå¤§ï¼ç¬ç«å¼åè/è®¾è®¡å¹²è´§/ä¼è´¨å©å¨/å·¥å·èµæº...\n\n\n# ç¤¾åºäºå¨\n\n * gitter\n * åå°å·¢\n\n\n# æå·§\n\n * Google è¶å¿ æ¥çæé¡¹ææ¯æå³é®å­çç­åº¦è¶å¿ï¼å¯ç¨äºåææé¡¹ææ¯çåå±åæ¯ï¼æå¯¹æ¯æä¸¤é¡¹ææ¯çç­åº¦ã\n * ç¾åº¦ææ° åä¸ï¼ä½ç¾åº¦çæ°æ®ä»éå½åã\n\n\n# åå®¢\n\n * é®ä¸å³°çç½ç»æ¥å¿\n * samanthaming å¯¹åç«¯å°ç¥è¯ç¹çæ»ç»ï¼å¹¶ä¸ºæ¯ä¸ªç¥è¯ç¹å¶ä½ç²¾ç¾çå°å¡çã\n\n\n# çµå­ä¹¦\n\n * é«æä¹¦è é«ç­æè²åºçç¤¾çä¹¦ç±ï¼åå«å¤ç§å­¦ç§ã\n * SoBooks åè´¹ççµå­ä¹¦èµæºç½ç«\n\n\n# ä¼ç§æç« \n\n * æåç³»ç»æ¶æçä¸äºåå ä½èå¯¹ç³»ç»æ¶æçæ¹æ³è®ºæ»ç»\n * çµæ´»è¿ç¨CSSå¼åæå·§\n * é²å¾¡æ§CSS\n\n\n# è§é¢\n\n * bilibili Bç«ï¼ä¸é¢å¾å¤åè´¹æå­¦è§é¢\n * æè¯¾ç½ å®æè§é¢æç¨\n * å¦å³è¯¾å  æ¯è¾ç³»ç»çåç«¯å¥é¨è§é¢æç¨\n * ä¸­å½å¤§å­¦MOOC æ¶µçè®¡ç®æºãå¤è¯­ãå¿çå­¦ç­ä¸ä¸åè´¹è¯¾ç¨\n * egghead è´¨éè¿ä¸éçç­è§é¢æç¨ï¼å¤ç½\n\n\n# Github\n\n * Repobeats çæä»åºçå¨ææ°æ®ç»è®¡å¾\n\n * github ç­ååæå¡\n * shields å¾½ç« å¾æ \n * followers å¨çæå\n * star-history å±ç¤ºä¸ä¸ªé¡¹ç® Stars å¢é¿æ²çº¿\n\n\n# è¯è®ºç³»ç»\n\n * giscus ç± GitHub Discussions é©±å¨çè¯è®ºç³»ç»\n\n\n# åç«¯å°å·¥å·\n\n * Can I use æ¥çå±æ§åæ¹æ³çå¼å®¹æ§\n * 30 seconds of code æ¶éäºè®¸å¤æç¨çä»£ç å°çæ®µ\n\n\n# ä»£ç ç¼è¾\n\n * codepen å¨çº¿ä»£ç ç¼è¾ä¸æ¼ç¤º\n * codesandbox ååµVSCodeçå¨çº¿IDE\n\n\n# Emojiè¡¨æ\n\n * emojiè¡¨æ\n * emojiè¡¨æå¤å¿å½\n * æ ¹æ®ææ¬å¹éemoji\n * gitmoji éè¿ emoji è¡¨è¾¾ git çæä½åå®¹\n\n> å¨ä»»æè¾å¥æ¡å¿«éæå¼emojiè¡¨ææ¹æ³ï¼\n> Windowsç³»ç»ä¸æWin + .\n> Macç³»ç»ä¸æControl + Command + ç©ºæ ¼\n\n\n# å¾çå·¥å·\n\n * tinypngå¾çåç¼© åç¼©pngå¾æç¨\n * å¾®å¾ æµè§å¨ç«¯å¾çåç¼©ï¼ä¸ä¼ä¸ä¼ å¾çå°æå¡å¨\n * Squoosh è°·æ­åºåå¨çº¿åè´¹å¾çåç¼©å·¥å·ï¼jpgãpngç­,åç¼©æææ¯tinypngç¨å¥½ï¼\n * waifu2x éè¿å·ç§¯ç½ç»æ¾å¤§å¾ç\n * vectormagic è½¬æ¢ç¢éå¾\n * vectorizer çæ­£ç png è½¬ svg ç¥å¨\n * å¨çº¿AIå¾çå¤ç é»ç½ä¿®å¤ãæ ææ¾å¤§ãå¨æ¼«åãéç¬ç»ç­ã\n * remove AIæ å¾\n * backgroundremover åä¸ä¸ªæ å¾ç\n\n\n# æç»´å¯¼å¾\n\n * processonå¨çº¿ä½å¾ æµç¨å¾ãæç»´å¯¼å¾ãååå¾ç­\n * ç¾åº¦èå¾ æç»´å¯¼å¾\n * plectica ç»å¶ç¥è¯å¾è°±\n\n\n# CSS\n\n * åç§CSSçæå¨åJSä»£ç çæ®µ\n\n * CSS Tricks CSSæå·§æ¶éä¸æ¼ç¤º\n * CSSçæå¨\n * CSSæ¸åçæå¨\n * CSS3-Box Shadow(é´å½±)\n * è´å¡å°æ²çº¿çæå¨\n * è±çº¹èæ¯çæå¨\n * è±çº¹èæ¯-pattern.css\n * 3Då­ä½\n * css-tricks cssæå·§æç« \n * You-need-to-know-css CSSçåç§DEMOï¼å¾å¨\n * animista CSSå¨ç»å¯è§åå·¥å·ï¼å¤å¶ä»£ç å°±è½ç¨\n * navnav åç§ç«é·çCSSå¨ç»ç»ä»¶\n\n\n# CDNå é\n\n * jsDelivr å½å¤çä¸å®¶ä¼ç§çå¬å± CDN æå¡æä¾å\n * unpkg cdn æå¡\n\n\n# ç½ç«æç®¡\n\n * vercel å¥½ç¨çç½ç«æç®¡æå¡\n\n\n# æ­£å\n\n * æ­£åå¯è§å\n * iHateRegex æ­£åæç´¢ï¼ç»èåå¾å¾å¥½\n * æ­£åè¿·ä½ ä¹¦ å­¦ä¹ æ­£åçå°æå\n\n\n# å¶ä»\n\n * Linuxå½ä»¤æå\n * carbonä»£ç å¾ççæå¨ çæå¥½ççä»£ç å¾ç\n\n\n# è®¾è®¡\n\n * åé å¸å¯¼èª\n * è®¾è®¡å¸ç½åå¯¼èª\n * remove AIæ å¾ï¼æ å¾ç®æ³å¾åå®³\n * Manypixels æç»\n * Undraw æç»\n * storytale æç»ï¼ç§ç±»ä¸°å¯ï¼åå«3Dæç»\n * uimovement è½ä»è¿ä¸ªç½ç«æ¾å°ä¸å°å¨ç»äº¤äºççµæ\n * awwwardsæ¯ä¸ä¸ªä¸ä¸ªä¸é¨ä¸ºè®¾è®¡ç²¾ç¾çç½ç«ä»¥åå¯æåæçç½ç«é¢å¥çç½ç«\n * dribbble ç»å¸¸è½å¨ä¸é¢æ¾å°å¾å¤æåæå¥½çç gif æèå¾ç\n * BÄhance dribbble æ¯è®¾è®¡å¸çå¾®åï¼BÄhance æ¯è®¾è®¡å¸çåå®¢\n * Logojoy ä½¿ç¨ ai å logo çç½ç«ï¼ååºæ¥ç logo è´¨éè¿ä¸éã\n * brandmark å¦ä¸ä¸ªå¨çº¿å¶ä½ logo ç½ç«\n * instant åä¸ä¸ª logo å¶ä½ç½ç«\n * namecheapåä¸ä¸ª logo å¶ä½ç½ç«\n * logo-maker åä¸ä¸ª logo å¶ä½ç½ç« è¿ä¸ªæ´ç®åç¹ å°±æ¯éæ¨¡æ¿ä¹åå¾®è°\n * coolors å¸®ä½ å¨çº¿éè²çç½ç« ä½ è½æ¾å°ä¸å°éè²çµæ\n * colorhunt å¦ä¸ä¸ªéè²ç½ç«\n * uigradients æ¸åè²ç½ç«\n * designcap å¨çº¿æµ·æ¥è®¾è®¡\n * Flat UI è²è¡¨ Flat UI è²è¡¨\n * 0to255 é¢è²æ¢¯åº¦\n * Ikonate æä¾åè´¹çå¾æ  icons\n * remixicon åä¸ä¸ªæä¾åè´¹å¾æ  icons\n * feather åè´¹ç icons\n * nord åæ¬§æ§å·æ·¡é£ä¸»é¢éè²\n * Unsplash æä¾åè´¹çé«æ¸å¾ç\n * Pexels æä¾åè´¹çé«æ¸å¾ç\n * colorkitty ä»ä½ çå¾çä¸­æåéè²\n * design.youzan æèµè®¾è®¡åå\n * iconfont é¿éå·´å·´ç¢éå¾æ åº\n * undraw åè´¹çç¢éæç»\n * icomoon ç¢éå¾æ åº\n * cssicon ææç icon é½æ¯çº¯ css ç»ç ç¼ºç¹ï¼icon ä¸å¤å¤\n * CSS triangle generator å¸®ä½ å¿«éç¨ css ååºä¸è§å½¢\n * clippy å¨çº¿å¸®ä½ ä½¿ç¨ css clip-path ååºåç§å½¢ç¶çå¾å½¢\n * Lorem Picsum æä¾åè´¹çå ä½å¾\n * Canva å¯ç» çææç»ãå°é¢ãæµ·æ¥ãå¤´åç­\n * 404é¡µ 404é¡µç´ æ\n * collectui æåè½ç»ä»¶åç±»çè®¾è®¡å¾\n * smartmockups äº§åæ¨¡æ¿çæå·¥å·\n\n\n# å¾åº\n\n * uigradients æ¸åè²çæå·¥å·\n * freepik banner å¾åº\n * è§åç´ ä¸å¤©åè´¹ä¸è½½åå¼  psdï¼åæ åç´ ï¼\n * æå®è®¾è®¡ å¯ä»¥æ å¾\n * vectorizer çæ­£ç png è½¬ svg ç¥å¨\n * ç«é· å½åä¼ç§çè®¾è®¡ä½åå±ç¤º\n * è±ç£\n * èå ps å­¦ä¹ æç¨\n * beTheme\n * UI ä¸­å½\n * wallhaven å£çº¸ç½ç«-\n\n\n# 3D\n\n * sketchfab 3Dæ¨¡å\n\n\n# äº¤äº\n\n * å¾®äº¤äº éé¢æ¶éäºå¸é¢ä¸å¾å¤å¾å¥½çå¾®äº¤äºä¾å­ å¼å¾å­¦ä¹ \n\n * Little Big Details åä¸ï¼ä¸ä¸ªå½å¤å¾®äº¤äºæ±éç½ç«\n\n * cruip ç»å½é¡µçåç§é¡µé¢è®¾è®¡ï¼å¯ä»¥åè´¹ä¸è½½æ¨¡æ¿\n\n * Comixify ä¸ä¸ªæ³¢å°å¢éåäºéå¸¸å¥½ç©çå·¥å·ï¼å¯ä»¥æè§é¢èªå¨è½¬ææ¼«ç»ï¼ä¸å¾æ¯ä»ä»¬æä¾ç demoï¼ææå¾æ£ã\n\n * taiko-web å¤ªé¼è¾¾äººç½é¡µç åªè½è¯´å¾ 6\n\n\n# æè¶£\n\n * çµèæ¶æ æ¶éäºä¸äºæ¶æå°ç½é¡µï¼æ¯å¦xpç³»ç»èå±ãé»å®¢çé¢ç­\n * neocities ä¸é¢æç®¡äºå¾å¤æè¶£çç½ç«\n * å¥è¶£ç½ç«æ¶èå®¶ æ¶èäºå¾å¤æè¶£çç½ç«\n * FCå¨çº¿æ¨¡æå¨(å°é¸çæ¸¸ææº) ç«¥å¹´åå¿\n * å¸®ä½ ç¾åº¦ä¸ä¸ å¯ä»¥ ç¹ææµè¯ä¸ä¸-\n * å½éç åå¸®æç¾åº¦ä¸ä¸-ç¹ææµè¯ä¸ä¸-\n * URL å°åæ­æ¾ Emojis å¨ç» å¨å°åæ éé¢æ­æ¾ emoji\n * Can't Unsee å¼ºçå»ºè®®åç«¯ãå®¢æ·ç«¯ãUI å¼åçåå­¦ç©ä¸ï¼æ£æ¥ä¸ä¸èªå·±å¯¹è®¾è®¡ç¨¿çææåº¦æä¹æ ·\n * ggtalk å¹³æ¶ä¸ç´å¨å¬çä¸ä¸ªææ¯åå®¢\n * awesome-comment éé¢æ¶éäºå¾å¤æè¶£çä»£ç æ³¨é\n * text-img é½å°å¾çè½¬åä¸º ascii ç¨æ¥åæ³¨é\n * ascii video ä½¿ç¨asciiç¼ç çæè§é¢å¨ç»\n * weird-fonts å°æ®éå­æ¯è½¬åä¸º ç¹æ® unicode\n * snake å¨å°åæ éé¢ç©è´ªåè\n * zero-width-lib å©ç¨é¶å®½åº¦å­ç¬¦å®ç° éå½¢æ°´å°ãå å¯ä¿¡æ¯åäº«ãéè±è¯å¹éï¼å¾æåæ\n * abbreviations æ¥çä¸ä¸ªç®åæ¯ä»ä¹ææçç½ç«\n * magi ai æç´¢ç¥å¨ï¼è¶å±\n * å¨çº¿åå è§£å³ååé¾é®é¢ï¼è¶å¤åå­çæ\n\n\n# çæå¨\n\n * å¡éå¤´åçæå¨ ä¸ä¼ çäººå¤´åçæå¡éå¤´å\n\n * artbreeder å¨æ¼«å¾çæçäººå¾å\n\n * å£°é³çæå¨ çæä¸é¨ãåå¡åãæµ·æµªãç«è½¦ç­å£°é³ï¼å¯å ç§å£°é³åæ\n\n * è¯ºåºäºç­ä¿¡å¾ççæå¨\n\n * å°è´¦è¯­é³çæå¨ æ¯ä»å®å°è´¦1äº¿å\n\n\n# åå®å®\n\nç¬¦ååå®å®ç¹å¾çå ä¸ªç½ç«ï¼åè®¸ç¨æ·æ¥æèæåå°ï¼å¨ä¸é¢æå»ºèªå·±çä¸çï¼\n\n * æ²ç\n * æ¢¦å¢ç©ºé´\n * Decentraland\n\n\n# æç¨\n\n * npx æä½ æä¹åççä½¿ç¨ npx\n * hacksplaining ç½ç»å®å¨å­¦ä¹ ç½ç«\n * mobile-web-best-practice ç§»å¨ web æä½³å®è·µ\n\n\n# äº§å\n\n * Product Hunt å¥½äº§åæ¨è\n\n * äº§åå¤§ç ä»ä¹æå¾å¤å®æ´çäº§åååå¯ä»¥åé´\n\n * ç£¨å å¿«éåº ui åå\n\n\n# å®ç¨\n\n * webden å¨çº¿ç½é¡µç¼è¾å¨ï¼è½»ä¾¿å¿«æ·\n * browser-update æµè§å¨çæ¬æ´æ°æç¤ºæä»¶\n * typeform ä¸ä¸ªå½å¤çå¨çº¿è°æ¥é®å·ç½ç«\n * VideoFk VideoFk è§é¢å¨çº¿è§£æä¸è½½\n * å¨åå² åå²åå®¹èåç½ç«\n * UzerMe äºç«¯åå¬å·¥å·\n * SoBooks å¼ºå¤§ççµå­ä¹¦èµæºç½ç«\n * ç¨¿å®è®¾è®¡ é®å¼è®¾è®¡å·¥å·+æºè½æ å¾\n * å¤§åç ç¾åº¦ç½çæç´¢\n * ENFI ä¸è½½å¨ ä¸ééä¸è½½å¨\n * æ¥ç»è§é¢ åå PPT ä¸æ ·åç­è§é¢\n * Arkie æµ·æ¥å¶ä½å·¥å·\n * ä¼å PPT\n * æ¯æ ¼ PPT\n * é«æ¸åè´¹å¾ç\n * é«æ¸åè´¹å¾ç 2\n * shapedivider çææ³¢æµªåéçº¿\n * Notion ç¥è¯åºãå¿«éç¬è®°ãTaskListãæ¥è®°ãè¯»ä¹¦æ¸åï¼åç§ç±»åï¼åºæå°½æ\n\n\n# Talk\n\n * peerigon-talks æ¶éäºä¸å°æææç talks\n\n\n# ç®æ³\n\n * leetcode ç¨ js å· leetcode\n\n\n# nginx\n\n * nginx å¯è§åéç½®å·¥å·\n\n\n# çæ´»\n\n * Ventusky é£é¨æ°æ¸©å¾",normalizedContent:"# ä¸ªäººæ¶èå¤¹\n\n\n# æ¨è\n\n * panjiachen by è±è£¤è¡©\n * ç¼ç¨å¯¼èª by ç¨åºåé±¼ç®\n * ç¼ç¨èªå­¦ä¹è·¯ by ç¨åºç¾\n * åç«¯ç¥è¯å¾è°±+bç«èµæºæ´å by ææ¯è\n * å¤§å£ç¼ç¨èªå­¦ç½ by å¤§å£\n * å¼åèæ­¦å¨åº\n * å·¥å·å¤§å¨\n\n\n\nå³æ³¨å¬ä¼å·[æè¶£ç ç©¶ç¤¾]ï¼åå¤åç«¯èµæºï¼è·å åç«¯å­¦ä¹ èµæ\n\n\n# ææ¡£\n\n * mdn | mdn-jsæ ååç½®å¯¹è±¡ webææ¯æå¨ææ¡£\n * devdocs web å¼åææ¯ææ¡£ï¼éå¸¸ä¸éçå­¦ä¹ æåï¼\n * ç°ä»£javascriptæç¨ ä»¥ææ°æ åä¸ºåºåçjsæç¨\n * es5æç¨ é®ä¸å³°çjsæç¨\n * es6æç¨ é®ä¸å³°çes6æç¨\n * bash èæ¬æç¨ é®ä¸å³°ç¼å\n * ecma ecmaå®ç½\n * èé¸æç¨ æ¶µçå¤ç§è¯­è¨çåçº§æç¨\n * è¾è®¯äºå¼åèæå\n\n\n# ç¤¾åº\n\n * github ç¨åºååæ§äº¤åç¤¾åº\n * æé ä¸ä¸ªå¸®å©å¼åèæé¿çç¤¾åº\n * ç®ä¹¦ æå¾å¤é¢éçåä½ç¤¾åº\n * æå¦ è§£å³ææ¯é®é¢çç¤¾åº\n * stack overflow åä¸ï¼å¤ç½ç\n * infoq ä¿è¿è½¯ä»¶å¼ååç¸å³é¢åç¥è¯ä¸åæ°çä¼ æ­\n * v2ex åæå·¥ä½èä»¬çç¤¾åº\n * é±¼å¡ç­æ¦ åæ°´ç½ç«ï¼æ¶éäºå¾å¤ç½ç«ï¼å½å¤©ç­é¨æç« \n * ç åå¨å¼èµæºåº å¾å¨å¾å¼ºå¤§ï¼ç¬ç«å¼åè/è®¾è®¡å¹²è´§/ä¼è´¨å©å¨/å·¥å·èµæº...\n\n\n# ç¤¾åºäºå¨\n\n * gitter\n * åå°å·¢\n\n\n# æå·§\n\n * google è¶å¿ æ¥çæé¡¹ææ¯æå³é®å­çç­åº¦è¶å¿ï¼å¯ç¨äºåææé¡¹ææ¯çåå±åæ¯ï¼æå¯¹æ¯æä¸¤é¡¹ææ¯çç­åº¦ã\n * ç¾åº¦ææ° åä¸ï¼ä½ç¾åº¦çæ°æ®ä»éå½åã\n\n\n# åå®¢\n\n * é®ä¸å³°çç½ç»æ¥å¿\n * samanthaming å¯¹åç«¯å°ç¥è¯ç¹çæ»ç»ï¼å¹¶ä¸ºæ¯ä¸ªç¥è¯ç¹å¶ä½ç²¾ç¾çå°å¡çã\n\n\n# çµå­ä¹¦\n\n * é«æä¹¦è é«ç­æè²åºçç¤¾çä¹¦ç±ï¼åå«å¤ç§å­¦ç§ã\n * sobooks åè´¹ççµå­ä¹¦èµæºç½ç«\n\n\n# ä¼ç§æç« \n\n * æåç³»ç»æ¶æçä¸äºåå ä½èå¯¹ç³»ç»æ¶æçæ¹æ³è®ºæ»ç»\n * çµæ´»è¿ç¨csså¼åæå·§\n * é²å¾¡æ§css\n\n\n# è§é¢\n\n * bilibili bç«ï¼ä¸é¢å¾å¤åè´¹æå­¦è§é¢\n * æè¯¾ç½ å®æè§é¢æç¨\n * å¦å³è¯¾å  æ¯è¾ç³»ç»çåç«¯å¥é¨è§é¢æç¨\n * ä¸­å½å¤§å­¦mooc æ¶µçè®¡ç®æºãå¤è¯­ãå¿çå­¦ç­ä¸ä¸åè´¹è¯¾ç¨\n * egghead è´¨éè¿ä¸éçç­è§é¢æç¨ï¼å¤ç½\n\n\n# github\n\n * repobeats çæä»åºçå¨ææ°æ®ç»è®¡å¾\n\n * github ç­ååæå¡\n * shields å¾½ç« å¾æ \n * followers å¨çæå\n * star-history å±ç¤ºä¸ä¸ªé¡¹ç® stars å¢é¿æ²çº¿\n\n\n# è¯è®ºç³»ç»\n\n * giscus ç± github discussions é©±å¨çè¯è®ºç³»ç»\n\n\n# åç«¯å°å·¥å·\n\n * can i use æ¥çå±æ§åæ¹æ³çå¼å®¹æ§\n * 30 seconds of code æ¶éäºè®¸å¤æç¨çä»£ç å°çæ®µ\n\n\n# ä»£ç ç¼è¾\n\n * codepen å¨çº¿ä»£ç ç¼è¾ä¸æ¼ç¤º\n * codesandbox ååµvscodeçå¨çº¿ide\n\n\n# emojiè¡¨æ\n\n * emojiè¡¨æ\n * emojiè¡¨æå¤å¿å½\n * æ ¹æ®ææ¬å¹éemoji\n * gitmoji éè¿ emoji è¡¨è¾¾ git çæä½åå®¹\n\n> å¨ä»»æè¾å¥æ¡å¿«éæå¼emojiè¡¨ææ¹æ³ï¼\n> windowsç³»ç»ä¸æwin + .\n> macç³»ç»ä¸æcontrol + command + ç©ºæ ¼\n\n\n# å¾çå·¥å·\n\n * tinypngå¾çåç¼© åç¼©pngå¾æç¨\n * å¾®å¾ æµè§å¨ç«¯å¾çåç¼©ï¼ä¸ä¼ä¸ä¼ å¾çå°æå¡å¨\n * squoosh è°·æ­åºåå¨çº¿åè´¹å¾çåç¼©å·¥å·ï¼jpgãpngç­,åç¼©æææ¯tinypngç¨å¥½ï¼\n * waifu2x éè¿å·ç§¯ç½ç»æ¾å¤§å¾ç\n * vectormagic è½¬æ¢ç¢éå¾\n * vectorizer çæ­£ç png è½¬ svg ç¥å¨\n * å¨çº¿aiå¾çå¤ç é»ç½ä¿®å¤ãæ ææ¾å¤§ãå¨æ¼«åãéç¬ç»ç­ã\n * remove aiæ å¾\n * backgroundremover åä¸ä¸ªæ å¾ç\n\n\n# æç»´å¯¼å¾\n\n * processonå¨çº¿ä½å¾ æµç¨å¾ãæç»´å¯¼å¾ãååå¾ç­\n * ç¾åº¦èå¾ æç»´å¯¼å¾\n * plectica ç»å¶ç¥è¯å¾è°±\n\n\n# css\n\n * åç§cssçæå¨åjsä»£ç çæ®µ\n\n * css tricks cssæå·§æ¶éä¸æ¼ç¤º\n * cssçæå¨\n * cssæ¸åçæå¨\n * css3-box shadow(é´å½±)\n * è´å¡å°æ²çº¿çæå¨\n * è±çº¹èæ¯çæå¨\n * è±çº¹èæ¯-pattern.css\n * 3då­ä½\n * css-tricks cssæå·§æç« \n * you-need-to-know-css cssçåç§demoï¼å¾å¨\n * animista csså¨ç»å¯è§åå·¥å·ï¼å¤å¶ä»£ç å°±è½ç¨\n * navnav åç§ç«é·çcsså¨ç»ç»ä»¶\n\n\n# cdnå é\n\n * jsdelivr å½å¤çä¸å®¶ä¼ç§çå¬å± cdn æå¡æä¾å\n * unpkg cdn æå¡\n\n\n# ç½ç«æç®¡\n\n * vercel å¥½ç¨çç½ç«æç®¡æå¡\n\n\n# æ­£å\n\n * æ­£åå¯è§å\n * ihateregex æ­£åæç´¢ï¼ç»èåå¾å¾å¥½\n * æ­£åè¿·ä½ ä¹¦ å­¦ä¹ æ­£åçå°æå\n\n\n# å¶ä»\n\n * linuxå½ä»¤æå\n * carbonä»£ç å¾ççæå¨ çæå¥½ççä»£ç å¾ç\n\n\n# è®¾è®¡\n\n * åé å¸å¯¼èª\n * è®¾è®¡å¸ç½åå¯¼èª\n * remove aiæ å¾ï¼æ å¾ç®æ³å¾åå®³\n * manypixels æç»\n * undraw æç»\n * storytale æç»ï¼ç§ç±»ä¸°å¯ï¼åå«3dæç»\n * uimovement è½ä»è¿ä¸ªç½ç«æ¾å°ä¸å°å¨ç»äº¤äºççµæ\n * awwwardsæ¯ä¸ä¸ªä¸ä¸ªä¸é¨ä¸ºè®¾è®¡ç²¾ç¾çç½ç«ä»¥åå¯æåæçç½ç«é¢å¥çç½ç«\n * dribbble ç»å¸¸è½å¨ä¸é¢æ¾å°å¾å¤æåæå¥½çç gif æèå¾ç\n * behance dribbble æ¯è®¾è®¡å¸çå¾®åï¼behance æ¯è®¾è®¡å¸çåå®¢\n * logojoy ä½¿ç¨ ai å logo çç½ç«ï¼ååºæ¥ç logo è´¨éè¿ä¸éã\n * brandmark å¦ä¸ä¸ªå¨çº¿å¶ä½ logo ç½ç«\n * instant åä¸ä¸ª logo å¶ä½ç½ç«\n * namecheapåä¸ä¸ª logo å¶ä½ç½ç«\n * logo-maker åä¸ä¸ª logo å¶ä½ç½ç« è¿ä¸ªæ´ç®åç¹ å°±æ¯éæ¨¡æ¿ä¹åå¾®è°\n * coolors å¸®ä½ å¨çº¿éè²çç½ç« ä½ è½æ¾å°ä¸å°éè²çµæ\n * colorhunt å¦ä¸ä¸ªéè²ç½ç«\n * uigradients æ¸åè²ç½ç«\n * designcap å¨çº¿æµ·æ¥è®¾è®¡\n * flat ui è²è¡¨ flat ui è²è¡¨\n * 0to255 é¢è²æ¢¯åº¦\n * ikonate æä¾åè´¹çå¾æ  icons\n * remixicon åä¸ä¸ªæä¾åè´¹å¾æ  icons\n * feather åè´¹ç icons\n * nord åæ¬§æ§å·æ·¡é£ä¸»é¢éè²\n * unsplash æä¾åè´¹çé«æ¸å¾ç\n * pexels æä¾åè´¹çé«æ¸å¾ç\n * colorkitty ä»ä½ çå¾çä¸­æåéè²\n * design.youzan æèµè®¾è®¡åå\n * iconfont é¿éå·´å·´ç¢éå¾æ åº\n * undraw åè´¹çç¢éæç»\n * icomoon ç¢éå¾æ åº\n * cssicon ææç icon é½æ¯çº¯ css ç»ç ç¼ºç¹ï¼icon ä¸å¤å¤\n * css triangle generator å¸®ä½ å¿«éç¨ css ååºä¸è§å½¢\n * clippy å¨çº¿å¸®ä½ ä½¿ç¨ css clip-path ååºåç§å½¢ç¶çå¾å½¢\n * lorem picsum æä¾åè´¹çå ä½å¾\n * canva å¯ç» çææç»ãå°é¢ãæµ·æ¥ãå¤´åç­\n * 404é¡µ 404é¡µç´ æ\n * collectui æåè½ç»ä»¶åç±»çè®¾è®¡å¾\n * smartmockups äº§åæ¨¡æ¿çæå·¥å·\n\n\n# å¾åº\n\n * uigradients æ¸åè²çæå·¥å·\n * freepik banner å¾åº\n * è§åç´ ä¸å¤©åè´¹ä¸è½½åå¼  psdï¼åæ åç´ ï¼\n * æå®è®¾è®¡ å¯ä»¥æ å¾\n * vectorizer çæ­£ç png è½¬ svg ç¥å¨\n * ç«é· å½åä¼ç§çè®¾è®¡ä½åå±ç¤º\n * è±ç£\n * èå ps å­¦ä¹ æç¨\n * betheme\n * ui ä¸­å½\n * wallhaven å£çº¸ç½ç«-\n\n\n# 3d\n\n * sketchfab 3dæ¨¡å\n\n\n# äº¤äº\n\n * å¾®äº¤äº éé¢æ¶éäºå¸é¢ä¸å¾å¤å¾å¥½çå¾®äº¤äºä¾å­ å¼å¾å­¦ä¹ \n\n * little big details åä¸ï¼ä¸ä¸ªå½å¤å¾®äº¤äºæ±éç½ç«\n\n * cruip ç»å½é¡µçåç§é¡µé¢è®¾è®¡ï¼å¯ä»¥åè´¹ä¸è½½æ¨¡æ¿\n\n * comixify ä¸ä¸ªæ³¢å°å¢éåäºéå¸¸å¥½ç©çå·¥å·ï¼å¯ä»¥æè§é¢èªå¨è½¬ææ¼«ç»ï¼ä¸å¾æ¯ä»ä»¬æä¾ç demoï¼ææå¾æ£ã\n\n * taiko-web å¤ªé¼è¾¾äººç½é¡µç åªè½è¯´å¾ 6\n\n\n# æè¶£\n\n * çµèæ¶æ æ¶éäºä¸äºæ¶æå°ç½é¡µï¼æ¯å¦xpç³»ç»èå±ãé»å®¢çé¢ç­\n * neocities ä¸é¢æç®¡äºå¾å¤æè¶£çç½ç«\n * å¥è¶£ç½ç«æ¶èå®¶ æ¶èäºå¾å¤æè¶£çç½ç«\n * fcå¨çº¿æ¨¡æå¨(å°é¸çæ¸¸ææº) ç«¥å¹´åå¿\n * å¸®ä½ ç¾åº¦ä¸ä¸ å¯ä»¥ ç¹ææµè¯ä¸ä¸-\n * å½éç åå¸®æç¾åº¦ä¸ä¸-ç¹ææµè¯ä¸ä¸-\n * url å°åæ­æ¾ emojis å¨ç» å¨å°åæ éé¢æ­æ¾ emoji\n * can't unsee å¼ºçå»ºè®®åç«¯ãå®¢æ·ç«¯ãui å¼åçåå­¦ç©ä¸ï¼æ£æ¥ä¸ä¸èªå·±å¯¹è®¾è®¡ç¨¿çææåº¦æä¹æ ·\n * ggtalk å¹³æ¶ä¸ç´å¨å¬çä¸ä¸ªææ¯åå®¢\n * awesome-comment éé¢æ¶éäºå¾å¤æè¶£çä»£ç æ³¨é\n * text-img é½å°å¾çè½¬åä¸º ascii ç¨æ¥åæ³¨é\n * ascii video ä½¿ç¨asciiç¼ç çæè§é¢å¨ç»\n * weird-fonts å°æ®éå­æ¯è½¬åä¸º ç¹æ® unicode\n * snake å¨å°åæ éé¢ç©è´ªåè\n * zero-width-lib å©ç¨é¶å®½åº¦å­ç¬¦å®ç° éå½¢æ°´å°ãå å¯ä¿¡æ¯åäº«ãéè±è¯å¹éï¼å¾æåæ\n * abbreviations æ¥çä¸ä¸ªç®åæ¯ä»ä¹ææçç½ç«\n * magi ai æç´¢ç¥å¨ï¼è¶å±\n * å¨çº¿åå è§£å³ååé¾é®é¢ï¼è¶å¤åå­çæ\n\n\n# çæå¨\n\n * å¡éå¤´åçæå¨ ä¸ä¼ çäººå¤´åçæå¡éå¤´å\n\n * artbreeder å¨æ¼«å¾çæçäººå¾å\n\n * å£°é³çæå¨ çæä¸é¨ãåå¡åãæµ·æµªãç«è½¦ç­å£°é³ï¼å¯å ç§å£°é³åæ\n\n * è¯ºåºäºç­ä¿¡å¾ççæå¨\n\n * å°è´¦è¯­é³çæå¨ æ¯ä»å®å°è´¦1äº¿å\n\n\n# åå®å®\n\nç¬¦ååå®å®ç¹å¾çå ä¸ªç½ç«ï¼åè®¸ç¨æ·æ¥æèæåå°ï¼å¨ä¸é¢æå»ºèªå·±çä¸çï¼\n\n * æ²ç\n * æ¢¦å¢ç©ºé´\n * decentraland\n\n\n# æç¨\n\n * npx æä½ æä¹åççä½¿ç¨ npx\n * hacksplaining ç½ç»å®å¨å­¦ä¹ ç½ç«\n * mobile-web-best-practice ç§»å¨ web æä½³å®è·µ\n\n\n# äº§å\n\n * product hunt å¥½äº§åæ¨è\n\n * äº§åå¤§ç ä»ä¹æå¾å¤å®æ´çäº§åååå¯ä»¥åé´\n\n * ç£¨å å¿«éåº ui åå\n\n\n# å®ç¨\n\n * webden å¨çº¿ç½é¡µç¼è¾å¨ï¼è½»ä¾¿å¿«æ·\n * browser-update æµè§å¨çæ¬æ´æ°æç¤ºæä»¶\n * typeform ä¸ä¸ªå½å¤çå¨çº¿è°æ¥é®å·ç½ç«\n * videofk videofk è§é¢å¨çº¿è§£æä¸è½½\n * å¨åå² åå²åå®¹èåç½ç«\n * uzerme äºç«¯åå¬å·¥å·\n * sobooks å¼ºå¤§ççµå­ä¹¦èµæºç½ç«\n * ç¨¿å®è®¾è®¡ é®å¼è®¾è®¡å·¥å·+æºè½æ å¾\n * å¤§åç ç¾åº¦ç½çæç´¢\n * enfi ä¸è½½å¨ ä¸ééä¸è½½å¨\n * æ¥ç»è§é¢ åå ppt ä¸æ ·åç­è§é¢\n * arkie æµ·æ¥å¶ä½å·¥å·\n * ä¼å ppt\n * æ¯æ ¼ ppt\n * é«æ¸åè´¹å¾ç\n * é«æ¸åè´¹å¾ç 2\n * shapedivider çææ³¢æµªåéçº¿\n * notion ç¥è¯åºãå¿«éç¬è®°ãtasklistãæ¥è®°ãè¯»ä¹¦æ¸åï¼åç§ç±»åï¼åºæå°½æ\n\n\n# talk\n\n * peerigon-talks æ¶éäºä¸å°æææç talks\n\n\n# ç®æ³\n\n * leetcode ç¨ js å· leetcode\n\n\n# nginx\n\n * nginx å¯è§åéç½®å·¥å·\n\n\n# çæ´»\n\n * ventusky é£é¨æ°æ¸©å¾",charsets:{cjk:!0},lastUpdated:"2022/06/20, 22:47:41",lastUpdatedTimestamp:1655736461e3},{title:"å¸¸ç¨çåç«¯è½®å­",frontmatter:{title:"å¸¸ç¨çåç«¯è½®å­",date:"2021-10-09T19:42:02.000Z",permalink:"/pages/47cf96/",article:!1},regularPath:"/@pages/20.%E6%94%B6%E8%97%8F%E5%A4%B9/02.%E5%B8%B8%E7%94%A8%E7%9A%84%E5%89%8D%E7%AB%AF%E8%BD%AE%E5%AD%90.html",relativePath:"@pages/20.æ¶èå¤¹/02.å¸¸ç¨çåç«¯è½®å­.md",key:"v-09c150e6",path:"/pages/47cf96/",headers:[{level:2,title:"React UI ç»ä»¶åº",slug:"react-ui-ç»ä»¶åº",normalizedTitle:"react ui ç»ä»¶åº",charIndex:2},{level:2,title:"Vue UIç»ä»¶åº",slug:"vue-uiç»ä»¶åº",normalizedTitle:"vue uiç»ä»¶åº",charIndex:68},{level:2,title:"å¸¸ç¨ææç»ä»¶",slug:"å¸¸ç¨ææç»ä»¶",normalizedTitle:"å¸¸ç¨ææç»ä»¶",charIndex:124},{level:2,title:"å·¥å·ç±»",slug:"å·¥å·ç±»",normalizedTitle:"å·¥å·ç±»",charIndex:201},{level:2,title:"Vueå·¥å·ç±»",slug:"vueå·¥å·ç±»",normalizedTitle:"vueå·¥å·ç±»",charIndex:331},{level:2,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:469}],headersStr:"React UI ç»ä»¶åº Vue UIç»ä»¶åº å¸¸ç¨ææç»ä»¶ å·¥å·ç±» Vueå·¥å·ç±» å¶ä»",content:"# React UI ç»ä»¶åº\n\n * Ant Design\n * React Bootstrap\n * MATERIAL-UI\n\n\n# Vue UIç»ä»¶åº\n\n * Element UI PCç«¯\n * Vant ç§»å¨ç«¯\n * View UI\n\n\n# å¸¸ç¨ææç»ä»¶\n\n * Animate.css å¨ç»åº\n * Swiper è½®æ­ç»ä»¶\n * mescroll ä¸æå·æ°åä¸æå è½½æ¡æ¶-åºäºåçJS\n\n\n# å·¥å·ç±»\n\n * Lodash.js\n * Day.js å¤çæ¥æ\n * Timeago.js ç¸å¯¹æ¶é´ï¼å¦Nå°æ¶å\n * Echarts ç¾åº¦å¾è¡¨\n * Meditor.md å¼æºå¨çº¿ Markdown ç¼è¾å¨\n * validator.js éªè¯åº\n\n\n# Vueå·¥å·ç±»\n\n * vue-draggable åºäºSortable.jså®ç°çvueææ½æä»¶\n * vue-qr ææ¬è½¬äºç»´ç \n * vue-cropper å¾çè£åªæä»¶\n * vue-lazyload æå è½½\n * vue-simple-upload ä¸ä¼ ç»ä»¶\n\n\n# å¶ä»\n\n * H5å¸¦ç¬éæåç­¾åï¼æ¯æPCç«¯åç§»å¨ç«¯",normalizedContent:"# react ui ç»ä»¶åº\n\n * ant design\n * react bootstrap\n * material-ui\n\n\n# vue uiç»ä»¶åº\n\n * element ui pcç«¯\n * vant ç§»å¨ç«¯\n * view ui\n\n\n# å¸¸ç¨ææç»ä»¶\n\n * animate.css å¨ç»åº\n * swiper è½®æ­ç»ä»¶\n * mescroll ä¸æå·æ°åä¸æå è½½æ¡æ¶-åºäºåçjs\n\n\n# å·¥å·ç±»\n\n * lodash.js\n * day.js å¤çæ¥æ\n * timeago.js ç¸å¯¹æ¶é´ï¼å¦nå°æ¶å\n * echarts ç¾åº¦å¾è¡¨\n * meditor.md å¼æºå¨çº¿ markdown ç¼è¾å¨\n * validator.js éªè¯åº\n\n\n# vueå·¥å·ç±»\n\n * vue-draggable åºäºsortable.jså®ç°çvueææ½æä»¶\n * vue-qr ææ¬è½¬äºç»´ç \n * vue-cropper å¾çè£åªæä»¶\n * vue-lazyload æå è½½\n * vue-simple-upload ä¸ä¼ ç»ä»¶\n\n\n# å¶ä»\n\n * h5å¸¦ç¬éæåç­¾åï¼æ¯æpcç«¯åç§»å¨ç«¯",charsets:{cjk:!0},lastUpdated:"2022/06/20, 22:47:41",lastUpdatedTimestamp:1655736461e3},{title:"ä½ ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤",frontmatter:{title:"ä½ ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤",date:"2020-05-06T15:52:40.000Z",permalink:"/pages/f2e63f",sidebar:"auto",categories:["éç¬"],tags:["å­¦ä¹ ","ç¥è¯","é¸¡æ±¤"],author:{name:"xugaoyi",link:"https://github.com/xugaoyi"}},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E4%BD%A0%E7%9F%A5%E9%81%93%E7%9A%84%E8%B6%8A%E5%A4%9A%EF%BC%8C%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E4%B9%9F%E5%B0%B1%E8%B6%8A%E5%A4%9A.html",relativePath:"_posts/éç¬/ä½ ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤.md",key:"v-2db11cb2",path:"/pages/f2e63f/",excerpt:"<p>ä¸ç¥éå¤§å®¶ææ²¡æåç°ï¼æä»¬èº«è¾¹ç»å¸¸æè¿æ ·çäººï¼ä»ä»¬è¶æ¯æè½åçï¼è¶æ¯æç¥è¯çï¼è¶æ¯ä½è°ï¼è¶æ¯è°¦éï¼å ä¸ºä»ä»¬æ·±ç¥ï¼ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤ã</p>\n",headersStr:null,content:"ä¸ç¥éå¤§å®¶ææ²¡æåç°ï¼æä»¬èº«è¾¹ç»å¸¸æè¿æ ·çäººï¼ä»ä»¬è¶æ¯æè½åçï¼è¶æ¯æç¥è¯çï¼è¶æ¯ä½è°ï¼è¶æ¯è°¦éï¼å ä¸ºä»ä»¬æ·±ç¥ï¼ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤ã\n\nä½ ç¥éçè¶å¤ï¼ä½ ä¸ç¥éçä¹å°±è¶å¤ï¼è¿æ¯ä¸å¥éå¸¸æå²ççè¯ã\n\næ¯ä¸ªäººçç¥è¯é¢é½æ¯æéçï¼ä½ æå¯è½å¨æä¸ªé¢åä¼æè¾æ·±çç ç©¶ï¼æä¸ºè¿ä¸ªé¢åéçä¸å®¶ï¼ç­å°ä½ ç«å¨é«å¤çæ¶åï¼æä¼åç°ï¼èªå·±æ¯å¤ä¹çæ¸ºå°ï¼æç¥éèªå·±æå¤å°æ²¡ææ¶åçé¢åãç¥éçè¶å¤ï¼çæãé®é¢å°±ä¼è¶æ¥è¶å¤ï¼å¯¹å·²ç¥çè´¨çãçèãå°æå°±ä¼è¶æ¥è¶å¤ã\n\nå³ä½¿å¦æ­¤ï¼æä»¬ä¹åºè¯¥åªåï¼è³å°å¯ä»¥æä¸ºæä¸ªé¢åçä½¼ä½¼èã\n\né¸¡æ±¤1\n\nå¼±å°çäººï¼æä¹ æ¯å²è®½ä¸å¦å®ï¼èåå¿å¼ºå¤§çäººï¼ä»ä¸åå¬èµç¾ä¸é¼å±ã\n\né¸¡æ±¤2\n\nå½ä»£éå¹´äººé½åºè¯¥æè±å·æ°ï¼åªç®¡åä¸èµ°ï¼ä¸å¿å¬ä»èªæ´èªå¼èçæµè¨ãè½åäºçåäºï¼è½åå£°çåå£°ãæä¸ä»½ç­ï¼åä¸ä»½åï¼å°±åè¤ç«ä¸è¬ï¼ä¹å¯ä»¥å¨é»æéåä¸ç¹åï¼ä¸å¿ç­åç¬ç«ã",normalizedContent:"ä¸ç¥éå¤§å®¶ææ²¡æåç°ï¼æä»¬èº«è¾¹ç»å¸¸æè¿æ ·çäººï¼ä»ä»¬è¶æ¯æè½åçï¼è¶æ¯æç¥è¯çï¼è¶æ¯ä½è°ï¼è¶æ¯è°¦éï¼å ä¸ºä»ä»¬æ·±ç¥ï¼ç¥éçè¶å¤ï¼ä¸ç¥éçä¹å°±è¶å¤ã\n\nä½ ç¥éçè¶å¤ï¼ä½ ä¸ç¥éçä¹å°±è¶å¤ï¼è¿æ¯ä¸å¥éå¸¸æå²ççè¯ã\n\næ¯ä¸ªäººçç¥è¯é¢é½æ¯æéçï¼ä½ æå¯è½å¨æä¸ªé¢åä¼æè¾æ·±çç ç©¶ï¼æä¸ºè¿ä¸ªé¢åéçä¸å®¶ï¼ç­å°ä½ ç«å¨é«å¤çæ¶åï¼æä¼åç°ï¼èªå·±æ¯å¤ä¹çæ¸ºå°ï¼æç¥éèªå·±æå¤å°æ²¡ææ¶åçé¢åãç¥éçè¶å¤ï¼çæãé®é¢å°±ä¼è¶æ¥è¶å¤ï¼å¯¹å·²ç¥çè´¨çãçèãå°æå°±ä¼è¶æ¥è¶å¤ã\n\nå³ä½¿å¦æ­¤ï¼æä»¬ä¹åºè¯¥åªåï¼è³å°å¯ä»¥æä¸ºæä¸ªé¢åçä½¼ä½¼èã\n\né¸¡æ±¤1\n\nå¼±å°çäººï¼æä¹ æ¯å²è®½ä¸å¦å®ï¼èåå¿å¼ºå¤§çäººï¼ä»ä¸åå¬èµç¾ä¸é¼å±ã\n\né¸¡æ±¤2\n\nå½ä»£éå¹´äººé½åºè¯¥æè±å·æ°ï¼åªç®¡åä¸èµ°ï¼ä¸å¿å¬ä»èªæ´èªå¼èçæµè¨ãè½åäºçåäºï¼è½åå£°çåå£°ãæä¸ä»½ç­ï¼åä¸ä»½åï¼å°±åè¤ç«ä¸è¬ï¼ä¹å¯ä»¥å¨é»æéåä¸ç¹åï¼ä¸å¿ç­åç¬ç«ã",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯",frontmatter:{title:"æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯",date:"2022-01-28T14:59:51.000Z",permalink:"/pages/829589/",titleTag:"åå",sidebar:"auto",categories:["éç¬"],tags:[null]},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E6%88%91%E5%81%9A%E4%BA%86%E4%B8%80%E4%B8%AA%E6%89%8B%E5%86%99%E6%98%A5%E8%81%94%E5%B0%8F%E7%BD%91%E9%A1%B5%EF%BC%8C%E7%A5%9D%E5%A4%A7%E5%AE%B6%E8%99%8E%E5%B9%B4%E6%9A%B4%E5%AF%8C.html",relativePath:"_posts/éç¬/æåäºä¸ä¸ªæåæ¥èå°ç½é¡µï¼ç¥å¤§å®¶èå¹´æ´å¯.md",key:"v-a5c5f278",path:"/pages/829589/",headers:[{level:3,title:"åè¨",slug:"åè¨",normalizedTitle:"åè¨",charIndex:33},{level:3,title:"äº§åææ",slug:"äº§åææ",normalizedTitle:"äº§åææ",charIndex:195},{level:3,title:"è®¾è®¡",slug:"è®¾è®¡",normalizedTitle:"è®¾è®¡",charIndex:478},{level:3,title:"å¼å",slug:"å¼å",normalizedTitle:"å¼å",charIndex:487}],excerpt:'<p>æåæ¥èï¼<a href="https://cl.xugaoyi.com/" target="_blank" rel="noopener noreferrer">https://cl.xugaoyi.com/<OutboundLink/></a></p>\n<h3 id="åè¨"><a class="header-anchor" href="#åè¨">#</a> åè¨</h3>\n<p>èå¹´æ¥èå¿«å°äºï¼é¦åç¥å¤§å®¶æ°å¹´å¿«ä¹ï¼è½»æ¾æ´å¯ã\næè¿å¨ç½ä¸ç»å¸¸çå°çææ¥èçæç« ï¼ä¸è¿è¿äºå°demoè¦ä¹åè½ç®é,è¦ä¹UIç¹å«âç¨åºåâï¼æ»¡è¶³ä¸äºææåçç¼åãå¹²èæèªå·±åä¸ä¸ªå§ï¼é¡ºä¾¿ç®åä½éªä¸ä¸vite+vue3ãï¼å ä¸ºé¡µé¢ç¸å¯¹ç®åï¼vueç»ä»¶é£æ ¼è¿æ¯ä½¿ç¨éé¡¹å¼apiï¼éç¹è¿æ¯æ³æäº§åå¿«éååºæ¥ãï¼</p>\n',headersStr:"åè¨ äº§åææ è®¾è®¡ å¼å",content:'æåæ¥èï¼https://cl.xugaoyi.com/\n\n\n# åè¨\n\nèå¹´æ¥èå¿«å°äºï¼é¦åç¥å¤§å®¶æ°å¹´å¿«ä¹ï¼è½»æ¾æ´å¯ã æè¿å¨ç½ä¸ç»å¸¸çå°çææ¥èçæç« ï¼ä¸è¿è¿äºå°demoè¦ä¹åè½ç®é,è¦ä¹UIç¹å«âç¨åºåâï¼æ»¡è¶³ä¸äºææåçç¼åãå¹²èæèªå·±åä¸ä¸ªå§ï¼é¡ºä¾¿ç®åä½éªä¸ä¸vite+vue3ãï¼å ä¸ºé¡µé¢ç¸å¯¹ç®åï¼vueç»ä»¶é£æ ¼è¿æ¯ä½¿ç¨éé¡¹å¼apiï¼éç¹è¿æ¯æ³æäº§åå¿«éååºæ¥ãï¼\n\n\n\n\n# äº§åææ\n\nåå«æåæ¥èåçææ¥èä¸¤å¤§åè½ï¼\n\n * æåæ¥è\n   \n   * æ¨¡æç¨ç¬åå­çå­è¿¹\n   * éæ©ç»ç¬é¢è²\n   * è°æ´ç»ç¬å¤§å°\n   * æ¸ç©ºç»å¸\n   * æ¤åç¬ç»\n   * åæ¢ä¸ãä¸èãæ¨ªæ¹ãç¦å­\n   * éæºåæ¢å¯¹èæç¤º\n   * é¢è§å¾çåä¸è½½\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * çææ¨¡å¼\n   \n   * éæ©ç»ç¬é¢è²\n   * æéçæçå¯¹è\n   * è¾å¥å¯¹è\n   * éæºåæ¢å¯¹è\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * å¶ä»\n   \n   * å¿«éåæ¢æ¨¡å¼æé®\n   * å¯æ§å¶çèæ¯é³ä¹\n   * å¾®ä¿¡åäº«ç½é¡µ\n\n\n# è®¾è®¡\n\n\n\n\n# å¼å\n\n * ææ¯æ \n   * vite (æå&æå»º)\n   * vue3 (é¡µé¢å¼å)\n   * vantï¼uiï¼\n   * sass (css)\n   * smooth-signature.js (å¸¦ç¬éæååº)\n\n<template>\n  <div class="wrap" :class="\'mode-\' + mode" @touchstart="handleTouchstart">\n    \x3c!-- åæ¢æ¨¡å¼æé® --\x3e\n    <div class="toggle-mode-btn" @click="toggleMode">\n      {{ mode === 1 ? \'æå\' : \'çæ\' }}\n      <i class="iconfont icon-qiehuan"></i>\n    </div>\n\n    \x3c!-- å·¥å·æ  --\x3e\n    <div\n      class="actions"\n      :style="{ borderTopRightRadius: colorListVisibility ? \'0\' : \'5px\' }"\n    >\n      \x3c!-- æåæ¨¡å¼æ¾ç¤º --\x3e\n      <template v-if="mode === 1">\n        \x3c!-- è°è²æ¿ --\x3e\n        <div class="palette btn-block">\n          <div\n            class="cur-color"\n            @click="togglePalette"\n            :style="{ background: colorList[curColorIndex] }"\n          ></div>\n          <ul class="colorList" v-show="colorListVisibility">\n            <li\n              v-for="(item, index) in colorList"\n              :key="item"\n              :style="{ background: item }"\n              @click="selectColor(index)"\n            ></li>\n          </ul>\n        </div>\n\n        \x3c!-- æ»å --\x3e\n        <div class="slider-box btn-block">\n          <van-slider\n            v-model="progress"\n            vertical\n            @change="changeProgress"\n            bar-height="28"\n            active-color="transparent"\n            :min="50"\n            :max="150"\n          >\n            <template #button>\n              <div class="custom-button"></div>\n            </template>\n          </van-slider>\n        </div>\n\n        \x3c!-- æ¸ç©º --\x3e\n        <div class="btn" @click="handleClear">\n          <i class="iconfont icon-lajitong"></i>\n        </div>\n\n        \x3c!-- æ¤é --\x3e\n        <div class="btn" @click="handleUndo">\n          <i class="iconfont icon-fanhui"></i>\n        </div>\n\n        <div class="line"></div>\n\n        \x3c!-- åæ¢ç»å¸çæé® --\x3e\n        <div\n          class="btn"\n          :class="{ \'cur-active\': curCanvasIndex === index }"\n          v-for="(item, index) in canvasList"\n          :key="item.name"\n          @click="changeCanvas(index)"\n        >\n          {{ item.name }}\n        </div>\n\n        <div class="line"></div>\n\n        <div class="btn prominent" @click="handlePreview">é¢è§</div>\n        <div class="btn prominent" @click="openPosters">è´´è</div>\n      </template>\n\n      \x3c!-- çææ¨¡å¼æ¾ç¤º --\x3e\n      <template v-else>\n        \x3c!-- éé¢è² --\x3e\n        <div\n          class="color-list-quick"\n          :class="{ active: curColorIndex === index }"\n          v-for="(item, index) in colorList"\n          :key="item"\n          :style="{ background: item }"\n          @click="selectColor(index)"\n        ></div>\n        <div class="line"></div>\n        <div class="btn" @click="showPickBox = true">æé</div>\n        <div class="btn" @click="showInputBox = true">è¾å¥</div>\n\n        \x3c!-- æéå¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showPickBox" title="è¯·æéå¯¹è">\n          <ul class="duilian-list">\n            <li\n              v-for="(item, index) in duilianList"\n              :key="index"\n              @click="handlePickDuilian(item)"\n            >\n              <span>{{ item.shang }}</span\n              >ï¼ <span>{{ item.xia }}</span\n              >ã\n              <span>{{ item.heng }}</span>\n            </li>\n          </ul>\n        </van-action-sheet>\n\n        \x3c!-- è¾å¥å¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showInputBox" title="è¯·è¾å¥å¯¹è">\n          <van-form @submit="handleSubmitInput">\n            <van-cell-group inset>\n              <van-field\n                v-model="shanglian"\n                name="shang"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="xialian"\n                name="xia"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="hengpi"\n                name="heng"\n                label="æ¨ªæ¹"\n                placeholder="æ¨ªæ¹"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥4ä½æ±å­æ¨ªæ¹\',\n                    pattern: /^[\\u4e00-\\u9fa5]{4}$/\n                  }\n                ]"\n                clearable\n              />\n            </van-cell-group>\n            <div style="margin: 16px">\n              <van-button\n                round\n                block\n                type="primary"\n                native-type="submit"\n                color="linear-gradient(to right, #ff6034, #c33825)"\n              >\n                å®æ\n              </van-button>\n            </div>\n          </van-form>\n        </van-action-sheet>\n      </template>\n    </div>\n\n    \x3c!-- æ¨¡å¼1-æ¥èç»å¸ --\x3e\n    <div\n      v-show="mode === 1"\n      v-for="(item, index) in canvasList"\n      :key="item.name"\n    >\n      <canvas\n        class="canvas"\n        :class="item.className"\n        v-show="curCanvasIndex === index"\n        :style="{\n          marginTop:\n            item.height < clientHeight\n              ? `${(clientHeight - item.height) / 2}px`\n              : 0,\n          marginLeft:\n            item.width < clientWidth ? `${(clientWidth - item.width) / 2}px` : 0\n        }"\n      />\n    </div>\n\n    \x3c!-- æ¨¡å¼2-æ¥èç»å¸ --\x3e\n    <div v-show="mode === 2" class="canvas-mode-2">\n      <div class="row">\n        <canvas id="canvas-top" :width="200 * scale" :height="60 * scale" />\n      </div>\n      <div class="row">\n        <canvas id="canvas-left" :width="60 * scale" :height="364 * scale" />\n        <canvas id="canvas-right" :width="60 * scale" :height="364 * scale" />\n      </div>\n    </div>\n\n    \x3c!-- è´´æ¥èæé® --\x3e\n    <Button class="btn-posters" @click="openPosters" />\n\n    \x3c!-- footer-å½åå¯¹èæç¤º --\x3e\n    <footer v-if="duilian.shang">\n      <div class="refresh-btn" @click="handleRefresh(true)">\n        <i class="iconfont icon-shuaxin" :class="{ rotate: isRotate }"></i>\n      </div>\n      <dl class="duilian">\n        <dt>å¯¹è</dt>\n        <dd>\n          <div>{{ duilian.shang }}</div>\n          <div>{{ duilian.xia }}</div>\n        </dd>\n      </dl>\n      <dl>\n        <dt>æ¨ªæ¹</dt>\n        <dd>{{ duilian.heng }}</dd>\n      </dl>\n    </footer>\n\n    \x3c!-- åäº«æé® --\x3e\n    <div class="share-btn" v-if="isShowShareBtn" @click="isShowShareTip = true">\n      <i class="iconfont icon-fenxiang"></i>\n    </div>\n    \x3c!-- å¾®ä¿¡åäº«æç¤ºè¯­ --\x3e\n    <div\n      class="share-tip"\n      v-if="isShowShareTip"\n      @click="isShowShareTip = false"\n    >\n      ç¹å»å³ä¸è§æè¿ä¸ªå·¥å·åäº«ç»æå\n      <div class="hand">ð</div>\n    </div>\n\n    \x3c!-- ä¿å­tip --\x3e\n    <p v-if="isShowTip" class="download-tip">*é¿æå¾çä¿å­æè½¬å</p>\n\n    \x3c!-- çæ --\x3e\n    <div class="copyright">å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã Â©çæææ</div>\n\n    \x3c!-- è½½å¥å¾çåç´ ï¼ç¨äºå¿«éè´´å¾ä½¿ç¨, æ³¨æè®¾ç½®crossorigin="anonymous"è§£å³è·¨å --\x3e\n    <div v-if="isReadImages">\n      <img\n        crossorigin="anonymous"\n        v-for="(item, index) in bgList"\n        :src="item"\n        :key="item"\n        class="hide-img"\n        :id="`bg-img-` + index"\n      />\n      <img\n        crossorigin="anonymous"\n        class="hide-img"\n        id="qrcode"\n        src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/img/qrcode.zul0pldsuao.png"\n      />\n    </div>\n\n    \x3c!-- èæ¯é³ä¹ --\x3e\n    <audio\n      src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/cjxq.mp3"\n      id="bgm"\n      ref="bgm"\n      loop\n    />\n    <div\n      class="play-btn"\n      :class="{ paused: !isPlay }"\n      ref="playBtn"\n      @click="handlePlay"\n    >\n      <i class="iconfont icon-yinle"></i>\n    </div>\n  </div>\n\n  <div class="body-bg-img"></div>\n</template>\n\n<script>\nimport { ImagePreview, Notify } from \'vant\'\nimport { isWX, isMobile } from \'@/utils\'\nimport Button from \'@/components/Button.vue\'\nimport dl from \'@/assets/img/yh/dl.jpeg\'\nimport hp from \'@/assets/img/yh/hp.jpeg\'\nimport fz from \'@/assets/img/yh/fz.png\'\n\n// å¯¹èæ°æ®\nimport duilianList from \'@/mock/duilian\'\n\nconst PROPORTION = 0.37 // å¾çç¼©å°æ¯ä¾\nconst INSTANTIATE_NAME = \'signature\' // å®ä¾åç§°\nconst MIN_WIDTH = 3 // ç»ç¬æå°å®½\nconst MAX_WIDTH = 12 // ç»ç¬æå¤§å®½\n\n// æµ·æ¥èæ¯å¾å¤§å°\nconst BG_WIDTH = 750\nconst BG_HEIGHT = 1448\n\n// è´´å¾å®ä½åå¤§å°\nconst POSITION = [\n  { left: 57, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 600, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 225, top: 345, width: 300, height: 90 }, // æ¨ªå¹\n  { left: 460, top: 450, width: 130, height: 130 }, // ç¦å­\n]\n\nexport default {\n  name: "Home",\n  components: {\n    Button\n  },\n  data() {\n    return {\n      duilianList,\n      mode: Number(localStorage.getItem(\'mode\')) || 1, // 1 æåï¼2 çæ\n      curCanvasIndex: 0, // æ¾ç¤ºåªä¸ªç»å¸\n      progress: 100, // ç»ç¬å¤§å°çå»åº¦\n      clientWidth: document.documentElement.clientWidth,\n      clientHeight: document.documentElement.clientHeight,\n      canvasList: [\n        {\n          name: \'ä¸è\',\n          className: \'canvas-a\',\n          bgImage: dl,\n          width: 600 * PROPORTION,\n          height: 3640 * PROPORTION,\n        },\n        {\n          name: \'ä¸è\',\n          className: \'canvas-b\',\n          bgImage: dl,\n          width: 600 * PROPORTION,\n          height: 3640 * PROPORTION,\n        },\n        {\n          name: \'æ¨ªæ¹\',\n          className: \'canvas-c\',\n          bgImage: hp,\n          width: 2000 * PROPORTION,\n          height: 600 * PROPORTION,\n        },\n        {\n          name: \'ç¦å­\',\n          className: \'canvas-d\',\n          bgImage: fz,\n          width: 366,\n          height: 366,\n        }\n      ],\n      colorList: [\'#000000\', \'#ffd800\', \'#e8bd48\', \'#ddc08c\',],\n      curColorIndex: 0,\n      colorListVisibility: false, // ç»å¸é¢è²éæ©åè¡¨å¯è§æ§\n      isShowTip: false, // æ¯å¦æ¾ç¤ºåºé¨æç¤ºè¯­\n      duilian: {}, // å½åå¯¹èææ¬å¯¹è±¡\n      isRotate: false, // å·æ°iconæè½¬\n      bgList: [\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/1.4j8qpdnq80i0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/4.4460an8ag5o0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/5.3axtl4xpvy00.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/6.2lnbphdqjaq0.jpeg\',\n      ],\n      isReadImages: false, // å»¶è¿å è½½å¾çç¨\n      isShowShareBtn: false, // æ¯å¦æ¾ç¤ºåäº«æé®\n      isShowShareTip: false, // æ¯å¦æ¾ç¤ºåäº«æç¤ºè¯­\n      isPlay: false, // æ¯å¦å¨æ­æ¾\n\n      // æ¨¡å¼2\n      canvasTop: null, // æ¨ªæ¹\n      canvasLeft: null, // ä¸è\n      canvasRight: null, // ä¸è\n      imgObj1: null, // æ¨ªæ¹å¾çå¯¹è±¡\n      imgObj2: null, // ä¸ä¸èå¾çå¯¹è±¡\n      scale: Math.max(window.devicePixelRatio || 1, 2), // ç¨äºå¢å ç»å¸æ¸æ°åº¦\n      showPickBox: false, // æéå¯¹èçå¼¹æ¡\n      showInputBox: false, // è¾å¥å¯¹èçå¼¹æ¡\n      shanglian: \'\', // è¾å¥çä¸è\n      xialian: \'\', // è¾å¥çä¸è\n      hengpi: \'\', // è¾å¥çæ¨ªæ¹\n    };\n  },\n  computed: {\n    // æ¨¡å¼1-å½åç»å¸å®ä¾\n    curCanvasInstantiate() {\n      return this[INSTANTIATE_NAME + this.curCanvasIndex]\n    }\n  },\n  created() {\n    // å¾®ä¿¡æµè§å¨æ¾ç¤ºåäº«æé®\n    this.isShowShareBtn = isWX()\n  },\n  mounted() {\n    if (!isMobile()) {\n      Notify({ type: \'warning\', message: \'è¯·ç¨ç§»å¨ç«¯æå¼è·å¾æä½³ä½éª\', duration: 6000, });\n    }\n\n    this.initMode1();\n\n    // åå§åå¯¹èæç¤º\n    this.handleRefresh();\n\n    this.initMode2();\n\n    // æé®æ·»å æ¿æ´»æ¶ååææclass\n    const btnEl = document.querySelectorAll(\'.btn,.btn-block\');\n    btnEl.forEach((item) => {\n      item.addEventListener(\'touchstart\', () => {\n        item.classList.add(\'btn-active\')\n      })\n      item.addEventListener(\'touchend\', () => {\n        setTimeout(() => {\n          item.classList.remove(\'btn-active\')\n        }, 100)\n      })\n    })\n\n    // å»¶è¿å è½½è´´å¾èæ¯\n    setTimeout(() => {\n      this.isReadImages = true\n    }, 1000)\n  },\n\n  watch: {\n    // åæ¢ç»ç¬é¢è²\n    curColorIndex() {\n      this.curCanvasInstantiate.color = this.colorList[this.curColorIndex]\n      if (this.mode === 2) {\n        this.refreshDuilian()\n      }\n    },\n    // åæ¢ç»å¸æ¶åºç¨å½åç»ç¬é¢è²åå¤§å°\n    curCanvasIndex() {\n      this.curCanvasInstantiate.color = this.colorList[this.curColorIndex]\n      this.handleChangeSize()\n      window.scrollTo(0, 0)\n    }\n  },\n\n  methods: {\n    initMode1() {\n      const { colorList, curColorIndex } = this\n      this.canvasList.forEach((item, index) => {\n        const options = {\n          width: item.width,\n          height: item.height,\n          minWidth: MIN_WIDTH, // ç»ç¬æå°å®½åº¦(px)\n          maxWidth: MAX_WIDTH, // ç»ç¬æå¤§å®½åº¦\n          minSpeed: 1.8, // ç»ç¬è¾¾å°æå°å®½åº¦æéæå°éåº¦(px/ms)ï¼åå¼èå´1.0-10.0\n          color: colorList[curColorIndex],\n          // æ°å¢çéç½®\n          bgImage: item.bgImage,\n        };\n\n        this[INSTANTIATE_NAME + index] = new SmoothSignature(document.querySelector(\'.\' + item.className), options);\n      })\n    },\n\n    initMode2() {\n      this.canvasTop = document.getElementById(\'canvas-top\').getContext(\'2d\')\n      this.canvasLeft = document.getElementById(\'canvas-left\').getContext(\'2d\')\n      this.canvasRight = document.getElementById(\'canvas-right\').getContext(\'2d\')\n\n      // è®¾å­ä½æ ·å¼\n      const font = "36px xs, cursive"\n      this.canvasTop.font = font\n      this.canvasLeft.font = font\n      this.canvasRight.font = font\n\n      // å¢å¼ºæ¸æ°åº¦\n      const { scale } = this\n      this.canvasTop.scale(scale, scale);\n      this.canvasLeft.scale(scale, scale);\n      this.canvasRight.scale(scale, scale);\n\n      // è®¾èæ¯å¾\n      this.imgObj1 = new Image()\n      this.imgObj2 = new Image()\n      this.imgObj1.src = hp\n      this.imgObj2.src = dl\n      this.imgObj1.onload = () => {\n        // è´´èæ¯\n        this.canvasTop.drawImage(this.imgObj1, 0, 0, 200, 60)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handleTopFillText()\n        });\n      }\n      this.imgObj2.onload = () => {\n        // è´´èæ¯\n        this.canvasLeft.drawImage(this.imgObj2, 0, 0, 60, 364)\n        this.canvasRight.drawImage(this.imgObj2, 0, 0, 60, 364)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handleLRFillText(this.canvasLeft, this.duilian.shang)\n          this.handleLRFillText(this.canvasRight, this.duilian.xia)\n        });\n      }\n    },\n\n    // æ¨¡å¼2-å·æ°å¯¹è\n    refreshDuilian() {\n      this.canvasTop.drawImage(this.imgObj1, 0, 0, 200, 60)\n      this.canvasLeft.drawImage(this.imgObj2, 0, 0, 60, 364)\n      this.canvasRight.drawImage(this.imgObj2, 0, 0, 60, 364)\n      this.handleTopFillText()\n      this.handleLRFillText(this.canvasLeft, this.duilian.shang)\n      this.handleLRFillText(this.canvasRight, this.duilian.xia)\n    },\n\n    // æ¨¡å¼2-è´´æ¨ªæ¹\n    handleTopFillText() {\n      // è´´ææ¬\n      this.canvasTop.fillStyle = this.colorList[this.curColorIndex]\n      if (this.duilian.heng) {\n        this.duilian.heng.split(\'\').forEach((item, index) => {\n          const left = 42 * (index + 1) - 22\n          this.canvasTop.fillText(item, left, 40)\n        })\n      }\n    },\n\n    // æ¨¡å¼2-è´´ä¸ä¸è\n    handleLRFillText(ctx, text) {\n      ctx.fillStyle = this.colorList[this.curColorIndex]\n      if (text) {\n        text.split(\'\').forEach((item, index) => {\n          const top = 50 * (index + 1) - 8\n          ctx.fillText(item, 13, top)\n        })\n      }\n    },\n\n    // åæ¢æ¨¡å¼\n    toggleMode() {\n      if (this.mode === 1) {\n        this.mode = 2\n        this.refreshDuilian()\n      } else {\n        this.mode = 1\n      }\n      localStorage.setItem(\'mode\', this.mode);\n    },\n\n    // æå¼è°è²æ¿\n    togglePalette() {\n      this.colorListVisibility = !this.colorListVisibility\n    },\n\n    // å³é­è°è²æ¿\n    handleTouchstart(e) {\n      // ä¸æ¯ç¹å»éæ©é¢è²æ¶\n      if (e.path[1]?.classList?.value !== \'colorList\' && e.target.classList?.value !== \'cur-color\') {\n        this.colorListVisibility = false\n      }\n    },\n\n    // éæ©é¢è²\n    selectColor(index) {\n      this.curColorIndex = index\n      this.colorListVisibility = false\n    },\n\n    // åæ¢ç»å¸\n    changeCanvas(index) {\n      this.curCanvasIndex = index\n    },\n\n    // æ¸ç©ºç»å¸\n    handleClear() {\n      this.curCanvasInstantiate.clear();\n    },\n\n    // æ¤éç¬ç»\n    handleUndo() {\n      this.curCanvasInstantiate.undo();\n    },\n\n    // é¢è§\n    handlePreview() {\n      this.showTopTip();\n      this.isShowTip = true\n      const _this = this\n      ImagePreview({\n        images: this.getImageList(),\n        closeable: true,\n        startPosition: this.curCanvasIndex,\n        onClose() {\n          _this.isShowTip = false\n        },\n      });\n    },\n\n    // æå¼æµ·æ¥é¢è§\n    openPosters() {\n      // åå»ºç»å¸\n      const canvas = document.createElement(\'canvas\');\n      canvas.width = BG_WIDTH\n      canvas.height = BG_HEIGHT\n      const ctx = canvas.getContext(\'2d\');\n      const resultImageList = [];\n\n      // æ¯å¦éèç¦å­\n      const isHideFu = this[INSTANTIATE_NAME + 3].isEmpty()\n      this.bgList.forEach((item, index) => {\n        // è´´èæ¯å¾\n        ctx.drawImage(document.getElementById(\'bg-img-\' + index), 0, 0, BG_WIDTH, BG_HEIGHT)\n\n        // è´´å¯¹è\n        if (this.mode === 1) {\n          this.canvasList.forEach((item, index) => {\n            if (index === 3 && isHideFu) return;\n            const dlCanvas = document.querySelector(\'.\' + item.className)\n            const { left, top, width, height } = POSITION[index]\n            ctx.drawImage(dlCanvas, left, top, width, height)\n          })\n        } else {\n          [\'canvas-left\', \'canvas-right\', \'canvas-top\'].forEach((item, index) => {\n            const dlCanvas = document.getElementById(item)\n            const { left, top, width, height } = POSITION[index]\n            ctx.drawImage(dlCanvas, left, top, width, height)\n          })\n        }\n\n        // è´´äºç»´ç \n        ctx.drawImage(document.getElementById("qrcode"), 40, 1280, 580, 136)\n\n        // è´´ææ¬\n        ctx.font = "18px sans-serif"\n        ctx.fillStyle = "#666666"\n        ctx.fillText(\'Â©å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã\', 550, 1420)\n\n        // å¯¼åºå¾ç\n        resultImageList.push(canvas.toDataURL(\'image/jpeg\', 0.8))\n      })\n\n      // æå¼å¾çé¢è§\n      this.isShowTip = true\n      const _this = this\n      ImagePreview({\n        images: resultImageList,\n        closeable: true,\n        onClose() {\n          _this.isShowTip = false\n        },\n      });\n      this.showTopTip();\n    },\n\n    // å¼¹åºé¡¶é¨æç¤ºè¯­\n    showTopTip() {\n      if (!sessionStorage.getItem(\'showTip\')) {\n        sessionStorage.setItem(\'showTip\', \'true\');\n        Notify({\n          message: \'é¿æå¾çå¯ä¿å­å°æ¬å°\',\n          color: \'#c33825\',\n          background: \'#eed3ae\',\n        });\n      }\n    },\n\n    // è·åå¯¹èå¾çåè¡¨\n    getImageList(type = \'image/png\') {\n      const imageList = []\n      this.canvasList.forEach((item, index) => {\n        if (index === 3) {\n          // `ç¦`å­å¿é¡»æ¯pngæ ¼å¼\n          type = \'image/png\'\n        }\n        imageList.push(this[INSTANTIATE_NAME + index].toDataURL(type, 0.8))\n      })\n      return imageList\n    },\n\n    // è¿åº¦æ¹åæ¶\n    changeProgress(progress) {\n      this.progress = progress\n      this.handleChangeSize()\n    },\n\n    // è°æ´ç»ç¬å¤§å°\n    handleChangeSize() {\n      const { progress } = this\n      this.curCanvasInstantiate.minWidth = MIN_WIDTH * progress / 100\n      this.curCanvasInstantiate.maxWidth = MAX_WIDTH * progress / 100\n    },\n\n    // å·æ°å¯¹è\n    handleRefresh(rotate) {\n      this.duilian = duilianList[Math.floor(Math.random() * duilianList.length)]\n\n      if (rotate) {\n        if (this.mode === 2) {\n          this.refreshDuilian()\n        }\n        // ä½¿iconæè½¬\n        this.isRotate = true\n        setTimeout(() => {\n          this.isRotate = false\n        }, 300)\n      }\n    },\n\n    // æ­æ¾èæ¯é³ä¹\n    handlePlay() {\n      const { bgm } = this.$refs\n      if (bgm.paused) {\n        bgm.play()\n        this.isPlay = true\n      } else {\n        bgm.pause()\n        this.isPlay = false\n      }\n    },\n\n    // å®æè¾å¥å¯¹è\n    handleSubmitInput(values) {\n      this.duilian = values\n      this.showInputBox = false\n      this.refreshDuilian()\n    },\n\n    // å®ææéå¯¹è\n    handlePickDuilian(item) {\n      this.duilian = item\n      this.showPickBox = false\n      this.refreshDuilian()\n    }\n  },\n};\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n260\n261\n262\n263\n264\n265\n266\n267\n268\n269\n270\n271\n272\n273\n274\n275\n276\n277\n278\n279\n280\n281\n282\n283\n284\n285\n286\n287\n288\n289\n290\n291\n292\n293\n294\n295\n296\n297\n298\n299\n300\n301\n302\n303\n304\n305\n306\n307\n308\n309\n310\n311\n312\n313\n314\n315\n316\n317\n318\n319\n320\n321\n322\n323\n324\n325\n326\n327\n328\n329\n330\n331\n332\n333\n334\n335\n336\n337\n338\n339\n340\n341\n342\n343\n344\n345\n346\n347\n348\n349\n350\n351\n352\n353\n354\n355\n356\n357\n358\n359\n360\n361\n362\n363\n364\n365\n366\n367\n368\n369\n370\n371\n372\n373\n374\n375\n376\n377\n378\n379\n380\n381\n382\n383\n384\n385\n386\n387\n388\n389\n390\n391\n392\n393\n394\n395\n396\n397\n398\n399\n400\n401\n402\n403\n404\n405\n406\n407\n408\n409\n410\n411\n412\n413\n414\n415\n416\n417\n418\n419\n420\n421\n422\n423\n424\n425\n426\n427\n428\n429\n430\n431\n432\n433\n434\n435\n436\n437\n438\n439\n440\n441\n442\n443\n444\n445\n446\n447\n448\n449\n450\n451\n452\n453\n454\n455\n456\n457\n458\n459\n460\n461\n462\n463\n464\n465\n466\n467\n468\n469\n470\n471\n472\n473\n474\n475\n476\n477\n478\n479\n480\n481\n482\n483\n484\n485\n486\n487\n488\n489\n490\n491\n492\n493\n494\n495\n496\n497\n498\n499\n500\n501\n502\n503\n504\n505\n506\n507\n508\n509\n510\n511\n512\n513\n514\n515\n516\n517\n518\n519\n520\n521\n522\n523\n524\n525\n526\n527\n528\n529\n530\n531\n532\n533\n534\n535\n536\n537\n538\n539\n540\n541\n542\n543\n544\n545\n546\n547\n548\n549\n550\n551\n552\n553\n554\n555\n556\n557\n558\n559\n560\n561\n562\n563\n564\n565\n566\n567\n568\n569\n570\n571\n572\n573\n574\n575\n576\n577\n578\n579\n580\n581\n582\n583\n584\n585\n586\n587\n588\n589\n590\n591\n592\n593\n594\n595\n596\n597\n598\n599\n600\n601\n602\n603\n604\n605\n606\n607\n608\n609\n610\n611\n612\n613\n614\n615\n616\n617\n618\n619\n620\n621\n622\n623\n624\n625\n626\n627\n628\n629\n630\n631\n632\n633\n634\n635\n636\n637\n638\n639\n640\n641\n642\n643\n644\n645\n646\n647\n648\n649\n650\n651\n652\n653\n654\n655\n656\n657\n658\n659\n660\n661\n662\n663\n664\n665\n666\n667\n668\n669\n670\n671\n672\n673\n674\n675\n676\n677\n678\n679\n680\n681\n682\n683\n684\n685\n686\n687\n688\n689\n690\n691\n692\n693\n694\n695\n696\n697\n698\n699\n700\n701\n702\n703\n704\n705\n706\n707\n708\n709\n710\n711\n712\n713\n714\n715\n716\n717\n718\n719\n720\n721\n722\n723\n724\n725\n726\n727\n728\n729\n730\n731\n732\n733\n734\n735\n736\n737\n\n\næ´å¤æè¶£çå°ç½é¡µæ¬¢è¿å³æ³¨å¬ä¼å·æè¶£ç ç©¶ç¤¾:\n\n> æåæ¥è\n> FCå¨çº¿æ¨¡æå¨\n> ç±å½å¤´åçæå¨\n> å°è´¦è¯­é³çæå¨',normalizedContent:'æåæ¥èï¼https://cl.xugaoyi.com/\n\n\n# åè¨\n\nèå¹´æ¥èå¿«å°äºï¼é¦åç¥å¤§å®¶æ°å¹´å¿«ä¹ï¼è½»æ¾æ´å¯ã æè¿å¨ç½ä¸ç»å¸¸çå°çææ¥èçæç« ï¼ä¸è¿è¿äºå°demoè¦ä¹åè½ç®é,è¦ä¹uiç¹å«âç¨åºåâï¼æ»¡è¶³ä¸äºææåçç¼åãå¹²èæèªå·±åä¸ä¸ªå§ï¼é¡ºä¾¿ç®åä½éªä¸ä¸vite+vue3ãï¼å ä¸ºé¡µé¢ç¸å¯¹ç®åï¼vueç»ä»¶é£æ ¼è¿æ¯ä½¿ç¨éé¡¹å¼apiï¼éç¹è¿æ¯æ³æäº§åå¿«éååºæ¥ãï¼\n\n\n\n\n# äº§åææ\n\nåå«æåæ¥èåçææ¥èä¸¤å¤§åè½ï¼\n\n * æåæ¥è\n   \n   * æ¨¡æç¨ç¬åå­çå­è¿¹\n   * éæ©ç»ç¬é¢è²\n   * è°æ´ç»ç¬å¤§å°\n   * æ¸ç©ºç»å¸\n   * æ¤åç¬ç»\n   * åæ¢ä¸ãä¸èãæ¨ªæ¹ãç¦å­\n   * éæºåæ¢å¯¹èæç¤º\n   * é¢è§å¾çåä¸è½½\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * çææ¨¡å¼\n   \n   * éæ©ç»ç¬é¢è²\n   * æéçæçå¯¹è\n   * è¾å¥å¯¹è\n   * éæºåæ¢å¯¹è\n   * è´´æ¥èæµ·æ¥åä¸è½½\n\n * å¶ä»\n   \n   * å¿«éåæ¢æ¨¡å¼æé®\n   * å¯æ§å¶çèæ¯é³ä¹\n   * å¾®ä¿¡åäº«ç½é¡µ\n\n\n# è®¾è®¡\n\n\n\n\n# å¼å\n\n * ææ¯æ \n   * vite (æå&æå»º)\n   * vue3 (é¡µé¢å¼å)\n   * vantï¼uiï¼\n   * sass (css)\n   * smooth-signature.js (å¸¦ç¬éæååº)\n\n<template>\n  <div class="wrap" :class="\'mode-\' + mode" @touchstart="handletouchstart">\n    \x3c!-- åæ¢æ¨¡å¼æé® --\x3e\n    <div class="toggle-mode-btn" @click="togglemode">\n      {{ mode === 1 ? \'æå\' : \'çæ\' }}\n      <i class="iconfont icon-qiehuan"></i>\n    </div>\n\n    \x3c!-- å·¥å·æ  --\x3e\n    <div\n      class="actions"\n      :style="{ bordertoprightradius: colorlistvisibility ? \'0\' : \'5px\' }"\n    >\n      \x3c!-- æåæ¨¡å¼æ¾ç¤º --\x3e\n      <template v-if="mode === 1">\n        \x3c!-- è°è²æ¿ --\x3e\n        <div class="palette btn-block">\n          <div\n            class="cur-color"\n            @click="togglepalette"\n            :style="{ background: colorlist[curcolorindex] }"\n          ></div>\n          <ul class="colorlist" v-show="colorlistvisibility">\n            <li\n              v-for="(item, index) in colorlist"\n              :key="item"\n              :style="{ background: item }"\n              @click="selectcolor(index)"\n            ></li>\n          </ul>\n        </div>\n\n        \x3c!-- æ»å --\x3e\n        <div class="slider-box btn-block">\n          <van-slider\n            v-model="progress"\n            vertical\n            @change="changeprogress"\n            bar-height="28"\n            active-color="transparent"\n            :min="50"\n            :max="150"\n          >\n            <template #button>\n              <div class="custom-button"></div>\n            </template>\n          </van-slider>\n        </div>\n\n        \x3c!-- æ¸ç©º --\x3e\n        <div class="btn" @click="handleclear">\n          <i class="iconfont icon-lajitong"></i>\n        </div>\n\n        \x3c!-- æ¤é --\x3e\n        <div class="btn" @click="handleundo">\n          <i class="iconfont icon-fanhui"></i>\n        </div>\n\n        <div class="line"></div>\n\n        \x3c!-- åæ¢ç»å¸çæé® --\x3e\n        <div\n          class="btn"\n          :class="{ \'cur-active\': curcanvasindex === index }"\n          v-for="(item, index) in canvaslist"\n          :key="item.name"\n          @click="changecanvas(index)"\n        >\n          {{ item.name }}\n        </div>\n\n        <div class="line"></div>\n\n        <div class="btn prominent" @click="handlepreview">é¢è§</div>\n        <div class="btn prominent" @click="openposters">è´´è</div>\n      </template>\n\n      \x3c!-- çææ¨¡å¼æ¾ç¤º --\x3e\n      <template v-else>\n        \x3c!-- éé¢è² --\x3e\n        <div\n          class="color-list-quick"\n          :class="{ active: curcolorindex === index }"\n          v-for="(item, index) in colorlist"\n          :key="item"\n          :style="{ background: item }"\n          @click="selectcolor(index)"\n        ></div>\n        <div class="line"></div>\n        <div class="btn" @click="showpickbox = true">æé</div>\n        <div class="btn" @click="showinputbox = true">è¾å¥</div>\n\n        \x3c!-- æéå¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showpickbox" title="è¯·æéå¯¹è">\n          <ul class="duilian-list">\n            <li\n              v-for="(item, index) in duilianlist"\n              :key="index"\n              @click="handlepickduilian(item)"\n            >\n              <span>{{ item.shang }}</span\n              >ï¼ <span>{{ item.xia }}</span\n              >ã\n              <span>{{ item.heng }}</span>\n            </li>\n          </ul>\n        </van-action-sheet>\n\n        \x3c!-- è¾å¥å¯¹èå¼¹çª --\x3e\n        <van-action-sheet v-model:show="showinputbox" title="è¯·è¾å¥å¯¹è">\n          <van-form @submit="handlesubmitinput">\n            <van-cell-group inset>\n              <van-field\n                v-model="shanglian"\n                name="shang"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="xialian"\n                name="xia"\n                label="ä¸è"\n                placeholder="ä¸è"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥7ä½æ±å­ä¸è\',\n                    pattern: /^[\\u4e00-\\u9fa5]{7}$/\n                  }\n                ]"\n                clearable\n              />\n              <van-field\n                v-model="hengpi"\n                name="heng"\n                label="æ¨ªæ¹"\n                placeholder="æ¨ªæ¹"\n                :rules="[\n                  {\n                    required: true,\n                    message: \'è¯·è¾å¥4ä½æ±å­æ¨ªæ¹\',\n                    pattern: /^[\\u4e00-\\u9fa5]{4}$/\n                  }\n                ]"\n                clearable\n              />\n            </van-cell-group>\n            <div style="margin: 16px">\n              <van-button\n                round\n                block\n                type="primary"\n                native-type="submit"\n                color="linear-gradient(to right, #ff6034, #c33825)"\n              >\n                å®æ\n              </van-button>\n            </div>\n          </van-form>\n        </van-action-sheet>\n      </template>\n    </div>\n\n    \x3c!-- æ¨¡å¼1-æ¥èç»å¸ --\x3e\n    <div\n      v-show="mode === 1"\n      v-for="(item, index) in canvaslist"\n      :key="item.name"\n    >\n      <canvas\n        class="canvas"\n        :class="item.classname"\n        v-show="curcanvasindex === index"\n        :style="{\n          margintop:\n            item.height < clientheight\n              ? `${(clientheight - item.height) / 2}px`\n              : 0,\n          marginleft:\n            item.width < clientwidth ? `${(clientwidth - item.width) / 2}px` : 0\n        }"\n      />\n    </div>\n\n    \x3c!-- æ¨¡å¼2-æ¥èç»å¸ --\x3e\n    <div v-show="mode === 2" class="canvas-mode-2">\n      <div class="row">\n        <canvas id="canvas-top" :width="200 * scale" :height="60 * scale" />\n      </div>\n      <div class="row">\n        <canvas id="canvas-left" :width="60 * scale" :height="364 * scale" />\n        <canvas id="canvas-right" :width="60 * scale" :height="364 * scale" />\n      </div>\n    </div>\n\n    \x3c!-- è´´æ¥èæé® --\x3e\n    <button class="btn-posters" @click="openposters" />\n\n    \x3c!-- footer-å½åå¯¹èæç¤º --\x3e\n    <footer v-if="duilian.shang">\n      <div class="refresh-btn" @click="handlerefresh(true)">\n        <i class="iconfont icon-shuaxin" :class="{ rotate: isrotate }"></i>\n      </div>\n      <dl class="duilian">\n        <dt>å¯¹è</dt>\n        <dd>\n          <div>{{ duilian.shang }}</div>\n          <div>{{ duilian.xia }}</div>\n        </dd>\n      </dl>\n      <dl>\n        <dt>æ¨ªæ¹</dt>\n        <dd>{{ duilian.heng }}</dd>\n      </dl>\n    </footer>\n\n    \x3c!-- åäº«æé® --\x3e\n    <div class="share-btn" v-if="isshowsharebtn" @click="isshowsharetip = true">\n      <i class="iconfont icon-fenxiang"></i>\n    </div>\n    \x3c!-- å¾®ä¿¡åäº«æç¤ºè¯­ --\x3e\n    <div\n      class="share-tip"\n      v-if="isshowsharetip"\n      @click="isshowsharetip = false"\n    >\n      ç¹å»å³ä¸è§æè¿ä¸ªå·¥å·åäº«ç»æå\n      <div class="hand">ð</div>\n    </div>\n\n    \x3c!-- ä¿å­tip --\x3e\n    <p v-if="isshowtip" class="download-tip">*é¿æå¾çä¿å­æè½¬å</p>\n\n    \x3c!-- çæ --\x3e\n    <div class="copyright">å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã Â©çæææ</div>\n\n    \x3c!-- è½½å¥å¾çåç´ ï¼ç¨äºå¿«éè´´å¾ä½¿ç¨, æ³¨æè®¾ç½®crossorigin="anonymous"è§£å³è·¨å --\x3e\n    <div v-if="isreadimages">\n      <img\n        crossorigin="anonymous"\n        v-for="(item, index) in bglist"\n        :src="item"\n        :key="item"\n        class="hide-img"\n        :id="`bg-img-` + index"\n      />\n      <img\n        crossorigin="anonymous"\n        class="hide-img"\n        id="qrcode"\n        src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/img/qrcode.zul0pldsuao.png"\n      />\n    </div>\n\n    \x3c!-- èæ¯é³ä¹ --\x3e\n    <audio\n      src="https://cdn.jsdelivr.net/gh/xugaoyi/image_store2@master/cjxq.mp3"\n      id="bgm"\n      ref="bgm"\n      loop\n    />\n    <div\n      class="play-btn"\n      :class="{ paused: !isplay }"\n      ref="playbtn"\n      @click="handleplay"\n    >\n      <i class="iconfont icon-yinle"></i>\n    </div>\n  </div>\n\n  <div class="body-bg-img"></div>\n</template>\n\n<script>\nimport { imagepreview, notify } from \'vant\'\nimport { iswx, ismobile } from \'@/utils\'\nimport button from \'@/components/button.vue\'\nimport dl from \'@/assets/img/yh/dl.jpeg\'\nimport hp from \'@/assets/img/yh/hp.jpeg\'\nimport fz from \'@/assets/img/yh/fz.png\'\n\n// å¯¹èæ°æ®\nimport duilianlist from \'@/mock/duilian\'\n\nconst proportion = 0.37 // å¾çç¼©å°æ¯ä¾\nconst instantiate_name = \'signature\' // å®ä¾åç§°\nconst min_width = 3 // ç»ç¬æå°å®½\nconst max_width = 12 // ç»ç¬æå¤§å®½\n\n// æµ·æ¥èæ¯å¾å¤§å°\nconst bg_width = 750\nconst bg_height = 1448\n\n// è´´å¾å®ä½åå¤§å°\nconst position = [\n  { left: 57, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 600, top: 510, width: 90, height: 546 }, // ä¸è\n  { left: 225, top: 345, width: 300, height: 90 }, // æ¨ªå¹\n  { left: 460, top: 450, width: 130, height: 130 }, // ç¦å­\n]\n\nexport default {\n  name: "home",\n  components: {\n    button\n  },\n  data() {\n    return {\n      duilianlist,\n      mode: number(localstorage.getitem(\'mode\')) || 1, // 1 æåï¼2 çæ\n      curcanvasindex: 0, // æ¾ç¤ºåªä¸ªç»å¸\n      progress: 100, // ç»ç¬å¤§å°çå»åº¦\n      clientwidth: document.documentelement.clientwidth,\n      clientheight: document.documentelement.clientheight,\n      canvaslist: [\n        {\n          name: \'ä¸è\',\n          classname: \'canvas-a\',\n          bgimage: dl,\n          width: 600 * proportion,\n          height: 3640 * proportion,\n        },\n        {\n          name: \'ä¸è\',\n          classname: \'canvas-b\',\n          bgimage: dl,\n          width: 600 * proportion,\n          height: 3640 * proportion,\n        },\n        {\n          name: \'æ¨ªæ¹\',\n          classname: \'canvas-c\',\n          bgimage: hp,\n          width: 2000 * proportion,\n          height: 600 * proportion,\n        },\n        {\n          name: \'ç¦å­\',\n          classname: \'canvas-d\',\n          bgimage: fz,\n          width: 366,\n          height: 366,\n        }\n      ],\n      colorlist: [\'#000000\', \'#ffd800\', \'#e8bd48\', \'#ddc08c\',],\n      curcolorindex: 0,\n      colorlistvisibility: false, // ç»å¸é¢è²éæ©åè¡¨å¯è§æ§\n      isshowtip: false, // æ¯å¦æ¾ç¤ºåºé¨æç¤ºè¯­\n      duilian: {}, // å½åå¯¹èææ¬å¯¹è±¡\n      isrotate: false, // å·æ°iconæè½¬\n      bglist: [\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/1.4j8qpdnq80i0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/4.4460an8ag5o0.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/5.3axtl4xpvy00.jpeg\',\n        \'https://cdn.jsdelivr.net/gh/xugaoyi/image_store@master/6.2lnbphdqjaq0.jpeg\',\n      ],\n      isreadimages: false, // å»¶è¿å è½½å¾çç¨\n      isshowsharebtn: false, // æ¯å¦æ¾ç¤ºåäº«æé®\n      isshowsharetip: false, // æ¯å¦æ¾ç¤ºåäº«æç¤ºè¯­\n      isplay: false, // æ¯å¦å¨æ­æ¾\n\n      // æ¨¡å¼2\n      canvastop: null, // æ¨ªæ¹\n      canvasleft: null, // ä¸è\n      canvasright: null, // ä¸è\n      imgobj1: null, // æ¨ªæ¹å¾çå¯¹è±¡\n      imgobj2: null, // ä¸ä¸èå¾çå¯¹è±¡\n      scale: math.max(window.devicepixelratio || 1, 2), // ç¨äºå¢å ç»å¸æ¸æ°åº¦\n      showpickbox: false, // æéå¯¹èçå¼¹æ¡\n      showinputbox: false, // è¾å¥å¯¹èçå¼¹æ¡\n      shanglian: \'\', // è¾å¥çä¸è\n      xialian: \'\', // è¾å¥çä¸è\n      hengpi: \'\', // è¾å¥çæ¨ªæ¹\n    };\n  },\n  computed: {\n    // æ¨¡å¼1-å½åç»å¸å®ä¾\n    curcanvasinstantiate() {\n      return this[instantiate_name + this.curcanvasindex]\n    }\n  },\n  created() {\n    // å¾®ä¿¡æµè§å¨æ¾ç¤ºåäº«æé®\n    this.isshowsharebtn = iswx()\n  },\n  mounted() {\n    if (!ismobile()) {\n      notify({ type: \'warning\', message: \'è¯·ç¨ç§»å¨ç«¯æå¼è·å¾æä½³ä½éª\', duration: 6000, });\n    }\n\n    this.initmode1();\n\n    // åå§åå¯¹èæç¤º\n    this.handlerefresh();\n\n    this.initmode2();\n\n    // æé®æ·»å æ¿æ´»æ¶ååææclass\n    const btnel = document.queryselectorall(\'.btn,.btn-block\');\n    btnel.foreach((item) => {\n      item.addeventlistener(\'touchstart\', () => {\n        item.classlist.add(\'btn-active\')\n      })\n      item.addeventlistener(\'touchend\', () => {\n        settimeout(() => {\n          item.classlist.remove(\'btn-active\')\n        }, 100)\n      })\n    })\n\n    // å»¶è¿å è½½è´´å¾èæ¯\n    settimeout(() => {\n      this.isreadimages = true\n    }, 1000)\n  },\n\n  watch: {\n    // åæ¢ç»ç¬é¢è²\n    curcolorindex() {\n      this.curcanvasinstantiate.color = this.colorlist[this.curcolorindex]\n      if (this.mode === 2) {\n        this.refreshduilian()\n      }\n    },\n    // åæ¢ç»å¸æ¶åºç¨å½åç»ç¬é¢è²åå¤§å°\n    curcanvasindex() {\n      this.curcanvasinstantiate.color = this.colorlist[this.curcolorindex]\n      this.handlechangesize()\n      window.scrollto(0, 0)\n    }\n  },\n\n  methods: {\n    initmode1() {\n      const { colorlist, curcolorindex } = this\n      this.canvaslist.foreach((item, index) => {\n        const options = {\n          width: item.width,\n          height: item.height,\n          minwidth: min_width, // ç»ç¬æå°å®½åº¦(px)\n          maxwidth: max_width, // ç»ç¬æå¤§å®½åº¦\n          minspeed: 1.8, // ç»ç¬è¾¾å°æå°å®½åº¦æéæå°éåº¦(px/ms)ï¼åå¼èå´1.0-10.0\n          color: colorlist[curcolorindex],\n          // æ°å¢çéç½®\n          bgimage: item.bgimage,\n        };\n\n        this[instantiate_name + index] = new smoothsignature(document.queryselector(\'.\' + item.classname), options);\n      })\n    },\n\n    initmode2() {\n      this.canvastop = document.getelementbyid(\'canvas-top\').getcontext(\'2d\')\n      this.canvasleft = document.getelementbyid(\'canvas-left\').getcontext(\'2d\')\n      this.canvasright = document.getelementbyid(\'canvas-right\').getcontext(\'2d\')\n\n      // è®¾å­ä½æ ·å¼\n      const font = "36px xs, cursive"\n      this.canvastop.font = font\n      this.canvasleft.font = font\n      this.canvasright.font = font\n\n      // å¢å¼ºæ¸æ°åº¦\n      const { scale } = this\n      this.canvastop.scale(scale, scale);\n      this.canvasleft.scale(scale, scale);\n      this.canvasright.scale(scale, scale);\n\n      // è®¾èæ¯å¾\n      this.imgobj1 = new image()\n      this.imgobj2 = new image()\n      this.imgobj1.src = hp\n      this.imgobj2.src = dl\n      this.imgobj1.onload = () => {\n        // è´´èæ¯\n        this.canvastop.drawimage(this.imgobj1, 0, 0, 200, 60)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handletopfilltext()\n        });\n      }\n      this.imgobj2.onload = () => {\n        // è´´èæ¯\n        this.canvasleft.drawimage(this.imgobj2, 0, 0, 60, 364)\n        this.canvasright.drawimage(this.imgobj2, 0, 0, 60, 364)\n\n        // å­ä½å è½½å®æå\n        document.fonts.ready.then(() => {\n          this.handlelrfilltext(this.canvasleft, this.duilian.shang)\n          this.handlelrfilltext(this.canvasright, this.duilian.xia)\n        });\n      }\n    },\n\n    // æ¨¡å¼2-å·æ°å¯¹è\n    refreshduilian() {\n      this.canvastop.drawimage(this.imgobj1, 0, 0, 200, 60)\n      this.canvasleft.drawimage(this.imgobj2, 0, 0, 60, 364)\n      this.canvasright.drawimage(this.imgobj2, 0, 0, 60, 364)\n      this.handletopfilltext()\n      this.handlelrfilltext(this.canvasleft, this.duilian.shang)\n      this.handlelrfilltext(this.canvasright, this.duilian.xia)\n    },\n\n    // æ¨¡å¼2-è´´æ¨ªæ¹\n    handletopfilltext() {\n      // è´´ææ¬\n      this.canvastop.fillstyle = this.colorlist[this.curcolorindex]\n      if (this.duilian.heng) {\n        this.duilian.heng.split(\'\').foreach((item, index) => {\n          const left = 42 * (index + 1) - 22\n          this.canvastop.filltext(item, left, 40)\n        })\n      }\n    },\n\n    // æ¨¡å¼2-è´´ä¸ä¸è\n    handlelrfilltext(ctx, text) {\n      ctx.fillstyle = this.colorlist[this.curcolorindex]\n      if (text) {\n        text.split(\'\').foreach((item, index) => {\n          const top = 50 * (index + 1) - 8\n          ctx.filltext(item, 13, top)\n        })\n      }\n    },\n\n    // åæ¢æ¨¡å¼\n    togglemode() {\n      if (this.mode === 1) {\n        this.mode = 2\n        this.refreshduilian()\n      } else {\n        this.mode = 1\n      }\n      localstorage.setitem(\'mode\', this.mode);\n    },\n\n    // æå¼è°è²æ¿\n    togglepalette() {\n      this.colorlistvisibility = !this.colorlistvisibility\n    },\n\n    // å³é­è°è²æ¿\n    handletouchstart(e) {\n      // ä¸æ¯ç¹å»éæ©é¢è²æ¶\n      if (e.path[1]?.classlist?.value !== \'colorlist\' && e.target.classlist?.value !== \'cur-color\') {\n        this.colorlistvisibility = false\n      }\n    },\n\n    // éæ©é¢è²\n    selectcolor(index) {\n      this.curcolorindex = index\n      this.colorlistvisibility = false\n    },\n\n    // åæ¢ç»å¸\n    changecanvas(index) {\n      this.curcanvasindex = index\n    },\n\n    // æ¸ç©ºç»å¸\n    handleclear() {\n      this.curcanvasinstantiate.clear();\n    },\n\n    // æ¤éç¬ç»\n    handleundo() {\n      this.curcanvasinstantiate.undo();\n    },\n\n    // é¢è§\n    handlepreview() {\n      this.showtoptip();\n      this.isshowtip = true\n      const _this = this\n      imagepreview({\n        images: this.getimagelist(),\n        closeable: true,\n        startposition: this.curcanvasindex,\n        onclose() {\n          _this.isshowtip = false\n        },\n      });\n    },\n\n    // æå¼æµ·æ¥é¢è§\n    openposters() {\n      // åå»ºç»å¸\n      const canvas = document.createelement(\'canvas\');\n      canvas.width = bg_width\n      canvas.height = bg_height\n      const ctx = canvas.getcontext(\'2d\');\n      const resultimagelist = [];\n\n      // æ¯å¦éèç¦å­\n      const ishidefu = this[instantiate_name + 3].isempty()\n      this.bglist.foreach((item, index) => {\n        // è´´èæ¯å¾\n        ctx.drawimage(document.getelementbyid(\'bg-img-\' + index), 0, 0, bg_width, bg_height)\n\n        // è´´å¯¹è\n        if (this.mode === 1) {\n          this.canvaslist.foreach((item, index) => {\n            if (index === 3 && ishidefu) return;\n            const dlcanvas = document.queryselector(\'.\' + item.classname)\n            const { left, top, width, height } = position[index]\n            ctx.drawimage(dlcanvas, left, top, width, height)\n          })\n        } else {\n          [\'canvas-left\', \'canvas-right\', \'canvas-top\'].foreach((item, index) => {\n            const dlcanvas = document.getelementbyid(item)\n            const { left, top, width, height } = position[index]\n            ctx.drawimage(dlcanvas, left, top, width, height)\n          })\n        }\n\n        // è´´äºç»´ç \n        ctx.drawimage(document.getelementbyid("qrcode"), 40, 1280, 580, 136)\n\n        // è´´ææ¬\n        ctx.font = "18px sans-serif"\n        ctx.fillstyle = "#666666"\n        ctx.filltext(\'Â©å¬ä¼å·ãæè¶£ç ç©¶ç¤¾ã\', 550, 1420)\n\n        // å¯¼åºå¾ç\n        resultimagelist.push(canvas.todataurl(\'image/jpeg\', 0.8))\n      })\n\n      // æå¼å¾çé¢è§\n      this.isshowtip = true\n      const _this = this\n      imagepreview({\n        images: resultimagelist,\n        closeable: true,\n        onclose() {\n          _this.isshowtip = false\n        },\n      });\n      this.showtoptip();\n    },\n\n    // å¼¹åºé¡¶é¨æç¤ºè¯­\n    showtoptip() {\n      if (!sessionstorage.getitem(\'showtip\')) {\n        sessionstorage.setitem(\'showtip\', \'true\');\n        notify({\n          message: \'é¿æå¾çå¯ä¿å­å°æ¬å°\',\n          color: \'#c33825\',\n          background: \'#eed3ae\',\n        });\n      }\n    },\n\n    // è·åå¯¹èå¾çåè¡¨\n    getimagelist(type = \'image/png\') {\n      const imagelist = []\n      this.canvaslist.foreach((item, index) => {\n        if (index === 3) {\n          // `ç¦`å­å¿é¡»æ¯pngæ ¼å¼\n          type = \'image/png\'\n        }\n        imagelist.push(this[instantiate_name + index].todataurl(type, 0.8))\n      })\n      return imagelist\n    },\n\n    // è¿åº¦æ¹åæ¶\n    changeprogress(progress) {\n      this.progress = progress\n      this.handlechangesize()\n    },\n\n    // è°æ´ç»ç¬å¤§å°\n    handlechangesize() {\n      const { progress } = this\n      this.curcanvasinstantiate.minwidth = min_width * progress / 100\n      this.curcanvasinstantiate.maxwidth = max_width * progress / 100\n    },\n\n    // å·æ°å¯¹è\n    handlerefresh(rotate) {\n      this.duilian = duilianlist[math.floor(math.random() * duilianlist.length)]\n\n      if (rotate) {\n        if (this.mode === 2) {\n          this.refreshduilian()\n        }\n        // ä½¿iconæè½¬\n        this.isrotate = true\n        settimeout(() => {\n          this.isrotate = false\n        }, 300)\n      }\n    },\n\n    // æ­æ¾èæ¯é³ä¹\n    handleplay() {\n      const { bgm } = this.$refs\n      if (bgm.paused) {\n        bgm.play()\n        this.isplay = true\n      } else {\n        bgm.pause()\n        this.isplay = false\n      }\n    },\n\n    // å®æè¾å¥å¯¹è\n    handlesubmitinput(values) {\n      this.duilian = values\n      this.showinputbox = false\n      this.refreshduilian()\n    },\n\n    // å®ææéå¯¹è\n    handlepickduilian(item) {\n      this.duilian = item\n      this.showpickbox = false\n      this.refreshduilian()\n    }\n  },\n};\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n260\n261\n262\n263\n264\n265\n266\n267\n268\n269\n270\n271\n272\n273\n274\n275\n276\n277\n278\n279\n280\n281\n282\n283\n284\n285\n286\n287\n288\n289\n290\n291\n292\n293\n294\n295\n296\n297\n298\n299\n300\n301\n302\n303\n304\n305\n306\n307\n308\n309\n310\n311\n312\n313\n314\n315\n316\n317\n318\n319\n320\n321\n322\n323\n324\n325\n326\n327\n328\n329\n330\n331\n332\n333\n334\n335\n336\n337\n338\n339\n340\n341\n342\n343\n344\n345\n346\n347\n348\n349\n350\n351\n352\n353\n354\n355\n356\n357\n358\n359\n360\n361\n362\n363\n364\n365\n366\n367\n368\n369\n370\n371\n372\n373\n374\n375\n376\n377\n378\n379\n380\n381\n382\n383\n384\n385\n386\n387\n388\n389\n390\n391\n392\n393\n394\n395\n396\n397\n398\n399\n400\n401\n402\n403\n404\n405\n406\n407\n408\n409\n410\n411\n412\n413\n414\n415\n416\n417\n418\n419\n420\n421\n422\n423\n424\n425\n426\n427\n428\n429\n430\n431\n432\n433\n434\n435\n436\n437\n438\n439\n440\n441\n442\n443\n444\n445\n446\n447\n448\n449\n450\n451\n452\n453\n454\n455\n456\n457\n458\n459\n460\n461\n462\n463\n464\n465\n466\n467\n468\n469\n470\n471\n472\n473\n474\n475\n476\n477\n478\n479\n480\n481\n482\n483\n484\n485\n486\n487\n488\n489\n490\n491\n492\n493\n494\n495\n496\n497\n498\n499\n500\n501\n502\n503\n504\n505\n506\n507\n508\n509\n510\n511\n512\n513\n514\n515\n516\n517\n518\n519\n520\n521\n522\n523\n524\n525\n526\n527\n528\n529\n530\n531\n532\n533\n534\n535\n536\n537\n538\n539\n540\n541\n542\n543\n544\n545\n546\n547\n548\n549\n550\n551\n552\n553\n554\n555\n556\n557\n558\n559\n560\n561\n562\n563\n564\n565\n566\n567\n568\n569\n570\n571\n572\n573\n574\n575\n576\n577\n578\n579\n580\n581\n582\n583\n584\n585\n586\n587\n588\n589\n590\n591\n592\n593\n594\n595\n596\n597\n598\n599\n600\n601\n602\n603\n604\n605\n606\n607\n608\n609\n610\n611\n612\n613\n614\n615\n616\n617\n618\n619\n620\n621\n622\n623\n624\n625\n626\n627\n628\n629\n630\n631\n632\n633\n634\n635\n636\n637\n638\n639\n640\n641\n642\n643\n644\n645\n646\n647\n648\n649\n650\n651\n652\n653\n654\n655\n656\n657\n658\n659\n660\n661\n662\n663\n664\n665\n666\n667\n668\n669\n670\n671\n672\n673\n674\n675\n676\n677\n678\n679\n680\n681\n682\n683\n684\n685\n686\n687\n688\n689\n690\n691\n692\n693\n694\n695\n696\n697\n698\n699\n700\n701\n702\n703\n704\n705\n706\n707\n708\n709\n710\n711\n712\n713\n714\n715\n716\n717\n718\n719\n720\n721\n722\n723\n724\n725\n726\n727\n728\n729\n730\n731\n732\n733\n734\n735\n736\n737\n\n\næ´å¤æè¶£çå°ç½é¡µæ¬¢è¿å³æ³¨å¬ä¼å·æè¶£ç ç©¶ç¤¾:\n\n> æåæ¥è\n> fcå¨çº¿æ¨¡æå¨\n> ç±å½å¤´åçæå¨\n> å°è´¦è¯­é³çæå¨',charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"æ¥æ±çæ´»ï¼æ¥æ±å¿«ä¹",frontmatter:{title:"æ¥æ±çæ´»ï¼æ¥æ±å¿«ä¹",date:"2020-06-26T20:40:38.000Z",permalink:"/pages/cd8bde/",sidebar:"auto",categories:["éç¬"],tags:["é¸¡æ±¤"],author:{name:"xugaoyi",link:"https://github.com/xugaoyi"}},regularPath:"/_posts/%E9%9A%8F%E7%AC%94/%E6%8B%A5%E6%8A%B1%E7%94%9F%E6%B4%BB%EF%BC%8C%E6%8B%A5%E6%8A%B1%E5%BF%AB%E4%B9%90.html",relativePath:"_posts/éç¬/æ¥æ±çæ´»ï¼æ¥æ±å¿«ä¹.md",key:"v-7d77d69c",path:"/pages/cd8bde/",excerpt:"<p>çæ´»å¨åç°ä»£çä»å¤©ï¼å¾å¤äººé½æä¸ç§èæ æï¼è®¤ä¸ºäººçæ²¡ææä¹ãä½æ¯ï¼äººçä¸å¯è½æ²¡ææä¹ï¼å ä¸ºå½ä½ è®¤ä¸ºæ²¡ææä¹çæ¶åï¼ä¸å®æä¸ä¸ªä¸ä¹ç¸å¯¹åºçæ¦å¿µå«ææä¹ã</p>\n",headersStr:null,content:"çæ´»å¨åç°ä»£çä»å¤©ï¼å¾å¤äººé½æä¸ç§èæ æï¼è®¤ä¸ºäººçæ²¡ææä¹ãä½æ¯ï¼äººçä¸å¯è½æ²¡ææä¹ï¼å ä¸ºå½ä½ è®¤ä¸ºæ²¡ææä¹çæ¶åï¼ä¸å®æä¸ä¸ªä¸ä¹ç¸å¯¹åºçæ¦å¿µå«ææä¹ã\n\nå½ä½ æçäººçæ²¡ææä¹æ¶ï¼é¾éæçæ¬èº«ä¸å¼å¾æçåï¼\n\nä¸è¦ä»»ç±ä½ åå¿çèæ æèå»¶ï¼æä»¬éè¦å»æ¥æ±çå®ççæ´»ã\n\nææçå®çå¿«ä¹ï¼é½ç¦»ä¸å¼è°è¾çåªåï¼æ è®ºæ¯éæ¦é¢åçå¿«ä¹ï¼è¿æ¯äºä¸æåçåæ¦ï¼çè³åæ¬æ´æ¿è±ççæ¿å¨ãææçå®çå¿«ä¹ï¼é½éè¦é¿ä¹çéºå«ä¸åªåï¼æ²¡æè¾å¤çæ±æ°´ï¼å¿«ä¹ä¹å°±ä¸åçå®ã\n\nå¦æå¿«ä¹è§¦æå¯åï¼è¿ç§å»ä»·çå¿«ä¹ä¹å°±ä¸å¼å¾çæï¼éæ¶é½å¯è½æå¼ãå æ­¤ï¼å¯¹äºå¹´è½»äººèè¨ï¼ä¸ä¸ªéè¦çåè¯¾å°±æ¯å­¦ä¼å»èå¶æ¬²æã\n\nææéè¿æ·å¾æå¸¦æ¥çå¿«ä¹ï¼é½æ¯å»ä»·çï¼ä»¥è³äºææè¿½æ±é½åå¾æ¯«æ æä¹ï¼äººçå°±äºæ çè¶£ãæä»¬éè¦å¨æ¯å¤©çå®çåªåä¸­å»æ¥æ±çæ´»ï¼è¿½å¯»çå®çå¿«ä¹ã\n\n\n\n> æç« æå½èª:Bç«è§é¢ãç½ç¿è¯´åæ³ãï¼é¾æ¥https://b23.tv/K8ulrE",normalizedContent:"çæ´»å¨åç°ä»£çä»å¤©ï¼å¾å¤äººé½æä¸ç§èæ æï¼è®¤ä¸ºäººçæ²¡ææä¹ãä½æ¯ï¼äººçä¸å¯è½æ²¡ææä¹ï¼å ä¸ºå½ä½ è®¤ä¸ºæ²¡ææä¹çæ¶åï¼ä¸å®æä¸ä¸ªä¸ä¹ç¸å¯¹åºçæ¦å¿µå«ææä¹ã\n\nå½ä½ æçäººçæ²¡ææä¹æ¶ï¼é¾éæçæ¬èº«ä¸å¼å¾æçåï¼\n\nä¸è¦ä»»ç±ä½ åå¿çèæ æèå»¶ï¼æä»¬éè¦å»æ¥æ±çå®ççæ´»ã\n\nææçå®çå¿«ä¹ï¼é½ç¦»ä¸å¼è°è¾çåªåï¼æ è®ºæ¯éæ¦é¢åçå¿«ä¹ï¼è¿æ¯äºä¸æåçåæ¦ï¼çè³åæ¬æ´æ¿è±ççæ¿å¨ãææçå®çå¿«ä¹ï¼é½éè¦é¿ä¹çéºå«ä¸åªåï¼æ²¡æè¾å¤çæ±æ°´ï¼å¿«ä¹ä¹å°±ä¸åçå®ã\n\nå¦æå¿«ä¹è§¦æå¯åï¼è¿ç§å»ä»·çå¿«ä¹ä¹å°±ä¸å¼å¾çæï¼éæ¶é½å¯è½æå¼ãå æ­¤ï¼å¯¹äºå¹´è½»äººèè¨ï¼ä¸ä¸ªéè¦çåè¯¾å°±æ¯å­¦ä¼å»èå¶æ¬²æã\n\nææéè¿æ·å¾æå¸¦æ¥çå¿«ä¹ï¼é½æ¯å»ä»·çï¼ä»¥è³äºææè¿½æ±é½åå¾æ¯«æ æä¹ï¼äººçå°±äºæ çè¶£ãæä»¬éè¦å¨æ¯å¤©çå®çåªåä¸­å»æ¥æ±çæ´»ï¼è¿½å¯»çå®çå¿«ä¹ã\n\n\n\n> æç« æå½èª:bç«è§é¢ãç½ç¿è¯´åæ³ãï¼é¾æ¥https://b23.tv/k8ulre",charsets:{cjk:!0},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-48f7eec0",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"åç±»",frontmatter:{categoriesPage:!0,title:"åç±»",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-5f8dfe80",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-64f9b920",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/05/19, 21:26:01",lastUpdatedTimestamp:1652966761e3},{title:"Home",frontmatter:{home:!0,heroImage:"/img/JAVADRIVER.png",heroText:"JavaDriver",tagline:"ðç²¾éå¤§åJavaé¢è¯é¢",actionText:"å¼å§ä½¿ç¨ â",actionLink:"/pages/a030ff/",bannerBg:"none",features:[{title:"èç³»æºç ",details:"å´ç»æºç è®²è§£é¢è¯é¢ï¼ç¥å¶ç¶ç¥æä»¥ç¶ï¼åå°çæ­£æç½ä¸éé¢ï¼ä¸æ§é¢è¯å®ä»ä»»ä½è§åº¦åèµ·æé®ã"},{title:"çå¨ç´è§",details:"å¾ãæãè¡¨æ ¼ãå¨ç»å¸®å©ä½ æ´å¥½ççè§£ã"},{title:"é¢ç®æ¥æº",details:"é¢ç®æ¥æºå½åå¤§ä¸­åé¢è¯èçåé¦ï¼åæ¬ä½ä¸éäºé¿éå·´å·´ãè¾è®¯ãç¾å¢ãå­èè·³å¨ãå¿«æãäº¬ä¸ãæ¼å¤å¤ãå°çº¢ä¹¦ãæ»´æ»´ã"}],postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-2cf94a0e",path:"/",headers:[{level:2,title:"ðåæé¾æ¥",slug:"ðåæé¾æ¥",normalizedTitle:"ðåæé¾æ¥",charIndex:11},{level:2,title:"ðä¸æ°æ¨è",slug:"ðä¸æ°æ¨è",normalizedTitle:"ðä¸æ°æ¨è",charIndex:723},{level:2,title:"â¡ï¸æªæ¥...",slug:"â¡ï¸æªæ¥",normalizedTitle:"â¡ï¸æªæ¥...",charIndex:775},{level:2,title:"â¡ åé¦ä¸äº¤æµ",slug:"â¡-åé¦ä¸äº¤æµ",normalizedTitle:"â¡ åé¦ä¸äº¤æµ",charIndex:839}],headersStr:"ðåæé¾æ¥ ðä¸æ°æ¨è â¡ï¸æªæ¥... â¡ åé¦ä¸äº¤æµ",content:"æ¯æè¿ä¸ªé¡¹ç®\n\n\n# ðåæé¾æ¥\n\nOpenHarmony\n\nå¼æ¾åå­å¼æºåºéä¼\n\nMyBatis-Pluså®ç½\n\nðä¸ºç®åå¼åèç\n\nvuepress-theme-vdoing\n\nä¼ç§çvuepressä¸»é¢\n\nVFormå®ç½\n\nä½ä»£ç è¡¨åä¼éæ¹æ¡ï¼ææ½å¼è®¾è®¡ï¼ä¸é®çææºç \n\n- name: OpenHarmony\n  desc: å¼æ¾åå­å¼æºåºéä¼\n  link: https://docs.openharmony.cn/pages/000000/\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n- name: MyBatis-Pluså®ç½\n  desc: ðä¸ºç®åå¼åèç\n  link: https://baomidou.com/\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n- name: vuepress-theme-vdoing\n  desc: ä¼ç§çvuepressä¸»é¢\n  link: https://github.com/xugaoyi/vuepress-theme-vdoing\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n- name: VFormå®ç½\n  desc: ä½ä»£ç è¡¨åä¼éæ¹æ¡ï¼ææ½å¼è®¾è®¡ï¼ä¸é®çææºç \n  link: http://www.vform666.com\n  bgColor: '#f1f1f1'\n  textColor: '#2A3344'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n\n# ðä¸æ°æ¨è\n\n * v1.1.xï¼ç¬¬ä¸ä¸ªçæ¬ï¼å¿«å» çç å§~\n\næ´å¤ä¸æ°è¯·æ¥éï¼æ´æ°æ¥å¿\n\n\n\n# â¡ï¸æªæ¥...\n\næç¤º\n\næå¾ æ´å¤Javaé¢åçé¢è¯é¢æ­£å¼åå¸...\n\nè¿å¸æå¤§å®¶å¤å¤ ðæ¯æ åï¼æç»­å³æ³¨å§~\n\n\n\n# â¡ åé¦ä¸äº¤æµ\n\nå¨ä½¿ç¨è¿ç¨ä¸­æä»»ä½é®é¢åæ³æ³ï¼ä½ å¯ä»¥ï¼\n\n * ç»ææ Issueã\n\nä½ ä¹å¯ä»¥å¨Issueæ¥çå«äººæçé®é¢åç»åºè§£å³æ¹æ¡ã\n\n * æ³JavaDriverç¤¾åº\n\n",normalizedContent:"æ¯æè¿ä¸ªé¡¹ç®\n\n\n# ðåæé¾æ¥\n\nopenharmony\n\nå¼æ¾åå­å¼æºåºéä¼\n\nmybatis-pluså®ç½\n\nðä¸ºç®åå¼åèç\n\nvuepress-theme-vdoing\n\nä¼ç§çvuepressä¸»é¢\n\nvformå®ç½\n\nä½ä»£ç è¡¨åä¼éæ¹æ¡ï¼ææ½å¼è®¾è®¡ï¼ä¸é®çææºç \n\n- name: openharmony\n  desc: å¼æ¾åå­å¼æºåºéä¼\n  link: https://docs.openharmony.cn/pages/000000/\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n- name: mybatis-pluså®ç½\n  desc: ðä¸ºç®åå¼åèç\n  link: https://baomidou.com/\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n- name: vuepress-theme-vdoing\n  desc: ä¼ç§çvuepressä¸»é¢\n  link: https://github.com/xugaoyi/vuepress-theme-vdoing\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n- name: vformå®ç½\n  desc: ä½ä»£ç è¡¨åä¼éæ¹æ¡ï¼ææ½å¼è®¾è®¡ï¼ä¸é®çææºç \n  link: http://www.vform666.com\n  bgcolor: '#f1f1f1'\n  textcolor: '#2a3344'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n\n# ðä¸æ°æ¨è\n\n * v1.1.xï¼ç¬¬ä¸ä¸ªçæ¬ï¼å¿«å» çç å§~\n\næ´å¤ä¸æ°è¯·æ¥éï¼æ´æ°æ¥å¿\n\n\n\n# â¡ï¸æªæ¥...\n\næç¤º\n\næå¾ æ´å¤javaé¢åçé¢è¯é¢æ­£å¼åå¸...\n\nè¿å¸æå¤§å®¶å¤å¤ ðæ¯æ åï¼æç»­å³æ³¨å§~\n\n\n\n# â¡ åé¦ä¸äº¤æµ\n\nå¨ä½¿ç¨è¿ç¨ä¸­æä»»ä½é®é¢åæ³æ³ï¼ä½ å¯ä»¥ï¼\n\n * ç»ææ issueã\n\nä½ ä¹å¯ä»¥å¨issueæ¥çå«äººæçé®é¢åç»åºè§£å³æ¹æ¡ã\n\n * æ³javadriverç¤¾åº\n\n",charsets:{cjk:!0},lastUpdated:"2022/06/20, 22:47:41",lastUpdatedTimestamp:1655736461e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"Javaç¸å³",link:"/java/",items:[{text:"åºç¡",link:"/pages/a030ff/"},{text:"å¹¶å",link:"/pages/0da4b0/"},{text:"JVM",link:"/pages/948850/"},{text:"è®¾è®¡æ¨¡å¼",link:"/pages/b37ad7/"}]},{text:"è®¡ç®æºåºç¡",link:"/basic/",items:[{text:"è®¡ç®æºç½ç»",link:"/pages/e00207/"},{text:"æä½ç³»ç»",link:"/pages/e5f2d7/"},{text:"æ°æ®ç»æ",link:"/pages/a25c3a/"},{text:"ç®æ³",link:"/pages/92288a/"}]},{text:"æ°æ®åº",link:"/database/",items:[{text:"MYSQL",link:"/pages/3a8659/"},{text:"REDIS",link:"/pages/d70c1f/"}]},{text:"ä¸­é´ä»¶",link:"/middleware/",items:[{text:"Netty",link:"/pages/40f3c9/"},{text:"Kafka",link:"/pages/561f34/"}]},{text:"ç³»ç»è®¾è®¡",link:"/pages/01b9b2/"},{text:"éææ¯",link:"/pages/5e507a/"},{text:"å³äº",link:"/about/"},{text:"ç´¢å¼",link:"/archives/",items:[{text:"åç±»",link:"/categories/"},{text:"æ ç­¾",link:"/tags/"},{text:"å½æ¡£",link:"/archives/"}]}],sidebarDepth:2,logo:"/img/JAVADRIVER.png",repo:"https://github.com/AdmireAn/JavaDriver",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",docsDir:"docs",editLinks:!0,editLinkText:"ç¼è¾",sidebar:{"/00.ç®å½é¡µ/":[["01.Javaç¸å³.md","Javaç¸å³","/java"],["02.è®¡ç®æºåºç¡.md","è®¡ç®æºåºç¡","/basic"],["03.æ°æ®åº.md","æ°æ®åº","/database"],["04.ä¸­é´ä»¶.md","ä¸­é´ä»¶","/middleware"]],catalogue:{"Javaç¸å³":"/java","è®¡ç®æºåºç¡":"/basic","æ°æ®åº":"/database","ä¸­é´ä»¶":"/middleware"},"/01.Javaç¸å³/":[{title:"åºç¡",collapsable:!0,children:[["10.åºç¡/001.Java å¼å¸¸æåªäºç±»åï¼.md","Java å¼å¸¸æåªäºç±»åï¼","/pages/a030ff/"],["10.åºç¡/010.HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼.md","HashMap ä¸ ConcurrentHashMap çå®ç°åçæ¯ææ ·çï¼","/pages/d1c564/"],["10.åºç¡/020.Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«.md","Java ä¸­æ¥å£åæ½è±¡ç±»çåºå«","/pages/826c8b/"],["10.åºç¡/030.ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼.md","ä¸ºä»ä¹éå equals å¿é¡»éå hashcode ï¼","/pages/0d22ad/"],["10.åºç¡/040.== å equals() çåºå«ï¼.md","== å equals() çåºå«ï¼","/pages/06b28a/"],["10.åºç¡/050.Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼.md","Stringï¼StringBufferï¼StringBuilder ä¹é´æä»ä¹åºå«ï¼","/pages/211d8c/"],["10.åºç¡/060.ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦.md","ç®è¿° ArrayList ä¸ LinkedList çåºå±å®ç°ä»¥åå¸¸è§æä½çæ¶é´å¤æåº¦","/pages/305919/"],["10.åºç¡/070.ç®è¿° BIO, NIO, AIO çåºå«.md","ç®è¿° BIO, NIO, AIO çåºå«","/pages/276740/"],["10.åºç¡/080.å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼.md","å¨ä¸ä¸ªéææ¹æ³åè°ç¨ä¸ä¸ªééææåä¸ºä»ä¹æ¯éæ³çï¼","/pages/56314c/"],["10.åºç¡/090.ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯.md","ç®è¿° Java çåå°æºå¶åå¶åºç¨åºæ¯","/pages/fae5d5/"],["10.åºç¡/100.Java ç±»çå è½½æµç¨æ¯ææ ·çï¼.md","Java ç±»çå è½½æµç¨æ¯ææ ·çï¼","/pages/33c5d6/"],["10.åºç¡/110.ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼.md","ä»ä¹æ¯åäº²å§æ´¾æºå¶ï¼","/pages/38bcaf/"],["10.åºç¡/120.Java ä¸­ sleep() ä¸ wait() çåºå« .md","Java ä¸­ sleep() ä¸ wait() çåºå«","/pages/d69890/"],["10.åºç¡/130.ç®è¿° Java ä¸­ final å³é®å­çä½ç¨.md","ç®è¿° Java ä¸­ final å³é®å­çä½ç¨","/pages/2b00a3/"],["10.åºç¡/140.String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼.md","String ç±»è½ä¸è½è¢«ç»§æ¿ï¼ä¸ºä»ä¹ï¼","/pages/73113f/"],["10.åºç¡/150.Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼.md","Java ç¼å²æµ buffer çç¨éååçæ¯ä»ä¹ï¼","/pages/115772/"],["10.åºç¡/160.ç®è¿°å¨æä»£çä¸éæä»£ç .md","ç®è¿°å¨æä»£çä¸éæä»£ç","/pages/37dba4/"],["10.åºç¡/170.é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼.md","é»å¡éåé½æåªå ç§ï¼æä»ä¹åºå«ï¼","/pages/e9ce4e/"],["10.åºç¡/180.ç®è¿° HashSet å®ç°åç.md","ç®è¿° HashSet å®ç°åç","/pages/75552c/"]]},{title:"å¹¶å",collapsable:!0,children:[["20.å¹¶å/001.çº¿ç¨æ± æ¯å¦ä½å®ç°çï¼.md","çº¿ç¨æ± æ¯å¦ä½å®ç°çï¼","/pages/0da4b0/"],["20.å¹¶å/020.ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼.md","ç®è¿° CAS åçï¼ä»ä¹æ¯ ABA é®é¢ï¼æä¹è§£å³ï¼","/pages/3356c6/"],["20.å¹¶å/030.ç®è¿° Synchronizedï¼Volatileï¼å¯éå¥éçä¸åä½¿ç¨åºæ¯åä¼ç¼ºç¹.md","ç®è¿° Synchronizedï¼Volatileï¼å¯éå¥éçä¸åä½¿ç¨åºæ¯åä¼ç¼ºç¹","/pages/97245f/"],["20.å¹¶å/040.Synchronized å³é®å­åºå±æ¯å¦ä½å®ç°çï¼.md","Synchronized ä¸ Lock ç¸æ¯ä¼ç¼ºç¹åå«æ¯ä»ä¹ï¼","/pages/d5d161/"],["20.å¹¶å/050.éå¥éæ¯å¦ä½å®ç°çï¼.md","éå¥éæ¯å¦ä½å®ç°çï¼","/pages/9b59d1/"],["20.å¹¶å/060.volatile å³é®å­è§£å³äºä»ä¹é®é¢ï¼å®çå®ç°åçæ¯ä»ä¹ï¼.md","volatile å³é®å­è§£å³äºä»ä¹é®é¢ï¼å®çå®ç°åçæ¯ä»ä¹ï¼","/pages/383264/"],["20.å¹¶å/070.ç®è¿° Java éåçº§çæºå¶.md","ç®è¿° Java éåçº§çæºå¶","/pages/ff0616/"],["20.å¹¶å/080.ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯.md","ç®è¿° Java AQS çåçä»¥åä½¿ç¨åºæ¯","/pages/52a687/"],["20.å¹¶å/090.ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼.md","ä»ä¹æ¯å¬å¹³éï¼ä»ä¹æ¯éå¬å¹³éï¼","/pages/fd6a59/"],["20.å¹¶å/100.Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼.md","Java ççº¿ç¨æåªäºç¶æï¼è½¬æ¢å³ç³»æ¯æä¹æ ·çï¼","/pages/52483b/"],["20.å¹¶å/110.Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼.md","Java æ¯å¦ä½å®ç°çº¿ç¨å®å¨çï¼åªäºæ°æ®ç»ææ¯çº¿ç¨å®å¨çï¼","/pages/c1f760/"],["20.å¹¶å/115.æåæ­»é.md","æåæ­»é","/pages/ce292c/"],["20.å¹¶å/120.ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼.md","ä¸ºä»ä¹æä»¬ä¸è½ç´æ¥è°ç¨ run() æ¹æ³ï¼","/pages/13856f/"],["20.å¹¶å/130.Java çº¿ç¨æåªäºå¸¸ç¨æ¹æ³ï¼.md","Java çº¿ç¨æåªäºå¸¸ç¨æ¹æ³ï¼","/pages/a6c84e/"],["20.å¹¶å/140.æåçäº§èæ¶è´¹èæ¨¡å.md","æåçäº§èæ¶è´¹èæ¨¡å","/pages/2b8c6e/"],["20.å¹¶å/150.ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼.md","ThreadLocal å®ç°åçæ¯ä»ä¹ï¼ä¸ºä»ä¹è¦ä½¿ç¨å¼±å¼ç¨ï¼","/pages/b3e720/"]]},{title:"JVM",collapsable:!0,children:[["30.JVM/001.Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼.md","Java ä¸­åå¾åæ¶æºå¶ä¸­å¦ä½å¤æ­å¯¹è±¡éè¦åæ¶ï¼","/pages/948850/"],["30.JVM/010.å¸¸è§ç GC åæ¶ç®æ³æåªäºï¼.md","å¸¸è§ç GC åæ¶ç®æ³æåªäºï¼","/pages/9b26e8/"],["30.JVM/020.Java ä¸­å¦ä½è¿è¡ GC è°ä¼ï¼.md","Java ä¸­å¦ä½è¿è¡ GC è°ä¼ï¼","/pages/07a030/"],["30.JVM/030.JMM ä¸­åå­æ¨¡åæ¯ææ ·çï¼ä»ä¹æ¯æä»¤åºåéæåºï¼.md","JMM ä¸­åå­æ¨¡åæ¯ææ ·çï¼ä»ä¹æ¯æä»¤åºåéæåºï¼","/pages/c8e6cb/"],["30.JVM/040.JVM åå­æ¯å¦ä½å¯¹åºå°æä½ç³»ç»åå­çï¼.md","JVM åå­æ¯å¦ä½å¯¹åºå°æä½ç³»ç»åå­çï¼","/pages/da65e7/"],["30.JVM/050.JVM æ¯æä¹å»è°ä¼çï¼äºè§£åªäºåæ°åæä»¤ï¼.md","JVM æ¯æä¹å»è°ä¼çï¼äºè§£åªäºåæ°åæä»¤ï¼","/pages/d730dd/"],["30.JVM/060.ä»ä¹æ¯åå­æ³æ¼ï¼æä¹ç¡®å®åå­æ³æ¼ï¼.md","ä»ä¹æ¯åå­æ³æ¼ï¼æä¹ç¡®å®åå­æ³æ¼ï¼","/pages/3ab5f5/"],["30.JVM/070.ç®è¿° CMS ä¸ G1 æºå¶çåºå«.md","ç®è¿° CMS ä¸ G1 æºå¶çåºå«","/pages/be69af/"]]},{title:"è®¾è®¡æ¨¡å¼",collapsable:!0,children:[["40.è®¾è®¡æ¨¡å¼/002.å®ç°åä¾è®¾è®¡æ¨¡å¼ï¼ææ±ï¼é¥¿æ±ï¼.md","å®ç°åä¾è®¾è®¡æ¨¡å¼ï¼ææ±ï¼é¥¿æ±ï¼","/pages/b37ad7/"],["40.è®¾è®¡æ¨¡å¼/003.ä»ä¹æ¯è®¾è®¡æ¨¡å¼ .md","ä»ä¹æ¯è®¾è®¡æ¨¡å¼","/pages/3d768c/"],["40.è®¾è®¡æ¨¡å¼/004.å·¥åæ¨¡å¼ä½¿ç¨åºæ¯ è½ä¸¾ä¸ªä¾å­å.md","å·¥åæ¨¡å¼ä½¿ç¨åºæ¯ è½ä¸¾ä¸ªä¾å­å","/pages/f15489/"],["40.è®¾è®¡æ¨¡å¼/005.è£é¥°èæ¨¡å¼.md","ç®è¿°è£é¥°èæ¨¡å¼","/pages/47a4e3/"],["40.è®¾è®¡æ¨¡å¼/010.ééå¨æ¨¡å¼.md","ééå¨æ¨¡å¼","/pages/827fc4/"],["40.è®¾è®¡æ¨¡å¼/020.ä»£çæ¨¡å¼.md","ä»£çæ¨¡å¼","/pages/dd3a6f/"],["40.è®¾è®¡æ¨¡å¼/030.è´£ä»»é¾æ¨¡å¼.md","è´£ä»»é¾æ¨¡å¼","/pages/d3ff35/"],["40.è®¾è®¡æ¨¡å¼/040.æ¨¡æ¿æ¹æ³æ¨¡å¼.md","æ¨¡æ¿æ¹æ³æ¨¡å¼","/pages/43b656/"],["40.è®¾è®¡æ¨¡å¼/050.ç­ç¥æ¨¡å¼.md","ç­ç¥æ¨¡å¼","/pages/78c7aa/"],["40.è®¾è®¡æ¨¡å¼/060.è§å¯æ¨¡å¼.md","è§å¯æ¨¡å¼","/pages/cbff3c/"]]}],"/02.è®¡ç®æºåºç¡/":[{title:"è®¡ç®æºç½ç»",collapsable:!0,children:[["10.è®¡ç®æºç½ç»/01.ç®è¿° TCP ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æ.md","ç®è¿° TCP ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æçæµç¨ãä¸ºä»ä¹éè¦ä¸æ¬¡æ¡æä»¥ååæ¬¡æ¥æï¼","/pages/e00207/"],["10.è®¡ç®æºç½ç»/010.ç®è¿°å¸¸è§ç HTTP ç¶æç çå«ä¹.md","ç®è¿°å¸¸è§ç HTTP ç¶æç çå«ä¹","/pages/f33310/"],["10.è®¡ç®æºç½ç»/020.ä»è¾å¥ URL å°å±ç°é¡µé¢çå¨è¿ç¨.md","ä»è¾å¥ URL å°å±ç°é¡µé¢çå¨è¿ç¨","/pages/ab48ba/"],["10.è®¡ç®æºç½ç»/030.HTTP ä¸­ GET å POST åºå«.md","HTTP ä¸­ GET å POST åºå«","/pages/a0e400/"],["10.è®¡ç®æºç½ç»/040.TCP æä¹ä¿è¯å¯é ä¼ è¾.md","TCP æä¹ä¿è¯å¯é ä¼ è¾","/pages/5fcc49/"],["10.è®¡ç®æºç½ç»/050.ä»ä¹æ¯ TCP ç²ååæåï¼.md","ä»ä¹æ¯ TCP ç²ååæåï¼","/pages/2822ac/"],["10.è®¡ç®æºç½ç»/060.ç®è¿° HTTPS çå å¯ä¸è®¤è¯è¿ç¨.md","ç®è¿° HTTPS çå å¯ä¸è®¤è¯è¿ç¨","/pages/12c0cc/"],["10.è®¡ç®æºç½ç»/070.ç®è¿°å¯¹ç§°ä¸éå¯¹ç§°å å¯çæ¦å¿µ.md","ç®è¿°å¯¹ç§°ä¸éå¯¹ç§°å å¯çæ¦å¿µ","/pages/057092/"],["10.è®¡ç®æºç½ç»/080.TCP ä¸ UDP å¨ç½ç»åè®®ä¸­çåªä¸å±ï¼ä»ä»¬ä¹é´æä»ä¹åºå«ï¼.md","TCP ä¸ UDP å¨ç½ç»åè®®ä¸­çåªä¸å±ï¼ä»ä»¬ä¹é´æä»ä¹åºå«ï¼","/pages/cc4b24/"],["10.è®¡ç®æºç½ç»/090.å¦ä½è§£å³ TCP ä¼ è¾ä¸¢åé®é¢ï¼.md","å¦ä½è§£å³ TCP ä¼ è¾ä¸¢åé®é¢ï¼","/pages/a656a9/"],["10.è®¡ç®æºç½ç»/100.TCP é¿è¿æ¥åç­è¿æ¥æé£ä¹ä¸åçä½¿ç¨åºæ¯ï¼.md","TCP é¿è¿æ¥åç­è¿æ¥æé£ä¹ä¸åçä½¿ç¨åºæ¯ï¼","/pages/dda19e/"],["10.è®¡ç®æºç½ç»/110.TCP ç keepalive äºè§£åï¼è¯´ä¸è¯´å®å HTTP ç keepalive çåºå«ï¼.md","TCP ç keepalive äºè§£åï¼è¯´ä¸è¯´å®å HTTP ç keepalive çåºå«ï¼","/pages/212438/"],["10.è®¡ç®æºç½ç»/120.HTTP ä¸ HTTPS æåªäºåºå«ï¼.md","HTTP ä¸ HTTPS æåªäºåºå«ï¼","/pages/253334/"],["10.è®¡ç®æºç½ç»/130.TCP ä¸­å¸¸è§çæ¥å¡æ§å¶ç®æ³æåªäºï¼.md","TCP ä¸­å¸¸è§çæ¥å¡æ§å¶ç®æ³æåªäºï¼","/pages/9ccc31/"],["10.è®¡ç®æºç½ç»/140.ç®è¿° HTTP 1.0ï¼1.1ï¼2.0 çä¸»è¦åºå« .md","ç®è¿° HTTP 1.0ï¼1.1ï¼2.0 çä¸»è¦åºå«","/pages/f50b70/"],["10.è®¡ç®æºç½ç»/150.ä»ç³»ç»å±é¢ä¸ï¼UDPå¦ä½ä¿è¯å°½éå¯é ï¼.md","ä»ç³»ç»å±é¢ä¸ï¼UDPå¦ä½ä¿è¯å°½éå¯é ï¼","/pages/e57cfe/"],["10.è®¡ç®æºç½ç»/160.TCP æ¥ææ¶åºç°å¤§é CLOSE_WAIT æ TIME_WAIT æä¹è§£å³ï¼.md","TCP æ¥ææ¶åºç°å¤§é CLOSE_WAIT æ TIME_WAIT æä¹è§£å³ï¼","/pages/15d37a/"],["10.è®¡ç®æºç½ç»/170.ç®è¿° TCP æ»å¨çªå£.md","ç®è¿° TCP æ»å¨çªå£","/pages/dae451/"],["10.è®¡ç®æºç½ç»/171. ç®è¿°TCPéä¼ æºå¶.md","ç®è¿°TCPéä¼ æºå¶","/pages/a219df/"],["10.è®¡ç®æºç½ç»/180.ç®è¿° JWT çåçåæ ¡éªæºå¶.md","ç®è¿° JWT çåçåæ ¡éªæºå¶","/pages/34d064/"],["10.è®¡ç®æºç½ç»/190.ä¸ºä»ä¹éè¦åºååï¼æä»ä¹åºååçæ¹å¼ï¼.md","ä¸ºä»ä¹éè¦åºååï¼æä»ä¹åºååçæ¹å¼ï¼","/pages/68d6c8/"],["10.è®¡ç®æºç½ç»/200.ç®è¿° iPv4 å iPv6 çåºå«.md","ç®è¿° iPv4 å iPv6 çåºå«","/pages/6a2e50/"],["10.è®¡ç®æºç½ç»/210.TCP ä¸­ SYN æ»å»æ¯ä»ä¹ï¼å¦ä½é²æ­¢ï¼.md","TCP ä¸­ SYN æ»å»æ¯ä»ä¹ï¼å¦ä½é²æ­¢ï¼","/pages/d0c6d3/"],["10.è®¡ç®æºç½ç»/220.ç®è¿° DDOS æ»å»åçï¼å¦ä½é²èå®ï¼.md","ç®è¿° DDOS æ»å»åçï¼å¦ä½é²èå®ï¼","/pages/056828/"],["10.è®¡ç®æºç½ç»/230.ä»ä¹æ¯ ARP åè®®ï¼ç®è¿°å¶ä½¿ç¨åºæ¯.md","ä»ä¹æ¯ ARP åè®®ï¼ç®è¿°å¶ä½¿ç¨åºæ¯","/pages/665162/"],["10.è®¡ç®æºç½ç»/240.ä»ä¹æ¯è·¨åï¼ä»ä¹æåµä¸ä¼åçè·¨åè¯·æ±ï¼.md","ä»ä¹æ¯è·¨åï¼ä»ä¹æåµä¸ä¼åçè·¨åè¯·æ±ï¼","/pages/eadd05/"],["10.è®¡ç®æºç½ç»/250.Cookie å Session çå³ç³»ååºå«æ¯ä»ä¹ï¼.md","Cookie å Session çå³ç³»ååºå«æ¯ä»ä¹ï¼","/pages/980cc7/"],["10.è®¡ç®æºç½ç»/260.ç®è¿° WebSocket æ¯å¦ä½è¿è¡ä¼ è¾ç.md","ç®è¿° WebSocket æ¯å¦ä½è¿è¡ä¼ è¾ç","/pages/172129/"],["10.è®¡ç®æºç½ç»/270.DNS æ¥è¯¢æå¡å¨çåºæ¬æµç¨æ¯ä»ä¹ï¼DNS å«ææ¯ä»ä¹ï¼.md","DNS æ¥è¯¢æå¡å¨çåºæ¬æµç¨æ¯ä»ä¹ï¼DNS å«ææ¯ä»ä¹ï¼","/pages/017113/"],["10.è®¡ç®æºç½ç»/280.RestFul æ¯ä»ä¹ï¼RestFul è¯·æ±ç URL æä»ä¹ç¹ç¹ï¼.md","RestFul æ¯ä»ä¹ï¼RestFul è¯·æ±ç URL æä»ä¹ç¹ç¹ï¼","/pages/c08bb6/"],["10.è®¡ç®æºç½ç»/290.ç®è¿° HTTP æ¥æå¤´é¨çç»æç»æ.md","ç®è¿° HTTP æ¥æå¤´é¨çç»æç»æ","/pages/dfb780/"]]},{title:"æä½ç³»ç»",collapsable:!0,children:[["20.æä½ç³»ç»/01.è¿ç¨é´æåªäºéä¿¡æ¹å¼ï¼.md","è¿ç¨é´æåªäºéä¿¡æ¹å¼ï¼","/pages/e5f2d7/"],["20.æä½ç³»ç»/010.ç®è¿°èªæéä¸äºæ¥éçä½¿ç¨åºæ¯.md","ç®è¿°èªæéä¸äºæ¥éçä½¿ç¨åºæ¯","/pages/9e6232/"],["20.æä½ç³»ç»/020.è¿ç¨åçº¿ç¨ä¹é´æä»ä¹åºå«ï¼.md","è¿ç¨åçº¿ç¨ä¹é´æä»ä¹åºå«ï¼","/pages/c2fd8a/"],["20.æä½ç³»ç»/030.ç®è¿°å ä¸ªå¸¸ç¨ç Linux å½ä»¤ä»¥åä»ä»¬çåè½.md","ç®è¿°å ä¸ªå¸¸ç¨ç Linux å½ä»¤ä»¥åä»ä»¬çåè½","/pages/198887/"],["20.æä½ç³»ç»/060.è¿ç¨æå¤å°ç§ç¶æï¼.md","è¿ç¨æå¤å°ç§ç¶æï¼","/pages/165ea8/"],["20.æä½ç³»ç»/070.ç®è¿° select, poll, epoll çä½¿ç¨åºæ¯ä»¥ååºå«.md","ç®è¿° select, poll, epoll çä½¿ç¨åºæ¯ä»¥ååºå«","/pages/68ea00/"],["20.æä½ç³»ç»/080.Linux ä¸å¦ä½ææ¥ CPU ä»¥å åå­å ç¨è¿å¤ï¼.md","Linux ä¸å¦ä½ææ¥ CPU ä»¥å åå­å ç¨è¿å¤ï¼","/pages/b043a6/"],["20.æä½ç³»ç»/090.è¿ç¨éä¿¡ä¸­çç®¡éå®ç°åçæ¯ä»ä¹ï¼.md","è¿ç¨éä¿¡ä¸­çç®¡éå®ç°åçæ¯ä»ä¹ï¼","/pages/8e880a/"],["20.æä½ç³»ç»/100.Linux ä¸å¦ä½æ¥ç CPU è·è½½ï¼æ­£å¨è¿è¡çè¿ç¨ï¼æä¸ªç«¯å£å¯¹åºçè¿ç¨ï¼.md","Linux ä¸å¦ä½æ¥ç CPU è·è½½ï¼æ­£å¨è¿è¡çè¿ç¨ï¼æä¸ªç«¯å£å¯¹åºçè¿ç¨ï¼","/pages/326cf9/"],["20.æä½ç³»ç»/110.å¦ä½è°è¯æå¡å¨åå­å ç¨è¿é«çé®é¢ï¼.md","å¦ä½è°è¯æå¡å¨åå­å ç¨è¿é«çé®é¢ï¼","/pages/3653a2/"],["20.æä½ç³»ç»/120.Linux å¦ä½æ¥çå®æ¶çæ»å¨æ¥å¿ï¼.md","Linux å¦ä½æ¥çå®æ¶çæ»å¨æ¥å¿ï¼","/pages/f6e4d2/"],["20.æä½ç³»ç»/130.ç®è¿° Linux é¶æ·è´çåç.md","ç®è¿° Linux é¶æ·è´çåç","/pages/b43547/"],["20.æä½ç³»ç»/140.ä¸ºä»ä¹è¿ç¨åæ¢æ¢ï¼çº¿ç¨åæ¢å¿«ï¼.md","ä¸ºä»ä¹è¿ç¨åæ¢æ¢ï¼çº¿ç¨åæ¢å¿«ï¼","/pages/773d64/"],["20.æä½ç³»ç»/150.ç®è¿°åå»ºè¿ç¨çæµç¨.md","ç®è¿°åå»ºè¿ç¨çæµç¨","/pages/c64d20/"],["20.æä½ç³»ç»/160.ç®è¿° Linux èæåå­çé¡µé¢ç½®æ¢ç®æ³.md","ç®è¿° Linux èæåå­çé¡µé¢ç½®æ¢ç®æ³","/pages/93b870/"],["20.æä½ç³»ç»/170.ç®è¿° Linux è¿ç¨è°åº¦çç®æ³.md","ç®è¿° Linux è¿ç¨è°åº¦çç®æ³","/pages/36fd29/"],["20.æä½ç³»ç»/180.ä»ä¹æ¶åä¼ç±ç¨æ·æé·å¥åæ ¸æï¼.md","ä»ä¹æ¶åä¼ç±ç¨æ·æé·å¥åæ ¸æï¼","/pages/b84950/"],["20.æä½ç³»ç»/190.Linux ä¸å¦ä½æ¥çç«¯å£è¢«åªä¸ªè¿ç¨å ç¨ï¼.md","Linux ä¸å¦ä½æ¥çç«¯å£è¢«åªä¸ªè¿ç¨å ç¨ï¼","/pages/4c2d8e/"],["20.æä½ç³»ç»/200.Linux ä¸­èæåå­åç©çåå­æä»ä¹åºå«ï¼æä»ä¹ä¼ç¹ï¼.md","Linux ä¸­èæåå­åç©çåå­æä»ä¹åºå«ï¼æä»ä¹ä¼ç¹ï¼","/pages/3bab8c/"],["20.æä½ç³»ç»/210.ç®è¿° traceroute å½ä»¤çåç.md","ç®è¿° traceroute å½ä»¤çåç","/pages/655f8f/"],["20.æä½ç³»ç»/220.ç®è¿°IOæ¨¡å.md","ç®è¿°IOæ¨¡å","/pages/782c23/"]]},{title:"æ°æ®ç»æ",collapsable:!0,children:[["30.æ°æ®ç»æ/01.æ°ç».md","æ°ç»","/pages/a25c3a/"],["30.æ°æ®ç»æ/02.é¾è¡¨.md","é¾è¡¨","/pages/f376bd/"],["30.æ°æ®ç»æ/10.æ .md","æ ","/pages/f27af6/"],["30.æ°æ®ç»æ/20.éå.md","éå","/pages/308e3b/"],["30.æ°æ®ç»æ/30.æ .md","æ ","/pages/c29bff/"],["30.æ°æ®ç»æ/40.å¾.md","å¾","/pages/83330c/"]]},{title:"ç®æ³",collapsable:!0,children:[["40.ç®æ³/01.éå½.md","éå½","/pages/92288a/"],["40.ç®æ³/10.æ¶é´å¤æåº¦.md","æ¶é´å¤æåº¦","/pages/fd9be6/"],["40.ç®æ³/20.æåº.md","æåº","/pages/3205b9/"],["40.ç®æ³/30.äºåæ¥æ¾.md","äºåæ¥æ¾","/pages/e53094/"],["40.ç®æ³/40.åæé.md","åæé","/pages/30153a/"]]},{title:"åæOfferé¢è§£",collapsable:!0,children:[["50.åæOfferé¢è§£/01.æ°ç»ä¸ç©éµ.md","æ°ç»ä¸ç©éµ","/pages/5fd35f/"],["50.åæOfferé¢è§£/05.æ éåå .md","æ éåå ","/pages/8d145e/"],["50.åæOfferé¢è§£/06.åæé.md","åæé","/pages/4b7917/"],["50.åæOfferé¢è§£/10.é¾è¡¨.md","é¾è¡¨","/pages/f55bff/"],["50.åæOfferé¢è§£/15.æ .md","æ ","/pages/873a10/"],["50.åæOfferé¢è§£/20.è´ªå¿.md","è´ªå¿","/pages/b54770/"],["50.åæOfferé¢è§£/25.åæ²».md","åæ²»","/pages/87a843/"],["50.åæOfferé¢è§£/30.æåº.md","æåº","/pages/d3dd7b/"],["50.åæOfferé¢è§£/35.å¨æè§å.md","å¨æè§å","/pages/6546a2/"],["50.åæOfferé¢è§£/40.æ°å­¦.md","æ°å­¦","/pages/9c176f/"]]}],"/03.æ°æ®åº/":[{title:"MYSQLç¸å³",collapsable:!0,children:[["01.MYSQLç¸å³/001.MySQLä¸­ InnoDB å MylSAM çåºå«æ¯ä»ä¹ï¼.md","MySQLä¸­ InnoDB å MylSAM çåºå«æ¯ä»ä¹ï¼","/pages/3a8659/"],["01.MYSQLç¸å³/006.èç°ç´¢å¼åéèç°ç´¢å¼æä»ä¹åºå«ï¼.md","èç°ç´¢å¼åéèç°ç´¢å¼æä»ä¹åºå«ï¼","/pages/a5adb0/"],["01.MYSQLç¸å³/007.ç®è¿° MySQL å¸¸è§ç´¢å¼ç±»åï¼ä»ç»ä¸ä¸è¦çç´¢å¼.md","ç®è¿° MySQL å¸¸è§ç´¢å¼ç±»åï¼ä»ç»ä¸ä¸è¦çç´¢å¼","/pages/17b014/"],["01.MYSQLç¸å³/010.ç®è¿°Mysqlçäºå¡éç¦»çº§å«.md","ç®è¿°Mysqlçäºå¡éç¦»çº§å«","/pages/9f2936/"],["01.MYSQLç¸å³/015.è¯´ä¸ä¸Mysqlé.md","è¯´ä¸ä¸Mysqlé","/pages/b17e88/"],["01.MYSQLç¸å³/020.MySQL ä¸ºä»ä¹ä½¿ç¨ B+ æ æ¥ä½ç´¢å¼ï¼å¯¹æ¯ B æ å®çä¼ç¹åç¼ºç¹æ¯ä»ä¹.md","MySQL ä¸ºä»ä¹ä½¿ç¨ B+ æ æ¥ä½ç´¢å¼ï¼å¯¹æ¯ B æ å®çä¼ç¹åç¼ºç¹æ¯ä»ä¹","/pages/bc5538/"],["01.MYSQLç¸å³/030.ç®è¿°ä¹è§éä»¥åæ²è§éçåºå«ä»¥åä½¿ç¨åºæ¯.md","ç®è¿°ä¹è§éä»¥åæ²è§éçåºå«ä»¥åä½¿ç¨åºæ¯","/pages/57561d/"],["01.MYSQLç¸å³/040.ç®è¿°èè¯»åå¹»è¯»çåçåºæ¯ï¼InnoDB æ¯å¦ä½è§£å³å¹»è¯»çï¼.md","ç®è¿°èè¯»åå¹»è¯»çåçåºæ¯ï¼InnoDB æ¯å¦ä½è§£å³å¹»è¯»çï¼","/pages/36672c/"],["01.MYSQLç¸å³/050.ç®è¿°ä»ä¹æ¯æå·¦å¹éåå.md","ç®è¿°ä»ä¹æ¯æå·¦å¹éåå","/pages/7a1f1e/"],["01.MYSQLç¸å³/060.MySQL èåç´¢å¼åºå±åçæ¯ä»ä¹ï¼.md","MySQL èåç´¢å¼åºå±åçæ¯ä»ä¹ï¼","/pages/52773a/"],["01.MYSQLç¸å³/070.äº§çæ­»éçå¿è¦æ¡ä»¶æåªäºï¼å¦ä½è§£å³æ­»éï¼.md","äº§çæ­»éçå¿è¦æ¡ä»¶æåªäºï¼å¦ä½è§£å³æ­»éï¼","/pages/f4cf50/"],["01.MYSQLç¸å³/080.ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³.md","ç®è¿°å¸¸è§çè´è½½åè¡¡ç®æ³","/pages/f2dbbe/"],["01.MYSQLç¸å³/090.ç®è¿° MySQL çä¸»ä»åæ­¥æºå¶ï¼å¦æåæ­¥å¤±è´¥ä¼æä¹æ ·ï¼.md","ç®è¿° MySQL çä¸»ä»åæ­¥æºå¶ï¼å¦æåæ­¥å¤±è´¥ä¼æä¹æ ·ï¼","/pages/1ac30e/"],["01.MYSQLç¸å³/100.å¦ä½è®¾è®¡æ°æ®åºåæµæ¹æ¡ï¼.md","å¦ä½è®¾è®¡æ°æ®åºåæµæ¹æ¡ï¼","/pages/a8eb47/"],["01.MYSQLç¸å³/110.ç®è¿°æ°æ®åºä¸­ä»ä¹æåµä¸è¿è¡ååºï¼ä»ä¹æåµä¸è¿è¡åè¡¨ï¼.md","ç®è¿°æ°æ®åºä¸­ä»ä¹æåµä¸è¿è¡ååºï¼ä»ä¹æåµä¸è¿è¡åè¡¨ï¼","/pages/ac0bb8/"],["01.MYSQLç¸å³/120.æ°æ®åºçè¯»ååç¦»çä½ç¨æ¯ä»ä¹ï¼å¦ä½å®ç°ï¼.md","æ°æ®åºçè¯»ååç¦»çä½ç¨æ¯ä»ä¹ï¼å¦ä½å®ç°ï¼","/pages/f62359/"],["01.MYSQLç¸å³/130.ç®è¿° undo log å redo log çä½ç¨.md","ç®è¿° undo log å redo log çä½ç¨","/pages/7bbbf6/"],["01.MYSQLç¸å³/140.ä»ä¹æ¯ SQL æ³¨å¥æ»å»ï¼å¦ä½é²æ­¢è¿ç±»æ»å»ï¼.md","ä»ä¹æ¯ SQL æ³¨å¥æ»å»ï¼å¦ä½é²æ­¢è¿ç±»æ»å»ï¼","/pages/b4338e/"],["01.MYSQLç¸å³/150.MySQL ä¸­ join ä¸ left join çåºå«æ¯ä»ä¹ï¼.md","MySQL ä¸­ join ä¸ left join çåºå«æ¯ä»ä¹ï¼","/pages/429100/"],["01.MYSQLç¸å³/160.ç®è¿° MySQL MVCC çå®ç°åç .md","ç®è¿° MySQL MVCC çå®ç°åç","/pages/1656d8/"],["01.MYSQLç¸å³/170.MySQL ä¸­ varchar å char çåºå«æ¯ä»ä¹ï¼.md","MySQL ä¸­ varchar å char çåºå«æ¯ä»ä¹ï¼","/pages/d97948/"],["01.MYSQLç¸å³/180.æ¨¡ç³æ¥è¯¢æ¯å¦ä½å®ç°çï¼.md","æ¨¡ç³æ¥è¯¢æ¯å¦ä½å®ç°çï¼","/pages/32696d/"]]},{title:"REDISç¸å³",collapsable:!0,children:[["02.REDISç¸å³/001.Redis æå ç§æ°æ®ç»æï¼Zset æ¯å¦ä½å®ç°çï¼.md","Redis æå ç§æ°æ®ç»æï¼Zset æ¯å¦ä½å®ç°çï¼","/pages/d70c1f/"],["02.REDISç¸å³/002.ä¸ºä»ä¹ Redis å¨åçº¿ç¨ä¸è½å¦æ­¤å¿«ï¼.md","ä¸ºä»ä¹ Redis å¨åçº¿ç¨ä¸è½å¦æ­¤å¿«ï¼","/pages/d66211/"],["02.REDISç¸å³/005.ç®è¿° Redis å­ç¬¦ä¸²çåºå±ç»æ.md","ç®è¿° Redis å­ç¬¦ä¸²çåºå±ç»æ","/pages/34aec2/"],["02.REDISç¸å³/010.Redisçç¼å­æ·æ±°ç­ç¥æåªäºï¼.md","Redisçç¼å­æ·æ±°ç­ç¥æåªäºï¼","/pages/9326cc/"],["02.REDISç¸å³/020.ç®è¿° Redis æä¹åä¸­ RDB ä»¥å AOF æ¹æ¡çä¼ç¼ºç¹.md","ç®è¿° Redis æä¹åä¸­ RDB ä»¥å AOF æ¹æ¡çä¼ç¼ºç¹","/pages/7e708d/"],["02.REDISç¸å³/030.Redis å¦ä½å®ç°åå¸å¼éï¼.md","Redis å¦ä½å®ç°åå¸å¼éï¼","/pages/656f46/"],["02.REDISç¸å³/040.ç®è¿° Redis éç¾¤éç½®ä»¥ååºç¡åç.md","ç®è¿° Redis éç¾¤éç½®ä»¥ååºç¡åç","/pages/338e30/"],["02.REDISç¸å³/050.ç®è¿° Redis ä¸­è·³è¡¨çåºç¨ä»¥åä¼ç¼ºç¹.md","ç®è¿° Redis ä¸­è·³è¡¨çåºç¨ä»¥åä¼ç¼ºç¹","/pages/a42826/"],["02.REDISç¸å³/060.Redis ä¸­ï¼sentinel å cluster çåºå«åéç¨åºæ¯æ¯ä»ä¹ï¼.md","Redis ä¸­ï¼sentinel å cluster çåºå«åéç¨åºæ¯æ¯ä»ä¹ï¼","/pages/e2e910/"],["02.REDISç¸å³/070.ç®è¿° Redis ä¸­å¦ä½é²æ­¢ç¼å­éªå´©åç¼å­å»ç©¿.md","ç®è¿° Redis ä¸­å¦ä½é²æ­¢ç¼å­éªå´©åç¼å­å»ç©¿","/pages/03cd25/"],["02.REDISç¸å³/080.ç®è¿° Redis ççº¿ç¨æ¨¡åä»¥ååºå±æ¶æè®¾è®¡.md","ç®è¿° Redis ççº¿ç¨æ¨¡åä»¥ååºå±æ¶æè®¾è®¡","/pages/9c28c9/"],["02.REDISç¸å³/100.ç®è¿° Redis çå¨åµæºå¶.md","ç®è¿° Redis çå¨åµæºå¶","/pages/cc8507/"],["02.REDISç¸å³/110.ç®è¿° Redis å¦ä½å¤çç­ç¹ key è®¿é®.md","ç®è¿° Redis å¦ä½å¤çç­ç¹ key è®¿é®","/pages/795c09/"],["02.REDISç¸å³/120.Redis åºååæåªäºæ¹å¼ï¼.md","Redis åºååæåªäºæ¹å¼ï¼","/pages/0d3c6b/"]]}],"/04.ä¸­é´ä»¶/":[{title:"Netty",collapsable:!0,children:[["10.Netty/001.ä½ çæåªäºIOæ¨¡åï¼.md","Netty","/pages/40f3c9/"],["10.Netty/010.TCPç²åæåé®é¢çè§£å³ä¹é.md","TCPç²åæåé®é¢çè§£å³ä¹é","/pages/3db019/"],["10.Netty/015.Nettyä¸­æåªäºè§£ç å¨ï¼.md","Nettyä¸­æåªäºè§£ç å¨ï¼","/pages/59089d/"],["10.Netty/020.ä¸ºä»ä¹Nettyè¦èªå·±åä¸ä¸ªByteBuf.md","ä¸ºä»ä¹Nettyè¦èªå·±åä¸ä¸ªByteBuf","/pages/ef17ee/"],["10.Netty/030.ChannelPipelineåChannelHandler.md","ChannelPipelineåChannelHandler","/pages/f851b6/"],["10.Netty/040.EventLoopåEventLoopGroup.md","EventLoopåEventLoopGroup","/pages/e7aa60/"],["10.Netty/050.Java NIOäºè§£åï¼.md","Java NIOäºè§£åï¼","/pages/bfdcc8/"]]},{title:"Kafka",collapsable:!0,children:[["40.Kafka/001.Kafkaåå«é£å é¨å.md","Kafka","/pages/561f34/"],["40.Kafka/010.çäº§è.md","çäº§è","/pages/fe7ca2/"],["40.Kafka/020.æ¶è´¹è.md","æ¶è´¹è","/pages/fed167/"],["40.Kafka/030.éç¾¤ä¸çKafkaè¦èèåªäºäºæ.md","éç¾¤ä¸çKafkaè¦èèåªäºäºæ","/pages/8d1d04/"],["40.Kafka/040.å¦ä½ä¿è¯Kafkaçå¯é æ§.md","å¦ä½ä¿è¯Kafkaçå¯é æ§","/pages/76a94c/"]]}],"/08.ç³»ç»è®¾è®¡/":[["001.ç³»ç»è®¾è®¡.md","ç³»ç»è®¾è®¡","/pages/01b9b2/"],["005.çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼.md","çµåç³»ç»ä¸­ï¼å¦ä½å®ç°ç§æåè½ï¼å¦ä½è§£å³ååçè¶åé®é¢ï¼","/pages/379160/"],["006.å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼.md","å¦ä½è§£å³ç¼å­ä¸æ°æ®åºä¸ä¸è´çé®é¢ï¼","/pages/ac945d/"],["010.ä»ä¹æ¯ CAP ï¼ä»ä¹æ¯æç»ä¸è´æ§ï¼ä»ä¹æ¯å¹ç­æä½ï¼.md","ä»ä¹æ¯ CAP ï¼ä»ä¹æ¯æç»ä¸è´æ§ï¼ä»ä¹æ¯å¹ç­æä½ï¼","/pages/20c647/"],["020.ç®è¿°ä»ä¹æ¯ä¸¤é¶æ®µæäº¤ï¼.md","ç®è¿°ä»ä¹æ¯ä¸¤é¶æ®µæäº¤ï¼","/pages/4eae5b/"],["021.è®¾è®¡ Tiny URL ç³»ç».md","è®¾è®¡ Tiny URL ç³»ç»","/pages/7c8753/"],["022.å¦ä½å®ç°å¯ä¸çåå¸å¼ ID.md","å¦ä½å®ç°å¯ä¸çåå¸å¼ ID","/pages/e5252b/"],["023.å¦ä½è®¾è®¡å®æ¶ä»»å¡ç³»ç».md","å¦ä½è®¾è®¡å®æ¶ä»»å¡ç³»ç»","/pages/d01475/"],["024.çµå-ååç³»ç»è®¾è®¡.md","çµå-ååç³»ç»è®¾è®¡","/pages/bb7e83/"]],"/10.éææ¯/":[["01.éææ¯é®é¢.md","éææ¯é®é¢","/pages/5e507a/"],["02.å³äºç©ºéåµçæè.md","å³äºç©ºéåµçæè","/pages/a734ce/"],["03.è½åå·®çäººæ¯ä»ä¹æ ·çï¼.md","è½åå·®çäººé½æ¯ä»ä¹æ ·çï¼","/pages/fe4651/"],["04.å¦ä½æåææ¯æ°´å¹³ï¼.md","å¦ä½æåææ¯æ°´å¹³ï¼","/pages/c7084e/"],["05.ä¸çº§è®©ä¸çº§å¹²æ´»ç4ä¸­æ¹å¼.md","ä¸çº§è®©ä¸çº§å¹²æ´»ç4ä¸­æ¹å¼","/pages/83653c/"],["06.æ­£ç¡®è®¤è¯Backup.md","æ­£ç¡®è®¤è¯Backup","/pages/ea7ab6/"],["07.å¯¹äºä¸å¯¹äºº vs å¯¹äººä¸å¯¹äº.md","å¯¹äºä¸å¯¹äºº vs å¯¹äººä¸å¯¹äº","/pages/74395b/"],["08.å³äºå¦ä½åOKR.md","å³äºå¦ä½åOKR","/pages/6ac68e/"]],"/15.å³äº/":[["01.å³äº.md","å³äº","/about"]]},author:{name:"YoungAnn",link:"https://github.com/AdmireAn/JavaDriver"},blogger:{avatar:"https://tva1.sinaimg.cn/large/e6c9d24egy1h2f580pnmdj213w0u0422.jpg",name:"YoungAnn",slogan:"è¥¿äºæJavaèå¸æºä¸æ è´åäºç¤¾ä¼ä¸»ä¹æ·»ç Java"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:854818303@qq.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/AdmireAn"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://music.163.com/#/playlist?id=755597173"}]},footer:{createYear:2022,copyrightInfo:'YoungAnnn | <a href="https://github.com/AdmireAn/JavaDriver" target="_blank">MIT License</a>'},htmlModules:{homeSidebarB:'<div style="padding: 0.95rem">\n    <p style="\n      color: var(--textColor);\n      opacity: 0.9;\n      font-size: 20px;\n      font-weight: bold;\n      margin: 0 0 8px 0;\n    ">é®é¢åé¦</p>\n    <img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2h0q9m8wzj20b40b4myw.jpg"  style="width:100%;" />\n    [<b>æ«ç åé¦</b>]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>\n    </p>\n    </div>'}},locales:{"/":{lang:"zh-CN",title:"JavaDriver",description:"Javaå­¦ä¹ ä¸æ»ç»",path:"/"}}},ss=(t(159),t(219),t(148),t(229)),cs=t(230),ds=(t(394),t(244),t(43));var us={computed:{$filterPosts:function(){return this.$site.pages.filter((function(n){var e=n.frontmatter,t=e.pageComponent,r=e.article,a=e.home;return!(t||!1===r||!0===a)}))},$sortPosts:function(){return(n=this.$filterPosts).sort((function(n,e){var t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(ds.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(ds.a)(n,e)})),n;var n},$sortPostsByDate:function(){return(n=this.$filterPosts).sort((function(n,e){return Object(ds.a)(n,e)})),n;var n},$groupPosts:function(){return function(n){for(var e={},t={},r=function(r,a){var i=n[r].frontmatter,o=i.categories,l=i.tags;"array"===Object(ds.n)(o)&&o.forEach((function(t){t&&(e[t]||(e[t]=[]),e[t].push(n[r]))})),"array"===Object(ds.n)(l)&&l.forEach((function(e){e&&(t[e]||(t[e]=[]),t[e].push(n[r]))}))},a=0,i=n.length;a<i;a++)r(a);return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags:function(){return function(n){var e=[],t=[];for(var r in n.categories)e.push({key:r,length:n.categories[r].length});for(var a in n.tags)t.push({key:a,length:n.tags[a].length});return{categories:e,tags:t}}(this.$groupPosts)}}};ja.component(ss.default),ja.component(cs.default);function ps(n){return n.toString().padStart(2,"0")}t(398);ja.component("Badge",(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,713))})),ja.component("CodeGroup",(function(){return Promise.resolve().then(t.bind(null,230))})),ja.component("CodeBlock",(function(){return Promise.resolve().then(t.bind(null,229))}));t(399);var hs,fs,ms=t(50),gs=(t(402),t(142),t(228)),vs=t.n(gs),bs=t(107);"valine"===(fs="gitalk")?t.e(213).then(t.t.bind(null,502,7)).then((function(n){return n.default})):"gitalk"===fs&&Promise.all([t.e(0),t.e(212)]).then(t.t.bind(null,503,7)).then((function(){return t.e(211).then(t.t.bind(null,504,7))})).then((function(n){return hs=n.default}));function ys(n,e){var t={};return Reflect.ownKeys(n).forEach((function(r){if("string"==typeof n[r])try{t[r]=vs.a.render(n[r],e)}catch(e){console.warn('Comment config option error at key named "'.concat(r,'"')),console.warn("More info: ".concat(e.message)),t[r]=n[r]}else t[r]=n[r]})),t}console.log('How to use "'.concat("gitalk",'" in ').concat(bs.name,"@v").concat(bs.version,":"),bs.homepage);var Es={render:function(n,e){var t=document.createElement("div");t.id=e,document.querySelector("main.page").appendChild(t),new hs(ys({clientID:"0da91d0586b0f2ec6868",clientSecret:"c8e2f12b870b53708500bd8c368b55c07f915034",repo:"blog-gitalk-comment",owner:"YoungAnnn",admin:["YoungAnnn"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"ãè¯è®ºã<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"é¡µé¢ï¼<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n})).render(e)},clear:function(n){var e=document.querySelector("#".concat(n));return e&&e.remove(),!0}},xs=null;function ks(n){return Es.clear("vuepress-plugin-comment")}function ws(n){return!1!==n.comment&&!1!==n.comments}function Ts(n){if(clearTimeout(xs),document.querySelector("main.page"))return Es.render(n,"vuepress-plugin-comment");xs=setTimeout((function(){return Ts(n)}),200)}var As={mounted:function(){var n=this;xs=setTimeout((function(){var e=Object(ms.a)({to:{},from:{}},n.$frontmatter);ks()&&ws(e)&&Ts(e)}),1e3),this.$router.afterEach((function(e,t){if(!e||!t||e.path!==t.path){var r=Object(ms.a)({to:e,from:t},n.$frontmatter);ks()&&ws(r)&&Ts(r)}}))}},Ss=Object(as.a)(As,(function(){var n=this.$createElement;return(this._self._c||n)("div")}),[],!1,null,null,null).exports,Bs=[function(n){n.Vue,n.options,n.router,n.siteData},function(n){var e=n.Vue,t=(n.options,n.router,n.siteData);t.pages.map((function(n){var e=n.frontmatter,r=e.date,a=e.author;"string"==typeof r&&"Z"===r.charAt(r.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return"".concat(n.getUTCFullYear(),"-").concat(ps(n.getUTCMonth()+1),"-").concat(ps(n.getUTCDate())," ").concat(ps(n.getUTCHours()),":").concat(ps(n.getUTCMinutes()),":").concat(ps(n.getUTCSeconds()))}(r)),a?n.author=a:t.themeConfig.author&&(n.author=t.themeConfig.author)})),e.mixin(us)},{},function(n){n.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{},function(n){n.router;"undefined"!=typeof window&&function(){var n=document.createElement("script"),e=window.location.protocol.split(":")[0];n.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}()},function(n){var e=n.router;"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?503f098e7e5b3a5b5d8c5fc2938af002";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),e.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))},function(n){n.Vue.component("Comment",Ss)}],Is=["Comment"];t(222);function Cs(n,e){return(Cs=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}t(223);function _s(n){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function Ps(n,e){if(e&&("object"===So(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function zs(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=_s(n);if(e){var a=_s(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Ps(this,t)}}var js=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Cs(n,e)}(t,n);var e=zs(t);function t(){return cl(this,t),e.apply(this,arguments)}return ul(t)}(function(){function n(){cl(this,n),this.store=new ja({data:{state:{}}})}return ul(n,[{key:"$get",value:function(n){return this.store.state[n]}},{key:"$set",value:function(n,e){ja.set(this.store.state,n,e)}},{key:"$emit",value:function(){var n;(n=this.store).$emit.apply(n,arguments)}},{key:"$on",value:function(){var n;(n=this.store).$on.apply(n,arguments)}}]),n}());Object.assign(js.prototype,{getPageAsyncComponent:Uo,getLayoutAsyncComponent:Jo,getAsyncComponent:Ho,getVueComponent:Ko});var Ls={install:function(n){var e=new js;n.$vuepress=e,n.prototype.$vuepress=e}};function Os(n){n.beforeEach((function(e,t,r){if(Ds(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){var a=e.path.replace(/\/$/,"")+".html";Ds(n,a)?r(a):r()}else r();else{var i=e.path+"/",o=e.path+".html";Ds(n,o)?r(o):Ds(n,i)?r(i):r()}}))}function Ds(n,e){var t=e.toLowerCase();return n.options.routes.some((function(n){return n.path.toLowerCase()===t}))}var Ms={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(n){var e=this.pageKey||this.$parent.$page.key;return Go("pageKey",e),ja.component(e)||ja.component(e,Uo(e)),ja.component(e)?n(e):n("")}},Rs={functional:!0,props:{slotKey:String,required:!0},render:function(n,e){var t=e.props,r=e.slots;return n("div",{class:["content__".concat(t.slotKey)]},r()[t.slotKey])}},Fs={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Ns=(t(407),t(408),Object(as.a)(Fs,(function(){var n=this.$createElement,e=this._self._c||n;return e("span",[e("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[e("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),e("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),e("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function qs(){return(qs=Object(r.a)(regeneratorRuntime.mark((function n(e){var t,r,a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:ls.routerBase||ls.base,Os(r=new To({base:t,mode:"history",fallback:!1,routes:os,scrollBehavior:function(n,e,t){return t||(n.hash?!ja.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})}})),a={},n.prev=4,n.next=7,Promise.all(Bs.filter((function(n){return"function"==typeof n})).map((function(n){return n({Vue:ja,options:a,router:r,siteData:ls,isServer:e})})));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0);case 12:return i=new ja(Object.assign(a,{router:r,render:function(n){return n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Is.map((function(e){return n(e)})))])}})),n.abrupt("return",{app:i,router:r});case 14:case"end":return n.stop()}}),n,null,[[4,9]])})))).apply(this,arguments)}ja.config.productionTip=!1,ja.use(To),ja.use(Ls),ja.mixin(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ja;Ao(e),t.$vuepress.$set("siteData",e);var r=n(t.$vuepress.$get("siteData")),a=new r,i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),o={};return Object.keys(i).reduce((function(n,e){return e.startsWith("$")&&(n[e]=i[e].get),n}),o),{computed:o}}((function(n){return function(){function e(){cl(this,e)}return ul(e,[{key:"setPage",value:function(n){this.__page=n}},{key:"$site",get:function(){return n}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var n,e,t=this.$site.locales,r=void 0===t?{}:t;for(var a in r)"/"===a?e=r[a]:0===this.$page.path.indexOf(a)&&(n=r[a]);return n||e||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var n=this.$page.frontmatter.canonicalUrl;return"string"==typeof n&&n}},{key:"$title",get:function(){var n=this.$page,e=this.$page.frontmatter.metaTitle;if("string"==typeof e)return e;var t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}},{key:"$description",get:function(){var n=function(n){if(n){var e=n.filter((function(n){return"description"===n.name}))[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()}),ls)),ja.component("Content",Ms),ja.component("ContentSlotsDistributor",Rs),ja.component("OutboundLink",Ns),ja.component("ClientOnly",{functional:!0,render:function(n,e){var t=e.parent,r=e.children;if(t._isMounted)return r;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),ja.component("Layout",Jo("Layout")),ja.component("NotFound",Jo("NotFound")),ja.prototype.$withBase=function(n){var e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.5",hash:"2d146fda"},function(n){return qs.apply(this,arguments)}(!1).then((function(n){var e=n.app;n.router.onReady((function(){e.$mount("#app")}))}))}]);