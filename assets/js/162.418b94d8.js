(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{667:function(l,t,v){"use strict";v.r(t);var e=v(21),a=Object(e.a)({},(function(){var l=this,t=l.$createElement,v=l._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[v("h2",{attrs:{id:"过期键"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#过期键"}},[l._v("#")]),l._v(" 过期键")]),l._v(" "),v("ul",[v("li",[v("p",[l._v("删除过期键的策略")]),l._v(" "),v("ul",[v("li",[l._v("定时：对内存友好，对cpu不友好")]),l._v(" "),v("li",[l._v("惰性：对内存不友好，对cpu友好")]),l._v(" "),v("li",[l._v("定期：是定时和惰性的折中方案。执行时长和频率是衡量一个定期策略好坏的标准。")])])]),l._v(" "),v("li",[v("p",[l._v("rdb再说生成和加载过程中过滤掉过期的键")])]),l._v(" "),v("li",[v("p",[l._v("aof模式下，过期的键只有真正del的时候才会记录在aof文件。重写aof文件不会包含过期的键。")])]),l._v(" "),v("li",[v("p",[l._v("主从复制：从服务器遇到过期键不会del，接收到主服务器的del命令才会删除。")])])]),l._v(" "),v("h2",{attrs:{id:"内存淘汰策略-内存不足时"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#内存淘汰策略-内存不足时"}},[l._v("#")]),l._v(" 内存淘汰策略（内存不足时)")]),l._v(" "),v("ul",[v("li",[l._v("noeviction：抛异常")]),l._v(" "),v("li",[l._v("allkeys-lru：在所有的key中按lru淘汰")]),l._v(" "),v("li",[l._v("allkeys-random:在所有的key中随机淘汰")]),l._v(" "),v("li",[l._v("volatile-lru：在设置了过期时间的key中lru淘汰")]),l._v(" "),v("li",[l._v("volatile-random:在设置了过期时间的key中随机淘汰")]),l._v(" "),v("li",[l._v("volatile-ttl：删除快过期的key")])])])}),[],!1,null,null,null);t.default=a.exports}}]);