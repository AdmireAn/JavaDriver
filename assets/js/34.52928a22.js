(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{536:function(v,t,a){"use strict";a.r(t);var e=a(21),_=Object(e.a)({},(function(){var v=this,t=v.$createElement,a=v._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("p",[a("code",[v._v("volatile")]),v._v(" 能保证 Java 中的内存可见性。 可见性的意思是：当线程A修改共享变量的值后，线程B能立刻读到这个修改后的值。"),a("br")]),v._v(" "),a("p",[a("code",[v._v("Volatile")]),v._v(" 不会引起线程上下文的切换和调度，如果使用的恰当，会比 "),a("code",[v._v("Synchronized")]),v._v(" 执行成本更低。")]),v._v(" "),a("h2",{attrs:{id:"java中的内存可见性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java中的内存可见性"}},[v._v("#")]),v._v(" Java中的内存可见性")]),v._v(" "),a("ul",[a("li",[a("p",[v._v("可见性：一个线程对共享变量值的修改，能够及时被其他线程看到。")])]),v._v(" "),a("li",[a("p",[v._v("共享变量：如果一个变量在多个线程的工作内存中都存在副本，那这个变量就是这几个线程的共享变量。")])]),v._v(" "),a("li",[a("p",[v._v("Java内存的规定：")])])]),v._v(" "),a("p",[v._v("-线程对共享变量的所有操作都必须在自己的工作内存中进行，不可直接从主内存中读写； -不同线程之间无法直接访问其他线程工作内存中的变量，线程间的变量值的传递需要通过主内存。")]),v._v(" "),a("p",[a("img",{attrs:{src:"https://tva1.sinaimg.cn/large/e6c9d24ely1h0y4fiko6yj20z50u040e.jpg",alt:""}})]),v._v(" "),a("h2",{attrs:{id:"volatile-的实现原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#volatile-的实现原理"}},[v._v("#")]),v._v(" "),a("code",[v._v("Volatile")]),v._v(" 的实现原理")]),v._v(" "),a("p",[v._v("如果对用 "),a("code",[v._v("Volatile")]),v._v(" 修饰的变量写操作，"),a("code",[v._v("JVM")]),v._v(" 会向处理器发出一条 "),a("code",[v._v("Lock")]),v._v(" 前缀的指令，"),a("code",[v._v("Lock")]),v._v(" 前缀的指令在多核处理器下会引发两件事情：")]),v._v(" "),a("ol",[a("li",[a("p",[v._v("将当前处理器缓存行的数据写会到系统内存")])]),v._v(" "),a("li",[a("p",[v._v("这个写会内存的操作会使其他缓存中的该内存地址的数据无效")])])])])}),[],!1,null,null,null);t.default=_.exports}}]);